Object.defineProperty(exports,`__esModule`,{value:!0});var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,n)=>{for(var r in n)t(e,r,{get:n[r],enumerable:!0})},c=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},l=(n,r,a)=>(a=n==null?{}:e(i(n)),c(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));const u=l(require(`obsidian`));require(`electron`);
/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function d(e){let t=Object.create(null);for(let n of e.split(`,`))t[n]=1;return e=>e in t}const f=process.env.NODE_ENV===`production`?{}:Object.freeze({}),p=process.env.NODE_ENV===`production`?[]:Object.freeze([]),m=()=>{},h=()=>!1,g=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),_=e=>e.startsWith(`onUpdate:`),v=Object.assign,y=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},b=Object.prototype.hasOwnProperty,x=(e,t)=>b.call(e,t),S=Array.isArray,C=e=>ae(e)===`[object Map]`,w=e=>ae(e)===`[object Set]`,ee=e=>ae(e)===`[object Date]`,te=e=>ae(e)===`[object RegExp]`,T=e=>typeof e==`function`,E=e=>typeof e==`string`,ne=e=>typeof e==`symbol`,D=e=>typeof e==`object`&&!!e,re=e=>(D(e)||T(e))&&T(e.then)&&T(e.catch),ie=Object.prototype.toString,ae=e=>ie.call(e),O=e=>ae(e).slice(8,-1),oe=e=>ae(e)===`[object Object]`,se=e=>E(e)&&e!==`NaN`&&e[0]!==`-`&&``+parseInt(e,10)===e,ce=d(`,key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted`),le=d(`bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo`),ue=e=>{let t=Object.create(null);return n=>{let r=t[n];return r||(t[n]=e(n))}},de=/-(\w)/g,k=ue(e=>e.replace(de,(e,t)=>t?t.toUpperCase():``)),fe=/\B([A-Z])/g,A=ue(e=>e.replace(fe,`-$1`).toLowerCase()),pe=ue(e=>e.charAt(0).toUpperCase()+e.slice(1)),me=ue(e=>{let t=e?`on${pe(e)}`:``;return t}),he=(e,t)=>!Object.is(e,t),ge=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},_e=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ve=e=>{let t=parseFloat(e);return isNaN(t)?e:t},ye=e=>{let t=E(e)?Number(e):NaN;return isNaN(t)?e:t};let be;const xe=()=>be||=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:typeof global<`u`?global:{},Se=`Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol`,Ce=d(Se);function we(e){if(S(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],i=E(r)?Oe(r):we(r);if(i)for(let e in i)t[e]=i[e]}return t}else if(E(e)||D(e))return e}const Te=/;(?![^(]*\))/g,Ee=/:([^]+)/,De=/\/\*[^]*?\*\//g;function Oe(e){let t={};return e.replace(De,``).split(Te).forEach(e=>{if(e){let n=e.split(Ee);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ke(e){if(!e)return``;if(E(e))return e;let t=``;for(let n in e){let r=e[n];if(E(r)||typeof r==`number`){let e=n.startsWith(`--`)?n:A(n);t+=`${e}:${r};`}}return t}function j(e){let t=``;if(E(e))t=e;else if(S(e))for(let n=0;n<e.length;n++){let r=j(e[n]);r&&(t+=r+` `)}else if(D(e))for(let n in e)e[n]&&(t+=n+` `);return t.trim()}function Ae(e){if(!e)return null;let{class:t,style:n}=e;return t&&!E(t)&&(e.class=j(t)),n&&(e.style=we(n)),e}const je=`html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot`,Me=`svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view`,Ne=`annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics`,Pe=d(je),Fe=d(Me),Ie=d(Ne),Le=`itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`,Re=d(Le),ze=d(Le+`,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`);function Be(e){return!!e||e===``}const Ve=d(`accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`),He=d(`xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`);function Ue(e){if(e==null)return!1;let t=typeof e;return t===`string`||t===`number`||t===`boolean`}const We=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function Ge(e,t){return e.replace(We,e=>t?e===`"`?`\\\\\\"`:`\\\\${e}`:`\\${e}`)}function Ke(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=qe(e[r],t[r]);return n}function qe(e,t){if(e===t)return!0;let n=ee(e),r=ee(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ne(e),r=ne(t),n||r)return e===t;if(n=S(e),r=S(t),n||r)return n&&r?Ke(e,t):!1;if(n=D(e),r=D(t),n||r){if(!n||!r)return!1;let i=Object.keys(e).length,a=Object.keys(t).length;if(i!==a)return!1;for(let n in e){let r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!qe(e[n],t[n]))return!1}}return String(e)===String(t)}function Je(e,t){return e.findIndex(e=>qe(e,t))}const Ye=e=>!!(e&&e.__v_isRef===!0),Xe=e=>E(e)?e:e==null?``:S(e)||D(e)&&(e.toString===ie||!T(e.toString))?Ye(e)?Xe(e.value):JSON.stringify(e,Ze,2):String(e),Ze=(e,t)=>Ye(t)?Ze(e,t.value):C(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[Qe(t,r)+` =>`]=n,e),{})}:w(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Qe(e))}:ne(t)?Qe(t):D(t)&&!S(t)&&!oe(t)?String(t):t,Qe=(e,t=``)=>{var n;return ne(e)?`Symbol(${(n=e.description)??t})`:e};function $e(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let et;var tt=class{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!e&&et&&(this.index=(et.scopes||=[]).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let t=et;try{return et=this,e()}finally{et=t}}else process.env.NODE_ENV!==`production`&&$e(`cannot run an inactive effect scope.`)}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}};function nt(e){return new tt(e)}function rt(){return et}function it(e,t=!1){et?et.cleanups.push(e):process.env.NODE_ENV!==`production`&&!t&&$e(`onScopeDispose() is called when there is no active effect scope to be associated with.`)}let M;const at=new WeakSet;var ot=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,at.has(this)&&(at.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ut(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Tt(this),pt(this);let e=M,t=xt;M=this,xt=!0;try{return this.fn()}finally{process.env.NODE_ENV!==`production`&&M!==this&&$e(`Active effect was not restored correctly - this is likely a Vue internal bug.`),mt(this),M=e,xt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_t(e);this.deps=this.depsTail=void 0,Tt(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?at.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ht(this)&&this.run()}get dirty(){return ht(this)}};let st=0,ct,lt;function ut(e,t=!1){if(e.flags|=8,t){e.next=lt,lt=e;return}e.next=ct,ct=e}function dt(){st++}function ft(){if(--st>0)return;if(lt){let e=lt;for(lt=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;ct;){let t=ct;for(ct=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(t){e||=t}t=n}}if(e)throw e}function pt(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function mt(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;r.version===-1?(r===n&&(n=e),_t(r),vt(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function ht(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(gt(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function gt(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Et)||(e.globalVersion=Et,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ht(e))))return;e.flags|=2;let t=e.dep,n=M,r=xt;M=e,xt=!0;try{pt(e);let n=e.fn(e._value);(t.version===0||he(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{M=n,xt=r,mt(e),e.flags&=-3}}function _t(e,t=!1){let{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),process.env.NODE_ENV!==`production`&&n.subsHead===e&&(n.subsHead=i),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)_t(e,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function vt(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function yt(e,t){e.effect instanceof ot&&(e=e.effect.fn);let n=new ot(e);t&&v(n,t);try{n.run()}catch(e){throw n.stop(),e}let r=n.run.bind(n);return r.effect=n,r}function bt(e){e.effect.stop()}let xt=!0;const St=[];function Ct(){St.push(xt),xt=!1}function wt(){let e=St.pop();xt=e===void 0?!0:e}function Tt(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=M;M=void 0;try{t()}finally{M=e}}}let Et=0;var Dt=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},Ot=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0,process.env.NODE_ENV!==`production`&&(this.subsHead=void 0)}track(e){if(!M||!xt||M===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==M)t=this.activeLink=new Dt(M,this),M.deps?(t.prevDep=M.depsTail,M.depsTail.nextDep=t,M.depsTail=t):M.deps=M.depsTail=t,kt(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=M.depsTail,t.nextDep=void 0,M.depsTail.nextDep=t,M.depsTail=t,M.deps===t&&(M.deps=e)}return process.env.NODE_ENV!==`production`&&M.onTrack&&M.onTrack(v({effect:M},e)),t}trigger(e){this.version++,Et++,this.notify(e)}notify(e){dt();try{if(process.env.NODE_ENV!==`production`)for(let t=this.subsHead;t;t=t.nextSub)t.sub.onTrigger&&!(t.sub.flags&8)&&t.sub.onTrigger(v({effect:t.sub},e));for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ft()}}};function kt(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)kt(e)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),process.env.NODE_ENV!==`production`&&e.dep.subsHead===void 0&&(e.dep.subsHead=e),e.dep.subs=e}}const At=new WeakMap,jt=Symbol(process.env.NODE_ENV===`production`?``:`Object iterate`),Mt=Symbol(process.env.NODE_ENV===`production`?``:`Map keys iterate`),Nt=Symbol(process.env.NODE_ENV===`production`?``:`Array iterate`);function Pt(e,t,n){if(xt&&M){let r=At.get(e);r||At.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ot),i.map=r,i.key=n),process.env.NODE_ENV===`production`?i.track():i.track({target:e,type:t,key:n})}}function Ft(e,t,n,r,i,a){let o=At.get(e);if(!o){Et++;return}let s=o=>{o&&(process.env.NODE_ENV===`production`?o.trigger():o.trigger({target:e,type:t,key:n,newValue:r,oldValue:i,oldTarget:a}))};if(dt(),t===`clear`)o.forEach(s);else{let i=S(e),a=i&&se(n);if(i&&n===`length`){let e=Number(r);o.forEach((t,n)=>{(n===`length`||n===Nt||!ne(n)&&n>=e)&&s(t)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),a&&s(o.get(Nt)),t){case`add`:i?a&&s(o.get(`length`)):(s(o.get(jt)),C(e)&&s(o.get(Mt)));break;case`delete`:i||(s(o.get(jt)),C(e)&&s(o.get(Mt)));break;case`set`:C(e)&&s(o.get(jt));break}}ft()}function It(e,t){let n=At.get(e);return n&&n.get(t)}function Lt(e){let t=N(e);return t===e?t:(Pt(t,`iterate`,Nt),Dn(e)?t:t.map(An))}function Rt(e){return Pt(e=N(e),`iterate`,Nt),e}const zt={__proto__:null,[Symbol.iterator](){return Bt(this,Symbol.iterator,An)},concat(...e){return Lt(this).concat(...e.map(e=>S(e)?Lt(e):e))},entries(){return Bt(this,`entries`,e=>(e[1]=An(e[1]),e))},every(e,t){return Ht(this,`every`,e,t,void 0,arguments)},filter(e,t){return Ht(this,`filter`,e,t,e=>e.map(An),arguments)},find(e,t){return Ht(this,`find`,e,t,An,arguments)},findIndex(e,t){return Ht(this,`findIndex`,e,t,void 0,arguments)},findLast(e,t){return Ht(this,`findLast`,e,t,An,arguments)},findLastIndex(e,t){return Ht(this,`findLastIndex`,e,t,void 0,arguments)},forEach(e,t){return Ht(this,`forEach`,e,t,void 0,arguments)},includes(...e){return Wt(this,`includes`,e)},indexOf(...e){return Wt(this,`indexOf`,e)},join(e){return Lt(this).join(e)},lastIndexOf(...e){return Wt(this,`lastIndexOf`,e)},map(e,t){return Ht(this,`map`,e,t,void 0,arguments)},pop(){return Gt(this,`pop`)},push(...e){return Gt(this,`push`,e)},reduce(e,...t){return Ut(this,`reduce`,e,t)},reduceRight(e,...t){return Ut(this,`reduceRight`,e,t)},shift(){return Gt(this,`shift`)},some(e,t){return Ht(this,`some`,e,t,void 0,arguments)},splice(...e){return Gt(this,`splice`,e)},toReversed(){return Lt(this).toReversed()},toSorted(e){return Lt(this).toSorted(e)},toSpliced(...e){return Lt(this).toSpliced(...e)},unshift(...e){return Gt(this,`unshift`,e)},values(){return Bt(this,`values`,An)}};function Bt(e,t,n){let r=Rt(e),i=r[t]();return r!==e&&!Dn(e)&&(i._next=i.next,i.next=()=>{let e=i._next();return e.value&&=n(e.value),e}),i}const Vt=Array.prototype;function Ht(e,t,n,r,i,a){let o=Rt(e),s=o!==e&&!Dn(e),c=o[t];if(c!==Vt[t]){let t=c.apply(e,a);return s?An(t):t}let l=n;o!==e&&(s?l=function(t,r){return n.call(this,An(t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));let u=c.call(o,l,r);return s&&i?i(u):u}function Ut(e,t,n,r){let i=Rt(e),a=n;return i!==e&&(Dn(e)?n.length>3&&(a=function(t,r,i){return n.call(this,t,r,i,e)}):a=function(t,r,i){return n.call(this,t,An(r),i,e)}),i[t](a,...r)}function Wt(e,t,n){let r=N(e);Pt(r,`iterate`,Nt);let i=r[t](...n);return(i===-1||i===!1)&&On(n[0])?(n[0]=N(n[0]),r[t](...n)):i}function Gt(e,t,n=[]){Ct(),dt();let r=N(e)[t].apply(e,n);return ft(),wt(),r}const Kt=d(`__proto__,__v_isRef,__isVue`),qt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!==`arguments`&&e!==`caller`).map(e=>Symbol[e]).filter(ne));function Jt(e){ne(e)||(e=String(e));let t=N(this);return Pt(t,`has`,e),t.hasOwnProperty(e)}var Yt=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t===`__v_skip`)return e.__v_skip;let r=this._isReadonly,i=this._isShallow;if(t===`__v_isReactive`)return!r;if(t===`__v_isReadonly`)return r;if(t===`__v_isShallow`)return i;if(t===`__v_raw`)return n===(r?i?_n:gn:i?hn:mn).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let a=S(e);if(!r){let e;if(a&&(e=zt[t]))return e;if(t===`hasOwnProperty`)return Jt}let o=Reflect.get(e,t,P(e)?e:n);return(ne(t)?qt.has(t):Kt(t))||(r||Pt(e,`get`,t),i)?o:P(o)?a&&se(t)?o:o.value:D(o)?r?Sn(o):bn(o):o}},Xt=class extends Yt{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];if(!this._isShallow){let t=En(i);if(!Dn(n)&&!En(n)&&(i=N(i),n=N(n)),!S(e)&&P(i)&&!P(n))return t?!1:(i.value=n,!0)}let a=S(e)&&se(t)?Number(t)<e.length:x(e,t),o=Reflect.set(e,t,n,P(e)?e:r);return e===N(r)&&(a?he(n,i)&&Ft(e,`set`,t,n,i):Ft(e,`add`,t,n)),o}deleteProperty(e,t){let n=x(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&Ft(e,`delete`,t,void 0,r),i}has(e,t){let n=Reflect.has(e,t);return(!ne(t)||!qt.has(t))&&Pt(e,`has`,t),n}ownKeys(e){return Pt(e,`iterate`,S(e)?`length`:jt),Reflect.ownKeys(e)}},Zt=class extends Yt{constructor(e=!1){super(!0,e)}set(e,t){return process.env.NODE_ENV!==`production`&&$e(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0}deleteProperty(e,t){return process.env.NODE_ENV!==`production`&&$e(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}};const Qt=new Xt,$t=new Zt,en=new Xt(!0),tn=new Zt(!0),nn=e=>e,rn=e=>Reflect.getPrototypeOf(e);function an(e,t,n){return function(...r){let i=this.__v_raw,a=N(i),o=C(a),s=e===`entries`||e===Symbol.iterator&&o,c=e===`keys`&&o,l=i[e](...r),u=n?nn:t?jn:An;return!t&&Pt(a,`iterate`,c?Mt:jt),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function on(e){return function(...t){if(process.env.NODE_ENV!==`production`){let n=t[0]?`on key "${t[0]}" `:``;$e(`${pe(e)} operation ${n}failed: target is readonly.`,N(this))}return e===`delete`?!1:e===`clear`?void 0:this}}function sn(e,t){let n={get(n){let r=this.__v_raw,i=N(r),a=N(n);e||(he(n,a)&&Pt(i,`get`,n),Pt(i,`get`,a));let{has:o}=rn(i),s=t?nn:e?jn:An;if(o.call(i,n))return s(r.get(n));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(n)},get size(){let t=this.__v_raw;return!e&&Pt(N(t),`iterate`,jt),Reflect.get(t,`size`,t)},has(t){let n=this.__v_raw,r=N(n),i=N(t);return e||(he(t,i)&&Pt(r,`has`,t),Pt(r,`has`,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){let i=this,a=i.__v_raw,o=N(a),s=t?nn:e?jn:An;return!e&&Pt(o,`iterate`,jt),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}};v(n,e?{add:on(`add`),set:on(`set`),delete:on(`delete`),clear:on(`clear`)}:{add(e){!t&&!Dn(e)&&!En(e)&&(e=N(e));let n=N(this),r=rn(n),i=r.has.call(n,e);return i||(n.add(e),Ft(n,`add`,e,e)),this},set(e,n){!t&&!Dn(n)&&!En(n)&&(n=N(n));let r=N(this),{has:i,get:a}=rn(r),o=i.call(r,e);o?process.env.NODE_ENV!==`production`&&pn(r,i,e):(e=N(e),o=i.call(r,e));let s=a.call(r,e);return r.set(e,n),o?he(n,s)&&Ft(r,`set`,e,n,s):Ft(r,`add`,e,n),this},delete(e){let t=N(this),{has:n,get:r}=rn(t),i=n.call(t,e);i?process.env.NODE_ENV!==`production`&&pn(t,n,e):(e=N(e),i=n.call(t,e));let a=r?r.call(t,e):void 0,o=t.delete(e);return i&&Ft(t,`delete`,e,void 0,a),o},clear(){let e=N(this),t=e.size!==0,n=process.env.NODE_ENV===`production`?void 0:C(e)?new Map(e):new Set(e),r=e.clear();return t&&Ft(e,`clear`,void 0,void 0,n),r}});let r=[`keys`,`values`,`entries`,Symbol.iterator];return r.forEach(r=>{n[r]=an(r,e,t)}),n}function cn(e,t){let n=sn(e,t);return(t,r,i)=>r===`__v_isReactive`?!e:r===`__v_isReadonly`?e:r===`__v_raw`?t:Reflect.get(x(n,r)&&r in t?n:t,r,i)}const ln={get:cn(!1,!1)},un={get:cn(!1,!0)},dn={get:cn(!0,!1)},fn={get:cn(!0,!0)};function pn(e,t,n){let r=N(n);if(r!==n&&t.call(e,r)){let t=O(e);$e(`Reactive ${t} contains both the raw and reactive versions of the same object${t===`Map`?` as keys`:``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const mn=new WeakMap,hn=new WeakMap,gn=new WeakMap,_n=new WeakMap;function vn(e){switch(e){case`Object`:case`Array`:return 1;case`Map`:case`Set`:case`WeakMap`:case`WeakSet`:return 2;default:return 0}}function yn(e){return e.__v_skip||!Object.isExtensible(e)?0:vn(O(e))}function bn(e){return En(e)?e:wn(e,!1,Qt,ln,mn)}function xn(e){return wn(e,!1,en,un,hn)}function Sn(e){return wn(e,!0,$t,dn,gn)}function Cn(e){return wn(e,!0,tn,fn,_n)}function wn(e,t,n,r,i){if(!D(e))return process.env.NODE_ENV!==`production`&&$e(`value cannot be made ${t?`readonly`:`reactive`}: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;let a=yn(e);if(a===0)return e;let o=i.get(e);if(o)return o;let s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function Tn(e){return En(e)?Tn(e.__v_raw):!!(e&&e.__v_isReactive)}function En(e){return!!(e&&e.__v_isReadonly)}function Dn(e){return!!(e&&e.__v_isShallow)}function On(e){return e?!!e.__v_raw:!1}function N(e){let t=e&&e.__v_raw;return t?N(t):e}function kn(e){return!x(e,`__v_skip`)&&Object.isExtensible(e)&&_e(e,`__v_skip`,!0),e}const An=e=>D(e)?bn(e):e,jn=e=>D(e)?Sn(e):e;function P(e){return e?e.__v_isRef===!0:!1}function F(e){return Nn(e,!1)}function Mn(e){return Nn(e,!0)}function Nn(e,t){return P(e)?e:new Pn(e,t)}var Pn=class{constructor(e,t){this.dep=new Ot,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:N(e),this._value=t?e:An(e),this.__v_isShallow=t}get value(){return process.env.NODE_ENV===`production`?this.dep.track():this.dep.track({target:this,type:`get`,key:`value`}),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||Dn(e)||En(e);e=n?e:N(e),he(e,t)&&(this._rawValue=e,this._value=n?e:An(e),process.env.NODE_ENV===`production`?this.dep.trigger():this.dep.trigger({target:this,type:`set`,key:`value`,newValue:e,oldValue:t}))}};function Fn(e){e.dep&&(process.env.NODE_ENV===`production`?e.dep.trigger():e.dep.trigger({target:e,type:`set`,key:`value`,newValue:e._value}))}function I(e){return P(e)?e.value:e}function In(e){return T(e)?e():I(e)}const Ln={get:(e,t,n)=>t===`__v_raw`?e:I(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let i=e[t];return P(i)&&!P(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Rn(e){return Tn(e)?e:new Proxy(e,Ln)}var zn=class{constructor(e){this.__v_isRef=!0,this._value=void 0;let t=this.dep=new Ot,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}};function Bn(e){return new zn(e)}function Vn(e){process.env.NODE_ENV!==`production`&&!On(e)&&$e(`toRefs() expects a reactive object but received a plain one.`);let t=S(e)?Array(e.length):{};for(let n in e)t[n]=Gn(e,n);return t}var Hn=class{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){let e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return It(N(this._object),this._key)}},Un=class{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}};function Wn(e,t,n){return P(e)?e:T(e)?new Un(e):D(e)&&arguments.length>1?Gn(e,t,n):F(e)}function Gn(e,t,n){let r=e[t];return P(r)?r:new Hn(e,t,n)}var Kn=class{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Ot(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Et-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&M!==this)return ut(this,!0),!0;process.env.NODE_ENV}get value(){let e=process.env.NODE_ENV===`production`?this.dep.track():this.dep.track({target:this,type:`get`,key:`value`});return gt(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter?this.setter(e):process.env.NODE_ENV!==`production`&&$e(`Write operation failed: computed value is readonly`)}};function qn(e,t,n=!1){let r,i;T(e)?r=e:(r=e.get,i=e.set);let a=new Kn(r,i,n);return process.env.NODE_ENV!==`production`&&t&&!n&&(a.onTrack=t.onTrack,a.onTrigger=t.onTrigger),a}const Jn={GET:`get`,HAS:`has`,ITERATE:`iterate`},Yn={SET:`set`,ADD:`add`,DELETE:`delete`,CLEAR:`clear`},Xn={},Zn=new WeakMap;let Qn;function $n(){return Qn}function er(e,t=!1,n=Qn){if(n){let t=Zn.get(n);t||Zn.set(n,t=[]),t.push(e)}else process.env.NODE_ENV!==`production`&&!t&&$e(`onWatcherCleanup() was called when there was no active watcher to associate with.`)}function tr(e,t,n=f){let{immediate:r,deep:i,once:a,scheduler:o,augmentJob:s,call:c}=n,l=e=>{(n.onWarn||$e)(`Invalid watch source: `,e,`A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`)},u=e=>i?e:Dn(e)||i===!1||i===0?nr(e,1):nr(e),d,p,h,g,_=!1,v=!1;if(P(e)?(p=()=>e.value,_=Dn(e)):Tn(e)?(p=()=>u(e),_=!0):S(e)?(v=!0,_=e.some(e=>Tn(e)||Dn(e)),p=()=>e.map(e=>{if(P(e))return e.value;if(Tn(e))return u(e);if(T(e))return c?c(e,2):e();process.env.NODE_ENV!==`production`&&l(e)})):T(e)?p=t?c?()=>c(e,2):e:()=>{if(h){Ct();try{h()}finally{wt()}}let t=Qn;Qn=d;try{return c?c(e,3,[g]):e(g)}finally{Qn=t}}:(p=m,process.env.NODE_ENV!==`production`&&l(e)),t&&i){let e=p,t=i===!0?1/0:i;p=()=>nr(e(),t)}let b=rt(),x=()=>{d.stop(),b&&b.active&&y(b.effects,d)};if(a&&t){let e=t;t=(...t)=>{e(...t),x()}}let C=v?Array(e.length).fill(Xn):Xn,w=e=>{if(!(!(d.flags&1)||!d.dirty&&!e))if(t){let e=d.run();if(i||_||(v?e.some((e,t)=>he(e,C[t])):he(e,C))){h&&h();let n=Qn;Qn=d;try{let n=[e,C===Xn?void 0:v&&C[0]===Xn?[]:C,g];C=e,c?c(t,3,n):t(...n)}finally{Qn=n}}}else d.run()};return s&&s(w),d=new ot(p),d.scheduler=o?()=>o(w,!1):w,g=e=>er(e,!1,d),h=d.onStop=()=>{let e=Zn.get(d);if(e){if(c)c(e,4);else for(let t of e)t();Zn.delete(d)}},process.env.NODE_ENV!==`production`&&(d.onTrack=n.onTrack,d.onTrigger=n.onTrigger),t?r?w(!0):C=d.run():o?o(w.bind(null,!0),!0):d.run(),x.pause=d.pause.bind(d),x.resume=d.resume.bind(d),x.stop=x,x}function nr(e,t=1/0,n){if(t<=0||!D(e)||e.__v_skip||(n||=new Set,n.has(e)))return e;if(n.add(e),t--,P(e))nr(e.value,t,n);else if(S(e))for(let r=0;r<e.length;r++)nr(e[r],t,n);else if(w(e)||C(e))e.forEach(e=>{nr(e,t,n)});else if(oe(e)){for(let r in e)nr(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&nr(e[r],t,n)}return e}const rr=[];function ir(e){rr.push(e)}function ar(){rr.pop()}let or=!1;function L(e,...t){if(or)return;or=!0,Ct();let n=rr.length?rr[rr.length-1].component:null,r=n&&n.appContext.config.warnHandler,i=sr();if(r)hr(r,n,11,[e+t.map(e=>{var t,n;return(n=(t=e.toString)?.call(e))??JSON.stringify(e)}).join(``),n&&n.proxy,i.map(({vnode:e})=>`at <${Pl(n,e.type)}>`).join(`
`),i]);else{let n=[`[Vue warn]: ${e}`,...t];i.length&&n.push(`
`,...cr(i)),console.warn(...n)}wt(),or=!1}function sr(){let e=rr[rr.length-1];if(!e)return[];let t=[];for(;e;){let n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});let r=e.component&&e.component.parent;e=r&&r.vnode}return t}function cr(e){let t=[];return e.forEach((e,n)=>{t.push(...n===0?[]:[`
`],...lr(e))}),t}function lr({vnode:e,recurseCount:t}){let n=t>0?`... (${t} recursive calls)`:``,r=e.component?e.component.parent==null:!1,i=` at <${Pl(e.component,e.type,r)}`,a=`>`+n;return e.props?[i,...ur(e.props),a]:[i+a]}function ur(e){let t=[],n=Object.keys(e);return n.slice(0,3).forEach(n=>{t.push(...dr(n,e[n]))}),n.length>3&&t.push(` ...`),t}function dr(e,t,n){return E(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t==`number`||typeof t==`boolean`||t==null?n?t:[`${e}=${t}`]:P(t)?(t=dr(e,N(t.value),!0),n?t:[`${e}=Ref<`,t,`>`]):T(t)?[`${e}=fn${t.name?`<${t.name}>`:``}`]:(t=N(t),n?t:[`${e}=`,t])}function fr(e,t){process.env.NODE_ENV!==`production`&&e!==void 0&&(typeof e==`number`?isNaN(e)&&L(`${t} is NaN - the duration expression might be incorrect.`):L(`${t} is not a valid number - got ${JSON.stringify(e)}.`))}const pr={SETUP_FUNCTION:0,0:`SETUP_FUNCTION`,RENDER_FUNCTION:1,1:`RENDER_FUNCTION`,NATIVE_EVENT_HANDLER:5,5:`NATIVE_EVENT_HANDLER`,COMPONENT_EVENT_HANDLER:6,6:`COMPONENT_EVENT_HANDLER`,VNODE_HOOK:7,7:`VNODE_HOOK`,DIRECTIVE_HOOK:8,8:`DIRECTIVE_HOOK`,TRANSITION_HOOK:9,9:`TRANSITION_HOOK`,APP_ERROR_HANDLER:10,10:`APP_ERROR_HANDLER`,APP_WARN_HANDLER:11,11:`APP_WARN_HANDLER`,FUNCTION_REF:12,12:`FUNCTION_REF`,ASYNC_COMPONENT_LOADER:13,13:`ASYNC_COMPONENT_LOADER`,SCHEDULER:14,14:`SCHEDULER`,COMPONENT_UPDATE:15,15:`COMPONENT_UPDATE`,APP_UNMOUNT_CLEANUP:16,16:`APP_UNMOUNT_CLEANUP`},mr={sp:`serverPrefetch hook`,bc:`beforeCreate hook`,c:`created hook`,bm:`beforeMount hook`,m:`mounted hook`,bu:`beforeUpdate hook`,u:`updated`,bum:`beforeUnmount hook`,um:`unmounted hook`,a:`activated hook`,da:`deactivated hook`,ec:`errorCaptured hook`,rtc:`renderTracked hook`,rtg:`renderTriggered hook`,0:`setup function`,1:`render function`,2:`watcher getter`,3:`watcher callback`,4:`watcher cleanup function`,5:`native event handler`,6:`component event handler`,7:`vnode hook`,8:`directive hook`,9:`transition hook`,10:`app errorHandler`,11:`app warnHandler`,12:`ref function`,13:`async component loader`,14:`scheduler flush`,15:`component update`,16:`app unmount cleanup function`};function hr(e,t,n,r){try{return r?e(...r):e()}catch(e){_r(e,t,n)}}function gr(e,t,n,r){if(T(e)){let i=hr(e,t,n,r);return i&&re(i)&&i.catch(e=>{_r(e,t,n)}),i}if(S(e)){let i=[];for(let a=0;a<e.length;a++)i.push(gr(e[a],t,n,r));return i}else process.env.NODE_ENV!==`production`&&L(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof e}`)}function _r(e,t,n,r=!0){let i=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||f;if(t){let r=t.parent,i=t.proxy,o=process.env.NODE_ENV===`production`?`https://vuejs.org/error-reference/#runtime-${n}`:mr[n];for(;r;){let t=r.ec;if(t){for(let n=0;n<t.length;n++)if(t[n](e,i,o)===!1)return}r=r.parent}if(a){Ct(),hr(a,null,10,[e,i,o]),wt();return}}vr(e,n,i,r,o)}function vr(e,t,n,r=!0,i=!1){if(process.env.NODE_ENV!==`production`){let i=mr[t];if(n&&ir(n),L(`Unhandled error${i?` during execution of ${i}`:``}`),n&&ar(),r)throw e;console.error(e)}else if(i)throw e;else console.error(e)}const yr=[];let br=-1;const xr=[];let Sr=null,Cr=0;const wr=Promise.resolve();let Tr=null;const Er=100;function Dr(e){let t=Tr||wr;return e?t.then(this?e.bind(this):e):t}function Or(e){let t=br+1,n=yr.length;for(;t<n;){let r=t+n>>>1,i=yr[r],a=Pr(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function kr(e){if(!(e.flags&1)){let t=Pr(e),n=yr[yr.length-1];!n||!(e.flags&2)&&t>=Pr(n)?yr.push(e):yr.splice(Or(t),0,e),e.flags|=1,Ar()}}function Ar(){Tr||=wr.then(Fr)}function jr(e){S(e)?xr.push(...e):Sr&&e.id===-1?Sr.splice(Cr+1,0,e):e.flags&1||(xr.push(e),e.flags|=1),Ar()}function Mr(e,t,n=br+1){for(process.env.NODE_ENV!==`production`&&(t||=new Map);n<yr.length;n++){let r=yr[n];if(r&&r.flags&2){if(e&&r.id!==e.uid||process.env.NODE_ENV!==`production`&&Ir(t,r))continue;yr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Nr(e){if(xr.length){let t=[...new Set(xr)].sort((e,t)=>Pr(e)-Pr(t));if(xr.length=0,Sr){Sr.push(...t);return}for(Sr=t,process.env.NODE_ENV!==`production`&&(e||=new Map),Cr=0;Cr<Sr.length;Cr++){let t=Sr[Cr];process.env.NODE_ENV!==`production`&&Ir(e,t)||(t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2)}Sr=null,Cr=0}}const Pr=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Fr(e){process.env.NODE_ENV!==`production`&&(e||=new Map);let t=process.env.NODE_ENV===`production`?m:t=>Ir(e,t);try{for(br=0;br<yr.length;br++){let e=yr[br];if(e&&!(e.flags&8)){if(process.env.NODE_ENV!==`production`&&t(e))continue;e.flags&4&&(e.flags&=-2),hr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2)}}}finally{for(;br<yr.length;br++){let e=yr[br];e&&(e.flags&=-2)}br=-1,yr.length=0,Nr(e),Tr=null,(yr.length||xr.length)&&Fr(e)}}function Ir(e,t){let n=e.get(t)||0;if(n>Er){let e=t.i,n=e&&Nl(e.type);return _r(`Maximum recursive updates exceeded${n?` in component <${n}>`:``}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return e.set(t,n+1),!1}let Lr=!1;const Rr=new Map;process.env.NODE_ENV!==`production`&&(xe().__VUE_HMR_RUNTIME__={createRecord:qr(Hr),rerender:qr(Wr),reload:qr(Gr)});const zr=new Map;function Br(e){let t=e.type.__hmrId,n=zr.get(t);n||(Hr(t,e.type),n=zr.get(t)),n.instances.add(e)}function Vr(e){zr.get(e.type.__hmrId).instances.delete(e)}function Hr(e,t){return zr.has(e)?!1:(zr.set(e,{initialDef:Ur(t),instances:new Set}),!0)}function Ur(e){return Fl(e)?e.__vccOpts:e}function Wr(e,t){let n=zr.get(e);n&&(n.initialDef.render=t,[...n.instances].forEach(e=>{t&&(e.render=t,Ur(e.type).render=t),e.renderCache=[],Lr=!0,e.update(),Lr=!1}))}function Gr(e,t){let n=zr.get(e);if(!n)return;t=Ur(t),Kr(n.initialDef,t);let r=[...n.instances];for(let e=0;e<r.length;e++){let i=r[e],a=Ur(i.type),o=Rr.get(a);o||(a!==n.initialDef&&Kr(a,t),Rr.set(a,o=new Set)),o.add(i),i.appContext.propsCache.delete(i.type),i.appContext.emitsCache.delete(i.type),i.appContext.optionsCache.delete(i.type),i.ceReload?(o.add(i),i.ceReload(t.styles),o.delete(i)):i.parent?kr(()=>{Lr=!0,i.parent.update(),Lr=!1,o.delete(i)}):i.appContext.reload?i.appContext.reload():typeof window<`u`?window.location.reload():console.warn(`[HMR] Root or manually mounted instance modified. Full reload required.`),i.root.ce&&i!==i.root&&i.root.ce._removeChildStyle(a)}jr(()=>{Rr.clear()})}function Kr(e,t){for(let n in v(e,t),e)n!==`__file`&&!(n in t)&&delete e[n]}function qr(e){return(t,n)=>{try{return e(t,n)}catch(e){console.error(e),console.warn(`[HMR] Something went wrong during Vue component hot-reload. Full reload required.`)}}}let Jr,Yr=[],Xr=!1;function Zr(e,...t){Jr?Jr.emit(e,...t):Xr||Yr.push({event:e,args:t})}function Qr(e,t){var n,r;if(Jr=e,Jr)Jr.enabled=!0,Yr.forEach(({event:e,args:t})=>Jr.emit(e,...t)),Yr=[];else if(typeof window<`u`&&window.HTMLElement&&!(r=(n=window.navigator)?.userAgent)?.includes(`jsdom`)){let e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push(e=>{Qr(e,t)}),setTimeout(()=>{Jr||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Xr=!0,Yr=[])},3e3)}else Xr=!0,Yr=[]}function $r(e,t){Zr(`app:init`,e,t,{Fragment:B,Text:Pc,Comment:V,Static:Fc})}function ei(e){Zr(`app:unmount`,e)}const ti=ai(`component:added`),ni=ai(`component:updated`),ri=ai(`component:removed`),ii=e=>{Jr&&typeof Jr.cleanupBuffer==`function`&&!Jr.cleanupBuffer(e)&&ri(e)};
/*! #__NO_SIDE_EFFECTS__ */
function ai(e){return t=>{Zr(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}const oi=ci(`perf:start`),si=ci(`perf:end`);function ci(e){return(t,n,r)=>{Zr(e,t.appContext.app,t.uid,t,n,r)}}function li(e,t,n){Zr(`component:emit`,e.appContext.app,e,t,n)}let ui=null,di=null;function fi(e){let t=ui;return ui=e,di=e&&e.type.__scopeId||null,t}function pi(e){di=e}function mi(){di=null}const hi=e=>R;function R(e,t=ui,n){if(!t||e._n)return e;let r=(...n)=>{r._d&&Bc(-1);let i=fi(t),a;try{a=e(...n)}finally{fi(i),r._d&&Bc(1)}return process.env.NODE_ENV!==`production`&&ni(t),a};return r._n=!0,r._c=!0,r._d=!0,r}function gi(e){le(e)&&L(`Do not use built-in directive ids as custom directive id: `+e)}function _i(e,t){if(ui===null)return process.env.NODE_ENV!==`production`&&L(`withDirectives can only be used inside render functions.`),e;let n=Al(ui),r=e.dirs||=[];for(let e=0;e<t.length;e++){let[i,a,o,s=f]=t[e];i&&(T(i)&&(i={mounted:i,updated:i}),i.deep&&nr(a),r.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:s}))}return e}function vi(e,t,n,r){let i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){let s=i[o];a&&(s.oldValue=a[o].value);let c=s.dir[r];c&&(Ct(),gr(c,n,8,[e.el,s,e,t]),wt())}}const yi=Symbol(`_vte`),bi=e=>e.__isTeleport,xi=e=>e&&(e.disabled||e.disabled===``),Si=e=>e&&(e.defer||e.defer===``),Ci=e=>typeof SVGElement<`u`&&e instanceof SVGElement,wi=e=>typeof MathMLElement==`function`&&e instanceof MathMLElement,Ti=(e,t)=>{let n=e&&e.to;if(E(n))if(t){let r=t(n);return process.env.NODE_ENV!==`production`&&!r&&!xi(e)&&L(`Failed to locate Teleport target with selector "${n}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),r}else return process.env.NODE_ENV!==`production`&&L(`Current renderer does not support string target for Teleports. (missing querySelector renderer option)`),null;else return process.env.NODE_ENV!==`production`&&!n&&!xi(e)&&L(`Invalid Teleport target: ${n}`),n},Ei={name:`Teleport`,__isTeleport:!0,process(e,t,n,r,i,a,o,s,c,l){let{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:h,createComment:g}}=l,_=xi(t.props),{shapeFlag:v,children:y,dynamicChildren:b}=t;if(process.env.NODE_ENV!==`production`&&Lr&&(c=!1,b=null),e==null){let e=t.el=process.env.NODE_ENV===`production`?h(``):g(`teleport start`),l=t.anchor=process.env.NODE_ENV===`production`?h(``):g(`teleport end`);p(e,n,r),p(l,n,r);let d=(e,t)=>{v&16&&(i&&i.isCE&&(i.ce._teleportTarget=e),u(y,e,t,i,a,o,s,c))},f=()=>{let e=t.target=Ti(t.props,m),n=ji(e,t,h,p);e?(o!==`svg`&&Ci(e)?o=`svg`:o!==`mathml`&&wi(e)&&(o=`mathml`),_||(d(e,n),Ai(t,!1))):process.env.NODE_ENV!==`production`&&!_&&L(`Invalid Teleport target on mount:`,e,`(${typeof e})`)};_&&(d(n,l),Ai(t,!0)),Si(t.props)?(t.el.__isMounted=!1,Ls(()=>{f(),delete t.el.__isMounted},a)):f()}else{if(Si(t.props)&&e.el.__isMounted===!1){Ls(()=>{Ei.process(e,t,n,r,i,a,o,s,c,l)},a);return}t.el=e.el,t.targetStart=e.targetStart;let u=t.anchor=e.anchor,p=t.target=e.target,h=t.targetAnchor=e.targetAnchor,g=xi(e.props),v=g?n:p,y=g?u:h;if(o===`svg`||Ci(p)?o=`svg`:(o===`mathml`||wi(p))&&(o=`mathml`),b?(f(e.dynamicChildren,b,v,i,a,o,s),Ws(e,t,process.env.NODE_ENV===`production`)):c||d(e,t,v,y,i,a,o,s,!1),_)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Di(t,n,u,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){let e=t.target=Ti(t.props,m);e?Di(t,e,null,l,0):process.env.NODE_ENV!==`production`&&L(`Invalid Teleport target on update:`,p,`(${typeof p})`)}else g&&Di(t,p,h,l,1);Ai(t,_)}},remove(e,t,n,{um:r,o:{remove:i}},a){let{shapeFlag:o,children:s,anchor:c,targetStart:l,targetAnchor:u,target:d,props:f}=e;if(d&&(i(l),i(u)),a&&i(c),o&16){let e=a||!xi(f);for(let i=0;i<s.length;i++){let a=s[i];r(a,t,n,e,!!a.dynamicChildren)}}},move:Di,hydrate:Oi};function Di(e,t,n,{o:{insert:r},m:i},a=2){a===0&&r(e.targetAnchor,t,n);let{el:o,anchor:s,shapeFlag:c,children:l,props:u}=e,d=a===2;if(d&&r(o,t,n),(!d||xi(u))&&c&16)for(let e=0;e<l.length;e++)i(l[e],t,n,2);d&&r(s,t,n)}function Oi(e,t,n,r,i,a,{o:{nextSibling:o,parentNode:s,querySelector:c,insert:l,createText:u}},d){let f=t.target=Ti(t.props,c);if(f){let c=xi(t.props),p=f._lpa||f.firstChild;if(t.shapeFlag&16)if(c)t.anchor=d(o(e),t,s(e),n,r,i,a),t.targetStart=p,t.targetAnchor=p&&o(p);else{t.anchor=o(e);let s=p;for(;s;){if(s&&s.nodeType===8){if(s.data===`teleport start anchor`)t.targetStart=s;else if(s.data===`teleport anchor`){t.targetAnchor=s,f._lpa=t.targetAnchor&&o(t.targetAnchor);break}}s=o(s)}t.targetAnchor||ji(f,t,u,l),d(p&&o(p),t,f,n,r,i,a)}Ai(t,c)}return t.anchor&&o(t.anchor)}const ki=Ei;function Ai(e,t){let n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)r.nodeType===1&&r.setAttribute(`data-v-owner`,n.uid),r=r.nextSibling;n.ut()}}function ji(e,t,n,r){let i=t.targetStart=n(``),a=t.targetAnchor=n(``);return i[yi]=a,e&&(r(i,e),r(a,e)),a}const Mi=Symbol(`_leaveCb`),Ni=Symbol(`_enterCb`);function Pi(){let e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ra(()=>{e.isMounted=!0}),Va(()=>{e.isUnmounting=!0}),e}const Fi=[Function,Array],Ii={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fi,onEnter:Fi,onAfterEnter:Fi,onEnterCancelled:Fi,onBeforeLeave:Fi,onLeave:Fi,onAfterLeave:Fi,onLeaveCancelled:Fi,onBeforeAppear:Fi,onAppear:Fi,onAfterAppear:Fi,onAppearCancelled:Fi},Li=e=>{let t=e.subTree;return t.component?Li(t.component):t},Ri={name:`BaseTransition`,props:Ii,setup(e,{slots:t}){let n=ul(),r=Pi();return()=>{let i=t.default&&Ki(t.default(),!0);if(!i||!i.length)return;let a=zi(i),o=N(e),{mode:s}=o;if(process.env.NODE_ENV!==`production`&&s&&s!==`in-out`&&s!==`out-in`&&s!==`default`&&L(`invalid <transition> mode: ${s}`),r.isLeaving)return Ui(a);let c=Wi(a);if(!c)return Ui(a);let l=Hi(c,o,r,n,e=>l=e);c.type!==V&&Gi(c,l);let u=n.subTree&&Wi(n.subTree);if(u&&u.type!==V&&!Uc(c,u)&&Li(n).type!==V){let e=Hi(u,o,r,n);if(Gi(u,e),s===`out-in`&&c.type!==V)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete e.afterLeave,u=void 0},Ui(a);s===`in-out`&&c.type!==V?e.delayLeave=(e,t,n)=>{let i=Vi(r,u);i[String(u.key)]=u,e[Mi]=()=>{t(),e[Mi]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{n(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&=void 0;return a}}};function zi(e){let t=e[0];if(e.length>1){let n=!1;for(let r of e)if(r.type!==V){if(process.env.NODE_ENV!==`production`&&n){L(`<transition> can only be used on a single element or component. Use <transition-group> for lists.`);break}if(t=r,n=!0,process.env.NODE_ENV===`production`)break}}return t}const Bi=Ri;function Vi(e,t){let{leavingVNodes:n}=e,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Hi(e,t,n,r,i){let{appear:a,mode:o,persisted:s=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:h,onBeforeAppear:g,onAppear:_,onAfterAppear:v,onAppearCancelled:y}=t,b=String(e.key),x=Vi(n,e),C=(e,t)=>{e&&gr(e,r,9,t)},w=(e,t)=>{let n=t[1];C(e,t),S(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},ee={mode:o,persisted:s,beforeEnter(t){let r=c;if(!n.isMounted)if(a)r=g||c;else return;t[Mi]&&t[Mi](!0);let i=x[b];i&&Uc(e,i)&&i.el[Mi]&&i.el[Mi](),C(r,[t])},enter(e){let t=l,r=u,i=d;if(!n.isMounted)if(a)t=_||l,r=v||u,i=y||d;else return;let o=!1,s=e[Ni]=t=>{o||(o=!0,C(t?i:r,[e]),ee.delayedLeave&&ee.delayedLeave(),e[Ni]=void 0)};t?w(t,[e,s]):s()},leave(t,r){let i=String(e.key);if(t[Ni]&&t[Ni](!0),n.isUnmounting)return r();C(f,[t]);let a=!1,o=t[Mi]=n=>{a||(a=!0,r(),C(n?h:m,[t]),t[Mi]=void 0,x[i]===e&&delete x[i])};x[i]=e,p?w(p,[t,o]):o()},clone(e){let a=Hi(e,t,n,r,i);return i&&i(a),a}};return ee}function Ui(e){if(Ta(e))return e=Zc(e),e.children=null,e}function Wi(e){if(!Ta(e))return bi(e.type)&&e.children?zi(e.children):e;if(e.component)return e.component.subTree;let{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&T(n.default))return n.default()}}function Gi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Gi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ki(e,t=!1,n){let r=[],i=0;for(let a=0;a<e.length;a++){let o=e[a],s=n==null?o.key:String(n)+String(o.key==null?a:o.key);o.type===B?(o.patchFlag&128&&i++,r=r.concat(Ki(o.children,t,s))):(t||o.type!==V)&&r.push(s==null?o:Zc(o,{key:s}))}if(i>1)for(let e=0;e<r.length;e++)r[e].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */
function z(e,t){return T(e)?(()=>v({name:e.name},t,{setup:e}))():e}function qi(){let e=ul();return e?(e.appContext.config.idPrefix||`v`)+`-`+e.ids[0]+ e.ids[1]++:(process.env.NODE_ENV!==`production`&&L(`useId() is called when there is no active component instance to be associated with.`),``)}function Ji(e){e.ids=[e.ids[0]+ e.ids[2]+++`-`,0,0]}const Yi=new WeakSet;function Xi(e){let t=ul(),n=Mn(null);if(t){let r=t.refs===f?t.refs={}:t.refs,i;process.env.NODE_ENV!==`production`&&(i=Object.getOwnPropertyDescriptor(r,e))&&!i.configurable?L(`useTemplateRef('${e}') already exists.`):Object.defineProperty(r,e,{enumerable:!0,get:()=>n.value,set:e=>n.value=e})}else process.env.NODE_ENV!==`production`&&L(`useTemplateRef() is called when there is no active component instance to be associated with.`);let r=process.env.NODE_ENV===`production`?n:Sn(n);return process.env.NODE_ENV!==`production`&&Yi.add(r),r}function Zi(e,t,n,r,i=!1){if(S(e)){e.forEach((e,a)=>Zi(e,t&&(S(t)?t[a]:t),n,r,i));return}if(Sa(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Zi(e,t,n,r.component.subTree);return}let a=r.shapeFlag&4?Al(r.component):r.el,o=i?null:a,{i:s,r:c}=e;if(process.env.NODE_ENV!==`production`&&!s){L(`Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.`);return}let l=t&&t.r,u=s.refs===f?s.refs={}:s.refs,d=s.setupState,p=N(d),m=d===f?()=>!1:e=>process.env.NODE_ENV!==`production`&&(x(p,e)&&!P(p[e])&&L(`Template ref "${e}" used on a non-ref value. It will not work in the production build.`),Yi.has(p[e]))?!1:x(p,e);if(l!=null&&l!==c&&(E(l)?(u[l]=null,m(l)&&(d[l]=null)):P(l)&&(l.value=null)),T(c))hr(c,s,12,[o,u]);else{let t=E(c),r=P(c);if(t||r){let s=()=>{if(e.f){let n=t?m(c)?d[c]:u[c]:c.value;i?S(n)&&y(n,a):S(n)?n.includes(a)||n.push(a):t?(u[c]=[a],m(c)&&(d[c]=u[c])):(c.value=[a],e.k&&(u[e.k]=c.value))}else t?(u[c]=o,m(c)&&(d[c]=o)):r?(c.value=o,e.k&&(u[e.k]=o)):process.env.NODE_ENV!==`production`&&L(`Invalid template ref type:`,c,`(${typeof c})`)};o?(s.id=-1,Ls(s,n)):s()}else process.env.NODE_ENV!==`production`&&L(`Invalid template ref type:`,c,`(${typeof c})`)}}let Qi=!1;const $i=()=>{Qi||(console.error(`Hydration completed but contains mismatches.`),Qi=!0)},ea=e=>e.namespaceURI.includes(`svg`)&&e.tagName!==`foreignObject`,ta=e=>e.namespaceURI.includes(`MathML`),na=e=>{if(e.nodeType===1){if(ea(e))return`svg`;if(ta(e))return`mathml`}},ra=e=>e.nodeType===8;function ia(e){let{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:a,parentNode:o,remove:s,insert:c,createComment:l}}=e,u=(e,t)=>{if(!t.hasChildNodes()){process.env.NODE_ENV!==`production`&&L(`Attempting to hydrate existing markup but container is empty. Performing full mount instead.`),n(null,e,t),Nr(),t._vnode=e;return}d(t.firstChild,e,null,null,null),Nr(),t._vnode=e},d=(n,r,s,l,u,g=!1)=>{g||=!!r.dynamicChildren;let b=ra(n)&&n.data===`[`,x=()=>h(n,r,s,l,u,b),{type:S,ref:C,shapeFlag:w,patchFlag:ee}=r,te=n.nodeType;r.el=n,process.env.NODE_ENV!==`production`&&(_e(n,`__vnode`,r,!0),_e(n,`__vueParentComponent`,s,!0)),ee===-2&&(g=!1,r.dynamicChildren=null);let T=null;switch(S){case Pc:te===3?(n.data!==r.children&&(process.env.NODE_ENV!==`production`&&L(`Hydration text mismatch in`,n.parentNode,`
  - rendered on server: ${JSON.stringify(n.data)}
  - expected on client: ${JSON.stringify(r.children)}`),$i(),n.data=r.children),T=a(n)):r.children===``?(c(r.el=i(``),o(n),n),T=n):T=x();break;case V:y(n)?(T=a(n),v(r.el=n.content.firstChild,n,s)):T=te!==8||b?x():a(n);break;case Fc:if(b&&(n=a(n),te=n.nodeType),te===1||te===3){T=n;let e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=T.nodeType===1?T.outerHTML:T.data),t===r.staticCount-1&&(r.anchor=T),T=a(T);return b?a(T):T}else x();break;case B:T=b?m(n,r,s,l,u,g):x();break;default:if(w&1)T=(te!==1||r.type.toLowerCase()!==n.tagName.toLowerCase())&&!y(n)?x():f(n,r,s,l,u,g);else if(w&6){r.slotScopeIds=u;let e=o(n);if(T=b?_(n):ra(n)&&n.data===`teleport start`?_(n,n.data,`teleport end`):a(n),t(r,e,null,s,l,na(e),g),Sa(r)&&!r.type.__asyncResolved){let t;b?(t=K(B),t.anchor=T?T.previousSibling:e.lastChild):t=n.nodeType===3?q(``):K(`div`),t.el=n,r.component.subTree=t}}else w&64?T=te===8?r.type.hydrate(n,r,s,l,u,g,e,p):x():w&128?T=r.type.hydrate(n,r,s,l,na(o(n)),u,g,e,d):process.env.NODE_ENV!==`production`&&L(`Invalid HostVNode type:`,S,`(${typeof S})`)}return C!=null&&Zi(C,null,l,r),T},f=(e,t,n,i,a,o)=>{o||=!!t.dynamicChildren;let{type:c,props:l,patchFlag:u,shapeFlag:d,dirs:f,transition:m}=t,h=c===`input`||c===`option`;if(process.env.NODE_ENV!==`production`||h||u!==-1){f&&vi(t,null,n,`created`);let c=!1;if(y(e)){c=Us(null,m)&&n&&n.vnode.props&&n.vnode.props.appear;let r=e.content.firstChild;if(c){let e=r.getAttribute(`class`);e&&(r.$cls=e),m.beforeEnter(r)}v(r,e,n),t.el=e=r}if(d&16&&!(l&&(l.innerHTML||l.textContent))){let r=p(e.firstChild,t,e,n,i,a,o),c=!1;for(;r;){pa(e,1)||(process.env.NODE_ENV!==`production`&&!c&&(L(`Hydration children mismatch on`,e,`
Server rendered element contains more child nodes than client vdom.`),c=!0),$i());let t=r;r=r.nextSibling,s(t)}}else if(d&8){let n=t.children;n[0]===`
`&&(e.tagName===`PRE`||e.tagName===`TEXTAREA`)&&(n=n.slice(1)),e.textContent!==n&&(pa(e,0)||(process.env.NODE_ENV!==`production`&&L(`Hydration text content mismatch on`,e,`
  - rendered on server: ${e.textContent}
  - expected on client: ${t.children}`),$i()),e.textContent=t.children)}if(l){if(process.env.NODE_ENV!==`production`||h||!o||u&48){let i=e.tagName.includes(`-`);for(let a in l)process.env.NODE_ENV!==`production`&&!(f&&f.some(e=>e.dir.created))&&aa(e,a,l[a],t,n)&&$i(),(h&&(a.endsWith(`value`)||a===`indeterminate`)||g(a)&&!ce(a)||a[0]===`.`||i)&&r(e,a,null,l[a],void 0,n)}else if(l.onClick)r(e,`onClick`,null,l.onClick,void 0,n);else if(u&4&&Tn(l.style))for(let e in l.style)l.style[e]}let _;(_=l&&l.onVnodeBeforeMount)&&al(_,n,t),f&&vi(t,null,n,`beforeMount`),((_=l&&l.onVnodeMounted)||f||c)&&jc(()=>{_&&al(_,n,t),c&&m.enter(e),f&&vi(t,null,n,`mounted`)},i)}return e.nextSibling},p=(e,t,r,o,s,l,u)=>{u||=!!t.dynamicChildren;let f=t.children,p=f.length,m=!1;for(let t=0;t<p;t++){let h=u?f[t]:f[t]=tl(f[t]),g=h.type===Pc;e?(g&&!u&&t+1<p&&tl(f[t+1]).type===Pc&&(c(i(e.data.slice(h.children.length)),r,a(e)),e.data=h.children),e=d(e,h,o,s,l,u)):g&&!h.children?c(h.el=i(``),r):(pa(r,1)||(process.env.NODE_ENV!==`production`&&!m&&(L(`Hydration children mismatch on`,r,`
Server rendered element contains fewer child nodes than client vdom.`),m=!0),$i()),n(null,h,r,null,o,s,na(r),l))}return e},m=(e,t,n,r,i,s)=>{let{slotScopeIds:u}=t;u&&(i=i?i.concat(u):u);let d=o(e),f=p(a(e),t,d,n,r,i,s);return f&&ra(f)&&f.data===`]`?a(t.anchor=f):($i(),c(t.anchor=l(`]`),d,f),f)},h=(e,t,r,i,c,l)=>{if(pa(e.parentElement,1)||(process.env.NODE_ENV!==`production`&&L(`Hydration node mismatch:
- rendered on server:`,e,e.nodeType===3?`(text)`:ra(e)&&e.data===`[`?`(start of fragment)`:``,`
- expected on client:`,t.type),$i()),t.el=null,l){let t=_(e);for(;;){let n=a(e);if(n&&n!==t)s(n);else break}}let u=a(e),d=o(e);return s(e),n(null,t,d,u,r,i,na(d),c),r&&(r.vnode.el=t.el,vc(r,t.el)),u},_=(e,t=`[`,n=`]`)=>{let r=0;for(;e;)if(e=a(e),e&&ra(e)&&(e.data===t&&r++,e.data===n)){if(r===0)return a(e);r--}return e},v=(e,t,n)=>{let r=t.parentNode;r&&r.replaceChild(e,t);let i=n;for(;i;)i.vnode.el===t&&(i.vnode.el=i.subTree.el=e),i=i.parent},y=e=>e.nodeType===1&&e.tagName===`TEMPLATE`;return[u,d]}function aa(e,t,n,r,i){let a,o,s,c;if(t===`class`)e.$cls?(s=e.$cls,delete e.$cls):s=e.getAttribute(`class`),c=j(n),sa(oa(s||``),oa(c))||(a=2,o=`class`);else if(t===`style`){s=e.getAttribute(`style`)||``,c=E(n)?n:ke(we(n));let t=ca(s),l=ca(c);if(r.dirs)for(let{dir:e,value:t}of r.dirs)e.name===`show`&&!t&&l.set(`display`,`none`);i&&ua(i,r,l),la(t,l)||(a=3,o=`style`)}else (e instanceof SVGElement&&He(t)||e instanceof HTMLElement&&(ze(t)||Ve(t)))&&(ze(t)?(s=e.hasAttribute(t),c=Be(n)):n==null?(s=e.hasAttribute(t),c=!1):(s=e.hasAttribute(t)?e.getAttribute(t):t===`value`&&e.tagName===`TEXTAREA`?e.value:!1,c=Ue(n)?String(n):!1),s!==c&&(a=4,o=t));if(a!=null&&!pa(e,a)){let t=e=>e===!1?`(not rendered)`:`${o}="${e}"`,n=`Hydration ${fa[a]} mismatch on`,r=`
  - rendered on server: ${t(s)}
  - expected on client: ${t(c)}
  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.
  You should fix the source of the mismatch.`;return L(n,e,r),!0}return!1}function oa(e){return new Set(e.trim().split(/\s+/))}function sa(e,t){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}function ca(e){let t=new Map;for(let n of e.split(`;`)){let[e,r]=n.split(`:`);e=e.trim(),r&&=r.trim(),e&&r&&t.set(e,r)}return t}function la(e,t){if(e.size!==t.size)return!1;for(let[n,r]of e)if(r!==t.get(n))return!1;return!0}function ua(e,t,n){let r=e.subTree;if(e.getCssVars&&(t===r||r&&r.type===B&&r.children.includes(t))){let t=e.getCssVars();for(let e in t)n.set(`--${Ge(e,!1)}`,String(t[e]))}t===r&&e.parent&&ua(e.parent,e.vnode,n)}const da=`data-allow-mismatch`,fa={0:`text`,1:`children`,2:`class`,3:`style`,4:`attribute`};function pa(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(da);)e=e.parentElement;let n=e&&e.getAttribute(da);if(n==null)return!1;if(n===``)return!0;{let e=n.split(`,`);return t===0&&e.includes(`children`)?!0:e.includes(fa[t])}}const ma=xe().requestIdleCallback||(e=>setTimeout(e,1)),ha=xe().cancelIdleCallback||(e=>clearTimeout(e)),ga=(e=1e4)=>t=>{let n=ma(t,{timeout:e});return()=>ha(n)};function _a(e){let{top:t,left:n,bottom:r,right:i}=e.getBoundingClientRect(),{innerHeight:a,innerWidth:o}=window;return(t>0&&t<a||r>0&&r<a)&&(n>0&&n<o||i>0&&i<o)}const va=e=>(t,n)=>{let r=new IntersectionObserver(e=>{for(let n of e){if(!n.isIntersecting)continue;r.disconnect(),t();break}},e);return n(e=>{if(e instanceof Element){if(_a(e))return t(),r.disconnect(),!1;r.observe(e)}}),()=>r.disconnect()},ya=e=>t=>{if(e){let n=matchMedia(e);if(n.matches)t();else return n.addEventListener(`change`,t,{once:!0}),()=>n.removeEventListener(`change`,t)}},ba=(e=[])=>(t,n)=>{E(e)&&(e=[e]);let r=!1,i=e=>{r||(r=!0,a(),t(),e.target.dispatchEvent(new e.constructor(e.type,e)))},a=()=>{n(t=>{for(let n of e)t.removeEventListener(n,i)})};return n(t=>{for(let n of e)t.addEventListener(n,i,{once:!0})}),a};function xa(e,t){if(ra(e)&&e.data===`[`){let n=1,r=e.nextSibling;for(;r;){if(r.nodeType===1){let e=t(r);if(e===!1)break}else if(ra(r))if(r.data===`]`){if(--n===0)break}else r.data===`[`&&n++;r=r.nextSibling}}else t(e)}const Sa=e=>!!e.type.__asyncLoader;
/*! #__NO_SIDE_EFFECTS__ */
function Ca(e){T(e)&&(e={loader:e});let{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:a,timeout:o,suspensible:s=!0,onError:c}=e,l=null,u,d=0,f=()=>(d++,l=null,p()),p=()=>{let e;return l||(e=l=t().catch(e=>{if(e=e instanceof Error?e:Error(String(e)),c)return new Promise((t,n)=>{let r=()=>t(f()),i=()=>n(e);c(e,r,i,d+1)});throw e}).then(t=>{if(e!==l&&l)return l;if(process.env.NODE_ENV!==`production`&&!t&&L(`Async component loader resolved to undefined. If you are using retry(), make sure to return its return value.`),t&&(t.__esModule||t[Symbol.toStringTag]===`Module`)&&(t=t.default),process.env.NODE_ENV!==`production`&&t&&!D(t)&&!T(t))throw Error(`Invalid async component load result: ${t}`);return u=t,t}))};return z({name:`AsyncComponentWrapper`,__asyncLoader:p,__asyncHydrate(e,t,n){let r=!1,i=a?()=>{let i=()=>{if(process.env.NODE_ENV!==`production`&&r){L(`Skipping lazy hydration for component '${Nl(u)}': it was updated before lazy hydration performed.`);return}n()},o=a(i,t=>xa(e,t));o&&(t.bum||=[]).push(o),(t.u||=[]).push(()=>r=!0)}:n;u?i():p().then(()=>!t.isUnmounted&&i())},get __asyncResolved(){return u},setup(){let e=ll;if(Ji(e),u)return()=>wa(u,e);let t=t=>{l=null,_r(t,e,13,!r)};if(s&&e.suspense||vl)return p().then(t=>()=>wa(t,e)).catch(e=>(t(e),()=>r?K(r,{error:e}):null));let a=F(!1),c=F(),d=F(!!i);return i&&setTimeout(()=>{d.value=!1},i),o!=null&&setTimeout(()=>{if(!a.value&&!c.value){let e=Error(`Async component timed out after ${o}ms.`);t(e),c.value=e}},o),p().then(()=>{a.value=!0,e.parent&&Ta(e.parent.vnode)&&e.parent.update()}).catch(e=>{t(e),c.value=e}),()=>{if(a.value&&u)return wa(u,e);if(c.value&&r)return K(r,{error:c.value});if(n&&!d.value)return K(n)}}})}function wa(e,t){let{ref:n,props:r,children:i,ce:a}=t.vnode,o=K(e,r,i);return o.ref=n,o.ce=a,delete t.vnode.ce,o}const Ta=e=>e.type.__isKeepAlive,Ea={name:`KeepAlive`,__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){let n=ul(),r=n.ctx;if(!r.renderer)return()=>{let e=t.default&&t.default();return e&&e.length===1?e[0]:e};let i=new Map,a=new Set,o=null;process.env.NODE_ENV!==`production`&&(n.__v_cache=i);let s=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:d}}}=r,f=d(`div`);r.activate=(e,t,n,r,i)=>{let a=e.component;l(e,t,n,0,s),c(a.vnode,e,t,n,a,s,r,e.slotScopeIds,i),Ls(()=>{a.isDeactivated=!1,a.a&&ge(a.a);let t=e.props&&e.props.onVnodeMounted;t&&al(t,a.parent,e)},s),process.env.NODE_ENV!==`production`&&ti(a)},r.deactivate=e=>{let t=e.component;qs(t.m),qs(t.a),l(e,f,null,1,s),Ls(()=>{t.da&&ge(t.da);let n=e.props&&e.props.onVnodeUnmounted;n&&al(n,t.parent,e),t.isDeactivated=!0},s),process.env.NODE_ENV!==`production`&&ti(t),process.env.NODE_ENV!==`production`&&(t.__keepAliveStorageContainer=f)};function p(e){Na(e),u(e,n,s,!0)}function m(e){i.forEach((t,n)=>{let r=Nl(t.type);r&&!e(r)&&h(n)})}function h(e){let t=i.get(e);t&&(!o||!Uc(t,o))?p(t):o&&Na(o),i.delete(e),a.delete(e)}$s(()=>[e.include,e.exclude],([e,t])=>{e&&m(t=>Oa(e,t)),t&&m(e=>!Oa(t,e))},{flush:`post`,deep:!0});let g=null,_=()=>{g!=null&&(yc(n.subTree.type)?Ls(()=>{i.set(g,Pa(n.subTree))},n.subTree.suspense):i.set(g,Pa(n.subTree)))};return Ra(_),Ba(_),Va(()=>{i.forEach(e=>{let{subTree:t,suspense:r}=n,i=Pa(t);if(e.type===i.type&&e.key===i.key){Na(i);let e=i.component.da;e&&Ls(e,r);return}p(e)})}),()=>{if(g=null,!t.default)return o=null;let n=t.default(),r=n[0];if(n.length>1)return process.env.NODE_ENV!==`production`&&L(`KeepAlive should contain exactly one component child.`),o=null,n;if(!Hc(r)||!(r.shapeFlag&4)&&!(r.shapeFlag&128))return o=null,r;let s=Pa(r);if(s.type===V)return o=null,s;let c=s.type,l=Nl(Sa(s)?s.type.__asyncResolved||{}:c),{include:u,exclude:d,max:f}=e;if(u&&(!l||!Oa(u,l))||d&&l&&Oa(d,l))return s.shapeFlag&=-257,o=s,r;let p=s.key==null?c:s.key,m=i.get(p);return s.el&&(s=Zc(s),r.shapeFlag&128&&(r.ssContent=s)),g=p,m?(s.el=m.el,s.component=m.component,s.transition&&Gi(s,s.transition),s.shapeFlag|=512,a.delete(p),a.add(p)):(a.add(p),f&&a.size>parseInt(f,10)&&h(a.values().next().value)),s.shapeFlag|=256,o=s,yc(r.type)?r:s}}},Da=Ea;function Oa(e,t){return S(e)?e.some(e=>Oa(e,t)):E(e)?e.split(`,`).includes(t):te(e)?(e.lastIndex=0,e.test(t)):!1}function ka(e,t){ja(e,`a`,t)}function Aa(e,t){ja(e,`da`,t)}function ja(e,t,n=ll){let r=e.__wdc||=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()};if(Fa(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Ta(e.parent.vnode)&&Ma(r,t,n,e),e=e.parent}}function Ma(e,t,n,r){let i=Fa(t,e,r,!0);Ha(()=>{y(r[t],i)},n)}function Na(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Pa(e){return e.shapeFlag&128?e.ssContent:e}function Fa(e,t,n=ll,r=!1){if(n){let i=n[e]||(n[e]=[]),a=t.__weh||=(...r)=>{Ct();let i=pl(n),a=gr(t,n,e,r);return i(),wt(),a};return r?i.unshift(a):i.push(a),a}else if(process.env.NODE_ENV!==`production`){let t=me(mr[e].replace(/ hook$/,``));L(`${t} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const Ia=e=>(t,n=ll)=>{(!vl||e===`sp`)&&Fa(e,(...e)=>t(...e),n)},La=Ia(`bm`),Ra=Ia(`m`),za=Ia(`bu`),Ba=Ia(`u`),Va=Ia(`bum`),Ha=Ia(`um`),Ua=Ia(`sp`),Wa=Ia(`rtg`),Ga=Ia(`rtc`);function Ka(e,t=ll){Fa(`ec`,e,t)}const qa=`components`,Ja=`directives`;function Ya(e,t){return $a(qa,e,!0,t)||e}const Xa=Symbol.for(`v-ndc`);function Za(e){return E(e)?$a(qa,e,!1)||e:e||Xa}function Qa(e){return $a(Ja,e)}function $a(e,t,n=!0,r=!1){let i=ui||ll;if(i){let a=i.type;if(e===qa){let e=Nl(a,!1);if(e&&(e===t||e===k(t)||e===pe(k(t))))return a}let o=eo(i[e]||a[e],t)||eo(i.appContext[e],t);if(!o&&r)return a;if(process.env.NODE_ENV!==`production`&&n&&!o){let n=e===qa?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:``;L(`Failed to resolve ${e.slice(0,-1)}: ${t}${n}`)}return o}else process.env.NODE_ENV!==`production`&&L(`resolve${pe(e.slice(0,-1))} can only be used in render() or setup().`)}function eo(e,t){return e&&(e[t]||e[k(t)]||e[pe(k(t))])}function to(e,t,n,r){let i,a=n&&n[r],o=S(e);if(o||E(e)){let n=o&&Tn(e),r=!1,s=!1;n&&(r=!Dn(e),s=En(e),e=Rt(e)),i=Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(r?s?jn(An(e[n])):An(e[n]):e[n],n,void 0,a&&a[n])}else if(typeof e==`number`){process.env.NODE_ENV!==`production`&&!Number.isInteger(e)&&L(`The v-for range expect an integer value but got ${e}.`),i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(D(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,a&&a[n]));else{let n=Object.keys(e);i=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}function no(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(S(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{let t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function ro(e,t,n={},r,i){if(ui.ce||ui.parent&&Sa(ui.parent)&&ui.parent.ce)return t!==`default`&&(n.name=t),H(),W(B,null,[K(`slot`,n,r&&r())],64);let a=e[t];process.env.NODE_ENV!==`production`&&a&&a.length>1&&(L(`SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template.`),a=()=>[]),a&&a._c&&(a._d=!1),H();let o=a&&io(a(n)),s=n.key||o&&o.key,c=W(B,{key:(s&&!ne(s)?s:`_${t}`)+(!o&&r?`_fb`:``)},o||(r?r():[]),o&&e._===1?64:-2);return!i&&c.scopeId&&(c.slotScopeIds=[c.scopeId+`-s`]),a&&a._c&&(a._d=!0),c}function io(e){return e.some(e=>Hc(e)?!(e.type===V||e.type===B&&!io(e.children)):!0)?e:null}function ao(e,t){let n={};if(process.env.NODE_ENV!==`production`&&!D(e))return L(`v-on with no argument expects an object value.`),n;for(let r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:me(r)]=e[r];return n}const oo=e=>e?_l(e)?Al(e):oo(e.parent):null,so=v(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>process.env.NODE_ENV===`production`?e.props:Cn(e.props),$attrs:e=>process.env.NODE_ENV===`production`?e.attrs:Cn(e.attrs),$slots:e=>process.env.NODE_ENV===`production`?e.slots:Cn(e.slots),$refs:e=>process.env.NODE_ENV===`production`?e.refs:Cn(e.refs),$parent:e=>oo(e.parent),$root:e=>oo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ro(e),$forceUpdate:e=>e.f||=()=>{kr(e.update)},$nextTick:e=>e.n||=Dr.bind(e.proxy),$watch:e=>tc.bind(e)}),co=e=>e===`_`||e===`$`,lo=(e,t)=>e!==f&&!e.__isScriptSetup&&x(e,t),uo={get({_:e},t){if(t===`__v_skip`)return!0;let{ctx:n,setupState:r,data:i,props:a,accessCache:o,type:s,appContext:c}=e;if(process.env.NODE_ENV!==`production`&&t===`__isVue`)return!0;let l;if(t[0]!==`$`){let s=o[t];if(s!==void 0)switch(s){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return a[t]}else if(lo(r,t))return o[t]=1,r[t];else if(i!==f&&x(i,t))return o[t]=2,i[t];else if((l=e.propsOptions[0])&&x(l,t))return o[t]=3,a[t];else if(n!==f&&x(n,t))return o[t]=4,n[t];else No&&(o[t]=0)}let u=so[t],d,p;if(u)return t===`$attrs`?(Pt(e.attrs,`get`,``),process.env.NODE_ENV!==`production`&&lc()):process.env.NODE_ENV!==`production`&&t===`$slots`&&Pt(e,`get`,t),u(e);if((d=s.__cssModules)&&(d=d[t]))return d;if(n!==f&&x(n,t))return o[t]=4,n[t];if(p=c.config.globalProperties,x(p,t))return p[t];process.env.NODE_ENV!==`production`&&ui&&(!E(t)||t.indexOf(`__v`)!==0)&&(i!==f&&co(t[0])&&x(i,t)?L(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===ui&&L(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){let{data:r,setupState:i,ctx:a}=e;return lo(i,t)?(i[t]=n,!0):process.env.NODE_ENV!==`production`&&i.__isScriptSetup&&x(i,t)?(L(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):r!==f&&x(r,t)?(r[t]=n,!0):x(e.props,t)?(process.env.NODE_ENV!==`production`&&L(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]===`$`&&t.slice(1)in e?(process.env.NODE_ENV!==`production`&&L(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(process.env.NODE_ENV!==`production`&&t in e.appContext.config.globalProperties?Object.defineProperty(a,t,{enumerable:!0,configurable:!0,value:n}):a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:a}},o){let s;return!!n[o]||e!==f&&x(e,o)||lo(t,o)||(s=a[0])&&x(s,o)||x(r,o)||x(so,o)||x(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get==null?x(n,`value`)&&this.set(e,t,n.value,null):e._.accessCache[t]=0,Reflect.defineProperty(e,t,n)}};process.env.NODE_ENV!==`production`&&(uo.ownKeys=e=>(L(`Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead.`),Reflect.ownKeys(e)));const fo=v({},uo,{get(e,t){if(t!==Symbol.unscopables)return uo.get(e,t,e)},has(e,t){let n=t[0]!==`_`&&!Ce(t);return process.env.NODE_ENV!==`production`&&!n&&uo.has(e,t)&&L(`Property ${JSON.stringify(t)} should not start with _ which is a reserved prefix for Vue internals.`),n}});function po(e){let t={};return Object.defineProperty(t,`_`,{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(so).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>so[n](e),set:m})}),t}function mo(e){let{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(n=>{Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>e.props[n],set:m})})}function ho(e){let{ctx:t,setupState:n}=e;Object.keys(N(n)).forEach(e=>{if(!n.__isScriptSetup){if(co(e[0])){L(`setup() return property ${JSON.stringify(e)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>n[e],set:m})}})}const go=e=>L(`${e}() is a compiler-hint helper that is only usable inside <script setup> of a single file component. Its arguments should be compiled away and passing it at runtime has no effect.`);function _o(){return process.env.NODE_ENV!==`production`&&go(`defineProps`),null}function vo(){return process.env.NODE_ENV!==`production`&&go(`defineEmits`),null}function yo(e){process.env.NODE_ENV!==`production`&&go(`defineExpose`)}function bo(e){process.env.NODE_ENV!==`production`&&go(`defineOptions`)}function xo(){return process.env.NODE_ENV!==`production`&&go(`defineSlots`),null}function So(){process.env.NODE_ENV!==`production`&&go(`defineModel`)}function Co(e,t){return process.env.NODE_ENV!==`production`&&go(`withDefaults`),null}function wo(){return Eo().slots}function To(){return Eo().attrs}function Eo(){let e=ul();return process.env.NODE_ENV!==`production`&&!e&&L(`useContext() called without active instance.`),e.setupContext||=kl(e)}function Do(e){return S(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}function Oo(e,t){let n=Do(e);for(let e in t){if(e.startsWith(`__skip`))continue;let r=n[e];r?S(r)||T(r)?r=n[e]={type:r,default:t[e]}:r.default=t[e]:r===null?r=n[e]={default:t[e]}:process.env.NODE_ENV!==`production`&&L(`props default key "${e}" has no corresponding declaration.`),r&&t[`__skip_${e}`]&&(r.skipFactory=!0)}return n}function ko(e,t){return!e||!t?e||t:S(e)&&S(t)?e.concat(t):v({},Do(e),Do(t))}function Ao(e,t){let n={};for(let r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function jo(e){let t=ul();process.env.NODE_ENV!==`production`&&!t&&L(`withAsyncContext called without active current instance. This is likely a bug.`);let n=e();return ml(),re(n)&&(n=n.catch(e=>{throw pl(t),e})),[n,()=>pl(t)]}function Mo(){let e=Object.create(null);return(t,n)=>{e[n]?L(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let No=!0;function Po(e){let t=Ro(e),n=e.proxy,r=e.ctx;No=!1,t.beforeCreate&&Io(t.beforeCreate,e,`bc`);let{data:i,computed:a,methods:o,watch:s,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:h,activated:g,deactivated:_,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:x,render:C,renderTracked:w,renderTriggered:ee,errorCaptured:te,serverPrefetch:E,expose:ne,inheritAttrs:ie,components:ae,directives:O,filters:oe}=t,se=process.env.NODE_ENV===`production`?null:Mo();if(process.env.NODE_ENV!==`production`){let[t]=e.propsOptions;if(t)for(let e in t)se(`Props`,e)}if(l&&Fo(l,r,se),o)for(let e in o){let t=o[e];T(t)?(process.env.NODE_ENV===`production`?r[e]=t.bind(n):Object.defineProperty(r,e,{value:t.bind(n),configurable:!0,enumerable:!0,writable:!0}),process.env.NODE_ENV!==`production`&&se(`Methods`,e)):process.env.NODE_ENV!==`production`&&L(`Method "${e}" has type "${typeof t}" in the component definition. Did you reference the function correctly?`)}if(i){process.env.NODE_ENV!==`production`&&!T(i)&&L(`The data option must be a function. Plain object usage is no longer supported.`);let t=i.call(n,n);if(process.env.NODE_ENV!==`production`&&re(t)&&L(`data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>.`),!D(t))process.env.NODE_ENV!==`production`&&L(`data() should return an object.`);else if(e.data=bn(t),process.env.NODE_ENV!==`production`)for(let e in t)se(`Data`,e),co(e[0])||Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:()=>t[e],set:m})}if(No=!0,a)for(let e in a){let t=a[e],i=T(t)?t.bind(n,n):T(t.get)?t.get.bind(n,n):m;process.env.NODE_ENV!==`production`&&i===m&&L(`Computed property "${e}" has no getter.`);let o=!T(t)&&T(t.set)?t.set.bind(n):process.env.NODE_ENV===`production`?m:()=>{L(`Write operation failed: computed property "${e}" is readonly.`)},s=J({get:i,set:o});Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}),process.env.NODE_ENV!==`production`&&se(`Computed`,e)}if(s)for(let e in s)Lo(s[e],r,n,e);if(c){let e=T(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Qo(t,e[t])})}u&&Io(u,e,`c`);function ce(e,t){S(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(ce(La,d),ce(Ra,f),ce(za,p),ce(Ba,h),ce(ka,g),ce(Aa,_),ce(Ka,te),ce(Ga,w),ce(Wa,ee),ce(Va,y),ce(Ha,x),ce(Ua,E),S(ne))if(ne.length){let t=e.exposed||={};ne.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||={};C&&e.render===m&&(e.render=C),ie!=null&&(e.inheritAttrs=ie),ae&&(e.components=ae),O&&(e.directives=O),E&&Ji(e)}function Fo(e,t,n=m){for(let r in S(e)&&(e=Uo(e)),e){let i=e[r],a;a=D(i)?`default`in i?$o(i.from||r,i.default,!0):$o(i.from||r):$o(i),P(a)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[r]=a,process.env.NODE_ENV!==`production`&&n(`Inject`,r)}}function Io(e,t,n){gr(S(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Lo(e,t,n,r){let i=r.includes(`.`)?nc(n,r):()=>n[r];if(E(e)){let n=t[e];T(n)?$s(i,n):process.env.NODE_ENV!==`production`&&L(`Invalid watch handler specified by key "${e}"`,n)}else if(T(e))$s(i,e.bind(n));else if(D(e))if(S(e))e.forEach(e=>Lo(e,t,n,r));else{let r=T(e.handler)?e.handler.bind(n):t[e.handler];T(r)?$s(i,r,e):process.env.NODE_ENV!==`production`&&L(`Invalid watch handler specified by key "${e.handler}"`,r)}else process.env.NODE_ENV!==`production`&&L(`Invalid watch option: "${r}"`,e)}function Ro(e){let t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t),c;return s?c=s:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(e=>zo(c,e,o,!0)),zo(c,t,o)),D(t)&&a.set(t,c),c}function zo(e,t,n,r=!1){let{mixins:i,extends:a}=t;for(let o in a&&zo(e,a,n,!0),i&&i.forEach(t=>zo(e,t,n,!0)),t)if(r&&o===`expose`)process.env.NODE_ENV!==`production`&&L(`"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.`);else{let r=Bo[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const Bo={data:Vo,props:Ko,emits:Ko,methods:Go,computed:Go,beforeCreate:Wo,created:Wo,beforeMount:Wo,mounted:Wo,beforeUpdate:Wo,updated:Wo,beforeDestroy:Wo,beforeUnmount:Wo,destroyed:Wo,unmounted:Wo,activated:Wo,deactivated:Wo,errorCaptured:Wo,serverPrefetch:Wo,components:Go,directives:Go,watch:qo,provide:Vo,inject:Ho};function Vo(e,t){return t?e?function(){return v(T(e)?e.call(this,this):e,T(t)?t.call(this,this):t)}:t:e}function Ho(e,t){return Go(Uo(e),Uo(t))}function Uo(e){if(S(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Wo(e,t){return e?[...new Set([].concat(e,t))]:t}function Go(e,t){return e?v(Object.create(null),e,t):t}function Ko(e,t){return e?S(e)&&S(t)?[...new Set([...e,...t])]:v(Object.create(null),Do(e),Do(t??{})):t}function qo(e,t){if(!e)return t;if(!t)return e;let n=v(Object.create(null),e);for(let r in t)n[r]=Wo(e[r],t[r]);return n}function Jo(){return{app:null,config:{isNativeTag:h,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yo=0;function Xo(e,t){return function(n,r=null){T(n)||(n=v({},n)),r!=null&&!D(r)&&(process.env.NODE_ENV!==`production`&&L(`root props passed to app.mount() must be an object.`),r=null);let i=Jo(),a=new WeakSet,o=[],s=!1,c=i.app={_uid:Yo++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Bl,get config(){return i.config},set config(e){process.env.NODE_ENV!==`production`&&L(`app.config cannot be replaced. Modify individual options instead.`)},use(e,...t){return a.has(e)?process.env.NODE_ENV!==`production`&&L(`Plugin has already been applied to target app.`):e&&T(e.install)?(a.add(e),e.install(c,...t)):T(e)?(a.add(e),e(c,...t)):process.env.NODE_ENV!==`production`&&L(`A plugin must either be a function or an object with an "install" function.`),c},mixin(e){return i.mixins.includes(e)?process.env.NODE_ENV!==`production`&&L(`Mixin has already been applied to target app`+(e.name?`: ${e.name}`:``)):i.mixins.push(e),c},component(e,t){return process.env.NODE_ENV!==`production`&&gl(e,i.config),t?(process.env.NODE_ENV!==`production`&&i.components[e]&&L(`Component "${e}" has already been registered in target app.`),i.components[e]=t,c):i.components[e]},directive(e,t){return process.env.NODE_ENV!==`production`&&gi(e),t?(process.env.NODE_ENV!==`production`&&i.directives[e]&&L(`Directive "${e}" has already been registered in target app.`),i.directives[e]=t,c):i.directives[e]},mount(a,o,l){if(s)process.env.NODE_ENV!==`production`&&L("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{process.env.NODE_ENV!==`production`&&a.__vue_app__&&L("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");let u=c._ceVNode||K(n,r);return u.appContext=i,l===!0?l=`svg`:l===!1&&(l=void 0),process.env.NODE_ENV!==`production`&&(i.reload=()=>{let t=Zc(u);t.el=null,e(t,a,l)}),o&&t?t(u,a):e(u,a,l),s=!0,c._container=a,a.__vue_app__=c,process.env.NODE_ENV!==`production`&&(c._instance=u.component,$r(c,Bl)),Al(u.component)}},onUnmount(e){process.env.NODE_ENV!==`production`&&typeof e!=`function`&&L(`Expected function as first argument to app.onUnmount(), but got ${typeof e}`),o.push(e)},unmount(){s?(gr(o,c._instance,16),e(null,c._container),process.env.NODE_ENV!==`production`&&(c._instance=null,ei(c)),delete c._container.__vue_app__):process.env.NODE_ENV!==`production`&&L(`Cannot unmount an app that is not mounted.`)},provide(e,t){return process.env.NODE_ENV!==`production`&&e in i.provides&&(x(i.provides,e)?L(`App already provides property with key "${String(e)}". It will be overwritten with the new value.`):L(`App already provides property with key "${String(e)}" inherited from its parent element. It will be overwritten with the new value.`)),i.provides[e]=t,c},runWithContext(e){let t=Zo;Zo=c;try{return e()}finally{Zo=t}}};return c}}let Zo=null;function Qo(e,t){if(!ll)process.env.NODE_ENV!==`production`&&L(`provide() can only be used inside setup().`);else{let n=ll.provides,r=ll.parent&&ll.parent.provides;r===n&&(n=ll.provides=Object.create(r)),n[e]=t}}function $o(e,t,n=!1){let r=ll||ui;if(r||Zo){let i=Zo?Zo._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&T(t)?t.call(r&&r.proxy):t;process.env.NODE_ENV!==`production`&&L(`injection "${String(e)}" not found.`)}else process.env.NODE_ENV!==`production`&&L(`inject() can only be used inside setup() or functional components.`)}function es(){return!!(ll||ui||Zo)}const ts={},ns=()=>Object.create(ts),rs=e=>Object.getPrototypeOf(e)===ts;function os(e,t,n,r=!1){let i={},a=ns();for(let n in e.propsDefaults=Object.create(null),ls(e,t,i,a),e.propsOptions[0])n in i||(i[n]=void 0);process.env.NODE_ENV!==`production`&&hs(t||{},i,e),n?e.props=r?i:xn(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function ss(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function cs(e,t,n,r){let{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=N(i),[c]=e.propsOptions,l=!1;if(!(process.env.NODE_ENV!==`production`&&ss(e))&&(r||o>0)&&!(o&16)){if(o&8){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(sc(e.emitsOptions,o))continue;let u=t[o];if(c)if(x(a,o))u!==a[o]&&(a[o]=u,l=!0);else{let t=k(o);i[t]=us(c,s,t,u,e,!1)}else u!==a[o]&&(a[o]=u,l=!0)}}}else{ls(e,t,i,a)&&(l=!0);let r;for(let a in s)(!t||!x(t,a)&&((r=A(a))===a||!x(t,r)))&&(c?n&&(n[a]!==void 0||n[r]!==void 0)&&(i[a]=us(c,s,a,void 0,e,!0)):delete i[a]);if(a!==s)for(let e in a)(!t||!x(t,e))&&(delete a[e],l=!0)}l&&Ft(e.attrs,`set`,``),process.env.NODE_ENV!==`production`&&hs(t||{},i,e)}function ls(e,t,n,r){let[i,a]=e.propsOptions,o=!1,s;if(t)for(let c in t){if(ce(c))continue;let l=t[c],u;i&&x(i,u=k(c))?!a||!a.includes(u)?n[u]=l:(s||={})[u]=l:sc(e.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(a){let t=N(n),r=s||f;for(let o=0;o<a.length;o++){let s=a[o];n[s]=us(i,t,s,r[s],e,!x(r,s))}}return o}function us(e,t,n,r,i,a){let o=e[n];if(o!=null){let e=x(o,`default`);if(e&&r===void 0){let e=o.default;if(o.type!==Function&&!o.skipFactory&&T(e)){let{propsDefaults:a}=i;if(n in a)r=a[n];else{let o=pl(i);r=a[n]=e.call(null,t),o()}}else r=e;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!e?r=!1:o[1]&&(r===``||r===A(n))&&(r=!0))}return r}const ds=new WeakMap;function fs(e,t,n=!1){let r=n?ds:t.propsCache,i=r.get(e);if(i)return i;let a=e.props,o={},s=[],c=!1;if(!T(e)){let r=e=>{c=!0;let[n,r]=fs(e,t,!0);v(o,n),r&&s.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return D(e)&&r.set(e,p),p;if(S(a))for(let e=0;e<a.length;e++){process.env.NODE_ENV!==`production`&&!E(a[e])&&L(`props must be strings when using array syntax.`,a[e]);let t=k(a[e]);ps(t)&&(o[t]=f)}else if(a)for(let e in process.env.NODE_ENV!==`production`&&!D(a)&&L(`invalid props options`,a),a){let t=k(e);if(ps(t)){let n=a[e],r=o[t]=S(n)||T(n)?{type:n}:v({},n),i=r.type,c=!1,l=!0;if(S(i))for(let e=0;e<i.length;++e){let t=i[e],n=T(t)&&t.name;if(n===`Boolean`){c=!0;break}else n===`String`&&(l=!1)}else c=T(i)&&i.name===`Boolean`;r[0]=c,r[1]=l,(c||x(r,`default`))&&s.push(t)}}let l=[o,s];return D(e)&&r.set(e,l),l}function ps(e){return e[0]!==`$`&&!ce(e)?!0:(process.env.NODE_ENV!==`production`&&L(`Invalid prop name: "${e}" is a reserved property.`),!1)}function ms(e){if(e===null)return`null`;if(typeof e==`function`)return e.name||``;if(typeof e==`object`){let t=e.constructor&&e.constructor.name;return t||``}return``}function hs(e,t,n){let r=N(t),i=n.propsOptions[0],a=Object.keys(e).map(e=>k(e));for(let e in i){let t=i[e];if(t==null)continue;gs(e,r[e],t,process.env.NODE_ENV===`production`?r:Cn(r),!a.includes(e))}}function gs(e,t,n,r,i){let{type:a,required:o,validator:s,skipCheck:c}=n;if(o&&i){L(`Missing required prop: "`+e+`"`);return}if(!(t==null&&!o)){if(a!=null&&a!==!0&&!c){let n=!1,r=S(a)?a:[a],i=[];for(let e=0;e<r.length&&!n;e++){let{valid:a,expectedType:o}=vs(t,r[e]);i.push(o||``),n=a}if(!n){L(ys(e,t,i));return}}s&&!s(t,r)&&L(`Invalid prop: custom validator check failed for prop "`+e+`".`)}}const _s=d(`String,Number,Boolean,Function,Symbol,BigInt`);function vs(e,t){let n,r=ms(t);if(r===`null`)n=e===null;else if(_s(r)){let i=typeof e;n=i===r.toLowerCase(),!n&&i===`object`&&(n=e instanceof t)}else n=r===`Object`?D(e):r===`Array`?S(e):e instanceof t;return{valid:n,expectedType:r}}function ys(e,t,n){if(n.length===0)return`Prop type [] for prop "${e}" won't match anything. Did you mean to use type Array instead?`;let r=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(pe).join(` | `)}`,i=n[0],a=O(t),o=bs(t,i),s=bs(t,a);return n.length===1&&xs(i)&&!Ss(i,a)&&(r+=` with value ${o}`),r+=`, got ${a} `,xs(a)&&(r+=`with value ${s}.`),r}function bs(e,t){return t===`String`?`"${e}"`:t===`Number`?`${Number(e)}`:`${e}`}function xs(e){let t=[`string`,`number`,`boolean`];return t.some(t=>e.toLowerCase()===t)}function Ss(...e){return e.some(e=>e.toLowerCase()===`boolean`)}const Cs=e=>e[0]===`_`||e===`$stable`,ws=e=>S(e)?e.map(tl):[tl(e)],Ts=(e,t,n)=>{if(t._n)return t;let r=R((...r)=>(process.env.NODE_ENV!==`production`&&ll&&!(n===null&&ui)&&!(n&&n.root!==ll.root)&&L(`Slot "${e}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),ws(t(...r))),n);return r._c=!1,r},Es=(e,t,n)=>{let r=e._ctx;for(let n in e){if(Cs(n))continue;let i=e[n];if(T(i))t[n]=Ts(n,i,r);else if(i!=null){process.env.NODE_ENV!==`production`&&L(`Non-function value encountered for slot "${n}". Prefer function slots for better performance.`);let e=ws(i);t[n]=()=>e}}},Ds=(e,t)=>{process.env.NODE_ENV!==`production`&&!Ta(e.vnode)&&L(`Non-function value encountered for default slot. Prefer function slots for better performance.`);let n=ws(t);e.slots.default=()=>n},Os=(e,t,n)=>{for(let r in t)(n||!Cs(r))&&(e[r]=t[r])},ks=(e,t,n)=>{let r=e.slots=ns();if(e.vnode.shapeFlag&32){let e=t.__;e&&_e(r,`__`,e,!0);let i=t._;i?(Os(r,t,n),n&&_e(r,`_`,i,!0)):Es(t,r)}else t&&Ds(e,t)},As=(e,t,n)=>{let{vnode:r,slots:i}=e,a=!0,o=f;if(r.shapeFlag&32){let r=t._;r?process.env.NODE_ENV!==`production`&&Lr?(Os(i,t,n),Ft(e,`set`,`$slots`)):n&&r===1?a=!1:Os(i,t,n):(a=!t.$stable,Es(t,i)),o=t}else t&&(Ds(e,t),o={default:1});if(a)for(let e in i)!Cs(e)&&o[e]==null&&delete i[e]};let js,Ms;function Ns(e,t){e.appContext.config.performance&&Fs()&&Ms.mark(`vue-${t}-${e.uid}`),process.env.NODE_ENV!==`production`&&oi(e,t,Fs()?Ms.now():Date.now())}function Ps(e,t){if(e.appContext.config.performance&&Fs()){let n=`vue-${t}-${e.uid}`,r=n+`:end`;Ms.mark(r),Ms.measure(`<${Pl(e,e.type)}> ${t}`,n,r),Ms.clearMarks(n),Ms.clearMarks(r)}process.env.NODE_ENV!==`production`&&si(e,t,Fs()?Ms.now():Date.now())}function Fs(){return js===void 0&&(typeof window<`u`&&window.performance?(js=!0,Ms=window.performance):js=!1),js}function Is(){let e=[];if(process.env.NODE_ENV!==`production`&&e.length){let t=e.length>1;console.warn(`Feature flag${t?`s`:``} ${e.join(`, `)} ${t?`are`:`is`} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const Ls=jc;function Rs(e){return Bs(e)}function zs(e){return Bs(e,ia)}function Bs(e,t){Is();let n=xe();n.__VUE__=!0,process.env.NODE_ENV!==`production`&&Qr(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);let{insert:r,remove:i,patchProp:a,createElement:o,createText:s,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:h,setScopeId:g=m,insertStaticContent:_}=e,v=(e,t,n,r=null,i=null,a=null,o=void 0,s=null,c=process.env.NODE_ENV!==`production`&&Lr?!1:!!t.dynamicChildren)=>{if(e===t)return;e&&!Uc(e,t)&&(r=be(e),pe(e,i,a,!0),e=null),t.patchFlag===-2&&(c=!1,t.dynamicChildren=null);let{type:l,ref:u,shapeFlag:d}=t;switch(l){case Pc:y(e,t,n,r);break;case V:b(e,t,n,r);break;case Fc:e==null?x(t,n,r,o):process.env.NODE_ENV!==`production`&&C(e,t,n,o);break;case B:ae(e,t,n,r,i,a,o,s,c);break;default:d&1?te(e,t,n,r,i,a,o,s,c):d&6?O(e,t,n,r,i,a,o,s,c):d&64||d&128?l.process(e,t,n,r,i,a,o,s,c,we):process.env.NODE_ENV!==`production`&&L(`Invalid VNode type:`,l,`(${typeof l})`)}u!=null&&i?Zi(u,e&&e.ref,a,t||e,!t):u==null&&e&&e.ref!=null&&Zi(e.ref,null,a,e,!0)},y=(e,t,n,i)=>{if(e==null)r(t.el=s(t.children),n,i);else{let n=t.el=e.el;t.children!==e.children&&l(n,t.children)}},b=(e,t,n,i)=>{e==null?r(t.el=c(t.children||``),n,i):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=_(e.children,t,n,r,e.el,e.anchor)},C=(e,t,n,r)=>{if(t.children!==e.children){let i=h(e.anchor);ee(e),[t.el,t.anchor]=_(t.children,n,i,r)}else t.el=e.el,t.anchor=e.anchor},w=({el:e,anchor:t},n,i)=>{let a;for(;e&&e!==t;)a=h(e),r(e,n,i),e=a;r(t,n,i)},ee=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),i(e),e=n;i(t)},te=(e,t,n,r,i,a,o,s,c)=>{t.type===`svg`?o=`svg`:t.type===`math`&&(o=`mathml`),e==null?T(t,n,r,i,a,o,s,c):D(e,t,i,a,o,s,c)},T=(e,t,n,i,s,c,l,d)=>{let f,p,{props:m,shapeFlag:h,transition:g,dirs:_}=e;if(f=e.el=o(e.type,c,m&&m.is,m),h&8?u(f,e.children):h&16&&ne(e.children,f,null,i,s,Vs(e,c),l,d),_&&vi(e,null,i,`created`),E(f,e,e.scopeId,l,i),m){for(let e in m)e!==`value`&&!ce(e)&&a(f,e,null,m[e],c,i);`value`in m&&a(f,`value`,null,m.value,c),(p=m.onVnodeBeforeMount)&&al(p,i,e)}process.env.NODE_ENV!==`production`&&(_e(f,`__vnode`,e,!0),_e(f,`__vueParentComponent`,i,!0)),_&&vi(e,null,i,`beforeMount`);let v=Us(s,g);v&&g.beforeEnter(f),r(f,t,n),((p=m&&m.onVnodeMounted)||v||_)&&Ls(()=>{p&&al(p,i,e),v&&g.enter(f),_&&vi(e,null,i,`mounted`)},s)},E=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){let n=i.subTree;if(process.env.NODE_ENV!==`production`&&n.patchFlag>0&&n.patchFlag&2048&&(n=fc(n.children)||n),t===n||yc(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},ne=(e,t,n,r,i,a,o,s,c=0)=>{for(let l=c;l<e.length;l++){let c=e[l]=s?nl(e[l]):tl(e[l]);v(null,c,t,n,r,i,a,o,s)}},D=(e,t,n,r,i,o,s)=>{let c=t.el=e.el;process.env.NODE_ENV!==`production`&&(c.__vnode=t);let{patchFlag:l,dynamicChildren:d,dirs:p}=t;l|=e.patchFlag&16;let m=e.props||f,h=t.props||f,g;if(n&&Hs(n,!1),(g=h.onVnodeBeforeUpdate)&&al(g,n,t,e),p&&vi(t,e,n,`beforeUpdate`),n&&Hs(n,!0),process.env.NODE_ENV!==`production`&&Lr&&(l=0,s=!1,d=null),(m.innerHTML&&h.innerHTML==null||m.textContent&&h.textContent==null)&&u(c,``),d?(re(e.dynamicChildren,d,c,n,r,Vs(t,i),o),process.env.NODE_ENV!==`production`&&Ws(e,t)):s||de(e,t,c,null,n,r,Vs(t,i),o,!1),l>0){if(l&16)ie(c,m,h,n,i);else if(l&2&&m.class!==h.class&&a(c,`class`,null,h.class,i),l&4&&a(c,`style`,m.style,h.style,i),l&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let r=e[t],o=m[r],s=h[r];(s!==o||r===`value`)&&a(c,r,o,s,i,n)}}l&1&&e.children!==t.children&&u(c,t.children)}else !s&&d==null&&ie(c,m,h,n,i);((g=h.onVnodeUpdated)||p)&&Ls(()=>{g&&al(g,n,t,e),p&&vi(t,e,n,`updated`)},r)},re=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){let c=e[s],l=t[s],u=c.el&&(c.type===B||!Uc(c,l)||c.shapeFlag&198)?d(c.el):n;v(c,l,u,null,r,i,a,o,!0)}},ie=(e,t,n,r,i)=>{if(t!==n){if(t!==f)for(let o in t)!ce(o)&&!(o in n)&&a(e,o,t[o],null,i,r);for(let o in n){if(ce(o))continue;let s=n[o],c=t[o];s!==c&&o!==`value`&&a(e,o,c,s,i,r)}`value`in n&&a(e,`value`,t.value,n.value,i)}},ae=(e,t,n,i,a,o,c,l,u)=>{let d=t.el=e?e.el:s(``),f=t.anchor=e?e.anchor:s(``),{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;process.env.NODE_ENV!==`production`&&(Lr||p&2048)&&(p=0,u=!1,m=null),h&&(l=l?l.concat(h):h),e==null?(r(d,n,i),r(f,n,i),ne(t.children||[],n,f,a,o,c,l,u)):p>0&&p&64&&m&&e.dynamicChildren?(re(e.dynamicChildren,m,n,a,o,c,l),process.env.NODE_ENV===`production`?(t.key!=null||a&&t===a.subTree)&&Ws(e,t,!0):Ws(e,t)):de(e,t,n,f,a,o,c,l,u)},O=(e,t,n,r,i,a,o,s,c)=>{t.slotScopeIds=s,e==null?t.shapeFlag&512?i.ctx.activate(t,n,r,o,c):oe(t,n,r,i,a,o,c):se(e,t,c)},oe=(e,t,n,r,i,a,o)=>{let s=e.component=cl(e,r,i);if(process.env.NODE_ENV!==`production`&&s.type.__hmrId&&Br(s),process.env.NODE_ENV!==`production`&&(ir(e),Ns(s,`mount`)),Ta(e)&&(s.ctx.renderer=we),process.env.NODE_ENV!==`production`&&Ns(s,`init`),yl(s,!1,o),process.env.NODE_ENV!==`production`&&Ps(s,`init`),process.env.NODE_ENV!==`production`&&Lr&&(e.el=null),s.asyncDep){if(i&&i.registerDep(s,le,o),!e.el){let e=s.subTree=K(V);b(null,e,t,n)}}else le(s,e,t,n,i,a,o);process.env.NODE_ENV!==`production`&&(ar(),Ps(s,`mount`))},se=(e,t,n)=>{let r=t.component=e.component;if(gc(e,t,n))if(r.asyncDep&&!r.asyncResolved){process.env.NODE_ENV!==`production`&&ir(t),ue(r,t,n),process.env.NODE_ENV!==`production`&&ar();return}else r.next=t,r.update();else t.el=e.el,r.vnode=t},le=(e,t,n,r,i,a,o)=>{let s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{let n=Ks(e);if(n){t&&(t.el=l.el,ue(e,t,o)),n.asyncDep.then(()=>{e.isUnmounted||s()});return}}let u=t,f;process.env.NODE_ENV!==`production`&&ir(t||e.vnode),Hs(e,!1),t?(t.el=l.el,ue(e,t,o)):t=l,n&&ge(n),(f=t.props&&t.props.onVnodeBeforeUpdate)&&al(f,c,t,l),Hs(e,!0),process.env.NODE_ENV!==`production`&&Ns(e,`render`);let p=uc(e);process.env.NODE_ENV!==`production`&&Ps(e,`render`);let m=e.subTree;e.subTree=p,process.env.NODE_ENV!==`production`&&Ns(e,`patch`),v(m,p,d(m.el),be(m),e,i,a),process.env.NODE_ENV!==`production`&&Ps(e,`patch`),t.el=p.el,u===null&&vc(e,p.el),r&&Ls(r,i),(f=t.props&&t.props.onVnodeUpdated)&&Ls(()=>al(f,c,t,l),i),process.env.NODE_ENV!==`production`&&ni(e),process.env.NODE_ENV!==`production`&&ar()}else{let o,{el:s,props:c}=t,{bm:l,m:u,parent:d,root:f,type:p}=e,m=Sa(t);if(Hs(e,!1),l&&ge(l),!m&&(o=c&&c.onVnodeBeforeMount)&&al(o,d,t),Hs(e,!0),s&&Ee){let t=()=>{process.env.NODE_ENV!==`production`&&Ns(e,`render`),e.subTree=uc(e),process.env.NODE_ENV!==`production`&&Ps(e,`render`),process.env.NODE_ENV!==`production`&&Ns(e,`hydrate`),Ee(s,e.subTree,e,i,null),process.env.NODE_ENV!==`production`&&Ps(e,`hydrate`)};m&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{f.ce&&f.ce._def.shadowRoot!==!1&&f.ce._injectChildStyle(p),process.env.NODE_ENV!==`production`&&Ns(e,`render`);let o=e.subTree=uc(e);process.env.NODE_ENV!==`production`&&Ps(e,`render`),process.env.NODE_ENV!==`production`&&Ns(e,`patch`),v(null,o,n,r,e,i,a),process.env.NODE_ENV!==`production`&&Ps(e,`patch`),t.el=o.el}if(u&&Ls(u,i),!m&&(o=c&&c.onVnodeMounted)){let e=t;Ls(()=>al(o,d,e),i)}(t.shapeFlag&256||d&&Sa(d.vnode)&&d.vnode.shapeFlag&256)&&e.a&&Ls(e.a,i),e.isMounted=!0,process.env.NODE_ENV!==`production`&&ti(e),t=n=r=null}};e.scope.on();let c=e.effect=new ot(s);e.scope.off();let l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>kr(u),Hs(e,!0),process.env.NODE_ENV!==`production`&&(c.onTrack=e.rtc?t=>ge(e.rtc,t):void 0,c.onTrigger=e.rtg?t=>ge(e.rtg,t):void 0),l()},ue=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,cs(e,t.props,r,n),As(e,t.children,n),Ct(),Mr(e),wt()},de=(e,t,n,r,i,a,o,s,c=!1)=>{let l=e&&e.children,d=e?e.shapeFlag:0,f=t.children,{patchFlag:p,shapeFlag:m}=t;if(p>0){if(p&128){fe(l,f,n,r,i,a,o,s,c);return}else if(p&256){k(l,f,n,r,i,a,o,s,c);return}}m&8?(d&16&&ye(l,i,a),f!==l&&u(n,f)):d&16?m&16?fe(l,f,n,r,i,a,o,s,c):ye(l,i,a,!0):(d&8&&u(n,``),m&16&&ne(f,n,r,i,a,o,s,c))},k=(e,t,n,r,i,a,o,s,c)=>{e||=p,t||=p;let l=e.length,u=t.length,d=Math.min(l,u),f;for(f=0;f<d;f++){let r=t[f]=c?nl(t[f]):tl(t[f]);v(e[f],r,n,null,i,a,o,s,c)}l>u?ye(e,i,a,!0,!1,d):ne(t,n,r,i,a,o,s,c,d)},fe=(e,t,n,r,i,a,o,s,c)=>{let l=0,u=t.length,d=e.length-1,f=u-1;for(;l<=d&&l<=f;){let r=e[l],u=t[l]=c?nl(t[l]):tl(t[l]);if(Uc(r,u))v(r,u,n,null,i,a,o,s,c);else break;l++}for(;l<=d&&l<=f;){let r=e[d],l=t[f]=c?nl(t[f]):tl(t[f]);if(Uc(r,l))v(r,l,n,null,i,a,o,s,c);else break;d--,f--}if(l>d){if(l<=f){let e=f+1,d=e<u?t[e].el:r;for(;l<=f;)v(null,t[l]=c?nl(t[l]):tl(t[l]),n,d,i,a,o,s,c),l++}}else if(l>f)for(;l<=d;)pe(e[l],i,a,!0),l++;else{let m=l,h=l,g=new Map;for(l=h;l<=f;l++){let e=t[l]=c?nl(t[l]):tl(t[l]);e.key!=null&&(process.env.NODE_ENV!==`production`&&g.has(e.key)&&L(`Duplicate keys found during update:`,JSON.stringify(e.key),`Make sure keys are unique.`),g.set(e.key,l))}let _,y=0,b=f-h+1,x=!1,S=0,C=Array(b);for(l=0;l<b;l++)C[l]=0;for(l=m;l<=d;l++){let r=e[l];if(y>=b){pe(r,i,a,!0);continue}let u;if(r.key!=null)u=g.get(r.key);else for(_=h;_<=f;_++)if(C[_-h]===0&&Uc(r,t[_])){u=_;break}u===void 0?pe(r,i,a,!0):(C[u-h]=l+1,u>=S?S=u:x=!0,v(r,t[u],n,null,i,a,o,s,c),y++)}let w=x?Gs(C):p;for(_=w.length-1,l=b-1;l>=0;l--){let e=h+l,d=t[e],f=e+1<u?t[e+1].el:r;C[l]===0?v(null,d,n,f,i,a,o,s,c):x&&(_<0||l!==w[_]?A(d,n,f,2):_--)}}},A=(e,t,n,a,o=null)=>{let{el:s,type:c,transition:l,children:u,shapeFlag:d}=e;if(d&6){A(e.component.subTree,t,n,a);return}if(d&128){e.suspense.move(t,n,a);return}if(d&64){c.move(e,t,n,we);return}if(c===B){r(s,t,n);for(let e=0;e<u.length;e++)A(u[e],t,n,a);r(e.anchor,t,n);return}if(c===Fc){w(e,t,n);return}let f=a!==2&&d&1&&l;if(f)if(a===0)l.beforeEnter(s),r(s,t,n),Ls(()=>l.enter(s),o);else{let{leave:a,delayLeave:o,afterLeave:c}=l,u=()=>{e.ctx.isUnmounted?i(s):r(s,t,n)},d=()=>{a(s,()=>{u(),c&&c()})};o?o(s,u,d):d()}else r(s,t,n)},pe=(e,t,n,r=!1,i=!1)=>{let{type:a,props:o,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(d===-2&&(i=!1),s!=null&&(Ct(),Zi(s,null,n,e,!0),wt()),p!=null&&(t.renderCache[p]=void 0),u&256){t.ctx.deactivate(e);return}let m=u&1&&f,h=!Sa(e),g;if(h&&(g=o&&o.onVnodeBeforeUnmount)&&al(g,t,e),u&6)ve(e.component,n,r);else{if(u&128){e.suspense.unmount(n,r);return}m&&vi(e,null,t,`beforeUnmount`),u&64?e.type.remove(e,t,n,we,r):l&&!l.hasOnce&&(a!==B||d>0&&d&64)?ye(l,t,n,!1,!0):(a===B&&d&384||!i&&u&16)&&ye(c,t,n),r&&me(e)}(h&&(g=o&&o.onVnodeUnmounted)||m)&&Ls(()=>{g&&al(g,t,e),m&&vi(e,null,t,`unmounted`)},n)},me=e=>{let{type:t,el:n,anchor:r,transition:a}=e;if(t===B){process.env.NODE_ENV!==`production`&&e.patchFlag>0&&e.patchFlag&2048&&a&&!a.persisted?e.children.forEach(e=>{e.type===V?i(e.el):me(e)}):he(n,r);return}if(t===Fc){ee(e);return}let o=()=>{i(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(e.shapeFlag&1&&a&&!a.persisted){let{leave:t,delayLeave:r}=a,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},he=(e,t)=>{let n;for(;e!==t;)n=h(e),i(e),e=n;i(t)},ve=(e,t,n)=>{process.env.NODE_ENV!==`production`&&e.type.__hmrId&&Vr(e);let{bum:r,scope:i,job:a,subTree:o,um:s,m:c,a:l,parent:u,slots:{__:d}}=e;qs(c),qs(l),r&&ge(r),u&&S(d)&&d.forEach(e=>{u.renderCache[e]=void 0}),i.stop(),a&&(a.flags|=8,pe(o,e,t,n)),s&&Ls(s,t),Ls(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,t.deps===0&&t.resolve()),process.env.NODE_ENV!==`production`&&ii(e)},ye=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)pe(e[o],t,n,r,i)},be=e=>{if(e.shapeFlag&6)return be(e.component.subTree);if(e.shapeFlag&128)return e.suspense.next();let t=h(e.anchor||e.el),n=t&&t[yi];return n?h(n):t},Se=!1,Ce=(e,t,n)=>{e==null?t._vnode&&pe(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Se||(Se=!0,Mr(),Nr(),Se=!1)},we={p:v,um:pe,m:A,r:me,mt:oe,mc:ne,pc:de,pbc:re,n:be,o:e},Te,Ee;return t&&([Te,Ee]=t(we)),{render:Ce,hydrate:Te,createApp:Xo(Ce,Te)}}function Vs({type:e,props:t},n){return n===`svg`&&e===`foreignObject`||n===`mathml`&&e===`annotation-xml`&&t&&t.encoding&&t.encoding.includes(`html`)?void 0:n}function Hs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Us(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ws(e,t,n=!1){let r=e.children,i=t.children;if(S(r)&&S(i))for(let e=0;e<r.length;e++){let t=r[e],a=i[e];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[e]=nl(i[e]),a.el=t.el),!n&&a.patchFlag!==-2&&Ws(t,a)),a.type===Pc&&(a.el=t.el),a.type===V&&!a.el&&(a.el=t.el),process.env.NODE_ENV!==`production`&&a.el&&(a.el.__vnode=a)}}function Gs(e){let t=e.slice(),n=[0],r,i,a,o,s,c=e.length;for(r=0;r<c;r++){let c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function Ks(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ks(t)}function qs(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Js=Symbol.for(`v-scx`),Ys=()=>{{let e=$o(Js);return e||process.env.NODE_ENV!==`production`&&L(`Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build.`),e}};function Xs(e,t){return ec(e,null,t)}function Zs(e,t){return ec(e,null,process.env.NODE_ENV===`production`?{flush:`post`}:v({},t,{flush:`post`}))}function Qs(e,t){return ec(e,null,process.env.NODE_ENV===`production`?{flush:`sync`}:v({},t,{flush:`sync`}))}function $s(e,t,n){return process.env.NODE_ENV!==`production`&&!T(t)&&L("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),ec(e,t,n)}function ec(e,t,n=f){let{immediate:r,deep:i,flush:a,once:o}=n;process.env.NODE_ENV!==`production`&&!t&&(r!==void 0&&L(`watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.`),i!==void 0&&L(`watch() "deep" option is only respected when using the watch(source, callback, options?) signature.`),o!==void 0&&L(`watch() "once" option is only respected when using the watch(source, callback, options?) signature.`));let s=v({},n);process.env.NODE_ENV!==`production`&&(s.onWarn=L);let c=t&&r||!t&&a!==`post`,l;if(vl){if(a===`sync`){let e=Ys();l=e.__watcherHandles||=[]}else if(!c){let e=()=>{};return e.stop=m,e.resume=m,e.pause=m,e}}let u=ll;s.call=(e,t,n)=>gr(e,u,t,n);let d=!1;a===`post`?s.scheduler=e=>{Ls(e,u&&u.suspense)}:a!==`sync`&&(d=!0,s.scheduler=(e,t)=>{t?e():kr(e)}),s.augmentJob=e=>{t&&(e.flags|=4),d&&(e.flags|=2,u&&(e.id=u.uid,e.i=u))};let p=tr(e,t,s);return vl&&(l?l.push(p):c&&p()),p}function tc(e,t,n){let r=this.proxy,i=E(e)?e.includes(`.`)?nc(r,e):()=>r[e]:e.bind(r,r),a;T(t)?a=t:(a=t.handler,n=t);let o=pl(this),s=ec(i,a.bind(r),n);return o(),s}function nc(e,t){let n=t.split(`.`);return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function rc(e,t,n=f){let r=ul();if(process.env.NODE_ENV!==`production`&&!r)return L(`useModel() called without active instance.`),F();let i=k(t);if(process.env.NODE_ENV!==`production`&&!r.propsOptions[0][i])return L(`useModel() called with prop "${t}" which is not declared.`),F();let a=A(t),o=ic(e,i),s=Bn((o,s)=>{let c,l=f,u;return Qs(()=>{let t=e[i];he(c,t)&&(c=t,s())}),{get(){return o(),n.get?n.get(c):c},set(e){let o=n.set?n.set(e):e;if(!he(o,c)&&!(l!==f&&he(e,l)))return;let d=r.vnode.props;d&&(t in d||i in d||a in d)&&(`onUpdate:${t}`in d||`onUpdate:${i}`in d||`onUpdate:${a}`in d)||(c=e,s()),r.emit(`update:${t}`,o),he(e,o)&&he(e,l)&&!he(o,u)&&s(),l=e,u=o}}});return s[Symbol.iterator]=()=>{let e=0;return{next(){return e<2?{value:e++?o||f:s,done:!1}:{done:!0}}}},s}const ic=(e,t)=>t===`modelValue`||t===`model-value`?e.modelModifiers:e[`${t}Modifiers`]||e[`${k(t)}Modifiers`]||e[`${A(t)}Modifiers`];function ac(e,t,...n){if(e.isUnmounted)return;let r=e.vnode.props||f;if(process.env.NODE_ENV!==`production`){let{emitsOptions:r,propsOptions:[i]}=e;if(r)if(!(t in r))(!i||!(me(k(t))in i))&&L(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${me(k(t))}" prop.`);else{let e=r[t];if(T(e)){let r=e(...n);r||L(`Invalid event arguments: event validation failed for event "${t}".`)}}}let i=n,a=t.startsWith(`update:`),o=a&&ic(r,t.slice(7));if(o&&(o.trim&&(i=n.map(e=>E(e)?e.trim():e)),o.number&&(i=n.map(ve))),process.env.NODE_ENV!==`production`&&li(e,t,i),process.env.NODE_ENV!==`production`){let n=t.toLowerCase();n!==t&&r[me(n)]&&L(`Event "${n}" is emitted in component ${Pl(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${A(t)}" instead of "${t}".`)}let s,c=r[s=me(t)]||r[s=me(k(t))];!c&&a&&(c=r[s=me(A(t))]),c&&gr(c,e,6,i);let l=r[s+`Once`];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[s])return;e.emitted[s]=!0,gr(l,e,6,i)}}function oc(e,t,n=!1){let r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;let a=e.emits,o={},s=!1;if(!T(e)){let r=e=>{let n=oc(e,t,!0);n&&(s=!0,v(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!s?(D(e)&&r.set(e,null),null):(S(a)?a.forEach(e=>o[e]=null):v(o,a),D(e)&&r.set(e,o),o)}function sc(e,t){return!e||!g(t)?!1:(t=t.slice(2).replace(/Once$/,``),x(e,t[0].toLowerCase()+t.slice(1))||x(e,A(t))||x(e,t))}let cc=!1;function lc(){cc=!0}function uc(e){let{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:o,attrs:s,emit:c,render:l,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:h}=e,v=fi(e),y,b;process.env.NODE_ENV!==`production`&&(cc=!1);try{if(n.shapeFlag&4){let e=i||r,t=process.env.NODE_ENV!==`production`&&p.__isScriptSetup?new Proxy(e,{get(e,t,n){return L(`Property '${String(t)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(e,t,n)}}):e;y=tl(l.call(t,e,u,process.env.NODE_ENV===`production`?d:Cn(d),p,f,m)),b=s}else{let e=t;process.env.NODE_ENV!==`production`&&s===d&&lc(),y=tl(e.length>1?e(process.env.NODE_ENV===`production`?d:Cn(d),process.env.NODE_ENV===`production`?{attrs:s,slots:o,emit:c}:{get attrs(){return lc(),Cn(s)},slots:o,emit:c}):e(process.env.NODE_ENV===`production`?d:Cn(d),null)),b=t.props?s:pc(s)}}catch(t){Ic.length=0,_r(t,e,1),y=K(V)}let x=y,S;if(process.env.NODE_ENV!==`production`&&y.patchFlag>0&&y.patchFlag&2048&&([x,S]=dc(y)),b&&h!==!1){let e=Object.keys(b),{shapeFlag:t}=x;if(e.length){if(t&7)a&&e.some(_)&&(b=mc(b,a)),x=Zc(x,b,!1,!0);else if(process.env.NODE_ENV!==`production`&&!cc&&x.type!==V){let e=Object.keys(s),t=[],n=[];for(let r=0,i=e.length;r<i;r++){let i=e[r];g(i)?_(i)||t.push(i[2].toLowerCase()+i.slice(3)):n.push(i)}n.length&&L(`Extraneous non-props attributes (${n.join(`, `)}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),t.length&&L(`Extraneous non-emits event listeners (${t.join(`, `)}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return n.dirs&&(process.env.NODE_ENV!==`production`&&!hc(x)&&L(`Runtime directive used on component with non-element root node. The directives will not function as intended.`),x=Zc(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(process.env.NODE_ENV!==`production`&&!hc(x)&&L(`Component inside <Transition> renders non-element root node that cannot be animated.`),Gi(x,n.transition)),process.env.NODE_ENV!==`production`&&S?S(x):y=x,fi(v),y}const dc=e=>{let t=e.children,n=e.dynamicChildren,r=fc(t,!1);if(r){if(process.env.NODE_ENV!==`production`&&r.patchFlag>0&&r.patchFlag&2048)return dc(r)}else return[e,void 0];let i=t.indexOf(r),a=n?n.indexOf(r):-1,o=r=>{t[i]=r,n&&(a>-1?n[a]=r:r.patchFlag>0&&(e.dynamicChildren=[...n,r]))};return[tl(r),o]};function fc(e,t=!0){let n;for(let r=0;r<e.length;r++){let i=e[r];if(Hc(i)){if(i.type!==V||i.children===`v-if`){if(n)return;if(n=i,process.env.NODE_ENV!==`production`&&t&&n.patchFlag>0&&n.patchFlag&2048)return fc(n.children)}}else return}return n}const pc=e=>{let t;for(let n in e)(n===`class`||n===`style`||g(n))&&((t||={})[n]=e[n]);return t},mc=(e,t)=>{let n={};for(let r in e)(!_(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n},hc=e=>e.shapeFlag&7||e.type===V;function gc(e,t,n){let{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:c}=t,l=a.emitsOptions;if(process.env.NODE_ENV!==`production`&&(i||s)&&Lr||t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?_c(r,o,l):!!o;if(c&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!sc(l,n))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?_c(r,o,l):!0:!!o;return!1}function _c(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){let a=r[i];if(t[a]!==e[a]&&!sc(n,a))return!0}return!1}function vc({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const yc=e=>e.__isSuspense;let bc=0;const xc={name:`Suspense`,__isSuspense:!0,process(e,t,n,r,i,a,o,s,c,l){if(e==null)wc(t,n,r,i,a,o,s,c,l);else{if(a&&a.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}Tc(e,t,n,r,i,o,s,c,l)}},hydrate:Oc,normalize:kc},Sc=xc;function Cc(e,t){let n=e.props&&e.props[t];T(n)&&n()}function wc(e,t,n,r,i,a,o,s,c){let{p:l,o:{createElement:u}}=c,d=u(`div`),f=e.suspense=Dc(e,i,r,t,d,n,a,o,s,c);l(null,f.pendingBranch=e.ssContent,d,null,r,f,a,o),f.deps>0?(Cc(e,`onPending`),Cc(e,`onFallback`),l(null,e.ssFallback,t,n,r,null,a,o),Mc(f,e.ssFallback)):f.resolve(!1,!0)}function Tc(e,t,n,r,i,a,o,s,{p:c,um:l,o:{createElement:u}}){let d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;let f=t.ssContent,p=t.ssFallback,{activeBranch:m,pendingBranch:h,isInFallback:g,isHydrating:_}=d;if(h)d.pendingBranch=f,Uc(f,h)?(c(h,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0?d.resolve():g&&(_||(c(m,p,n,r,i,null,a,o,s),Mc(d,p)))):(d.pendingId=bc++,_?(d.isHydrating=!1,d.activeBranch=h):l(h,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u(`div`),g?(c(null,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0?d.resolve():(c(m,p,n,r,i,null,a,o,s),Mc(d,p))):m&&Uc(f,m)?(c(m,f,n,r,i,d,a,o,s),d.resolve(!0)):(c(null,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0&&d.resolve()));else if(m&&Uc(f,m))c(m,f,n,r,i,d,a,o,s),Mc(d,f);else if(Cc(t,`onPending`),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=bc++,c(null,f,d.hiddenContainer,null,i,d,a,o,s),d.deps<=0)d.resolve();else{let{timeout:e,pendingId:t}=d;e>0?setTimeout(()=>{d.pendingId===t&&d.fallback(p)},e):e===0&&d.fallback(p)}}let Ec=!1;function Dc(e,t,n,r,i,a,o,s,c,l,u=!1){process.env.NODE_ENV!==`production`&&!Ec&&(Ec=!0,console[console.info?`info`:`log`](`<Suspense> is an experimental feature and its API will likely change.`));let{p:d,m:f,um:p,n:m,o:{parentNode:h,remove:g}}=l,_,v=Nc(e);v&&t&&t.pendingBranch&&(_=t.pendingId,t.deps++);let y=e.props?ye(e.props.timeout):void 0;process.env.NODE_ENV!==`production`&&fr(y,`Suspense timeout`);let b=a,x={vnode:e,parent:t,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:bc++,timeout:typeof y==`number`?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){if(process.env.NODE_ENV!==`production`){if(!e&&!x.pendingBranch)throw Error(`suspense.resolve() is called without a pending branch.`);if(x.isUnmounted)throw Error(`suspense.resolve() is called on an already unmounted suspense boundary.`)}let{vnode:r,activeBranch:i,pendingBranch:o,pendingId:s,effects:c,parentComponent:l,container:u}=x,d=!1;x.isHydrating?x.isHydrating=!1:e||(d=i&&o.transition&&o.transition.mode===`out-in`,d&&(i.transition.afterLeave=()=>{s===x.pendingId&&(f(o,u,a===b?m(i):a,0),jr(c))}),i&&(h(i.el)===u&&(a=m(i)),p(i,l,x,!0)),d||f(o,u,a,0)),Mc(x,o),x.pendingBranch=null,x.isInFallback=!1;let g=x.parent,y=!1;for(;g;){if(g.pendingBranch){g.effects.push(...c),y=!0;break}g=g.parent}!y&&!d&&jr(c),x.effects=[],v&&t&&t.pendingBranch&&_===t.pendingId&&(t.deps--,t.deps===0&&!n&&t.resolve()),Cc(r,`onResolve`)},fallback(e){if(!x.pendingBranch)return;let{vnode:t,activeBranch:n,parentComponent:r,container:i,namespace:a}=x;Cc(t,`onFallback`);let o=m(n),l=()=>{x.isInFallback&&(d(null,e,i,o,r,null,a,s,c),Mc(x,e))},u=e.transition&&e.transition.mode===`out-in`;u&&(n.transition.afterLeave=l),x.isInFallback=!0,p(n,r,null,!0),u||l()},move(e,t,n){x.activeBranch&&f(x.activeBranch,e,t,n),x.container=e},next(){return x.activeBranch&&m(x.activeBranch)},registerDep(e,t,n){let r=!!x.pendingBranch;r&&x.deps++;let i=e.vnode.el;e.asyncDep.catch(t=>{_r(t,e,0)}).then(a=>{if(e.isUnmounted||x.isUnmounted||x.pendingId!==e.suspenseId)return;e.asyncResolved=!0;let{vnode:s}=e;process.env.NODE_ENV!==`production`&&ir(s),xl(e,a,!1),i&&(s.el=i);let c=!i&&e.subTree.el;t(e,s,h(i||e.subTree.el),i?null:m(e.subTree),x,o,n),c&&g(c),vc(e,s.el),process.env.NODE_ENV!==`production`&&ar(),r&&--x.deps===0&&x.resolve()})},unmount(e,t){x.isUnmounted=!0,x.activeBranch&&p(x.activeBranch,n,e,t),x.pendingBranch&&p(x.pendingBranch,n,e,t)}};return x}function Oc(e,t,n,r,i,a,o,s,c){let l=t.suspense=Dc(t,r,n,e.parentNode,document.createElement(`div`),null,i,a,o,s,!0),u=c(e,l.pendingBranch=t.ssContent,n,l,a,o);return l.deps===0&&l.resolve(!1,!0),u}function kc(e){let{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=Ac(r?n.default:n),e.ssFallback=r?Ac(n.fallback):K(V)}function Ac(e){let t;if(T(e)){let n=zc&&e._c;n&&(e._d=!1,H()),e=e(),n&&(e._d=!0,t=Lc,Rc())}if(S(e)){let t=fc(e);process.env.NODE_ENV!==`production`&&!t&&e.filter(e=>e!==Xa).length>0&&L(`<Suspense> slots expect a single root node.`),e=t}return e=tl(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function jc(e,t){t&&t.pendingBranch?S(e)?t.effects.push(...e):t.effects.push(e):jr(e)}function Mc(e,t){e.activeBranch=t;let{vnode:n,parentComponent:r}=e,i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,vc(r,i))}function Nc(e){let t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const B=Symbol.for(`v-fgt`),Pc=Symbol.for(`v-txt`),V=Symbol.for(`v-cmt`),Fc=Symbol.for(`v-stc`),Ic=[];let Lc=null;function H(e=!1){Ic.push(Lc=e?null:[])}function Rc(){Ic.pop(),Lc=Ic[Ic.length-1]||null}let zc=1;function Bc(e,t=!1){zc+=e,e<0&&Lc&&t&&(Lc.hasOnce=!0)}function Vc(e){return e.dynamicChildren=zc>0?Lc||p:null,Rc(),zc>0&&Lc&&Lc.push(e),e}function U(e,t,n,r,i,a){return Vc(G(e,t,n,r,i,a,!0))}function W(e,t,n,r,i){return Vc(K(e,t,n,r,i,!0))}function Hc(e){return e?e.__v_isVNode===!0:!1}function Uc(e,t){if(process.env.NODE_ENV!==`production`&&t.shapeFlag&6&&e.component){let n=Rr.get(t.type);if(n&&n.has(e.component))return e.shapeFlag&=-257,t.shapeFlag&=-513,!1}return e.type===t.type&&e.key===t.key}let Wc;function Gc(e){Wc=e}const Kc=(...e)=>Yc(...Wc?Wc(e,ui):e),qc=({key:e})=>e??null,Jc=({ref:e,ref_key:t,ref_for:n})=>(typeof e==`number`&&(e=``+e),e==null?null:E(e)||P(e)||T(e)?{i:ui,r:e,k:t,f:!!n}:e);function G(e,t=null,n=null,r=0,i=null,a=e===B?0:1,o=!1,s=!1){let c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&qc(t),ref:t&&Jc(t),scopeId:di,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ui};return s?(rl(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=E(n)?8:16),process.env.NODE_ENV!==`production`&&c.key!==c.key&&L(`VNode created with invalid key (NaN). VNode type:`,c.type),zc>0&&!o&&Lc&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Lc.push(c),c}const K=process.env.NODE_ENV===`production`?Yc:Kc;function Yc(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===Xa)&&(process.env.NODE_ENV!==`production`&&!e&&L(`Invalid vnode type when creating vnode: ${e}.`),e=V),Hc(e)){let r=Zc(e,t,!0);return n&&rl(r,n),zc>0&&!a&&Lc&&(r.shapeFlag&6?Lc[Lc.indexOf(e)]=r:Lc.push(r)),r.patchFlag=-2,r}if(Fl(e)&&(e=e.__vccOpts),t){t=Xc(t);let{class:e,style:n}=t;e&&!E(e)&&(t.class=j(e)),D(n)&&(On(n)&&!S(n)&&(n=v({},n)),t.style=we(n))}let o=E(e)?1:yc(e)?128:bi(e)?64:D(e)?4:T(e)?2:0;return process.env.NODE_ENV!==`production`&&o&4&&On(e)&&(e=N(e),L("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,e)),G(e,t,n,r,i,o,a,!0)}function Xc(e){return e?On(e)||rs(e)?v({},e):e:null}function Zc(e,t,n=!1,r=!1){let{props:i,ref:a,patchFlag:o,children:s,transition:c}=e,l=t?il(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&qc(l),ref:t&&t.ref?n&&a?S(a)?a.concat(Jc(t)):[a,Jc(t)]:Jc(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:process.env.NODE_ENV!==`production`&&o===-1&&S(s)?s.map(Qc):s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==B?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zc(e.ssContent),ssFallback:e.ssFallback&&Zc(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Gi(u,c.clone(u)),u}function Qc(e){let t=Zc(e);return S(e.children)&&(t.children=e.children.map(Qc)),t}function q(e=` `,t=0){return K(Pc,null,e,t)}function $c(e,t){let n=K(Fc,null,e);return n.staticCount=t,n}function el(e=``,t=!1){return t?(H(),W(V,null,e)):K(V,null,e)}function tl(e){return e==null||typeof e==`boolean`?K(V):S(e)?K(B,null,e.slice()):Hc(e)?nl(e):K(Pc,null,String(e))}function nl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zc(e)}function rl(e,t){let n=0,{shapeFlag:r}=e;if(t==null)t=null;else if(S(t))n=16;else if(typeof t==`object`)if(r&65){let n=t.default;n&&(n._c&&(n._d=!1),rl(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;!r&&!rs(t)?t._ctx=ui:r===3&&ui&&(ui.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else T(t)?(t={default:t,_ctx:ui},n=32):(t=String(t),r&64?(n=16,t=[q(t)]):n=8);e.children=t,e.shapeFlag|=n}function il(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if(e===`class`)t.class!==r.class&&(t.class=j([t.class,r.class]));else if(e===`style`)t.style=we([t.style,r.style]);else if(g(e)){let n=t[e],i=r[e];i&&n!==i&&!(S(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else e!==``&&(t[e]=r[e])}return t}function al(e,t,n,r=null){gr(e,t,7,[n,r])}const ol=Jo();let sl=0;function cl(e,t,n){let r=e.type,i=(t?t.appContext:e.appContext)||ol,a={uid:sl++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new tt(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:[``,0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fs(r,i),emitsOptions:oc(r,i),emit:null,emitted:null,propsDefaults:f,inheritAttrs:r.inheritAttrs,ctx:f,data:f,props:f,attrs:f,slots:f,refs:f,setupState:f,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return process.env.NODE_ENV===`production`?a.ctx={_:a}:a.ctx=po(a),a.root=t?t.root:a,a.emit=ac.bind(null,a),e.ce&&e.ce(a),a}let ll=null;const ul=()=>ll||ui;let dl,fl;{let e=xe(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};dl=t(`__VUE_INSTANCE_SETTERS__`,e=>ll=e),fl=t(`__VUE_SSR_SETTERS__`,e=>vl=e)}const pl=e=>{let t=ll;return dl(e),e.scope.on(),()=>{e.scope.off(),dl(t)}},ml=()=>{ll&&ll.scope.off(),dl(null)},hl=d(`slot,component`);function gl(e,{isNativeTag:t}){(hl(e)||t(e))&&L(`Do not use built-in or reserved HTML elements as component id: `+e)}function _l(e){return e.vnode.shapeFlag&4}let vl=!1;function yl(e,t=!1,n=!1){t&&fl(t);let{props:r,children:i}=e.vnode,a=_l(e);os(e,r,a,t),ks(e,i,n||t);let o=a?bl(e,t):void 0;return t&&fl(!1),o}function bl(e,t){var n;let r=e.type;if(process.env.NODE_ENV!==`production`){if(r.name&&gl(r.name,e.appContext.config),r.components){let t=Object.keys(r.components);for(let n=0;n<t.length;n++)gl(t[n],e.appContext.config)}if(r.directives){let e=Object.keys(r.directives);for(let t=0;t<e.length;t++)gi(e[t])}r.compilerOptions&&Tl()&&L(`"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.`)}e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,uo),process.env.NODE_ENV!==`production`&&mo(e);let{setup:i}=r;if(i){Ct();let a=e.setupContext=i.length>1?kl(e):null,o=pl(e),s=hr(i,e,0,[process.env.NODE_ENV===`production`?e.props:Cn(e.props),a]),c=re(s);if(wt(),o(),(c||e.sp)&&!Sa(e)&&Ji(e),c){if(s.then(ml,ml),t)return s.then(n=>{xl(e,n,t)}).catch(t=>{_r(t,e,0)});if(e.asyncDep=s,process.env.NODE_ENV!==`production`&&!e.suspense){let e=(n=r.name)??`Anonymous`;L(`Component <${e}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else xl(e,s,t)}else El(e,t)}function xl(e,t,n){T(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:D(t)?(process.env.NODE_ENV!==`production`&&Hc(t)&&L(`setup() should not return VNodes directly - return a render function instead.`),process.env.NODE_ENV!==`production`&&(e.devtoolsRawSetupState=t),e.setupState=Rn(t),process.env.NODE_ENV!==`production`&&ho(e)):process.env.NODE_ENV!==`production`&&t!==void 0&&L(`setup() should return an object. Received: ${t===null?`null`:typeof t}`),El(e,n)}let Sl,Cl;function wl(e){Sl=e,Cl=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,fo))}}const Tl=()=>!Sl;function El(e,t,n){let r=e.type;if(!e.render){if(!t&&Sl&&!r.render){let t=r.template||Ro(e).template;if(t){process.env.NODE_ENV!==`production`&&Ns(e,`compile`);let{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:o}=r,s=v(v({isCustomElement:n,delimiters:a},i),o);r.render=Sl(t,s),process.env.NODE_ENV!==`production`&&Ps(e,`compile`)}}e.render=r.render||m,Cl&&Cl(e)}{let t=pl(e);Ct();try{Po(e)}finally{wt(),t()}}process.env.NODE_ENV!==`production`&&!r.render&&e.render===m&&!t&&(!Sl&&r.template?L(`Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".`):L(`Component is missing template or render function: `,r))}const Dl=process.env.NODE_ENV===`production`?{get(e,t){return Pt(e,`get`,``),e[t]}}:{get(e,t){return lc(),Pt(e,`get`,``),e[t]},set(){return L(`setupContext.attrs is readonly.`),!1},deleteProperty(){return L(`setupContext.attrs is readonly.`),!1}};function Ol(e){return new Proxy(e.slots,{get(t,n){return Pt(e,`get`,`$slots`),t[n]}})}function kl(e){let t=t=>{if(process.env.NODE_ENV!==`production`&&(e.exposed&&L(`expose() should be called only once per setup().`),t!=null)){let e=typeof t;e===`object`&&(S(t)?e=`array`:P(t)&&(e=`ref`)),e!==`object`&&L(`expose() should be passed a plain object, received ${e}.`)}e.exposed=t||{}};if(process.env.NODE_ENV!==`production`){let n,r;return Object.freeze({get attrs(){return n||=new Proxy(e.attrs,Dl)},get slots(){return r||=Ol(e)},get emit(){return(t,...n)=>e.emit(t,...n)},expose:t})}else return{attrs:new Proxy(e.attrs,Dl),slots:e.slots,emit:e.emit,expose:t}}function Al(e){return e.exposed?e.exposeProxy||=new Proxy(Rn(kn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in so)return so[n](e)},has(e,t){return t in e||t in so}}):e.proxy}const jl=/(?:^|[-_])(\w)/g,Ml=e=>e.replace(jl,e=>e.toUpperCase()).replace(/[-_]/g,``);function Nl(e,t=!0){return T(e)?e.displayName||e.name:e.name||t&&e.__name}function Pl(e,t,n=!1){let r=Nl(t);if(!r&&t.__file){let e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){let n=e=>{for(let n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?Ml(r):n?`App`:`Anonymous`}function Fl(e){return T(e)&&`__vccOpts`in e}const J=(e,t)=>{let n=qn(e,t,vl);if(process.env.NODE_ENV!==`production`){let e=ul();e&&e.appContext.config.warnRecursiveComputed&&(n._warnRecursive=!0)}return n};function Il(e,t,n){let r=arguments.length;return r===2?D(t)&&!S(t)?Hc(t)?K(e,null,[t]):K(e,t):K(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Hc(n)&&(n=[n]),K(e,t,n))}function Ll(){if(process.env.NODE_ENV===`production`||typeof window>`u`)return;let e={style:`color:#3ba776`},t={style:`color:#1677ff`},n={style:`color:#f5222d`},r={style:`color:#eb2f96`},i={__vue_custom_formatter:!0,header(t){if(!D(t))return null;if(t.__isVue)return[`div`,e,`VueInstance`];if(P(t)){Ct();let n=t.value;return wt(),[`div`,{},[`span`,e,u(t)],`<`,s(n),`>`]}else if(Tn(t))return[`div`,{},[`span`,e,Dn(t)?`ShallowReactive`:`Reactive`],`<`,s(t),`>${En(t)?` (readonly)`:``}`];else if(En(t))return[`div`,{},[`span`,e,Dn(t)?`ShallowReadonly`:`Readonly`],`<`,s(t),`>`];return null},hasBody(e){return e&&e.__isVue},body(e){if(e&&e.__isVue)return[`div`,{},...a(e.$)]}};function a(e){let t=[];e.type.props&&e.props&&t.push(o(`props`,N(e.props))),e.setupState!==f&&t.push(o(`setup`,e.setupState)),e.data!==f&&t.push(o(`data`,N(e.data)));let n=c(e,`computed`);n&&t.push(o(`computed`,n));let i=c(e,`inject`);return i&&t.push(o(`injected`,i)),t.push([`div`,{},[`span`,{style:r.style+`;opacity:0.66`},`$ (internal): `],[`object`,{object:e}]]),t}function o(e,t){return t=v({},t),Object.keys(t).length?[`div`,{style:`line-height:1.25em;margin-bottom:0.6em`},[`div`,{style:`color:#476582`},e],[`div`,{style:`padding-left:1.25em`},...Object.keys(t).map(e=>[`div`,{},[`span`,r,e+`: `],s(t[e],!1)])]]:[`span`,{}]}function s(e,i=!0){return typeof e==`number`?[`span`,t,e]:typeof e==`string`?[`span`,n,JSON.stringify(e)]:typeof e==`boolean`?[`span`,r,e]:D(e)?[`object`,{object:i?N(e):e}]:[`span`,n,String(e)]}function c(e,t){let n=e.type;if(T(n))return;let r={};for(let i in e.ctx)l(n,i,t)&&(r[i]=e.ctx[i]);return r}function l(e,t,n){let r=e[n];if(S(r)&&r.includes(t)||D(r)&&t in r||e.extends&&l(e.extends,t,n)||e.mixins&&e.mixins.some(e=>l(e,t,n)))return!0}function u(e){return Dn(e)?`ShallowRef`:e.effect?`ComputedRef`:`Ref`}window.devtoolsFormatters?window.devtoolsFormatters.push(i):window.devtoolsFormatters=[i]}function Rl(e,t,n,r){let i=n[r];if(i&&zl(i,e))return i;let a=t();return a.memo=e.slice(),a.cacheIndex=r,n[r]=a}function zl(e,t){let n=e.memo;if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(he(n[e],t[e]))return!1;return zc>0&&Lc&&Lc.push(e),!0}const Bl=`3.5.17`,Vl=process.env.NODE_ENV===`production`?m:L,Hl=mr,Ul=(process.env.NODE_ENV,Jr),Wl=(process.env.NODE_ENV,Qr),Gl={createComponentInstance:cl,setupComponent:yl,renderComponentRoot:uc,setCurrentRenderingInstance:fi,isVNode:Hc,normalizeVNode:tl,getComponentPublicInstance:Al,ensureValidVNode:io,pushWarningContext:ir,popWarningContext:ar},Kl=Gl,ql=null,Jl=null,Yl=null;let Xl;const Zl=typeof window<`u`&&window.trustedTypes;if(Zl)try{Xl=Zl.createPolicy(`vue`,{createHTML:e=>e})}catch(e){process.env.NODE_ENV!==`production`&&Vl(`Error creating trusted types policy: ${e}`)}const Ql=Xl?e=>Xl.createHTML(e):e=>e,$l=`http://www.w3.org/2000/svg`,eu=`http://www.w3.org/1998/Math/MathML`,tu=typeof document<`u`?document:null,nu=tu&&tu.createElement(`template`),ru={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let i=t===`svg`?tu.createElementNS($l,e):t===`mathml`?tu.createElementNS(eu,e):n?tu.createElement(e,{is:n}):tu.createElement(e);return e===`select`&&r&&r.multiple!=null&&i.setAttribute(`multiple`,r.multiple),i},createText:e=>tu.createTextNode(e),createComment:e=>tu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tu.querySelector(e),setScopeId(e,t){e.setAttribute(t,``)},insertStaticContent(e,t,n,r,i,a){let o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{nu.innerHTML=Ql(r===`svg`?`<svg>${e}</svg>`:r===`mathml`?`<math>${e}</math>`:e);let i=nu.content;if(r===`svg`||r===`mathml`){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},iu=`transition`,au=`animation`,ou=Symbol(`_vtc`),su={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},cu=v({},Ii,su),lu=e=>(e.displayName=`Transition`,e.props=cu,e),uu=lu((e,{slots:t})=>Il(Bi,pu(e),t)),du=(e,t=[])=>{S(e)?e.forEach(e=>e(...t)):e&&e(...t)},fu=e=>e?S(e)?e.some(e=>e.length>1):e.length>1:!1;function pu(e){let t={};for(let n in e)n in su||(t[n]=e[n]);if(e.css===!1)return t;let{name:n=`v`,type:r,duration:i,enterFromClass:a=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:l=o,appearToClass:u=s,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=mu(i),h=m&&m[0],g=m&&m[1],{onBeforeEnter:_,onEnter:y,onEnterCancelled:b,onLeave:x,onLeaveCancelled:S,onBeforeAppear:C=_,onAppear:w=y,onAppearCancelled:ee=b}=t,te=(e,t,n,r)=>{e._enterCancelled=r,_u(e,t?u:s),_u(e,t?l:o),n&&n()},T=(e,t)=>{e._isLeaving=!1,_u(e,d),_u(e,p),_u(e,f),t&&t()},E=e=>(t,n)=>{let i=e?w:y,o=()=>te(t,e,n);du(i,[t,o]),vu(()=>{_u(t,e?c:a),gu(t,e?u:s),fu(i)||bu(t,r,h,o)})};return v(t,{onBeforeEnter(e){du(_,[e]),gu(e,a),gu(e,o)},onBeforeAppear(e){du(C,[e]),gu(e,c),gu(e,l)},onEnter:E(!1),onAppear:E(!0),onLeave(e,t){e._isLeaving=!0;let n=()=>T(e,t);gu(e,d),e._enterCancelled?(gu(e,f),wu()):(wu(),gu(e,f)),vu(()=>{e._isLeaving&&(_u(e,d),gu(e,p),fu(x)||bu(e,r,g,n))}),du(x,[e,n])},onEnterCancelled(e){te(e,!1,void 0,!0),du(b,[e])},onAppearCancelled(e){te(e,!0,void 0,!0),du(ee,[e])},onLeaveCancelled(e){T(e),du(S,[e])}})}function mu(e){if(e==null)return null;if(D(e))return[hu(e.enter),hu(e.leave)];{let t=hu(e);return[t,t]}}function hu(e){let t=ye(e);return process.env.NODE_ENV!==`production`&&fr(t,`<transition> explicit duration`),t}function gu(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[ou]||(e[ou]=new Set)).add(t)}function _u(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));let n=e[ou];n&&(n.delete(t),n.size||(e[ou]=void 0))}function vu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let yu=0;function bu(e,t,n,r){let i=e._endId=++yu,a=()=>{i===e._endId&&r()};if(n!=null)return setTimeout(a,n);let{type:o,timeout:s,propCount:c}=xu(e,t);if(!o)return r();let l=o+`end`,u=0,d=()=>{e.removeEventListener(l,f),a()},f=t=>{t.target===e&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},s+1),e.addEventListener(l,f)}function xu(e,t){let n=window.getComputedStyle(e),r=e=>(n[e]||``).split(`, `),i=r(`${iu}Delay`),a=r(`${iu}Duration`),o=Su(i,a),s=r(`${au}Delay`),c=r(`${au}Duration`),l=Su(s,c),u=null,d=0,f=0;t===iu?o>0&&(u=iu,d=o,f=a.length):t===au?l>0&&(u=au,d=l,f=c.length):(d=Math.max(o,l),u=d>0?o>l?iu:au:null,f=u?u===iu?a.length:c.length:0);let p=u===iu&&/\b(transform|all)(,|$)/.test(r(`${iu}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function Su(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>Cu(t)+Cu(e[n])))}function Cu(e){return e===`auto`?0:Number(e.slice(0,-1).replace(`,`,`.`))*1e3}function wu(){return document.body.offsetHeight}function Tu(e,t,n){let r=e[ou];r&&(t=(t?[t,...r]:[...r]).join(` `)),t==null?e.removeAttribute(`class`):n?e.setAttribute(`class`,t):e.className=t}const Eu=Symbol(`_vod`),Du=Symbol(`_vsh`),Ou={beforeMount(e,{value:t},{transition:n}){e[Eu]=e.style.display===`none`?``:e.style.display,n&&t?n.beforeEnter(e):ku(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ku(e,!0),r.enter(e)):r.leave(e,()=>{ku(e,!1)}):ku(e,t))},beforeUnmount(e,{value:t}){ku(e,t)}};process.env.NODE_ENV!==`production`&&(Ou.name=`show`);function ku(e,t){e.style.display=t?e[Eu]:`none`,e[Du]=!t}function Au(){Ou.getSSRProps=({value:e})=>{if(!e)return{style:{display:`none`}}}}const ju=Symbol(process.env.NODE_ENV===`production`?``:`CSS_VAR_TEXT`);function Mu(e){let t=ul();if(!t){process.env.NODE_ENV!==`production`&&Vl(`useCssVars is called without current active component instance.`);return}let n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(e=>Pu(e,n))};process.env.NODE_ENV!==`production`&&(t.getCssVars=()=>e(t.proxy));let r=()=>{let r=e(t.proxy);t.ce?Pu(t.ce,r):Nu(t.subTree,r),n(r)};za(()=>{jr(r)}),Ra(()=>{$s(r,m,{flush:`post`});let e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),Ha(()=>e.disconnect())})}function Nu(e,t){if(e.shapeFlag&128){let n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Nu(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Pu(e.el,t);else if(e.type===B)e.children.forEach(e=>Nu(e,t));else if(e.type===Fc){let{el:n,anchor:r}=e;for(;n&&(Pu(n,t),n!==r);)n=n.nextSibling}}function Pu(e,t){if(e.nodeType===1){let n=e.style,r=``;for(let e in t)n.setProperty(`--${e}`,t[e]),r+=`--${e}: ${t[e]};`;n[ju]=r}}const Fu=/(^|;)\s*display\s*:/;function Iu(e,t,n){let r=e.style,i=E(n),a=!1;if(n&&!i){if(t)if(E(t))for(let e of t.split(`;`)){let t=e.slice(0,e.indexOf(`:`)).trim();n[t]??zu(r,t,``)}else for(let e in t)n[e]??zu(r,e,``);for(let e in n)e===`display`&&(a=!0),zu(r,e,n[e])}else if(i){if(t!==n){let e=r[ju];e&&(n+=`;`+e),r.cssText=n,a=Fu.test(n)}}else t&&e.removeAttribute(`style`);Eu in e&&(e[Eu]=a?r.display:``,e[Du]&&(r.display=`none`))}const Lu=/[^\\];\s*$/,Ru=/\s*!important$/;function zu(e,t,n){if(S(n))n.forEach(n=>zu(e,t,n));else if(n??=``,process.env.NODE_ENV!==`production`&&Lu.test(n)&&Vl(`Unexpected semicolon at the end of '${t}' style value: '${n}'`),t.startsWith(`--`))e.setProperty(t,n);else{let r=Hu(e,t);Ru.test(n)?e.setProperty(A(r),n.replace(Ru,``),`important`):e[r]=n}}const Bu=[`Webkit`,`Moz`,`ms`],Vu={};function Hu(e,t){let n=Vu[t];if(n)return n;let r=k(t);if(r!==`filter`&&r in e)return Vu[t]=r;r=pe(r);for(let n=0;n<Bu.length;n++){let i=Bu[n]+r;if(i in e)return Vu[t]=i}return t}const Uu=`http://www.w3.org/1999/xlink`;function Wu(e,t,n,r,i,a=Re(t)){r&&t.startsWith(`xlink:`)?n==null?e.removeAttributeNS(Uu,t.slice(6,t.length)):e.setAttributeNS(Uu,t,n):n==null||a&&!Be(n)?e.removeAttribute(t):e.setAttribute(t,a?``:ne(n)?String(n):n)}function Gu(e,t,n,r,i){if(t===`innerHTML`||t===`textContent`){n!=null&&(e[t]=t===`innerHTML`?Ql(n):n);return}let a=e.tagName;if(t===`value`&&a!==`PROGRESS`&&!a.includes(`-`)){let r=a===`OPTION`?e.getAttribute(`value`)||``:e.value,i=n==null?e.type===`checkbox`?`on`:``:String(n);(r!==i||!(`_value`in e))&&(e.value=i),n??e.removeAttribute(t),e._value=n;return}let o=!1;if(n===``||n==null){let r=typeof e[t];r===`boolean`?n=Be(n):n==null&&r===`string`?(n=``,o=!0):r===`number`&&(n=0,o=!0)}try{e[t]=n}catch(e){process.env.NODE_ENV!==`production`&&!o&&Vl(`Failed setting prop "${t}" on <${a.toLowerCase()}>: value ${n} is invalid.`,e)}o&&e.removeAttribute(i||t)}function Ku(e,t,n,r){e.addEventListener(t,n,r)}function qu(e,t,n,r){e.removeEventListener(t,n,r)}const Ju=Symbol(`_vei`);function Yu(e,t,n,r,i=null){let a=e[Ju]||(e[Ju]={}),o=a[t];if(r&&o)o.value=process.env.NODE_ENV===`production`?r:nd(r,t);else{let[n,s]=Zu(t);if(r){let o=a[t]=td(process.env.NODE_ENV===`production`?r:nd(r,t),i);Ku(e,n,o,s)}else o&&(qu(e,n,o,s),a[t]=void 0)}}const Xu=/(?:Once|Passive|Capture)$/;function Zu(e){let t;if(Xu.test(e)){t={};let n;for(;n=e.match(Xu);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}let n=e[2]===`:`?e.slice(3):A(e.slice(2));return[n,t]}let Qu=0;const $u=Promise.resolve(),ed=()=>Qu||($u.then(()=>Qu=0),Qu=Date.now());function td(e,t){let n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;gr(rd(e,n.value),t,5,[e])};return n.value=e,n.attached=ed(),n}function nd(e,t){return T(e)||S(e)?e:(Vl(`Wrong type passed as event handler to ${t} - did you forget @ or : in front of your prop?
Expected function or array of functions, received type ${typeof e}.`),m)}function rd(e,t){if(S(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}else return t}const id=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ad=(e,t,n,r,i,a)=>{let o=i===`svg`;t===`class`?Tu(e,r,o):t===`style`?Iu(e,n,r):g(t)?_(t)||Yu(e,t,n,r,a):(t[0]===`.`?(t=t.slice(1),!0):t[0]===`^`?(t=t.slice(1),!1):od(e,t,r,o))?(Gu(e,t,r),!e.tagName.includes(`-`)&&(t===`value`||t===`checked`||t===`selected`)&&Wu(e,t,r,o,a,t!==`value`)):e._isVueCE&&(/[A-Z]/.test(t)||!E(r))?Gu(e,k(t),r,a,t):(t===`true-value`?e._trueValue=r:t===`false-value`&&(e._falseValue=r),Wu(e,t,r,o))};function od(e,t,n,r){if(r)return!!(t===`innerHTML`||t===`textContent`||t in e&&id(t)&&T(n));if(t===`spellcheck`||t===`draggable`||t===`translate`||t===`autocorrect`||t===`form`||t===`list`&&e.tagName===`INPUT`||t===`type`&&e.tagName===`TEXTAREA`)return!1;if(t===`width`||t===`height`){let t=e.tagName;if(t===`IMG`||t===`VIDEO`||t===`CANVAS`||t===`SOURCE`)return!1}return id(t)&&E(n)?!1:t in e}const sd={};
/*! #__NO_SIDE_EFFECTS__ */
function cd(e,t,n){let r=z(e,t);oe(r)&&v(r,t);class i extends dd{constructor(e){super(r,e,n)}}return i.def=r,i}
/*! #__NO_SIDE_EFFECTS__ */
const ld=(e,t)=>cd(e,t,tf),ud=typeof HTMLElement<`u`?HTMLElement:class{};var dd=class e extends ud{constructor(e,t={},n=ef){super(),this._def=e,this._props=t,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==ef?this._root=this.shadowRoot:(process.env.NODE_ENV!==`production`&&this.shadowRoot&&Vl("Custom element has pre-rendered declarative shadow root but is not defined as hydratable. Use `defineSSRCustomElement`."),e.shadowRoot===!1?this._root=this:(this.attachShadow({mode:`open`}),this._root=this.shadowRoot))}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t&&=t.parentNode||t.host;)if(t instanceof e){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Dr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);this._ob=new MutationObserver(e=>{for(let t of e)this._setAttr(t.attributeName)}),this._ob.observe(this,{attributes:!0});let e=(e,t=!1)=>{this._resolved=!0,this._pendingResolve=void 0;let{props:n,styles:r}=e,i;if(n&&!S(n))for(let e in n){let t=n[e];(t===Number||t&&t.type===Number)&&(e in this._props&&(this._props[e]=ye(this._props[e])),(i||=Object.create(null))[k(e)]=!0)}this._numberProps=i,this._resolveProps(e),this.shadowRoot?this._applyStyles(r):process.env.NODE_ENV!==`production`&&r&&Vl(`Custom element style injection is not supported when using shadowRoot: false`),this._mount(e)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then(t=>{t.configureApp=this._def.configureApp,e(this._def=t,!0)}):e(this._def)}_mount(e){process.env.NODE_ENV!==`production`&&!e.name&&(e.name=`VueElement`),this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);let t=this._instance&&this._instance.exposed;if(t)for(let e in t)x(this,e)?process.env.NODE_ENV!==`production`&&Vl(`Exposed property "${e}" already exists on custom element.`):Object.defineProperty(this,e,{get:()=>I(t[e])})}_resolveProps(e){let{props:t}=e,n=S(t)?t:Object.keys(t||{});for(let e of Object.keys(this))e[0]!==`_`&&n.includes(e)&&this._setProp(e,this[e]);for(let e of n.map(k))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t,!0,!0)}})}_setAttr(e){if(e.startsWith(`data-v-`))return;let t=this.hasAttribute(e),n=t?this.getAttribute(e):sd,r=k(e);t&&this._numberProps&&this._numberProps[r]&&(n=ye(n)),this._setProp(r,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!1){if(t!==this._props[e]&&(t===sd?delete this._props[e]:(this._props[e]=t,e===`key`&&this._app&&(this._app._ceVNode.key=t)),r&&this._instance&&this._update(),n)){let n=this._ob;n&&n.disconnect(),t===!0?this.setAttribute(A(e),``):typeof t==`string`||typeof t==`number`?this.setAttribute(A(e),t+``):t||this.removeAttribute(A(e)),n&&n.observe(this,{attributes:!0})}}_update(){let e=this._createVNode();this._app&&(e.appContext=this._app._context),Qd(e,this._root)}_createVNode(){let e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));let t=K(this._def,v(e,this._props));return this._instance||(t.ce=e=>{this._instance=e,e.ce=this,e.isCE=!0,process.env.NODE_ENV!==`production`&&(e.ceReload=e=>{this._styles&&(this._styles.forEach(e=>this._root.removeChild(e)),this._styles.length=0),this._applyStyles(e),this._instance=null,this._update()});let t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,oe(t[0])?v({detail:t},t[0]):{detail:t}))};e.emit=(e,...n)=>{t(e,n),A(e)!==e&&t(A(e),n)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}let n=this._nonce;for(let r=e.length-1;r>=0;r--){let i=document.createElement(`style`);if(n&&i.setAttribute(`nonce`,n),i.textContent=e[r],this.shadowRoot.prepend(i),process.env.NODE_ENV!==`production`)if(t){if(t.__hmrId){this._childStyles||=new Map;let e=this._childStyles.get(t.__hmrId);e||this._childStyles.set(t.__hmrId,e=[]),e.push(i)}}else (this._styles||=[]).push(i)}}_parseSlots(){let e=this._slots={},t;for(;t=this.firstChild;){let n=t.nodeType===1&&t.getAttribute(`slot`)||`default`;(e[n]||(e[n]=[])).push(t),this.removeChild(t)}}_renderSlots(){let e=(this._teleportTarget||this).querySelectorAll(`slot`),t=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){let r=e[n],i=r.getAttribute(`name`)||`default`,a=this._slots[i],o=r.parentNode;if(a)for(let e of a){if(t&&e.nodeType===1){let n=t+`-s`,r=document.createTreeWalker(e,1);e.setAttribute(n,``);let i;for(;i=r.nextNode();)i.setAttribute(n,``)}o.insertBefore(e,r)}else for(;r.firstChild;)o.insertBefore(r.firstChild,r);o.removeChild(r)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){if(process.env.NODE_ENV!==`production`&&(this._styleChildren.delete(e),this._childStyles&&e.__hmrId)){let t=this._childStyles.get(e.__hmrId);t&&(t.forEach(e=>this._root.removeChild(e)),t.length=0)}}};function fd(e){let t=ul(),n=t&&t.ce;return n||(process.env.NODE_ENV!==`production`&&Vl(t?`${e||`useHost`} can only be used in components defined via defineCustomElement.`:`${e||`useHost`} called without an active component instance.`),null)}function pd(){let e=process.env.NODE_ENV===`production`?fd():fd(`useShadowRoot`);return e&&e.shadowRoot}function md(e=`$style`){{let t=ul();if(!t)return process.env.NODE_ENV!==`production`&&Vl(`useCssModule must be called inside setup()`),f;let n=t.type.__cssModules;if(!n)return process.env.NODE_ENV!==`production`&&Vl(`Current instance does not have CSS modules injected.`),f;let r=n[e];return r||(process.env.NODE_ENV!==`production`&&Vl(`Current instance does not have CSS module named "${e}".`),f)}}const hd=new WeakMap,gd=new WeakMap,_d=Symbol(`_moveCb`),vd=Symbol(`_enterCb`),yd=e=>(delete e.props.mode,e),bd=yd({name:`TransitionGroup`,props:v({},cu,{tag:String,moveClass:String}),setup(e,{slots:t}){let n=ul(),r=Pi(),i,a;return Ba(()=>{if(!i.length)return;let t=e.moveClass||`${e.name||`v`}-move`;if(!Td(i[0].el,n.vnode.el,t)){i=[];return}i.forEach(Sd),i.forEach(Cd);let r=i.filter(wd);wu(),r.forEach(e=>{let n=e.el,r=n.style;gu(n,t),r.transform=r.webkitTransform=r.transitionDuration=``;let i=n[_d]=e=>{e&&e.target!==n||(!e||/transform$/.test(e.propertyName))&&(n.removeEventListener(`transitionend`,i),n[_d]=null,_u(n,t))};n.addEventListener(`transitionend`,i)}),i=[]}),()=>{let o=N(e),s=pu(o),c=o.tag||B;if(i=[],a)for(let e=0;e<a.length;e++){let t=a[e];t.el&&t.el instanceof Element&&(i.push(t),Gi(t,Hi(t,s,r,n)),hd.set(t,t.el.getBoundingClientRect()))}a=t.default?Ki(t.default()):[];for(let e=0;e<a.length;e++){let t=a[e];t.key==null?process.env.NODE_ENV!==`production`&&t.type!==Pc&&Vl(`<TransitionGroup> children must be keyed.`):Gi(t,Hi(t,s,r,n))}return K(c,null,a)}}}),xd=bd;function Sd(e){let t=e.el;t[_d]&&t[_d](),t[vd]&&t[vd]()}function Cd(e){gd.set(e,e.el.getBoundingClientRect())}function wd(e){let t=hd.get(e),n=gd.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){let t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration=`0s`,e}}function Td(e,t,n){let r=e.cloneNode(),i=e[ou];i&&i.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display=`none`;let a=t.nodeType===1?t:t.parentNode;a.appendChild(r);let{hasTransform:o}=xu(r);return a.removeChild(r),o}const Ed=e=>{let t=e.props[`onUpdate:modelValue`]||!1;return S(t)?e=>ge(t,e):t};function Dd(e){e.target.composing=!0}function Od(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event(`input`)))}const kd=Symbol(`_assign`),Ad={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[kd]=Ed(i);let a=r||i.props&&i.props.type===`number`;Ku(e,t?`change`:`input`,t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),a&&(r=ve(r)),e[kd](r)}),n&&Ku(e,`change`,()=>{e.value=e.value.trim()}),t||(Ku(e,`compositionstart`,Dd),Ku(e,`compositionend`,Od),Ku(e,`change`,Od))},mounted(e,{value:t}){e.value=t??``},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[kd]=Ed(o),e.composing)return;let s=(a||e.type===`number`)&&!/^0\d/.test(e.value)?ve(e.value):e.value,c=t??``;s!==c&&(document.activeElement===e&&e.type!==`range`&&(r&&t===n||i&&e.value.trim()===c)||(e.value=c))}},jd={deep:!0,created(e,t,n){e[kd]=Ed(n),Ku(e,`change`,()=>{let t=e._modelValue,n=Id(e),r=e.checked,i=e[kd];if(S(t)){let e=Je(t,n),a=e!==-1;if(r&&!a)i(t.concat(n));else if(!r&&a){let n=[...t];n.splice(e,1),i(n)}}else if(w(t)){let e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(Ld(e,r))})},mounted:Md,beforeUpdate(e,t,n){e[kd]=Ed(n),Md(e,t,n)}};function Md(e,{value:t,oldValue:n},r){e._modelValue=t;let i;if(S(t))i=Je(t,r.props.value)>-1;else if(w(t))i=t.has(r.props.value);else{if(t===n)return;i=qe(t,Ld(e,!0))}e.checked!==i&&(e.checked=i)}const Nd={created(e,{value:t},n){e.checked=qe(t,n.props.value),e[kd]=Ed(n),Ku(e,`change`,()=>{e[kd](Id(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[kd]=Ed(r),t!==n&&(e.checked=qe(t,r.props.value))}},Pd={deep:!0,created(e,{value:t,modifiers:{number:n}},r){let i=w(t);Ku(e,`change`,()=>{let t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?ve(Id(e)):Id(e));e[kd](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,Dr(()=>{e._assigning=!1})}),e[kd]=Ed(r)},mounted(e,{value:t}){Fd(e,t)},beforeUpdate(e,t,n){e[kd]=Ed(n)},updated(e,{value:t}){e._assigning||Fd(e,t)}};function Fd(e,t){let n=e.multiple,r=S(t);if(n&&!r&&!w(t)){process.env.NODE_ENV!==`production`&&Vl(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(t).slice(8,-1)}.`);return}for(let i=0,a=e.options.length;i<a;i++){let a=e.options[i],o=Id(a);if(n)if(r){let e=typeof o;e===`string`||e===`number`?a.selected=t.some(e=>String(e)===String(o)):a.selected=Je(t,o)>-1}else a.selected=t.has(o);else if(qe(Id(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}function Id(e){return`_value`in e?e._value:e.value}function Ld(e,t){let n=t?`_trueValue`:`_falseValue`;return n in e?e[n]:t}const Rd={created(e,t,n){Bd(e,t,n,null,`created`)},mounted(e,t,n){Bd(e,t,n,null,`mounted`)},beforeUpdate(e,t,n,r){Bd(e,t,n,r,`beforeUpdate`)},updated(e,t,n,r){Bd(e,t,n,r,`updated`)}};function zd(e,t){switch(e){case`SELECT`:return Pd;case`TEXTAREA`:return Ad;default:switch(t){case`checkbox`:return jd;case`radio`:return Nd;default:return Ad}}}function Bd(e,t,n,r,i){let a=zd(e.tagName,n.props&&n.props.type),o=a[i];o&&o(e,t,n,r)}function Vd(){Ad.getSSRProps=({value:e})=>({value:e}),Nd.getSSRProps=({value:e},t)=>{if(t.props&&qe(t.props.value,e))return{checked:!0}},jd.getSSRProps=({value:e},t)=>{if(S(e)){if(t.props&&Je(e,t.props.value)>-1)return{checked:!0}}else if(w(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Rd.getSSRProps=(e,t)=>{if(typeof t.type!=`string`)return;let n=zd(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const Hd=[`ctrl`,`shift`,`alt`,`meta`],Ud={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>`button`in e&&e.button!==0,middle:e=>`button`in e&&e.button!==1,right:e=>`button`in e&&e.button!==2,exact:(e,t)=>Hd.some(n=>e[`${n}Key`]&&!t.includes(n))},Wd=(e,t)=>{let n=e._withMods||={},r=t.join(`.`);return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){let r=Ud[t[e]];if(r&&r(n,t))return}return e(n,...r)})},Gd={esc:`escape`,space:` `,up:`arrow-up`,left:`arrow-left`,right:`arrow-right`,down:`arrow-down`,delete:`backspace`},Kd=(e,t)=>{let n=e._withKeys||={},r=t.join(`.`);return n[r]||(n[r]=n=>{if(!(`key`in n))return;let r=A(n.key);if(t.some(e=>e===r||Gd[e]===r))return e(n)})},qd=v({patchProp:ad},ru);let Jd,Yd=!1;function Xd(){return Jd||=Rs(qd)}function Zd(){return Jd=Yd?Jd:zs(qd),Yd=!0,Jd}const Qd=(...e)=>{Xd().render(...e)},$d=(...e)=>{Zd().hydrate(...e)},ef=(...e)=>{let t=Xd().createApp(...e);process.env.NODE_ENV!==`production`&&(rf(t),af(t));let{mount:n}=t;return t.mount=e=>{let r=sf(e);if(!r)return;let i=t._component;!T(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent=``);let a=n(r,!1,nf(r));return r instanceof Element&&(r.removeAttribute(`v-cloak`),r.setAttribute(`data-v-app`,``)),a},t},tf=(...e)=>{let t=Zd().createApp(...e);process.env.NODE_ENV!==`production`&&(rf(t),af(t));let{mount:n}=t;return t.mount=e=>{let t=sf(e);if(t)return n(t,!0,nf(t))},t};function nf(e){if(e instanceof SVGElement)return`svg`;if(typeof MathMLElement==`function`&&e instanceof MathMLElement)return`mathml`}function rf(e){Object.defineProperty(e.config,`isNativeTag`,{value:e=>Pe(e)||Fe(e)||Ie(e),writable:!1})}function af(e){if(Tl()){let t=e.config.isCustomElement;Object.defineProperty(e.config,`isCustomElement`,{get(){return t},set(){Vl("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});let n=e.config.compilerOptions,r='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,`compilerOptions`,{get(){return Vl(r),n},set(){Vl(r)}})}}function sf(e){if(E(e)){let t=document.querySelector(e);return process.env.NODE_ENV!==`production`&&!t&&Vl(`Failed to mount app: mount target selector "${e}" returned null.`),t}return process.env.NODE_ENV!==`production`&&window.ShadowRoot&&e instanceof window.ShadowRoot&&e.mode===`closed`&&Vl('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),e}let cf=!1;const lf=()=>{cf||(cf=!0,Vd(),Au())};var uf={};s(uf,{BaseTransition:()=>Bi,BaseTransitionPropsValidators:()=>Ii,Comment:()=>V,DeprecationTypes:()=>Yl,EffectScope:()=>tt,ErrorCodes:()=>pr,ErrorTypeStrings:()=>Hl,Fragment:()=>B,KeepAlive:()=>Da,ReactiveEffect:()=>ot,Static:()=>Fc,Suspense:()=>Sc,Teleport:()=>ki,Text:()=>Pc,TrackOpTypes:()=>Jn,Transition:()=>uu,TransitionGroup:()=>xd,TriggerOpTypes:()=>Yn,VueElement:()=>dd,assertNumber:()=>fr,callWithAsyncErrorHandling:()=>gr,callWithErrorHandling:()=>hr,camelize:()=>k,capitalize:()=>pe,cloneVNode:()=>Zc,compatUtils:()=>Jl,compile:()=>ff,computed:()=>J,createApp:()=>ef,createBlock:()=>W,createCommentVNode:()=>el,createElementBlock:()=>U,createElementVNode:()=>G,createHydrationRenderer:()=>zs,createPropsRestProxy:()=>Ao,createRenderer:()=>Rs,createSSRApp:()=>tf,createSlots:()=>no,createStaticVNode:()=>$c,createTextVNode:()=>q,createVNode:()=>K,customRef:()=>Bn,defineAsyncComponent:()=>Ca,defineComponent:()=>z,defineCustomElement:()=>cd,defineEmits:()=>vo,defineExpose:()=>yo,defineModel:()=>So,defineOptions:()=>bo,defineProps:()=>_o,defineSSRCustomElement:()=>ld,defineSlots:()=>xo,devtools:()=>Ul,effect:()=>yt,effectScope:()=>nt,getCurrentInstance:()=>ul,getCurrentScope:()=>rt,getCurrentWatcher:()=>$n,getTransitionRawChildren:()=>Ki,guardReactiveProps:()=>Xc,h:()=>Il,handleError:()=>_r,hasInjectionContext:()=>es,hydrate:()=>$d,hydrateOnIdle:()=>ga,hydrateOnInteraction:()=>ba,hydrateOnMediaQuery:()=>ya,hydrateOnVisible:()=>va,initCustomFormatter:()=>Ll,initDirectivesForSSR:()=>lf,inject:()=>$o,isMemoSame:()=>zl,isProxy:()=>On,isReactive:()=>Tn,isReadonly:()=>En,isRef:()=>P,isRuntimeOnly:()=>Tl,isShallow:()=>Dn,isVNode:()=>Hc,markRaw:()=>kn,mergeDefaults:()=>Oo,mergeModels:()=>ko,mergeProps:()=>il,nextTick:()=>Dr,normalizeClass:()=>j,normalizeProps:()=>Ae,normalizeStyle:()=>we,onActivated:()=>ka,onBeforeMount:()=>La,onBeforeUnmount:()=>Va,onBeforeUpdate:()=>za,onDeactivated:()=>Aa,onErrorCaptured:()=>Ka,onMounted:()=>Ra,onRenderTracked:()=>Ga,onRenderTriggered:()=>Wa,onScopeDispose:()=>it,onServerPrefetch:()=>Ua,onUnmounted:()=>Ha,onUpdated:()=>Ba,onWatcherCleanup:()=>er,openBlock:()=>H,popScopeId:()=>mi,provide:()=>Qo,proxyRefs:()=>Rn,pushScopeId:()=>pi,queuePostFlushCb:()=>jr,reactive:()=>bn,readonly:()=>Sn,ref:()=>F,registerRuntimeCompiler:()=>wl,render:()=>Qd,renderList:()=>to,renderSlot:()=>ro,resolveComponent:()=>Ya,resolveDirective:()=>Qa,resolveDynamicComponent:()=>Za,resolveFilter:()=>ql,resolveTransitionHooks:()=>Hi,setBlockTracking:()=>Bc,setDevtoolsHook:()=>Wl,setTransitionHooks:()=>Gi,shallowReactive:()=>xn,shallowReadonly:()=>Cn,shallowRef:()=>Mn,ssrContextKey:()=>Js,ssrUtils:()=>Kl,stop:()=>bt,toDisplayString:()=>Xe,toHandlerKey:()=>me,toHandlers:()=>ao,toRaw:()=>N,toRef:()=>Wn,toRefs:()=>Vn,toValue:()=>In,transformVNodeArgs:()=>Gc,triggerRef:()=>Fn,unref:()=>I,useAttrs:()=>To,useCssModule:()=>md,useCssVars:()=>Mu,useHost:()=>fd,useId:()=>qi,useModel:()=>rc,useSSRContext:()=>Ys,useShadowRoot:()=>pd,useSlots:()=>wo,useTemplateRef:()=>Xi,useTransitionState:()=>Pi,vModelCheckbox:()=>jd,vModelDynamic:()=>Rd,vModelRadio:()=>Nd,vModelSelect:()=>Pd,vModelText:()=>Ad,vShow:()=>Ou,version:()=>Bl,warn:()=>Vl,watch:()=>$s,watchEffect:()=>Xs,watchPostEffect:()=>Zs,watchSyncEffect:()=>Qs,withAsyncContext:()=>jo,withCtx:()=>R,withDefaults:()=>Co,withDirectives:()=>_i,withKeys:()=>Kd,withMemo:()=>Rl,withModifiers:()=>Wd,withScopeId:()=>hi});function df(){Ll()}process.env.NODE_ENV!==`production`&&df();const ff=()=>{process.env.NODE_ENV!==`production`&&Vl(`Runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".`)},pf=e=>e.provider===`google`,mf=e=>e.provider===`bedrock`,hf=e=>e.provider===`openai`,gf=e=>e.provider===`anthropic`;function _f(e){return e?e.flatMap(e=>e.type===B?_f(e.children):[e]):[]}const vf=z({name:`PrimitiveSlot`,inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;let e=_f(n.default()),r=e.findIndex(e=>e.type!==V);if(r===-1)return e;let i=e[r];delete i.props?.ref;let a=i.props?il(t,i.props):t,o=Zc({...i,props:{}},a);return e.length===1?o:(e[r]=o,e)}}}),yf=[`area`,`img`,`input`],bf=z({name:`Primitive`,inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:`div`}},setup(e,{attrs:t,slots:n}){let r=e.asChild?`template`:e.as;return typeof r==`string`&&yf.includes(r)?()=>Il(r,t):r===`template`?()=>Il(vf,t,{default:n.default}):()=>Il(e.as,t,{default:n.default})}}),xf=typeof window<`u`&&typeof document<`u`,Sf=typeof WorkerGlobalScope<`u`&&globalThis instanceof WorkerGlobalScope,Cf=e=>e!==void 0;function wf(e){let t=Object.create(null);return n=>{let r=t[n];return r||(t[n]=e(n))}}const Tf=/\B([A-Z])/g,Ef=wf(e=>e.replace(Tf,`-$1`).toLowerCase()),Df=/-(\w)/g,Of=wf(e=>e.replace(Df,(e,t)=>t?t.toUpperCase():``)),kf=xf?window:void 0,Af=xf?window.document:void 0,jf=xf?window.navigator:void 0,Mf=xf?window.location:void 0;function Nf(e){var t;let n=In(e);return(t=n?.$el)??n}const Pf=Symbol(`vueuse-ssr-width`);function Ff(e){return JSON.parse(JSON.stringify(e))}const If=[{max:6e4,value:1e3,name:`second`},{max:276e4,value:6e4,name:`minute`},{max:72e6,value:36e5,name:`hour`},{max:5184e5,value:864e5,name:`day`},{max:24192e5,value:6048e5,name:`week`},{max:28512e6,value:2592e6,name:`month`},{max:1/0,value:31536e6,name:`year`}];function Lf(e,t,n,r={}){var i,a,o;let{clone:s=!1,passive:c=!1,eventName:l,deep:u=!1,defaultValue:d,shouldEmit:f}=r,p=ul(),m=n||p?.emit||(i=p?.$emit)?.bind(p)||(o=(a=p?.proxy)?.$emit)?.bind(p?.proxy),h=l;t||=`modelValue`,h||=`update:${t.toString()}`;let g=e=>s?typeof s==`function`?s(e):Ff(e):e,_=()=>Cf(e[t])?g(e[t]):d,v=e=>{f?f(e)&&m(h,e):m(h,e)};if(c){let n=_(),r=F(n),i=!1;return $s(()=>e[t],e=>{i||(i=!0,r.value=g(e),Dr(()=>i=!1))}),$s(r,n=>{!i&&(n!==e[t]||u)&&v(n)},{deep:u}),r}else return J({get(){return _()},set(e){v(e)}})}function Rf(e,t){let n=typeof e==`string`&&!t?`${e}Context`:t,r=Symbol(n),i=t=>{let n=$o(r,t);if(n||n===null)return n;throw Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(`, `)}`:`\`${e}\``}`)},a=e=>(Qo(r,e),e);return[i,a]}const[zf,Bf]=Rf(`ConfigProvider`);function Vf(e){let t=zf({dir:F(`ltr`)});return J(()=>e?.value||t.dir?.value||`ltr`)}function Hf(){let e=ul(),t=F(),n=J(()=>[`#text`,`#comment`].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:Nf(t)),r=Object.assign({},e.exposed),i={};for(let t in e.props)Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:()=>e.props[t]});if(Object.keys(r).length>0)for(let e in r)Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>r[e]});Object.defineProperty(i,`$el`,{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=i;function a(n){t.value=n,n&&(Object.defineProperty(i,`$el`,{enumerable:!0,configurable:!0,get:()=>n instanceof Element?n:n.$el}),e.exposed=i)}return{forwardRef:a,currentRef:t,currentElement:n}}let Uf=0;function Wf(e,t=`reka`){if(e)return e;let n=zf({useId:void 0});return Object.hasOwn(uf,`useId`)?`${t}-${qi?.()}`:n.useId?`${t}-${n.useId()}`:`${t}-${++Uf}`}function Gf(e,t){let n=F(e);function r(e){let r=t[n.value][e];return r??n.value}let i=e=>{n.value=r(e)};return{state:n,dispatch:i}}function Kf(e,t){let n=F({}),r=F(`none`),i=F(e),a=e.value?`mounted`:`unmounted`,o,s=t.value?.ownerDocument.defaultView??kf,{state:c,dispatch:l}=Gf(a,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}}),u=e=>{if(xf){let n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(n)}};$s(e,async(e,i)=>{let a=i!==e;if(await Dr(),a){let a=r.value,o=qf(t.value);if(e)l(`MOUNT`),u(`enter`),o===`none`&&u(`after-enter`);else if(o===`none`||o===`undefined`||n.value?.display===`none`)l(`UNMOUNT`),u(`leave`),u(`after-leave`);else{let e=a!==o;i&&e?(l(`ANIMATION_OUT`),u(`leave`)):(l(`UNMOUNT`),u(`after-leave`))}}},{immediate:!0});let d=e=>{let n=qf(t.value),r=n.includes(e.animationName),a=c.value===`mounted`?`enter`:`leave`;if(e.target===t.value&&r&&(u(`after-${a}`),l(`ANIMATION_END`),!i.value)){let e=t.value.style.animationFillMode;t.value.style.animationFillMode=`forwards`,o=s?.setTimeout(()=>{t.value?.style.animationFillMode===`forwards`&&(t.value.style.animationFillMode=e)})}e.target===t.value&&n===`none`&&l(`ANIMATION_END`)},f=e=>{e.target===t.value&&(r.value=qf(t.value))},p=$s(t,(e,t)=>{e?(n.value=getComputedStyle(e),e.addEventListener(`animationstart`,f),e.addEventListener(`animationcancel`,d),e.addEventListener(`animationend`,d)):(l(`ANIMATION_END`),o!==void 0&&s?.clearTimeout(o),t?.removeEventListener(`animationstart`,f),t?.removeEventListener(`animationcancel`,d),t?.removeEventListener(`animationend`,d))},{immediate:!0}),m=$s(c,()=>{let e=qf(t.value);r.value=c.value===`mounted`?e:`none`});Ha(()=>{p(),m()});let h=J(()=>[`mounted`,`unmountSuspended`].includes(c.value));return{isPresent:h}}function qf(e){return e&&getComputedStyle(e).animationName||`none`}const Jf=z({name:`Presence`,props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){let{present:r,forceMount:i}=Vn(e),a=F(),{isPresent:o}=Kf(r,a);n({present:o});let s=t.default({present:o.value});s=_f(s||[]);let c=ul();if(s&&s?.length>1){let e=c?.parent?.type.name?`<${c.parent.type.name} />`:`component`;throw Error([`Detected an invalid children for \`${e}\` for  \`Presence\` component.`,``,"Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.",`You can apply a few solutions:`,["Provide a single child element so that `presence` directive attach correctly.",`Ensure the first child is an actual element instead of a raw text node or comment node.`].map(e=>`  - ${e}`).join(`
`)].join(`
`))}return()=>i.value||r.value||o.value?Il(t.default({present:o.value})[0],{ref:e=>{let t=Nf(e);return t?.hasAttribute===void 0||(t?.hasAttribute(`data-reka-popper-content-wrapper`)?a.value=t.firstElementChild:a.value=t),t}}):null}});function Yf(e){let t=ul(),n=t?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${t?.type.__name}`),n?.forEach(t=>{r[me(k(t))]=(...n)=>e(t,...n)}),r}function Xf(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function Zf(e){let t=ul(),n=Object.keys(t?.type.props??{}).reduce((e,n)=>{let r=(t?.type.props[n]).default;return r!==void 0&&(e[n]=r),e},{}),r=Wn(e);return J(()=>{let e={},i=t?.vnode.props??{};return Object.keys(i).forEach(t=>{e[k(t)]=i[t]}),Object.keys({...n,...e}).reduce((e,t)=>(r.value[t]!==void 0&&(e[t]=r.value[t]),e),{})})}function Qf(e,t){let n=Zf(e),r=t?Yf(t):{};return J(()=>({...n.value,...r}))}function $f(){let e=F(),t=J(()=>[`#text`,`#comment`].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:Nf(e));return{primitiveElement:e,currentElement:t}}const ep=`data-reka-collection-item`;function tp(e={}){let{key:t=``,isProvider:n=!1}=e,r=`${t}CollectionProvider`,i;if(n){let e=F(new Map),t=F();i={collectionRef:t,itemMap:e},Qo(r,i)}else i=$o(r);let a=(e=!1)=>{let t=i.collectionRef.value;if(!t)return[];let n=Array.from(t.querySelectorAll(`[${ep}]`)),r=Array.from(i.itemMap.value.values()),a=r.sort((e,t)=>n.indexOf(e.ref)-n.indexOf(t.ref));return e?a:a.filter(e=>e.ref.dataset.disabled!==``)},o=z({name:`CollectionSlot`,setup(e,{slots:t}){let{primitiveElement:n,currentElement:r}=$f();return $s(r,()=>{i.collectionRef.value=r.value}),()=>Il(vf,{ref:n},t)}}),s=z({name:`CollectionItem`,inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(e,{slots:t,attrs:n}){let{primitiveElement:r,currentElement:a}=$f();return Xs(t=>{if(a.value){let n=kn(a.value);i.itemMap.value.set(n,{ref:a.value,value:e.value}),t(()=>i.itemMap.value.delete(n))}}),()=>Il(vf,{...n,[ep]:``,ref:r},t)}}),c=J(()=>Array.from(i.itemMap.value.values())),l=J(()=>i.itemMap.value.size);return{getItems:a,reactiveItems:c,itemMapSize:l,CollectionSlot:o,CollectionItem:s}}const np=`rovingFocusGroup.onEntryFocus`,rp={bubbles:!1,cancelable:!0},ip={ArrowLeft:`prev`,ArrowUp:`prev`,ArrowRight:`next`,ArrowDown:`next`,PageUp:`first`,Home:`first`,PageDown:`last`,End:`last`};function ap(e,t){return t===`rtl`?e===`ArrowLeft`?`ArrowRight`:e===`ArrowRight`?`ArrowLeft`:e:e}function op(e,t,n){let r=ap(e.key,n);if(!(t===`vertical`&&[`ArrowLeft`,`ArrowRight`].includes(r))&&!(t===`horizontal`&&[`ArrowUp`,`ArrowDown`].includes(r)))return ip[r]}function sp(e,t=!1){let n=Xf();for(let r of e)if(r===n||(r.focus({preventScroll:t}),Xf()!==n))return}function cp(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const[lp,up]=Rf(`RovingFocusGroup`),dp=z({__name:`RovingFocusGroup`,props:{orientation:{default:void 0},dir:{},loop:{type:Boolean,default:!1},currentTabStopId:{},defaultCurrentTabStopId:{},preventScrollOnEntryFocus:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:[`entryFocus`,`update:currentTabStopId`],setup(e,{expose:t,emit:n}){let r=e,i=n,{loop:a,orientation:o,dir:s}=Vn(r),c=Vf(s),l=Lf(r,`currentTabStopId`,i,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),u=F(!1),d=F(!1),f=F(0),{getItems:p,CollectionSlot:m}=tp({isProvider:!0});function h(e){let t=!d.value;if(e.currentTarget&&e.target===e.currentTarget&&t&&!u.value){let t=new CustomEvent(np,rp);if(e.currentTarget.dispatchEvent(t),i(`entryFocus`,t),!t.defaultPrevented){let e=p().map(e=>e.ref).filter(e=>e.dataset.disabled!==``),t=e.find(e=>e.getAttribute(`data-active`)===``),n=e.find(e=>e.id===l.value),i=[t,n,...e].filter(Boolean);sp(i,r.preventScrollOnEntryFocus)}}d.value=!1}function g(){setTimeout(()=>{d.value=!1},1)}return t({getItems:p}),up({loop:a,dir:c,orientation:o,currentTabStopId:l,onItemFocus:e=>{l.value=e},onItemShiftTab:()=>{u.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(e,t)=>(H(),W(I(m),null,{default:R(()=>[K(I(bf),{tabindex:u.value||f.value===0?-1:0,"data-orientation":I(o),as:e.as,"as-child":e.asChild,dir:I(c),style:{outline:`none`},onMousedown:t[0]||=e=>d.value=!0,onMouseup:g,onFocus:h,onBlur:t[1]||=e=>u.value=!1},{default:R(()=>[ro(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`as`,`as-child`,`dir`])]),_:3}))}}),fp=z({__name:`RovingFocusItem`,props:{tabStopId:{},focusable:{type:Boolean,default:!0},active:{type:Boolean},allowShiftKey:{type:Boolean},asChild:{type:Boolean},as:{default:`span`}},setup(e){let t=e,n=lp(),r=Wf(),i=J(()=>t.tabStopId||r),a=J(()=>n.currentTabStopId.value===i.value),{getItems:o,CollectionItem:s}=tp();Ra(()=>{t.focusable&&n.onFocusableItemAdd()}),Ha(()=>{t.focusable&&n.onFocusableItemRemove()});function c(e){if(e.key===`Tab`&&e.shiftKey){n.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let r=op(e,n.orientation.value,n.dir.value);if(r!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||!t.allowShiftKey&&e.shiftKey)return;e.preventDefault();let i=[...o().map(e=>e.ref).filter(e=>e.dataset.disabled!==``)];if(r===`last`)i.reverse();else if(r===`prev`||r===`next`){r===`prev`&&i.reverse();let t=i.indexOf(e.currentTarget);i=n.loop.value?cp(i,t+1):i.slice(t+1)}Dr(()=>sp(i))}}return(e,t)=>(H(),W(I(s),null,{default:R(()=>[K(I(bf),{tabindex:a.value?0:-1,"data-orientation":I(n).orientation.value,"data-active":e.active?``:void 0,"data-disabled":e.focusable?void 0:``,as:e.as,"as-child":e.asChild,onMousedown:t[0]||=t=>{e.focusable?I(n).onItemFocus(i.value):t.preventDefault()},onFocus:t[1]||=e=>I(n).onItemFocus(i.value),onKeydown:c},{default:R(()=>[ro(e.$slots,`default`)]),_:3},8,[`tabindex`,`data-orientation`,`data-active`,`data-disabled`,`as`,`as-child`])]),_:3}))}}),pp=z({__name:`Label`,props:{for:{},asChild:{type:Boolean},as:{default:`label`}},setup(e){let t=e;return Hf(),(e,n)=>(H(),W(I(bf),il(t,{onMousedown:n[0]||=e=>{!e.defaultPrevented&&e.detail>1&&e.preventDefault()}}),{default:R(()=>[ro(e.$slots,`default`)]),_:3},16))}});function mp(e,t){return`${e}-trigger-${t}`}function hp(e,t){return`${e}-content-${t}`}const[gp,_p]=Rf(`TabsRoot`),vp=z({__name:`TabsRoot`,props:{defaultValue:{},orientation:{default:`horizontal`},dir:{},activationMode:{default:`automatic`},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,{orientation:i,unmountOnHide:a,dir:o}=Vn(n),s=Vf(o);Hf();let c=Lf(n,`modelValue`,r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),l=F();return _p({modelValue:c,changeModelValue:e=>{c.value=e},orientation:i,dir:s,unmountOnHide:a,activationMode:n.activationMode,baseId:Wf(void 0,`reka-tabs`),tabsList:l}),(e,t)=>(H(),W(I(bf),{dir:I(s),"data-orientation":I(i),"as-child":e.asChild,as:e.as},{default:R(()=>[ro(e.$slots,`default`,{modelValue:I(c)})]),_:3},8,[`dir`,`data-orientation`,`as-child`,`as`]))}}),yp=z({__name:`TabsContent`,props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(e){let t=e,{forwardRef:n}=Hf(),r=gp(),i=J(()=>mp(r.baseId,t.value)),a=J(()=>hp(r.baseId,t.value)),o=J(()=>t.value===r.modelValue.value),s=F(o.value);return Ra(()=>{requestAnimationFrame(()=>{s.value=!1})}),(e,t)=>(H(),W(I(Jf),{present:e.forceMount||o.value,"force-mount":``},{default:R(({present:t})=>[K(I(bf),{id:a.value,ref:I(n),"as-child":e.asChild,as:e.as,role:`tabpanel`,"data-state":o.value?`active`:`inactive`,"data-orientation":I(r).orientation.value,"aria-labelledby":i.value,hidden:!t,tabindex:`0`,style:we({animationDuration:s.value?`0s`:void 0})},{default:R(()=>[!I(r).unmountOnHide.value||t?ro(e.$slots,`default`,{key:0}):el(``,!0)]),_:2},1032,[`id`,`as-child`,`as`,`data-state`,`data-orientation`,`aria-labelledby`,`hidden`,`style`])]),_:3},8,[`present`]))}}),bp=z({__name:`TabsList`,props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(e){let t=e,{loop:n}=Vn(t),{forwardRef:r,currentElement:i}=Hf(),a=gp();return a.tabsList=i,(e,t)=>(H(),W(I(dp),{"as-child":``,orientation:I(a).orientation.value,dir:I(a).dir.value,loop:I(n)},{default:R(()=>[K(I(bf),{ref:I(r),role:`tablist`,"as-child":e.asChild,as:e.as,"aria-orientation":I(a).orientation.value},{default:R(()=>[ro(e.$slots,`default`)]),_:3},8,[`as-child`,`as`,`aria-orientation`])]),_:3},8,[`orientation`,`dir`,`loop`]))}}),xp=z({__name:`TabsTrigger`,props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:`button`}},setup(e){let t=e,{forwardRef:n}=Hf(),r=gp(),i=J(()=>mp(r.baseId,t.value)),a=J(()=>hp(r.baseId,t.value)),o=J(()=>t.value===r.modelValue.value);return(e,t)=>(H(),W(I(fp),{"as-child":``,focusable:!e.disabled,active:o.value},{default:R(()=>[K(I(bf),{id:i.value,ref:I(n),role:`tab`,type:e.as===`button`?`button`:void 0,as:e.as,"as-child":e.asChild,"aria-selected":o.value?`true`:`false`,"aria-controls":a.value,"data-state":o.value?`active`:`inactive`,disabled:e.disabled,"data-disabled":e.disabled?``:void 0,"data-orientation":I(r).orientation.value,onMousedown:t[0]||=Wd(t=>{!e.disabled&&t.ctrlKey===!1?I(r).changeModelValue(e.value):t.preventDefault()},[`left`]),onKeydown:t[1]||=Kd(t=>I(r).changeModelValue(e.value),[`enter`,`space`]),onFocus:t[2]||=()=>{let t=I(r).activationMode!==`manual`;!o.value&&!e.disabled&&t&&I(r).changeModelValue(e.value)}},{default:R(()=>[ro(e.$slots,`default`)]),_:3},8,[`id`,`type`,`as`,`as-child`,`aria-selected`,`aria-controls`,`data-state`,`disabled`,`data-disabled`,`data-orientation`])]),_:3},8,[`focusable`,`active`]))}});function Sp(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Sp(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Cp(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Sp(e))&&(r&&(r+=` `),r+=t);return r}const wp=`-`,Tp=e=>{let t=kp(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e,i=e=>{let n=e.split(wp);return n[0]===``&&n.length!==1&&n.shift(),Ep(n,t)||Op(e)},a=(e,t)=>{let i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i};return{getClassGroupId:i,getConflictingClassGroupIds:a}},Ep=(e,t)=>{if(e.length===0)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),i=r?Ep(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;let a=e.join(wp);return t.validators.find(({validator:e})=>e(a))?.classGroupId},Dp=/^\[(.+)\]$/,Op=e=>{if(Dp.test(e)){let t=Dp.exec(e)[1],n=t?.substring(0,t.indexOf(`:`));if(n)return`arbitrary..`+n}},kp=e=>{let{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(let e in n)Ap(n[e],r,e,t);return r},Ap=(e,t,n,r)=>{e.forEach(e=>{if(typeof e==`string`){let r=e===``?t:jp(t,e);r.classGroupId=n;return}if(typeof e==`function`){if(Mp(e)){Ap(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,i])=>{Ap(i,jp(t,e),n,r)})})},jp=(e,t)=>{let n=e;return t.split(wp).forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Mp=e=>e.isThemeGetter,Np=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);if(t!==void 0)return t;if((t=r.get(e))!==void 0)return i(e,t),t},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Pp=`!`,Fp=`:`,Ip=1,Lp=e=>{let{prefix:t,experimentalParseClassName:n}=e,r=e=>{let t=[],n=0,r=0,i=0,a;for(let o=0;o<e.length;o++){let s=e[o];if(n===0&&r===0){if(s===Fp){t.push(e.slice(i,o)),i=o+Ip;continue}if(s===`/`){a=o;continue}}s===`[`?n++:s===`]`?n--:s===`(`?r++:s===`)`&&r--}let o=t.length===0?e:e.substring(i),s=Rp(o),c=s!==o,l=a&&a>i?a-i:void 0;return{modifiers:t,hasImportantModifier:c,baseClassName:s,maybePostfixModifierPosition:l}};if(t){let e=t+Fp,n=r;r=t=>t.startsWith(e)?n(t.substring(e.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:t,maybePostfixModifierPosition:void 0}}if(n){let e=r;r=t=>n({className:t,parseClassName:e})}return r},Rp=e=>e.endsWith(Pp)?e.substring(0,e.length-1):e.startsWith(Pp)?e.substring(1):e,zp=e=>{let t=Object.fromEntries(e.orderSensitiveModifiers.map(e=>[e,!0])),n=e=>{if(e.length<=1)return e;let n=[],r=[];return e.forEach(e=>{let i=e[0]===`[`||t[e];i?(n.push(...r.sort(),e),r=[]):r.push(e)}),n.push(...r.sort()),n};return n},Bp=e=>({cache:Np(e.cacheSize),parseClassName:Lp(e),sortModifiers:zp(e),...Tp(e)}),Vp=/\s+/,Hp=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],s=e.trim().split(Vp),c=``;for(let e=s.length-1;e>=0;--e){let t=s[e],{isExternal:l,modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=n(t);if(l){c=t+(c.length>0?` `+c:c);continue}let m=!!p,h=r(m?f.substring(0,p):f);if(!h){if(!m){c=t+(c.length>0?` `+c:c);continue}if(h=r(f),!h){c=t+(c.length>0?` `+c:c);continue}m=!1}let g=a(u).join(`:`),_=d?g+Pp:g,v=_+h;if(o.includes(v))continue;o.push(v);let y=i(h,m);for(let e=0;e<y.length;++e){let t=y[e];o.push(_+t)}c=t+(c.length>0?` `+c:c)}return c};function Up(){let e=0,t,n,r=``;for(;e<arguments.length;)(t=arguments[e++])&&(n=Wp(t))&&(r&&(r+=` `),r+=n);return r}const Wp=e=>{if(typeof e==`string`)return e;let t,n=``;for(let r=0;r<e.length;r++)e[r]&&(t=Wp(e[r]))&&(n&&(n+=` `),n+=t);return n};function Gp(e,...t){let n,r,i,a=o;function o(o){let c=t.reduce((e,t)=>t(e),e());return n=Bp(c),r=n.cache.get,i=n.cache.set,a=s,s(o)}function s(e){let t=r(e);if(t)return t;let a=Hp(e,n);return i(e,a),a}return function(){return a(Up.apply(null,arguments))}}const Kp=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},qp=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Jp=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yp=/^\d+\/\d+$/,Xp=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zp=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qp=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,$p=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,em=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tm=e=>Yp.test(e),Y=e=>!!e&&!Number.isNaN(Number(e)),nm=e=>!!e&&Number.isInteger(Number(e)),rm=e=>e.endsWith(`%`)&&Y(e.slice(0,-1)),im=e=>Xp.test(e),am=()=>!0,om=e=>Zp.test(e)&&!Qp.test(e),sm=()=>!1,cm=e=>$p.test(e),lm=e=>em.test(e),um=e=>!X(e)&&!Z(e),dm=e=>Cm(e,Dm,sm),X=e=>qp.test(e),fm=e=>Cm(e,Om,om),pm=e=>Cm(e,km,Y),mm=e=>Cm(e,Tm,sm),hm=e=>Cm(e,Em,lm),gm=e=>Cm(e,jm,cm),Z=e=>Jp.test(e),_m=e=>wm(e,Om),vm=e=>wm(e,Am),ym=e=>wm(e,Tm),bm=e=>wm(e,Dm),xm=e=>wm(e,Em),Sm=e=>wm(e,jm,!0),Cm=(e,t,n)=>{let r=qp.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},wm=(e,t,n=!1)=>{let r=Jp.exec(e);return r?r[1]?t(r[1]):n:!1},Tm=e=>e===`position`||e===`percentage`,Em=e=>e===`image`||e===`url`,Dm=e=>e===`length`||e===`size`||e===`bg-size`,Om=e=>e===`length`,km=e=>e===`number`,Am=e=>e===`family-name`,jm=e=>e===`shadow`,Mm=()=>{let e=Kp(`color`),t=Kp(`font`),n=Kp(`text`),r=Kp(`font-weight`),i=Kp(`tracking`),a=Kp(`leading`),o=Kp(`breakpoint`),s=Kp(`container`),c=Kp(`spacing`),l=Kp(`radius`),u=Kp(`shadow`),d=Kp(`inset-shadow`),f=Kp(`text-shadow`),p=Kp(`drop-shadow`),m=Kp(`blur`),h=Kp(`perspective`),g=Kp(`aspect`),_=Kp(`ease`),v=Kp(`animate`),y=()=>[`auto`,`avoid`,`all`,`avoid-page`,`page`,`left`,`right`,`column`],b=()=>[`center`,`top`,`bottom`,`left`,`right`,`top-left`,`left-top`,`top-right`,`right-top`,`bottom-right`,`right-bottom`,`bottom-left`,`left-bottom`],x=()=>[...b(),Z,X],S=()=>[`auto`,`hidden`,`clip`,`visible`,`scroll`],C=()=>[`auto`,`contain`,`none`],w=()=>[Z,X,c],ee=()=>[tm,`full`,`auto`,...w()],te=()=>[nm,`none`,`subgrid`,Z,X],T=()=>[`auto`,{span:[`full`,nm,Z,X]},nm,Z,X],E=()=>[nm,`auto`,Z,X],ne=()=>[`auto`,`min`,`max`,`fr`,Z,X],D=()=>[`start`,`end`,`center`,`between`,`around`,`evenly`,`stretch`,`baseline`,`center-safe`,`end-safe`],re=()=>[`start`,`end`,`center`,`stretch`,`center-safe`,`end-safe`],ie=()=>[`auto`,...w()],ae=()=>[tm,`auto`,`full`,`dvw`,`dvh`,`lvw`,`lvh`,`svw`,`svh`,`min`,`max`,`fit`,...w()],O=()=>[e,Z,X],oe=()=>[...b(),ym,mm,{position:[Z,X]}],se=()=>[`no-repeat`,{repeat:[``,`x`,`y`,`space`,`round`]}],ce=()=>[`auto`,`cover`,`contain`,bm,dm,{size:[Z,X]}],le=()=>[rm,_m,fm],ue=()=>[``,`none`,`full`,l,Z,X],de=()=>[``,Y,_m,fm],k=()=>[`solid`,`dashed`,`dotted`,`double`],fe=()=>[`normal`,`multiply`,`screen`,`overlay`,`darken`,`lighten`,`color-dodge`,`color-burn`,`hard-light`,`soft-light`,`difference`,`exclusion`,`hue`,`saturation`,`color`,`luminosity`],A=()=>[Y,rm,ym,mm],pe=()=>[``,`none`,m,Z,X],me=()=>[`none`,Y,Z,X],he=()=>[`none`,Y,Z,X],ge=()=>[Y,Z,X],_e=()=>[tm,`full`,...w()];return{cacheSize:500,theme:{animate:[`spin`,`ping`,`pulse`,`bounce`],aspect:[`video`],blur:[im],breakpoint:[im],color:[am],container:[im],"drop-shadow":[im],ease:[`in`,`out`,`in-out`],font:[um],"font-weight":[`thin`,`extralight`,`light`,`normal`,`medium`,`semibold`,`bold`,`extrabold`,`black`],"inset-shadow":[im],leading:[`none`,`tight`,`snug`,`normal`,`relaxed`,`loose`],perspective:[`dramatic`,`near`,`normal`,`midrange`,`distant`,`none`],radius:[im],shadow:[im],spacing:[`px`,Y],text:[im],"text-shadow":[im],tracking:[`tighter`,`tight`,`normal`,`wide`,`wider`,`widest`]},classGroups:{aspect:[{aspect:[`auto`,`square`,tm,X,Z,g]}],container:[`container`],columns:[{columns:[Y,X,Z,s]}],"break-after":[{"break-after":y()}],"break-before":[{"break-before":y()}],"break-inside":[{"break-inside":[`auto`,`avoid`,`avoid-page`,`avoid-column`]}],"box-decoration":[{"box-decoration":[`slice`,`clone`]}],box:[{box:[`border`,`content`]}],display:[`block`,`inline-block`,`inline`,`flex`,`inline-flex`,`table`,`inline-table`,`table-caption`,`table-cell`,`table-column`,`table-column-group`,`table-footer-group`,`table-header-group`,`table-row-group`,`table-row`,`flow-root`,`grid`,`inline-grid`,`contents`,`list-item`,`hidden`],sr:[`sr-only`,`not-sr-only`],float:[{float:[`right`,`left`,`none`,`start`,`end`]}],clear:[{clear:[`left`,`right`,`both`,`none`,`start`,`end`]}],isolation:[`isolate`,`isolation-auto`],"object-fit":[{object:[`contain`,`cover`,`fill`,`none`,`scale-down`]}],"object-position":[{object:x()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:[`static`,`fixed`,`absolute`,`relative`,`sticky`],inset:[{inset:ee()}],"inset-x":[{"inset-x":ee()}],"inset-y":[{"inset-y":ee()}],start:[{start:ee()}],end:[{end:ee()}],top:[{top:ee()}],right:[{right:ee()}],bottom:[{bottom:ee()}],left:[{left:ee()}],visibility:[`visible`,`invisible`,`collapse`],z:[{z:[nm,`auto`,Z,X]}],basis:[{basis:[tm,`full`,`auto`,s,...w()]}],"flex-direction":[{flex:[`row`,`row-reverse`,`col`,`col-reverse`]}],"flex-wrap":[{flex:[`nowrap`,`wrap`,`wrap-reverse`]}],flex:[{flex:[Y,tm,`auto`,`initial`,`none`,X]}],grow:[{grow:[``,Y,Z,X]}],shrink:[{shrink:[``,Y,Z,X]}],order:[{order:[nm,`first`,`last`,`none`,Z,X]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":[`row`,`col`,`dense`,`row-dense`,`col-dense`]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:w()}],"gap-x":[{"gap-x":w()}],"gap-y":[{"gap-y":w()}],"justify-content":[{justify:[...D(),`normal`]}],"justify-items":[{"justify-items":[...re(),`normal`]}],"justify-self":[{"justify-self":[`auto`,...re()]}],"align-content":[{content:[`normal`,...D()]}],"align-items":[{items:[...re(),{baseline:[``,`last`]}]}],"align-self":[{self:[`auto`,...re(),{baseline:[``,`last`]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...re(),`baseline`]}],"place-self":[{"place-self":[`auto`,...re()]}],p:[{p:w()}],px:[{px:w()}],py:[{py:w()}],ps:[{ps:w()}],pe:[{pe:w()}],pt:[{pt:w()}],pr:[{pr:w()}],pb:[{pb:w()}],pl:[{pl:w()}],m:[{m:ie()}],mx:[{mx:ie()}],my:[{my:ie()}],ms:[{ms:ie()}],me:[{me:ie()}],mt:[{mt:ie()}],mr:[{mr:ie()}],mb:[{mb:ie()}],ml:[{ml:ie()}],"space-x":[{"space-x":w()}],"space-x-reverse":[`space-x-reverse`],"space-y":[{"space-y":w()}],"space-y-reverse":[`space-y-reverse`],size:[{size:ae()}],w:[{w:[s,`screen`,...ae()]}],"min-w":[{"min-w":[s,`screen`,`none`,...ae()]}],"max-w":[{"max-w":[s,`screen`,`none`,`prose`,{screen:[o]},...ae()]}],h:[{h:[`screen`,`lh`,...ae()]}],"min-h":[{"min-h":[`screen`,`lh`,`none`,...ae()]}],"max-h":[{"max-h":[`screen`,`lh`,...ae()]}],"font-size":[{text:[`base`,n,_m,fm]}],"font-smoothing":[`antialiased`,`subpixel-antialiased`],"font-style":[`italic`,`not-italic`],"font-weight":[{font:[r,Z,pm]}],"font-stretch":[{"font-stretch":[`ultra-condensed`,`extra-condensed`,`condensed`,`semi-condensed`,`normal`,`semi-expanded`,`expanded`,`extra-expanded`,`ultra-expanded`,rm,X]}],"font-family":[{font:[vm,X,t]}],"fvn-normal":[`normal-nums`],"fvn-ordinal":[`ordinal`],"fvn-slashed-zero":[`slashed-zero`],"fvn-figure":[`lining-nums`,`oldstyle-nums`],"fvn-spacing":[`proportional-nums`,`tabular-nums`],"fvn-fraction":[`diagonal-fractions`,`stacked-fractions`],tracking:[{tracking:[i,Z,X]}],"line-clamp":[{"line-clamp":[Y,`none`,Z,pm]}],leading:[{leading:[a,...w()]}],"list-image":[{"list-image":[`none`,Z,X]}],"list-style-position":[{list:[`inside`,`outside`]}],"list-style-type":[{list:[`disc`,`decimal`,`none`,Z,X]}],"text-alignment":[{text:[`left`,`center`,`right`,`justify`,`start`,`end`]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":[`underline`,`overline`,`line-through`,`no-underline`],"text-decoration-style":[{decoration:[...k(),`wavy`]}],"text-decoration-thickness":[{decoration:[Y,`from-font`,`auto`,Z,fm]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[Y,`auto`,Z,X]}],"text-transform":[`uppercase`,`lowercase`,`capitalize`,`normal-case`],"text-overflow":[`truncate`,`text-ellipsis`,`text-clip`],"text-wrap":[{text:[`wrap`,`nowrap`,`balance`,`pretty`]}],indent:[{indent:w()}],"vertical-align":[{align:[`baseline`,`top`,`middle`,`bottom`,`text-top`,`text-bottom`,`sub`,`super`,Z,X]}],whitespace:[{whitespace:[`normal`,`nowrap`,`pre`,`pre-line`,`pre-wrap`,`break-spaces`]}],break:[{break:[`normal`,`words`,`all`,`keep`]}],wrap:[{wrap:[`break-word`,`anywhere`,`normal`]}],hyphens:[{hyphens:[`none`,`manual`,`auto`]}],content:[{content:[`none`,Z,X]}],"bg-attachment":[{bg:[`fixed`,`local`,`scroll`]}],"bg-clip":[{"bg-clip":[`border`,`padding`,`content`,`text`]}],"bg-origin":[{"bg-origin":[`border`,`padding`,`content`]}],"bg-position":[{bg:oe()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:ce()}],"bg-image":[{bg:[`none`,{linear:[{to:[`t`,`tr`,`r`,`br`,`b`,`bl`,`l`,`tl`]},nm,Z,X],radial:[``,Z,X],conic:[nm,Z,X]},xm,hm]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:ue()}],"rounded-s":[{"rounded-s":ue()}],"rounded-e":[{"rounded-e":ue()}],"rounded-t":[{"rounded-t":ue()}],"rounded-r":[{"rounded-r":ue()}],"rounded-b":[{"rounded-b":ue()}],"rounded-l":[{"rounded-l":ue()}],"rounded-ss":[{"rounded-ss":ue()}],"rounded-se":[{"rounded-se":ue()}],"rounded-ee":[{"rounded-ee":ue()}],"rounded-es":[{"rounded-es":ue()}],"rounded-tl":[{"rounded-tl":ue()}],"rounded-tr":[{"rounded-tr":ue()}],"rounded-br":[{"rounded-br":ue()}],"rounded-bl":[{"rounded-bl":ue()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":[`divide-x-reverse`],"divide-y":[{"divide-y":de()}],"divide-y-reverse":[`divide-y-reverse`],"border-style":[{border:[...k(),`hidden`,`none`]}],"divide-style":[{divide:[...k(),`hidden`,`none`]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...k(),`none`,`hidden`]}],"outline-offset":[{"outline-offset":[Y,Z,X]}],"outline-w":[{outline:[``,Y,_m,fm]}],"outline-color":[{outline:O()}],shadow:[{shadow:[``,`none`,u,Sm,gm]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":[`none`,d,Sm,gm]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:de()}],"ring-w-inset":[`ring-inset`],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[Y,fm]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":[`none`,f,Sm,gm]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[Y,Z,X]}],"mix-blend":[{"mix-blend":[...fe(),`plus-darker`,`plus-lighter`]}],"bg-blend":[{"bg-blend":fe()}],"mask-clip":[{"mask-clip":[`border`,`padding`,`content`,`fill`,`stroke`,`view`]},`mask-no-clip`],"mask-composite":[{mask:[`add`,`subtract`,`intersect`,`exclude`]}],"mask-image-linear-pos":[{"mask-linear":[Y]}],"mask-image-linear-from-pos":[{"mask-linear-from":A()}],"mask-image-linear-to-pos":[{"mask-linear-to":A()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":A()}],"mask-image-t-to-pos":[{"mask-t-to":A()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":A()}],"mask-image-r-to-pos":[{"mask-r-to":A()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":A()}],"mask-image-b-to-pos":[{"mask-b-to":A()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":A()}],"mask-image-l-to-pos":[{"mask-l-to":A()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":A()}],"mask-image-x-to-pos":[{"mask-x-to":A()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":A()}],"mask-image-y-to-pos":[{"mask-y-to":A()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[Z,X]}],"mask-image-radial-from-pos":[{"mask-radial-from":A()}],"mask-image-radial-to-pos":[{"mask-radial-to":A()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":[`circle`,`ellipse`]}],"mask-image-radial-size":[{"mask-radial":[{closest:[`side`,`corner`],farthest:[`side`,`corner`]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[Y]}],"mask-image-conic-from-pos":[{"mask-conic-from":A()}],"mask-image-conic-to-pos":[{"mask-conic-to":A()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:[`alpha`,`luminance`,`match`]}],"mask-origin":[{"mask-origin":[`border`,`padding`,`content`,`fill`,`stroke`,`view`]}],"mask-position":[{mask:oe()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:ce()}],"mask-type":[{"mask-type":[`alpha`,`luminance`]}],"mask-image":[{mask:[`none`,Z,X]}],filter:[{filter:[``,`none`,Z,X]}],blur:[{blur:pe()}],brightness:[{brightness:[Y,Z,X]}],contrast:[{contrast:[Y,Z,X]}],"drop-shadow":[{"drop-shadow":[``,`none`,p,Sm,gm]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:[``,Y,Z,X]}],"hue-rotate":[{"hue-rotate":[Y,Z,X]}],invert:[{invert:[``,Y,Z,X]}],saturate:[{saturate:[Y,Z,X]}],sepia:[{sepia:[``,Y,Z,X]}],"backdrop-filter":[{"backdrop-filter":[``,`none`,Z,X]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Y,Z,X]}],"backdrop-contrast":[{"backdrop-contrast":[Y,Z,X]}],"backdrop-grayscale":[{"backdrop-grayscale":[``,Y,Z,X]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Y,Z,X]}],"backdrop-invert":[{"backdrop-invert":[``,Y,Z,X]}],"backdrop-opacity":[{"backdrop-opacity":[Y,Z,X]}],"backdrop-saturate":[{"backdrop-saturate":[Y,Z,X]}],"backdrop-sepia":[{"backdrop-sepia":[``,Y,Z,X]}],"border-collapse":[{border:[`collapse`,`separate`]}],"border-spacing":[{"border-spacing":w()}],"border-spacing-x":[{"border-spacing-x":w()}],"border-spacing-y":[{"border-spacing-y":w()}],"table-layout":[{table:[`auto`,`fixed`]}],caption:[{caption:[`top`,`bottom`]}],transition:[{transition:[``,`all`,`colors`,`opacity`,`shadow`,`transform`,`none`,Z,X]}],"transition-behavior":[{transition:[`normal`,`discrete`]}],duration:[{duration:[Y,`initial`,Z,X]}],ease:[{ease:[`linear`,`initial`,_,Z,X]}],delay:[{delay:[Y,Z,X]}],animate:[{animate:[`none`,v,Z,X]}],backface:[{backface:[`hidden`,`visible`]}],perspective:[{perspective:[h,Z,X]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":[`scale-3d`],skew:[{skew:ge()}],"skew-x":[{"skew-x":ge()}],"skew-y":[{"skew-y":ge()}],transform:[{transform:[Z,X,``,`none`,`gpu`,`cpu`]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:[`3d`,`flat`]}],translate:[{translate:_e()}],"translate-x":[{"translate-x":_e()}],"translate-y":[{"translate-y":_e()}],"translate-z":[{"translate-z":_e()}],"translate-none":[`translate-none`],accent:[{accent:O()}],appearance:[{appearance:[`none`,`auto`]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:[`normal`,`dark`,`light`,`light-dark`,`only-dark`,`only-light`]}],cursor:[{cursor:[`auto`,`default`,`pointer`,`wait`,`text`,`move`,`help`,`not-allowed`,`none`,`context-menu`,`progress`,`cell`,`crosshair`,`vertical-text`,`alias`,`copy`,`no-drop`,`grab`,`grabbing`,`all-scroll`,`col-resize`,`row-resize`,`n-resize`,`e-resize`,`s-resize`,`w-resize`,`ne-resize`,`nw-resize`,`se-resize`,`sw-resize`,`ew-resize`,`ns-resize`,`nesw-resize`,`nwse-resize`,`zoom-in`,`zoom-out`,Z,X]}],"field-sizing":[{"field-sizing":[`fixed`,`content`]}],"pointer-events":[{"pointer-events":[`auto`,`none`]}],resize:[{resize:[`none`,``,`y`,`x`]}],"scroll-behavior":[{scroll:[`auto`,`smooth`]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:[`start`,`end`,`center`,`align-none`]}],"snap-stop":[{snap:[`normal`,`always`]}],"snap-type":[{snap:[`none`,`x`,`y`,`both`]}],"snap-strictness":[{snap:[`mandatory`,`proximity`]}],touch:[{touch:[`auto`,`none`,`manipulation`]}],"touch-x":[{"touch-pan":[`x`,`left`,`right`]}],"touch-y":[{"touch-pan":[`y`,`up`,`down`]}],"touch-pz":[`touch-pinch-zoom`],select:[{select:[`none`,`text`,`all`,`auto`]}],"will-change":[{"will-change":[`auto`,`scroll`,`contents`,`transform`,Z,X]}],fill:[{fill:[`none`,...O()]}],"stroke-w":[{stroke:[Y,_m,fm,pm]}],stroke:[{stroke:[`none`,...O()]}],"forced-color-adjust":[{"forced-color-adjust":[`auto`,`none`]}]},conflictingClassGroups:{overflow:[`overflow-x`,`overflow-y`],overscroll:[`overscroll-x`,`overscroll-y`],inset:[`inset-x`,`inset-y`,`start`,`end`,`top`,`right`,`bottom`,`left`],"inset-x":[`right`,`left`],"inset-y":[`top`,`bottom`],flex:[`basis`,`grow`,`shrink`],gap:[`gap-x`,`gap-y`],p:[`px`,`py`,`ps`,`pe`,`pt`,`pr`,`pb`,`pl`],px:[`pr`,`pl`],py:[`pt`,`pb`],m:[`mx`,`my`,`ms`,`me`,`mt`,`mr`,`mb`,`ml`],mx:[`mr`,`ml`],my:[`mt`,`mb`],size:[`w`,`h`],"font-size":[`leading`],"fvn-normal":[`fvn-ordinal`,`fvn-slashed-zero`,`fvn-figure`,`fvn-spacing`,`fvn-fraction`],"fvn-ordinal":[`fvn-normal`],"fvn-slashed-zero":[`fvn-normal`],"fvn-figure":[`fvn-normal`],"fvn-spacing":[`fvn-normal`],"fvn-fraction":[`fvn-normal`],"line-clamp":[`display`,`overflow`],rounded:[`rounded-s`,`rounded-e`,`rounded-t`,`rounded-r`,`rounded-b`,`rounded-l`,`rounded-ss`,`rounded-se`,`rounded-ee`,`rounded-es`,`rounded-tl`,`rounded-tr`,`rounded-br`,`rounded-bl`],"rounded-s":[`rounded-ss`,`rounded-es`],"rounded-e":[`rounded-se`,`rounded-ee`],"rounded-t":[`rounded-tl`,`rounded-tr`],"rounded-r":[`rounded-tr`,`rounded-br`],"rounded-b":[`rounded-br`,`rounded-bl`],"rounded-l":[`rounded-tl`,`rounded-bl`],"border-spacing":[`border-spacing-x`,`border-spacing-y`],"border-w":[`border-w-x`,`border-w-y`,`border-w-s`,`border-w-e`,`border-w-t`,`border-w-r`,`border-w-b`,`border-w-l`],"border-w-x":[`border-w-r`,`border-w-l`],"border-w-y":[`border-w-t`,`border-w-b`],"border-color":[`border-color-x`,`border-color-y`,`border-color-s`,`border-color-e`,`border-color-t`,`border-color-r`,`border-color-b`,`border-color-l`],"border-color-x":[`border-color-r`,`border-color-l`],"border-color-y":[`border-color-t`,`border-color-b`],translate:[`translate-x`,`translate-y`,`translate-none`],"translate-none":[`translate`,`translate-x`,`translate-y`,`translate-z`],"scroll-m":[`scroll-mx`,`scroll-my`,`scroll-ms`,`scroll-me`,`scroll-mt`,`scroll-mr`,`scroll-mb`,`scroll-ml`],"scroll-mx":[`scroll-mr`,`scroll-ml`],"scroll-my":[`scroll-mt`,`scroll-mb`],"scroll-p":[`scroll-px`,`scroll-py`,`scroll-ps`,`scroll-pe`,`scroll-pt`,`scroll-pr`,`scroll-pb`,`scroll-pl`],"scroll-px":[`scroll-pr`,`scroll-pl`],"scroll-py":[`scroll-pt`,`scroll-pb`],touch:[`touch-x`,`touch-y`,`touch-pz`],"touch-x":[`touch`],"touch-y":[`touch`],"touch-pz":[`touch`]},conflictingClassGroupModifiers:{"font-size":[`leading`]},orderSensitiveModifiers:[`*`,`**`,`after`,`backdrop`,`before`,`details-content`,`file`,`first-letter`,`first-line`,`marker`,`placeholder`,`selection`]}},Nm=Gp(Mm);function Pm(...e){return Nm(Cp(e))}const Fm=e=>typeof e==`boolean`?`${e}`:e===0?`0`:e,Im=Cp,Lm=(e,t)=>n=>{var r;if(t?.variants==null)return Im(e,n?.class,n?.className);let{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(e=>{let t=n?.[e],r=a?.[e];if(t===null)return null;let o=Fm(t)||Fm(r);return i[e][o]}),s=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return r===void 0||(e[n]=r),e},{}),c=t==null?void 0:(r=t.compoundVariants)?.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...a,...s}[t]):{...a,...s}[t]===n})?[...e,n,r]:e},[]);return Im(e,o,c,n?.class,n?.className)};var Rm=z({__name:`Button`,props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:`button`}},setup(e){let t=Lm(`inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive cursor-pointer`,{variants:{variant:{default:`bg-primary text-primary-foreground shadow-xs hover:bg-primary/90`,destructive:`bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60`,outline:`border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50`,secondary:`bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80`,ghost:`hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50`,link:`text-primary underline-offset-4 hover:underline`},size:{default:`h-9 px-4 py-2 has-[>svg]:px-3`,sm:`h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5`,lg:`h-10 rounded-md px-6 has-[>svg]:px-4`,icon:`size-9`}},defaultVariants:{variant:`default`,size:`default`}}),n=e;return(e,r)=>(H(),W(I(bf),{"data-slot":`button`,as:e.as,"as-child":e.asChild,class:j(I(Pm)(I(t)({variant:e.variant,size:e.size}),n.class))},{default:R(()=>[ro(e.$slots,`default`)]),_:3},8,[`as`,`as-child`,`class`]))}}),zm=Rm;function Bm(e){let t=!1,n,r=nt(!0);return(...i)=>(t||(n=r.run(()=>e(...i)),t=!0),n)}function Vm(e){if(!P(e))return bn(e);let t=new Proxy({},{get(t,n,r){return I(Reflect.get(e.value,n,r))},set(t,n,r){return P(e.value[n])&&!P(r)?e.value[n].value=r:e.value[n]=r,!0},deleteProperty(t,n){return Reflect.deleteProperty(e.value,n)},has(t,n){return Reflect.has(e.value,n)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return bn(t)}function Hm(e){return Vm(J(e))}function Um(e,...t){let n=t.flat(),r=n[0];return Hm(()=>typeof r==`function`?Object.fromEntries(Object.entries(Vn(e)).filter(([e,t])=>!r(In(t),e))):Object.fromEntries(Object.entries(Vn(e)).filter(e=>!n.includes(e[0]))))}const Wm=typeof window<`u`&&typeof document<`u`,Gm=typeof WorkerGlobalScope<`u`&&globalThis instanceof WorkerGlobalScope,Km=e=>e!==void 0;function qm(e){let t=Object.create(null);return n=>{let r=t[n];return r||(t[n]=e(n))}}const Jm=/\B([A-Z])/g,Ym=qm(e=>e.replace(Jm,`-$1`).toLowerCase()),Xm=/-(\w)/g,Zm=qm(e=>e.replace(Xm,(e,t)=>t?t.toUpperCase():``)),Qm=Wm?window.document:void 0,$m=Wm?window.navigator:void 0,eh=Wm?window.location:void 0,th=Symbol(`vueuse-ssr-width`);function nh(e){return JSON.parse(JSON.stringify(e))}const rh=[{max:6e4,value:1e3,name:`second`},{max:276e4,value:6e4,name:`minute`},{max:72e6,value:36e5,name:`hour`},{max:5184e5,value:864e5,name:`day`},{max:24192e5,value:6048e5,name:`week`},{max:28512e6,value:2592e6,name:`month`},{max:1/0,value:31536e6,name:`year`}];function ih(e,t,n,r={}){var i,a,o;let{clone:s=!1,passive:c=!1,eventName:l,deep:u=!1,defaultValue:d,shouldEmit:f}=r,p=ul(),m=n||p?.emit||(i=p?.$emit)?.bind(p)||(o=(a=p?.proxy)?.$emit)?.bind(p?.proxy),h=l;t||=`modelValue`,h||=`update:${t.toString()}`;let g=e=>s?typeof s==`function`?s(e):nh(e):e,_=()=>Km(e[t])?g(e[t]):d,v=e=>{f?f(e)&&m(h,e):m(h,e)};if(c){let n=_(),r=F(n),i=!1;return $s(()=>e[t],e=>{i||(i=!0,r.value=g(e),Dr(()=>i=!1))}),$s(r,n=>{!i&&(n!==e[t]||u)&&v(n)},{deep:u}),r}else return J({get(){return _()},set(e){v(e)}})}var ah=z({__name:`Input`,props:{defaultValue:{},modelValue:{},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=ih(n,`modelValue`,r,{passive:!0,defaultValue:n.defaultValue});return(e,t)=>_i((H(),U(`input`,{"onUpdate:modelValue":t[0]||=e=>P(i)?i.value=e:null,"data-slot":`input`,class:j(I(Pm)(`file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,`focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]`,`aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive`,n.class))},null,2)),[[Ad,I(i)]])}}),oh=ah,sh=z({__name:`Label`,props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=Um(t,`class`);return(e,r)=>(H(),W(I(pp),il({"data-slot":`label`},I(n),{class:I(Pm)(`flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50`,t.class)}),{default:R(()=>[ro(e.$slots,`default`)]),_:3},16,[`class`]))}}),ch=sh,lh=z({__name:`Textarea`,props:{class:{},defaultValue:{},modelValue:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=ih(n,`modelValue`,r,{passive:!0,defaultValue:n.defaultValue});return(e,t)=>_i((H(),U(`textarea`,{"onUpdate:modelValue":t[0]||=e=>P(i)?i.value=e:null,"data-slot":`textarea`,class:j(I(Pm)(`border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,n.class))},null,2)),[[Ad,I(i)]])}}),uh=lh;
/**
* @license lucide-vue-next v0.525.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/
const dh=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),fh=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),ph=e=>{let t=fh(e);return t.charAt(0).toUpperCase()+t.slice(1)},mh=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim();
/**
* @license lucide-vue-next v0.525.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/
var hh={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,"stroke-width":2,"stroke-linecap":`round`,"stroke-linejoin":`round`};const gh=({size:e,strokeWidth:t=2,absoluteStrokeWidth:n,color:r,iconNode:i,name:a,class:o,...s},{slots:c})=>Il(`svg`,{...hh,width:e||hh.width,height:e||hh.height,stroke:r||hh.stroke,"stroke-width":n?Number(t)*24/Number(e):t,class:mh(`lucide`,...a?[`lucide-${dh(ph(a))}-icon`,`lucide-${dh(a)}`]:[`lucide-icon`]),...s},[...i.map(e=>Il(...e)),...c.default?[c.default()]:[]]),Q=(e,t)=>(n,{slots:r})=>Il(gh,{...n,iconNode:t,name:e},r),_h=Q(`bot`,[[`path`,{d:`M12 8V4H8`,key:`hb8ula`}],[`rect`,{width:`16`,height:`12`,x:`4`,y:`8`,rx:`2`,key:`enze0r`}],[`path`,{d:`M2 14h2`,key:`vft8re`}],[`path`,{d:`M20 14h2`,key:`4cs60a`}],[`path`,{d:`M15 13v2`,key:`1xurst`}],[`path`,{d:`M9 13v2`,key:`rq6x2g`}]]),vh=Q(`brain`,[[`path`,{d:`M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z`,key:`l5xja`}],[`path`,{d:`M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z`,key:`ep3f8r`}],[`path`,{d:`M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4`,key:`1p4c4q`}],[`path`,{d:`M17.599 6.5a3 3 0 0 0 .399-1.375`,key:`tmeiqw`}],[`path`,{d:`M6.003 5.125A3 3 0 0 0 6.401 6.5`,key:`105sqy`}],[`path`,{d:`M3.477 10.896a4 4 0 0 1 .585-.396`,key:`ql3yin`}],[`path`,{d:`M19.938 10.5a4 4 0 0 1 .585.396`,key:`1qfode`}],[`path`,{d:`M6 18a4 4 0 0 1-1.967-.516`,key:`2e4loj`}],[`path`,{d:`M19.967 17.484A4 4 0 0 1 18 18`,key:`159ez6`}]]),yh=Q(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),bh=Q(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),xh=Q(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),Sh=Q(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),Ch=Q(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),wh=Q(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),Th=Q(`circle`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Eh=Q(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Dh=Q(`code`,[[`path`,{d:`m16 18 6-6-6-6`,key:`eg8j8`}],[`path`,{d:`m8 6-6 6 6 6`,key:`ppft3o`}]]),Oh=Q(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),kh=Q(`eye-off`,[[`path`,{d:`M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49`,key:`ct8e1f`}],[`path`,{d:`M14.084 14.158a3 3 0 0 1-4.242-4.242`,key:`151rxh`}],[`path`,{d:`M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143`,key:`13bj9a`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),Ah=Q(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),jh=Q(`globe`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20`,key:`13o1zl`}],[`path`,{d:`M2 12h20`,key:`9i4pu4`}]]),Mh=Q(`history`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}],[`path`,{d:`M12 7v5l4 2`,key:`1fdv2h`}]]),Nh=Q(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`1d0kgt`}]]),Ph=Q(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),Fh=Q(`key`,[[`path`,{d:`m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4`,key:`g0fldk`}],[`path`,{d:`m21 2-9.6 9.6`,key:`1j0ho8`}],[`circle`,{cx:`7.5`,cy:`15.5`,r:`5.5`,key:`yqb3hr`}]]),Ih=Q(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),Lh=Q(`message-square`,[[`path`,{d:`M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z`,key:`1lielz`}]]),Rh=Q(`play`,[[`polygon`,{points:`6 3 20 12 6 21 6 3`,key:`1oa8hb`}]]),zh=Q(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),Bh=Q(`power`,[[`path`,{d:`M12 2v10`,key:`mnfbl`}],[`path`,{d:`M18.4 6.6a9 9 0 1 1-12.77.04`,key:`obofu9`}]]),Vh=Q(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),Hh=Q(`settings`,[[`path`,{d:`M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z`,key:`1qme2f`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Uh=Q(`shield`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}]]),Wh=Q(`trash-2`,[[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6`,key:`4alrt4`}],[`path`,{d:`M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2`,key:`v07s0e`}],[`line`,{x1:`10`,x2:`10`,y1:`11`,y2:`17`,key:`1uufr5`}],[`line`,{x1:`14`,x2:`14`,y1:`11`,y2:`17`,key:`xtxkd`}]]),Gh=Q(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Kh=Q(`wifi-off`,[[`path`,{d:`M12 20h.01`,key:`zekei9`}],[`path`,{d:`M8.5 16.429a5 5 0 0 1 7 0`,key:`1bycff`}],[`path`,{d:`M5 12.859a10 10 0 0 1 5.17-2.69`,key:`1dl1wf`}],[`path`,{d:`M19 12.859a10 10 0 0 0-2.007-1.523`,key:`4k23kn`}],[`path`,{d:`M2 8.82a15 15 0 0 1 4.177-2.643`,key:`1grhjp`}],[`path`,{d:`M22 8.82a15 15 0 0 0-11.288-3.764`,key:`z3jwby`}],[`path`,{d:`m2 2 20 20`,key:`1ooewy`}]]),qh=Q(`wifi`,[[`path`,{d:`M12 20h.01`,key:`zekei9`}],[`path`,{d:`M2 8.82a15 15 0 0 1 20 0`,key:`dnpr2z`}],[`path`,{d:`M5 12.859a10 10 0 0 1 14 0`,key:`1x1e6c`}],[`path`,{d:`M8.5 16.429a5 5 0 0 1 7 0`,key:`1bycff`}]]),Jh=Q(`zap`,[[`path`,{d:`M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z`,key:`1xq2db`}]]),Yh={key:0,class:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-primary/80 to-primary`},Xh={class:`space-y-3`},Zh={class:`flex items-start justify-between gap-3`},Qh={class:`space-y-2 min-w-0 flex-1`},$h={class:`flex items-center gap-2`},eg={class:`text-xs font-medium text-muted-foreground`},tg={class:`flex items-center gap-1`},ng={key:1,class:`flex items-center gap-2 text-sm text-primary font-semibold`},rg={key:0,class:`inline-flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-primary to-primary/80 text-primary-foreground text-xs font-semibold rounded-full shadow-md`};var ig=z({__name:`ModelCard`,props:{model:{},index:{},isActive:{type:Boolean}},emits:[`set-active`,`remove`,`show-form`],setup(e,{emit:t}){let n=e,r=t,i=()=>{r(`set-active`,n.model.modelId||``)},a=()=>{r(`remove`,n.index)},o=()=>{r(`show-form`,n.index)},s=J(()=>{let e=n.model.provider;switch(e){case`google`:return`Google`;case`openai`:return`OpenAI`;case`anthropic`:return`Anthropic`;case`bedrock`:return`Bedrock`;default:return e}}),c=J(()=>{let e=n.model.provider;switch(e){case`google`:return`bg-blue-500`;case`openai`:return`bg-green-500`;case`anthropic`:return`bg-orange-500`;case`bedrock`:return`bg-purple-500`;default:return`bg-gray-500`}});return(e,t)=>(H(),U(`div`,{class:j([`rounded-lg border transition-all duration-300 p-4 relative overflow-hidden`,e.isActive?`border-primary bg-gradient-to-br from-primary/10 via-primary/5 to-transparent ring-2 ring-primary/30 transform scale-[1.02]`:`border-border bg-card hover:border-primary/50 hover:shadow-md hover:transform hover:scale-[1.01]`])},[e.isActive?(H(),U(`div`,Yh)):el(``,!0),G(`div`,Xh,[G(`div`,Zh,[G(`div`,Qh,[G(`div`,$h,[G(`div`,{class:j([`w-3 h-3 rounded-full`,c.value])},null,2),G(`span`,eg,Xe(s.value),1)]),G(`h3`,{class:j([`text-sm font-medium m-0 break-words transition-colors duration-300`,e.isActive?`text-primary font-semibold`:`text-foreground`])},Xe(e.model.modelId||`New Model`),3)]),G(`div`,tg,[K(zm,{variant:`ghost`,size:`sm`,onClick:o,class:`p-2 text-muted-foreground hover:text-foreground hover:bg-secondary rounded transition-colors`,title:`Configure Model`},{default:R(()=>[K(I(Hh),{class:`w-4 h-4`})]),_:1})])]),G(`div`,{class:j([`flex items-center justify-between gap-2 pt-3 border-t transition-all duration-300`,e.isActive?`border-primary/30`:`border-border`])},[e.isActive?(H(),U(`div`,ng,[e.isActive?(H(),U(`div`,rg,[K(I(yh),{class:`w-3.5 h-3.5`}),t[1]||=q(` Active Model `)])):el(``,!0)])):(H(),W(zm,{key:0,onClick:i,class:`px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-all duration-300 font-medium text-sm hover:shadow-md hover:scale-105`},{default:R(()=>t[0]||=[q(` Set Active `)]),_:1,__:[0]}))],2)])],2))}}),ag=ig;const og={class:`embedded-app-root max-w-4xl mx-auto space-y-8`},sg={class:`bg-card rounded-xl border border-border p-6 space-y-4`},cg={class:`flex items-start gap-3`},lg={class:`p-2 bg-primary/10 rounded-lg`},ug={class:`space-y-4`},dg={class:`relative`},fg={class:`absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2`},pg={key:0,class:`flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-lg`},mg={key:1,class:`flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg`},hg={class:`flex items-start gap-2 p-3 bg-secondary rounded-lg`},gg={class:`bg-card rounded-xl border border-border p-6 space-y-4`},_g={class:`flex items-start gap-3`},vg={class:`p-2 bg-primary/10 rounded-lg`},yg={class:`space-y-4`},bg={class:`space-y-2`},xg={class:`flex-1`},Sg={class:`flex items-center gap-2`},Cg={class:`text-sm text-muted-foreground mt-0.5`},wg={class:`flex items-center gap-3`},Tg={class:`bg-card rounded-xl border border-border p-6 space-y-4`},Eg={class:`flex items-start gap-3`},Dg={class:`p-2 bg-primary/10 rounded-lg`},Og={class:`space-y-6`},kg={class:`space-y-4`},Ag={class:`flex flex-wrap gap-3`},jg={class:`font-medium`},Mg={class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4`},Ng={key:0,class:`bg-card rounded-xl border border-border p-6 space-y-4`},Pg={class:`flex items-start justify-between gap-3`},Fg={class:`flex items-start gap-3`},Ig={class:`p-2 bg-primary/10 rounded-lg`},Lg={class:`flex-1 space-y-2`},Rg={class:`text-muted-foreground text-sm`},zg={class:`space-y-6`},Bg={class:`space-y-4`},Vg={class:`grid grid-cols-1 md:grid-cols-2 gap-4`},Hg={class:`space-y-2`},Ug={class:`space-y-2`},Wg={class:`space-y-4`},Gg={class:`grid grid-cols-1 md:grid-cols-3 gap-4`},Kg={class:`space-y-2`},qg={class:`space-y-2`},Jg={class:`space-y-2`},Yg={class:`space-y-4`},Xg={key:0,class:`space-y-2`},Zg={key:1,class:`grid grid-cols-1 md:grid-cols-2 gap-4`},Qg={class:`space-y-2`},$g={class:`space-y-2`},e_={class:`space-y-2 md:col-span-2`},t_={key:2,class:`space-y-2`},n_={key:3,class:`grid grid-cols-1 md:grid-cols-2 gap-4`},r_={class:`space-y-2`},i_={class:`space-y-2`},a_={class:`space-y-2 md:col-span-2`},o_={class:`flex justify-between items-center pt-4 border-t border-border`},s_={class:`flex gap-2`},c_={class:`space-y-4`},l_={class:`space-y-2`},u_={class:`flex justify-end`};var d_=z({__name:`Setting`,setup(e){let t=$o(`useAiPlugin`),n=F({socketAddress:``,models:[],activeModelId:``,systemPrompt:``,debug:!1,licenseKey:``}),r=e=>{if(typeof structuredClone<`u`)try{return structuredClone(e)}catch(e){console.warn(`structuredClone failed, falling back to JSON method:`,e)}try{return JSON.parse(JSON.stringify(e))}catch(t){return console.error(`Failed to clone settings:`,t),{...e}}},i=F(``),a=F(``),o=F(!1),s=F(`disconnected`),c=F(null),l=F(``),u=F(null),d=F(!1),f=[];Ra(()=>{n.value=r(t.settings),s.value=t.getSocketConnectionStatus(),p()}),Ha(()=>{f.forEach(e=>{t.events.offref(e)}),f.length=0});let p=()=>{let e=t.events.on(`socket:status-changed`,e=>{s.value=e.status,l.value=e.error||``,c.value=e.timestamp||null});f.push(e);let n=t.events.on(`socket:connected`,e=>{s.value=`connected`,c.value=new Date,l.value=``});f.push(n);let r=t.events.on(`socket:disconnected`,e=>{s.value=`disconnected`,l.value=e||``,c.value=null});f.push(r);let i=t.events.on(`socket:connecting`,e=>{s.value=`connecting`,l.value=``});f.push(i);let a=t.events.on(`socket:error`,e=>{s.value=`error`,l.value=e});f.push(a);let o=t.events.on(`socket:reconnecting`,e=>{s.value=`reconnecting`,l.value=`Reconnection attempt #${e}`});f.push(o)},m=async()=>{if(!n.value.socketAddress.trim()){l.value=`Socket address is required!`,s.value=`error`;return}await w(),t.events.trigger(`socket:connect-request`,n.value.socketAddress)},h=()=>{t.events.trigger(`socket:disconnect-request`)},g=async()=>{t.events.trigger(`socket:reconnect-request`)},_=async()=>{await w(),s.value===`connected`&&g()},v=J(()=>{switch(s.value){case`connected`:return{icon:qh,color:`text-green-500`,bgColor:`bg-green-500/10`,borderColor:`border-green-500/20`,label:`Connected`,description:c.value?`Connected at ${c.value.toLocaleTimeString()}`:`Successfully connected to server`};case`connecting`:return{icon:Ih,color:`text-blue-500`,bgColor:`bg-blue-500/10`,borderColor:`border-blue-500/20`,label:`Connecting...`,description:`Establishing connection to server`};case`reconnecting`:return{icon:Vh,color:`text-yellow-500`,bgColor:`bg-yellow-500/10`,borderColor:`border-yellow-500/20`,label:`Reconnecting...`,description:l.value||`Attempting to reconnect to server`};case`error`:return{icon:Gh,color:`text-red-500`,bgColor:`bg-red-500/10`,borderColor:`border-red-500/20`,label:`Connection Error`,description:l.value||`Failed to connect to server`};default:return{icon:Kh,color:`text-muted-foreground`,bgColor:`bg-secondary`,borderColor:`border-border`,label:`Disconnected`,description:`Not connected to server`}}}),y=[{name:`Google`,icon:jh,color:`bg-blue-500`},{name:`OpenAI`,icon:vh,color:`bg-green-500`},{name:`Anthropic`,icon:Uh,color:`bg-orange-500`},{name:`Bedrock`,icon:Jh,color:`bg-purple-500`}],b=e=>{let t=`${e.toLowerCase()}-${Date.now()}`,n={internalId:`model_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,provider:e.toLowerCase(),modelId:``,color:`#4285F4`,temperature:.7,topK:40,topP:.9};switch(e){case`Google`:return{...n,provider:`google`,modelId:`gemini-pro`,apiKey:``};case`OpenAI`:return{...n,provider:`openai`,modelId:`gpt-4`,apiKey:``,organization:``,baseUrl:``};case`Anthropic`:return{...n,provider:`anthropic`,modelId:`claude-3-sonnet`,apiKey:``};case`Bedrock`:return{...n,provider:`bedrock`,modelId:`anthropic.claude-3-sonnet`,accessKeyId:``,secretAccessKey:``,region:`us-east-1`,modelArn:``};default:throw Error(`Unknown provider: ${e}`)}},x=e=>{let t=b(e),i=r(t);n.value.models.unshift(i)},S=e=>{let t=n.value.models[e];n.value.models.splice(e,1),t.modelId===n.value.activeModelId&&n.value.models.length>0&&(n.value.activeModelId=n.value.models[0].modelId)},C=e=>{n.value.activeModelId=e,n.value.models.forEach(t=>{`active`in t&&(t.active=t.modelId===e)})},w=async()=>{let e=r(n.value);Object.assign(t.settings,e),await t.saveSettings()},ee=(e,t)=>{let i=r(t);n.value.models[e]=i,w(),T()},te=e=>{u.value=e,d.value=!0},T=()=>{u.value=null,d.value=!1},E=J(()=>u.value!==null&&n.value.models[u.value]?n.value.models[u.value]:null);return(e,t)=>(H(),U(`div`,og,[G(`div`,sg,[G(`div`,cg,[G(`div`,lg,[K(I(Fh),{class:`w-5 h-5 text-primary`})]),t[19]||=G(`div`,{class:`flex-1 space-y-2`},[G(`h2`,{class:`text-xl font-semibold text-foreground`},`License Key`),G(`p`,{class:`text-muted-foreground text-sm`},` Enter your license key to activate premium features and unlock all AI models `)],-1)]),G(`div`,ug,[G(`div`,dg,[K(oh,{type:o.value?`text`:`password`,modelValue:i.value,"onUpdate:modelValue":t[0]||=e=>i.value=e,onInput:t[1]||=e=>a.value=``,placeholder:`XXXX-XXXX-XXXX-XXXX`,class:j([`w-full p-3 pr-24 bg-background border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all`,a.value===`valid`?`border-green-500 focus:border-green-500`:a.value===`invalid`?`border-red-500 focus:border-red-500`:`border-border focus:border-primary`])},null,8,[`type`,`modelValue`,`class`]),G(`div`,fg,[a.value===`checking`?(H(),W(I(Ih),{key:0,class:`w-4 h-4 text-primary animate-spin`})):el(``,!0),a.value===`valid`?(H(),W(I(Ch),{key:1,class:`w-4 h-4 text-green-500`})):el(``,!0),a.value===`invalid`?(H(),W(I(wh),{key:2,class:`w-4 h-4 text-red-500`})):el(``,!0),G(`button`,{type:`button`,onClick:t[2]||=e=>o.value=!o.value,class:`text-muted-foreground hover:text-foreground`},[(H(),W(Za(o.value?I(kh):I(Ah)),{class:`w-4 h-4`}))])])]),a.value===`valid`?(H(),U(`div`,pg,[K(I(Ch),{class:`w-4 h-4 text-green-600`}),t[20]||=G(`span`,{class:`text-sm text-green-600`},`License validated successfully! All features are unlocked.`,-1)])):el(``,!0),a.value===`invalid`?(H(),U(`div`,mg,[K(I(wh),{class:`w-4 h-4 text-red-600`}),t[21]||=G(`span`,{class:`text-sm text-red-600`},`Invalid license key. Please check and try again.`,-1)])):el(``,!0),G(`div`,hg,[K(I(Ph),{class:`w-4 h-4 text-muted-foreground mt-0.5`}),t[22]||=G(`div`,{class:`text-sm text-muted-foreground`},[G(`p`,null,[q(`Don't have a license key? `),G(`a`,{href:`#`,class:`text-primary hover:underline`},`Purchase one here`)]),G(`p`,{class:`mt-1`},[q(`Need help? `),G(`a`,{href:`#`,class:`text-primary hover:underline`},`Contact support`)])],-1)])])]),G(`div`,gg,[G(`div`,_g,[G(`div`,vg,[K(I(qh),{class:`w-5 h-5 text-primary`})]),t[23]||=G(`div`,{class:`flex-1 space-y-2`},[G(`h2`,{class:`text-xl font-semibold text-foreground`},`Socket Connection`),G(`p`,{class:`text-muted-foreground text-sm`},` Configure and manage your WebSocket connection for real-time communication `)],-1)]),G(`div`,yg,[G(`div`,bg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[24]||=[q(` Socket Address `)]),_:1,__:[24]}),K(oh,{modelValue:n.value.socketAddress,"onUpdate:modelValue":t[3]||=e=>n.value.socketAddress=e,placeholder:`https://useai-server.fly.dev`,class:`w-full`,onChange:_},null,8,[`modelValue`]),t[25]||=G(`p`,{class:`text-xs text-muted-foreground`},`The WebSocket address for real-time communication`,-1)]),G(`div`,{class:j([`flex items-center gap-3 p-4 rounded-lg border`,v.value.bgColor,v.value.borderColor])},[(H(),W(Za(v.value.icon),{class:j([`w-5 h-5`,v.value.color,s.value===`connecting`?`animate-spin`:``])},null,8,[`class`])),G(`div`,xg,[G(`div`,Sg,[G(`span`,{class:j([`font-medium`,v.value.color])},Xe(v.value.label),3)]),G(`p`,Cg,Xe(v.value.description),1)])],2),G(`div`,wg,[K(zm,{onClick:m,disabled:s.value===`connecting`||s.value===`connected`||s.value===`reconnecting`,class:`flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed`},{default:R(()=>[K(I(Bh),{class:`w-4 h-4`}),t[26]||=q(` Connect `)]),_:1,__:[26]},8,[`disabled`]),K(zm,{onClick:h,disabled:s.value===`disconnected`,class:`flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed`},{default:R(()=>[K(I(Kh),{class:`w-4 h-4`}),t[27]||=q(` Disconnect `)]),_:1,__:[27]},8,[`disabled`]),K(zm,{onClick:g,disabled:s.value===`connecting`||s.value===`reconnecting`,class:`flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed`},{default:R(()=>[K(I(Vh),{class:j([`w-4 h-4`,s.value===`reconnecting`?`animate-spin`:``])},null,8,[`class`]),t[28]||=q(` Reconnect `)]),_:1,__:[28]},8,[`disabled`])])])]),G(`div`,Tg,[G(`div`,Eg,[G(`div`,Dg,[K(I(vh),{class:`w-5 h-5 text-primary`})]),t[29]||=G(`div`,{class:`flex-1 space-y-2`},[G(`h2`,{class:`text-xl font-semibold text-foreground`},`LLM Models`),G(`p`,{class:`text-muted-foreground text-sm`},` Configure and manage your AI models for different providers `)],-1)]),G(`div`,Og,[G(`div`,kg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[30]||=[q(` Add New Model `)]),_:1,__:[30]}),G(`div`,Ag,[(H(),U(B,null,to(y,e=>K(zm,{key:e.name,onClick:t=>x(e.name),class:`flex items-center gap-2 px-4 py-2 bg-secondary hover:bg-secondary/80 text-secondary-foreground rounded-lg border border-border transition-all duration-200 hover:shadow-md`},{default:R(()=>[G(`div`,{class:j([`w-2 h-2 rounded-full`,e.color])},null,2),K(I(zh),{class:`w-4 h-4`}),G(`span`,jg,Xe(e.name),1)]),_:2},1032,[`onClick`])),64))])]),G(`div`,Mg,[(H(!0),U(B,null,to(n.value.models,(e,t)=>(H(),W(ag,{key:e.internalId||e.modelId,model:e,index:t,"is-active":e.modelId===n.value.activeModelId,onSetActive:C,onRemove:S,onSave:ee,onShowForm:te},null,8,[`model`,`index`,`is-active`]))),128))])])]),d.value&&E.value?(H(),U(`div`,Ng,[G(`div`,Pg,[G(`div`,Fg,[G(`div`,Ig,[K(I(Hh),{class:`w-5 h-5 text-primary`})]),G(`div`,Lg,[t[31]||=G(`h2`,{class:`text-xl font-semibold text-foreground`},`Configure Model`,-1),G(`p`,Rg,` Update settings for `+Xe(E.value.modelId||`this model`),1)])]),K(zm,{onClick:T,variant:`ghost`,size:`sm`,class:`p-2 text-muted-foreground hover:text-foreground hover:bg-secondary rounded transition-colors`},{default:R(()=>[K(I(wh),{class:`w-5 h-5`})]),_:1})]),G(`div`,zg,[G(`div`,Bg,[t[34]||=G(`h3`,{class:`text-lg font-medium text-foreground`},`Model Configuration`,-1),G(`div`,Vg,[G(`div`,Hg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[32]||=[q(`Model ID`)]),_:1,__:[32]}),K(oh,{type:`text`,modelValue:E.value.modelId,"onUpdate:modelValue":t[4]||=e=>E.value.modelId=e,class:`w-full`,placeholder:`Enter model ID`},null,8,[`modelValue`])]),G(`div`,Ug,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[33]||=[q(`Provider`)]),_:1,__:[33]}),K(oh,{type:`text`,value:E.value.provider,class:`w-full`,readonly:``},null,8,[`value`])])])]),G(`div`,Wg,[t[38]||=G(`h3`,{class:`text-lg font-medium text-foreground`},`Parameters`,-1),G(`div`,Gg,[G(`div`,Kg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[35]||=[q(`Temperature`)]),_:1,__:[35]}),K(oh,{type:`number`,min:`0`,max:`2`,step:`0.1`,modelValue:E.value.temperature,"onUpdate:modelValue":t[5]||=e=>E.value.temperature=e,modelModifiers:{number:!0},class:`w-full`},null,8,[`modelValue`])]),G(`div`,qg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[36]||=[q(`Top K`)]),_:1,__:[36]}),K(oh,{type:`number`,min:`1`,max:`100`,modelValue:E.value.topK,"onUpdate:modelValue":t[6]||=e=>E.value.topK=e,modelModifiers:{number:!0},class:`w-full`},null,8,[`modelValue`])]),G(`div`,Jg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[37]||=[q(`Top P`)]),_:1,__:[37]}),K(oh,{type:`number`,min:`0`,max:`1`,step:`0.01`,modelValue:E.value.topP,"onUpdate:modelValue":t[7]||=e=>E.value.topP=e,modelModifiers:{number:!0},class:`w-full`},null,8,[`modelValue`])])])]),G(`div`,Yg,[t[47]||=G(`h3`,{class:`text-lg font-medium text-foreground`},`Credentials`,-1),I(pf)(E.value)?(H(),U(`div`,Xg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[39]||=[q(`API Key`)]),_:1,__:[39]}),K(oh,{type:`password`,modelValue:E.value.apiKey,"onUpdate:modelValue":t[8]||=e=>E.value.apiKey=e,class:`w-full`,placeholder:`Google API key`},null,8,[`modelValue`])])):I(hf)(E.value)?(H(),U(`div`,Zg,[G(`div`,Qg,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[40]||=[q(`API Key`)]),_:1,__:[40]}),K(oh,{type:`password`,modelValue:E.value.apiKey,"onUpdate:modelValue":t[9]||=e=>E.value.apiKey=e,class:`w-full`,placeholder:`OpenAI API key`},null,8,[`modelValue`])]),G(`div`,$g,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[41]||=[q(`Organization ID`)]),_:1,__:[41]}),K(oh,{type:`text`,modelValue:E.value.organization,"onUpdate:modelValue":t[10]||=e=>E.value.organization=e,class:`w-full`,placeholder:`Optional`},null,8,[`modelValue`])]),G(`div`,e_,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[42]||=[q(`Base URL`)]),_:1,__:[42]}),K(oh,{type:`text`,modelValue:E.value.baseUrl,"onUpdate:modelValue":t[11]||=e=>E.value.baseUrl=e,class:`w-full`,placeholder:`Optional`},null,8,[`modelValue`])])])):I(gf)(E.value)?(H(),U(`div`,t_,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[43]||=[q(`API Key`)]),_:1,__:[43]}),K(oh,{type:`password`,modelValue:E.value.apiKey,"onUpdate:modelValue":t[12]||=e=>E.value.apiKey=e,class:`w-full`,placeholder:`Anthropic API key`},null,8,[`modelValue`])])):I(mf)(E.value)?(H(),U(`div`,n_,[G(`div`,r_,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[44]||=[q(`Access Key ID`)]),_:1,__:[44]}),K(oh,{type:`password`,modelValue:E.value.accessKeyId,"onUpdate:modelValue":t[13]||=e=>E.value.accessKeyId=e,class:`w-full`,placeholder:`AWS Access Key ID`},null,8,[`modelValue`])]),G(`div`,i_,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[45]||=[q(`Secret Access Key`)]),_:1,__:[45]}),K(oh,{type:`password`,modelValue:E.value.secretAccessKey,"onUpdate:modelValue":t[14]||=e=>E.value.secretAccessKey=e,class:`w-full`,placeholder:`AWS Secret Access Key`},null,8,[`modelValue`])]),G(`div`,a_,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[46]||=[q(`Region`)]),_:1,__:[46]}),K(oh,{type:`text`,modelValue:E.value.region,"onUpdate:modelValue":t[15]||=e=>E.value.region=e,class:`w-full`,placeholder:`us-east-1`},null,8,[`modelValue`])])])):el(``,!0)]),G(`div`,o_,[K(zm,{onClick:t[16]||=e=>S(u.value),variant:`destructive`,class:`flex items-center gap-2`},{default:R(()=>[K(I(Wh),{class:`w-4 h-4`}),t[48]||=q(` Delete Model `)]),_:1,__:[48]}),G(`div`,s_,[K(zm,{onClick:T,variant:`secondary`},{default:R(()=>t[49]||=[q(` Cancel `)]),_:1,__:[49]}),K(zm,{onClick:t[17]||=e=>ee(u.value,E.value),class:`bg-primary text-primary-foreground hover:bg-primary/90`},{default:R(()=>t[50]||=[q(` Save Changes `)]),_:1,__:[50]})])])])])):el(``,!0),G(`div`,c_,[G(`div`,l_,[K(ch,{class:`text-sm font-medium text-foreground`},{default:R(()=>t[51]||=[q(` System Prompt `)]),_:1,__:[51]}),K(uh,{modelValue:n.value.systemPrompt,"onUpdate:modelValue":t[18]||=e=>n.value.systemPrompt=e,class:`w-full h-32 p-4 bg-background border border-border rounded-lg text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary resize-none`,placeholder:`Enter your system prompt here...`},null,8,[`modelValue`])]),G(`div`,u_,[K(zm,{onClick:w,class:`px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors font-medium`},{default:R(()=>t[52]||=[q(` Save Changes `)]),_:1,__:[52]})])])]))}}),f_=d_,p_=class extends u.Events{constructor(){super()}on(e,t){return super.on(e,t)}trigger(e,...t){return super.trigger(e,...t)}};const m_=``,h_=[{internalId:`default_google_gemini`,provider:`google`,modelId:`gemini-2.0-flash-exp`,modelName:`Gemini 2.0 Flash`,apiKey:``,color:`#4285F4`},{internalId:`default_openai_gpt4o`,provider:`openai`,modelId:`gpt-4o`,modelName:`GPT-4o`,apiKey:``,color:`#10A37F`},{internalId:`default_anthropic_claude`,provider:`anthropic`,modelId:`claude-3-5-sonnet-20241022`,modelName:`Claude 3.5 Sonnet`,apiKey:``,color:`#D4A574`}],g_={debug:!1,systemPrompt:m_,socketAddress:`https://useai-server.fly.dev`,models:h_,activeModelId:h_.length>0?h_[0].modelId:``,licenseKey:``},__=Object.create(null);__.open=`0`,__.close=`1`,__.ping=`2`,__.pong=`3`,__.message=`4`,__.upgrade=`5`,__.noop=`6`;const v_=Object.create(null);Object.keys(__).forEach(e=>{v_[__[e]]=e});const y_={type:`error`,data:`parser error`},b_=typeof Blob==`function`||typeof Blob<`u`&&Object.prototype.toString.call(Blob)===`[object BlobConstructor]`,x_=typeof ArrayBuffer==`function`,S_=e=>typeof ArrayBuffer.isView==`function`?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,C_=({type:e,data:t},n,r)=>b_&&t instanceof Blob?n?r(t):w_(t,r):x_&&(t instanceof ArrayBuffer||S_(t))?n?r(t):w_(new Blob([t]),r):r(__[e]+(t||``)),w_=(e,t)=>{let n=new FileReader;return n.onload=function(){let e=n.result.split(`,`)[1];t(`b`+(e||``))},n.readAsDataURL(e)};function T_(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let E_;function D_(e,t){if(b_&&e.data instanceof Blob)return e.data.arrayBuffer().then(T_).then(t);if(x_&&(e.data instanceof ArrayBuffer||S_(e.data)))return t(T_(e.data));C_(e,!1,e=>{E_||=new TextEncoder,t(E_.encode(e))})}const O_=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,k_=typeof Uint8Array>`u`?[]:new Uint8Array(256);for(let e=0;e<64;e++)k_[O_.charCodeAt(e)]=e;const A_=e=>{let t=e.length*.75,n=e.length,r,i=0,a,o,s,c;e[e.length-1]===`=`&&(t--,e[e.length-2]===`=`&&t--);let l=new ArrayBuffer(t),u=new Uint8Array(l);for(r=0;r<n;r+=4)a=k_[e.charCodeAt(r)],o=k_[e.charCodeAt(r+1)],s=k_[e.charCodeAt(r+2)],c=k_[e.charCodeAt(r+3)],u[i++]=a<<2|o>>4,u[i++]=(o&15)<<4|s>>2,u[i++]=(s&3)<<6|c&63;return l},j_=typeof ArrayBuffer==`function`,M_=(e,t)=>{if(typeof e!=`string`)return{type:`message`,data:P_(e,t)};let n=e.charAt(0);if(n===`b`)return{type:`message`,data:N_(e.substring(1),t)};let r=v_[n];return r?e.length>1?{type:v_[n],data:e.substring(1)}:{type:v_[n]}:y_},N_=(e,t)=>{if(j_){let n=A_(e);return P_(n,t)}else return{base64:!0,data:e}},P_=(e,t)=>{switch(t){case`blob`:return e instanceof Blob?e:new Blob([e]);case`arraybuffer`:default:return e instanceof ArrayBuffer?e:e.buffer}},F_=``,I_=(e,t)=>{let n=e.length,r=Array(n),i=0;e.forEach((e,a)=>{C_(e,!1,e=>{r[a]=e,++i===n&&t(r.join(F_))})})},L_=(e,t)=>{let n=e.split(F_),r=[];for(let e=0;e<n.length;e++){let i=M_(n[e],t);if(r.push(i),i.type===`error`)break}return r};function R_(){return new TransformStream({transform(e,t){D_(e,n=>{let r=n.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);let e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!=`string`&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let z_;function B_(e){return e.reduce((e,t)=>e+t.length,0)}function V_(e,t){if(e[0].length===t)return e.shift();let n=new Uint8Array(t),r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function H_(e,t){z_||=new TextDecoder;let n=[],r=0,i=-1,a=!1;return new TransformStream({transform(o,s){for(n.push(o);;){if(r===0){if(B_(n)<1)break;let e=V_(n,1);a=(e[0]&128)==128,i=e[0]&127,r=i<126?3:i===126?1:2}else if(r===1){if(B_(n)<2)break;let e=V_(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(r===2){if(B_(n)<8)break;let e=V_(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>2**21-1){s.enqueue(y_);break}i=a*2**32+t.getUint32(4),r=3}else{if(B_(n)<i)break;let e=V_(n,i);s.enqueue(M_(a?e:z_.decode(e),t)),r=0}if(i===0||i>e){s.enqueue(y_);break}}}})}const U_=4;function W_(e){if(e)return G_(e)}function G_(e){for(var t in W_.prototype)e[t]=W_.prototype[t];return e}W_.prototype.on=W_.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[`$`+e]=this._callbacks[`$`+e]||[]).push(t),this},W_.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},W_.prototype.off=W_.prototype.removeListener=W_.prototype.removeAllListeners=W_.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks[`$`+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks[`$`+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks[`$`+e],this},W_.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),n=this._callbacks[`$`+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},W_.prototype.emitReserved=W_.prototype.emit,W_.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[`$`+e]||[]},W_.prototype.hasListeners=function(e){return!!this.listeners(e).length};const K_=(()=>{let e=typeof Promise==`function`&&typeof Promise.resolve==`function`;return e?e=>Promise.resolve().then(e):(e,t)=>t(e,0)})(),q_=(()=>typeof self<`u`?self:typeof window<`u`?window:Function(`return this`)())(),J_=`arraybuffer`;function Y_(){}function X_(e,...t){return t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const Z_=q_.setTimeout,Q_=q_.clearTimeout;function $_(e,t){t.useNativeTimers?(e.setTimeoutFn=Z_.bind(q_),e.clearTimeoutFn=Q_.bind(q_)):(e.setTimeoutFn=q_.setTimeout.bind(q_),e.clearTimeoutFn=q_.clearTimeout.bind(q_))}const ev=1.33;function tv(e){return typeof e==`string`?nv(e):Math.ceil((e.byteLength||e.size)*ev)}function nv(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function rv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function iv(e){let t=``;for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+=`&`),t+=encodeURIComponent(n)+`=`+encodeURIComponent(e[n]));return t}function av(e){let t={},n=e.split(`&`);for(let e=0,r=n.length;e<r;e++){let r=n[e].split(`=`);t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}var ov=class extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type=`TransportError`}},sv=class extends W_{constructor(e){super(),this.writable=!1,$_(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved(`error`,new ov(e,t,n)),this}open(){return this.readyState=`opening`,this.doOpen(),this}close(){return(this.readyState===`opening`||this.readyState===`open`)&&(this.doClose(),this.onClose()),this}send(e){this.readyState===`open`&&this.write(e)}onOpen(){this.readyState=`open`,this.writable=!0,super.emitReserved(`open`)}onData(e){let t=M_(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved(`packet`,e)}onClose(e){this.readyState=`closed`,super.emitReserved(`close`,e)}pause(e){}createUri(e,t={}){return e+`://`+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return e.indexOf(`:`)===-1?e:`[`+e+`]`}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?`:`+this.opts.port:``}_query(e){let t=iv(e);return t.length?`?`+t:``}},cv=class extends sv{constructor(){super(...arguments),this._polling=!1}get name(){return`polling`}doOpen(){this._poll()}pause(e){this.readyState=`pausing`;let t=()=>{this.readyState=`paused`,e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once(`pollComplete`,function(){--e||t()})),this.writable||(e++,this.once(`drain`,function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved(`poll`)}onData(e){let t=e=>{if(this.readyState===`opening`&&e.type===`open`&&this.onOpen(),e.type===`close`)return this.onClose({description:`transport closed by the server`}),!1;this.onPacket(e)};L_(e,this.socket.binaryType).forEach(t),this.readyState!==`closed`&&(this._polling=!1,this.emitReserved(`pollComplete`),this.readyState===`open`&&this._poll())}doClose(){let e=()=>{this.write([{type:`close`}])};this.readyState===`open`?e():this.once(`open`,e)}write(e){this.writable=!1,I_(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved(`drain`)})})}uri(){let e=this.opts.secure?`https`:`http`,t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=rv()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}};let lv=!1;try{lv=typeof XMLHttpRequest<`u`&&`withCredentials`in new XMLHttpRequest}catch{}const uv=lv;function dv(){}var fv=class extends cv{constructor(e){if(super(e),typeof location<`u`){let t=location.protocol===`https:`,n=location.port;n||=t?`443`:`80`,this.xd=typeof location<`u`&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){let n=this.request({method:`POST`,data:e});n.on(`success`,t),n.on(`error`,(e,t)=>{this.onError(`xhr post error`,e,t)})}doPoll(){let e=this.request();e.on(`data`,this.onData.bind(this)),e.on(`error`,(e,t)=>{this.onError(`xhr poll error`,e,t)}),this.pollXhr=e}},pv=class e extends W_{constructor(e,t,n){super(),this.createRequest=e,$_(this,n),this._opts=n,this._method=n.method||`GET`,this._uri=t,this._data=n.data===void 0?null:n.data,this._create()}_create(){var t;let n=X_(this._opts,`agent`,`pfx`,`key`,`passphrase`,`cert`,`ca`,`ciphers`,`rejectUnauthorized`,`autoUnref`);n.xdomain=!!this._opts.xd;let r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(let e in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}catch{}if(this._method===`POST`)try{r.setRequestHeader(`Content-type`,`text/plain;charset=UTF-8`)}catch{}try{r.setRequestHeader(`Accept`,`*/*`)}catch{}(t=this._opts.cookieJar)==null||t.addCookies(r),`withCredentials`in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;r.readyState===3&&((e=this._opts.cookieJar)==null||e.parseCookies(r.getResponseHeader(`set-cookie`))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status==`number`?r.status:0)},0))},r.send(this._data)}catch(e){this.setTimeoutFn(()=>{this._onError(e)},0);return}typeof document<`u`&&(this._index=e.requestsCount++,e.requests[this._index]=this)}_onError(e){this.emitReserved(`error`,e,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(this._xhr===void 0||this._xhr===null)){if(this._xhr.onreadystatechange=dv,t)try{this._xhr.abort()}catch{}typeof document<`u`&&delete e.requests[this._index],this._xhr=null}}_onLoad(){let e=this._xhr.responseText;e!==null&&(this.emitReserved(`data`,e),this.emitReserved(`success`),this._cleanup())}abort(){this._cleanup()}};if(pv.requestsCount=0,pv.requests={},typeof document<`u`){if(typeof attachEvent==`function`)attachEvent(`onunload`,mv);else if(typeof addEventListener==`function`){let e=`onpagehide`in q_?`pagehide`:`unload`;addEventListener(e,mv,!1)}}function mv(){for(let e in pv.requests)pv.requests.hasOwnProperty(e)&&pv.requests[e].abort()}const hv=function(){let e=_v({xdomain:!1});return e&&e.responseType!==null}();var gv=class extends fv{constructor(e){super(e);let t=e&&e.forceBase64;this.supportsBinary=hv&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new pv(_v,this.uri(),e)}};function _v(e){let t=e.xdomain;try{if(typeof XMLHttpRequest<`u`&&(!t||uv))return new XMLHttpRequest}catch{}if(!t)try{return new q_[[`Active`,`Object`].join(`X`)](`Microsoft.XMLHTTP`)}catch{}}const vv=typeof navigator<`u`&&typeof navigator.product==`string`&&navigator.product.toLowerCase()===`reactnative`;var yv=class extends sv{get name(){return`websocket`}doOpen(){let e=this.uri(),t=this.opts.protocols,n=vv?{}:X_(this.opts,`agent`,`perMessageDeflate`,`pfx`,`key`,`passphrase`,`cert`,`ca`,`ciphers`,`rejectUnauthorized`,`localAddress`,`protocolVersion`,`origin`,`maxPayload`,`family`,`checkServerIdentity`);this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(e){return this.emitReserved(`error`,e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:`websocket connection closed`,context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError(`websocket error`,e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],r=t===e.length-1;C_(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch{}r&&K_(()=>{this.writable=!0,this.emitReserved(`drain`)},this.setTimeoutFn)})}}doClose(){this.ws!==void 0&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?`wss`:`ws`,t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=rv()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}};const bv=q_.WebSocket||q_.MozWebSocket;var xv=class extends yv{createSocket(e,t,n){return vv?new bv(e,t,n):t?new bv(e,t):new bv(e)}doWrite(e,t){this.ws.send(t)}},Sv=class extends sv{get name(){return`webtransport`}doOpen(){try{this._transport=new WebTransport(this.createUri(`https`),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved(`error`,e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError(`webtransport error`,e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let t=H_(2**53-1,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=R_();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();let i=()=>{n.read().then(({done:e,value:t})=>{e||(this.onPacket(t),i())}).catch(e=>{})};i();let a={type:`open`};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&K_(()=>{this.writable=!0,this.emitReserved(`drain`)},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)==null||e.close()}};const Cv={websocket:xv,webtransport:Sv,polling:gv},wv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Tv=[`source`,`protocol`,`authority`,`userInfo`,`user`,`password`,`host`,`port`,`relative`,`path`,`directory`,`file`,`query`,`anchor`];function Ev(e){if(e.length>8e3)throw`URI too long`;let t=e,n=e.indexOf(`[`),r=e.indexOf(`]`);n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,`;`)+e.substring(r,e.length));let i=wv.exec(e||``),a={},o=14;for(;o--;)a[Tv[o]]=i[o]||``;return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,`:`),a.authority=a.authority.replace(`[`,``).replace(`]`,``).replace(/;/g,`:`),a.ipv6uri=!0),a.pathNames=Dv(a,a.path),a.queryKey=Ov(a,a.query),a}function Dv(e,t){let n=/\/{2,9}/g,r=t.replace(n,`/`).split(`/`);return(t.slice(0,1)==`/`||t.length===0)&&r.splice(0,1),t.slice(-1)==`/`&&r.splice(r.length-1,1),r}function Ov(e,t){let n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}const kv=typeof addEventListener==`function`&&typeof removeEventListener==`function`,Av=[];kv&&addEventListener(`offline`,()=>{Av.forEach(e=>e())},!1);var jv=class e extends W_{constructor(e,t){if(super(),this.binaryType=J_,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e==`object`&&(t=e,e=null),e){let n=Ev(e);t.hostname=n.host,t.secure=n.protocol===`https`||n.protocol===`wss`,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Ev(t.host).host);$_(this,t),this.secure=t.secure==null?typeof location<`u`&&location.protocol===`https:`:t.secure,t.hostname&&!t.port&&(t.port=this.secure?`443`:`80`),this.hostname=t.hostname||(typeof location<`u`?location.hostname:`localhost`),this.port=t.port||(typeof location<`u`&&location.port?location.port:this.secure?`443`:`80`),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{let t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:`/engine.io`,agent:!1,withCredentials:!1,upgrade:!0,timestampParam:`t`,rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,``)+(this.opts.addTrailingSlash?`/`:``),typeof this.opts.query==`string`&&(this.opts.query=av(this.opts.query)),kv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener(`beforeunload`,this._beforeunloadEventListener,!1)),this.hostname!==`localhost`&&(this._offlineEventListener=()=>{this._onClose(`transport close`,{description:`network connection lost`})},Av.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=Y_()),this._open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=U_,t.transport=e,this.id&&(t.sid=this.id);let n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved(`error`,`No transports available`)},0);return}let t=this.opts.rememberUpgrade&&e.priorWebsocketSuccess&&this.transports.indexOf(`websocket`)!==-1?`websocket`:this.transports[0];this.readyState=`opening`;let n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on(`drain`,this._onDrain.bind(this)).on(`packet`,this._onPacket.bind(this)).on(`error`,this._onError.bind(this)).on(`close`,e=>this._onClose(`transport close`,e))}onOpen(){this.readyState=`open`,e.priorWebsocketSuccess=this.transport.name===`websocket`,this.emitReserved(`open`),this.flush()}_onPacket(e){if(this.readyState===`opening`||this.readyState===`open`||this.readyState===`closing`)switch(this.emitReserved(`packet`,e),this.emitReserved(`heartbeat`),e.type){case`open`:this.onHandshake(JSON.parse(e.data));break;case`ping`:this._sendPacket(`pong`),this.emitReserved(`ping`),this.emitReserved(`pong`),this._resetPingTimeout();break;case`error`:let t=Error(`server error`);t.code=e.data,this._onError(t);break;case`message`:this.emitReserved(`data`,e.data),this.emitReserved(`message`,e.data);break}}onHandshake(e){this.emitReserved(`handshake`,e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!==`closed`&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose(`ping timeout`)},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved(`drain`):this.flush()}flush(){if(this.readyState!==`closed`&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved(`flush`)}}_getWritablePackets(){let e=this._maxPayload&&this.transport.name===`polling`&&this.writeBuffer.length>1;if(!e)return this.writeBuffer;let t=1;for(let e=0;e<this.writeBuffer.length;e++){let n=this.writeBuffer[e].data;if(n&&(t+=tv(n)),e>0&&t>this._maxPayload)return this.writeBuffer.slice(0,e);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,K_(()=>{this._onClose(`ping timeout`)},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket(`message`,e,t,n),this}send(e,t,n){return this._sendPacket(`message`,e,t,n),this}_sendPacket(e,t,n,r){if(typeof t==`function`&&(r=t,t=void 0),typeof n==`function`&&(r=n,n=null),this.readyState===`closing`||this.readyState===`closed`)return;n||={},n.compress=n.compress!==!1;let i={type:e,data:t,options:n};this.emitReserved(`packetCreate`,i),this.writeBuffer.push(i),r&&this.once(`flush`,r),this.flush()}close(){let e=()=>{this._onClose(`forced close`),this.transport.close()},t=()=>{this.off(`upgrade`,t),this.off(`upgradeError`,t),e()},n=()=>{this.once(`upgrade`,t),this.once(`upgradeError`,t)};return(this.readyState===`opening`||this.readyState===`open`)&&(this.readyState=`closing`,this.writeBuffer.length?this.once(`drain`,()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(t){if(e.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState===`opening`)return this.transports.shift(),this._open();this.emitReserved(`error`,t),this._onClose(`transport error`,t)}_onClose(e,t){if(this.readyState===`opening`||this.readyState===`open`||this.readyState===`closing`){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners(`close`),this.transport.close(),this.transport.removeAllListeners(),kv&&(this._beforeunloadEventListener&&removeEventListener(`beforeunload`,this._beforeunloadEventListener,!1),this._offlineEventListener)){let e=Av.indexOf(this._offlineEventListener);e!==-1&&Av.splice(e,1)}this.readyState=`closed`,this.id=null,this.emitReserved(`close`,e,t),this.writeBuffer=[],this._prevBufferLen=0}}};jv.protocol=U_;var Mv=class extends jv{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState===`open`&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;jv.priorWebsocketSuccess=!1;let r=()=>{n||(t.send([{type:`ping`,data:`probe`}]),t.once(`packet`,e=>{if(!n)if(e.type===`pong`&&e.data===`probe`){if(this.upgrading=!0,this.emitReserved(`upgrading`,t),!t)return;jv.priorWebsocketSuccess=t.name===`websocket`,this.transport.pause(()=>{n||this.readyState!==`closed`&&(l(),this.setTransport(t),t.send([{type:`upgrade`}]),this.emitReserved(`upgrade`,t),t=null,this.upgrading=!1,this.flush())})}else{let e=Error(`probe error`);e.transport=t.name,this.emitReserved(`upgradeError`,e)}}))};function i(){n||(n=!0,l(),t.close(),t=null)}let a=e=>{let n=Error(`probe error: `+e);n.transport=t.name,i(),this.emitReserved(`upgradeError`,n)};function o(){a(`transport closed`)}function s(){a(`socket closed`)}function c(e){t&&e.name!==t.name&&i()}let l=()=>{t.removeListener(`open`,r),t.removeListener(`error`,a),t.removeListener(`close`,o),this.off(`close`,s),this.off(`upgrading`,c)};t.once(`open`,r),t.once(`error`,a),t.once(`close`,o),this.once(`close`,s),this.once(`upgrading`,c),this._upgrades.indexOf(`webtransport`)!==-1&&e!==`webtransport`?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}},Nv=class extends Mv{constructor(e,t={}){let n=typeof e==`object`?e:t;(!n.transports||n.transports&&typeof n.transports[0]==`string`)&&(n.transports=(n.transports||[`polling`,`websocket`,`webtransport`]).map(e=>Cv[e]).filter(e=>!!e)),super(e,n)}};const Pv=Nv.protocol;function Fv(e,t=``,n){let r=e;n||=typeof location<`u`&&location,e??=n.protocol+`//`+n.host,typeof e==`string`&&(e.charAt(0)===`/`&&(e=e.charAt(1)===`/`?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=n===void 0?`https://`+e:n.protocol+`//`+e),r=Ev(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port=`80`:/^(http|ws)s$/.test(r.protocol)&&(r.port=`443`)),r.path=r.path||`/`;let i=r.host.indexOf(`:`)!==-1,a=i?`[`+r.host+`]`:r.host;return r.id=r.protocol+`://`+a+`:`+r.port+t,r.href=r.protocol+`://`+a+(n&&n.port===r.port?``:`:`+r.port),r}const Iv=typeof ArrayBuffer==`function`,Lv=e=>typeof ArrayBuffer.isView==`function`?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Rv=Object.prototype.toString,zv=typeof Blob==`function`||typeof Blob<`u`&&Rv.call(Blob)===`[object BlobConstructor]`,Bv=typeof File==`function`||typeof File<`u`&&Rv.call(File)===`[object FileConstructor]`;function Vv(e){return Iv&&(e instanceof ArrayBuffer||Lv(e))||zv&&e instanceof Blob||Bv&&e instanceof File}function Hv(e,t){if(!e||typeof e!=`object`)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Hv(e[t]))return!0;return!1}if(Vv(e))return!0;if(e.toJSON&&typeof e.toJSON==`function`&&arguments.length===1)return Hv(e.toJSON(),!0);for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Hv(e[t]))return!0;return!1}function Uv(e){let t=[],n=e.data,r=e;return r.data=Wv(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Wv(e,t){if(!e)return e;if(Vv(e)){let n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){let n=Array(e.length);for(let r=0;r<e.length;r++)n[r]=Wv(e[r],t);return n}else if(typeof e==`object`&&!(e instanceof Date)){let n={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Wv(e[r],t));return n}return e}function Gv(e,t){return e.data=Kv(e.data,t),delete e.attachments,e}function Kv(e,t){if(!e)return e;if(e&&e._placeholder===!0){let n=typeof e.num==`number`&&e.num>=0&&e.num<t.length;if(n)return t[e.num];throw Error(`illegal attachments`)}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Kv(e[n],t);else if(typeof e==`object`)for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Kv(e[n],t));return e}var qv={};s(qv,{Decoder:()=>Qv,Encoder:()=>Xv,PacketType:()=>$,protocol:()=>Yv});const Jv=[`connect`,`connect_error`,`disconnect`,`disconnecting`,`newListener`,`removeListener`],Yv=5;var $;(function(e){e[e.CONNECT=0]=`CONNECT`,e[e.DISCONNECT=1]=`DISCONNECT`,e[e.EVENT=2]=`EVENT`,e[e.ACK=3]=`ACK`,e[e.CONNECT_ERROR=4]=`CONNECT_ERROR`,e[e.BINARY_EVENT=5]=`BINARY_EVENT`,e[e.BINARY_ACK=6]=`BINARY_ACK`})($||={});var Xv=class{constructor(e){this.replacer=e}encode(e){return(e.type===$.EVENT||e.type===$.ACK)&&Hv(e)?this.encodeAsBinary({type:e.type===$.EVENT?$.BINARY_EVENT:$.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=``+e.type;return(e.type===$.BINARY_EVENT||e.type===$.BINARY_ACK)&&(t+=e.attachments+`-`),e.nsp&&e.nsp!==`/`&&(t+=e.nsp+`,`),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=Uv(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}};function Zv(e){return Object.prototype.toString.call(e)===`[object Object]`}var Qv=class e extends W_{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e==`string`){if(this.reconstructor)throw Error(`got plaintext data when reconstructing a packet`);t=this.decodeString(e);let n=t.type===$.BINARY_EVENT;n||t.type===$.BINARY_ACK?(t.type=n?$.EVENT:$.ACK,this.reconstructor=new $v(t),t.attachments===0&&super.emitReserved(`decoded`,t)):super.emitReserved(`decoded`,t)}else if(Vv(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved(`decoded`,t));else throw Error(`got binary data when not reconstructing a packet`);else throw Error(`Unknown type: `+e)}decodeString(t){let n=0,r={type:Number(t.charAt(0))};if($[r.type]===void 0)throw Error(`unknown packet type `+r.type);if(r.type===$.BINARY_EVENT||r.type===$.BINARY_ACK){let e=n+1;for(;t.charAt(++n)!==`-`&&n!=t.length;);let i=t.substring(e,n);if(i!=Number(i)||t.charAt(n)!==`-`)throw Error(`Illegal attachments`);r.attachments=Number(i)}if(t.charAt(n+1)===`/`){let e=n+1;for(;++n;){let e=t.charAt(n);if(e===`,`||n===t.length)break}r.nsp=t.substring(e,n)}else r.nsp=`/`;let i=t.charAt(n+1);if(i!==``&&Number(i)==i){let e=n+1;for(;++n;){let e=t.charAt(n);if(e==null||Number(e)!=e){--n;break}if(n===t.length)break}r.id=Number(t.substring(e,n+1))}if(t.charAt(++n)){let i=this.tryParse(t.substr(n));if(e.isPayloadValid(r.type,i))r.data=i;else throw Error(`invalid payload`)}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case $.CONNECT:return Zv(t);case $.DISCONNECT:return t===void 0;case $.CONNECT_ERROR:return typeof t==`string`||Zv(t);case $.EVENT:case $.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]==`number`||typeof t[0]==`string`&&Jv.indexOf(t[0])===-1);case $.ACK:case $.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},$v=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let e=Gv(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function ey(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const ty=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});var ny=class extends W_{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[ey(e,`open`,this.onopen.bind(this)),ey(e,`packet`,this.onpacket.bind(this)),ey(e,`error`,this.onerror.bind(this)),ey(e,`close`,this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState===`open`&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift(`message`),this.emit.apply(this,e),this}emit(e,...t){var n,r,i;if(ty.hasOwnProperty(e))throw Error(`"`+e.toString()+`" is a reserved event name`);if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let a={type:$.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]==`function`){let e=this.ids++,n=t.pop();this._registerAckCallback(e,n),a.id=e}let o=(r=(n=this.io.engine)?.transport)?.writable,s=this.connected&&!(i=this.io.engine)?._hasPingExpired(),c=this.flags.volatile&&!o;return c||(s?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n;let r=(n=this.flags.timeout)??this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}let i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,Error(`operation has timed out`))},r),a=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,e)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((n,r)=>{let i=(e,t)=>e?r(e):n(t);i.withError=!0,t.push(i),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]==`function`&&(t=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...r)=>{if(n!==this._queue[0])return;let i=e!==null;return i?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth==`function`?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:$.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved(`connect_error`,e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved(`disconnect`,e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{let t=this.sendBuffer.some(t=>String(t.id)===e);if(!t){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,Error(`socket has been disconnected`))}})}onpacket(e){let t=e.nsp===this.nsp;if(t)switch(e.type){case $.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved(`connect_error`,Error(`It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)`));break;case $.EVENT:case $.BINARY_EVENT:this.onevent(e);break;case $.ACK:case $.BINARY_ACK:this.onack(e);break;case $.DISCONNECT:this.ondisconnect();break;case $.CONNECT_ERROR:this.destroy();let t=Error(e.data.message);t.data=e.data.data,this.emitReserved(`connect_error`,t);break}}onevent(e){let t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]==`string`&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,n=!1;return function(...r){n||(n=!0,t.packet({type:$.ACK,id:e,data:r}))}}onack(e){let t=this.acks[e.id];typeof t==`function`&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved(`connect`),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose(`io server disconnect`)}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$.DISCONNECT}),this.destroy(),this.connected&&this.onclose(`io client disconnect`),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let n of t)n.apply(this,e.data)}}};function ry(e){e||={},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ry.prototype.duration=function(){var e=this.ms*this.factor**+ this.attempts++;if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0},ry.prototype.reset=function(){this.attempts=0},ry.prototype.setMin=function(e){this.ms=e},ry.prototype.setMax=function(e){this.max=e},ry.prototype.setJitter=function(e){this.jitter=e};var iy=class extends W_{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&typeof e==`object`&&(t=e,e=void 0),t||={},t.path=t.path||`/socket.io`,this.opts=t,$_(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)??.5),this.backoff=new ry({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState=`closed`,this.uri=e;let r=t.parser||qv;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)==null||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)==null||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)==null||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf(`open`))return this;this.engine=new Nv(this.uri,this.opts);let t=this.engine,n=this;this._readyState=`opening`,this.skipReconnect=!1;let r=ey(t,`open`,function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState=`closed`,this.emitReserved(`error`,t),e?e(t):this.maybeReconnectOnOpen()},a=ey(t,`error`,i);if(this._timeout!==!1){let e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(Error(`timeout`)),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState=`open`,this.emitReserved(`open`);let e=this.engine;this.subs.push(ey(e,`ping`,this.onping.bind(this)),ey(e,`data`,this.ondata.bind(this)),ey(e,`error`,this.onerror.bind(this)),ey(e,`close`,this.onclose.bind(this)),ey(this.decoder,`decoded`,this.ondecoded.bind(this)))}onping(){this.emitReserved(`ping`)}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose(`parse error`,e)}}ondecoded(e){K_(()=>{this.emitReserved(`packet`,e)},this.setTimeoutFn)}onerror(e){this.emitReserved(`error`,e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new ny(this,e,t),this.nsps[e]=n),n}_destroy(e){let t=Object.keys(this.nsps);for(let e of t){let t=this.nsps[e];if(t.active)return}this._close()}_packet(e){let t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose(`forced close`)}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),(n=this.engine)==null||n.close(),this.backoff.reset(),this._readyState=`closed`,this.emitReserved(`close`,e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved(`reconnect_failed`),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved(`reconnect_attempt`,e.backoff.attempts),!e.skipReconnect&&e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved(`reconnect_error`,t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved(`reconnect`,e)}};const ay={};function oy(e,t){typeof e==`object`&&(t=e,e=void 0),t||={};let n=Fv(e,t.path||`/socket.io`),r=n.source,i=n.id,a=n.path,o=ay[i]&&a in ay[i].nsps,s=t.forceNew||t[`force new connection`]||t.multiplex===!1||o,c;return s?c=new iy(r,t):(ay[i]||(ay[i]=new iy(r,t)),c=ay[i]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(oy,{Manager:iy,Socket:ny,io:oy,connect:oy});function sy(e,t,n,r,i,a){e.emit(`generateMessage`,t,n,r,i,a)}function cy(e,t){e.on(`showNotice`,t)}function ly(e,t){e.on(`updateNodeText`,t)}function uy(e,t){e.on(`createNode`,async(e,n,r,i,a,o,s)=>{try{let c=await t(e,n,r,i,a,o);s(c)}catch(e){console.error(`[createNode] Handler error:`,e),s({message:e instanceof Error?e.message:`Unknown error`})}})}function dy(e,t){e.on(`deleteEdge`,t)}function fy(e,t){e.on(`addEdge`,t)}function py(e,t){e.on(`addAgentMessage`,t)}function my(e,t){e.on(`addStep`,t)}function hy(e,t){e.on(`setNodeStatus`,t)}function gy(e,t){e.on(`setNodeColor`,t)}function _y(e,t){e.on(`deleteNode`,t)}function vy(e,t){e.on(`searchNoteInVault`,async(e,n)=>{try{let r=await t(e);n(r)}catch(e){console.error(`[searchNoteInVault] Handler error:`,e),n({message:e instanceof Error?e.message:`Unknown error`})}})}const yy=e=>{let t=[];for(let n=0;n<e;n++)t.push((16*Math.random()|0).toString(16));return t.join(``)},by=async(e,t,n,r,i)=>{if(!e)return;let a=e.getData();a&&(e.importData({edges:[...a.edges,{...i,id:t,fromNode:n.node.id,fromSide:n.side,toNode:r.node.id,toSide:r.side}],nodes:a.nodes}),await e.requestFrame())},xy=10,Sy=5,Cy=250;function wy(e,t,n){let r=Array.from(e.nodes.values());for(let e of r){let n=t.x-xy,r=t.x+t.width+xy,i=t.y-xy,a=t.y+t.height+xy,o=e.x,s=e.x+e.width,c=e.y,l=e.y+e.height,u=!(r<=o||n>=s),d=!(a<=c||i>=l);if(u&&d)return!0}return!1}function Ty(e,t,n){let r=Array.from(e.nodes.values()),i=new Set(n?.map(e=>e.id)||[]),a=0;for(let e of r){if(i.has(e.id))continue;let n={x:t.x+t.width/2,y:t.y+t.height/2},r={x:e.x+e.width/2,y:e.y+e.height/2},o=Math.sqrt((n.x-r.x)**2+(n.y-r.y)**2),s=(t.width+e.width)/2+(t.height+e.height)/2+xy*2;o<s&&(a+=(s-o)/s*100)}return a}function Ey(e){let t=(e%360+360)%360;return t>=315||t<45?`right`:t>=45&&t<135?`bottom`:t>=135&&t<225?`left`:`top`}function Dy(e,t,n,r){if(t.length===0)throw Error(`At least one parent node is required`);let i=[],a=1,o=50,s=3;for(console.log(`Starting search with diameter: 250px, base radius: 250px`);i.length===0&&a<=o;){let c=[];for(let e=0;e<s&&a+e<=o;e++){let t=a+e,n=Cy*t;c.push(n)}console.log(`Searching batch ${a} with radii: ${c.map(e=>Math.round(e)).join(`, `)}px`);for(let a of t){let o={x:a.x+a.width/2,y:a.y+a.height/2};for(let s of c)for(let c=0;c<360;c+=Sy){let l=c*Math.PI/180,u=o.x+Math.cos(l)*s,d=o.y+Math.sin(l)*s,f={x:u-n/2,y:d-r/2,width:n,height:r};if(!wy(e,f,t)){let n=Ty(e,f,t),r=Math.sqrt((u-o.x)**2+(d-o.y)**2),l={position:f,parentNode:a,side:Ey(c),radius:s,angle:c,distanceFromParent:r,collisionScore:n};i.push(l)}}}if(a+=s,i.length>0){console.log(`Found ${i.length} candidate positions after ${a} radii checks`);break}}if(i.length===0)throw Error(`No safe positions found even after checking ${a} radii (limit: ${o})`);i.sort((e,t)=>e.collisionScore===t.collisionScore?e.radius===t.radius?e.distanceFromParent-t.distanceFromParent:e.radius-t.radius:e.collisionScore-t.collisionScore);let c=i[0];return console.log(`Selected best position: radius=${Math.round(c.radius)}px, angle=${c.angle}, collision_score=${c.collisionScore.toFixed(2)}`),{position:c.position,bestParent:c.parentNode,side:c.side}}function Oy(e,t,n){let r=Array.from(e.nodes.values());if(r.length===0)return{x:100,y:100,width:t,height:n};let i=-1/0,a=-1/0;return r.forEach(e=>{i=Math.max(i,e.x+e.width),a=Math.max(a,e.y+e.height)}),{x:i+100,y:a+100,width:t,height:n}}const ky=async(e,t,n,r,i)=>{if(console.log(`createNode with new exhaustive algorithm`,e,t,n,r,i),!t||t.length===0)throw Error(`At least one parent node is required`);let a=n?.color??t[0].color,o=n?.size?.width??300,s=n?.size?.height??300,c;try{c=Dy(e,t,o,s)}catch(n){console.error(`Exhaustive search failed, using emergency positioning:`,n);let r=Oy(e,o,s);c={position:r,bestParent:t[0],side:`right`}}let{position:l,bestParent:u,side:d}=c,f=e.createTextNode({pos:{x:l.x,y:l.y},size:{height:l.height,width:l.width},text:n?.text,focus:!1});f.color=a,r&&f.setData(r),e.deselectAll(),e.addNode(f);let p=t.map(async t=>{let n=yy(16),r={x:t.x+t.width/2,y:t.y+t.height/2},o={x:f.x+f.width/2,y:f.y+f.height/2},s=o.x-r.x,c=o.y-r.y,l,u;Math.abs(s)>Math.abs(c)?s>0?(l=`right`,u=`left`):(l=`left`,u=`right`):c>0?(l=`bottom`,u=`top`):(l=`top`,u=`bottom`);let d={...i,color:a};return await by(e,n,{side:l,node:t},{side:u,node:f},d),n});return await Promise.all(p),e.requestSave(),f};function Ay(e){let t=e.workspace.getLeavesOfType(`canvas`),n=t.sort((e,t)=>t.activeTime-e.activeTime);for(let e of n)if(console.log(`leaf`,e),e.tabHeaderEl?.classList?.contains(`is-active`))return e.view;return null}function jy(e,t){let n=e.workspace.getLeavesOfType(`canvas`);for(let e of n){let n=e.view;if(n.state){if(n.state.file===t)return n}else if(n.file.path===t)return n}return null}function My(e){let t=Ay(e);return t?.canvas??null}function Ny(e,t){let n=jy(e,t);return n?(e.workspace.setActiveLeaf(n.leaf),n?.canvas??null):null}function Py(e,t){try{return e()}catch{return t}}function Fy(e,t){Py(()=>{e.setting?.openTabById?.(t)},void 0)}function Iy(e){Py(()=>{e.setting?.open?.()},void 0)}var Ly=z({__name:`Card`,props:{class:{}},setup(e){let t=e;return(e,n)=>(H(),U(`div`,{"data-slot":`card`,class:j(I(Pm)(`bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm`,t.class))},[ro(e.$slots,`default`)],2))}}),Ry=Ly,zy=z({__name:`CardContent`,props:{class:{}},setup(e){let t=e;return(e,n)=>(H(),U(`div`,{"data-slot":`card-content`,class:j(I(Pm)(`px-6`,t.class))},[ro(e.$slots,`default`)],2))}}),By=zy;const Vy=[{name:`Connect Ideas`,description:`Analyze content and create a network of related ideas using systems thinking to identify meaningful connections across different domains.`,prompt:`<task>
Analyze this node and identify connections to other concepts, creating a network of related ideas using systems thinking and network effects principles.
</task>

<mental_models>
- Network effects: Ideas become more valuable when connected
- Systems thinking: Understanding relationships and feedback loops
- Second-order thinking: What connections lead to what other connections?
</mental_models>

<instructions>
1. Identify the core concepts in this node
2. Think of related ideas, theories, or concepts that connect to this content
3. Create child nodes for each major connection with:
   - The related concept/idea
   - How it connects to the original content
   - Why this connection is meaningful
   - What new insights emerge from this connection
4. Consider connections across different domains (interdisciplinary thinking)
5. Look for both obvious and non-obvious relationships
</instructions>

<connection_types>
- Causal relationships (what causes what)
- Analogical connections (similar patterns in different domains)
- Contradictory ideas (what challenges this concept)
- Supporting evidence from other fields
- Historical parallels or precedents
- Future implications and trends
</connection_types>

<output_format>
Create multiple child nodes titled "Connection: [Related Concept]" with detailed explanations of how ideas relate and what insights emerge from these connections.
</output_format>`},{name:`First Principles`,description:`Break down complex concepts to their fundamental truths, questioning assumptions and rebuilding understanding from the ground up.`,prompt:`<task>
Break down the content of this node to its fundamental truths and rebuild understanding from the ground up using first principles thinking.
</task>

<mental_models>
- First principles thinking: Strip away assumptions to find fundamental truths
- Occam's razor: Seek the simplest explanation that accounts for the facts
- The map is not the territory: Distinguish between models and reality
</mental_models>

<instructions>
1. Identify all assumptions embedded in the current content
2. Question each assumption: "Is this necessarily true?"
3. Break down to the most basic, undeniable facts
4. Rebuild the concept from these fundamentals
5. Compare the rebuilt understanding with the original
6. Identify what was assumption vs. what is fundamental truth
</instructions>

<analysis_framework>
For each major claim or concept:
- What evidence supports this as a fundamental truth?
- What assumptions are we making?
- If we started from scratch, what would we conclude?
- What would someone from a completely different background think?
- What are the core mechanisms at work here?
</analysis_framework>

<output_format>
Create a child node titled "First Principles: [Topic]" with:
- Fundamental truths identified
- Assumptions questioned and evaluated
- Rebuilt understanding from basics
- Comparison with original assumptions
- New insights gained from this analysis
</output_format>`},{name:`Mental Models`,description:`Generate comprehensive multi-perspective analysis using diverse analytical lenses to reveal hidden patterns and insights.`,prompt:`<persona>You are a strategic thinking facilitator specializing in multi-perspective analysis and knowledge synthesis. You excel at breaking down complex problems into interconnected insights using diverse analytical frameworks.
</persona>

<task>
Generate a comprehensive multi-perspective analysis by creating interconnected notes that explore the topic/problem from diverse analytical angles, revealing hidden patterns, assumptions, and possibilities.
</task>

<thinking_process>
1. First, identify the core challenge or uncertainty
2. Select 3-5 complementary analytical lenses based on the nature of the content
3. For each lens, think through:
   - What unique perspective does this lens offer?
   - What patterns or insights become visible?
   - What assumptions are challenged?
   - What new questions emerge?
4. Look for connections and tensions between different perspectives
5. Synthesize emergent insights that weren't visible from any single viewpoint
</thinking_process>

<analytical_lenses>
Dynamically select from these based on relevance:

Strategic Lenses:
- Stakeholder Mapping: Who gains, who loses, who decides?
- Resource Flows: What moves where and why?
- Power Dynamics: Where does influence concentrate?
- Timeline Analysis: How does this evolve over time?

Cognitive Lenses:
- Assumption Hunting: What are we taking for granted?
- Counterfactual Thinking: What if the opposite were true?
- Analogical Reasoning: What does this remind us of?
- First Principles: What's fundamentally true here?

Systems Lenses:
- Feedback Loops: What reinforces or dampens?
- Bottlenecks: Where does flow get restricted?
- Emergence: What properties arise from interactions?
- Boundaries: What's included vs excluded?

Decision Lenses:
- Option Space: What choices actually exist?
- Reversibility: What can be undone?
- Information Value: What would we pay to know?
- Regret Minimization: What would we wish we'd considered?
</analytical_lenses>

<output_structure>
Create a network of notes with that will be connected with the selected note, following the architecture:

1. **Overview Note**: "[Topic] - Multi-Perspective Analysis"
   - Problem/situation summary
   - Key uncertainties identified
   - Map of analytical lenses applied
   - Links to all perspective notes

2. **Perspective Notes** (one per lens): "[Lens Name]: [Topic]"
   - Why this lens matters here
   - Key observations through this lens
   - Unique insights revealed
   - Critical questions raised
   - Connections to other perspectives

3. **Synthesis Note**: "Emergent Insights: [Topic]"
   - Patterns across perspectives
   - Productive tensions identified
   - Novel understanding achieved
   - Actionable next steps
   - Remaining uncertainties worth exploring

4. **Optional Deep-Dive Notes**: For particularly rich insights
   - Detailed exploration of specific findings
   - Evidence and examples
   - Implications and applications
</output_structure>

<quality_criteria>
- Each perspective should reveal something non-obvious
- Perspectives should be genuinely different, not variations of the same view
- Connections between perspectives should generate new insights
- The synthesis should be more than the sum of parts
- Output should reduce confusion while honoring complexity
</quality_criteria>

<adaptation_guidance>
- For technical problems: Emphasize systems and first-principles lenses
- For human/social challenges: Prioritize stakeholder and power dynamics
- For strategic decisions: Focus on options, timeline, and regret minimization
- For creative blocks: Use analogical and counterfactual thinking
- When completely stuck: Start with assumption hunting and inversion
</adaptation_guidance>`},{name:`Action Items`,description:`Convert insights and knowledge into systematic, executable action plans with clear outcomes and implementation strategies.`,prompt:`<context>
You are an execution strategist helping users convert knowledge into systematic action. You have access to a note graph and can create or modify notes to build comprehensive implementation plans.
</context>

<objective>
Analyze the selected note(s) to extract core insights and architect a results-driven action blueprint that bridges the gap between understanding and execution.
</objective>

<thinking_framework>
Apply these cognitive strategies:
1. Outcome Mapping: Define clear end-states before determining paths
2. Force Field Analysis: Map driving and restraining forces for each action
3. Pre-mortem Planning: Anticipate failures to design preventive measures
4. Leverage Points: Identify high-impact interventions in the system
</thinking_framework>

<process>
<step_1>
Deconstruct the note content:
- Extract 3-5 fundamental insights or principles
- Identify implicit assumptions and dependencies
- Note any referenced resources or connections
</step_1>

<step_2>
For each insight, design actions using the RAPIDS framework:
- Results: What measurable outcome will this create?
- Activities: What specific behaviors must occur?
- Prerequisites: What must be true/available first?
- Indicators: How will progress be tracked?
- Dependencies: What external factors influence success?
- Scenarios: What if things go wrong? What if they go better?
</step_2>

<step_3>
Structure actions by:
- Effort/Impact matrix (prioritize high impact, low effort)
- Sequential dependencies (what must happen first)
- Resource constraints (time, attention, tools)
- Risk exposure (what could derail progress)
</step_3>
</process>

<output_specification>
Generate a new note titled "Implementation Blueprint: [Core Topic]" containing:

##  Target Outcomes
[List 2-3 specific, measurable end results]

##  Key Insights Applied
[Brief summary of insights being actioned]

##  Action Sequence
For each action:
### Action [Number]: [Descriptive Title]
- **What**: [Specific behavior/task]
- **Why**: [Link to insight & expected impact]
- **When**: [Trigger/timeline/frequency]
- **Success Looks Like**: [Observable criteria]
- **Resources Needed**: [Tools/people/information]
- **Failure Modes**: [Common pitfalls + prevention]
- **If Blocked**: [Alternative approach]
- **Next Action**: [What follows completion]

##  Progress Dashboard
[Simple tracking method for the action set]

##  Review Triggers
[When/how to revisit and adjust the plan]
</output_specification>

<quality_criteria>
- Actions must be specific enough to do tomorrow
- Each action connects clearly to source insights
- Failure scenarios have mitigation strategies
- Progress is measurable without complex tracking
- The plan adapts to different scenarios
</quality_criteria>`},{name:`Assumptions Check`,description:`Systematically identify, examine, and challenge hidden assumptions and cognitive biases in arguments and beliefs.`,prompt:`<persona>
You are a critical thinking analyst specialized in uncovering hidden assumptions and cognitive biases in arguments, ideas, and beliefs.
</persona>

<context>
You're analyzing content from a note graph where users want to examine the validity of their thinking. Selected notes (if any) contain ideas, arguments, or beliefs that may rest on unexamined assumptions.
</context>

<task>
Systematically identify, examine, and challenge all assumptions within the content to help users think more clearly and avoid logical pitfalls.
</task>

<thinking_framework>
Apply these analytical lenses:
- Inversion: "What if the opposite were true?"
- First Principles: "What do we know for certain vs. what do we assume?"
- Devil's Advocate: "What would a skeptic say?"
- Hidden Dependencies: "What must be true for this to work?"
- Alternative Explanations: "What else could explain this?"
</thinking_framework>

<analysis_steps>
<step_1>
Surface all assumptions:
- Explicit statements taken as given
- Implicit beliefs underlying the logic
- Cultural or contextual assumptions
- Causal assumptions (A leads to B)
- Value judgments presented as facts
</step_1>

<step_2>
For each assumption, investigate:
- Is this actually true or just believed to be true?
- What evidence supports this?
- What evidence contradicts this?
- Who benefits from this assumption?
- What's the cost of being wrong?
</step_2>

<step_3>
Challenge through inversion:
- State the opposite of each assumption
- Explore scenarios where the opposite is true
- Identify which assumptions are most fragile
- Consider hybrid possibilities (partially true)
</step_3>
</analysis_steps>

<instructions>
1. Read through all content carefully
2. Extract every claim, belief, or statement that relies on assumptions
3. Categorize assumptions by type (factual, causal, value-based, etc.)
4. Apply the thinking framework to each major assumption
5. Rate assumption strength (1-10) based on evidence
6. Suggest ways to test or validate uncertain assumptions
7. Highlight which assumptions are most critical to the overall argument
</instructions>

<output_format>
Create a comprehensive analysis note with:

**Title:** " Assumption Analysis: [Main Topic]"

**Summary:** Brief overview of key findings

**Assumptions Identified:**
For each assumption:
- **Assumption:** [Clear statement]
- **Type:** [Factual/Causal/Value/Cultural/etc.]
- **Evidence For:** [What supports this]
- **Evidence Against:** [What contradicts this]
- **If Inverted:** [What if opposite is true?]
- **Confidence Level:** [1-10 with reasoning]
- **Testing Method:** [How to validate]

**Critical Findings:**
- Most questionable assumptions
- Assumptions with highest impact if wrong
- Alternative interpretations overlooked

**Recommendations:**
- Which assumptions need immediate validation
- How to strengthen the argument
- Alternative approaches to consider
</output_format>

<tone>
Constructively skeptical, thorough, and intellectually honest. Challenge ideas respectfully while maintaining focus on improving thinking quality.
</tone>

<example_questions>
When analyzing, constantly ask:
- "How do we know this is true?"
- "What are we not seeing?"
- "Could there be another explanation?"
- "What would need to change for this to be false?"
- "Are we confusing correlation with causation?"
- "What biases might be influencing this view?"
</example_questions>`},{name:`Learning Path`,description:`Design comprehensive knowledge acquisition frameworks that transform information into mastery through systematic progression.`,prompt:`<persona>
You are an expert learning architect with deep expertise in cognitive science, instructional design, and knowledge management. You excel at creating personalized learning ecosystems that adapt to individual needs.
</persona>

<task>
Design a comprehensive knowledge acquisition framework that transforms raw information into mastery through systematic progression and adaptive learning strategies.
</task>

<context>
The user needs to master a complex topic but lacks a clear roadmap. Success means creating a learning journey that:
- Identifies and fills knowledge gaps systematically
- Builds competence through progressive challenges
- Ensures long-term retention and practical application
- Adapts to the learner's pace and style
</context>

<thinking_process>
Before creating the framework, analyze:
1. What is the learner's current relationship with this topic?
2. What are the hidden prerequisites often overlooked?
3. How can we create feedback loops for continuous improvement?
4. What real-world applications will cement understanding?
5. How do we measure true comprehension vs surface knowledge?
</thinking_process>

<framework_components>
<knowledge_mapping>
- Competence audit: Map what you truly understand vs what you think you know
- Dependency graph: Visualize how concepts interconnect and build upon each other
- Difficulty gradient: Order topics by cognitive load and prerequisite requirements
</knowledge_mapping>

<learning_architecture>
- Foundation phase: Core mental models and fundamental principles
- Construction phase: Building blocks and pattern recognition
- Integration phase: Connecting concepts across domains
- Mastery phase: Teaching others and creating original work
</learning_architecture>

<practice_design>
- Micro-challenges: 5-minute daily exercises targeting specific skills
- Project milestones: Real-world applications at each competence level
- Failure scenarios: Deliberately difficult problems to expose gaps
- Peer teaching: Explain concepts to validate understanding
</practice_design>

<retention_system>
- Active recall protocols: Question sets that force retrieval
- Spaced interval calendar: Optimal review timing based on forgetting curves
- Concept chaining: Link new knowledge to existing mental models
- Application diary: Document real-world uses of learned concepts
</retention_system>
</framework_components>

<output_requirements>
Generate a multi-dimensional learning blueprint that includes:

1. **Competence Baseline**
   - Current knowledge inventory with confidence ratings
   - Misconception identification and correction plan
   - Learning style assessment results

2. **Progressive Mastery Ladder**
   - Atomic skills breakdown with clear success criteria
   - Checkpoint assessments at each level
   - Alternative paths for different learning preferences

3. **Resource Ecosystem**
   - Primary sources mapped to specific objectives
   - Supplementary materials for different perspectives
   - Community connections for peer learning

4. **Implementation Schedule**
   - Daily/weekly/monthly learning rhythms
   - Buffer time for struggle and consolidation
   - Celebration milestones for motivation

5. **Evolution Metrics**
   - Leading indicators of progress
   - Competence verification methods
   - Adaptation triggers for course correction
</output_requirements>

<format>
Structure the output as an interactive learning contract with:
- Executive summary of the journey ahead
- Visual roadmap with decision points
- Detailed phase-by-phase breakdown
- Self-assessment tools and trackers
- Quick reference guides for each stage
</format>

<tone>
Empowering yet realistic, acknowledging that mastery requires effort while providing clear, achievable steps forward. Balance academic rigor with practical accessibility.
</tone>`},{name:`Decision Framework`,description:`Create systematic decision-making frameworks for complex choices using proven mental models and evaluation methods.`,prompt:`<context>
The user needs a comprehensive decision-making framework that can be applied to complex business or personal decisions.
They want to move beyond intuitive decision-making to a systematic approach that reduces bias, considers multiple perspectives, and accounts for uncertainty.
Success means creating a reusable framework that leads to better outcomes and fewer decision regrets.

The output will be used in a knowledge graph/notes system, include questions and context. that supports markdown formatting and note linking, not XML output.
</context>

<task>
Analyze the provided content and construct a multi-layered decision-making framework that integrates proven mental models, incorporates systematic evaluation methods, and provides clear implementation guidance. Use the context and your knowledge about the user's situation to create the best decision framework.
</task>

<thinking_approach>
Before creating the framework, think through these steps:
1. Identify the core decision types and complexity levels in the content
2. Select the most relevant mental models for each decision type  
3. Design evaluation criteria that balance quantitative and qualitative factors
4. Build in safeguards against common cognitive biases
5. Create feedback loops for continuous improvement
</thinking_approach>

<mental_models>
Integrate these proven mental models:
- Decision matrix: Systematic scoring of options against weighted criteria
- Opportunity cost analysis: Explicit consideration of trade-offs and alternatives foregone
- Margin of safety: Building buffers for uncertainty and downside protection
- Incentive mapping: Understanding how different stakeholders' motivations align or conflict
- Pre-mortem analysis: Anticipating failure modes before they occur
- Reversibility assessment: Evaluating the cost and feasibility of changing course
- Second-order thinking: Considering consequences of consequences
- Base rate analysis: Using historical data and outside view for calibration
</mental_models>

<framework_components>
Include these core components in the decision framework:

Decision Definition:
- Clear problem statement with specific scope and boundaries
- Key assumptions and constraints
- Decision timeline and urgency level

Stakeholder Analysis:
- Primary and secondary stakeholders
- Their interests, concerns, and decision criteria
- Power dynamics and influence mapping

Options Generation:
- Systematic brainstorming of alternatives
- Including "do nothing" and hybrid options
- Creative options beyond obvious choices

Evaluation Matrix:
- Weighted criteria based on strategic priorities
- Quantitative metrics where possible
- Qualitative assessments with clear scoring rubrics
- Risk-adjusted scoring considering uncertainty

Risk Assessment:
- Probability and impact analysis for each option
- Scenario planning (best case, worst case, most likely)
- Identification of key assumptions and sensitivities
- Mitigation strategies for top risks

Implementation Planning:
- Resource requirements and timeline
- Key milestones and decision gates
- Monitoring metrics and feedback mechanisms
- Contingency plans and pivot triggers

Humand-in-the-loop:
- in each step, if you need human to provide more information, you should leave questions.
</framework_components>

<output_format>
Provide your response in formats:

Connected Notes Structure:
Create a decision tree using multiple interconnected notes:

- Main Framework Note: Overview and navigation hub
- Decision Types Notes: Separate notes for different decision categories
- Mental Models Notes: Individual notes for each mental model with examples
- Process Templates Notes: Step-by-step guides and checklists
- Case Study Notes: Examples and lessons learned

Use [[Note Title]] format to create links between notes. Structure it so that:
- The main framework links to all sub-components
- Each mental model note links back to relevant decision types
- Process templates reference specific mental models
- Case studies demonstrate the complete workflow


- At the end of the framework, create a FINAL decision note: With title "FINAL" and guide for AI to make the decision, this node will be read by AI after user answer all the question, the will manual invoke you again to create the final note.
</output_format>

<tone>
Professional yet practical. Focus on actionable insights rather than theoretical concepts. Use clear, concise language that busy decision-makers can quickly understand and apply. Include specific examples where helpful to illustrate key points.
</tone>

<quality_standards>
The framework should be:
- Comprehensive yet usable in real-world time constraints
- Flexible enough to adapt to different decision contexts
- Grounded in proven decision science principles
- Include both individual and group decision-making considerations
- Provide clear success metrics and improvement mechanisms
- Formatted for easy navigation and cross-referencing in a notes system
- Free of XML tags in the actual output content
</quality_standards>`},{name:`Research Guide`,description:`Design strategic research approaches and investigation frameworks for systematic knowledge discovery and validation.`,prompt:`<persona>
You are a Strategic Research Architect specializing in knowledge discovery and systematic investigation design.
</persona>

<context>
The user has provided content that requires deeper investigation. Your role is to architect a research strategy that uncovers hidden insights, validates assumptions, and expands understanding through methodical inquiry.
</context>

<task>
Design an adaptive research ecosystem that evolves based on discoveries, creating a living framework for continuous knowledge development.
</task>

<thinking_framework>
Apply these cognitive lenses sequentially:
1. Knowledge Archaeology: Excavate implicit assumptions and buried questions
2. Hypothesis Cascading: Generate interconnected research hypotheses 
3. Evidence Triangulation: Design multi-source validation approaches
4. Insight Synthesis: Create frameworks for integrating findings
</thinking_framework>

<research_architecture>
<discovery_layers>
- Surface Layer: Obvious questions and immediate gaps
- Structural Layer: Underlying patterns and relationships
- Deep Layer: Fundamental assumptions and paradigms
- Meta Layer: Questions about the questions themselves
</discovery_layers>

<investigation_streams>
For each knowledge gap identified:
<stream>
  <trigger>What initiates this line of inquiry?</trigger>
  <hypothesis>What do we suspect might be true?</hypothesis>
  <null_hypothesis>What would disprove our assumption?</null_hypothesis>
  <methodology>
    - Data collection approach
    - Analysis framework
    - Validation criteria
  </methodology>
  <dependencies>What must be understood first?</dependencies>
  <emergence>What new questions might arise?</emergence>
</stream>
</investigation_streams>

<research_dynamics>
- Convergent paths: Where multiple inquiries meet
- Divergent branches: Where one question splits into many
- Recursive loops: Where findings circle back to refine earlier questions
- Emergent threads: Unexpected directions that arise during research
</research_dynamics>
</research_architecture>

<exemplar>
Topic: "Impact of remote work on team innovation"
<stream>
  <trigger>Observation of changing collaboration patterns</trigger>
  <hypothesis>Virtual environments alter creative ideation processes</hypothesis>
  <null_hypothesis>Innovation metrics remain unchanged regardless of work location</null_hypothesis>
  <methodology>
    - Mixed-methods study comparing innovation outputs
    - Network analysis of communication patterns
    - Longitudinal tracking of project outcomes
  </methodology>
  <dependencies>Define "innovation" metrics first</dependencies>
  <emergence>How do hybrid models compare? Cultural factors?</emergence>
</stream>
</exemplar>

<format>
Structure your research design as:

## Research Ecosystem: [Topic]

### Knowledge Landscape
- Current terrain (what we know)
- Uncharted territories (what we don't know)
- Contested zones (areas of disagreement)

### Investigation Matrix
| Research Thread | Priority | Method | Timeline | Success Indicator |
|----------------|----------|---------|----------|-------------------|
| [Specific question] | High/Med/Low | [Approach] | [Duration] | [Metric] |

### Discovery Protocols
1. **Phase 1: Foundation Building**
   - Essential definitions and boundaries
   - Baseline data collection
   
2. **Phase 2: Exploration**
   - Hypothesis testing
   - Pattern recognition
   
3. **Phase 3: Integration**
   - Synthesis of findings
   - Theory development

### Adaptive Mechanisms
- Pivot triggers (when to change direction)
- Escalation criteria (when to deepen investigation)
- Termination conditions (when enough is known)

### Knowledge Assets
- Data repositories to create
- Analytical frameworks to develop
- Visualization tools needed
- Documentation standards
</format>

<tone>
Intellectually rigorous yet accessible, balancing systematic methodology with creative exploration. Emphasize actionability and practical next steps.
</tone>

<output_validation>
Ensure the research design:
 Addresses root causes, not just symptoms
 Includes falsifiable hypotheses
 Balances breadth and depth
 Accommodates unexpected discoveries
 Provides clear decision points
 Generates transferable insights
</output_validation>`},{name:`Rewrite Notes`,description:`Transform verbose, unstructured notes into clear, actionable, and well-organized content while preserving key insights.`,prompt:`<persona>
You are an expert content editor specializing in transforming verbose, unstructured notes into clear, actionable, and well-organized content. You excel at distilling complex information into its essential components while maintaining all critical insights.
</persona>

<task>
Rewrite the selected notes to be more concise, direct, and structured while preserving all important information and insights. Transform rambling thoughts into clear, scannable content that communicates effectively.
</task>

<rewriting_principles>
1. **Clarity First**: Every sentence should have a clear purpose and meaning
2. **Structure Over Stream**: Organize thoughts logically rather than chronologically
3. **Active Voice**: Use direct, active language that shows who does what
4. **Eliminate Redundancy**: Remove repetitive ideas and unnecessary words
5. **Hierarchy Matters**: Use headings, bullets, and formatting to show relationships
6. **Actionable Language**: Convert vague concepts into specific, actionable statements
</rewriting_principles>

<content_transformation>
**From Verbose to Concise:**
- Remove filler words and unnecessary qualifiers
- Combine related sentences into single, powerful statements
- Replace long phrases with precise terms
- Cut redundant explanations

**From Scattered to Structured:**
- Group related ideas under clear headings
- Use bullet points for lists and key points
- Create logical flow from general to specific
- Add transitions that guide the reader

**From Passive to Active:**
- Convert passive constructions to active voice
- Make subjects and actions explicit
- Use strong verbs instead of weak verb + noun combinations
- Eliminate unnecessary "there is/are" constructions

**From Abstract to Concrete:**
- Replace vague terms with specific examples
- Add measurable criteria where possible
- Convert concepts into actionable steps
- Include relevant context and constraints
</content_transformation>

<structural_framework>
For each rewritten section, apply this hierarchy:

**Level 1: Core Message**
- What is the main point in one sentence?
- Why does this matter?

**Level 2: Key Components**
- What are the 3-5 essential elements?
- How do they relate to each other?

**Level 3: Supporting Details**
- What evidence or examples support each component?
- What specific actions or implications follow?

**Level 4: Context and Connections**
- How does this connect to other concepts?
- What assumptions or prerequisites exist?
</structural_framework>

<output_format>
Structure the rewritten content as:

# [Clear, Descriptive Title]

## Executive Summary
[2-3 sentences capturing the essence]

## Key Points
- **Point 1**: [Concise statement with brief explanation]
- **Point 2**: [Concise statement with brief explanation]
- **Point 3**: [Concise statement with brief explanation]

## Detailed Breakdown
### [Section 1 Title]
[Structured content with clear paragraphs, bullets, or numbered lists]

### [Section 2 Title]
[Structured content with clear paragraphs, bullets, or numbered lists]

## Related Concepts
- [Connection 1]: [Brief explanation]
- [Connection 2]: [Brief explanation]

## Questions for Further Exploration
- [Specific question that emerged from the content]
- [Specific question that emerged from the content]
</output_format>

<quality_checklist>
Before finalizing, ensure the rewritten content:
 Reduces word count by at least 20% while preserving meaning
 Uses clear headings and subheadings for navigation
 Employs bullet points and lists for scannable information
 Maintains logical flow from introduction to conclusion
 Uses active voice and strong verbs throughout
 Eliminates jargon or explains necessary technical terms
</quality_checklist>

<tone>
Professional yet accessible. Direct and confident without being abrupt. Focus on clarity and usefulness over academic formality. Write as if explaining to an intelligent colleague who needs the information quickly.
</tone>

<special_instructions>
- If the original content contains multiple unrelated topics, separate them into distinct sections
- If there are contradictory statements, highlight them and suggest resolution
- If key information seems missing, note what additional details would be helpful
- Preserve any unique insights or creative connections from the original
- Maintain the author's voice while improving structure and clarity
</special_instructions>`},{name:`Feature theory`,description:`Analyze trends and provide evidence-based assumptions about future developments using strategic forecasting frameworks.`,prompt:`<role>You are a strategic analyst and futurist with 15+ years of experience in trend analysis and future forecasting.</role>
<instructions>
Analyze and provide evidence-based assumptions about the future of the given topic.
</instructions>
Use the following mental models for systematic analysis:
1. Systems Thinking Lens:

Identify key system components
Analyze relationships and feedback loops
Understand ripple effects and interconnections

2. Scenario Planning Framework:

Identify main driving forces
Develop 3-4 plausible scenarios (optimistic, realistic, pessimistic, disruptive)
Assess probability and impact of each scenario

3. 5 Whys Analysis:

Dig deep into root causes of current trends
Understand underlying drivers of change
Identify sustainable vs. temporary factors

Analysis Process:

First, think step-by-step in <thinking> tags
Apply each mental model systematically
Synthesize insights to form final assumptions
</instructions>


<output_format>
Structure your response as follows:
<thinking>
[Your step-by-step thinking process - analyze the topic, apply mental models, consider influencing factors]
</thinking>
<current_state_analysis>
Current State:

Key aspects of the topic today
Ongoing trends and developments
Main challenges and opportunities
</current_state_analysis>

<driving_forces>
Key Driving Forces:

[Force 1] - Impact level & rationale
[Force 2] - Impact level & rationale
[Force 3] - Impact level & rationale
[Force 4] - Impact level & rationale
[Force 5] - Impact level & rationale
</driving_forces>

<future_scenarios>
Future Scenarios:
Scenario 1: [Scenario Name] (Probability: X%)

Situation description
Factors leading to this scenario
Key impacts and implications

Scenario 2: [Scenario Name] (Probability: X%)

[Same structure]

Scenario 3: [Scenario Name] (Probability: X%)

[Same structure]

Scenario 4: [Scenario Name] (Probability: X%)

[Same structure]
</future_scenarios>

<key_assumptions>
10 Key Future Assumptions:

[Assumption 1]

Confidence level: [High/Medium/Low]
Evidence base: [Supporting evidence and logic]
Impact if true: [Description of consequences]


[Assumption 2]

Confidence level: [High/Medium/Low]
Evidence base: [Supporting evidence and logic]
Impact if true: [Description of consequences]


[Assumption 3]

[Same structure for all 10 assumptions]



[Continue through assumption 10]
</key_assumptions>
<critical_uncertainties>
Critical Uncertainties:

[Uncertainty 1]: Why it's hard to predict and potential impact
[Uncertainty 2]: [Same structure]
[Uncertainty 3]: [Same structure]
[Uncertainty 4]: [Same structure]
</critical_uncertainties>

<strategic_implications>
Strategic Implications:

Key opportunities to capture
Risks to mitigate
Short-term action recommendations (1-2 years)
Long-term preparation recommendations (3-5 years)
Monitoring indicators to track
</strategic_implications>

<confidence_assessment>
Overall Confidence Assessment:

High confidence assumptions: [List 2-3]
Medium confidence assumptions: [List 2-3]
Low confidence assumptions: [List 2-3]
Key factors that could change these assumptions
</confidence_assessment>
</output_format>

<tone>
Maintain an analytical, objective, and evidence-based tone. Avoid overly confident predictions - instead, express confidence levels and explain the reasoning behind assumptions. Use clear, accessible language while maintaining analytical depth.
</tone>`},{name:`Expand Ideas`,description:`Systematically break down complex topics into comprehensive subtopic hierarchies and populate them with key insights.`,prompt:`<task>
Systematically expand the selected topic into a comprehensive knowledge structure through a two-phase approach: first creating a hierarchical subtopic framework, then populating each subtopic with key insights.
</task>

<mental_models>
- Tree thinking: Breaking complex topics into logical hierarchies
- Pyramid principle: Organizing information from general to specific
- Mind mapping: Creating associative knowledge networks
- Domain decomposition: Systematically dividing topics into manageable components
</mental_models>

<process>
**Phase 1: Subtopic Structure Creation**
1. Analyze the main topic to identify 4-6 primary subtopics
2. For each primary subtopic, create 2-4 secondary subtopics
3. For complex areas, add tertiary subtopics where beneficial
4. Create nodes with descriptive titles only (no content yet)
5. Ensure logical hierarchy and comprehensive coverage

**Phase 2: Key Insights Population**
1. For each created subtopic node, identify 3-5 key insights
2. Focus on actionable, memorable, and valuable information
3. Include practical applications, important principles, or critical knowledge
4. Ensure insights are specific to that subtopic
5. Connect insights across subtopics where relevant
</process>

<subtopic_generation_guidelines>
- Use parallel structure in naming (consistent grammatical patterns)
- Ensure MECE principle (Mutually Exclusive, Collectively Exhaustive)
- Create meaningful hierarchies that aid understanding
- Include both theoretical and practical aspects
- Consider different perspectives or approaches
- Balance breadth and depth appropriately
</subtopic_generation_guidelines>

<insight_development_criteria>
For each subtopic, include insights that are:
- **Actionable**: Can be applied immediately
- **Counter-intuitive**: Challenge common assumptions
- **Evidence-based**: Supported by research or experience
- **Memorable**: Easy to recall and share
- **Practical**: Solve real problems or add value
</insight_development_criteria>

<output_format>
**Phase 1 Output:**
Create child nodes with titles following this pattern:
- "Primary Topic 1: [Descriptive Name]"
  - "Secondary 1.1: [Specific Aspect]"
  - "Secondary 1.2: [Specific Aspect]"
- "Primary Topic 2: [Descriptive Name]"
  - "Secondary 2.1: [Specific Aspect]"
  - "Secondary 2.2: [Specific Aspect]"
  - "Secondary 2.3: [Specific Aspect]"

**Phase 2 Output:**
For each subtopic node, add content structured as:
## Key Insights
 **Insight 1**: [Specific, actionable knowledge point]
 **Insight 2**: [Important principle or finding]
 **Insight 3**: [Practical application or technique]
 **Insight 4**: [Critical consideration or warning]
 **Insight 5**: [Connection to broader concepts]
</output_format>

<quality_standards>
- Comprehensive coverage without overwhelming detail
- Clear logical progression from general to specific
- Balanced depth across all subtopics
- Practical value in every insight
- Natural connections between related subtopics
- Hierarchical structure that aids navigation and understanding
</quality_standards>`}],Hy={class:`space-y-1`},Uy={class:`text-left`},Wy={class:`text-sm text-neutral-200 font-medium`},Gy={class:`text-xs text-neutral-500 line-clamp-2`};var Ky=z({__name:`Presets`,emits:[`preset-selected`],setup(e,{emit:t}){let n=t,r=e=>{n(`preset-selected`,e)};return(e,t)=>(H(),U(`div`,Hy,[(H(!0),U(B,null,to(I(Vy),e=>(H(),W(I(Ry),{key:e.name,class:`w-full p-0 cursor-pointer bg-neutral-750 hover:bg-neutral-700 border border-neutral-600 hover:border-neutral-500 transition-colors`,onClick:t=>r(e)},{default:R(()=>[K(I(By),{class:`p-3`},{default:R(()=>[G(`div`,Uy,[G(`div`,Wy,Xe(e.name),1),G(`div`,Gy,Xe(e.description),1)])]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]))}}),qy=Ky;const Jy={class:`p-4 border-t border-neutral-700`},Yy={class:`flex items-center space-x-2`},Xy={class:`flex-1 relative`},Zy={class:`flex items-center justify-between mt-2 text-xs text-neutral-500`},Qy={class:`flex items-center space-x-2`},$y={key:0,class:`flex items-center space-x-1`},eb={key:0,class:`flex items-center space-x-1`};var tb=z({__name:`CommandInputFooter`,props:{placeholder:{default:`Enter command or prompt...`},statusText:{default:`Press Enter to execute`},disabled:{type:Boolean,default:!1}},emits:[`command-submit`],setup(e,{emit:t}){let n=e,r=t,i=F(``),a=()=>{i.value.trim()&&!n.disabled&&(r(`command-submit`,i.value.trim()),i.value=``)},o=e=>{e.key===`Enter`&&!e.ctrlKey&&!e.shiftKey&&(e.preventDefault(),a())};return(e,t)=>(H(),U(`footer`,Jy,[G(`div`,Yy,[G(`div`,Xy,[K(oh,{modelValue:i.value,"onUpdate:modelValue":t[0]||=e=>i.value=e,placeholder:e.placeholder,disabled:e.disabled,class:j([`pr-10 text-neutral-200 placeholder:text-neutral-500 transition-all duration-200`,e.disabled?`bg-neutral-800 border-yellow-500/30 focus:border-yellow-500/50 cursor-not-allowed`:`bg-neutral-800 border-neutral-600 focus:border-neutral-500 hover:border-neutral-500`]),onKeypress:o},null,8,[`modelValue`,`placeholder`,`disabled`,`class`]),K(zm,{variant:`ghost`,size:`icon`,disabled:!i.value.trim()||e.disabled,class:j([`absolute right-1 top-1/2 transform -translate-y-1/2 size-8 transition-all duration-200`,e.disabled?`text-yellow-500 hover:text-yellow-400 hover:bg-yellow-500/10 disabled:opacity-50`:`text-neutral-400 hover:text-neutral-200 hover:bg-neutral-700 disabled:opacity-50`]),onClick:a},{default:R(()=>[K(I(Rh),{class:`size-4`})]),_:1},8,[`disabled`,`class`])])]),G(`div`,Zy,[G(`span`,null,Xe(e.statusText),1),G(`div`,Qy,[K(uu,{"enter-active-class":`transition-all duration-300 ease-out`,"enter-from-class":`opacity-0 scale-95`,"enter-to-class":`opacity-100 scale-100`,"leave-active-class":`transition-all duration-200 ease-in`,"leave-from-class":`opacity-100 scale-100`,"leave-to-class":`opacity-0 scale-95`},{default:R(()=>[e.disabled?(H(),U(`div`,$y,[K(I(Ih),{class:`size-3 text-yellow-500 animate-spin`}),t[1]||=G(`span`,{class:`text-yellow-400 font-medium`},` Processing... `,-1)])):el(``,!0)]),_:1}),K(uu,{"enter-active-class":`transition-all duration-300 ease-out`,"enter-from-class":`opacity-0 scale-95`,"enter-to-class":`opacity-100 scale-100`,"leave-active-class":`transition-all duration-200 ease-in`,"leave-from-class":`opacity-100 scale-100`,"leave-to-class":`opacity-0 scale-95`},{default:R(()=>[e.disabled?el(``,!0):(H(),U(`div`,eb,[K(I(Th),{class:`size-2 text-green-500 fill-current pulse`}),t[2]||=G(`span`,{class:`text-green-400 font-medium`},` Ready `,-1)]))]),_:1})])])]))}}),nb=tb;const rb={class:`flex flex-col h-full`},ib={id:`processing-area`,class:`flex-1 overflow-y-auto p-4 space-y-6`},ab={class:`text-center py-8`},ob={class:`w-16 h-16 bg-neutral-700 rounded-full flex items-center justify-center mx-auto mb-4`};var sb=z({__name:`ViewHome`,emits:[`command-submit`,`preset-selected`],setup(e,{emit:t}){let n=$o(`useAiPlugin`),r=t,i=e=>{r(`command-submit`,e)},a=e=>{r(`preset-selected`,e)};return(e,t)=>(H(),U(`div`,rb,[G(`main`,ib,[G(`div`,ab,[G(`div`,ob,[K(I(_h),{class:`text-neutral-300 size-8`})]),t[0]||=G(`h2`,{class:`text-lg text-neutral-200 mb-2`},`Ready to Assist`,-1),t[1]||=G(`p`,{class:`text-neutral-400`},` Enter a command or prompt below to start processing `,-1)]),K(qy,{onPresetSelected:a})]),K(nb,{onCommandSubmit:i})]))}}),cb=sb;const lb=Bm(()=>{let e=F(new Map),t=F(null),n=F(!1),r=F(null),i=J(()=>t.value?e.value.get(t.value):null),a=J(()=>i.value?.messages||[]),o=J(()=>Array.from(e.value.values()).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())),s=J(()=>t.value!==null&&i.value!==null),c=t=>{if(n.value)return console.warn(`Message generation already in progress`),!1;let i=e.value.get(t);if(!i)return console.error(`Thread with id ${t} not found`),!1;n.value=!0;let a={id:`temp-msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,role:`assistant`,content:``,timestamp:new Date};return r.value=a,!0},l=(i,a=`info`)=>{if(!n.value||!t.value)return console.warn(`No message generation in progress`),!1;let o=e.value.get(t.value);if(!o)return console.error(`Active thread ${t.value} not found`),!1;let s={id:`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,role:`assistant`,content:i,timestamp:new Date,level:a};return o.messages.push(s),o.updatedAt=new Date,e.value.set(t.value,o),n.value=!1,r.value=null,!0},u=(t=`New Conversation`,n)=>{let r=n||`thread-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,i={id:r,title:t,messages:[],createdAt:new Date,updatedAt:new Date,isActive:!1};return e.value.set(r,i),i},d=n=>{let r=e.value.get(n);if(!r)return console.error(`Thread with id ${n} not found`),!1;if(t.value){let n=e.value.get(t.value);n&&(n.isActive=!1,e.value.set(t.value,n))}return r.isActive=!0,r.updatedAt=new Date,e.value.set(n,r),t.value=n,!0},f=(t,n)=>{let r=e.value.get(t);if(!r)return console.error(`Thread with id ${t} not found`),null;let i={...n,id:`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date};return r.messages.push(i),r.updatedAt=new Date,e.value.set(t,r),i},p=(t,n,r)=>{let i=e.value.get(t);if(!i)return console.error(`Thread with id ${t} not found`),!1;let a=i.messages.findIndex(e=>e.id===n);return a===-1?(console.error(`Message with id ${n} not found in thread ${t}`),!1):(i.messages[a]={...i.messages[a],...r},i.updatedAt=new Date,e.value.set(t,i),!0)},m=(t,n)=>{let r=e.value.get(t);if(!r)return console.error(`Thread with id ${t} not found`),!1;let i=r.messages.findIndex(e=>e.id===n);return i===-1?(console.error(`Message with id ${n} not found in thread ${t}`),!1):(r.messages.splice(i,1),r.updatedAt=new Date,e.value.set(t,r),!0)},h=n=>{let r=e.value.delete(n);return r&&t.value===n&&(t.value=null),r},g=(t,n)=>{let r=e.value.get(t);return r?(r.title=n,r.updatedAt=new Date,e.value.set(t,r),!0):(console.error(`Thread with id ${t} not found`),!1)},_=()=>{e.value.clear(),t.value=null},v=(e=`New Conversation`,t)=>{let n=u(e,t);return d(n.id),n},y=t=>e.value.get(t),b=t=>e.value.has(t);return{threads:J(()=>e.value),activeThreadId:t,activeThread:i,activeMessages:a,threadList:o,hasActiveThread:s,isGenerating:n,currentAssistantMessage:r,createThread:u,setActiveThread:d,addMessage:f,updateMessage:p,removeMessage:m,removeThread:h,updateThreadTitle:g,clearAllThreads:_,createAndActivateThread:v,getThread:y,hasThread:b,startMessageGeneration:c,finishMessageGeneration:l}}),ub={class:`flex flex-col h-full`},db={class:`p-4 border-b border-neutral-700`},fb={class:`flex items-center space-x-2`},pb={class:`flex-1 overflow-y-auto p-4`},mb={key:0,class:`text-center py-8`},hb={key:1,class:`text-center py-12`},gb={key:2,class:`space-y-3`},_b={class:`flex items-start justify-between mb-2`},vb={class:`flex items-center space-x-2 text-xs text-neutral-400`},yb={class:`text-neutral-200 font-medium mb-2 leading-tight`},bb={class:`text-neutral-400 text-sm mb-3 line-clamp-2`};var xb=z({__name:`ViewHistory`,setup(e){let t=$o(`useAiPlugin`),{threadList:n,removeThread:r,setActiveThread:i}=lb(),a=F(!1),o=F([]),s=async()=>{a.value=!0;try{await new Promise(e=>setTimeout(e,500)),o.value=[{id:`1`,timestamp:new Date(Date.now()-1e3*60*30),prompt:`Create a mind map about machine learning`,preview:`Generated a comprehensive mind map covering supervised learning, unsupervised learning...`},{id:`2`,timestamp:new Date(Date.now()-1e3*60*60*2),prompt:`Explain quantum computing concepts`,preview:`Created detailed explanation nodes about qubits, superposition, entanglement...`},{id:`3`,timestamp:new Date(Date.now()-1e3*60*60*24),prompt:`Design a project workflow`,preview:`Built a project management workflow with phases, tasks, and deliverables...`}]}catch(e){console.error(`Failed to load history:`,e)}finally{a.value=!1}},c=e=>{o.value=o.value.filter(t=>t.id!==e)},l=e=>{console.log(`Restoring conversation:`,e.prompt)},u=e=>{let t=new Date,n=t.getTime()-e.getTime(),r=Math.floor(n/(1e3*60)),i=Math.floor(n/(1e3*60*60)),a=Math.floor(n/(1e3*60*60*24));return r<60?`${r}m ago`:i<24?`${i}h ago`:`${a}d ago`};return Ra(()=>{s()}),(e,t)=>(H(),U(`div`,ub,[G(`div`,db,[G(`div`,fb,[K(I(Mh),{class:`text-neutral-300 size-5`}),t[0]||=G(`h2`,{class:`text-lg text-neutral-200 font-medium`},`Conversation History`,-1)]),t[1]||=G(`p`,{class:`text-neutral-400 text-sm mt-1`},` View and restore previous conversations `,-1)]),G(`main`,pb,[a.value?(H(),U(`div`,mb,t[2]||=[G(`div`,{class:`animate-spin w-6 h-6 border-2 border-neutral-600 border-t-neutral-300 rounded-full mx-auto mb-2`},null,-1),G(`p`,{class:`text-neutral-400`},`Loading history...`,-1)])):o.value.length===0?(H(),U(`div`,hb,[K(I(Lh),{class:`text-neutral-600 size-12 mx-auto mb-4`}),t[3]||=G(`h3`,{class:`text-neutral-300 text-lg mb-2`},`No History Yet`,-1),t[4]||=G(`p`,{class:`text-neutral-500`},` Your conversation history will appear here once you start using the plugin. `,-1)])):(H(),U(`div`,gb,[(H(!0),U(B,null,to(o.value,e=>(H(),U(`div`,{key:e.id,class:`bg-neutral-800 rounded-lg p-4 border border-neutral-700 hover:border-neutral-600 transition-colors`},[G(`div`,_b,[G(`div`,vb,[K(I(Eh),{class:`size-3`}),G(`span`,null,Xe(u(e.timestamp)),1)]),K(zm,{variant:`ghost`,size:`sm`,class:`text-neutral-500 hover:text-red-400 h-6 w-6 p-0`,onClick:t=>c(e.id)},{default:R(()=>[K(I(Wh),{class:`size-3`})]),_:2},1032,[`onClick`])]),G(`h4`,yb,Xe(e.prompt),1),G(`p`,bb,Xe(e.preview),1),K(zm,{variant:`outline`,size:`sm`,class:`text-neutral-300 border-neutral-600 hover:border-neutral-500`,onClick:t=>l(e)},{default:R(()=>t[5]||=[q(` Restore Conversation `)]),_:2,__:[5]},1032,[`onClick`])]))),128))]))])]))}}),Sb=xb,Cb=z({__name:`Tabs`,props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=Um(n,`class`),a=Qf(i,r);return(e,t)=>(H(),W(I(vp),il({"data-slot":`tabs`},I(a),{class:I(Pm)(`flex flex-col gap-2`,n.class)}),{default:R(()=>[ro(e.$slots,`default`)]),_:3},16,[`class`]))}}),wb=Cb,Tb=z({__name:`TabsContent`,props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=Um(t,`class`);return(e,r)=>(H(),W(I(yp),il({"data-slot":`tabs-content`,class:I(Pm)(`flex-1 outline-none`,t.class)},I(n)),{default:R(()=>[ro(e.$slots,`default`)]),_:3},16,[`class`]))}}),Eb=Tb,Db=z({__name:`TabsList`,props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=Um(t,`class`);return(e,r)=>(H(),W(I(bp),il({"data-slot":`tabs-list`},I(n),{class:I(Pm)(`bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]`,t.class)}),{default:R(()=>[ro(e.$slots,`default`)]),_:3},16,[`class`]))}}),Ob=Db,kb=z({__name:`TabsTrigger`,props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){let t=e,n=Um(t,`class`),r=Zf(n);return(e,n)=>(H(),W(I(xp),il({"data-slot":`tabs-trigger`},I(r),{class:I(Pm)(`data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`,t.class)}),{default:R(()=>[ro(e.$slots,`default`)]),_:3},16,[`class`]))}}),Ab=kb;const jb={key:0,class:`space-y-0`},Mb={class:`flex items-center justify-between py-2 px-1`},Nb={class:`flex items-center space-x-2`},Pb={class:`text-xs font-medium text-neutral-300`},Fb={class:`flex items-center space-x-1`},Ib={key:0,class:`pb-2 px-1`},Lb={key:0,class:`text-xs ml-1 opacity-50`},Rb={class:`bg-neutral-900/40 rounded p-2 border border-neutral-600/50`},zb={class:`text-xs text-neutral-300 whitespace-pre-wrap font-mono leading-tight`},Bb={class:`bg-neutral-900/40 rounded p-2 border border-neutral-600/50`},Vb={key:0},Hb={class:`text-xs text-neutral-300 whitespace-pre-wrap font-mono leading-tight`},Ub={key:1,class:`text-xs text-neutral-500 italic`};var Wb=z({__name:`ToolCallDisplay`,props:{toolCalls:{default:()=>[]},toolResults:{default:()=>[]}},setup(e){let t=e,n=F(new Set),r=e=>{n.value.has(e)?n.value.delete(e):n.value.add(e)},i=e=>JSON.stringify(e,null,2),a=e=>t.toolResults&&t.toolResults[e]!==void 0;return(e,t)=>e.toolCalls&&e.toolCalls.length>0?(H(),U(`div`,jb,[(H(!0),U(B,null,to(e.toolCalls,(o,s)=>(H(),U(`div`,{key:s,class:`border-t border-neutral-600 first:border-t-0`},[G(`div`,Mb,[G(`div`,Nb,[K(zm,{variant:`ghost`,size:`sm`,class:`text-neutral-400 hover:text-neutral-200 h-5 w-5 p-0`,onClick:e=>r(s)},{default:R(()=>[n.value.has(s)?(H(),W(I(bh),{key:1,class:`size-3`})):(H(),W(I(xh),{key:0,class:`size-3`}))]),_:2},1032,[`onClick`]),K(I(Dh),{class:`text-blue-400 size-3`}),G(`span`,Pb,Xe(o.name),1)]),G(`div`,Fb,[K(I(Rh),{class:`text-yellow-400 size-2.5`}),a(s)?(H(),W(I(Sh),{key:0,class:`text-green-400 size-2.5`})):el(``,!0)])]),n.value.has(s)?(H(),U(`div`,Ib,[K(I(wb),{"default-value":`args`,class:`w-full`},{default:R(()=>[K(I(Ob),{class:`grid w-full grid-cols-2 h-8`},{default:R(()=>[K(I(Ab),{value:`args`,class:`text-xs`},{default:R(()=>t[0]||=[q(` Args `)]),_:1,__:[0]}),K(I(Ab),{value:`results`,class:`text-xs`,disabled:!a(s)},{default:R(()=>[t[1]||=q(` Results `),a(s)?el(``,!0):(H(),U(`span`,Lb,`(empty)`))]),_:2,__:[1]},1032,[`disabled`])]),_:2},1024),K(I(Eb),{value:`args`,class:`mt-2`},{default:R(()=>[G(`div`,Rb,[G(`pre`,zb,Xe(i(o.args)),1)])]),_:2},1024),K(I(Eb),{value:`results`,class:`mt-2`},{default:R(()=>[G(`div`,Bb,[a(s)?(H(),U(`div`,Vb,[G(`pre`,Hb,Xe(i(e.toolResults[s])),1)])):(H(),U(`div`,Ub,` No results available `))])]),_:2},1024)]),_:2},1024)])):el(``,!0)]))),128))])):el(``,!0)}}),Gb=Wb;const Kb={class:`flex flex-col h-full`},qb={class:`px-3 py-2 border-b border-neutral-700`},Jb={class:`flex items-center justify-between`},Yb={class:`flex items-center space-x-1.5`},Xb={class:`text-sm text-neutral-200 font-medium truncate`},Zb={class:`flex-1 overflow-y-auto py-4 space-y-4`},Qb={class:`flex-1 min-w-0`},$b={key:0,class:`flex items-center justify-between mb-1`},ex={class:`flex items-center space-x-2`},tx={class:`text-sm font-medium text-neutral-200`},nx={class:`text-xs text-neutral-500`},rx={key:0,class:`text-xs text-blue-400 bg-blue-900/30 px-1.5 py-0.5 rounded-full border border-blue-700/50`,title:`Multiple messages grouped together`},ix={key:0,class:`whitespace-pre-wrap mb-3`};var ax=z({__name:`ViewConversation`,props:{activeThread:{default:null},activeMessages:{default:()=>[]},isGenerating:{type:Boolean,default:!1},formatTime:{type:Function,default:e=>e.toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})}},emits:[`command-submit`,`copy-message`,`regenerate-response`,`clear-conversation`],setup(e,{emit:t}){let n=$o(`useAiPlugin`),r=e,i=t,a=async e=>{i(`command-submit`,e)},o=async e=>{i(`copy-message`,e)},s=()=>{i(`regenerate-response`)},c=()=>{i(`clear-conversation`)};return(e,t)=>(H(),U(`div`,Kb,[G(`div`,qb,[G(`div`,Jb,[G(`div`,Yb,[K(I(Lh),{class:`text-neutral-300 size-4`}),G(`h2`,Xb,Xe(e.activeThread?.title||`New Conversation`),1)]),K(zm,{variant:`ghost`,size:`sm`,class:`text-neutral-400 hover:text-neutral-200 h-6 w-6 p-0`,onClick:c,title:`Clear conversation`},{default:R(()=>[K(I(Wh),{class:`size-3`})]),_:1})])]),G(`main`,Zb,[(H(!0),U(B,null,to(e.activeMessages,t=>(H(),U(`div`,{key:t.id,class:`flex space-x-2 px-2`},[G(`div`,Qb,[t.content||!t.toolCalls||t.toolCalls.length===0?(H(),U(`div`,$b,[G(`div`,ex,[G(`span`,tx,Xe(t.role===`user`?`You`:`Assistant`),1),G(`span`,nx,Xe(e.formatTime(t.timestamp)),1),t.metadata?.isGrouped?(H(),U(`span`,rx,` grouped `)):el(``,!0)])])):el(``,!0),G(`div`,{class:j([`prose prose-sm max-w-none rounded-lg p-3 border`,t.metadata?.isGrouped?`border-blue-700/30 bg-blue-950/10`:``,!t.content&&t.toolCalls&&t.toolCalls.length>0?`mt-0`:``])},[t.content?(H(),U(`div`,ix,Xe(t.content),1)):el(``,!0),t.toolCalls&&t.toolCalls.length>0?(H(),W(Gb,{key:1,"tool-calls":t.toolCalls,"tool-results":t.toolResults},null,8,[`tool-calls`,`tool-results`])):el(``,!0)],2)])]))),128))]),K(nb,{onCommandSubmit:a,disabled:e.isGenerating,placeholder:`Type your message...`,"status-text":`Enter to send`},null,8,[`disabled`])]))}}),ox=ax;function sx(e,t,n){let r=null,i=()=>{r&&a(),r=e.events.on(t,n)},a=()=>{r&&(e.app.vault.offref(r),r=null)},o=()=>{a(),i()};return Ra(()=>{i()}),Va(()=>{a()}),{startListening:i,stopListening:a,restartListening:o,isListening:()=>r!==null}}const cx={class:`grid grid-rows-[auto_1fr] h-full`},lx={class:`flex items-center justify-center space-x-0.5 border-b border-neutral-700 py-1 px-2`,id:`quick-actions`};var ux=z({__name:`Sidepanel`,setup(e){let t=$o(`useAiPlugin`),n=F(`home`),r=e=>{n.value=e},{activeThread:i,activeMessages:a,activeThreadId:o,hasActiveThread:s,isGenerating:c,currentAssistantMessage:l,createAndActivateThread:u,addMessage:d,removeMessage:f,clearAllThreads:p,startMessageGeneration:m,finishMessageGeneration:h,setActiveThread:g,hasThread:_}=lb(),v=async(e,n=!0)=>{if(!(!e.trim()||c.value)){if(n&&r(`conversation`),!o.value){let e=u();g(e.id)}if(o.value){d(o.value,{role:`user`,content:e.trim()}),m(o.value);try{t.events.trigger(`canvas:generate`,o.value,e)}catch(e){console.error(`Failed to send message:`,e),h(`Sorry, I encountered an error while processing your request. Please try again.`,`error`)}}}},y=async e=>{await v(e,!0)},b=async e=>{await v(e.prompt,!0)},x=async e=>{try{await navigator.clipboard.writeText(e),console.log(`Message copied to clipboard`)}catch(e){console.error(`Failed to copy message:`,e)}},S=()=>{if(!a.value||a.value.length<2)return;let e=[...a.value].reverse().find(e=>e.role===`user`);if(e&&o.value){let t=[...a.value].reverse().find(t=>t.role===`assistant`&&t.timestamp>e.timestamp);t&&f(o.value,t.id),v(e.content,!1)}},C=()=>{p();let e=u(`New Conversation`);d(e.id,{role:`assistant`,content:`Hello! I'm here to help you generate content for your Obsidian canvas. What would you like to create today?`}),t.events.trigger(`conversation:new-thread`,e.id)},w=()=>{if(!s.value){let e=u(`New Conversation`);d(e.id,{role:`assistant`,content:`Hello! I'm here to help you generate content for your Obsidian canvas. What would you like to create today?`})}},ee=(e,t)=>{if(!_(e)){console.warn(`Thread ${e} not found, cannot handle step event`);return}let n={pending:`info`,running:`info`,success:`success`,error:`error`},r=n[t.status]||`info`,i=t.text;t.error&&t.error.message!==i&&(i+=`\n\n**Error:** ${t.error.message}`),t.stepType===`initial`?d(o.value,{role:`assistant`,content:i,level:r,toolCalls:t.toolCalls,toolResults:t.toolResults,metadata:{stepType:t.stepType,stepNumber:t.stepNumber,...t.metadata}}):t.stepType===`complete`?h(i,r):d(o.value,{role:`assistant`,content:i,level:r,toolCalls:t.toolCalls,toolResults:t.toolResults,metadata:{stepType:t.stepType,stepNumber:t.stepNumber,...t.metadata}})};sx(t,`add-step`,ee);let te=()=>{let e=t.manifest.id;try{Iy(t.app),Fy(t.app,e)}catch(e){console.warn(`Failed to open specific settings tab, falling back to general settings:`,e),Iy(t.app)}},T=e=>e.toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`});return w(),(e,t)=>(H(),U(`div`,cx,[G(`div`,lx,[K(zm,{variant:`ghost`,size:`sm`,class:j([`h-7 w-7 p-0`,n.value===`home`?`text-neutral-200 bg-neutral-700`:`text-neutral-400 hover:text-neutral-200`]),onClick:t[0]||=e=>r(`home`),title:`Home`},{default:R(()=>[K(I(Nh),{class:`size-3`})]),_:1},8,[`class`]),K(zm,{variant:`ghost`,size:`sm`,class:j([`h-7 w-7 p-0`,n.value===`history`?`text-neutral-200 bg-neutral-700`:`text-neutral-400 hover:text-neutral-200`]),onClick:t[1]||=e=>r(`history`),title:`History`},{default:R(()=>[K(I(Mh),{class:`size-3`})]),_:1},8,[`class`]),K(zm,{variant:`ghost`,size:`sm`,class:j([`h-7 w-7 p-0`,n.value===`conversation`?`text-neutral-200 bg-neutral-700`:`text-neutral-400 hover:text-neutral-200`]),onClick:t[2]||=e=>r(`conversation`),title:`Conversation`},{default:R(()=>[K(I(Lh),{class:`size-3`})]),_:1},8,[`class`]),t[3]||=G(`div`,{class:`h-4 w-px bg-neutral-600 mx-1`},null,-1),K(zm,{variant:`ghost`,size:`sm`,class:`text-neutral-400 hover:text-neutral-200 h-7 w-7 p-0`,title:`Refresh`},{default:R(()=>[K(I(Vh),{class:`size-3`})]),_:1}),K(zm,{variant:`ghost`,size:`sm`,class:`text-neutral-400 hover:text-neutral-200 h-7 w-7 p-0`,onClick:te,title:`Settings`},{default:R(()=>[K(I(Hh),{class:`size-3`})]),_:1}),K(zm,{variant:`ghost`,size:`sm`,class:`text-neutral-400 hover:text-neutral-200 h-7 w-7 p-0`,title:`Export`},{default:R(()=>[K(I(Oh),{class:`size-3`})]),_:1})]),(H(),W(Za(n.value===`home`?cb:n.value===`history`?Sb:ox),{class:`flex-1 overflow-y-auto`,onCommandSubmit:y,onPresetSelected:b,"active-thread":I(i),"active-messages":I(a),"is-generating":I(c),"format-time":T,onCopyMessage:x,onRegenerateResponse:S,onClearConversation:C},null,40,[`active-thread`,`active-messages`,`is-generating`]))]))}}),dx=ux,fx=class extends u.ItemView{plugin;vueApp;shadowRoot;vueContainer;constructor(e,t){super(e),this.plugin=t}getViewType(){return`useai-sidepanel`}getDisplayText(){return`UseAI Sidepanel`}async onOpen(){if(this.shadowRoot)return;this.containerEl.empty();let e=document.createElement(`div`);e.classList.add(`h-full`),this.containerEl.appendChild(e),this.shadowRoot=e.attachShadow({mode:`open`}),this.vueContainer=document.createElement(`div`),this.vueContainer.classList.add(`h-full`),this.shadowRoot.appendChild(this.vueContainer),await this.loadStylesIntoShadowDOM(),this.vueApp=ef(dx),this.vueApp.provide(`useAiPlugin`,this.plugin),this.vueApp.mount(this.vueContainer)}async loadStylesIntoShadowDOM(){if(this.shadowRoot)try{let e=this.plugin.manifest.dir||`useai`,t=`${e}/styles.css`,n=await this.plugin.app.vault.adapter.read(t),r=document.createElement(`style`);r.textContent=n,this.shadowRoot.appendChild(r)}catch(e){console.warn(`Failed to load CSS styles via adapter, trying alternative methods:`,e)}}async onClose(){this.vueApp&&(this.vueApp.unmount(),this.vueApp=void 0),this.shadowRoot&&(this.shadowRoot=void 0,this.vueContainer=void 0),this.containerEl.empty()}};function px(e,t){let n=Object.keys(t).map(n=>mx(e,n,t[n]));return n.length===1?n[0]:function(){n.forEach(e=>e())}}function mx(e,t,n){let r=e[t],i=e.hasOwnProperty(t),a=i?r:function(){return Object.getPrototypeOf(e)[t].apply(this,arguments)},o=n(a);return r&&Object.setPrototypeOf(o,r),Object.setPrototypeOf(s,o),e[t]=s,c;function s(...n){return o===a&&e[t]===s&&c(),o.apply(this,n)}function c(){e[t]===s&&(i?e[t]=a:delete e[t]),o!==a&&(o=a,Object.setPrototypeOf(s,r||Function))}}const hx=new WeakSet,gx=new WeakSet,_x=new WeakSet,vx=new WeakSet,yx=(e,t)=>{if(!t.menu)return!1;let n=t.menu.constructor.prototype;return gx.has(n)?!0:(e.register(px(n,{render:t=>function(...n){let r=t.call(this,...n);if(this.menuEl.children.length===0||this.canvas.selection.size!==1)return r;let i=this.canvas.selection.values().next().value;return!i||Object.prototype.hasOwnProperty.call(i,`path`)||Object.prototype.hasOwnProperty.call(i,`bgPath`)||e.events.trigger(`canvas:node-menu`,this,this.canvas,i),r}})),gx.add(n),!0)},bx=(e,t)=>{if(hx.has(t))return!0;let n=Object.getPrototypeOf(t);return e.register(px(n,{addNode(e){return function(...t){let n=e.call(this,...t);return n}},addEdge:e=>function(...t){return t[0].color=t[0].from?.node?.color,e.call(this,...t)},showCreationMenu:n=>function(...r){let i=r[0],a=r[1];return e.events.trigger(`canvas:creation-menu`,i,t,a),n.call(this,...r)}})),hx.add(t),!0},xx=(e,t)=>{let n=t.nodes;return n.size===0?(vx.has(t)||(Sx(e,t),vx.add(t)),!1):Cx(e,t)},Sx=(e,t)=>{if(!hx.has(t)){let n=Object.getPrototypeOf(t);e.register(px(n,{addNode(t){return function(...n){let r=t.call(this,...n);return vx.has(this)&&setTimeout(()=>{Cx(e,this)&&vx.delete(this)},0),r}}}))}},Cx=(e,t)=>{let n=t.nodes;if(n.size===0)return!1;let r=Object.getPrototypeOf(n.values().next().value);return _x.has(r)?!0:(e.register(px(r,{render:e=>function(...t){let n=e.call(this,...t),r=this;return this.nodeEl.getAttribute(`data-patched`)===null&&this.nodeEl.setAttribute(`data-patched`,`true`),n},showMenu:e=>function(...t){let n=t[0],r=this;return n.addSeparator(),n.addItem(e=>{e.setTitle(`Split list to notes`),e.setIcon(`lucide-list`),e.onClick(()=>{})}),e.call(this,...t)}})),_x.add(r),!0)},wx=e=>{let t=e.app.workspace.getLeavesOfType(`canvas`);console.log(`found`,t.length,`canvas leaves`);for(let n of t){let t=n.view.canvas;if(!t)continue;console.log(`canvas`,t);let r=yx(e,t),i=bx(e,t),a=xx(e,t)}return!0};
/*! *****************************************************************************

Copyright (c) Microsoft Corporation.



Permission to use, copy, modify, and/or distribute this software for any

purpose with or without fee is hereby granted.



THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH

REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY

AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,

INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM

LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR

OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR

PERFORMANCE OF THIS SOFTWARE.

***************************************************************************** */
function Tx(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}const Ex=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/i,Dx=`Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36,gzip(gfe)`,Ox=/<text start="([^"]*)" dur="([^"]*)">([^<]*)<\/text>/g;var kx=class extends Error{constructor(e){super(`[YoutubeTranscript]  ${e}`)}},Ax=class extends kx{constructor(){super(`YouTube is receiving too many requests from this IP and now requires solving a captcha to continue`)}},jx=class extends kx{constructor(e){super(`The video is no longer available (${e})`)}},Mx=class extends kx{constructor(e){super(`Transcript is disabled on this video (${e})`)}},Nx=class extends kx{constructor(e){super(`No transcripts are available for this video (${e})`)}},Px=class extends kx{constructor(e,t,n){super(`No transcripts are available in ${e} this video (${n}). Available languages: ${t.join(`, `)}`)}},Fx=class{static fetchTranscript(e,t){var n;return Tx(this,void 0,void 0,function*(){let r=this.retrieveVideoId(e),i=yield fetch(`https://www.youtube.com/watch?v=${r}`,{headers:Object.assign(Object.assign({},t?.lang&&{"Accept-Language":t.lang}),{"User-Agent":Dx})}),a=yield i.text(),o=a.split(`"captions":`);if(o.length<=1)throw a.includes(`class="g-recaptcha"`)?new Ax:a.includes(`"playabilityStatus":`)?new Mx(e):new jx(e);let s=(n=(()=>{try{return JSON.parse(o[1].split(`,"videoDetails`)[0].replace(`
`,``))}catch{return}})())?.playerCaptionsTracklistRenderer;if(!s)throw new Mx(e);if(!(`captionTracks`in s))throw new Nx(e);if(t?.lang&&!s.captionTracks.some(e=>e.languageCode===t?.lang))throw new Px(t?.lang,s.captionTracks.map(e=>e.languageCode),e);let c=(t?.lang?s.captionTracks.find(e=>e.languageCode===t?.lang):s.captionTracks[0]).baseUrl,l=yield fetch(c,{headers:Object.assign(Object.assign({},t?.lang&&{"Accept-Language":t.lang}),{"User-Agent":Dx})});if(!l.ok)throw new Nx(e);let u=yield l.text(),d=[...u.matchAll(Ox)];return d.map(e=>{var n;return{text:e[3],duration:parseFloat(e[2]),offset:parseFloat(e[1]),lang:(n=t?.lang)??s.captionTracks[0].languageCode}})})}static retrieveVideoId(e){if(e.length===11)return e;let t=e.match(Ex);if(t&&t.length)return t[1];throw new kx(`Impossible to retrieve Youtube video ID.`)}};async function Ix(e){let t=e.match(/(?:https?:\/\/)?(?:www\.)?youtube\.com\/watch\?v=([^&]+)/)?.[1];if(!t)throw Error(`Failed to get YouTube ID`);try{let e=await Fx.fetchTranscript(t);return e.reduce((e,t)=>e+t.text+`
`,``)}catch(e){return console.error(`Error fetching YouTube transcript:`,e),`Transcript service is currently unavailable. Please try again later.`}}var Lx=o((exports,t)=>{(function(n,r){typeof exports==`object`&&typeof t==`object`?t.exports=r():typeof define==`function`&&define.amd?define([],r):typeof exports==`object`?exports.Defuddle=r():n.Defuddle=r()})(typeof self<`u`?self:void 0,()=>(()=>{"use strict";var e={0:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.mathRules=t.createCleanMathEl=void 0;let r=n(282);t.createCleanMathEl=(e,t,n,r)=>{let i=e.createElement(`math`);if(i.setAttribute(`xmlns`,`http://www.w3.org/1998/Math/MathML`),i.setAttribute(`display`,r?`block`:`inline`),i.setAttribute(`data-latex`,n||``),t?.mathml){let n=e.createElement(`div`);n.innerHTML=t.mathml;let r=n.querySelector(`math`);r&&(i.innerHTML=r.innerHTML)}else n&&(i.textContent=n);return i},t.mathRules=[{selector:r.mathSelectors,element:`math`,transform:(e,n)=>{if(!function(e){return`classList`in e&&`getAttribute`in e&&`querySelector`in e}(e))return e;let i=(0,r.getMathMLFromElement)(e),a=(0,r.getBasicLatexFromElement)(e),o=(0,r.isBlockDisplay)(e),s=(0,t.createCleanMathEl)(n,i,a,o);return e.parentElement&&e.parentElement.querySelectorAll(`
					/* MathJax scripts and previews */
					script[type^="math/"],
					.MathJax_Preview,

					/* External math library scripts */
					script[type="text/javascript"][src*="mathjax"],
					script[type="text/javascript"][src*="katex"]
				`).forEach(e=>e.remove()),s}}]},20:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.GrokExtractor=void 0;let r=n(181);class i extends r.ConversationExtractor{constructor(e,t){super(e,t),this.messageContainerSelector=`.relative.group.flex.flex-col.justify-center.w-full`,this.messageBubbles=e.querySelectorAll(this.messageContainerSelector),this.footnotes=[],this.footnoteCounter=0}canExtract(){return!!this.messageBubbles&&this.messageBubbles.length>0}extractMessages(){let e=[];return this.footnotes=[],this.footnoteCounter=0,this.messageBubbles&&this.messageBubbles.length!==0&&this.messageBubbles.forEach(t=>{var n;let r=t.classList.contains(`items-end`),i=t.classList.contains(`items-start`);if(!r&&!i)return;let a=t.querySelector(`.message-bubble`);if(!a)return;let o=``,s=``,c=``;if(r)o=a.textContent||``,s=`user`,c=`You`;else if(i){s=`assistant`,c=`Grok`;let e=a.cloneNode(!0);(n=e.querySelector(`.relative.border.border-border-l1.bg-surface-base`))==null||n.remove(),o=e.innerHTML,o=this.processFootnotes(o)}o.trim()&&e.push({author:c,content:o.trim(),metadata:{role:s}})}),e}getFootnotes(){return this.footnotes}getMetadata(){var e;let t=this.getTitle(),n=(e=this.messageBubbles)?.length||0;return{title:t,site:`Grok`,url:this.url,messageCount:n,description:`Grok conversation with ${n} messages`}}getTitle(){var e,t;let n=(e=this.document.title)?.trim();if(n&&n!==`Grok`&&!n.startsWith(`Grok by `))return n.replace(/\s-\s*Grok$/,``).trim();let r=this.document.querySelector(`${this.messageContainerSelector}.items-end`);if(r){let e=r.querySelector(`.message-bubble`);if(e){let n=(t=e.textContent)?.trim()||``;return n.length>50?n.slice(0,50)+`...`:n}}return`Grok Conversation`}processFootnotes(e){return e.replace(/<a\s+(?:[^>]*?\s+)?href="([^"]*)"[^>]*>(.*?)<\/a>/gi,(e,t,n)=>{if(!t||t.startsWith(`#`)||!t.match(/^https?:\/\//i))return e;let r;if(this.footnotes.find(e=>e.url===t))r=this.footnotes.findIndex(e=>e.url===t)+1;else{this.footnoteCounter++,r=this.footnoteCounter;let e=t;try{let n=new URL(t).hostname.replace(/^www\./,``);e=`<a href="${t}" target="_blank" rel="noopener noreferrer">${n}</a>`}catch{e=`<a href="${t}" target="_blank" rel="noopener noreferrer">${t}</a>`,console.warn(`GrokExtractor: Could not parse URL for footnote: ${t}`)}this.footnotes.push({url:t,text:e})}return`${n}<sup id="fnref:${r}" class="footnote-ref"><a href="#fn:${r}" class="footnote-link">${r}</a></sup>`})}}t.GrokExtractor=i},181:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.ConversationExtractor=void 0;let r=n(279),i=n(628);class a extends r.BaseExtractor{getFootnotes(){return[]}extract(){var e;let t=this.extractMessages(),n=this.getMetadata(),r=this.getFootnotes(),a=this.createContentHtml(t,r),o=document.implementation.createHTMLDocument(),s=o.createElement(`article`);s.innerHTML=a,o.body.appendChild(s);let c=new i.Defuddle(o).parse(),l=c.content;return{content:l,contentHtml:l,extractedContent:{messageCount:t.length.toString()},variables:{title:n.title||`Conversation`,site:n.site,description:n.description||`${n.site} conversation with ${t.length} messages`,wordCount:(e=c.wordCount)?.toString()||``}}}createContentHtml(e,t){return`${e.map((t,n)=>{let r=t.timestamp?`<div class="message-timestamp">${t.timestamp}</div>`:``,i=/<p[^>]*>[\s\S]*?<\/p>/i.test(t.content)?t.content:`<p>${t.content}</p>`,a=t.metadata?Object.entries(t.metadata).map(([e,t])=>`data-${e}="${t}"`).join(` `):``;return`\n\t\t\t<div class="message message-${t.author.toLowerCase()}" ${a}>\n\t\t\t\t<div class="message-header">\n\t\t\t\t\t<p class="message-author"><strong>${t.author}</strong></p>\n\t\t\t\t\t${r}\n\t\t\t\t</div>\n\t\t\t\t<div class="message-content">\n\t\t\t\t\t${i}\n\t\t\t\t</div>\n\t\t\t</div>${n<e.length-1?`
<hr>`:``}`}).join(`
`).trim()}\n${t.length>0?`\n\t\t\t<div id="footnotes">\n\t\t\t\t<ol>\n\t\t\t\t\t${t.map((e,t)=>`\n\t\t\t\t\t\t<li class="footnote" id="fn:${t+1}">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a href="${e.url}" target="_blank">${e.text}</a>&nbsp;<a href="#fnref:${t+1}" class="footnote-backref">\u21a9</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t`).join(``)}\n\t\t\t\t</ol>\n\t\t\t</div>`:``}`.trim()}}t.ConversationExtractor=a},248:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.TwitterExtractor=void 0;let r=n(279);class i extends r.BaseExtractor{constructor(e,t){var n;super(e,t),this.mainTweet=null,this.threadTweets=[];let r=e.querySelector(`[aria-label="Timeline: Conversation"]`);if(!r){let t=e.querySelector(`article[data-testid="tweet"]`);return void(t&&(this.mainTweet=t))}let i=Array.from(r.querySelectorAll(`article[data-testid="tweet"]`)),a=(n=r.querySelector(`section, h2`))?.parentElement;a&&i.forEach((e,t)=>{if(a.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING)return i.splice(t),!1}),this.mainTweet=i[0]||null,this.threadTweets=i.slice(1)}canExtract(){return!!this.mainTweet}extract(){let e=this.extractTweet(this.mainTweet),t=this.threadTweets.map(e=>this.extractTweet(e)).join(`
<hr>
`),n=`\n\t\t\t<div class="tweet-thread">\n\t\t\t\t<div class="main-tweet">\n\t\t\t\t\t${e}\n\t\t\t\t</div>\n\t\t\t\t${t?`\n\t\t\t\t\t<hr>\n\t\t\t\t\t<div class="thread-tweets">\n\t\t\t\t\t\t${t}\n\t\t\t\t\t</div>\n\t\t\t\t`:``}\n\t\t\t</div>\n\t\t`.trim(),r=this.getTweetId(),i=this.getTweetAuthor();return{content:n,contentHtml:n,extractedContent:{tweetId:r,tweetAuthor:i},variables:{title:`Thread by ${i}`,author:i,site:`X (Twitter)`,description:this.createDescription(this.mainTweet)}}}formatTweetText(e){if(!e)return``;let t=document.createElement(`div`);return t.innerHTML=e,t.querySelectorAll(`a`).forEach(e=>{var t;let n=(t=e.textContent)?.trim()||``;e.replaceWith(n)}),t.querySelectorAll(`span, div`).forEach(e=>{e.replaceWith(...Array.from(e.childNodes))}),t.innerHTML.split(`
`).map(e=>e.trim()).filter(e=>e).map(e=>`<p>${e}</p>`).join(`
`)}extractTweet(e){var t,n,r;if(!e)return``;let i=e.cloneNode(!0);i.querySelectorAll(`img[src*="/emoji/"]`).forEach(e=>{if(e.tagName.toLowerCase()===`img`&&e.getAttribute(`alt`)){let t=e.getAttribute(`alt`);t&&e.replaceWith(t)}});let a=(t=i.querySelector(`[data-testid="tweetText"]`))?.innerHTML||``,o=this.formatTweetText(a),s=this.extractImages(e),c=this.extractUserInfo(e),l=(r=(n=e.querySelector(`[aria-labelledby*="id__"]`))?.querySelector(`[data-testid="User-Name"]`))?.closest(`[aria-labelledby*="id__"]`),u=l?this.extractTweet(l):``;return`\n\t\t\t<div class="tweet">\n\t\t\t\t<div class="tweet-header">\n\t\t\t\t\t<span class="tweet-author"><strong>${c.fullName}</strong> <span class="tweet-handle">${c.handle}</span></span>\n\t\t\t\t\t${c.date?`<a href="${c.permalink}" class="tweet-date">${c.date}</a>`:``}\n\t\t\t\t</div>\n\t\t\t\t${o?`<div class="tweet-text">${o}</div>`:``}\n\t\t\t\t${s.length?`\n\t\t\t\t\t<div class="tweet-media">\n\t\t\t\t\t\t${s.join(`
`)}\n\t\t\t\t\t</div>\n\t\t\t\t`:``}\n\t\t\t\t${u?`\n\t\t\t\t\t<blockquote class="quoted-tweet">\n\t\t\t\t\t\t${u}\n\t\t\t\t\t</blockquote>\n\t\t\t\t`:``}\n\t\t\t</div>\n\t\t`.trim()}extractUserInfo(e){var t,n,r,i,a,o,s,c,l;let u=e.querySelector(`[data-testid="User-Name"]`);if(!u)return{fullName:``,handle:``,date:``,permalink:``};let d=u.querySelectorAll(`a`),f=(n=(t=d?.[0])?.textContent)?.trim()||``,p=(i=(r=d?.[1])?.textContent)?.trim()||``;f&&p||(f=(o=(a=u.querySelector(`span[style*="color: rgb(15, 20, 25)"] span`))?.textContent)?.trim()||``,p=(c=(s=u.querySelector(`span[style*="color: rgb(83, 100, 113)"]`))?.textContent)?.trim()||``);let m=e.querySelector(`time`),h=m?.getAttribute(`datetime`)||``;return{fullName:f,handle:p,date:h?new Date(h).toISOString().split(`T`)[0]:``,permalink:(l=m?.closest(`a`))?.href||``}}extractImages(e){var t,n;let r=[`[data-testid="tweetPhoto"]`,`[data-testid="tweet-image"]`,`img[src*="media"]`],i=[],a=(n=(t=e.querySelector(`[aria-labelledby*="id__"]`))?.querySelector(`[data-testid="User-Name"]`))?.closest(`[aria-labelledby*="id__"]`);for(let t of r)e.querySelectorAll(t).forEach(e=>{var t,n;if(!a?.contains(e)&&e.tagName.toLowerCase()===`img`&&e.getAttribute(`alt`)){let r=(t=e.getAttribute(`src`))?.replace(/&name=\w+$/,`&name=large`)||``,a=(n=e.getAttribute(`alt`))?.replace(/\s+/g,` `).trim()||``;i.push(`<img src="${r}" alt="${a}" />`)}});return i}getTweetId(){let e=this.url.match(/status\/(\d+)/);return e?.[1]||``}getTweetAuthor(){var e,t,n;let r=(e=this.mainTweet)?.querySelector(`[data-testid="User-Name"]`),i=r?.querySelectorAll(`a`),a=(n=(t=i?.[1])?.textContent)?.trim()||``;return a.startsWith(`@`)?a:`@${a}`}createDescription(e){var t;return e?((t=e.querySelector(`[data-testid="tweetText"]`))?.textContent||``).trim().slice(0,140).replace(/\s+/g,` `):``}}t.TwitterExtractor=i},258:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.YoutubeExtractor=void 0;let r=n(279);class i extends r.BaseExtractor{constructor(e,t,n){super(e,t,n),this.videoElement=e.querySelector(`video`),this.schemaOrgData=n}canExtract(){return!0}extract(){let e=this.getVideoData(),t=e.description||``,n=this.formatDescription(t),r=`<iframe width="560" height="315" src="https://www.youtube.com/embed/${this.getVideoId()}?si=_m0qv33lAuJFoGNh" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe><br>${n}`;return{content:r,contentHtml:r,extractedContent:{videoId:this.getVideoId(),author:e.author||``},variables:{title:e.name||``,author:e.author||``,site:`YouTube`,image:Array.isArray(e.thumbnailUrl)&&e.thumbnailUrl[0]||``,published:e.uploadDate,description:t.slice(0,200).trim()}}}formatDescription(e){return`<p>${e.replace(/\n/g,`<br>`)}</p>`}getVideoData(){return this.schemaOrgData&&(Array.isArray(this.schemaOrgData)?this.schemaOrgData.find(e=>e[`@type`]===`VideoObject`):this.schemaOrgData[`@type`]===`VideoObject`?this.schemaOrgData:null)||{}}getVideoId(){return new URLSearchParams(new URL(this.url).search).get(`v`)||``}}t.YoutubeExtractor=i},279:(e,t)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.BaseExtractor=void 0,t.BaseExtractor=class{constructor(e,t,n){this.document=e,this.url=t,this.schemaOrgData=n}}},282:(e,t)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.mathSelectors=t.isBlockDisplay=t.getBasicLatexFromElement=t.getMathMLFromElement=void 0,t.getMathMLFromElement=e=>{if(e.tagName.toLowerCase()===`math`){let t=e.getAttribute(`display`)===`block`;return{mathml:e.outerHTML,latex:e.getAttribute(`alttext`)||null,isBlock:t}}let t=e.getAttribute(`data-mathml`);if(t){let e=document.createElement(`div`);e.innerHTML=t;let n=e.querySelector(`math`);if(n){let e=n.getAttribute(`display`)===`block`;return{mathml:n.outerHTML,latex:n.getAttribute(`alttext`)||null,isBlock:e}}}let n=e.querySelector(`.MJX_Assistive_MathML, mjx-assistive-mml`);if(n){let e=n.querySelector(`math`);if(e){let t=e.getAttribute(`display`),r=n.getAttribute(`display`),i=t===`block`||r===`block`;return{mathml:e.outerHTML,latex:e.getAttribute(`alttext`)||null,isBlock:i}}}let r=e.querySelector(`.katex-mathml math`);return r?{mathml:r.outerHTML,latex:null,isBlock:!1}:null},t.getBasicLatexFromElement=e=>{var t,n,r;let i=e.getAttribute(`data-latex`);if(i)return i;if(e.tagName.toLowerCase()===`img`&&e.classList.contains(`latex`)){let t=e.getAttribute(`alt`);if(t)return t;let n=e.getAttribute(`src`);if(n){let e=n.match(/latex\.php\?latex=([^&]+)/);if(e)return decodeURIComponent(e[1]).replace(/\+/g,` `).replace(/%5C/g,`\\`)}}let a=e.querySelector(`annotation[encoding="application/x-tex"]`);if(a?.textContent)return a.textContent.trim();if(e.matches(`.katex`)){let t=e.querySelector(`.katex-mathml annotation[encoding="application/x-tex"]`);if(t?.textContent)return t.textContent.trim()}if(e.matches(`script[type="math/tex"]`)||e.matches(`script[type="math/tex; mode=display"]`))return(t=e.textContent)?.trim()||null;if(e.parentElement){let t=e.parentElement.querySelector(`script[type="math/tex"], script[type="math/tex; mode=display"]`);if(t)return(n=t.textContent)?.trim()||null}return e.getAttribute(`alt`)||(r=e.textContent)?.trim()||null},t.isBlockDisplay=e=>{if(e.getAttribute(`display`)===`block`)return!0;let t=e.className.toLowerCase();if(t.includes(`display`)||t.includes(`block`)||e.closest(`.katex-display, .MathJax_Display, [data-display="block"]`))return!0;let n=e.previousElementSibling;if(n?.tagName.toLowerCase()===`p`||e.matches(`.mwe-math-fallback-image-display`))return!0;if(e.matches(`.katex`))return e.closest(`.katex-display`)!==null;if(e.hasAttribute(`display`))return e.getAttribute(`display`)===`true`;if(e.matches(`script[type="math/tex; mode=display"]`))return!0;if(e.hasAttribute(`display`))return e.getAttribute(`display`)===`true`;let r=e.closest(`[display]`);return!!r&&r.getAttribute(`display`)===`true`},t.mathSelectors=`img.latex[src*="latex.php"],span.MathJax,mjx-container,script[type="math/tex"],script[type="math/tex; mode=display"],.MathJax_Preview + script[type="math/tex"],.MathJax_Display,.MathJax_SVG,.MathJax_MathML,.mwe-math-element,.mwe-math-fallback-image-inline,.mwe-math-fallback-image-display,.mwe-math-mathml-inline,.mwe-math-mathml-display,.katex,.katex-display,.katex-mathml,.katex-html,[data-katex],script[type="math/katex"],math,[data-math],[data-latex],[data-tex],script[type^="math/"],annotation[encoding="application/x-tex"]`.split(`,`).join(`,`)},397:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.ClaudeExtractor=void 0;let r=n(181);class i extends r.ConversationExtractor{constructor(e,t){super(e,t),this.articles=e.querySelectorAll(`div[data-testid="user-message"], div[data-testid="assistant-message"], div.font-claude-message`)}canExtract(){return!!this.articles&&this.articles.length>0}extractMessages(){let e=[];return this.articles&&this.articles.forEach(t=>{let n,r;if(t.hasAttribute(`data-testid`)){if(t.getAttribute(`data-testid`)!==`user-message`)return;n=`you`,r=t.innerHTML}else{if(!t.classList.contains(`font-claude-message`))return;n=`assistant`,r=t.innerHTML}r&&e.push({author:n===`you`?`You`:`Claude`,content:r.trim(),metadata:{role:n}})}),e}getMetadata(){let e=this.getTitle(),t=this.extractMessages();return{title:e,site:`Claude`,url:this.url,messageCount:t.length,description:`Claude conversation with ${t.length} messages`}}getTitle(){var e,t,n,r,i;let a=(e=this.document.title)?.trim();if(a&&a!==`Claude`)return a.replace(/ - Claude$/,``);let o=(n=(t=this.document.querySelector(`header .font-tiempos`))?.textContent)?.trim();if(o)return o;let s=(i=(r=this.articles)?.item(0))?.querySelector(`[data-testid="user-message"]`);if(s){let e=s.textContent||``;return e.length>50?e.slice(0,50)+`...`:e}return`Claude Conversation`}}t.ClaudeExtractor=i},458:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.HackerNewsExtractor=void 0;let r=n(279);class i extends r.BaseExtractor{constructor(e,t){super(e,t),this.mainPost=e.querySelector(`.fatitem`),this.isCommentPage=this.detectCommentPage(),this.mainComment=this.isCommentPage?this.findMainComment():null}detectCommentPage(){var e;return!!(e=this.mainPost)?.querySelector(`.navs a[href*="parent"]`)}findMainComment(){var e;return(e=this.mainPost)?.querySelector(`.comment`)||null}canExtract(){return!!this.mainPost}extract(){let e=this.getPostContent(),t=this.extractComments(),n=this.createContentHtml(e,t),r=this.getPostTitle(),i=this.getPostAuthor(),a=this.createDescription(),o=this.getPostDate();return{content:n,contentHtml:n,extractedContent:{postId:this.getPostId(),postAuthor:i},variables:{title:r,author:i,site:`Hacker News`,description:a,published:o}}}createContentHtml(e,t){return`\n\t\t\t<div class="hackernews-post">\n\t\t\t\t<div class="post-content">\n\t\t\t\t\t${e}\n\t\t\t\t</div>\n\t\t\t\t${t?`\n\t\t\t\t\t<hr>\n\t\t\t\t\t<h2>Comments</h2>\n\t\t\t\t\t<div class="hackernews-comments">\n\t\t\t\t\t\t${t}\n\t\t\t\t\t</div>\n\t\t\t\t`:``}\n\t\t\t</div>\n\t\t`.trim()}getPostContent(){var e,t,n,r,i,a;if(!this.mainPost)return``;if(this.isCommentPage&&this.mainComment){let a=(e=this.mainComment.querySelector(`.hnuser`))?.textContent||`[deleted]`,o=(t=this.mainComment.querySelector(`.commtext`))?.innerHTML||``,s=this.mainComment.querySelector(`.age`),c=(s?.getAttribute(`title`)||``).split(`T`)[0]||``,l=(r=(n=this.mainComment.querySelector(`.score`))?.textContent)?.trim()||``,u=(i=this.mainPost.querySelector(`.navs a[href*="parent"]`))?.getAttribute(`href`)||``;return`\n\t\t\t\t<div class="comment main-comment">\n\t\t\t\t\t<div class="comment-metadata">\n\t\t\t\t\t\t<span class="comment-author"><strong>${a}</strong></span> \u2022\n\t\t\t\t\t\t<span class="comment-date">${c}</span>\n\t\t\t\t\t\t${l?` \u2022 <span class="comment-points">${l}</span>`:``}\n\t\t\t\t\t\t${u?` \u2022 <a href="https://news.ycombinator.com/${u}" class="parent-link">parent</a>`:``}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="comment-content">${o}</div>\n\t\t\t\t</div>\n\t\t\t`.trim()}let o=this.mainPost.querySelector(`tr.athing`),s=(o?.nextElementSibling,(a=o?.querySelector(`.titleline a`))?.getAttribute(`href`)||``),c=``;s&&(c+=`<p><a href="${s}" target="_blank">${s}</a></p>`);let l=this.mainPost.querySelector(`.toptext`);return l&&(c+=`<div class="post-text">${l.innerHTML}</div>`),c}extractComments(){let e=Array.from(this.document.querySelectorAll(`tr.comtr`));return this.processComments(e)}processComments(e){var t,n,r,i;let a=``,o=new Set,s=-1,c=[];for(let l of e){let e=l.getAttribute(`id`);if(!e||o.has(e))continue;o.add(e);let u=(t=l.querySelector(`.ind img`))?.getAttribute(`width`)||`0`,d=parseInt(u)/40,f=l.querySelector(`.commtext`),p=(n=l.querySelector(`.hnuser`))?.textContent||`[deleted]`,m=l.querySelector(`.age`),h=(i=(r=l.querySelector(`.score`))?.textContent)?.trim()||``;if(!f)continue;let g=`https://news.ycombinator.com/item?id=${e}`,_=(m?.getAttribute(`title`)||``).split(`T`)[0]||``;if(d===0){for(;c.length>0;)a+=`</blockquote>`,c.pop();a+=`<blockquote>`,c=[0],s=0}else if(d<s)for(;c.length>0&&c[c.length-1]>=d;)a+=`</blockquote>`,c.pop();else d>s&&(a+=`<blockquote>`,c.push(d));a+=`<div class="comment">\n\t<div class="comment-metadata">\n\t\t<span class="comment-author"><strong>${p}</strong></span> \u2022\n\t\t<a href="${g}" class="comment-link">${_}</a>\n\t\t${h?` \u2022 <span class="comment-points">${h}</span>`:``}\n\t</div>\n\t<div class="comment-content">${f.innerHTML}</div>\n</div>`,s=d}for(;c.length>0;)a+=`</blockquote>`,c.pop();return a}getPostId(){let e=this.url.match(/id=(\d+)/);return e?.[1]||``}getPostTitle(){var e,t,n,r,i;if(this.isCommentPage&&this.mainComment){let n=(e=this.mainComment.querySelector(`.hnuser`))?.textContent||`[deleted]`,r=(t=this.mainComment.querySelector(`.commtext`))?.textContent||``;return`Comment by ${n}: ${r.trim().slice(0,50)+(r.length>50?`...`:``)}`}return(i=(r=(n=this.mainPost)?.querySelector(`.titleline`))?.textContent)?.trim()||``}getPostAuthor(){var e,t,n;return(n=(t=(e=this.mainPost)?.querySelector(`.hnuser`))?.textContent)?.trim()||``}createDescription(){let e=this.getPostTitle(),t=this.getPostAuthor();return this.isCommentPage?`Comment by ${t} on Hacker News`:`${e} - by ${t} on Hacker News`}getPostDate(){if(!this.mainPost)return``;let e=this.mainPost.querySelector(`.age`);return(e?.getAttribute(`title`)||``).split(`T`)[0]||``}}t.HackerNewsExtractor=i},552:(e,t)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.isElement=function(e){return e.nodeType===n.ELEMENT_NODE},t.isTextNode=function(e){return e.nodeType===n.TEXT_NODE},t.isCommentNode=function(e){return e.nodeType===n.COMMENT_NODE},t.getComputedStyle=function(e){let t=r(e.ownerDocument);return t?t.getComputedStyle(e):null},t.getWindow=r,t.logDebug=function(e,...t){typeof window<`u`&&window.defuddleDebug&&console.log(`Defuddle:`,e,...t)};let n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};function r(e){return e.defaultView?e.defaultView:e.ownerWindow?e.ownerWindow:e.window?e.window:null}},608:(e,t)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.MetadataExtractor=void 0,t.MetadataExtractor=class{static extract(e,t,n){var r,i;let a=``,o=``;try{if(o=(r=e.location)?.href||``,o||=this.getMetaContent(n,`property`,`og:url`)||this.getMetaContent(n,`property`,`twitter:url`)||this.getSchemaProperty(t,`url`)||this.getSchemaProperty(t,`mainEntityOfPage.url`)||this.getSchemaProperty(t,`mainEntity.url`)||this.getSchemaProperty(t,`WebSite.url`)||(i=e.querySelector(`link[rel="canonical"]`))?.getAttribute(`href`)||``,o)try{a=new URL(o).hostname.replace(/^www\./,``)}catch(e){console.warn(`Failed to parse URL:`,e)}}catch{let t=e.querySelector(`base[href]`);if(t)try{o=t.getAttribute(`href`)||``,a=new URL(o).hostname.replace(/^www\./,``)}catch(e){console.warn(`Failed to parse base URL:`,e)}}return{title:this.getTitle(e,t,n),description:this.getDescription(e,t,n),domain:a,favicon:this.getFavicon(e,o,n),image:this.getImage(e,t,n),published:this.getPublished(e,t,n),author:this.getAuthor(e,t,n),site:this.getSite(e,t,n),schemaOrgData:t,wordCount:0,parseTime:0}}static getAuthor(e,t,n){let r;if(r=this.getMetaContent(n,`name`,`sailthru.author`)||this.getMetaContent(n,`property`,`author`)||this.getMetaContent(n,`name`,`author`)||this.getMetaContent(n,`name`,`byl`)||this.getMetaContent(n,`name`,`authorList`),r)return r;let i=this.getSchemaProperty(t,`author.name`)||this.getSchemaProperty(t,`author.[].name`);if(i){let e=i.split(`,`).map(e=>e.trim().replace(/,$/,``).trim()).filter(Boolean);if(e.length>0){let t=[...new Set(e)];return t.length>10&&(t=t.slice(0,10)),t.join(`, `)}}let a=[];if([`[itemprop="author"]`,`.author`,`[href*="author"]`,`.authors a`].forEach(t=>{e.querySelectorAll(t).forEach(e=>{var t;(t=e.textContent)&&t.split(`,`).forEach(e=>{let t=e.trim().replace(/,$/,``).trim(),n=t.toLowerCase();t&&n!==`author`&&n!==`authors`&&a.push(t)})})}),a.length>0){let e=[...new Set(a.map(e=>e.trim()).filter(Boolean))];if(e.length>0)return e.length>10&&(e=e.slice(0,10)),e.join(`, `)}return r=this.getMetaContent(n,`name`,`copyright`)||this.getSchemaProperty(t,`copyrightHolder.name`)||this.getMetaContent(n,`property`,`og:site_name`)||this.getSchemaProperty(t,`publisher.name`)||this.getSchemaProperty(t,`sourceOrganization.name`)||this.getSchemaProperty(t,`isPartOf.name`)||this.getMetaContent(n,`name`,`twitter:creator`)||this.getMetaContent(n,`name`,`application-name`),r||``}static getSite(e,t,n){return this.getSchemaProperty(t,`publisher.name`)||this.getMetaContent(n,`property`,`og:site_name`)||this.getSchemaProperty(t,`WebSite.name`)||this.getSchemaProperty(t,`sourceOrganization.name`)||this.getMetaContent(n,`name`,`copyright`)||this.getSchemaProperty(t,`copyrightHolder.name`)||this.getSchemaProperty(t,`isPartOf.name`)||this.getMetaContent(n,`name`,`application-name`)||this.getAuthor(e,t,n)||``}static getTitle(e,t,n){var r,i;let a=this.getMetaContent(n,`property`,`og:title`)||this.getMetaContent(n,`name`,`twitter:title`)||this.getSchemaProperty(t,`headline`)||this.getMetaContent(n,`name`,`title`)||this.getMetaContent(n,`name`,`sailthru.title`)||(i=(r=e.querySelector(`title`))?.textContent)?.trim()||``;return this.cleanTitle(a,this.getSite(e,t,n))}static cleanTitle(e,t){if(!e||!t)return e;let n=t.replace(/[.*+?^${}()|[\]\\]/g,`\\$&`),r=[`\\s*[\\|\\-\u2013\u2014]\\s*${n}\\s*$`,`^\\s*${n}\\s*[\\|\\-\u2013\u2014]\\s*`];for(let t of r){let n=new RegExp(t,`i`);if(n.test(e)){e=e.replace(n,``);break}}return e.trim()}static getDescription(e,t,n){return this.getMetaContent(n,`name`,`description`)||this.getMetaContent(n,`property`,`description`)||this.getMetaContent(n,`property`,`og:description`)||this.getSchemaProperty(t,`description`)||this.getMetaContent(n,`name`,`twitter:description`)||this.getMetaContent(n,`name`,`sailthru.description`)||``}static getImage(e,t,n){return this.getMetaContent(n,`property`,`og:image`)||this.getMetaContent(n,`name`,`twitter:image`)||this.getSchemaProperty(t,`image.url`)||this.getMetaContent(n,`name`,`sailthru.image.full`)||``}static getFavicon(e,t,n){var r,i;let a=this.getMetaContent(n,`property`,`og:image:favicon`);if(a)return a;let o=(r=e.querySelector(`link[rel='icon']`))?.getAttribute(`href`);if(o)return o;let s=(i=e.querySelector(`link[rel='shortcut icon']`))?.getAttribute(`href`);if(s)return s;if(t)try{return new URL(`/favicon.ico`,t).href}catch(e){console.warn(`Failed to construct favicon URL:`,e)}return``}static getPublished(e,t,n){var r,i;return this.getSchemaProperty(t,`datePublished`)||this.getMetaContent(n,`name`,`publishDate`)||this.getMetaContent(n,`property`,`article:published_time`)||(i=(r=e.querySelector(`abbr[itemprop="datePublished"]`))?.title)?.trim()||this.getTimeElement(e)||this.getMetaContent(n,`name`,`sailthru.date`)||``}static getMetaContent(e,t,n){var r,i;let a=e.find(e=>{let r=t===`name`?e.name:e.property;return r?.toLowerCase()===n.toLowerCase()});return a&&(i=(r=a.content)?.trim())!=null?i:``}static getTimeElement(e){var t,n,r,i;let a=Array.from(e.querySelectorAll(`time`))[0];return a&&(i=(n=(t=a.getAttribute(`datetime`))?.trim())??(r=a.textContent)?.trim())!=null?i:``}static getSchemaProperty(e,t,n=``){if(!e)return n;let r=(e,t,n,i=!0)=>{if(typeof e==`string`)return t.length===0?[e]:[];if(!e||typeof e!=`object`)return[];if(Array.isArray(e)){let a=t[0];if(/^\\[\\d+\\]$/.test(a)){let o=parseInt(a.slice(1,-1));return e[o]?r(e[o],t.slice(1),n,i):[]}return t.length===0&&e.every(e=>typeof e==`string`||typeof e==`number`)?e.map(String):e.flatMap(e=>r(e,t,n,i))}let[a,...o]=t;if(!a)return typeof e==`string`?[e]:typeof e==`object`&&e.name?[e.name]:[];if(e.hasOwnProperty(a))return r(e[a],o,n?`${n}.${a}`:a,!0);if(!i){let i=[];for(let a in e)if(typeof e[a]==`object`){let o=r(e[a],t,n?`${n}.${a}`:a,!1);i.push(...o)}if(i.length>0)return i}return[]};try{let i=r(e,t.split(`.`),``,!0);return i.length===0&&(i=r(e,t.split(`.`),``,!1)),i.length>0?i.filter(Boolean).join(`, `):n}catch(e){return console.error(`Error in getSchemaProperty for ${t}:`,e),n}}}},610:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.standardizeFootnotes=function(e){let t=e.ownerDocument;if(!t)return void console.warn(`standardizeFootnotes: No document available`);new i(t).standardizeFootnotes(e)};let r=n(640);class i{constructor(e){this.doc=e}createFootnoteItem(e,t,n){let r=typeof t==`string`?this.doc:t.ownerDocument,i=r.createElement(`li`);if(i.className=`footnote`,i.id=`fn:${e}`,typeof t==`string`){let e=r.createElement(`p`);e.innerHTML=t,i.appendChild(e)}else{let e=Array.from(t.querySelectorAll(`p`));if(e.length===0){let e=r.createElement(`p`);e.innerHTML=t.innerHTML,i.appendChild(e)}else e.forEach(e=>{let t=r.createElement(`p`);t.innerHTML=e.innerHTML,i.appendChild(t)})}let a=i.querySelector(`p:last-of-type`)||i;return n.forEach((e,t)=>{let i=r.createElement(`a`);i.href=`#${e}`,i.title=`return to article`,i.className=`footnote-backref`,i.innerHTML=``,t<n.length-1&&(i.innerHTML+=` `),a.appendChild(i)}),i}collectFootnotes(e){let t={},n=1,i=new Set;return e.querySelectorAll(r.FOOTNOTE_LIST_SELECTORS).forEach(e=>{if(e.matches(`div.footnote[data-component-name="FootnoteToDOM"]`)){let r=e.querySelector(`a.footnote-number`),a=e.querySelector(`.footnote-content`);if(r&&a){let e=r.id.replace(`footnote-`,``).toLowerCase();e&&!i.has(e)&&(t[n]={content:a,originalId:e,refs:[]},i.add(e),n++)}return}e.querySelectorAll(`li, div[role="listitem"]`).forEach(e=>{var r,a,o,s;let c=``,l=null,u=e.querySelector(`.citations`);if((r=u?.id)?.toLowerCase().startsWith(`r`)){c=u.id.toLowerCase();let e=u.querySelector(`.citation-content`);e&&(l=e)}else{if(e.id.toLowerCase().startsWith(`bib.bib`))c=e.id.replace(`bib.bib`,``).toLowerCase();else if(e.id.toLowerCase().startsWith(`fn:`))c=e.id.replace(`fn:`,``).toLowerCase();else if(e.id.toLowerCase().startsWith(`fn`))c=e.id.replace(`fn`,``).toLowerCase();else if(e.hasAttribute(`data-counter`))c=(o=(a=e.getAttribute(`data-counter`))?.replace(/\.$/,``))?.toLowerCase()||``;else{let t=(s=e.id.split(`/`).pop())?.match(/cite_note-(.+)/);c=t?t[1].toLowerCase():e.id.toLowerCase()}l=e}c&&!i.has(c)&&(t[n]={content:l||e,originalId:c,refs:[]},i.add(c),n++)})}),t}findOuterFootnoteContainer(e){let t=e,n=e.parentElement;for(;n&&(n.tagName.toLowerCase()===`span`||n.tagName.toLowerCase()===`sup`);)t=n,n=n.parentElement;return t}createFootnoteReference(e,t){let n=this.doc.createElement(`sup`);n.id=t;let r=this.doc.createElement(`a`);return r.href=`#fn:${e}`,r.textContent=e,n.appendChild(r),n}standardizeFootnotes(e){let t=this.collectFootnotes(e),n=e.querySelectorAll(r.FOOTNOTE_INLINE_REFERENCES),i=new Map;n.forEach(e=>{var n,r,a,o;if(!e)return;let s=``,c=``;if(e.matches(`a[id^="ref-link"]`))s=(n=e.textContent)?.trim()||``;else if(e.matches(`a[role="doc-biblioref"]`)){let t=e.getAttribute(`data-xml-rid`);if(t)s=t;else{let t=e.getAttribute(`href`);t!=null&&t.startsWith(`#core-R`)&&(s=t.replace(`#core-`,``))}}else if(e.matches(`a.footnote-anchor, span.footnote-hovercard-target a`)){let t=(r=e.id)?.replace(`footnote-anchor-`,``)||``;t&&(s=t.toLowerCase())}else if(e.matches(`cite.ltx_cite`)){let t=e.querySelector(`a`);if(t){let e=t.getAttribute(`href`);if(e){let t=(a=e.split(`/`).pop())?.match(/bib\.bib(\d+)/);t&&(s=t[1].toLowerCase())}}}else if(e.matches(`sup.reference`)){let t=e.querySelectorAll(`a`);Array.from(t).forEach(e=>{var t;let n=e.getAttribute(`href`);if(n){let e=(t=n.split(`/`).pop())?.match(/(?:cite_note|cite_ref)-(.+)/);e&&(s=e[1].toLowerCase())}})}else if(e.matches(`sup[id^="fnref:"]`))s=e.id.replace(`fnref:`,``).toLowerCase();else if(e.matches(`sup[id^="fnr"]`))s=e.id.replace(`fnr`,``).toLowerCase();else if(e.matches(`span.footnote-reference`))s=e.getAttribute(`data-footnote-id`)||``;else if(e.matches(`span.footnote-link`))s=e.getAttribute(`data-footnote-id`)||``,c=e.getAttribute(`data-footnote-content`)||``;else if(e.matches(`a.citation`))s=(o=e.textContent)?.trim()||``,c=e.getAttribute(`href`)||``;else if(e.matches(`a[id^="fnref"]`))s=e.id.replace(`fnref`,``).toLowerCase();else{let t=e.getAttribute(`href`);if(t){let e=t.replace(/^[#]/,``);s=e.toLowerCase()}}if(s){let n=Object.entries(t).find(([e,t])=>t.originalId===s.toLowerCase());if(n){let[t,r]=n,a=r.refs.length>0?`fnref:${t}-${r.refs.length+1}`:`fnref:${t}`;r.refs.push(a);let o=this.findOuterFootnoteContainer(e);o.tagName.toLowerCase()===`sup`?(i.has(o)||i.set(o,[]),i.get(o).push(this.createFootnoteReference(t,a))):o.replaceWith(this.createFootnoteReference(t,a))}}}),i.forEach((e,t)=>{if(e.length>0){let n=this.doc.createDocumentFragment();e.forEach(e=>{let t=e.querySelector(`a`);if(t){let r=this.doc.createElement(`sup`);r.id=e.id,r.appendChild(t.cloneNode(!0)),n.appendChild(r)}}),t.replaceWith(n)}});let a=this.doc.createElement(`div`);a.id=`footnotes`;let o=this.doc.createElement(`ol`);Object.entries(t).forEach(([e,t])=>{let n=this.createFootnoteItem(parseInt(e),t.content,t.refs);o.appendChild(n)}),e.querySelectorAll(r.FOOTNOTE_LIST_SELECTORS).forEach(e=>e.remove()),o.children.length>0&&(a.appendChild(o),e.appendChild(a))}}},628:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.Defuddle=void 0;let r=n(608),i=n(917),a=n(640),o=n(840),s=n(968),c=n(552);t.Defuddle=class{constructor(e,t={}){this.doc=e,this.options=t,this.debug=t.debug||!1}parse(){let e=this.parseInternal();if(e.wordCount<200){console.log(`Initial parse returned very little content, trying again`);let t=this.parseInternal({removePartialSelectors:!1});if(t.wordCount>e.wordCount)return this._log(`Retry produced more content`),t}return e}parseInternal(e={}){var t,n,a;let c=Date.now(),l=Object.assign(Object.assign({removeExactSelectors:!0,removePartialSelectors:!0},this.options),e),u=this._extractSchemaOrgData(this.doc),d=[];this.doc.querySelectorAll(`meta`).forEach(e=>{let t=e.getAttribute(`name`),n=e.getAttribute(`property`),r=e.getAttribute(`content`);r&&d.push({name:t,property:n,content:this._decodeHTMLEntities(r)})});let f=r.MetadataExtractor.extract(this.doc,u,d);try{let e=l.url||this.doc.URL,r=i.ExtractorRegistry.findExtractor(this.doc,e,u);if(r&&r.canExtract()){let e=r.extract(),i=Date.now();return{content:e.contentHtml,title:(t=e.variables)?.title||f.title,description:f.description,domain:f.domain,favicon:f.favicon,image:f.image,published:(n=e.variables)?.published||f.published,author:(a=e.variables)?.author||f.author,site:f.site,schemaOrgData:f.schemaOrgData,wordCount:this.countWords(e.contentHtml),parseTime:Math.round(i-c),extractorType:r.constructor.name.replace(`Extractor`,``).toLowerCase(),metaTags:d}}let p=this._evaluateMediaQueries(this.doc),m=this.findSmallImages(this.doc),h=this.doc.cloneNode(!0);this.applyMobileStyles(h,p);let g=this.findMainContent(h);if(!g){let e=Date.now();return Object.assign(Object.assign({content:this.doc.body.innerHTML},f),{wordCount:this.countWords(this.doc.body.innerHTML),parseTime:Math.round(e-c),metaTags:d})}this.removeSmallImages(h,m),this.removeHiddenElements(h),s.ContentScorer.scoreAndRemove(h,this.debug),(l.removeExactSelectors||l.removePartialSelectors)&&this.removeBySelector(h,l.removeExactSelectors,l.removePartialSelectors),(0,o.standardizeContent)(g,f,this.doc,this.debug);let _=g.outerHTML,v=Date.now();return Object.assign(Object.assign({content:_},f),{wordCount:this.countWords(_),parseTime:Math.round(v-c),metaTags:d})}catch(e){console.error(`Defuddle`,`Error processing document:`,e);let t=Date.now();return Object.assign(Object.assign({content:this.doc.body.innerHTML},f),{wordCount:this.countWords(this.doc.body.innerHTML),parseTime:Math.round(t-c),metaTags:d})}}countWords(e){let t=this.doc.createElement(`div`);return t.innerHTML=e,(t.textContent||``).trim().replace(/\s+/g,` `).split(` `).filter(e=>e.length>0).length}_log(...e){this.debug&&console.log(`Defuddle:`,...e)}_evaluateMediaQueries(e){let t=[],n=/max-width[^:]*:\s*(\d+)/;try{let r=Array.from(e.styleSheets).filter(e=>{try{return e.cssRules,!0}catch(e){return e instanceof DOMException&&e.name,!1}});r.flatMap(e=>{try{return typeof CSSMediaRule>`u`?[]:Array.from(e.cssRules).filter(e=>e instanceof CSSMediaRule&&e.conditionText.includes(`max-width`))}catch(e){return this.debug&&console.warn(`Defuddle: Failed to process stylesheet:`,e),[]}}).forEach(e=>{let r=e.conditionText.match(n);if(r){let n=parseInt(r[1]);a.MOBILE_WIDTH<=n&&Array.from(e.cssRules).filter(e=>e instanceof CSSStyleRule).forEach(e=>{try{t.push({selector:e.selectorText,styles:e.style.cssText})}catch(e){this.debug&&console.warn(`Defuddle: Failed to process CSS rule:`,e)}})}})}catch(e){console.error(`Defuddle: Error evaluating media queries:`,e)}return t}applyMobileStyles(e,t){t.forEach(({selector:t,styles:n})=>{try{e.querySelectorAll(t).forEach(e=>{e.setAttribute(`style`,(e.getAttribute(`style`)||``)+n)})}catch(e){console.error(`Defuddle`,`Error applying styles for selector:`,t,e)}})}removeHiddenElements(e){let t=0,n=new Set,r=Array.from(e.getElementsByTagName(`*`));for(let i=0;i<r.length;i+=100){let a=r.slice(i,i+100),o=a.map(t=>{var n,r;try{return(n=t.ownerDocument.defaultView)?.getComputedStyle(t)}catch{let n=t.getAttribute(`style`);if(!n)return null;let i=e.createElement(`style`);i.textContent=`* { ${n} }`,e.head.appendChild(i);let a=(r=t.ownerDocument.defaultView)?.getComputedStyle(t);return e.head.removeChild(i),a}});a.forEach((e,r)=>{let i=o[r];!i||i.display!==`none`&&i.visibility!==`hidden`&&i.opacity!==`0`||(n.add(e),t++)})}this._log(`Removed hidden elements:`,t)}removeBySelector(e,t=!0,n=!0){let r=Date.now(),i=0,o=0,s=new Set;if(t&&e.querySelectorAll(a.EXACT_SELECTORS.join(`,`)).forEach(e=>{e!=null&&e.parentNode&&(s.add(e),i++)}),n){let t=a.PARTIAL_SELECTORS.join(`|`),n=new RegExp(t,`i`),r=a.TEST_ATTRIBUTES.map(e=>`[${e}]`).join(`,`);e.querySelectorAll(r).forEach(e=>{if(s.has(e))return;let t=a.TEST_ATTRIBUTES.map(t=>t===`class`?e.className&&typeof e.className==`string`?e.className:``:t===`id`?e.id||``:e.getAttribute(t)||``).join(` `).toLowerCase();t.trim()&&n.test(t)&&(s.add(e),o++)})}s.forEach(e=>e.remove());let c=Date.now();this._log(`Removed clutter elements:`,{exactSelectors:i,partialSelectors:o,total:s.size,processingTime:`${(c-r).toFixed(2)}ms`})}findSmallImages(e){let t=new Set,n=/scale\(([\d.]+)\)/,r=Date.now(),i=0,a=[...Array.from(e.getElementsByTagName(`img`)),...Array.from(e.getElementsByTagName(`svg`))];if(a.length===0)return t;let o=a.map(e=>({element:e,naturalWidth:e.tagName.toLowerCase()===`img`&&parseInt(e.getAttribute(`width`)||`0`)||0,naturalHeight:e.tagName.toLowerCase()===`img`&&parseInt(e.getAttribute(`height`)||`0`)||0,attrWidth:parseInt(e.getAttribute(`width`)||`0`),attrHeight:parseInt(e.getAttribute(`height`)||`0`)}));for(let e=0;e<o.length;e+=50){let r=o.slice(e,e+50);try{let e=r.map(({element:e})=>{var t;try{return(t=e.ownerDocument.defaultView)?.getComputedStyle(e)}catch{return null}}),a=r.map(({element:e})=>{try{return e.getBoundingClientRect()}catch{return null}});r.forEach((r,o)=>{var s;try{let c=e[o],l=a[o];if(!c)return;let u=c.transform,d=u?parseFloat((s=u.match(n))?.[1]||`1`):1,f=[r.naturalWidth,r.attrWidth,parseInt(c.width)||0,l?l.width*d:0].filter(e=>typeof e==`number`&&e>0),p=[r.naturalHeight,r.attrHeight,parseInt(c.height)||0,l?l.height*d:0].filter(e=>typeof e==`number`&&e>0);if(f.length>0&&p.length>0){let e=Math.min(...f),n=Math.min(...p);if(e<33||n<33){let e=this.getElementIdentifier(r.element);e&&(t.add(e),i++)}}}catch(e){this.debug&&console.warn(`Defuddle: Failed to process element dimensions:`,e)}})}catch(e){this.debug&&console.warn(`Defuddle: Failed to process batch:`,e)}}let s=Date.now();return this._log(`Found small elements:`,{count:i,processingTime:`${(s-r).toFixed(2)}ms`}),t}removeSmallImages(e,t){let n=0;[`img`,`svg`].forEach(r=>{let i=e.getElementsByTagName(r);Array.from(i).forEach(e=>{let r=this.getElementIdentifier(e);r&&t.has(r)&&(e.remove(),n++)})}),this._log(`Removed small elements:`,n)}getElementIdentifier(e){if(e.tagName.toLowerCase()===`img`){let t=e.getAttribute(`data-src`);if(t)return`src:${t}`;let n=e.getAttribute(`src`)||``,r=e.getAttribute(`srcset`)||``,i=e.getAttribute(`data-srcset`);if(n)return`src:${n}`;if(r)return`srcset:${r}`;if(i)return`srcset:${i}`}let t=e.id||``,n=e.className||``,r=e.tagName.toLowerCase()===`svg`&&e.getAttribute(`viewBox`)||``;return t?`id:${t}`:r?`viewBox:${r}`:n?`class:${n}`:null}findMainContent(e){let t=[];if(a.ENTRY_POINT_ELEMENTS.forEach((n,r)=>{e.querySelectorAll(n).forEach(e=>{let n=40*(a.ENTRY_POINT_ELEMENTS.length-r);n+=s.ContentScorer.scoreElement(e),t.push({element:e,score:n})})}),t.length===0)return this.findContentByScoring(e);if(t.sort((e,t)=>t.score-e.score),this.debug&&this._log(`Content candidates:`,t.map(e=>({element:e.element.tagName,selector:this.getElementSelector(e.element),score:e.score}))),t.length===1&&t[0].element.tagName.toLowerCase()===`body`){let t=this.findTableBasedContent(e);if(t)return t}return t[0].element}findTableBasedContent(e){if(!Array.from(e.getElementsByTagName(`table`)).some(e=>{let t=parseInt(e.getAttribute(`width`)||`0`),n=this.getComputedStyle(e);return t>400||n?.width.includes(`px`)&&parseInt(n.width)>400||e.getAttribute(`align`)===`center`||e.className.toLowerCase().includes(`content`)||e.className.toLowerCase().includes(`article`)}))return null;let t=Array.from(e.getElementsByTagName(`td`));return s.ContentScorer.findBestElement(t)}findContentByScoring(e){let t=[];return a.BLOCK_ELEMENTS.forEach(n=>{Array.from(e.getElementsByTagName(n)).forEach(e=>{let n=s.ContentScorer.scoreElement(e);n>0&&t.push({score:n,element:e})})}),t.length>0?t.sort((e,t)=>t.score-e.score)[0].element:null}getElementSelector(e){let t=[],n=e;for(;n&&n!==this.doc.documentElement;){let e=n.tagName.toLowerCase();n.id?e+=`#`+n.id:n.className&&typeof n.className==`string`&&(e+=`.`+n.className.trim().split(/\s+/).join(`.`)),t.unshift(e),n=n.parentElement}return t.join(` > `)}getComputedStyle(e){return(0,c.getComputedStyle)(e)}_extractSchemaOrgData(e){let t=e.querySelectorAll(`script[type="application/ld+json"]`),n=[];t.forEach(e=>{let t=e.textContent||``;try{t=t.replace(/\/\*[\s\S]*?\*\/|^\s*\/\/.*$/gm,``).replace(/^\s*<!\[CDATA\[([\s\S]*?)\]\]>\s*$/,`$1`).replace(/^\s*(\*\/|\/\*)\s*|\s*(\*\/|\/\*)\s*$/g,``).trim();let e=JSON.parse(t);e[`@graph`]&&Array.isArray(e[`@graph`])?n.push(...e[`@graph`]):n.push(e)}catch(e){console.error(`Defuddle: Error parsing schema.org data:`,e),this.debug&&console.error(`Defuddle: Problematic JSON content:`,t)}});let r=e=>{if(typeof e==`string`)return this._decodeHTMLEntities(e);if(Array.isArray(e))return e.map(r);if(typeof e==`object`&&e){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=r(e[n]));return t}return e};return n.map(r)}_decodeHTMLEntities(e){let t=this.doc.createElement(`textarea`);return t.innerHTML=e,t.value}}},632:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.ChatGPTExtractor=void 0;let r=n(181);class i extends r.ConversationExtractor{constructor(e,t){super(e,t),this.articles=e.querySelectorAll(`article[data-testid^="conversation-turn-"]`),this.footnotes=[],this.footnoteCounter=0}canExtract(){return!!this.articles&&this.articles.length>0}extractMessages(){let e=[];return this.footnotes=[],this.footnoteCounter=0,this.articles&&this.articles.forEach(t=>{var n,r;let i=t.querySelector(`h5.sr-only, h6.sr-only`),a=(r=(n=i?.textContent)?.trim())?.replace(/:\s*$/,``)||``,o=``,s=t.getAttribute(`data-message-author-role`);s&&(o=s);let c=t.innerHTML||``;c=c.replace(/\u200B/g,``);let l=document.createElement(`div`);l.innerHTML=c,l.querySelectorAll(`h5.sr-only, h6.sr-only, span[data-state="closed"]`).forEach(e=>e.remove()),c=l.innerHTML,c=c.replace(/(&ZeroWidthSpace;)?(<span[^>]*?>\s*<a(?=[^>]*?href="([^"]+)")(?=[^>]*?target="_blank")(?=[^>]*?rel="noopener")[^>]*?>[\s\S]*?<\/a>\s*<\/span>)/gi,(e,t,n,r)=>{let i=``,a=``;try{i=new URL(r).hostname.replace(/^www\./,``);let e=r.split(`#:~:text=`);if(e.length>1){a=decodeURIComponent(e[1]),a=a.replace(/%2C/g,`,`);let t=a.split(`,`);a=t.length>1&&t[0].trim()?` \u2014 ${t[0].trim()}...`:t[0].trim()?` \u2014 ${a.trim()}`:``}}catch(e){console.error(`Failed to parse URL: ${r}`,e),i=r}let o,s=this.footnotes.findIndex(e=>e.url===r);return s===-1?(this.footnoteCounter++,o=this.footnoteCounter,this.footnotes.push({url:r,text:`<a href="${r}">${i}</a>${a}`})):o=s+1,`<sup id="fnref:${o}"><a href="#fn:${o}">${o}</a></sup>`}),c=c.replace(/<p[^>]*>\s*<\/p>/g,``),e.push({author:a,content:c.trim(),metadata:{role:o||`unknown`}})}),e}getFootnotes(){return this.footnotes}getMetadata(){let e=this.getTitle(),t=this.extractMessages();return{title:e,site:`ChatGPT`,url:this.url,messageCount:t.length,description:`ChatGPT conversation with ${t.length} messages`}}getTitle(){var e,t,n;let r=(e=this.document.title)?.trim();if(r&&r!==`ChatGPT`)return r;let i=(n=(t=this.articles)?.item(0))?.querySelector(`.text-message`);if(i){let e=i.textContent||``;return e.length>50?e.slice(0,50)+`...`:e}return`ChatGPT Conversation`}}t.ChatGPTExtractor=i},640:(e,t)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.ALLOWED_ATTRIBUTES_DEBUG=t.ALLOWED_ATTRIBUTES=t.ALLOWED_EMPTY_ELEMENTS=t.FOOTNOTE_LIST_SELECTORS=t.FOOTNOTE_INLINE_REFERENCES=t.PARTIAL_SELECTORS=t.TEST_ATTRIBUTES=t.EXACT_SELECTORS=t.INLINE_ELEMENTS=t.PRESERVE_ELEMENTS=t.BLOCK_ELEMENTS=t.MOBILE_WIDTH=t.ENTRY_POINT_ELEMENTS=void 0,t.ENTRY_POINT_ELEMENTS=[`#post`,`.post-content`,`.article-content`,`#article-content`,`.article_post`,`.article-wrapper`,`.entry-content`,`.content-article`,`.post`,`.markdown-body`,`article`,`[role="article"]`,`main`,`[role="main"]`,`body`],t.MOBILE_WIDTH=600,t.BLOCK_ELEMENTS=[`div`,`section`,`article`,`main`,`aside`,`header`,`footer`,`nav`,`content`],t.PRESERVE_ELEMENTS=new Set([`pre`,`code`,`table`,`thead`,`tbody`,`tr`,`td`,`th`,`ul`,`ol`,`li`,`dl`,`dt`,`dd`,`figure`,`figcaption`,`picture`,`details`,`summary`,`blockquote`,`form`,`fieldset`]),t.INLINE_ELEMENTS=new Set([`a`,`span`,`strong`,`em`,`i`,`b`,`u`,`code`,`br`,`small`,`sub`,`sup`,`mark`,`date`,`del`,`ins`,`q`,`abbr`,`cite`,`relative-time`,`time`,`font`]),t.EXACT_SELECTORS=`noscript,script:not([type^="math/"]),style,meta,link,.ad:not([class*="gradient"]),[class^="ad-" i],[class$="-ad" i],[id^="ad-" i],[id$="-ad" i],[role="banner" i],[alt*="advert" i],.promo,.Promo,#barrier-page,.alert,[id="comments" i],[id="comment" i],header,.header:not(.banner),#header,#Header,#banner,#Banner,nav,.navigation,#navigation,.hero,[role="navigation" i],[role="dialog" i],[role*="complementary" i],[class*="pagination" i],.menu,#menu,#siteSub,.previous,.author,.Author,[class$="_bio"],#categories,.contributor,.date,#date,[data-date],.entry-meta,.meta,.tags,#tags,.toc,.Toc,#toc,.headline,#headline,#title,#Title,#articleTag,[href*="/category"],[href*="/categories"],[href*="/tag/"],[href*="/tags/"],[href*="/topics"],[href*="author"],[href*="#toc"],[href="#top"],[href="#Top"],[href="#page-header"],[href="#content"],[href="#site-content"],[href="#main-content"],[href^="#main"],[src*="author"],footer,.aside,aside,button,canvas,date,dialog,fieldset,form,input:not([type="checkbox"]),label,option,select,textarea,time,relative-time,[hidden],[aria-hidden="true"]:not([class*="math"]),[style*="display: none"]:not([class*="math"]),[style*="display:none"]:not([class*="math"]),[style*="visibility: hidden"],[style*="visibility:hidden"],.hidden,.invisible,instaread-player,iframe:not([src*="youtube"]):not([src*="youtu.be"]):not([src*="vimeo"]):not([src*="twitter"]):not([src*="x.com"]):not([src*="datawrapper"]),[class="logo" i],#logo,#Logo,#newsletter,#Newsletter,.subscribe,.noprint,[data-print-layout="hide" i],[data-block="donotprint" i],[class*="clickable-icon" i],li span[class*="ltx_tag" i][class*="ltx_tag_item" i],a[href^="#"][class*="anchor" i],a[href^="#"][class*="ref" i],[data-container*="most-viewed" i],.sidebar,.Sidebar,#sidebar,#Sidebar,#sitesub,[data-link-name*="skip" i],[aria-label*="skip" i],#skip-link,.copyright,#copyright,#rss,#feed,.gutter,#primaryaudio,#NYT_ABOVE_MAIN_CONTENT_REGION,[data-testid="photoviewer-children-figure"] > span,table.infobox,.pencraft:not(.pc-display-contents),[data-optimizely="related-articles-section" i],[data-orientation="vertical"]`.split(`,`),t.TEST_ATTRIBUTES=[`class`,`id`,`data-test`,`data-testid`,`data-test-id`,`data-qa`,`data-cy`],t.PARTIAL_SELECTORS=`a-statement.access-wall.activitypub.actioncall.addcomment.advert.adlayout.ad-tldr.ad-placement.ads-container._ad_.after_content.after_main_article.afterpost.allterms.-alert-.alert-box.appendix._archive.around-the-web.aroundpages.article-author.article-badges.article-banner.article-bottom-section.article-bottom.article-category.article-card.article-citation.article__copy.article_date.article-date.article-end .article_header.article-header.article__header.article__hero.article__info.article-info.article-meta.article_meta.article__meta.articlename.article-subject.article_subject.article-snippet.article-separator.article--share.article--topics.articletags.article-tags.article_tags.articletitle.article-title.article_title.articletopics.article-topics.article--lede.articlewell.associated-people.audio-card.author-bio.author-box.author-info.author_info.authorm.author-mini-bio.author-name.author-publish-info.authored-by.avatar.back-to-top.backlink_container.backlinks-section.bio-block.biobox.blog-pager.bookmark-.-bookmark.bottominfo.bottomnav.bottom-of-article.bottom-wrapper.brand-bar.breadcrumb.brdcrumb.button-wrapper.buttons-container.btn-.-btn.byline.captcha.card-text.card-media.card-post.carouselcontainer.carousel-container.cat_header.catlinks._categories.card-author.card-content.chapter-list.collections.comments.commentbox.comment-button.commentcomp.comment-content.comment-count.comment-form.comment-number.comment-respond.comment-thread.comment-wrap.complementary.consent.contact-.content-card.content-topics.contentpromo.context-bar.context-widget.core-collateral.cover-.created-date.creative-commons_.c-subscribe._cta.-cta.cta-.cta_.current-issue.custom-list-number.dateline.dateheader.date-header.date-pub.disclaimer.disclosure.discussion.discuss_.disqus.donate.donation.dropdown.eletters.emailsignup.engagement-widget.enhancement.entry-author-info.entry-categories.entry-date.entry-title.entry-utility.-error.error-.eyebrow.expand-reduce.external-anchor.externallinkembedwrapper.extra-services.extra-title.facebook.fancy-box.favorite.featured-content.feature_feed.feedback.feed-links.field-site-sections.fixheader.floating-vid.follower.footer.footnote-back.footnoteback.form-group.for-you.frontmatter.further-reading.fullbleedheader.gated-.gh-feed.gist-meta.goog-.graph-view.hamburger.header_logo.header-logo.header-pattern.hero-list.hide-for-print.hide-print.hide-when-no-script.hidden-print.hidden-sidenote.hidden-accessibility.infoline.instacartIntegration.interlude.interaction.itemendrow.invisible.jumplink.jump-to-.keepreading.keep-reading.keep_reading.keyword_wrap.kicker.labstab.-labels.language-name.lastupdated.latest-content.-ledes-.-license.license-.lightbox-popup.like-button.link-box.links-grid.links-title.listing-dynamic-terms.list-tags.listinks.loading.loa-info.logo_container.ltx_role_refnum.ltx_tag_bibitem.ltx_error.masthead.marketing.media-inquiry.-menu.menu-.metadata.might-like.minibio.more-about._modal.-modal.more-.morenews.morestories.more_wrapper.most-read.move-helper.mw-editsection.mw-cite-backlink.mw-indicators.mw-jump-link.nav-.nav_.navigation-post.next-.newsgallery.news-story-title.newsletter_.newsletterbanner.newslettercontainer.newsletter-form.newsletter-signup.newslettersignup.newsletterwidget.newsletterwrapper.not-found.notessection.nomobile.noprint.open-slideshow.originally-published.other-blogs.outline-view.pagehead.page-header.page-title.paywall_message.-partners.permission-.plea.popular.popup_links.pop_stories.pop-up.post-author.post-bottom.post__category.postcomment.postdate.post-date.post_date.post-details.post-feeds.postinfo.post-info.post_info.post-inline-date.post-links.postlist.post_list.post_meta.post-meta.postmeta.post_more.postnavi.post-navigation.postpath.post-preview.postsnippet.post_snippet.post-snippet.post-subject.posttax.post-tax.post_tax.posttag.post_tag.post-tag.post_time.posttitle.post-title.post_title.post__title.post-ufi-button.prev-post.prevnext.prev_next.prev-next.previousnext.press-inquiries.print-none.print-header.print:hidden.privacy-notice.privacy-settings.profile.promo_article.promo-bar.promo-box.pubdate.pub_date.pub-date.publish_date.publish-date.publication-date.publicationName.qr-code.qr_code.quick_up._rail.ratingssection.read_also.readmore.read-next.read_next.read_time.read-time.reading_time.reading-time.reading-list.recent-.recent-articles.recentpost.recent_post.recent-post.recommend.redirectedfrom.recirc.register.related.relevant.reversefootnote._rss.rss-link.screen-reader-text.scroll_to.scroll-to._search.-search.section-nav.series-banner.share-box.sharedaddy.share-icons.sharelinks.share-post.share-print.share-section.show-for-print.sidebartitle.sidebar-content.sidebar-wrapper.sideitems.sidebar-author.sidebar-item.side-box.side-logo.sign-in-gate.similar-.similar_.similars-.site-index.site-header.siteheader.site-logo.site-name.site-wordpress.skip-content.skip-to-content.c-skip-link._skip-link.-slider.slug-wrap.social-author.social-shar.social-date.speechify-ignore.speedbump.sponsor.springercitation.sr-only._stats.story-date.story-navigation.storyreadtime.storysmall.storypublishdate.subject-label.subhead.submenu.-subscribe-.subscriber-drive.subscription-._tags.tags__item.tag_list.taxonomy.table-of-contents.tabs-.terminaltout.time-rubric.timestamp.time-read.time-to-read.tip_off.tiptout.-tout-.toc-container.toggle-caption.tooltip.topbar.topic-list.topic-subnav.top-wrapper.tree-item.trending.trust-feat.trust-badge.trust-project.twitter.u-hide.upsell.viewbottom.visually-hidden.welcomebox.widget_pages`.split(`.`),t.FOOTNOTE_INLINE_REFERENCES=[`sup.reference`,`cite.ltx_cite`,`sup[id^="fnr"]`,`span[id^="fnr"]`,`span[class*="footnote_ref"]`,`span.footnote-link`,`a.citation`,`a[id^="ref-link"]`,`a[href^="#fn"]`,`a[href^="#cite"]`,`a[href^="#reference"]`,`a[href^="#footnote"]`,`a[href^="#r"]`,`a[href^="#b"]`,`a[href*="cite_note"]`,`a[href*="cite_ref"]`,`a.footnote-anchor`,`span.footnote-hovercard-target a`,`a[role="doc-biblioref"]`,`a[id^="fnref"]`,`a[id^="ref-link"]`].join(`,`),t.FOOTNOTE_LIST_SELECTORS=[`div.footnote ol`,`div.footnotes ol`,`div[role="doc-endnotes"]`,`div[role="doc-footnotes"]`,`ol.footnotes-list`,`ol.footnotes`,`ol.references`,`ol[class*="article-references"]`,`section.footnotes ol`,`section[role="doc-endnotes"]`,`section[role="doc-footnotes"]`,`section[role="doc-bibliography"]`,`ul.footnotes-list`,`ul.ltx_biblist`,`div.footnote[data-component-name="FootnoteToDOM"]`].join(`,`),t.ALLOWED_EMPTY_ELEMENTS=new Set(`area.audio.base.br.circle.col.defs.ellipse.embed.figure.g.hr.iframe.img.input.line.link.mask.meta.object.param.path.pattern.picture.polygon.polyline.rect.source.stop.svg.td.th.track.use.video.wbr`.split(`.`)),t.ALLOWED_ATTRIBUTES=new Set(`alt.allow.allowfullscreen.aria-label.checked.colspan.controls.data-latex.data-src.data-srcset.data-lang.dir.display.frameborder.headers.height.href.lang.role.rowspan.src.srcset.title.type.width.accent.accentunder.align.columnalign.columnlines.columnspacing.columnspan.data-mjx-texclass.depth.displaystyle.fence.frame.framespacing.linethickness.lspace.mathsize.mathvariant.maxsize.minsize.movablelimits.notation.rowalign.rowlines.rowspacing.rowspan.rspace.scriptlevel.separator.stretchy.symmetric.voffset.xmlns`.split(`.`)),t.ALLOWED_ATTRIBUTES_DEBUG=new Set([`class`,`id`])},649:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.imageRules=void 0;let r=n(552),i=/^data:image\/([^;]+);base64,/,a=/\.(jpg|jpeg|png|webp)\s+\d/,o=/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/,s=/\.(jpg|jpeg|png|webp|gif|avif)(\?.*)?$/i,c=/\s(\d+)w/,l=/dpr=(\d+(?:\.\d+)?)/,u=/^([^\s]+)/,d=/^[\w\-\.\/\\]+\.(jpg|jpeg|png|gif|webp|svg)$/i,f=/^\d{4}-\d{2}-\d{2}$/;function p(e,t,n){let i=n.createElement(`figure`);i.appendChild(e.cloneNode(!0));let a=n.createElement(`figcaption`),o=function(e){let t=[],n=new Set,i=e=>{var a;if((0,r.isTextNode)(e)){let r=(a=e.textContent)?.trim()||``;r&&!n.has(r)&&(t.push(r),n.add(r))}else if((0,r.isElement)(e)){let t=e.childNodes;for(let e=0;e<t.length;e++)i(t[e])}},a=e.childNodes;for(let e=0;e<a.length;e++)i(a[e]);return t.length>0?t.join(` `):e.innerHTML}(t);return a.innerHTML=o,i.appendChild(a),i}function m(e,t){t.setAttribute(`srcset`,e);let n=te(e);n&&v(n)&&t.setAttribute(`src`,n)}function h(e,t,n){for(let r=0;r<e.attributes.length;r++){let i=e.attributes[r];n.includes(i.name)||t.setAttribute(i.name,i.value)}}function g(e){let t=e.match(i);if(!t||t[1]===`svg+xml`)return!1;let n=t[0].length;return e.length-n<133}function _(e){return e.startsWith(`data:image/svg+xml`)}function v(e){return!e.startsWith(`data:`)&&!(!e||e.trim()===``)&&(s.test(e)||e.includes(`image`)||e.includes(`img`)||e.includes(`photo`))}function y(e){return b(e)?!0:e.querySelectorAll(`img, video, picture, source`).length>0}function b(e){let t=e.tagName.toLowerCase();return t===`img`||t===`video`||t===`picture`||t===`source`}function x(e){if(b(e))return e;let t=e.querySelectorAll(`picture`);if(t.length>0)return t[0];let n=e.querySelectorAll(`img`),r=[];for(let e=0;e<n.length;e++){let t=n[e],i=t.getAttribute(`src`)||``,a=t.getAttribute(`alt`)||``;i.includes(`data:image/svg+xml`)||g(i)||!a.trim()&&n.length>1||r.push(t)}if(r.length>0)return r[0];let i=e.querySelectorAll(`video`);if(i.length>0)return i[0];let a=e.querySelectorAll(`source`);if(a.length>0)return a[0];let o=e.querySelectorAll(`img, picture, source, video`);return o.length>0?o[0]:null}function S(e){var t,n,r,i;let a=e.querySelector(`figcaption`);if(a)return a;let o=new Set,s=[`[class*="caption"]`,`[class*="description"]`,`[class*="alt"]`,`[class*="title"]`,`[class*="credit"]`,`[class*="text"]`,`[class*="post-thumbnail-text"]`,`[class*="image-caption"]`,`[class*="photo-caption"]`,`[aria-label]`,`[title]`].join(`, `),c=e.querySelectorAll(s);for(let e=0;e<c.length;e++){let n=c[e];if(b(n))continue;let r=(t=n.textContent)?.trim();if(r&&r.length>0&&!o.has(r))return o.add(r),n}let l=e.querySelector(`img`);if(l&&l.hasAttribute(`alt`)){let t=l.getAttribute(`alt`);if(t&&t.trim().length>0){let n=e.ownerDocument.createElement(`div`);return n.textContent=t,n}}if(e.parentElement){let t=e.parentElement.children;for(let r=0;r<t.length;r++){let i=t[r];if(i!==e&&Array.from(i.classList).some(e=>e.includes(`caption`)||e.includes(`credit`)||e.includes(`text`)||e.includes(`description`))){let e=(n=i.textContent)?.trim();if(e&&e.length>0)return i}}}let u=e.querySelectorAll(`img`);for(let e=0;e<u.length;e++){let t=u[e];if(!t.parentElement)continue;let n=t.nextElementSibling;for(;n;){if([`EM`,`STRONG`,`SPAN`,`I`,`B`,`SMALL`,`CITE`].includes(n.tagName)){let e=(r=n.textContent)?.trim();if(e&&e.length>0)return n}n=n.nextElementSibling}}for(let e=0;e<u.length;e++){let t=u[e],n=t.parentElement;if(!n)continue;let r=n.querySelectorAll(`em, strong, span, i, b, small, cite`);for(let e=0;e<r.length;e++){let n=r[e];if(n===t)continue;let a=(i=n.textContent)?.trim();if(a&&a.length>0)return n}}return null}function C(e){var t;let n=(t=e.textContent)?.trim()||``;return!(n.length<10||n.startsWith(`http://`)||n.startsWith(`https://`))&&!d.test(n)&&!n.match(/^\d+$/)&&!f.test(n)}function w(e,t){let n=e.tagName.toLowerCase();if(n===`img`)return ee(e,t);if(n===`picture`){let n=e.querySelector(`img`);return n?ee(n,t):e.cloneNode(!0)}return n===`source`?function(e,t){let n=t.createElement(`img`),r=e.getAttribute(`srcset`);r&&m(r,n);let i=e.parentElement;if(i){let e=i.querySelectorAll(`img`),t=[];for(let n=0;n<e.length;n++){let r=e[n],i=r.getAttribute(`src`)||``;g(i)||_(i)||i===``||t.push(r)}if(t.length>0){if(h(t[0],n,[`src`,`srcset`]),!n.hasAttribute(`src`)||!v(n.getAttribute(`src`)||``)){let e=t[0].getAttribute(`src`);e&&v(e)&&n.setAttribute(`src`,e)}}else{let e=i.querySelector(`img[data-src]`);if(e&&(h(e,n,[`src`,`srcset`]),!n.hasAttribute(`src`)||!v(n.getAttribute(`src`)||``))){let t=e.getAttribute(`data-src`);t&&v(t)&&n.setAttribute(`src`,t)}}}return n}(e,t):e.cloneNode(!0)}function ee(e,t){let n=e.getAttribute(`src`)||``;if(g(n)||_(n)){let n=e.parentElement;if(n){let r=n.querySelectorAll(`source`),i=[];for(let e=0;e<r.length;e++){let t=r[e];t.hasAttribute(`data-srcset`)&&t.getAttribute(`data-srcset`)!==``&&i.push(t)}if(i.length>0){let n=t.createElement(`img`),r=e.getAttribute(`data-src`);return r&&!_(r)&&n.setAttribute(`src`,r),h(e,n,[`src`]),n}}}return e.cloneNode(!0)}function te(e){let t=e.split(`,`);if(t.length===0)return null;let n=t[0].trim().match(u);if(n&&n[1]){let e=n[1];if(_(e)){for(let e=1;e<t.length;e++){let n=t[e].trim().match(u);if(n&&n[1]&&!_(n[1]))return n[1]}return null}return e}return null}function T(e){if(e.length===0)return null;if(e.length===1)return e[0];for(let t=0;t<e.length;t++)if(!e[t].hasAttribute(`media`))return e[t];let t=null,n=0;for(let r=0;r<e.length;r++){let i=e[r],a=i.getAttribute(`srcset`);if(!a)continue;let o=a.match(c),s=a.match(l);if(o&&o[1]){let e=parseInt(o[1],10)*(s?parseFloat(s[1]):1);e>n&&(n=e,t=i)}}return t||e[0]}t.imageRules=[{selector:`picture`,element:`picture`,transform:(e,t)=>{let n=e.querySelectorAll(`source`),r=e.querySelector(`img`);if(!r){console.warn(`Picture element without img fallback:`,e.outerHTML);let r=T(n);if(r){let n=r.getAttribute(`srcset`);if(n){let r=t.createElement(`img`);return m(n,r),e.innerHTML=``,e.appendChild(r),e}}return e}let i=null,a=null;if(n.length>0){let e=T(n);e&&(i=e.getAttribute(`srcset`),i&&(a=te(i)))}if(i&&r.setAttribute(`srcset`,i),a&&v(a))r.setAttribute(`src`,a);else if(!r.hasAttribute(`src`)||!v(r.getAttribute(`src`)||``)){let e=te(r.getAttribute(`srcset`)||i||``);e&&v(e)&&r.setAttribute(`src`,e)}return n.forEach(e=>e.remove()),e}},{selector:`uni-image-full-width`,element:`figure`,transform:(e,t)=>{var n;let r=t.createElement(`figure`),i=t.createElement(`img`),a=e.querySelector(`img`);if(!a)return console.warn(`uni-image-full-width without img:`,e.outerHTML),r;let o=a.getAttribute(`src`),s=a.getAttribute(`data-loading`);if(s)try{let e=JSON.parse(s);e.desktop&&v(e.desktop)&&(o=e.desktop)}catch(e){console.warn(`Failed to parse data-loading attribute:`,s,e)}if(!o||!v(o))return console.warn(`Could not find valid src for uni-image-full-width:`,e.outerHTML),r;i.setAttribute(`src`,o);let c=a.getAttribute(`alt`);c||=e.getAttribute(`alt-text`),c&&i.setAttribute(`alt`,c),r.appendChild(i);let l=e.querySelector(`figcaption`);if(l){let e=(n=l.textContent)?.trim();if(e&&e.length>5){let n=t.createElement(`figcaption`),i=l.querySelector(`.rich-text p`);i?n.innerHTML=i.innerHTML:n.textContent=e,r.appendChild(n)}}return r}},{selector:`img[data-src], img[data-srcset], img[loading="lazy"], img.lazy, img.lazyload`,element:`img`,transform:(e,t)=>{let n=e.getAttribute(`src`)||``,r=function(e){if(e.hasAttribute(`data-src`)||e.hasAttribute(`data-srcset`))return!0;for(let t=0;t<e.attributes.length;t++){let n=e.attributes[t];if(n.name!==`src`&&(n.name.startsWith(`data-`)&&/\.(jpg|jpeg|png|webp|gif)(\?.*)?$/i.test(n.value)||/\.(jpg|jpeg|png|webp|gif)(\?.*)?$/i.test(n.value)))return!0}return!1}(e);g(n)&&r&&e.removeAttribute(`src`);let i=e.getAttribute(`data-src`);i&&!e.getAttribute(`src`)&&e.setAttribute(`src`,i);let s=e.getAttribute(`data-srcset`);s&&!e.getAttribute(`srcset`)&&e.setAttribute(`srcset`,s);for(let t=0;t<e.attributes.length;t++){let n=e.attributes[t];n.name!==`src`&&n.name!==`srcset`&&n.name!==`alt`&&(a.test(n.value)?e.setAttribute(`srcset`,n.value):o.test(n.value)&&e.setAttribute(`src`,n.value))}return e.classList.remove(`lazy`,`lazyload`),e.removeAttribute(`data-ll-status`),e.removeAttribute(`data-src`),e.removeAttribute(`data-srcset`),e.removeAttribute(`loading`),e}},{selector:`span:has(img)`,element:`span`,transform:(e,t)=>{try{if(!y(e))return e;let n=x(e);if(!n)return e;let r=S(e),i=w(n,t);if(r&&C(r)){let e=p(i,r,t);return r.parentNode&&r.parentNode.removeChild(r),e}return i}catch(t){return console.warn(`Error processing span with image:`,t),e}}},{selector:`figure, p:has([class*="caption"])`,element:`figure`,transform:(e,t)=>{try{if(!y(e))return e;let n=x(e);if(!n)return e;let r=S(e);if(r&&C(r)){let i=x(e),a;return i?a=i:(console.warn(`Figure rule couldn't find current image element in:`,e.outerHTML),a=w(n,t)),p(a,r,t)}return e}catch(t){return console.warn(`Error processing complex image element:`,t),e}}}]},732:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.GeminiExtractor=void 0;let r=n(181);class i extends r.ConversationExtractor{constructor(e,t){super(e,t),this.messageCount=null,this.conversationContainers=e.querySelectorAll(`div.conversation-container`),this.footnotes=[]}canExtract(){return!!this.conversationContainers&&this.conversationContainers.length>0}extractMessages(){this.messageCount=0;let e=[];return this.conversationContainers?(this.extractSources(),this.conversationContainers.forEach(t=>{let n=t.querySelector(`user-query`);if(n){let t=n.querySelector(`.query-text`);if(t){let n=t.innerHTML||``;e.push({author:`You`,content:n.trim(),metadata:{role:`user`}})}}let r=t.querySelector(`model-response`);if(r){let t=r.querySelector(`.model-response-text .markdown`),n=r.querySelector(`#extended-response-markdown-content`)||t;if(n){let t=n.innerHTML||``,r=document.createElement(`div`);r.innerHTML=t,r.querySelectorAll(`.table-content`).forEach(e=>{e.classList.remove(`table-content`)}),t=r.innerHTML,e.push({author:`Gemini`,content:t.trim(),metadata:{role:`assistant`}})}}}),this.messageCount=e.length,e):e}extractSources(){let e=this.document.querySelectorAll(`browse-item`);e&&e.length>0&&e.forEach(e=>{var t,n,r,i;let a=e.querySelector(`a`);if(a instanceof HTMLAnchorElement){let e=a.href,o=(n=(t=a.querySelector(`.domain`))?.textContent)?.trim()||``,s=(i=(r=a.querySelector(`.title`))?.textContent)?.trim()||``;e&&(o||s)&&this.footnotes.push({url:e,text:s?`${o}: ${s}`:o})}})}getFootnotes(){return this.footnotes}getMetadata(){var e;let t=this.getTitle(),n=(e=this.messageCount)??this.extractMessages().length;return{title:t,site:`Gemini`,url:this.url,messageCount:n,description:`Gemini conversation with ${n} messages`}}getTitle(){var e,t,n,r,i;let a=(e=this.document.title)?.trim();if(a&&a!==`Gemini`&&!a.includes(`Gemini`))return a;let o=(n=(t=this.document.querySelector(`.title-text`))?.textContent)?.trim();if(o)return o;let s=(i=(r=this.conversationContainers)?.item(0))?.querySelector(`.query-text`);if(s){let e=s.textContent||``;return e.length>50?e.slice(0,50)+`...`:e}return`Gemini Conversation`}}t.GeminiExtractor=i},754:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.codeBlockRules=void 0;let r=n(552),i=[/^language-(\w+)$/,/^lang-(\w+)$/,/^(\w+)-code$/,/^code-(\w+)$/,/^syntax-(\w+)$/,/^code-snippet__(\w+)$/,/^highlight-(\w+)$/,/^(\w+)-snippet$/,/(?:^|\s)(?:language|lang|brush|syntax)-(\w+)(?:\s|$)/i],a=new Set(`abap.actionscript.ada.adoc.agda.antlr4.applescript.arduino.armasm.asciidoc.aspnet.atom.bash.batch.c.clojure.cmake.cobol.coffeescript.cpp.c++.crystal.csharp.cs.dart.django.dockerfile.dotnet.elixir.elm.erlang.fortran.fsharp.gdscript.gitignore.glsl.golang.gradle.graphql.groovy.haskell.hs.haxe.hlsl.html.idris.java.javascript.js.jsx.jsdoc.json.jsonp.julia.kotlin.latex.lisp.elisp.livescript.lua.makefile.markdown.md.markup.masm.mathml.matlab.mongodb.mysql.nasm.nginx.nim.nix.objc.ocaml.pascal.perl.php.postgresql.powershell.prolog.puppet.python.regex.rss.ruby.rb.rust.scala.scheme.shell.sh.solidity.sparql.sql.ssml.svg.swift.tcl.terraform.tex.toml.typescript.ts.tsx.unrealscript.verilog.vhdl.webassembly.wasm.xml.yaml.yml.zig`.split(`.`));t.codeBlockRules=[{selector:[`pre`,`div[class*="prismjs"]`,`.syntaxhighlighter`,`.highlight`,`.highlight-source`,`.wp-block-syntaxhighlighter-code`,`.wp-block-code`,`div[class*="language-"]`].join(`, `),element:`pre`,transform:(e,t)=>{if(!(e=>`classList`in e&&`getAttribute`in e&&`querySelector`in e)(e))return e;let n=e=>{var t;let n=e.getAttribute(`data-lang`)||e.getAttribute(`data-language`);if(n)return n.toLowerCase();let r=Array.from(e.classList||[]);if((t=e.classList)?.contains(`syntaxhighlighter`)){let e=r.find(e=>![`syntaxhighlighter`,`nogutter`].includes(e));if(e&&a.has(e.toLowerCase()))return e.toLowerCase()}for(let e of r)for(let t of i){let n=e.toLowerCase().match(t);if(n&&n[1]&&a.has(n[1].toLowerCase()))return n[1].toLowerCase()}for(let e of r)if(a.has(e.toLowerCase()))return e.toLowerCase();return``},o=``,s=e;for(;s&&!o;){o=n(s);let e=s.querySelector(`code`);!o&&e&&(o=n(e)),s=s.parentElement}let c=e=>{if((0,r.isTextNode)(e))return e.textContent||``;let t=``;if((0,r.isElement)(e)){if(e.tagName===`BR`)return`
`;if(e.matches(`div[class*="line"], span[class*="line"], .ec-line, [data-line-number], [data-line]`)){let t=e.querySelector(`.code, .content, [class*="code-"], [class*="content-"]`);if(t)return(t.textContent||``)+`
`;let n=e.querySelector(`.line-number, .gutter, [class*="line-number"], [class*="gutter"]`);return n?Array.from(e.childNodes).filter(e=>!n.contains(e)).map(e=>c(e)).join(``)+`
`:e.textContent+`
`}e.childNodes.forEach(e=>{t+=c(e)})}return t},l=``;e.matches(`.syntaxhighlighter, .wp-block-syntaxhighlighter-code`)&&(l=(e=>{let t=e.querySelector(`.syntaxhighlighter table .code .container`);if(t)return Array.from(t.children).map(e=>{let t=Array.from(e.querySelectorAll(`code`)).map(e=>{var t;let n=e.textContent||``;return(t=e.classList)!=null&&t.contains(`spaces`)&&(n=` `.repeat(n.length)),n}).join(``);return t||e.textContent||``}).join(`
`);let n=e.querySelectorAll(`.code .line`);return n.length>0?Array.from(n).map(e=>{let t=Array.from(e.querySelectorAll(`code`)).map(e=>e.textContent||``).join(``);return t||e.textContent||``}).join(`
`):``})(e)),l||=c(e),l=l.replace(/^\s+|\s+$/g,``).replace(/\t/g,`    `).replace(/\n{3,}/g,`

`).replace(/\u00a0/g,` `).replace(/^\n+/,``).replace(/\n+$/,``);let u=t.createElement(`pre`),d=t.createElement(`code`);return o&&(d.setAttribute(`data-lang`,o),d.setAttribute(`class`,`language-${o}`)),d.textContent=l,u.appendChild(d),u}}]},840:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.standardizeContent=function(e,t,n,i=!1){(function(e){let t=e=>{if((0,l.isElement)(e)){let t=e.tagName.toLowerCase();if(t===`pre`||t===`code`)return}if((0,l.isTextNode)(e)){let t=e.textContent||``,n=t.replace(/\xA0+/g,t=>{var n,r,i,a;if(t.length===1){let t=(r=(n=e.previousSibling)?.textContent)?.slice(-1),o=(a=(i=e.nextSibling)?.textContent)?.charAt(0);if(t?.match(/\w/)&&o?.match(/\w/))return`\xA0`}return` `.repeat(t.length)});n!==t&&(e.textContent=n)}e.hasChildNodes()&&Array.from(e.childNodes).forEach(t)};t(e)})(e),function(e){let t=0;Array.from(e.getElementsByTagName(`*`)).forEach(e=>{Array.from(e.childNodes).forEach(e=>{(0,l.isCommentNode)(e)&&(e.remove(),t++)})}),(0,l.logDebug)(`Removed HTML comments:`,t)}(e),function(e,t,n){let i=e=>e.replace(/\u00A0/g,` `).replace(/\s+/g,` `).trim().toLowerCase(),a=e.getElementsByTagName(`h1`);Array.from(a).forEach(e=>{var t;let i=n.createElement(`h2`);i.innerHTML=e.innerHTML,Array.from(e.attributes).forEach(e=>{r.ALLOWED_ATTRIBUTES.has(e.name)&&i.setAttribute(e.name,e.value)}),(t=e.parentNode)==null||t.replaceChild(i,e)});let o=e.getElementsByTagName(`h2`);if(o.length>0){let e=o[0],n=i(e.textContent||``),r=i(t);r&&r===n&&e.remove()}}(e,t.title,n),(0,o.standardizeFootnotes)(e),function(e,t){let n=0;u.forEach(r=>{e.querySelectorAll(r.selector).forEach(e=>{if(r.transform){let i=r.transform(e,t);e.replaceWith(i),n++}})}),e.querySelectorAll(`lite-youtube`).forEach(e=>{let r=e.getAttribute(`videoid`);if(!r)return;let i=t.createElement(`iframe`);i.width=`560`,i.height=`315`,i.src=`https://www.youtube.com/embed/${r}`,i.title=e.getAttribute(`videotitle`)||`YouTube video player`,i.frameBorder=`0`,i.allow=`accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share`,i.setAttribute(`allowfullscreen`,``),e.replaceWith(i),n++}),(0,l.logDebug)(`Converted embedded elements:`,n)}(e,n),i?(f(e,i),d(e),p(e),(0,l.logDebug)(`Debug mode: Skipping div flattening to preserve structure`)):(m(e,n),f(e,i),function(e){let t=0,n=0,i=!0;for(;i;){n++,i=!1;let a=Array.from(e.getElementsByTagName(`*`)).filter(e=>{if(r.ALLOWED_EMPTY_ELEMENTS.has(e.tagName.toLowerCase()))return!1;let t=e.textContent||``,n=t.trim().length===0,i=t.includes(`\xA0`),a=!e.hasChildNodes()||Array.from(e.childNodes).every(e=>{if((0,l.isTextNode)(e)){let t=e.textContent||``;return t.trim().length===0&&!t.includes(`\xA0`)}return!1});if(e.tagName.toLowerCase()===`div`){let t=Array.from(e.children);if(t.length>0&&t.every(e=>{var t;if(e.tagName.toLowerCase()!==`span`)return!1;let n=(t=e.textContent)?.trim()||``;return n===`,`||n===``||n===` `}))return!0}return n&&!i&&a});a.length>0&&(a.forEach(e=>{e.remove(),t++}),i=!0)}(0,l.logDebug)(`Removed empty elements:`,t,`iterations:`,n)}(e),d(e),m(e,n),p(e),function(e,t){let n=0,r=Date.now(),i=e=>{var t;if((0,l.isElement)(e)){let t=e.tagName.toLowerCase();if(t===`pre`||t===`code`)return}if(Array.from(e.childNodes).forEach(i),(0,l.isTextNode)(e)){let r=e.textContent||``;if(!r||r.match(/^[\u200C\u200B\u200D\u200E\u200F\uFEFF\xA0\s]*$/))(t=e.parentNode)==null||t.removeChild(e),n++;else{let t=r.replace(/\n{3,}/g,`

`).replace(/^[\n\r\t]+/,``).replace(/[\n\r\t]+$/,``).replace(/[ \t]*\n[ \t]*/g,`
`).replace(/[ \t]{3,}/g,` `).replace(/^[ ]+$/,` `).replace(/\s+([,.!?:;])/g,`$1`).replace(/[\u200C\u200B\u200D\u200E\u200F\uFEFF]+/g,``).replace(/(?:\xA0){2,}/g,`\xA0`);t!==r&&(e.textContent=t,n+=r.length-t.length)}}},a=e=>{var r;if(!(0,l.isElement)(e))return;let i=e.tagName.toLowerCase();if(i===`pre`||i===`code`)return;Array.from(e.childNodes).filter(l.isElement).forEach(a),e.normalize();let o=(r=(0,l.getComputedStyle)(e))?.display===`block`,s=o?/^[\n\r\t \u200C\u200B\u200D\u200E\u200F\uFEFF\xA0]*$/:/^[\n\r\t\u200C\u200B\u200D\u200E\u200F\uFEFF]*$/,c=o?/^[\n\r\t \u200C\u200B\u200D\u200E\u200F\uFEFF\xA0]*$/:/^[\n\r\t\u200C\u200B\u200D\u200E\u200F\uFEFF]*$/;for(;e.firstChild&&(0,l.isTextNode)(e.firstChild)&&(e.firstChild.textContent||``).match(s);)e.removeChild(e.firstChild),n++;for(;e.lastChild&&(0,l.isTextNode)(e.lastChild)&&(e.lastChild.textContent||``).match(c);)e.removeChild(e.lastChild),n++;if(!o){let n=Array.from(e.childNodes);for(let r=0;r<n.length-1;r++){let i=n[r],a=n[r+1];if((0,l.isElement)(i)||(0,l.isElement)(a)){let n=a.textContent||``,r=i.textContent||``,o=n.match(/^[,.!?:;)\]]/),s=r.match(/[,.!?:;(\[]\s*$/),c=(0,l.isTextNode)(i)&&(i.textContent||``).endsWith(` `)||(0,l.isTextNode)(a)&&(a.textContent||``).startsWith(` `);if(!o&&!s&&!c){let n=t.createTextNode(` `);e.insertBefore(n,a)}}}}};i(e),a(e);let o=Date.now();(0,l.logDebug)(`Removed empty lines:`,{charactersRemoved:n,processingTime:`${(o-r).toFixed(2)}ms`})}(e,n))};let r=n(640),i=n(0),a=n(754),o=n(610),s=n(864),c=n(649),l=n(552),u=[...i.mathRules,...a.codeBlockRules,...s.headingRules,...c.imageRules,{selector:`div[data-testid^="paragraph"], div[role="paragraph"]`,element:`p`,transform:(e,t)=>{let n=t.createElement(`p`);return n.innerHTML=e.innerHTML,Array.from(e.attributes).forEach(e=>{r.ALLOWED_ATTRIBUTES.has(e.name)&&n.setAttribute(e.name,e.value)}),n}},{selector:`div[role="list"]`,element:`ul`,transform:(e,t)=>{var n;let r=e.querySelector(`div[role="listitem"] .label`),i=((n=r?.textContent)?.trim()||``).match(/^\d+\)/),a=t.createElement(i?`ol`:`ul`);return e.querySelectorAll(`div[role="listitem"]`).forEach(e=>{let n=t.createElement(`li`),r=e.querySelector(`.content`);r&&(r.querySelectorAll(`div[role="paragraph"]`).forEach(e=>{let n=t.createElement(`p`);n.innerHTML=e.innerHTML,e.replaceWith(n)}),r.querySelectorAll(`div[role="list"]`).forEach(e=>{var n;let r=e.querySelector(`div[role="listitem"] .label`),i=((n=r?.textContent)?.trim()||``).match(/^\d+\)/),a=t.createElement(i?`ol`:`ul`);e.querySelectorAll(`div[role="listitem"]`).forEach(e=>{let n=t.createElement(`li`),r=e.querySelector(`.content`);r&&(r.querySelectorAll(`div[role="paragraph"]`).forEach(e=>{let n=t.createElement(`p`);n.innerHTML=e.innerHTML,e.replaceWith(n)}),n.innerHTML=r.innerHTML),a.appendChild(n)}),e.replaceWith(a)}),n.innerHTML=r.innerHTML),a.appendChild(n)}),a}},{selector:`div[role="listitem"]`,element:`li`,transform:(e,t)=>{let n=e.querySelector(`.content`);return n?(n.querySelectorAll(`div[role="paragraph"]`).forEach(e=>{let n=t.createElement(`p`);n.innerHTML=e.innerHTML,e.replaceWith(n)}),n):e}}];function d(e){let t=0,n=t=>{let r=``,i=t.nextSibling;for(;i;)((0,l.isTextNode)(i)||(0,l.isElement)(i))&&(r+=i.textContent||``),i=i.nextSibling;if(r.trim())return!0;let a=t.parentElement;return!(!a||a===e)&&n(a)};Array.from(e.querySelectorAll(`h1, h2, h3, h4, h5, h6`)).reverse().forEach(e=>{n(e)||(e.remove(),t++)}),t>0&&(0,l.logDebug)(`Removed trailing headings:`,t)}function f(e,t){let n=0,i=e=>{if(e.tagName.toLowerCase()===`svg`||e.namespaceURI===`http://www.w3.org/2000/svg`)return;let i=Array.from(e.attributes),a=e.tagName.toLowerCase();i.forEach(i=>{let o=i.name.toLowerCase(),s=i.value;o===`id`&&(s.startsWith(`fnref:`)||s.startsWith(`fn:`)||s===`footnotes`)||o===`class`&&(a===`code`&&s.startsWith(`language-`)||s===`footnote-backref`)||(t?r.ALLOWED_ATTRIBUTES.has(o)||r.ALLOWED_ATTRIBUTES_DEBUG.has(o)||o.startsWith(`data-`)||(e.removeAttribute(i.name),n++):r.ALLOWED_ATTRIBUTES.has(o)||(e.removeAttribute(i.name),n++))})};i(e),e.querySelectorAll(`*`).forEach(i),(0,l.logDebug)(`Stripped attributes:`,n)}function p(e){let t=0,n=Date.now(),r=Array.from(e.getElementsByTagName(`br`)),i=[],a=()=>{if(i.length>2)for(let e=2;e<i.length;e++)i[e].remove(),t++;i=[]};r.forEach(e=>{var t;let n=!1;if(i.length>0){let r=i[i.length-1],a=e.previousSibling;for(;a&&(0,l.isTextNode)(a)&&!(t=a.textContent)?.trim();)a=a.previousSibling;a===r&&(n=!0)}n?i.push(e):(a(),i=[e])}),a();let o=Date.now();(0,l.logDebug)(`Standardized br elements:`,{removed:t,processingTime:`${(o-n).toFixed(2)}ms`})}function m(e,t){let n=0,i=Date.now(),a=!0;function o(e){var t;for(let n of e.childNodes)if((0,l.isTextNode)(n)&&(t=n.textContent)?.trim()||(0,l.isElement)(n)&&r.INLINE_ELEMENTS.has(n.nodeName.toLowerCase()))return!0;return!1}let s=e=>{let t=e.tagName.toLowerCase();if(r.PRESERVE_ELEMENTS.has(t))return!0;let n=e.getAttribute(`role`);if(n&&[`article`,`main`,`navigation`,`banner`,`contentinfo`].includes(n))return!0;let i=e.className;return typeof i==`string`&&i.toLowerCase().match(/(?:article|main|content|footnote|reference|bibliography)/)?!0:!!Array.from(e.children).some(e=>r.PRESERVE_ELEMENTS.has(e.tagName.toLowerCase())||e.getAttribute(`role`)===`article`||e.className&&typeof e.className==`string`&&e.className.toLowerCase().match(/(?:article|main|content|footnote|reference|bibliography)/))},c=e=>{var t;if(o(e))return!1;if(!(t=e.textContent)?.trim())return!0;let n=Array.from(e.children);if(n.length===0||n.every(e=>{let t=e.tagName.toLowerCase();return r.BLOCK_ELEMENTS.includes(t)||t===`p`||t===`h1`||t===`h2`||t===`h3`||t===`h4`||t===`h5`||t===`h6`||t===`ul`||t===`ol`||t===`pre`||t===`blockquote`||t===`figure`}))return!0;let i=e.className.toLowerCase();if(/(?:wrapper|container|layout|row|col|grid|flex|outer|inner|content-area)/i.test(i))return!0;let a=Array.from(e.childNodes).filter(e=>{var t;return(0,l.isTextNode)(e)&&(t=e.textContent)?.trim()});return a.length===0?!0:!(!(n.length>0)||n.some(e=>{let t=e.tagName.toLowerCase();return r.INLINE_ELEMENTS.has(t)}))},u=i=>{var a,u;if(!i.isConnected||s(i))return!1;let d=i.tagName.toLowerCase();if(!r.ALLOWED_EMPTY_ELEMENTS.has(d)&&!i.children.length&&!(a=i.textContent)?.trim())return i.remove(),n++,!0;if(i.parentElement===e){let e=Array.from(i.children);if(e.length>0&&!e.some(e=>{let t=e.tagName.toLowerCase();return r.INLINE_ELEMENTS.has(t)})){let e=t.createDocumentFragment();for(;i.firstChild;)e.appendChild(i.firstChild);return i.replaceWith(e),n++,!0}}if(c(i)){if(!Array.from(i.children).some(e=>{let t=e.tagName.toLowerCase();return r.INLINE_ELEMENTS.has(t)})){let e=t.createDocumentFragment();for(;i.firstChild;)e.appendChild(i.firstChild);return i.replaceWith(e),n++,!0}let e=t.createDocumentFragment();for(;i.firstChild;)e.appendChild(i.firstChild);return i.replaceWith(e),n++,!0}let f=Array.from(i.childNodes);if(f.length>0&&f.every(e=>(0,l.isTextNode)(e)||(0,l.isElement)(e)&&r.INLINE_ELEMENTS.has(e.nodeName.toLowerCase()))&&(u=i.textContent)?.trim()){let e=t.createElement(`p`);for(;i.firstChild;)e.appendChild(i.firstChild);return i.replaceWith(e),n++,!0}if(i.children.length===1){let e=i.firstElementChild,t=e.tagName.toLowerCase();if(r.BLOCK_ELEMENTS.includes(t)&&!s(e))return i.replaceWith(e),n++,!0}let p=0,m=i.parentElement;for(;m;){let e=m.tagName.toLowerCase();r.BLOCK_ELEMENTS.includes(e)&&p++,m=m.parentElement}if(p>0&&!o(i)){let e=t.createDocumentFragment();for(;i.firstChild;)e.appendChild(i.firstChild);return i.replaceWith(e),n++,!0}return!1},d=()=>{let t=Array.from(e.children).filter(e=>r.BLOCK_ELEMENTS.includes(e.tagName.toLowerCase())),n=!1;return t.forEach(e=>{u(e)&&(n=!0)}),n},f=()=>{let t=Array.from(e.querySelectorAll(r.BLOCK_ELEMENTS.join(`,`))).sort((e,t)=>{let n=e=>{let t=0,n=e.parentElement;for(;n;){let e=n.tagName.toLowerCase();r.BLOCK_ELEMENTS.includes(e)&&t++,n=n.parentElement}return t};return n(t)-n(e)}),n=!1;return t.forEach(e=>{u(e)&&(n=!0)}),n},p=()=>{let i=Array.from(e.querySelectorAll(r.BLOCK_ELEMENTS.join(`,`))),a=!1;return i.forEach(e=>{let r=Array.from(e.children);if(r.length>0&&r.every(e=>e.tagName.toLowerCase()===`p`)||!s(e)&&c(e)){let r=t.createDocumentFragment();for(;e.firstChild;)r.appendChild(e.firstChild);e.replaceWith(r),n++,a=!0}}),a};do a=!1,d()&&(a=!0),f()&&(a=!0),p()&&(a=!0);while(a);let m=Date.now();(0,l.logDebug)(`Flattened wrapper elements:`,{count:n,processingTime:`${(m-i).toFixed(2)}ms`})}},864:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.headingRules=void 0;let r=n(640);t.headingRules=[{selector:`h1, h2, h3, h4, h5, h6`,element:`keep`,transform:e=>{var t;let n=e.ownerDocument;if(!n)return console.warn(`No document available`),e;let i=n.createElement(e.tagName);Array.from(e.attributes).forEach(e=>{r.ALLOWED_ATTRIBUTES.has(e.name)&&i.setAttribute(e.name,e.value)});let a=e.cloneNode(!0),o=new Map;Array.from(a.querySelectorAll(`*`)).forEach(e=>{var t,n,r,i,s,c;let l=!1;if(e.tagName.toLowerCase()===`a`){let n=e.getAttribute(`href`);(n!=null&&n.includes(`#`)||n!=null&&n.startsWith(`#`))&&(o.set(e,(t=e.textContent)?.trim()||``),l=!0)}if(e.classList.contains(`anchor`)&&(o.set(e,(n=e.textContent)?.trim()||``),l=!0),e.tagName.toLowerCase()===`button`&&(l=!0),(e.tagName.toLowerCase()===`span`||e.tagName.toLowerCase()===`div`)&&e.querySelector(`a[href^="#"]`)){let t=e.querySelector(`a[href^="#"]`);t&&o.set(e,(r=t.textContent)?.trim()||``),l=!0}if(l){let t=e.parentElement;t&&t!==a&&(i=t.textContent)?.trim()===(s=e.textContent)?.trim()&&o.set(t,(c=e.textContent)?.trim()||``)}}),Array.from(a.querySelectorAll(`*`)).filter(e=>{if(e.tagName.toLowerCase()===`a`){let t=e.getAttribute(`href`);return t?.includes(`#`)||t?.startsWith(`#`)}return!!e.classList.contains(`anchor`)||e.tagName.toLowerCase()===`button`||!(e.tagName.toLowerCase()!==`span`&&e.tagName.toLowerCase()!==`div`||!e.querySelector(`a[href^="#"]`))}).forEach(e=>e.remove());let s=(t=a.textContent)?.trim()||``;return!s&&o.size>0&&(s=Array.from(o.values())[0]),i.textContent=s,i}}]},917:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.ExtractorRegistry=void 0;let r=n(959),i=n(248),a=n(258),o=n(458),s=n(632),c=n(397),l=n(20),u=n(732);class d{static initialize(){this.register({patterns:[`twitter.com`,/\/x\.com\/.*/],extractor:i.TwitterExtractor}),this.register({patterns:[`reddit.com`,`old.reddit.com`,`new.reddit.com`,/^https:\/\/[^\/]+\.reddit\.com/],extractor:r.RedditExtractor}),this.register({patterns:[`youtube.com`,`youtu.be`,/youtube\.com\/watch\?v=.*/,/youtu\.be\/.*/],extractor:a.YoutubeExtractor}),this.register({patterns:[/news\.ycombinator\.com\/item\?id=.*/],extractor:o.HackerNewsExtractor}),this.register({patterns:[/^https?:\/\/chatgpt\.com\/(c|share)\/.*/],extractor:s.ChatGPTExtractor}),this.register({patterns:[/^https?:\/\/claude\.ai\/(chat|share)\/.*/],extractor:c.ClaudeExtractor}),this.register({patterns:[/^https?:\/\/grok\.com\/(chat|share)(\/.*)?$/],extractor:l.GrokExtractor}),this.register({patterns:[/^https?:\/\/gemini\.google\.com\/app\/.*/],extractor:u.GeminiExtractor})}static register(e){this.mappings.push(e)}static findExtractor(e,t,n){try{let r=new URL(t).hostname;if(this.domainCache.has(r)){let i=this.domainCache.get(r);return i?new i(e,t,n):null}for(let{patterns:i,extractor:a}of this.mappings)if(i.some(e=>e instanceof RegExp?e.test(t):r.includes(e)))return this.domainCache.set(r,a),new a(e,t,n);return this.domainCache.set(r,null),null}catch(e){return console.error(`Error in findExtractor:`,e),null}}static clearCache(){this.domainCache.clear()}}t.ExtractorRegistry=d,d.mappings=[],d.domainCache=new Map,d.initialize()},959:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.RedditExtractor=void 0;let r=n(279);class i extends r.BaseExtractor{constructor(e,t){super(e,t),this.shredditPost=e.querySelector(`shreddit-post`)}canExtract(){return!!this.shredditPost}extract(){var e,t;let n=this.getPostContent(),r=this.extractComments(),i=this.createContentHtml(n,r),a=(t=(e=this.document.querySelector(`h1`))?.textContent)?.trim()||``,o=this.getSubreddit(),s=this.getPostAuthor(),c=this.createDescription(n);return{content:i,contentHtml:i,extractedContent:{postId:this.getPostId(),subreddit:o,postAuthor:s},variables:{title:a,author:s,site:`r/${o}`,description:c}}}getPostContent(){var e,t,n,r;return((t=(e=this.shredditPost)?.querySelector(`[slot="text-body"]`))?.innerHTML||``)+((r=(n=this.shredditPost)?.querySelector(`#post-image`))?.outerHTML||``)}createContentHtml(e,t){return`\n\t\t\t<div class="reddit-post">\n\t\t\t\t<div class="post-content">\n\t\t\t\t\t${e}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t${t?`\n\t\t\t\t<hr>\n\t\t\t\t<h2>Comments</h2>\n\t\t\t\t<div class="reddit-comments">\n\t\t\t\t\t${t}\n\t\t\t\t</div>\n\t\t\t`:``}\n\t\t`.trim()}extractComments(){let e=Array.from(this.document.querySelectorAll(`shreddit-comment`));return this.processComments(e)}getPostId(){let e=this.url.match(/comments\/([a-zA-Z0-9]+)/);return e?.[1]||``}getSubreddit(){let e=this.url.match(/\/r\/([^/]+)/);return e?.[1]||``}getPostAuthor(){var e;return(e=this.shredditPost)?.getAttribute(`author`)||``}createDescription(e){var t;if(!e)return``;let n=document.createElement(`div`);return n.innerHTML=e,(t=n.textContent)?.trim().slice(0,140).replace(/\s+/g,` `)||``}processComments(e){var t;let n=``,r=-1,i=[];for(let a of e){let e=parseInt(a.getAttribute(`depth`)||`0`),o=a.getAttribute(`author`)||``,s=a.getAttribute(`score`)||`0`,c=a.getAttribute(`permalink`)||``,l=(t=a.querySelector(`[slot="comment"]`))?.innerHTML||``,u=a.querySelector(`faceplate-timeago`),d=u?.getAttribute(`ts`)||``,f=d?new Date(d).toISOString().split(`T`)[0]:``;if(e===0){for(;i.length>0;)n+=`</blockquote>`,i.pop();n+=`<blockquote>`,i=[0],r=0}else if(e<r)for(;i.length>0&&i[i.length-1]>=e;)n+=`</blockquote>`,i.pop();else e>r&&(n+=`<blockquote>`,i.push(e));n+=`<div class="comment">\n\t<div class="comment-metadata">\n\t\t<span class="comment-author"><strong>${o}</strong></span> \u2022\n\t\t<a href="https://reddit.com${c}" class="comment-link">${s} points</a> \u2022\n\t\t<span class="comment-date">${f}</span>\n\t</div>\n\t<div class="comment-content">${l}</div>\n</div>`,r=e}for(;i.length>0;)n+=`</blockquote>`,i.pop();return n}}t.RedditExtractor=i},968:(e,t,n)=>{Object.defineProperty(t,`__esModule`,{value:!0}),t.ContentScorer=void 0;let r=n(640),i=[`admonition`,`article`,`content`,`entry`,`image`,`img`,`font`,`figure`,`figcaption`,`pre`,`main`,`post`,`story`,`table`],a=`advertisement.all rights reserved.banner.cookie.comments.copyright.follow me.follow us.footer.header.homepage.login.menu.more articles.more like this.most read.nav.navigation.newsletter.newsletter.popular.privacy.recommended.register.related.responses.share.sidebar.sign in.sign up.signup.social.sponsored.subscribe.subscribe.terms.trending`.split(`.`),o=[`ad`,`banner`,`cookie`,`copyright`,`footer`,`header`,`homepage`,`menu`,`nav`,`newsletter`,`popular`,`privacy`,`recommended`,`related`,`rights`,`share`,`sidebar`,`social`,`sponsored`,`subscribe`,`terms`,`trending`,`widget`];class s{constructor(e,t=!1){this.doc=e,this.debug=t}static scoreElement(e){let t=0,n=e.textContent||``,i=n.split(/\s+/).length;t+=i,t+=10*e.getElementsByTagName(`p`).length,t-=5*(e.getElementsByTagName(`a`).length/(i||1)),t-=3*(e.getElementsByTagName(`img`).length/(i||1));try{let n=e.getAttribute(`style`)||``,r=e.getAttribute(`align`)||``;(n.includes(`float: right`)||n.includes(`text-align: right`)||r===`right`)&&(t+=5)}catch{}/\b(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{1,2},?\s+\d{4}\b/i.test(n)&&(t+=10),/\b(?:by|written by|author:)\s+[A-Za-z\s]+\b/i.test(n)&&(t+=10);let a=e.className.toLowerCase();if((a.includes(`content`)||a.includes(`article`)||a.includes(`post`))&&(t+=15),e.querySelector(r.FOOTNOTE_INLINE_REFERENCES)&&(t+=10),e.querySelector(r.FOOTNOTE_LIST_SELECTORS)&&(t+=10),t-=5*e.getElementsByTagName(`table`).length,e.tagName.toLowerCase()===`td`){let n=e.closest(`table`);if(n){let r=parseInt(n.getAttribute(`width`)||`0`),i=n.getAttribute(`align`)||``,a=n.className.toLowerCase();if(r>400||i===`center`||a.includes(`content`)||a.includes(`article`)){let r=Array.from(n.getElementsByTagName(`td`)),i=r.indexOf(e);i>0&&i<r.length-1&&(t+=10)}}}return t}static findBestElement(e,t=50){let n=null,r=0;return e.forEach(e=>{let t=this.scoreElement(e);t>r&&(r=t,n=e)}),r>t?n:null}static scoreAndRemove(e,t=!1){let n=Date.now(),i=0,a=new Set;Array.from(e.querySelectorAll(r.BLOCK_ELEMENTS.join(`,`))).forEach(e=>{a.has(e)||s.isLikelyContent(e)||s.scoreNonContentBlock(e)<0&&(a.add(e),i++)}),a.forEach(e=>e.remove());let o=Date.now();t&&console.log(`Defuddle`,`Removed non-content blocks:`,{count:i,processingTime:`${(o-n).toFixed(2)}ms`})}static isLikelyContent(e){let t=e.getAttribute(`role`);if(t&&[`article`,`main`,`contentinfo`].includes(t))return!0;let n=e.className.toLowerCase(),r=e.id.toLowerCase();for(let e of i)if(n.includes(e)||r.includes(e))return!0;let a=(e.textContent||``).split(/\s+/).length,o=e.getElementsByTagName(`p`).length;return a>50&&o>1||a>100||a>30&&o>0}static scoreNonContentBlock(e){if(e.querySelector(r.FOOTNOTE_LIST_SELECTORS))return 0;let t=0,n=e.textContent||``,i=n.split(/\s+/).length;if(i<3)return 0;for(let e of a)n.toLowerCase().includes(e)&&(t-=10);let s=e.getElementsByTagName(`a`).length;s/(i||1)>.5&&(t-=15);let c=e.getElementsByTagName(`ul`).length+e.getElementsByTagName(`ol`).length;c>0&&s>3*c&&(t-=10);let l=e.className.toLowerCase(),u=e.id.toLowerCase();for(let e of o)(l.includes(e)||u.includes(e))&&(t-=8);return t}}t.ContentScorer=s}},t={};function n(r){var i=t[r];if(i!==void 0)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}var r={};return(()=>{var e=r;let t=n(628);e.default=t.Defuddle})(),r=r.default})())}),Rx=l(Lx());async function zx(e,t,n){let r=await e.vault.read(t);if(n){let i=e.metadataCache.getFileCache(t);if(i){let e=(0,u.resolveSubpath)(i,n);if(!e)return console.warn(`Failed to get subpath`,{file:t,subpath:n}),r;if(e.start||e.end){let i=r.slice(e.start.offset,e.end?.offset);return i||(console.warn(`Failed to get subpath`,{file:t,subpath:n}),r)}}}return r}async function Bx(e){let t=new Rx.default(e.ownerDocument),n=t.parse();return n}async function Vx(e){return await Ix(e)}async function Hx(e){let t=e.app,n=e.getData();switch(n.type){case`text`:return n.text;case`file`:{let r=t.vault.getAbstractFileByPath(n.file);if(!r)return`ERROR when reading file ${n.file}, the file is not found, maybe it's deleted or moved`;if(r instanceof u.TFile){let i=await t.vault.read(r);return e.subpath?await zx(t,r,n.subpath):`## ${r.basename}\n${i}`}throw Error(`Failed to get file content`)}case`link`:{let t,r=n.url.includes(`youtube.com`);if(r)t=await Vx(n.url);else{let t=e.nodeEl.querySelector(`webview`);if(t){let e=await Bx(t);return JSON.stringify(e)}}return t??n.url}}}const Ux=async(e,t,n,r,i,a,o)=>{let s=o.find(e=>e.modelId===a);if(!s){new u.Notice(`Error: Active model not found. Please check plugin settings.`);return}let c=i.getData(),l=[];for(let[e,t]of i.nodes){if(t.type===`group`)continue;let n=await Hx(t);l.push({id:e,position:{x:t.x,y:t.y},size:{width:t.width,height:t.height},text:n??``})}let d=[];for(let[e,t]of i.edges){if(t.from.node.type===`group`||t.to.node.type===`group`)continue;d.push({label:t.label??``,from:{nodeId:t.from.node.id,side:t.from.side},to:{nodeId:t.to.node.id,side:t.to.side}})}let f={nodes:l,edges:d},p=Array.from(i.selection).map(e=>({nodeId:e.id})),m={modelName:s.modelId,provider:s.provider};mf(s)&&(m.credentials={accessKeyId:s.accessKeyId,secretAccessKey:s.secretAccessKey,region:s.region}),pf(s)&&(m.credentials={apiKey:s.apiKey}),hf(s)&&(m.credentials={apiKey:s.apiKey}),gf(s)&&(m.credentials={apiKey:s.apiKey});try{console.log(`modelConfig`,m),await sy(e,t,n,r,m,{selectedNodes:p,nodeGraph:f,filePath:i.view.file.path})}catch(e){new u.Notice(`Failed to generate AI content: `+e)}};var Wx=class extends u.PluginSettingTab{plugin;vueApp;shadowRoot;vueContainer;constructor(e,t){super(e,t),this.plugin=t}display(){if(this.shadowRoot)return;this.containerEl.empty();let e=document.createElement(`div`);this.containerEl.appendChild(e),this.shadowRoot=e.attachShadow({mode:`open`}),this.vueContainer=document.createElement(`div`),this.shadowRoot.appendChild(this.vueContainer),this.loadStylesIntoShadowDOM().then(()=>{this.vueApp=ef(f_),this.vueApp.provide(`useAiPlugin`,this.plugin),this.vueApp.mount(this.vueContainer)})}async loadStylesIntoShadowDOM(){if(this.shadowRoot)try{let e=this.plugin.manifest.dir||`useai`,t=`${e}/styles.css`,n=await this.plugin.app.vault.adapter.read(t),r=document.createElement(`style`);r.textContent=n,this.shadowRoot.appendChild(r)}catch(e){console.warn(`Failed to load CSS styles via adapter, trying alternative methods:`,e)}}hide(){this.vueApp&&(this.vueApp.unmount(),this.vueApp=void 0),this.shadowRoot&&(this.shadowRoot=void 0,this.vueContainer=void 0),this.containerEl.empty()}};const Gx=`useai-sidepanel`;var Kx=class extends u.Plugin{events;settings;currentThreadId=``;socket;socketConnectionStatus=`disconnected`;constructor(e,t,n){super(e,t),this.events=new p_,this.settings=g_}async onload(){this.currentThreadId=yy(16),await this.loadSettings(),this.setupSocketEventHandlers(),this.initializeSocketConnection(),this.setupClientHandlers(),this.registerView(Gx,e=>new fx(e,this)),this.addRibbonIcon(`sparkles`,`Open AI Prompt View`,()=>{this.activatePromptView()});let e=new Wx(this.app,this);this.addSettingTab(e),this.registerCommands(),this.patchObsidian(),this.registerEvents()}setupSocketEventHandlers(){this.registerEvent(this.events.on(`socket:connect-request`,e=>{this.connectSocket(e)})),this.registerEvent(this.events.on(`socket:disconnect-request`,()=>{this.disconnectSocket()})),this.registerEvent(this.events.on(`socket:reconnect-request`,()=>{this.reconnectSocket()}))}async connectSocket(e){let t=e||this.settings.socketAddress;if(!t?.trim()){this.updateSocketStatus(`error`,`Socket address is required!`);return}if(!(this.socketConnectionStatus===`connecting`||this.socketConnectionStatus===`connected`)){this.updateSocketStatus(`connecting`,void 0,t);try{this.socket&&(this.socket.disconnect(),this.socket=void 0),this.socket=oy(t,{transports:[`websocket`,`polling`],auth:{token:`123`},timeout:1e4}),this.setupSocketIOEventHandlers()}catch(e){let t=e instanceof Error?e.message:`Connection failed`;this.updateSocketStatus(`error`,t)}}}disconnectSocket(){this.socket&&(this.socket.disconnect(),this.socket=void 0),this.updateSocketStatus(`disconnected`)}async reconnectSocket(){this.disconnectSocket(),await new Promise(e=>setTimeout(e,1e3)),await this.connectSocket()}setupSocketIOEventHandlers(){this.socket&&(this.socket.on(`connect`,()=>{this.updateSocketStatus(`connected`,void 0,this.settings.socketAddress)}),this.socket.on(`disconnect`,e=>{this.updateSocketStatus(`disconnected`,e)}),this.socket.on(`reconnect`,()=>{this.updateSocketStatus(`connected`,void 0,this.settings.socketAddress)}),this.socket.on(`reconnect_attempt`,e=>{this.updateSocketStatus(`reconnecting`),this.events.trigger(`socket:reconnecting`,e)}),this.socket.io.on(`reconnect_error`,e=>{let t=e instanceof Error?e.message:`Reconnection failed`;this.updateSocketStatus(`error`,t)}),this.socket.on(`reconnect_failed`,()=>{this.updateSocketStatus(`error`,`Reconnection failed`)}),this.socket.on(`connect_error`,e=>{let t=e instanceof Error?e.message:`Connection failed`;this.updateSocketStatus(`error`,t)}),this.socket.on(`error`,e=>{let t=e instanceof Error?e.message:`Socket error`;this.updateSocketStatus(`error`,t)}))}updateSocketStatus(e,t,n){this.socketConnectionStatus=e;let r={status:e,address:n||this.settings.socketAddress,error:t,timestamp:new Date};switch(e){case`connected`:this.events.trigger(`socket:connected`,r.address);break;case`disconnected`:this.events.trigger(`socket:disconnected`,t);break;case`connecting`:this.events.trigger(`socket:connecting`,r.address);break;case`error`:this.events.trigger(`socket:error`,t||`Unknown error`);break;case`reconnecting`:break}this.events.trigger(`socket:status-changed`,r)}getSocketConnectionStatus(){return this.socketConnectionStatus}async initializeSocketConnection(){this.settings.socketAddress&&await this.connectSocket()}isMenuPatched(e){return e.menuEl.querySelector(`.gpt-menu-item`)!==null}appendMenuButton(e,t,n,r){let i=createEl(`button`,`clickable-icon gpt-menu-item`);(0,u.setTooltip)(i,n,{placement:`top`}),(0,u.setIcon)(i,t),i.addEventListener(`click`,r),e.menuEl.appendChild(i)}appendButtons(e,t,n){this.appendMenuButton(e,`lucide-sparkles`,`Generate with AI`,()=>{this.events.trigger(`canvas:generate`,this.currentThreadId,`The selected node is my requirement, understand it carefully then replace your answer right in the node`)}),this.appendMenuButton(e,`lucide-plus`,`Create new empty node`,()=>{ky(t,[n],{text:``,size:{width:350,height:350}})})}registerEvents(){this.registerEvent(this.events.on(`conversation:new-thread`,e=>{this.currentThreadId=e})),this.registerEvent(this.events.on(`canvas:node-menu`,(e,t,n)=>{let r=n.getData();this.isMenuPatched(e)||this.appendButtons(e,t,n)})),this.registerEvent(this.events.on(`canvas:generate`,async(e,t)=>{if(!this.socket){new u.Notice(`No socket connection`);return}let n=My(this.app);if(!n){new u.Notice(`No active canvas found`);return}await Ux(this.socket,e,this.settings.systemPrompt,t,n,this.settings.activeModelId,this.settings.models)}))}registerCommands(){this.addCommand({id:`canvas-generate-ai`,name:`Generate AI content for selected canvas node`,callback:()=>{this.events.trigger(`canvas:generate`,this.currentThreadId,`The selected node is my requirement, understand it carefully then replace your answer right in the node`)}}),this.addCommand({id:`open-settings`,name:`Open UseAI Plugin Settings`,callback:()=>{try{this.app.setting?.open(),setTimeout(()=>{this.app.setting?.openTabById(this.manifest.id)},100)}catch(e){console.warn(`Failed to open plugin settings:`,e),this.app.setting?.open()}}})}patchObsidian(){console.log(`patching obsidian`),this.app.workspace.onLayoutReady(()=>{if(wx(this))return;let e=this.app.workspace.on(`layout-change`,()=>{wx(this)&&this.app.workspace.offref(e)});this.registerEvent(e)})}async activatePromptView(){let{workspace:e}=this.app,t=null,n=e.getLeavesOfType(Gx);n.length>0?t=n[0]:(t=e.getRightLeaf(!1),t&&await t.setViewState({type:Gx,active:!0})),t&&e.revealLeaf(t)}async loadSettings(){this.settings=Object.assign({},g_,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}onunload(){console.log(`UseAI Plugin: Starting cleanup...`),this.socket&&(console.log(`UseAI Plugin: Disconnecting socket...`),this.disconnectSocket());try{let e=this.app.workspace.getLeavesOfType(Gx);e.length>0&&(console.log(`UseAI Plugin: Cleaning up ${e.length} sidepanel view(s)...`),e.forEach(e=>{try{e.detach()}catch(e){console.warn(`Error detaching sidepanel view:`,e)}}))}catch(e){console.warn(`Error cleaning up sidepanel views:`,e)}this.events&&(console.log(`UseAI Plugin: Cleaning up events...`),this.events=null),this.socketConnectionStatus=`disconnected`,this.socket=void 0,console.log(`UseAI Plugin: Cleanup completed`)}async setupClientHandlers(){if(!this.socket){new u.Notice(`No socket connection`);return}vy(this.socket,async e=>{this.app.internalPlugins.plugins[`global-search`].instance.openGlobalSearch(e);let t=this.app.workspace.getLeavesOfType(`search`)[0],n=await t.open(t.view),r=n.dom.resultDomLookup,i=Array.from(r.values()).map(e=>({title:e.file.name,path:e.file.path,content:e.content}));return i}),fy(this.socket,async(e,t,n,r,i)=>{let a=Ny(this.app,e);if(!a){new u.Notice(`No canvas found`);return}let o=a.nodes.get(t);if(!o){new u.Notice(`From node not found`);return}let s=a.nodes.get(r);if(!s){new u.Notice(`To node not found`);return}by(a,yy(16),{side:n,node:o},{side:i,node:s},{color:o.color})}),dy(this.socket,async(e,t)=>{let n=Ny(this.app,e);if(!n){new u.Notice(`No active canvas`);return}let r=n.edges.get(t);if(!r){new u.Notice(`Edge not found`);return}n.removeEdge(r)}),gy(this.socket,async(e,t,n)=>{let r=Ny(this.app,e);if(!r){new u.Notice(`No active canvas`);return}let i=r.nodes.get(t);if(!i){new u.Notice(`Node not found`);return}i.color=n,r.nodes.set(t,i),await r.requestSave(),await r.requestFrame()}),cy(this.socket,async e=>{new u.Notice(e)}),py(this.socket,async(e,t,n)=>{let r=Ny(this.app,e);if(!r){new u.Notice(`No active canvas`);return}this.events.trigger(`conversation:add-agent-message`,t,n)}),my(this.socket,async(e,t)=>{this.events.trigger(`add-step`,e,t)}),ly(this.socket,async(e,t,n)=>{let r=Ny(this.app,e);if(!r){new u.Notice(`No active canvas`);return}let i=r.nodes.get(t);if(!i){new u.Notice(`Node not found`);return}i.setText(n)}),uy(this.socket,async(e,t,n,r,i,a)=>{let o=Ny(this.app,e);if(!o)return new u.Notice(`No active canvas`),``;t.width<500&&(t.width=500),t.height<300&&(t.height=300);let s=[];for(let e of n){let t=o.nodes.get(e);if(!t)return new u.Notice(`Parent node not found`),``;s.push(t)}let c=await ky(o,s,{size:t,text:r,color:i},void 0,a);return`New node was created with id: `+c.id}),_y(this.socket,async(e,t)=>{let n=Ny(this.app,e);if(!n){new u.Notice(`No active canvas`);return}let r=n.nodes.get(t);if(!r){new u.Notice(`Node not found`);return}n.removeNode(r)}),hy(this.socket,async(e,t,n)=>{let r=Ny(this.app,e);if(!r){new u.Notice(`No active canvas`);return}let i=r.nodes.get(t);if(!i){new u.Notice(`Node not found`);return}if(i.nodeEl){let e=i.nodeEl.querySelector(`[data-status-badge="true"]`);e?e.textContent=n:(e=document.createElement(`div`),e.textContent=n,e.style.height=`20px`,e.style.position=`absolute`,e.style.top=`-10px`,e.style.right=`10px`,e.style.zIndex=`10`,e.style.padding=`0 5px`,e.style.backgroundColor=`rgba(0, 0, 0, 1)`,e.style.borderRadius=`5px`,e.style.fontSize=`12px`,e.style.cursor=`pointer`,e.style.display=`flex`,e.style.alignItems=`center`,e.style.color=`white`,e.setAttribute(`data-status-badge`,`true`),i.nodeEl.appendChild(e))}})}};exports.default=Kx;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm5hbWVzIjpbIm1hcCIsImhhc093blByb3BlcnR5IiwiaGFzT3duIiwiaXNPYmplY3QiLCJ2YWx1ZSIsImNhY2hlU3RyaW5nRnVuY3Rpb24iLCJjYWNoZSIsImNhbWVsaXplUkUiLCJjYW1lbGl6ZSIsImh5cGhlbmF0ZVJFIiwiaHlwaGVuYXRlIiwiaXNSZWYiLCJ3YXJuIiwiY29tcHV0ZWQiLCJ2YWx1ZSIsInRvUmVhY3RpdmUiLCJzZWxmIiwicmVhZG9ubHkiLCJyIiwiY3JlYXRlUmVmIiwidG9SZWZzIiwidG9SZWYiLCJ3YXRjaCIsImVmZmVjdCIsIm1vZGVsOiBNb2RlbFNldHRpbmdzIiwiaXNDbGllbnQiLCJpc1dvcmtlciIsImlzRGVmIiwiY2FjaGVTdHJpbmdGdW5jdGlvbiIsImNhY2hlIiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjYW1lbGl6ZVJFIiwiY2FtZWxpemUiLCJpc0NsaWVudCIsImRlZmF1bHREb2N1bWVudCIsImRlZmF1bHROYXZpZ2F0b3IiLCJkZWZhdWx0TG9jYXRpb24iLCJzc3JXaWR0aFN5bWJvbCIsImNsb25lRm5KU09OIiwiREVGQVVMVF9VTklUUyIsInVzZVZNb2RlbCIsImVtaXQiLCJnZXRWYWx1ZSIsInZhbHVlIiwidnVlIiwiaXNDbGllbnQiLCJlbWl0IiwiZW1pdCIsIl9zZmNfbWFpbiIsIl9zZmNfbWFpbiIsIl9zZmNfbWFpbiIsInZhbHVlIiwiX3NmY19tYWluIiwidmFsdWUiLCJfc2ZjX21haW4iLCJfc2ZjX21haW4iLCJfc2ZjX21haW4kMSIsIl9zZmNfbWFpbiQxIiwiY2xhc3NHcm91cCIsImNhY2hlIiwidmFsdWUiLCJ0b1ZhbHVlIiwidmFsdWUiLCJwYXJhbSIsImFzIiwiYXNDaGlsZCIsInZhcmlhbnQiLCJzaXplIiwicCIsInZhbHVlIiwiY2FjaGUiLCJlbWl0IiwiZ2V0VmFsdWUiLCJ2YWx1ZSIsImlzQWN0aXZlIiwibW9kZWwiLCJldmVudDogYW55IiwiY2FsbGJhY2s6IGFueSIsIm5hbWU6IGFueSIsIkRFRkFVTFRfTU9ERUxTOiBNb2RlbFNldHRpbmdzW10iLCJERUZBVUxUX1NFVFRJTkdTOiBPYnNpZGlhbkFpU2V0dGluZ3MiLCJ3aXRoTmF0aXZlQmxvYiIsIndpdGhOYXRpdmVBcnJheUJ1ZmZlciIsImlzVmlldyIsImxvb2t1cCIsImRlY29kZSIsInAiLCJ3aXRoTmF0aXZlQXJyYXlCdWZmZXIiLCJjb3VudCIsImJ1ZmZlciIsImlzQmluYXJ5IiwicHJvdG9jb2wiLCJvbiIsImdsb2JhbFRoaXMiLCJfYSIsImdsb2JhbFRoaXMiLCJnbG9iYWxUaGlzIiwidmFsdWUiLCJwcm90b2NvbCIsIlNvY2tldCIsIkRFRkFVTFRfVFJBTlNQT1JUUyIsInByb3RvY29sIiwiU29ja2V0IiwiUkVTRVJWRURfRVZFTlRTIiwiUGFja2V0VHlwZSIsInJlcGxhY2VyIiwidmFsdWUiLCJwIiwicmVzb2x2ZSIsInNlbGYiLCJwYXJzZXIiLCJFbmdpbmUiLCJzZWxmIiwic29ja2V0Iiwic29ja2V0OiBTb2NrZXQiLCJ0aHJlYWRJZDogc3RyaW5nIiwic3lzdGVtSW5zdHJ1Y3Rpb246IHN0cmluZyIsInByb21wdDogc3RyaW5nIiwibW9kZWxDb25maWc6IE1vZGVsQ29uZmlnIiwiY29udGV4dDogR2VuZXJhdGVNZXNzYWdlQ29udGV4dCIsImhhbmRsZXI6IChub3RpY2U6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPiIsImhhbmRsZXI6IChmaWxlUGF0aDogc3RyaW5nLCBub2RlSWQ6IHN0cmluZywgdGV4dDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+IiwiaGFuZGxlcjogKGZpbGVQYXRoOiBzdHJpbmcsIHNpemU6IHsgaGVpZ2h0OiBudW1iZXI7IHdpZHRoOiBudW1iZXI7IH0sIHBhcmVudElkczogc3RyaW5nW10sIHRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCwgZWRnZTogeyBsYWJlbD86IHN0cmluZzsgfSB8IHVuZGVmaW5lZCkgPT4gUHJvbWlzZTxzdHJpbmcgfCBScGNFcnJvcj4iLCJoYW5kbGVyOiAoZmlsZVBhdGg6IHN0cmluZywgZWRnZUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4iLCJoYW5kbGVyOiAoZmlsZVBhdGg6IHN0cmluZywgZnJvbU5vZGVJZDogc3RyaW5nLCBmcm9tU2lkZTogc3RyaW5nLCB0b05vZGVJZDogc3RyaW5nLCB0b1NpZGU6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPiIsImhhbmRsZXI6IChmaWxlUGF0aDogc3RyaW5nLCB0aHJlYWRJZDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4iLCJoYW5kbGVyOiAoZmlsZVBhdGg6IHN0cmluZykgPT4gUHJvbWlzZTxHcmFwaCB8IFJwY0Vycm9yPiIsImhhbmRsZXI6ICh0aHJlYWRJZDogc3RyaW5nLCBzdGVwOiBBZ2VudFN0ZXApID0+IFByb21pc2U8dm9pZD4iLCJoYW5kbGVyOiAoZmlsZVBhdGg6IHN0cmluZywgbm9kZUlkOiBzdHJpbmcsIHN0YXR1czogXCJnZW5lcmF0aW5nXCIgfCBcInN1Y2Nlc3NcIiB8IFwiZXJyb3JcIikgPT4gUHJvbWlzZTx2b2lkPiIsImhhbmRsZXI6IChmaWxlUGF0aDogc3RyaW5nLCBub2RlSWQ6IHN0cmluZywgY29sb3I6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPiIsImhhbmRsZXI6IChmaWxlUGF0aDogc3RyaW5nLCBub2RlSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPiIsImhhbmRsZXI6IChxdWVyeTogc3RyaW5nKSA9PiBQcm9taXNlPE5vdGVbXSB8IFJwY0Vycm9yPiIsImxlbjogbnVtYmVyIiwiY2FudmFzOiBDYW52YXMiLCJlZGdlSUQ6IHN0cmluZyIsImZyb21FZGdlOiBDYW52YXNFZGdlSW50ZXJtZWRpYXRlIiwidG9FZGdlOiBDYW52YXNFZGdlSW50ZXJtZWRpYXRlIiwiZWRnZVJhdz86IFBhcnRpYWw8Q2FudmFzRWRnZVJhdz4iLCJ0b0VkZ2VzOiBDYW52YXNFZGdlSW50ZXJtZWRpYXRlW10iLCJlZGdlczogQ2FudmFzRWRnZVJhd1tdIiwiY2FudmFzOiBDYW52YXMiLCJwb3NpdGlvbjogTm9kZVBvc2l0aW9uIiwiZXhjbHVkZU5vZGVzPzogQ2FudmFzTm9kZVtdIiwiYW5nbGU6IG51bWJlciIsInBhcmVudE5vZGVzOiBDYW52YXNOb2RlW10iLCJ3aWR0aDogbnVtYmVyIiwiaGVpZ2h0OiBudW1iZXIiLCJhbGxDYW5kaWRhdGVzOiBDYW5kaWRhdGVQb3NpdGlvbltdIiwiY3VycmVudEJhdGNoUmFkaWk6IG51bWJlcltdIiwiY2FuZGlkYXRlOiBDYW5kaWRhdGVQb3NpdGlvbiIsIm5ld05vZGVPcHRpb25zPzogQ3JlYXRlTm9kZU9wdGlvbnMiLCJuZXdOb2RlRGF0YT86IFBhcnRpYWw8QWxsQ2FudmFzTm9kZURhdGE+IiwiZWRnZVJhd0RhdGE/OiBQYXJ0aWFsPENhbnZhc0VkZ2VSYXc+Iiwib3B0aW1hbFJlc3VsdDogeyBwb3NpdGlvbjogTm9kZVBvc2l0aW9uOyBiZXN0UGFyZW50OiBDYW52YXNOb2RlOyBzaWRlOiBDb25uZWN0b3JQb3NpdGlvbiB9IiwicGFyZW50U2lkZTogQ29ubmVjdG9yUG9zaXRpb24iLCJuZXdOb2RlU2lkZTogQ29ubmVjdG9yUG9zaXRpb24iLCJhcHA6IEFwcCIsImZpbGVQYXRoOiBzdHJpbmciLCJhcHA6IGltcG9ydCgnb2JzaWRpYW4nKS5BcHAiLCJwbHVnaW5JZDogc3RyaW5nIiwiY29tbWFuZElkOiBzdHJpbmciLCJhY2Nlc3NvcjogKCkgPT4gVCIsImZhbGxiYWNrOiBUIiwiYXBwOiBBcHAiLCJxdWVyeT86IHN0cmluZyIsImZpbGU6IFRGaWxlIiwiY29tbWFuZElkOiBzdHJpbmciLCJ0YWJJZDogc3RyaW5nIiwidGhlbWVOYW1lOiBzdHJpbmciLCJwbHVnaW5JZDogc3RyaW5nIiwicGx1Z2luOiBQbHVnaW4iLCJjb21tYW5kOiBhbnkiLCJldmVudE5hbWU6IHN0cmluZyIsImNhbGxiYWNrOiBGdW5jdGlvbiIsInBsYWNlaG9sZGVyIiwiZGlzYWJsZWQiLCJzdGF0dXNUZXh0IiwidGhyZWFkSWQ6IHN0cmluZyIsInRlbXBNZXNzYWdlOiBUaHJlYWRNZXNzYWdlIiwiY29udGVudDogc3RyaW5nIiwibGV2ZWw6ICdpbmZvJyB8ICdlcnJvcicgfCAnd2FybicgfCAnc3VjY2VzcyciLCJmaW5hbE1lc3NhZ2U6IFRocmVhZE1lc3NhZ2UiLCJ0aXRsZTogc3RyaW5nIiwidGhyZWFkSWQ/OiBzdHJpbmciLCJuZXdUaHJlYWQ6IFRocmVhZCIsIm1lc3NhZ2U6IE9taXQ8VGhyZWFkTWVzc2FnZSwgJ2lkJyB8ICd0aW1lc3RhbXAnPiIsIm5ld01lc3NhZ2U6IFRocmVhZE1lc3NhZ2UiLCJtZXNzYWdlSWQ6IHN0cmluZyIsInVwZGF0ZXM6IFBhcnRpYWw8VGhyZWFkTWVzc2FnZT4iLCJ0b29sQ2FsbHMiLCJ0b29sUmVzdWx0cyIsImFjdGl2ZVRocmVhZCIsImFjdGl2ZU1lc3NhZ2VzIiwiZm9ybWF0VGltZSIsImlzR2VuZXJhdGluZyIsInBsdWdpbjogVXNlQWlQbHVnaW4iLCJldmVudDogVCIsImhhbmRsZXI6IFBsdWdpbkV2ZW50TWFwW1RdIiwiZXZlbnRSZWY6IEV2ZW50UmVmIHwgbnVsbCIsImV2ZW50SGFuZGxlcnM6IEFycmF5PHtcbiAgICBldmVudDoga2V5b2YgUGx1Z2luRXZlbnRNYXBcbiAgICBoYW5kbGVyOiBhbnlcbiAgfT4iLCJldmVudFJlZnM6IEV2ZW50UmVmW10iLCJsZWFmOiBXb3Jrc3BhY2VMZWFmIiwicGx1Z2luOiBVc2VBaVBsdWdpbiIsInIiLCJyZW1vdmUiLCJwbHVnaW46IFVzZUFpUGx1Z2luIiwiY2FudmFzOiBDYW52YXMiLCJuZXh0OiBhbnkiLCJyZXN1bHQ6IGFueSIsIm1lbnU6IE1lbnUiLCJwb3M6IENvb3JkaW5hdGUiLCJub2RlOiBDYW52YXNOb2RlIiwidmFsdWUiLCJyZXNvbHZlIiwidHJhY2siLCJfYSIsInVybDogc3RyaW5nIiwidCIsImUiLCJyIiwibiIsIm8iLCJpIiwiaCIsInAiLCJhIiwicyIsImwiLCJjIiwidSIsImQiLCJtIiwiYXBwOiBBcHAiLCJmaWxlOiBURmlsZSIsInN1YnBhdGg/OiBzdHJpbmcgfCB1bmRlZmluZWQiLCJ3ZWJ2aWV3OiBXZWJ2aWV3VGFnIiwidXJsOiBzdHJpbmciLCJub2RlOiBDYW52YXNOb2RlIiwiY29udGVudDogc3RyaW5nIHwgdW5kZWZpbmVkIiwic29ja2V0OiBTb2NrZXQiLCJ0aHJlYWRJZDogc3RyaW5nIiwic3lzdGVtUHJvbXB0OiBzdHJpbmciLCJwcm9tcHQ6IHN0cmluZyIsImNhbnZhczogQ2FudmFzIiwiYWN0aXZlTW9kZWxJZDogc3RyaW5nIiwiYWxsTW9kZWxzOiBNb2RlbFNldHRpbmdzW10iLCJncmFwaDogR3JhcGgiLCJtb2RlbENvbmZpZzogTW9kZWxDb25maWciLCJhcHA6IEFwcCIsInBsdWdpbjogVXNlQWlQbHVnaW4iLCJhcHA6IEFwcCIsInBsdWdpbk1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCIsInBsdWdpblBhdGg6IHN0cmluZyIsImFkZHJlc3M6IHN0cmluZyIsImFkZHJlc3M/OiBzdHJpbmciLCJzdGF0dXM6ICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnZXJyb3InIHwgJ3JlY29ubmVjdGluZyciLCJlcnJvcj86IHN0cmluZyIsIm1lbnU6IENhbnZhc01lbnUiLCJpY29uOiBzdHJpbmciLCJ0b29sdGlwOiBzdHJpbmciLCJjbGlja0hhbmRsZXI6ICgpID0+IHZvaWQiLCJjYW52YXM6IENhbnZhcyIsIm5vZGU6IENhbnZhc05vZGUiLCJ0aHJlYWRJZDogc3RyaW5nIiwicHJvbXB0OiBzdHJpbmciLCJsZWFmOiBXb3Jrc3BhY2VMZWFmIHwgbnVsbCIsImRhdGE6IHN0cmluZyIsInBhcmVudE5vZGVzOiBDYW52YXNOb2RlW10iXSwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9zaGFyZWQvZGlzdC9zaGFyZWQuZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtY29yZS9kaXN0L3J1bnRpbWUtY29yZS5lc20tYnVuZGxlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AdnVlL3J1bnRpbWUtZG9tL2Rpc3QvcnVudGltZS1kb20uZXNtLWJ1bmRsZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlL2Rpc3QvdnVlLnJ1bnRpbWUuZXNtLWJ1bmRsZXIuanMiLCIuLi9zcmMvdHlwZXMvc2V0dGluZ3MudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L3NoYXJlZC9yZW5kZXJTbG90RnJhZ21lbnRzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jla2EtdWkvZGlzdC9QcmltaXRpdmUvU2xvdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3QvUHJpbWl0aXZlL1ByaW1pdGl2ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL25vZGVfbW9kdWxlcy9AdnVldXNlL3NoYXJlZC9pbmRleC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9ub2RlX21vZHVsZXMvQHZ1ZXVzZS9jb3JlL2luZGV4Lm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3Qvc2hhcmVkL2NyZWF0ZUNvbnRleHQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L0NvbmZpZ1Byb3ZpZGVyL0NvbmZpZ1Byb3ZpZGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jla2EtdWkvZGlzdC9zaGFyZWQvdXNlRGlyZWN0aW9uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jla2EtdWkvZGlzdC9zaGFyZWQvdXNlRm9yd2FyZEV4cG9zZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3Qvc2hhcmVkL3VzZUlkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jla2EtdWkvZGlzdC9zaGFyZWQvdXNlU3RhdGVNYWNoaW5lLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Jla2EtdWkvZGlzdC9QcmVzZW5jZS91c2VQcmVzZW5jZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3QvUHJlc2VuY2UvUHJlc2VuY2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L3NoYXJlZC91c2VFbWl0QXNQcm9wcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3Qvc2hhcmVkL2dldEFjdGl2ZUVsZW1lbnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L3NoYXJlZC91c2VGb3J3YXJkUHJvcHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L3NoYXJlZC91c2VGb3J3YXJkUHJvcHNFbWl0cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3QvUHJpbWl0aXZlL3VzZVByaW1pdGl2ZUVsZW1lbnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L0NvbGxlY3Rpb24vQ29sbGVjdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3QvUm92aW5nRm9jdXMvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L1JvdmluZ0ZvY3VzL1JvdmluZ0ZvY3VzR3JvdXAuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L1JvdmluZ0ZvY3VzL1JvdmluZ0ZvY3VzSXRlbS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWthLXVpL2Rpc3QvTGFiZWwvTGFiZWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L1RhYnMvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L1RhYnMvVGFic1Jvb3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L1RhYnMvVGFic0NvbnRlbnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L1RhYnMvVGFic0xpc3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVrYS11aS9kaXN0L1RhYnMvVGFic1RyaWdnZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY2xzeC9kaXN0L2Nsc3gubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3RhaWx3aW5kLW1lcmdlL2Rpc3QvYnVuZGxlLW1qcy5tanMiLCIuLi9zcmMvbGliL3V0aWxzLnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eS9kaXN0L2luZGV4Lm1qcyIsIi4uL3NyYy9jb21wb25lbnRzL3VpL2J1dHRvbi9CdXR0b24udnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdWkvYnV0dG9uL0J1dHRvbi52dWUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHZ1ZXVzZS9zaGFyZWQvaW5kZXgubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0B2dWV1c2UvY29yZS9pbmRleC5tanMiLCIuLi9zcmMvY29tcG9uZW50cy91aS9pbnB1dC9JbnB1dC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS9pbnB1dC9JbnB1dC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS9sYWJlbC9MYWJlbC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS9sYWJlbC9MYWJlbC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS90ZXh0YXJlYS9UZXh0YXJlYS52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS90ZXh0YXJlYS9UZXh0YXJlYS52dWUiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL3NoYXJlZC9zcmMvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2RlZmF1bHRBdHRyaWJ1dGVzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9JY29uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9jcmVhdGVMdWNpZGVJY29uLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9ib3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL2JyYWluLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9jaGVjay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvY2hldnJvbi1kb3duLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9jaGV2cm9uLXJpZ2h0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9jaXJjbGUtY2hlY2stYmlnLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9jaXJjbGUtY2hlY2suanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL2NpcmNsZS14LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9jaXJjbGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL2Nsb2NrLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9jb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9kb3dubG9hZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvZXllLW9mZi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvZXllLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9nbG9iZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvaGlzdG9yeS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvaG91c2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL2luZm8uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL2tleS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvbG9hZGVyLWNpcmNsZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvbWVzc2FnZS1zcXVhcmUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL3BsYXkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL3BsdXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL3Bvd2VyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9yb3RhdGUtY2N3LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy9zZXR0aW5ncy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvc2hpZWxkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy90cmFzaC0yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS12dWUtbmV4dC9kaXN0L2VzbS9pY29ucy90cmlhbmdsZS1hbGVydC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtdnVlLW5leHQvZGlzdC9lc20vaWNvbnMvd2lmaS1vZmYuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL3dpZmkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXZ1ZS1uZXh0L2Rpc3QvZXNtL2ljb25zL3phcC5qcyIsIi4uL3NyYy9jb21wb25lbnRzL01vZGVsQ2FyZC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9Nb2RlbENhcmQudnVlIiwiLi4vc3JjL3NldHRpbmcvU2V0dGluZy52dWUiLCIuLi9zcmMvc2V0dGluZy9TZXR0aW5nLnZ1ZSIsIi4uL3NyYy9ldmVudHMudHMiLCIuLi9zcmMvZGVmYXVsdFNldHRpbmdzLnRzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1wYXJzZXIvYnVpbGQvZXNtL2NvbW1vbnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZW5jb2RlUGFja2V0LmJyb3dzZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vY29udHJpYi9iYXNlNjQtYXJyYXlidWZmZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vZGVjb2RlUGFja2V0LmJyb3dzZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLXBhcnNlci9idWlsZC9lc20vaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlci9saWIvZXNtL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL2dsb2JhbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdXRpbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3BhcnNlcXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvcG9sbGluZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL2hhcy1jb3JzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3RyYW5zcG9ydHMvcG9sbGluZy14aHIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJzb2NrZXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy93ZWJ0cmFuc3BvcnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZW5naW5lLmlvLWNsaWVudC9idWlsZC9lc20vdHJhbnNwb3J0cy9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9jb250cmliL3BhcnNldXJpLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2VuZ2luZS5pby1jbGllbnQvYnVpbGQvZXNtL3NvY2tldC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9lbmdpbmUuaW8tY2xpZW50L2J1aWxkL2VzbS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS91cmwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLXBhcnNlci9idWlsZC9lc20vaXMtYmluYXJ5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3NvY2tldC5pby1wYXJzZXIvYnVpbGQvZXNtL2JpbmFyeS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tcGFyc2VyL2J1aWxkL2VzbS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9vbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9zb2NrZXQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vY29udHJpYi9iYWNrbzIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvc29ja2V0LmlvLWNsaWVudC9idWlsZC9lc20vbWFuYWdlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zb2NrZXQuaW8tY2xpZW50L2J1aWxkL2VzbS9pbmRleC5qcyIsIi4uLy4uL3JwYy9jbGllbnQuZ2VuZXJhdGVkLnRzIiwiLi4vc3JjL3V0aWxzL3JhbmRvbUhleFN0cmluZy50cyIsIi4uL3NyYy9jYW52YXMvYWRkRWRnZS50cyIsIi4uL3NyYy9jYW52YXMvY3JlYXRlTm9kZS50cyIsIi4uL3NyYy9jYW52YXMvZ2V0QWN0aXZlQ2FudmFzLnRzIiwiLi4vc3JjL3R5cGVzL29ic2lkaWFuLWV4dGVuc2lvbnMudHMiLCIuLi9zcmMvdXRpbHMvb2JzaWRpYW4taGVscGVycy50cyIsIi4uL3NyYy9jb21wb25lbnRzL3VpL2NhcmQvQ2FyZC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS9jYXJkL0NhcmQudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdWkvY2FyZC9DYXJkQ29udGVudC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS9jYXJkL0NhcmRDb250ZW50LnZ1ZSIsIi4uL3NyYy9zZXR0aW5nL3ByZXNldC50cyIsIi4uL3NyYy9jb21wb25lbnRzL1ByZXNldHMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvUHJlc2V0cy52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9Db21tYW5kSW5wdXRGb290ZXIudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvQ29tbWFuZElucHV0Rm9vdGVyLnZ1ZSIsIi4uL3NyYy9zaWRlcGFuZWwvdmlld3MvVmlld0hvbWUudnVlIiwiLi4vc3JjL3NpZGVwYW5lbC92aWV3cy9WaWV3SG9tZS52dWUiLCIuLi9zcmMvY29tcG9zYWJsZXMvdXNlVGhyZWFkcy50cyIsIi4uL3NyYy9zaWRlcGFuZWwvdmlld3MvVmlld0hpc3RvcnkudnVlIiwiLi4vc3JjL3NpZGVwYW5lbC92aWV3cy9WaWV3SGlzdG9yeS52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS90YWJzL1RhYnMudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdWkvdGFicy9UYWJzLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL3VpL3RhYnMvVGFic0NvbnRlbnQudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdWkvdGFicy9UYWJzQ29udGVudC52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS90YWJzL1RhYnNMaXN0LnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL3VpL3RhYnMvVGFic0xpc3QudnVlIiwiLi4vc3JjL2NvbXBvbmVudHMvdWkvdGFicy9UYWJzVHJpZ2dlci52dWUiLCIuLi9zcmMvY29tcG9uZW50cy91aS90YWJzL1RhYnNUcmlnZ2VyLnZ1ZSIsIi4uL3NyYy9jb21wb25lbnRzL1Rvb2xDYWxsRGlzcGxheS52dWUiLCIuLi9zcmMvY29tcG9uZW50cy9Ub29sQ2FsbERpc3BsYXkudnVlIiwiLi4vc3JjL3NpZGVwYW5lbC92aWV3cy9WaWV3Q29udmVyc2F0aW9uLnZ1ZSIsIi4uL3NyYy9zaWRlcGFuZWwvdmlld3MvVmlld0NvbnZlcnNhdGlvbi52dWUiLCIuLi9zcmMvY29tcG9zYWJsZXMvdXNlUGx1Z2luRXZlbnQudHMiLCIuLi9zcmMvc2lkZXBhbmVsL1NpZGVwYW5lbC52dWUiLCIuLi9zcmMvc2lkZXBhbmVsL1NpZGVwYW5lbC52dWUiLCIuLi9zcmMvc2lkZXBhbmVsL21haW4udHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbW9ua2V5LWFyb3VuZC9kaXN0L2luZGV4Lm1qcyIsIi4uL3NyYy9jYW52YXMvcGF0Y2hDYW52YXMudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMveW91dHViZS10cmFuc2NyaXB0L2Rpc3QveW91dHViZS10cmFuc2NyaXB0LmVzbS5qcyIsIi4uL3NyYy9saWIveW91dHViZVRyYW5zY3JpcHQudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZGVmdWRkbGUvZGlzdC9pbmRleC5qcyIsIi4uL3NyYy9yZWFkTm9kZUNvbnRlbnQudHMiLCIuLi9zcmMvc2VuZEFpTWVzc2FnZS50cyIsIi4uL3NyYy9zZXR0aW5nL21haW4udHMiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogQHZ1ZS9zaGFyZWQgdjMuNS4xN1xuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcbiAgY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAoY29uc3Qga2V5IG9mIHN0ci5zcGxpdChcIixcIikpIG1hcFtrZXldID0gMTtcbiAgcmV0dXJuICh2YWwpID0+IHZhbCBpbiBtYXA7XG59XG5cbmNvbnN0IEVNUFRZX09CSiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKHt9KSA6IHt9O1xuY29uc3QgRU1QVFlfQVJSID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4ge1xufTtcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XG5jb25zdCBpc09uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIHVwcGVyY2FzZSBsZXR0ZXJcbihrZXkuY2hhckNvZGVBdCgyKSA+IDEyMiB8fCBrZXkuY2hhckNvZGVBdCgyKSA8IDk3KTtcbmNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IChrZXkpID0+IGtleS5zdGFydHNXaXRoKFwib25VcGRhdGU6XCIpO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XG4gIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihlbCk7XG4gIGlmIChpID4gLTEpIHtcbiAgICBhcnIuc3BsaWNlKGksIDEpO1xuICB9XG59O1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNNYXAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE1hcF1cIjtcbmNvbnN0IGlzU2V0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBTZXRdXCI7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG5jb25zdCBpc1JlZ0V4cCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgUmVnRXhwXVwiO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIjtcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzeW1ib2xcIjtcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCI7XG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XG4gIHJldHVybiAoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcbn07XG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmIGtleSAhPT0gXCJOYU5cIiAmJiBrZXlbMF0gIT09IFwiLVwiICYmIFwiXCIgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xuY29uc3QgaXNSZXNlcnZlZFByb3AgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxuICBcIixrZXkscmVmLHJlZl9mb3IscmVmX2tleSxvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCxvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkXCJcbik7XG5jb25zdCBpc0J1aWx0SW5EaXJlY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgXCJiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCxtZW1vXCJcbik7XG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH07XG59O1xuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4ge1xuICAgIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gYyA/IGMudG9VcHBlckNhc2UoKSA6IFwiXCIpO1xuICB9XG4pO1xuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbihcbiAgKHN0cikgPT4gc3RyLnJlcGxhY2UoaHlwaGVuYXRlUkUsIFwiLSQxXCIpLnRvTG93ZXJDYXNlKClcbik7XG5jb25zdCBjYXBpdGFsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59KTtcbmNvbnN0IHRvSGFuZGxlcktleSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oXG4gIChzdHIpID0+IHtcbiAgICBjb25zdCBzID0gc3RyID8gYG9uJHtjYXBpdGFsaXplKHN0cil9YCA6IGBgO1xuICAgIHJldHVybiBzO1xuICB9XG4pO1xuY29uc3QgaGFzQ2hhbmdlZCA9ICh2YWx1ZSwgb2xkVmFsdWUpID0+ICFPYmplY3QuaXModmFsdWUsIG9sZFZhbHVlKTtcbmNvbnN0IGludm9rZUFycmF5Rm5zID0gKGZucywgLi4uYXJnKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm5zW2ldKC4uLmFyZyk7XG4gIH1cbn07XG5jb25zdCBkZWYgPSAob2JqLCBrZXksIHZhbHVlLCB3cml0YWJsZSA9IGZhbHNlKSA9PiB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICB3cml0YWJsZSxcbiAgICB2YWx1ZVxuICB9KTtcbn07XG5jb25zdCBsb29zZVRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gcGFyc2VGbG9hdCh2YWwpO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmNvbnN0IHRvTnVtYmVyID0gKHZhbCkgPT4ge1xuICBjb25zdCBuID0gaXNTdHJpbmcodmFsKSA/IE51bWJlcih2YWwpIDogTmFOO1xuICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuO1xufTtcbmxldCBfZ2xvYmFsVGhpcztcbmNvbnN0IGdldEdsb2JhbFRoaXMgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2xvYmFsVGhpcyB8fCAoX2dsb2JhbFRoaXMgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHt9KTtcbn07XG5jb25zdCBpZGVudFJFID0gL15bXyRhLXpBLVpcXHhBMC1cXHVGRkZGXVtfJGEtekEtWjAtOVxceEEwLVxcdUZGRkZdKiQvO1xuZnVuY3Rpb24gZ2VuUHJvcHNBY2Nlc3NFeHAobmFtZSkge1xuICByZXR1cm4gaWRlbnRSRS50ZXN0KG5hbWUpID8gYF9fcHJvcHMuJHtuYW1lfWAgOiBgX19wcm9wc1ske0pTT04uc3RyaW5naWZ5KG5hbWUpfV1gO1xufVxuZnVuY3Rpb24gZ2VuQ2FjaGVLZXkoc291cmNlLCBvcHRpb25zKSB7XG4gIHJldHVybiBzb3VyY2UgKyBKU09OLnN0cmluZ2lmeShcbiAgICBvcHRpb25zLFxuICAgIChfLCB2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIiA/IHZhbC50b1N0cmluZygpIDogdmFsXG4gICk7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkNBQ0hFRFwiOiAtMSxcbiAgXCItMVwiOiBcIkNBQ0hFRFwiLFxuICBcIkJBSUxcIjogLTIsXG4gIFwiLTJcIjogXCJCQUlMXCJcbn07XG5jb25zdCBQYXRjaEZsYWdOYW1lcyA9IHtcbiAgWzFdOiBgVEVYVGAsXG4gIFsyXTogYENMQVNTYCxcbiAgWzRdOiBgU1RZTEVgLFxuICBbOF06IGBQUk9QU2AsXG4gIFsxNl06IGBGVUxMX1BST1BTYCxcbiAgWzMyXTogYE5FRURfSFlEUkFUSU9OYCxcbiAgWzY0XTogYFNUQUJMRV9GUkFHTUVOVGAsXG4gIFsxMjhdOiBgS0VZRURfRlJBR01FTlRgLFxuICBbMjU2XTogYFVOS0VZRURfRlJBR01FTlRgLFxuICBbNTEyXTogYE5FRURfUEFUQ0hgLFxuICBbMTAyNF06IGBEWU5BTUlDX1NMT1RTYCxcbiAgWzIwNDhdOiBgREVWX1JPT1RfRlJBR01FTlRgLFxuICBbLTFdOiBgQ0FDSEVEYCxcbiAgWy0yXTogYEJBSUxgXG59O1xuXG5jb25zdCBTaGFwZUZsYWdzID0ge1xuICBcIkVMRU1FTlRcIjogMSxcbiAgXCIxXCI6IFwiRUxFTUVOVFwiLFxuICBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCI6IDIsXG4gIFwiMlwiOiBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCIsXG4gIFwiU1RBVEVGVUxfQ09NUE9ORU5UXCI6IDQsXG4gIFwiNFwiOiBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiLFxuICBcIlRFWFRfQ0hJTERSRU5cIjogOCxcbiAgXCI4XCI6IFwiVEVYVF9DSElMRFJFTlwiLFxuICBcIkFSUkFZX0NISUxEUkVOXCI6IDE2LFxuICBcIjE2XCI6IFwiQVJSQVlfQ0hJTERSRU5cIixcbiAgXCJTTE9UU19DSElMRFJFTlwiOiAzMixcbiAgXCIzMlwiOiBcIlNMT1RTX0NISUxEUkVOXCIsXG4gIFwiVEVMRVBPUlRcIjogNjQsXG4gIFwiNjRcIjogXCJURUxFUE9SVFwiLFxuICBcIlNVU1BFTlNFXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJTVVNQRU5TRVwiLFxuICBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UX0tFUFRfQUxJVkVcIjogNTEyLFxuICBcIjUxMlwiOiBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVFwiXG59O1xuXG5jb25zdCBTbG90RmxhZ3MgPSB7XG4gIFwiU1RBQkxFXCI6IDEsXG4gIFwiMVwiOiBcIlNUQUJMRVwiLFxuICBcIkRZTkFNSUNcIjogMixcbiAgXCIyXCI6IFwiRFlOQU1JQ1wiLFxuICBcIkZPUldBUkRFRFwiOiAzLFxuICBcIjNcIjogXCJGT1JXQVJERURcIlxufTtcbmNvbnN0IHNsb3RGbGFnc1RleHQgPSB7XG4gIFsxXTogXCJTVEFCTEVcIixcbiAgWzJdOiBcIkRZTkFNSUNcIixcbiAgWzNdOiBcIkZPUldBUkRFRFwiXG59O1xuXG5jb25zdCBHTE9CQUxTX0FMTE9XRUQgPSBcIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yLFN5bWJvbFwiO1xuY29uc3QgaXNHbG9iYWxseUFsbG93ZWQgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChHTE9CQUxTX0FMTE9XRUQpO1xuY29uc3QgaXNHbG9iYWxseVdoaXRlbGlzdGVkID0gaXNHbG9iYWxseUFsbG93ZWQ7XG5cbmNvbnN0IHJhbmdlID0gMjtcbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lKHNvdXJjZSwgc3RhcnQgPSAwLCBlbmQgPSBzb3VyY2UubGVuZ3RoKSB7XG4gIHN0YXJ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc3RhcnQsIHNvdXJjZS5sZW5ndGgpKTtcbiAgZW5kID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZW5kLCBzb3VyY2UubGVuZ3RoKSk7XG4gIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFwiXCI7XG4gIGxldCBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvKFxccj9cXG4pLyk7XG4gIGNvbnN0IG5ld2xpbmVTZXF1ZW5jZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMSk7XG4gIGxpbmVzID0gbGluZXMuZmlsdGVyKChfLCBpZHgpID0+IGlkeCAlIDIgPT09IDApO1xuICBsZXQgY291bnQgPSAwO1xuICBjb25zdCByZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIChuZXdsaW5lU2VxdWVuY2VzW2ldICYmIG5ld2xpbmVTZXF1ZW5jZXNbaV0ubGVuZ3RoIHx8IDApO1xuICAgIGlmIChjb3VudCA+PSBzdGFydCkge1xuICAgICAgZm9yIChsZXQgaiA9IGkgLSByYW5nZTsgaiA8PSBpICsgcmFuZ2UgfHwgZW5kID4gY291bnQ7IGorKykge1xuICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBsaW5lcy5sZW5ndGgpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBsaW5lID0gaiArIDE7XG4gICAgICAgIHJlcy5wdXNoKFxuICAgICAgICAgIGAke2xpbmV9JHtcIiBcIi5yZXBlYXQoTWF0aC5tYXgoMyAtIFN0cmluZyhsaW5lKS5sZW5ndGgsIDApKX18ICAke2xpbmVzW2pdfWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IGxpbmVzW2pdLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbmV3TGluZVNlcUxlbmd0aCA9IG5ld2xpbmVTZXF1ZW5jZXNbal0gJiYgbmV3bGluZVNlcXVlbmNlc1tqXS5sZW5ndGggfHwgMDtcbiAgICAgICAgaWYgKGogPT09IGkpIHtcbiAgICAgICAgICBjb25zdCBwYWQgPSBzdGFydCAtIChjb3VudCAtIChsaW5lTGVuZ3RoICsgbmV3TGluZVNlcUxlbmd0aCkpO1xuICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIGVuZCA+IGNvdW50ID8gbGluZUxlbmd0aCAtIHBhZCA6IGVuZCAtIHN0YXJ0XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiIFwiLnJlcGVhdChwYWQpICsgXCJeXCIucmVwZWF0KGxlbmd0aCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGogPiBpKSB7XG4gICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1heChNYXRoLm1pbihlbmQgLSBjb3VudCwgbGluZUxlbmd0aCksIDEpO1xuICAgICAgICAgICAgcmVzLnB1c2goYCAgIHwgIGAgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy5qb2luKFwiXFxuXCIpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTdHlsZSh2YWx1ZSkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBpdGVtID0gdmFsdWVbaV07XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gaXNTdHJpbmcoaXRlbSkgPyBwYXJzZVN0cmluZ1N0eWxlKGl0ZW0pIDogbm9ybWFsaXplU3R5bGUoaXRlbSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub3JtYWxpemVkKSB7XG4gICAgICAgICAgcmVzW2tleV0gPSBub3JtYWxpemVkW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5jb25zdCBsaXN0RGVsaW1pdGVyUkUgPSAvOyg/IVteKF0qXFwpKS9nO1xuY29uc3QgcHJvcGVydHlEZWxpbWl0ZXJSRSA9IC86KFteXSspLztcbmNvbnN0IHN0eWxlQ29tbWVudFJFID0gL1xcL1xcKlteXSo/XFwqXFwvL2c7XG5mdW5jdGlvbiBwYXJzZVN0cmluZ1N0eWxlKGNzc1RleHQpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNzc1RleHQucmVwbGFjZShzdHlsZUNvbW1lbnRSRSwgXCJcIikuc3BsaXQobGlzdERlbGltaXRlclJFKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIGNvbnN0IHRtcCA9IGl0ZW0uc3BsaXQocHJvcGVydHlEZWxpbWl0ZXJSRSk7XG4gICAgICB0bXAubGVuZ3RoID4gMSAmJiAocmV0W3RtcFswXS50cmltKCldID0gdG1wWzFdLnRyaW0oKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeVN0eWxlKHN0eWxlcykge1xuICBpZiAoIXN0eWxlcykgcmV0dXJuIFwiXCI7XG4gIGlmIChpc1N0cmluZyhzdHlsZXMpKSByZXR1cm4gc3R5bGVzO1xuICBsZXQgcmV0ID0gXCJcIjtcbiAgZm9yIChjb25zdCBrZXkgaW4gc3R5bGVzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGtleS5zdGFydHNXaXRoKGAtLWApID8ga2V5IDogaHlwaGVuYXRlKGtleSk7XG4gICAgICByZXQgKz0gYCR7bm9ybWFsaXplZEtleX06JHt2YWx1ZX07YDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzKHZhbHVlKSB7XG4gIGxldCByZXMgPSBcIlwiO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmVzID0gdmFsdWU7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplQ2xhc3ModmFsdWVbaV0pO1xuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcmVzICs9IG5vcm1hbGl6ZWQgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWVbbmFtZV0pIHtcbiAgICAgICAgcmVzICs9IG5hbWUgKyBcIiBcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcy50cmltKCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyhwcm9wcykge1xuICBpZiAoIXByb3BzKSByZXR1cm4gbnVsbDtcbiAgbGV0IHsgY2xhc3M6IGtsYXNzLCBzdHlsZSB9ID0gcHJvcHM7XG4gIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgcHJvcHMuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhrbGFzcyk7XG4gIH1cbiAgaWYgKHN0eWxlKSB7XG4gICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuXG5jb25zdCBIVE1MX1RBR1MgPSBcImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGhncm91cCxoMSxoMixoMyxoNCxoNSxoNixuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnVieSxzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbyxlbWJlZCxvYmplY3QscGFyYW0sc291cmNlLGNhbnZhcyxzY3JpcHQsbm9zY3JpcHQsZGVsLGlucyxjYXB0aW9uLGNvbCxjb2xncm91cCx0YWJsZSx0aGVhZCx0Ym9keSx0ZCx0aCx0cixidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLG91dHB1dCxwcm9ncmVzcyxzZWxlY3QsdGV4dGFyZWEsZGV0YWlscyxkaWFsb2csbWVudSxzdW1tYXJ5LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290XCI7XG5jb25zdCBTVkdfVEFHUyA9IFwic3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLGRlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCxmZURpc3RhbnRMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLGZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlcixmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3XCI7XG5jb25zdCBNQVRIX1RBR1MgPSBcImFubm90YXRpb24sYW5ub3RhdGlvbi14bWwsbWFjdGlvbixtYWxpZ25ncm91cCxtYWxpZ25tYXJrLG1hdGgsbWVuY2xvc2UsbWVycm9yLG1mZW5jZWQsbWZyYWMsbWZyYWN0aW9uLG1nbHlwaCxtaSxtbGFiZWxlZHRyLG1sb25nZGl2LG1tdWx0aXNjcmlwdHMsbW4sbW8sbW92ZXIsbXBhZGRlZCxtcGhhbnRvbSxtcHJlc2NyaXB0cyxtcm9vdCxtcm93LG1zLG1zY2Fycmllcyxtc2NhcnJ5LG1zZ3JvdXAsbXNsaW5lLG1zcGFjZSxtc3FydCxtc3Jvdyxtc3RhY2ssbXN0eWxlLG1zdWIsbXN1YnN1cCxtc3VwLG10YWJsZSxtdGQsbXRleHQsbXRyLG11bmRlcixtdW5kZXJvdmVyLG5vbmUsc2VtYW50aWNzXCI7XG5jb25zdCBWT0lEX1RBR1MgPSBcImFyZWEsYmFzZSxicixjb2wsZW1iZWQsaHIsaW1nLGlucHV0LGxpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyXCI7XG5jb25zdCBpc0hUTUxUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChIVE1MX1RBR1MpO1xuY29uc3QgaXNTVkdUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChTVkdfVEFHUyk7XG5jb25zdCBpc01hdGhNTFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKE1BVEhfVEFHUyk7XG5jb25zdCBpc1ZvaWRUYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChWT0lEX1RBR1MpO1xuXG5jb25zdCBzcGVjaWFsQm9vbGVhbkF0dHJzID0gYGl0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seWA7XG5jb25zdCBpc1NwZWNpYWxCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKHNwZWNpYWxCb29sZWFuQXR0cnMpO1xuY29uc3QgaXNCb29sZWFuQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBzcGVjaWFsQm9vbGVhbkF0dHJzICsgYCxhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY29udHJvbHMsZGVmYXVsdCxkZWZlcixkaXNhYmxlZCxoaWRkZW4saW5lcnQsbG9vcCxvcGVuLHJlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxjaGVja2VkLG11dGVkLG11bHRpcGxlLHNlbGVjdGVkYFxuKTtcbmZ1bmN0aW9uIGluY2x1ZGVCb29sZWFuQXR0cih2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSB8fCB2YWx1ZSA9PT0gXCJcIjtcbn1cbmNvbnN0IHVuc2FmZUF0dHJDaGFyUkUgPSAvWz4vPVwiJ1xcdTAwMDlcXHUwMDBhXFx1MDAwY1xcdTAwMjBdLztcbmNvbnN0IGF0dHJWYWxpZGF0aW9uQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGlzU1NSU2FmZUF0dHJOYW1lKG5hbWUpIHtcbiAgaWYgKGF0dHJWYWxpZGF0aW9uQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXTtcbiAgfVxuICBjb25zdCBpc1Vuc2FmZSA9IHVuc2FmZUF0dHJDaGFyUkUudGVzdChuYW1lKTtcbiAgaWYgKGlzVW5zYWZlKSB7XG4gICAgY29uc29sZS5lcnJvcihgdW5zYWZlIGF0dHJpYnV0ZSBuYW1lOiAke25hbWV9YCk7XG4gIH1cbiAgcmV0dXJuIGF0dHJWYWxpZGF0aW9uQ2FjaGVbbmFtZV0gPSAhaXNVbnNhZmU7XG59XG5jb25zdCBwcm9wc1RvQXR0ck1hcCA9IHtcbiAgYWNjZXB0Q2hhcnNldDogXCJhY2NlcHQtY2hhcnNldFwiLFxuICBjbGFzc05hbWU6IFwiY2xhc3NcIixcbiAgaHRtbEZvcjogXCJmb3JcIixcbiAgaHR0cEVxdWl2OiBcImh0dHAtZXF1aXZcIlxufTtcbmNvbnN0IGlzS25vd25IdG1sQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZXB0LGFjY2VwdC1jaGFyc2V0LGFjY2Vzc2tleSxhY3Rpb24sYWxpZ24sYWxsb3csYWx0LGFzeW5jLGF1dG9jYXBpdGFsaXplLGF1dG9jb21wbGV0ZSxhdXRvZm9jdXMsYXV0b3BsYXksYmFja2dyb3VuZCxiZ2NvbG9yLGJvcmRlcixidWZmZXJlZCxjYXB0dXJlLGNoYWxsZW5nZSxjaGFyc2V0LGNoZWNrZWQsY2l0ZSxjbGFzcyxjb2RlLGNvZGViYXNlLGNvbG9yLGNvbHMsY29sc3Bhbixjb250ZW50LGNvbnRlbnRlZGl0YWJsZSxjb250ZXh0bWVudSxjb250cm9scyxjb29yZHMsY3Jvc3NvcmlnaW4sY3NwLGRhdGEsZGF0ZXRpbWUsZGVjb2RpbmcsZGVmYXVsdCxkZWZlcixkaXIsZGlybmFtZSxkaXNhYmxlZCxkb3dubG9hZCxkcmFnZ2FibGUsZHJvcHpvbmUsZW5jdHlwZSxlbnRlcmtleWhpbnQsZm9yLGZvcm0sZm9ybWFjdGlvbixmb3JtZW5jdHlwZSxmb3JtbWV0aG9kLGZvcm1ub3ZhbGlkYXRlLGZvcm10YXJnZXQsaGVhZGVycyxoZWlnaHQsaGlkZGVuLGhpZ2gsaHJlZixocmVmbGFuZyxodHRwLWVxdWl2LGljb24saWQsaW1wb3J0YW5jZSxpbmVydCxpbnRlZ3JpdHksaXNtYXAsaXRlbXByb3Asa2V5dHlwZSxraW5kLGxhYmVsLGxhbmcsbGFuZ3VhZ2UsbG9hZGluZyxsaXN0LGxvb3AsbG93LG1hbmlmZXN0LG1heCxtYXhsZW5ndGgsbWlubGVuZ3RoLG1lZGlhLG1pbixtdWx0aXBsZSxtdXRlZCxuYW1lLG5vdmFsaWRhdGUsb3BlbixvcHRpbXVtLHBhdHRlcm4scGluZyxwbGFjZWhvbGRlcixwb3N0ZXIscHJlbG9hZCxyYWRpb2dyb3VwLHJlYWRvbmx5LHJlZmVycmVycG9saWN5LHJlbCxyZXF1aXJlZCxyZXZlcnNlZCxyb3dzLHJvd3NwYW4sc2FuZGJveCxzY29wZSxzY29wZWQsc2VsZWN0ZWQsc2hhcGUsc2l6ZSxzaXplcyxzbG90LHNwYW4sc3BlbGxjaGVjayxzcmMsc3JjZG9jLHNyY2xhbmcsc3Jjc2V0LHN0YXJ0LHN0ZXAsc3R5bGUsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHJhbnNsYXRlLHR5cGUsdXNlbWFwLHZhbHVlLHdpZHRoLHdyYXBgXG4pO1xuY29uc3QgaXNLbm93blN2Z0F0dHIgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgYHhtbG5zLGFjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbGlnbm1lbnQtYmFzZWxpbmUsYWxwaGFiZXRpYyxhbXBsaXR1ZGUsYXJhYmljLWZvcm0sYXNjZW50LGF0dHJpYnV0ZU5hbWUsYXR0cmlidXRlVHlwZSxhemltdXRoLGJhc2VGcmVxdWVuY3ksYmFzZWxpbmUtc2hpZnQsYmFzZVByb2ZpbGUsYmJveCxiZWdpbixiaWFzLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY2xpcCxjbGlwUGF0aFVuaXRzLGNsaXAtcGF0aCxjbGlwLXJ1bGUsY29sb3IsY29sb3ItaW50ZXJwb2xhdGlvbixjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMsY29sb3ItcHJvZmlsZSxjb2xvci1yZW5kZXJpbmcsY29udGVudFNjcmlwdFR5cGUsY29udGVudFN0eWxlVHlwZSxjcm9zc29yaWdpbixjdXJzb3IsY3gsY3ksZCxkZWNlbGVyYXRlLGRlc2NlbnQsZGlmZnVzZUNvbnN0YW50LGRpcmVjdGlvbixkaXNwbGF5LGRpdmlzb3IsZG9taW5hbnQtYmFzZWxpbmUsZHVyLGR4LGR5LGVkZ2VNb2RlLGVsZXZhdGlvbixlbmFibGUtYmFja2dyb3VuZCxlbmQsZXhwb25lbnQsZmlsbCxmaWxsLW9wYWNpdHksZmlsbC1ydWxlLGZpbHRlcixmaWx0ZXJSZXMsZmlsdGVyVW5pdHMsZmxvb2QtY29sb3IsZmxvb2Qtb3BhY2l0eSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zaXplLWFkanVzdCxmb250LXN0cmV0Y2gsZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZm9ybWF0LGZyb20sZnIsZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsLGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsLGdseXBoUmVmLGdyYWRpZW50VHJhbnNmb3JtLGdyYWRpZW50VW5pdHMsaGFuZ2luZyxoZWlnaHQsaHJlZixocmVmbGFuZyxob3Jpei1hZHYteCxob3Jpei1vcmlnaW4teCxpZCxpZGVvZ3JhcGhpYyxpbWFnZS1yZW5kZXJpbmcsaW4saW4yLGludGVyY2VwdCxrLGsxLGsyLGszLGs0LGtlcm5lbE1hdHJpeCxrZXJuZWxVbml0TGVuZ3RoLGtlcm5pbmcsa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZyxsZW5ndGhBZGp1c3QsbGV0dGVyLXNwYWNpbmcsbGlnaHRpbmctY29sb3IsbGltaXRpbmdDb25lQW5nbGUsbG9jYWwsbWFya2VyLWVuZCxtYXJrZXItbWlkLG1hcmtlci1zdGFydCxtYXJrZXJIZWlnaHQsbWFya2VyVW5pdHMsbWFya2VyV2lkdGgsbWFzayxtYXNrQ29udGVudFVuaXRzLG1hc2tVbml0cyxtYXRoZW1hdGljYWwsbWF4LG1lZGlhLG1ldGhvZCxtaW4sbW9kZSxuYW1lLG51bU9jdGF2ZXMsb2Zmc2V0LG9wYWNpdHksb3BlcmF0b3Isb3JkZXIsb3JpZW50LG9yaWVudGF0aW9uLG9yaWdpbixvdmVyZmxvdyxvdmVybGluZS1wb3NpdGlvbixvdmVybGluZS10aGlja25lc3MscGFub3NlLTEscGFpbnQtb3JkZXIscGF0aCxwYXRoTGVuZ3RoLHBhdHRlcm5Db250ZW50VW5pdHMscGF0dGVyblRyYW5zZm9ybSxwYXR0ZXJuVW5pdHMscGluZyxwb2ludGVyLWV2ZW50cyxwb2ludHMscG9pbnRzQXRYLHBvaW50c0F0WSxwb2ludHNBdFoscHJlc2VydmVBbHBoYSxwcmVzZXJ2ZUFzcGVjdFJhdGlvLHByaW1pdGl2ZVVuaXRzLHIscmFkaXVzLHJlZmVycmVyUG9saWN5LHJlZlgscmVmWSxyZWwscmVuZGVyaW5nLWludGVudCxyZXBlYXRDb3VudCxyZXBlYXREdXIscmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyZXN1bHQscm90YXRlLHJ4LHJ5LHNjYWxlLHNlZWQsc2hhcGUtcmVuZGVyaW5nLHNsb3BlLHNwYWNpbmcsc3BlY3VsYXJDb25zdGFudCxzcGVjdWxhckV4cG9uZW50LHNwZWVkLHNwcmVhZE1ldGhvZCxzdGFydE9mZnNldCxzdGREZXZpYXRpb24sc3RlbWgsc3RlbXYsc3RpdGNoVGlsZXMsc3RvcC1jb2xvcixzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJpbmcsc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LHN0cm9rZS13aWR0aCxzdHlsZSxzdXJmYWNlU2NhbGUsc3lzdGVtTGFuZ3VhZ2UsdGFiaW5kZXgsdGFibGVWYWx1ZXMsdGFyZ2V0LHRhcmdldFgsdGFyZ2V0WSx0ZXh0LWFuY2hvcix0ZXh0LWRlY29yYXRpb24sdGV4dC1yZW5kZXJpbmcsdGV4dExlbmd0aCx0byx0cmFuc2Zvcm0sdHJhbnNmb3JtLW9yaWdpbix0eXBlLHUxLHUyLHVuZGVybGluZS1wb3NpdGlvbix1bmRlcmxpbmUtdGhpY2tuZXNzLHVuaWNvZGUsdW5pY29kZS1iaWRpLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHYtYWxwaGFiZXRpYyx2LWhhbmdpbmcsdi1pZGVvZ3JhcGhpYyx2LW1hdGhlbWF0aWNhbCx2YWx1ZXMsdmVjdG9yLWVmZmVjdCx2ZXJzaW9uLHZlcnQtYWR2LXksdmVydC1vcmlnaW4teCx2ZXJ0LW9yaWdpbi15LHZpZXdCb3gsdmlld1RhcmdldCx2aXNpYmlsaXR5LHdpZHRoLHdpZHRocyx3b3JkLXNwYWNpbmcsd3JpdGluZy1tb2RlLHgseC1oZWlnaHQseDEseDIseENoYW5uZWxTZWxlY3Rvcix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6aHJlZix4bGluazpyb2xlLHhsaW5rOnNob3cseGxpbms6dGl0bGUseGxpbms6dHlwZSx4bWxuczp4bGluayx4bWw6YmFzZSx4bWw6bGFuZyx4bWw6c3BhY2UseSx5MSx5Mix5Q2hhbm5lbFNlbGVjdG9yLHosem9vbUFuZFBhbmBcbik7XG5jb25zdCBpc0tub3duTWF0aE1MQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgYWNjZW50LGFjY2VudHVuZGVyLGFjdGlvbnR5cGUsYWxpZ24sYWxpZ25tZW50c2NvcGUsYWx0aW1nLGFsdGltZy1oZWlnaHQsYWx0aW1nLXZhbGlnbixhbHRpbWctd2lkdGgsYWx0dGV4dCxiZXZlbGxlZCxjbG9zZSxjb2x1bW5zYWxpZ24sY29sdW1ubGluZXMsY29sdW1uc3BhbixkZW5vbWFsaWduLGRlcHRoLGRpcixkaXNwbGF5LGRpc3BsYXlzdHlsZSxlbmNvZGluZyxlcXVhbGNvbHVtbnMsZXF1YWxyb3dzLGZlbmNlLGZvbnRzdHlsZSxmb250d2VpZ2h0LGZvcm0sZnJhbWUsZnJhbWVzcGFjaW5nLGdyb3VwYWxpZ24saGVpZ2h0LGhyZWYsaWQsaW5kZW50YWxpZ24saW5kZW50YWxpZ25maXJzdCxpbmRlbnRhbGlnbmxhc3QsaW5kZW50c2hpZnQsaW5kZW50c2hpZnRmaXJzdCxpbmRlbnRzaGlmdGxhc3QsaW5kZXh0eXBlLGp1c3RpZnksbGFyZ2V0b3AsbGFyZ2VvcCxscXVvdGUsbHNwYWNlLG1hdGhiYWNrZ3JvdW5kLG1hdGhjb2xvcixtYXRoc2l6ZSxtYXRodmFyaWFudCxtYXhzaXplLG1pbmxhYmVsc3BhY2luZyxtb2RlLG90aGVyLG92ZXJmbG93LHBvc2l0aW9uLHJvd2FsaWduLHJvd2xpbmVzLHJvd3NwYW4scnF1b3RlLHJzcGFjZSxzY3JpcHRsZXZlbCxzY3JpcHRtaW5zaXplLHNjcmlwdHNpemVtdWx0aXBsaWVyLHNlbGVjdGlvbixzZXBhcmF0b3Isc2VwYXJhdG9ycyxzaGlmdCxzaWRlLHNyYyxzdGFja2FsaWduLHN0cmV0Y2h5LHN1YnNjcmlwdHNoaWZ0LHN1cGVyc2NyaXB0c2hpZnQsc3ltbWV0cmljLHZvZmZzZXQsd2lkdGgsd2lkdGhzLHhsaW5rOmhyZWYseGxpbms6c2hvdyx4bGluazp0eXBlLHhtbG5zYFxuKTtcbmZ1bmN0aW9uIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiO1xufVxuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICBjb25zdCBzdHIgPSBcIlwiICsgc3RyaW5nO1xuICBjb25zdCBtYXRjaCA9IGVzY2FwZVJFLmV4ZWMoc3RyKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgbGV0IGh0bWwgPSBcIlwiO1xuICBsZXQgZXNjYXBlZDtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xuICAgICAgY2FzZSAzNDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJnF1b3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmFtcDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBlc2NhcGVkID0gXCImIzM5O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjA6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZsdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYyOlxuICAgICAgICBlc2NhcGVkID0gXCImZ3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XG4gICAgICBodG1sICs9IHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KTtcbiAgICB9XG4gICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xuICAgIGh0bWwgKz0gZXNjYXBlZDtcbiAgfVxuICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xufVxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xuICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsIFwiXCIpO1xufVxuY29uc3QgY3NzVmFyTmFtZUVzY2FwZVN5bWJvbHNSRSA9IC9bICFcIiMkJSYnKCkqKywuLzo7PD0+P0BbXFxcXFxcXV5ge3x9fl0vZztcbmZ1bmN0aW9uIGdldEVzY2FwZWRDc3NWYXJOYW1lKGtleSwgZG91YmxlRXNjYXBlKSB7XG4gIHJldHVybiBrZXkucmVwbGFjZShcbiAgICBjc3NWYXJOYW1lRXNjYXBlU3ltYm9sc1JFLFxuICAgIChzKSA9PiBkb3VibGVFc2NhcGUgPyBzID09PSAnXCInID8gJ1xcXFxcXFxcXFxcXFwiJyA6IGBcXFxcXFxcXCR7c31gIDogYFxcXFwke3N9YFxuICApO1xufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGxldCBlcXVhbCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcbiAgfVxuICByZXR1cm4gZXF1YWw7XG59XG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKGFIYXNLZXkgJiYgIWJIYXNLZXkgfHwgIWFIYXNLZXkgJiYgYkhhc0tleSB8fCAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5maW5kSW5kZXgoKGl0ZW0pID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbmNvbnN0IGlzUmVmID0gKHZhbCkgPT4ge1xuICByZXR1cm4gISEodmFsICYmIHZhbFtcIl9fdl9pc1JlZlwiXSA9PT0gdHJ1ZSk7XG59O1xuY29uc3QgdG9EaXNwbGF5U3RyaW5nID0gKHZhbCkgPT4ge1xuICByZXR1cm4gaXNTdHJpbmcodmFsKSA/IHZhbCA6IHZhbCA9PSBudWxsID8gXCJcIiA6IGlzQXJyYXkodmFsKSB8fCBpc09iamVjdCh2YWwpICYmICh2YWwudG9TdHJpbmcgPT09IG9iamVjdFRvU3RyaW5nIHx8ICFpc0Z1bmN0aW9uKHZhbC50b1N0cmluZykpID8gaXNSZWYodmFsKSA/IHRvRGlzcGxheVN0cmluZyh2YWwudmFsdWUpIDogSlNPTi5zdHJpbmdpZnkodmFsLCByZXBsYWNlciwgMikgOiBTdHJpbmcodmFsKTtcbn07XG5jb25zdCByZXBsYWNlciA9IChfa2V5LCB2YWwpID0+IHtcbiAgaWYgKGlzUmVmKHZhbCkpIHtcbiAgICByZXR1cm4gcmVwbGFjZXIoX2tleSwgdmFsLnZhbHVlKTtcbiAgfSBlbHNlIGlmIChpc01hcCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgTWFwKCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLmVudHJpZXMoKV0ucmVkdWNlKFxuICAgICAgICAoZW50cmllcywgW2tleSwgdmFsMl0sIGkpID0+IHtcbiAgICAgICAgICBlbnRyaWVzW3N0cmluZ2lmeVN5bWJvbChrZXksIGkpICsgXCIgPT5cIl0gPSB2YWwyO1xuICAgICAgICAgIHJldHVybiBlbnRyaWVzO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKVxuICAgIH07XG4gIH0gZWxzZSBpZiAoaXNTZXQodmFsKSkge1xuICAgIHJldHVybiB7XG4gICAgICBbYFNldCgke3ZhbC5zaXplfSlgXTogWy4uLnZhbC52YWx1ZXMoKV0ubWFwKCh2KSA9PiBzdHJpbmdpZnlTeW1ib2wodikpXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1N5bWJvbCh2YWwpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVN5bWJvbCh2YWwpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbCkgJiYgIWlzQXJyYXkodmFsKSAmJiAhaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICB9XG4gIHJldHVybiB2YWw7XG59O1xuY29uc3Qgc3RyaW5naWZ5U3ltYm9sID0gKHYsIGkgPSBcIlwiKSA9PiB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChcbiAgICAvLyBTeW1ib2wuZGVzY3JpcHRpb24gaW4gZXMyMDE5KyBzbyB3ZSBuZWVkIHRvIGNhc3QgaGVyZSB0byBwYXNzXG4gICAgLy8gdGhlIGxpYjogZXMyMDE2IGNoZWNrXG4gICAgaXNTeW1ib2wodikgPyBgU3ltYm9sKCR7KF9hID0gdi5kZXNjcmlwdGlvbikgIT0gbnVsbCA/IF9hIDogaX0pYCA6IHZcbiAgKTtcbn07XG5cbmV4cG9ydCB7IEVNUFRZX0FSUiwgRU1QVFlfT0JKLCBOTywgTk9PUCwgUGF0Y2hGbGFnTmFtZXMsIFBhdGNoRmxhZ3MsIFNoYXBlRmxhZ3MsIFNsb3RGbGFncywgY2FtZWxpemUsIGNhcGl0YWxpemUsIGNzc1Zhck5hbWVFc2NhcGVTeW1ib2xzUkUsIGRlZiwgZXNjYXBlSHRtbCwgZXNjYXBlSHRtbENvbW1lbnQsIGV4dGVuZCwgZ2VuQ2FjaGVLZXksIGdlblByb3BzQWNjZXNzRXhwLCBnZW5lcmF0ZUNvZGVGcmFtZSwgZ2V0RXNjYXBlZENzc1Zhck5hbWUsIGdldEdsb2JhbFRoaXMsIGhhc0NoYW5nZWQsIGhhc093biwgaHlwaGVuYXRlLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGludm9rZUFycmF5Rm5zLCBpc0FycmF5LCBpc0Jvb2xlYW5BdHRyLCBpc0J1aWx0SW5EaXJlY3RpdmUsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseUFsbG93ZWQsIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCwgaXNIVE1MVGFnLCBpc0ludGVnZXJLZXksIGlzS25vd25IdG1sQXR0ciwgaXNLbm93bk1hdGhNTEF0dHIsIGlzS25vd25TdmdBdHRyLCBpc01hcCwgaXNNYXRoTUxUYWcsIGlzTW9kZWxMaXN0ZW5lciwgaXNPYmplY3QsIGlzT24sIGlzUGxhaW5PYmplY3QsIGlzUHJvbWlzZSwgaXNSZWdFeHAsIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSwgaXNSZXNlcnZlZFByb3AsIGlzU1NSU2FmZUF0dHJOYW1lLCBpc1NWR1RhZywgaXNTZXQsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpc1N0cmluZywgaXNTeW1ib2wsIGlzVm9pZFRhZywgbG9vc2VFcXVhbCwgbG9vc2VJbmRleE9mLCBsb29zZVRvTnVtYmVyLCBtYWtlTWFwLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplUHJvcHMsIG5vcm1hbGl6ZVN0eWxlLCBvYmplY3RUb1N0cmluZywgcGFyc2VTdHJpbmdTdHlsZSwgcHJvcHNUb0F0dHJNYXAsIHJlbW92ZSwgc2xvdEZsYWdzVGV4dCwgc3RyaW5naWZ5U3R5bGUsIHRvRGlzcGxheVN0cmluZywgdG9IYW5kbGVyS2V5LCB0b051bWJlciwgdG9SYXdUeXBlLCB0b1R5cGVTdHJpbmcgfTtcbiIsIi8qKlxuKiBAdnVlL3JlYWN0aXZpdHkgdjMuNS4xN1xuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgZXh0ZW5kLCBoYXNDaGFuZ2VkLCBpc0FycmF5LCBpc0ludGVnZXJLZXksIGlzU3ltYm9sLCBpc01hcCwgaGFzT3duLCBtYWtlTWFwLCBpc09iamVjdCwgY2FwaXRhbGl6ZSwgdG9SYXdUeXBlLCBkZWYsIGlzRnVuY3Rpb24sIEVNUFRZX09CSiwgaXNTZXQsIGlzUGxhaW5PYmplY3QsIHJlbW92ZSwgTk9PUCB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuZnVuY3Rpb24gd2Fybihtc2csIC4uLmFyZ3MpIHtcbiAgY29uc29sZS53YXJuKGBbVnVlIHdhcm5dICR7bXNnfWAsIC4uLmFyZ3MpO1xufVxuXG5sZXQgYWN0aXZlRWZmZWN0U2NvcGU7XG5jbGFzcyBFZmZlY3RTY29wZSB7XG4gIGNvbnN0cnVjdG9yKGRldGFjaGVkID0gZmFsc2UpIHtcbiAgICB0aGlzLmRldGFjaGVkID0gZGV0YWNoZWQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWwgdHJhY2sgYG9uYCBjYWxscywgYWxsb3cgYG9uYCBjYWxsIG11bHRpcGxlIHRpbWVzXG4gICAgICovXG4gICAgdGhpcy5fb24gPSAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZWZmZWN0cyA9IFtdO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuY2xlYW51cHMgPSBbXTtcbiAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgIHRoaXMucGFyZW50ID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgaWYgKCFkZXRhY2hlZCAmJiBhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgICAgdGhpcy5pbmRleCA9IChhY3RpdmVFZmZlY3RTY29wZS5zY29wZXMgfHwgKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyA9IFtdKSkucHVzaChcbiAgICAgICAgdGhpc1xuICAgICAgKSAtIDE7XG4gICAgfVxuICB9XG4gIGdldCBhY3RpdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FjdGl2ZTtcbiAgfVxuICBwYXVzZSgpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgICBsZXQgaSwgbDtcbiAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zY29wZXNbaV0ucGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnBhdXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZXN1bWVzIHRoZSBlZmZlY3Qgc2NvcGUsIGluY2x1ZGluZyBhbGwgY2hpbGQgc2NvcGVzIGFuZCBlZmZlY3RzLlxuICAgKi9cbiAgcmVzdW1lKCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIGlmICh0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgaSwgbDtcbiAgICAgICAgaWYgKHRoaXMuc2NvcGVzKSB7XG4gICAgICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuc2NvcGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zY29wZXNbaV0ucmVzdW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSB0aGlzLmVmZmVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJ1bihmbikge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRFZmZlY3RTY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gY3VycmVudEVmZmVjdFNjb3BlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihgY2Fubm90IHJ1biBhbiBpbmFjdGl2ZSBlZmZlY3Qgc2NvcGUuYCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb24oKSB7XG4gICAgaWYgKCsrdGhpcy5fb24gPT09IDEpIHtcbiAgICAgIHRoaXMucHJldlNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGU7XG4gICAgICBhY3RpdmVFZmZlY3RTY29wZSA9IHRoaXM7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb2ZmKCkge1xuICAgIGlmICh0aGlzLl9vbiA+IDAgJiYgLS10aGlzLl9vbiA9PT0gMCkge1xuICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzLnByZXZTY29wZTtcbiAgICAgIHRoaXMucHJldlNjb3BlID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBzdG9wKGZyb21QYXJlbnQpIHtcbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcbiAgICAgIGxldCBpLCBsO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuZWZmZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy5lZmZlY3RzW2ldLnN0b3AoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWZmZWN0cy5sZW5ndGggPSAwO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cHNbaV0oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYW51cHMubGVuZ3RoID0gMDtcbiAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zY29wZXNbaV0uc3RvcCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjb3Blcy5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmRldGFjaGVkICYmIHRoaXMucGFyZW50ICYmICFmcm9tUGFyZW50KSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhcmVudC5zY29wZXMucG9wKCk7XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QgIT09IHRoaXMpIHtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF0gPSBsYXN0O1xuICAgICAgICAgIGxhc3QuaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnBhcmVudCA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGVmZmVjdFNjb3BlKGRldGFjaGVkKSB7XG4gIHJldHVybiBuZXcgRWZmZWN0U2NvcGUoZGV0YWNoZWQpO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudFNjb3BlKCkge1xuICByZXR1cm4gYWN0aXZlRWZmZWN0U2NvcGU7XG59XG5mdW5jdGlvbiBvblNjb3BlRGlzcG9zZShmbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UpIHtcbiAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUuY2xlYW51cHMucHVzaChmbik7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZmFpbFNpbGVudGx5KSB7XG4gICAgd2FybihcbiAgICAgIGBvblNjb3BlRGlzcG9zZSgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBlZmZlY3Qgc2NvcGUgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG59XG5cbmxldCBhY3RpdmVTdWI7XG5jb25zdCBFZmZlY3RGbGFncyA9IHtcbiAgXCJBQ1RJVkVcIjogMSxcbiAgXCIxXCI6IFwiQUNUSVZFXCIsXG4gIFwiUlVOTklOR1wiOiAyLFxuICBcIjJcIjogXCJSVU5OSU5HXCIsXG4gIFwiVFJBQ0tJTkdcIjogNCxcbiAgXCI0XCI6IFwiVFJBQ0tJTkdcIixcbiAgXCJOT1RJRklFRFwiOiA4LFxuICBcIjhcIjogXCJOT1RJRklFRFwiLFxuICBcIkRJUlRZXCI6IDE2LFxuICBcIjE2XCI6IFwiRElSVFlcIixcbiAgXCJBTExPV19SRUNVUlNFXCI6IDMyLFxuICBcIjMyXCI6IFwiQUxMT1dfUkVDVVJTRVwiLFxuICBcIlBBVVNFRFwiOiA2NCxcbiAgXCI2NFwiOiBcIlBBVVNFRFwiLFxuICBcIkVWQUxVQVRFRFwiOiAxMjgsXG4gIFwiMTI4XCI6IFwiRVZBTFVBVEVEXCJcbn07XG5jb25zdCBwYXVzZWRRdWV1ZUVmZmVjdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbmNsYXNzIFJlYWN0aXZlRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoZm4pIHtcbiAgICB0aGlzLmZuID0gZm47XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwc1RhaWwgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5mbGFncyA9IDEgfCA0O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmNsZWFudXAgPSB2b2lkIDA7XG4gICAgdGhpcy5zY2hlZHVsZXIgPSB2b2lkIDA7XG4gICAgaWYgKGFjdGl2ZUVmZmVjdFNjb3BlICYmIGFjdGl2ZUVmZmVjdFNjb3BlLmFjdGl2ZSkge1xuICAgICAgYWN0aXZlRWZmZWN0U2NvcGUuZWZmZWN0cy5wdXNoKHRoaXMpO1xuICAgIH1cbiAgfVxuICBwYXVzZSgpIHtcbiAgICB0aGlzLmZsYWdzIHw9IDY0O1xuICB9XG4gIHJlc3VtZSgpIHtcbiAgICBpZiAodGhpcy5mbGFncyAmIDY0KSB7XG4gICAgICB0aGlzLmZsYWdzICY9IC02NTtcbiAgICAgIGlmIChwYXVzZWRRdWV1ZUVmZmVjdHMuaGFzKHRoaXMpKSB7XG4gICAgICAgIHBhdXNlZFF1ZXVlRWZmZWN0cy5kZWxldGUodGhpcyk7XG4gICAgICAgIHRoaXMudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnkoKSB7XG4gICAgaWYgKHRoaXMuZmxhZ3MgJiAyICYmICEodGhpcy5mbGFncyAmIDMyKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoISh0aGlzLmZsYWdzICYgOCkpIHtcbiAgICAgIGJhdGNoKHRoaXMpO1xuICAgIH1cbiAgfVxuICBydW4oKSB7XG4gICAgaWYgKCEodGhpcy5mbGFncyAmIDEpKSB7XG4gICAgICByZXR1cm4gdGhpcy5mbigpO1xuICAgIH1cbiAgICB0aGlzLmZsYWdzIHw9IDI7XG4gICAgY2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICBwcmVwYXJlRGVwcyh0aGlzKTtcbiAgICBjb25zdCBwcmV2RWZmZWN0ID0gYWN0aXZlU3ViO1xuICAgIGNvbnN0IHByZXZTaG91bGRUcmFjayA9IHNob3VsZFRyYWNrO1xuICAgIGFjdGl2ZVN1YiA9IHRoaXM7XG4gICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5mbigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhY3RpdmVTdWIgIT09IHRoaXMpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBcIkFjdGl2ZSBlZmZlY3Qgd2FzIG5vdCByZXN0b3JlZCBjb3JyZWN0bHkgLSB0aGlzIGlzIGxpa2VseSBhIFZ1ZSBpbnRlcm5hbCBidWcuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNsZWFudXBEZXBzKHRoaXMpO1xuICAgICAgYWN0aXZlU3ViID0gcHJldkVmZmVjdDtcbiAgICAgIHNob3VsZFRyYWNrID0gcHJldlNob3VsZFRyYWNrO1xuICAgICAgdGhpcy5mbGFncyAmPSAtMztcbiAgICB9XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBpZiAodGhpcy5mbGFncyAmIDEpIHtcbiAgICAgIGZvciAobGV0IGxpbmsgPSB0aGlzLmRlcHM7IGxpbms7IGxpbmsgPSBsaW5rLm5leHREZXApIHtcbiAgICAgICAgcmVtb3ZlU3ViKGxpbmspO1xuICAgICAgfVxuICAgICAgdGhpcy5kZXBzID0gdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAgIGNsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICB0aGlzLm9uU3RvcCAmJiB0aGlzLm9uU3RvcCgpO1xuICAgICAgdGhpcy5mbGFncyAmPSAtMjtcbiAgICB9XG4gIH1cbiAgdHJpZ2dlcigpIHtcbiAgICBpZiAodGhpcy5mbGFncyAmIDY0KSB7XG4gICAgICBwYXVzZWRRdWV1ZUVmZmVjdHMuYWRkKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zY2hlZHVsZXIpIHtcbiAgICAgIHRoaXMuc2NoZWR1bGVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucnVuSWZEaXJ0eSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBydW5JZkRpcnR5KCkge1xuICAgIGlmIChpc0RpcnR5KHRoaXMpKSB7XG4gICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgfVxuICBnZXQgZGlydHkoKSB7XG4gICAgcmV0dXJuIGlzRGlydHkodGhpcyk7XG4gIH1cbn1cbmxldCBiYXRjaERlcHRoID0gMDtcbmxldCBiYXRjaGVkU3ViO1xubGV0IGJhdGNoZWRDb21wdXRlZDtcbmZ1bmN0aW9uIGJhdGNoKHN1YiwgaXNDb21wdXRlZCA9IGZhbHNlKSB7XG4gIHN1Yi5mbGFncyB8PSA4O1xuICBpZiAoaXNDb21wdXRlZCkge1xuICAgIHN1Yi5uZXh0ID0gYmF0Y2hlZENvbXB1dGVkO1xuICAgIGJhdGNoZWRDb21wdXRlZCA9IHN1YjtcbiAgICByZXR1cm47XG4gIH1cbiAgc3ViLm5leHQgPSBiYXRjaGVkU3ViO1xuICBiYXRjaGVkU3ViID0gc3ViO1xufVxuZnVuY3Rpb24gc3RhcnRCYXRjaCgpIHtcbiAgYmF0Y2hEZXB0aCsrO1xufVxuZnVuY3Rpb24gZW5kQmF0Y2goKSB7XG4gIGlmICgtLWJhdGNoRGVwdGggPiAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChiYXRjaGVkQ29tcHV0ZWQpIHtcbiAgICBsZXQgZSA9IGJhdGNoZWRDb21wdXRlZDtcbiAgICBiYXRjaGVkQ29tcHV0ZWQgPSB2b2lkIDA7XG4gICAgd2hpbGUgKGUpIHtcbiAgICAgIGNvbnN0IG5leHQgPSBlLm5leHQ7XG4gICAgICBlLm5leHQgPSB2b2lkIDA7XG4gICAgICBlLmZsYWdzICY9IC05O1xuICAgICAgZSA9IG5leHQ7XG4gICAgfVxuICB9XG4gIGxldCBlcnJvcjtcbiAgd2hpbGUgKGJhdGNoZWRTdWIpIHtcbiAgICBsZXQgZSA9IGJhdGNoZWRTdWI7XG4gICAgYmF0Y2hlZFN1YiA9IHZvaWQgMDtcbiAgICB3aGlsZSAoZSkge1xuICAgICAgY29uc3QgbmV4dCA9IGUubmV4dDtcbiAgICAgIGUubmV4dCA9IHZvaWQgMDtcbiAgICAgIGUuZmxhZ3MgJj0gLTk7XG4gICAgICBpZiAoZS5mbGFncyAmIDEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICA7XG4gICAgICAgICAgZS50cmlnZ2VyKCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlID0gbmV4dDtcbiAgICB9XG4gIH1cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbn1cbmZ1bmN0aW9uIHByZXBhcmVEZXBzKHN1Yikge1xuICBmb3IgKGxldCBsaW5rID0gc3ViLmRlcHM7IGxpbms7IGxpbmsgPSBsaW5rLm5leHREZXApIHtcbiAgICBsaW5rLnZlcnNpb24gPSAtMTtcbiAgICBsaW5rLnByZXZBY3RpdmVMaW5rID0gbGluay5kZXAuYWN0aXZlTGluaztcbiAgICBsaW5rLmRlcC5hY3RpdmVMaW5rID0gbGluaztcbiAgfVxufVxuZnVuY3Rpb24gY2xlYW51cERlcHMoc3ViKSB7XG4gIGxldCBoZWFkO1xuICBsZXQgdGFpbCA9IHN1Yi5kZXBzVGFpbDtcbiAgbGV0IGxpbmsgPSB0YWlsO1xuICB3aGlsZSAobGluaykge1xuICAgIGNvbnN0IHByZXYgPSBsaW5rLnByZXZEZXA7XG4gICAgaWYgKGxpbmsudmVyc2lvbiA9PT0gLTEpIHtcbiAgICAgIGlmIChsaW5rID09PSB0YWlsKSB0YWlsID0gcHJldjtcbiAgICAgIHJlbW92ZVN1YihsaW5rKTtcbiAgICAgIHJlbW92ZURlcChsaW5rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZCA9IGxpbms7XG4gICAgfVxuICAgIGxpbmsuZGVwLmFjdGl2ZUxpbmsgPSBsaW5rLnByZXZBY3RpdmVMaW5rO1xuICAgIGxpbmsucHJldkFjdGl2ZUxpbmsgPSB2b2lkIDA7XG4gICAgbGluayA9IHByZXY7XG4gIH1cbiAgc3ViLmRlcHMgPSBoZWFkO1xuICBzdWIuZGVwc1RhaWwgPSB0YWlsO1xufVxuZnVuY3Rpb24gaXNEaXJ0eShzdWIpIHtcbiAgZm9yIChsZXQgbGluayA9IHN1Yi5kZXBzOyBsaW5rOyBsaW5rID0gbGluay5uZXh0RGVwKSB7XG4gICAgaWYgKGxpbmsuZGVwLnZlcnNpb24gIT09IGxpbmsudmVyc2lvbiB8fCBsaW5rLmRlcC5jb21wdXRlZCAmJiAocmVmcmVzaENvbXB1dGVkKGxpbmsuZGVwLmNvbXB1dGVkKSB8fCBsaW5rLmRlcC52ZXJzaW9uICE9PSBsaW5rLnZlcnNpb24pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHN1Yi5fZGlydHkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiByZWZyZXNoQ29tcHV0ZWQoY29tcHV0ZWQpIHtcbiAgaWYgKGNvbXB1dGVkLmZsYWdzICYgNCAmJiAhKGNvbXB1dGVkLmZsYWdzICYgMTYpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbXB1dGVkLmZsYWdzICY9IC0xNztcbiAgaWYgKGNvbXB1dGVkLmdsb2JhbFZlcnNpb24gPT09IGdsb2JhbFZlcnNpb24pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29tcHV0ZWQuZ2xvYmFsVmVyc2lvbiA9IGdsb2JhbFZlcnNpb247XG4gIGlmICghY29tcHV0ZWQuaXNTU1IgJiYgY29tcHV0ZWQuZmxhZ3MgJiAxMjggJiYgKCFjb21wdXRlZC5kZXBzICYmICFjb21wdXRlZC5fZGlydHkgfHwgIWlzRGlydHkoY29tcHV0ZWQpKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb21wdXRlZC5mbGFncyB8PSAyO1xuICBjb25zdCBkZXAgPSBjb21wdXRlZC5kZXA7XG4gIGNvbnN0IHByZXZTdWIgPSBhY3RpdmVTdWI7XG4gIGNvbnN0IHByZXZTaG91bGRUcmFjayA9IHNob3VsZFRyYWNrO1xuICBhY3RpdmVTdWIgPSBjb21wdXRlZDtcbiAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICB0cnkge1xuICAgIHByZXBhcmVEZXBzKGNvbXB1dGVkKTtcbiAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkLmZuKGNvbXB1dGVkLl92YWx1ZSk7XG4gICAgaWYgKGRlcC52ZXJzaW9uID09PSAwIHx8IGhhc0NoYW5nZWQodmFsdWUsIGNvbXB1dGVkLl92YWx1ZSkpIHtcbiAgICAgIGNvbXB1dGVkLmZsYWdzIHw9IDEyODtcbiAgICAgIGNvbXB1dGVkLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgZGVwLnZlcnNpb24rKztcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlcC52ZXJzaW9uKys7XG4gICAgdGhyb3cgZXJyO1xuICB9IGZpbmFsbHkge1xuICAgIGFjdGl2ZVN1YiA9IHByZXZTdWI7XG4gICAgc2hvdWxkVHJhY2sgPSBwcmV2U2hvdWxkVHJhY2s7XG4gICAgY2xlYW51cERlcHMoY29tcHV0ZWQpO1xuICAgIGNvbXB1dGVkLmZsYWdzICY9IC0zO1xuICB9XG59XG5mdW5jdGlvbiByZW1vdmVTdWIobGluaywgc29mdCA9IGZhbHNlKSB7XG4gIGNvbnN0IHsgZGVwLCBwcmV2U3ViLCBuZXh0U3ViIH0gPSBsaW5rO1xuICBpZiAocHJldlN1Yikge1xuICAgIHByZXZTdWIubmV4dFN1YiA9IG5leHRTdWI7XG4gICAgbGluay5wcmV2U3ViID0gdm9pZCAwO1xuICB9XG4gIGlmIChuZXh0U3ViKSB7XG4gICAgbmV4dFN1Yi5wcmV2U3ViID0gcHJldlN1YjtcbiAgICBsaW5rLm5leHRTdWIgPSB2b2lkIDA7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZGVwLnN1YnNIZWFkID09PSBsaW5rKSB7XG4gICAgZGVwLnN1YnNIZWFkID0gbmV4dFN1YjtcbiAgfVxuICBpZiAoZGVwLnN1YnMgPT09IGxpbmspIHtcbiAgICBkZXAuc3VicyA9IHByZXZTdWI7XG4gICAgaWYgKCFwcmV2U3ViICYmIGRlcC5jb21wdXRlZCkge1xuICAgICAgZGVwLmNvbXB1dGVkLmZsYWdzICY9IC01O1xuICAgICAgZm9yIChsZXQgbCA9IGRlcC5jb21wdXRlZC5kZXBzOyBsOyBsID0gbC5uZXh0RGVwKSB7XG4gICAgICAgIHJlbW92ZVN1YihsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFzb2Z0ICYmICEtLWRlcC5zYyAmJiBkZXAubWFwKSB7XG4gICAgZGVwLm1hcC5kZWxldGUoZGVwLmtleSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZURlcChsaW5rKSB7XG4gIGNvbnN0IHsgcHJldkRlcCwgbmV4dERlcCB9ID0gbGluaztcbiAgaWYgKHByZXZEZXApIHtcbiAgICBwcmV2RGVwLm5leHREZXAgPSBuZXh0RGVwO1xuICAgIGxpbmsucHJldkRlcCA9IHZvaWQgMDtcbiAgfVxuICBpZiAobmV4dERlcCkge1xuICAgIG5leHREZXAucHJldkRlcCA9IHByZXZEZXA7XG4gICAgbGluay5uZXh0RGVwID0gdm9pZCAwO1xuICB9XG59XG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMpIHtcbiAgaWYgKGZuLmVmZmVjdCBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgZm4gPSBmbi5lZmZlY3QuZm47XG4gIH1cbiAgY29uc3QgZSA9IG5ldyBSZWFjdGl2ZUVmZmVjdChmbik7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgZXh0ZW5kKGUsIG9wdGlvbnMpO1xuICB9XG4gIHRyeSB7XG4gICAgZS5ydW4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZS5zdG9wKCk7XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIGNvbnN0IHJ1bm5lciA9IGUucnVuLmJpbmQoZSk7XG4gIHJ1bm5lci5lZmZlY3QgPSBlO1xuICByZXR1cm4gcnVubmVyO1xufVxuZnVuY3Rpb24gc3RvcChydW5uZXIpIHtcbiAgcnVubmVyLmVmZmVjdC5zdG9wKCk7XG59XG5sZXQgc2hvdWxkVHJhY2sgPSB0cnVlO1xuY29uc3QgdHJhY2tTdGFjayA9IFtdO1xuZnVuY3Rpb24gcGF1c2VUcmFja2luZygpIHtcbiAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgc2hvdWxkVHJhY2sgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGVuYWJsZVRyYWNraW5nKCkge1xuICB0cmFja1N0YWNrLnB1c2goc2hvdWxkVHJhY2spO1xuICBzaG91bGRUcmFjayA9IHRydWU7XG59XG5mdW5jdGlvbiByZXNldFRyYWNraW5nKCkge1xuICBjb25zdCBsYXN0ID0gdHJhY2tTdGFjay5wb3AoKTtcbiAgc2hvdWxkVHJhY2sgPSBsYXN0ID09PSB2b2lkIDAgPyB0cnVlIDogbGFzdDtcbn1cbmZ1bmN0aW9uIG9uRWZmZWN0Q2xlYW51cChmbiwgZmFpbFNpbGVudGx5ID0gZmFsc2UpIHtcbiAgaWYgKGFjdGl2ZVN1YiBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgYWN0aXZlU3ViLmNsZWFudXAgPSBmbjtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFmYWlsU2lsZW50bHkpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uRWZmZWN0Q2xlYW51cCgpIHdhcyBjYWxsZWQgd2hlbiB0aGVyZSB3YXMgbm8gYWN0aXZlIGVmZmVjdCB0byBhc3NvY2lhdGUgd2l0aC5gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gY2xlYW51cEVmZmVjdChlKSB7XG4gIGNvbnN0IHsgY2xlYW51cCB9ID0gZTtcbiAgZS5jbGVhbnVwID0gdm9pZCAwO1xuICBpZiAoY2xlYW51cCkge1xuICAgIGNvbnN0IHByZXZTdWIgPSBhY3RpdmVTdWI7XG4gICAgYWN0aXZlU3ViID0gdm9pZCAwO1xuICAgIHRyeSB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGFjdGl2ZVN1YiA9IHByZXZTdWI7XG4gICAgfVxuICB9XG59XG5cbmxldCBnbG9iYWxWZXJzaW9uID0gMDtcbmNsYXNzIExpbmsge1xuICBjb25zdHJ1Y3RvcihzdWIsIGRlcCkge1xuICAgIHRoaXMuc3ViID0gc3ViO1xuICAgIHRoaXMuZGVwID0gZGVwO1xuICAgIHRoaXMudmVyc2lvbiA9IGRlcC52ZXJzaW9uO1xuICAgIHRoaXMubmV4dERlcCA9IHRoaXMucHJldkRlcCA9IHRoaXMubmV4dFN1YiA9IHRoaXMucHJldlN1YiA9IHRoaXMucHJldkFjdGl2ZUxpbmsgPSB2b2lkIDA7XG4gIH1cbn1cbmNsYXNzIERlcCB7XG4gIC8vIFRPRE8gaXNvbGF0ZWREZWNsYXJhdGlvbnMgXCJfX3Zfc2tpcFwiXG4gIGNvbnN0cnVjdG9yKGNvbXB1dGVkKSB7XG4gICAgdGhpcy5jb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgIHRoaXMudmVyc2lvbiA9IDA7XG4gICAgLyoqXG4gICAgICogTGluayBiZXR3ZWVuIHRoaXMgZGVwIGFuZCB0aGUgY3VycmVudCBhY3RpdmUgZWZmZWN0XG4gICAgICovXG4gICAgdGhpcy5hY3RpdmVMaW5rID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIERvdWJseSBsaW5rZWQgbGlzdCByZXByZXNlbnRpbmcgdGhlIHN1YnNjcmliaW5nIGVmZmVjdHMgKHRhaWwpXG4gICAgICovXG4gICAgdGhpcy5zdWJzID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEZvciBvYmplY3QgcHJvcGVydHkgZGVwcyBjbGVhbnVwXG4gICAgICovXG4gICAgdGhpcy5tYXAgPSB2b2lkIDA7XG4gICAgdGhpcy5rZXkgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlciBjb3VudGVyXG4gICAgICovXG4gICAgdGhpcy5zYyA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fX3Zfc2tpcCA9IHRydWU7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHRoaXMuc3Vic0hlYWQgPSB2b2lkIDA7XG4gICAgfVxuICB9XG4gIHRyYWNrKGRlYnVnSW5mbykge1xuICAgIGlmICghYWN0aXZlU3ViIHx8ICFzaG91bGRUcmFjayB8fCBhY3RpdmVTdWIgPT09IHRoaXMuY29tcHV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGxpbmsgPSB0aGlzLmFjdGl2ZUxpbms7XG4gICAgaWYgKGxpbmsgPT09IHZvaWQgMCB8fCBsaW5rLnN1YiAhPT0gYWN0aXZlU3ViKSB7XG4gICAgICBsaW5rID0gdGhpcy5hY3RpdmVMaW5rID0gbmV3IExpbmsoYWN0aXZlU3ViLCB0aGlzKTtcbiAgICAgIGlmICghYWN0aXZlU3ViLmRlcHMpIHtcbiAgICAgICAgYWN0aXZlU3ViLmRlcHMgPSBhY3RpdmVTdWIuZGVwc1RhaWwgPSBsaW5rO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluay5wcmV2RGVwID0gYWN0aXZlU3ViLmRlcHNUYWlsO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwubmV4dERlcCA9IGxpbms7XG4gICAgICAgIGFjdGl2ZVN1Yi5kZXBzVGFpbCA9IGxpbms7XG4gICAgICB9XG4gICAgICBhZGRTdWIobGluayk7XG4gICAgfSBlbHNlIGlmIChsaW5rLnZlcnNpb24gPT09IC0xKSB7XG4gICAgICBsaW5rLnZlcnNpb24gPSB0aGlzLnZlcnNpb247XG4gICAgICBpZiAobGluay5uZXh0RGVwKSB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBsaW5rLm5leHREZXA7XG4gICAgICAgIG5leHQucHJldkRlcCA9IGxpbmsucHJldkRlcDtcbiAgICAgICAgaWYgKGxpbmsucHJldkRlcCkge1xuICAgICAgICAgIGxpbmsucHJldkRlcC5uZXh0RGVwID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBsaW5rLnByZXZEZXAgPSBhY3RpdmVTdWIuZGVwc1RhaWw7XG4gICAgICAgIGxpbmsubmV4dERlcCA9IHZvaWQgMDtcbiAgICAgICAgYWN0aXZlU3ViLmRlcHNUYWlsLm5leHREZXAgPSBsaW5rO1xuICAgICAgICBhY3RpdmVTdWIuZGVwc1RhaWwgPSBsaW5rO1xuICAgICAgICBpZiAoYWN0aXZlU3ViLmRlcHMgPT09IGxpbmspIHtcbiAgICAgICAgICBhY3RpdmVTdWIuZGVwcyA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYWN0aXZlU3ViLm9uVHJhY2spIHtcbiAgICAgIGFjdGl2ZVN1Yi5vblRyYWNrKFxuICAgICAgICBleHRlbmQoXG4gICAgICAgICAge1xuICAgICAgICAgICAgZWZmZWN0OiBhY3RpdmVTdWJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlYnVnSW5mb1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbGluaztcbiAgfVxuICB0cmlnZ2VyKGRlYnVnSW5mbykge1xuICAgIHRoaXMudmVyc2lvbisrO1xuICAgIGdsb2JhbFZlcnNpb24rKztcbiAgICB0aGlzLm5vdGlmeShkZWJ1Z0luZm8pO1xuICB9XG4gIG5vdGlmeShkZWJ1Z0luZm8pIHtcbiAgICBzdGFydEJhdGNoKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAobGV0IGhlYWQgPSB0aGlzLnN1YnNIZWFkOyBoZWFkOyBoZWFkID0gaGVhZC5uZXh0U3ViKSB7XG4gICAgICAgICAgaWYgKGhlYWQuc3ViLm9uVHJpZ2dlciAmJiAhKGhlYWQuc3ViLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICAgIGhlYWQuc3ViLm9uVHJpZ2dlcihcbiAgICAgICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGVmZmVjdDogaGVhZC5zdWJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlYnVnSW5mb1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgbGluayA9IHRoaXMuc3ViczsgbGluazsgbGluayA9IGxpbmsucHJldlN1Yikge1xuICAgICAgICBpZiAobGluay5zdWIubm90aWZ5KCkpIHtcbiAgICAgICAgICA7XG4gICAgICAgICAgbGluay5zdWIuZGVwLm5vdGlmeSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVuZEJhdGNoKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBhZGRTdWIobGluaykge1xuICBsaW5rLmRlcC5zYysrO1xuICBpZiAobGluay5zdWIuZmxhZ3MgJiA0KSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBsaW5rLmRlcC5jb21wdXRlZDtcbiAgICBpZiAoY29tcHV0ZWQgJiYgIWxpbmsuZGVwLnN1YnMpIHtcbiAgICAgIGNvbXB1dGVkLmZsYWdzIHw9IDQgfCAxNjtcbiAgICAgIGZvciAobGV0IGwgPSBjb21wdXRlZC5kZXBzOyBsOyBsID0gbC5uZXh0RGVwKSB7XG4gICAgICAgIGFkZFN1YihsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3VycmVudFRhaWwgPSBsaW5rLmRlcC5zdWJzO1xuICAgIGlmIChjdXJyZW50VGFpbCAhPT0gbGluaykge1xuICAgICAgbGluay5wcmV2U3ViID0gY3VycmVudFRhaWw7XG4gICAgICBpZiAoY3VycmVudFRhaWwpIGN1cnJlbnRUYWlsLm5leHRTdWIgPSBsaW5rO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBsaW5rLmRlcC5zdWJzSGVhZCA9PT0gdm9pZCAwKSB7XG4gICAgICBsaW5rLmRlcC5zdWJzSGVhZCA9IGxpbms7XG4gICAgfVxuICAgIGxpbmsuZGVwLnN1YnMgPSBsaW5rO1xuICB9XG59XG5jb25zdCB0YXJnZXRNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IElURVJBVEVfS0VZID0gU3ltYm9sKFxuICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gXCJPYmplY3QgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmNvbnN0IE1BUF9LRVlfSVRFUkFURV9LRVkgPSBTeW1ib2woXG4gICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk1hcCBrZXlzIGl0ZXJhdGVcIiA6IFwiXCJcbik7XG5jb25zdCBBUlJBWV9JVEVSQVRFX0tFWSA9IFN5bWJvbChcbiAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiQXJyYXkgaXRlcmF0ZVwiIDogXCJcIlxuKTtcbmZ1bmN0aW9uIHRyYWNrKHRhcmdldCwgdHlwZSwga2V5KSB7XG4gIGlmIChzaG91bGRUcmFjayAmJiBhY3RpdmVTdWIpIHtcbiAgICBsZXQgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgICBpZiAoIWRlcHNNYXApIHtcbiAgICAgIHRhcmdldE1hcC5zZXQodGFyZ2V0LCBkZXBzTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgfVxuICAgIGxldCBkZXAgPSBkZXBzTWFwLmdldChrZXkpO1xuICAgIGlmICghZGVwKSB7XG4gICAgICBkZXBzTWFwLnNldChrZXksIGRlcCA9IG5ldyBEZXAoKSk7XG4gICAgICBkZXAubWFwID0gZGVwc01hcDtcbiAgICAgIGRlcC5rZXkgPSBrZXk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBkZXAudHJhY2soe1xuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGtleVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlcC50cmFjaygpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcbiAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKCFkZXBzTWFwKSB7XG4gICAgZ2xvYmFsVmVyc2lvbisrO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBydW4gPSAoZGVwKSA9PiB7XG4gICAgaWYgKGRlcCkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZGVwLnRyaWdnZXIoe1xuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICBvbGRUYXJnZXRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXAudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc3RhcnRCYXRjaCgpO1xuICBpZiAodHlwZSA9PT0gXCJjbGVhclwiKSB7XG4gICAgZGVwc01hcC5mb3JFYWNoKHJ1bik7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBjb25zdCBpc0FycmF5SW5kZXggPSB0YXJnZXRJc0FycmF5ICYmIGlzSW50ZWdlcktleShrZXkpO1xuICAgIGlmICh0YXJnZXRJc0FycmF5ICYmIGtleSA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgY29uc3QgbmV3TGVuZ3RoID0gTnVtYmVyKG5ld1ZhbHVlKTtcbiAgICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkyKSA9PiB7XG4gICAgICAgIGlmIChrZXkyID09PSBcImxlbmd0aFwiIHx8IGtleTIgPT09IEFSUkFZX0lURVJBVEVfS0VZIHx8ICFpc1N5bWJvbChrZXkyKSAmJiBrZXkyID49IG5ld0xlbmd0aCkge1xuICAgICAgICAgIHJ1bihkZXApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGtleSAhPT0gdm9pZCAwIHx8IGRlcHNNYXAuaGFzKHZvaWQgMCkpIHtcbiAgICAgICAgcnVuKGRlcHNNYXAuZ2V0KGtleSkpO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlJbmRleCkge1xuICAgICAgICBydW4oZGVwc01hcC5nZXQoQVJSQVlfSVRFUkFURV9LRVkpKTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgaWYgKCF0YXJnZXRJc0FycmF5KSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5SW5kZXgpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChcImxlbmd0aFwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgICAgaWYgKCF0YXJnZXRJc0FycmF5KSB7XG4gICAgICAgICAgICBydW4oZGVwc01hcC5nZXQoSVRFUkFURV9LRVkpKTtcbiAgICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2V0XCI6XG4gICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJ1bihkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZW5kQmF0Y2goKTtcbn1cbmZ1bmN0aW9uIGdldERlcEZyb21SZWFjdGl2ZShvYmplY3QsIGtleSkge1xuICBjb25zdCBkZXBNYXAgPSB0YXJnZXRNYXAuZ2V0KG9iamVjdCk7XG4gIHJldHVybiBkZXBNYXAgJiYgZGVwTWFwLmdldChrZXkpO1xufVxuXG5mdW5jdGlvbiByZWFjdGl2ZVJlYWRBcnJheShhcnJheSkge1xuICBjb25zdCByYXcgPSB0b1JhdyhhcnJheSk7XG4gIGlmIChyYXcgPT09IGFycmF5KSByZXR1cm4gcmF3O1xuICB0cmFjayhyYXcsIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIHJldHVybiBpc1NoYWxsb3coYXJyYXkpID8gcmF3IDogcmF3Lm1hcCh0b1JlYWN0aXZlKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkQXJyYXkoYXJyKSB7XG4gIHRyYWNrKGFyciA9IHRvUmF3KGFyciksIFwiaXRlcmF0ZVwiLCBBUlJBWV9JVEVSQVRFX0tFWSk7XG4gIHJldHVybiBhcnI7XG59XG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSB7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFN5bWJvbC5pdGVyYXRvciwgdG9SZWFjdGl2ZSk7XG4gIH0sXG4gIGNvbmNhdCguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLmNvbmNhdChcbiAgICAgIC4uLmFyZ3MubWFwKCh4KSA9PiBpc0FycmF5KHgpID8gcmVhY3RpdmVSZWFkQXJyYXkoeCkgOiB4KVxuICAgICk7XG4gIH0sXG4gIGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIGl0ZXJhdG9yKHRoaXMsIFwiZW50cmllc1wiLCAodmFsdWUpID0+IHtcbiAgICAgIHZhbHVlWzFdID0gdG9SZWFjdGl2ZSh2YWx1ZVsxXSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIH0sXG4gIGV2ZXJ5KGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZXZlcnlcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmlsdGVyKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZmlsdGVyXCIsIGZuLCB0aGlzQXJnLCAodikgPT4gdi5tYXAodG9SZWFjdGl2ZSksIGFyZ3VtZW50cyk7XG4gIH0sXG4gIGZpbmQoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kXCIsIGZuLCB0aGlzQXJnLCB0b1JlYWN0aXZlLCBhcmd1bWVudHMpO1xuICB9LFxuICBmaW5kSW5kZXgoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kSW5kZXhcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZExhc3QoZm4sIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gYXBwbHkodGhpcywgXCJmaW5kTGFzdFwiLCBmbiwgdGhpc0FyZywgdG9SZWFjdGl2ZSwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZmluZExhc3RJbmRleChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcImZpbmRMYXN0SW5kZXhcIiwgZm4sIHRoaXNBcmcsIHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgfSxcbiAgLy8gZmxhdCwgZmxhdE1hcCBjb3VsZCBiZW5lZml0IGZyb20gQVJSQVlfSVRFUkFURSBidXQgYXJlIG5vdCBzdHJhaWdodC1mb3J3YXJkIHRvIGltcGxlbWVudFxuICBmb3JFYWNoKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwiZm9yRWFjaFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBpbmNsdWRlcyguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwiaW5jbHVkZXNcIiwgYXJncyk7XG4gIH0sXG4gIGluZGV4T2YoLi4uYXJncykge1xuICAgIHJldHVybiBzZWFyY2hQcm94eSh0aGlzLCBcImluZGV4T2ZcIiwgYXJncyk7XG4gIH0sXG4gIGpvaW4oc2VwYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLmpvaW4oc2VwYXJhdG9yKTtcbiAgfSxcbiAgLy8ga2V5cygpIGl0ZXJhdG9yIG9ubHkgcmVhZHMgYGxlbmd0aGAsIG5vIG9wdGltaXNhdGlvbiByZXF1aXJlZFxuICBsYXN0SW5kZXhPZiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIHNlYXJjaFByb3h5KHRoaXMsIFwibGFzdEluZGV4T2ZcIiwgYXJncyk7XG4gIH0sXG4gIG1hcChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBhcHBseSh0aGlzLCBcIm1hcFwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBwb3AoKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJwb3BcIik7XG4gIH0sXG4gIHB1c2goLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwicHVzaFwiLCBhcmdzKTtcbiAgfSxcbiAgcmVkdWNlKGZuLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBcInJlZHVjZVwiLCBmbiwgYXJncyk7XG4gIH0sXG4gIHJlZHVjZVJpZ2h0KGZuLCAuLi5hcmdzKSB7XG4gICAgcmV0dXJuIHJlZHVjZSh0aGlzLCBcInJlZHVjZVJpZ2h0XCIsIGZuLCBhcmdzKTtcbiAgfSxcbiAgc2hpZnQoKSB7XG4gICAgcmV0dXJuIG5vVHJhY2tpbmcodGhpcywgXCJzaGlmdFwiKTtcbiAgfSxcbiAgLy8gc2xpY2UgY291bGQgdXNlIEFSUkFZX0lURVJBVEUgYnV0IGFsc28gc2VlbXMgdG8gYmVnIGZvciByYW5nZSB0cmFja2luZ1xuICBzb21lKGZuLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFwcGx5KHRoaXMsIFwic29tZVwiLCBmbiwgdGhpc0FyZywgdm9pZCAwLCBhcmd1bWVudHMpO1xuICB9LFxuICBzcGxpY2UoLi4uYXJncykge1xuICAgIHJldHVybiBub1RyYWNraW5nKHRoaXMsIFwic3BsaWNlXCIsIGFyZ3MpO1xuICB9LFxuICB0b1JldmVyc2VkKCkge1xuICAgIHJldHVybiByZWFjdGl2ZVJlYWRBcnJheSh0aGlzKS50b1JldmVyc2VkKCk7XG4gIH0sXG4gIHRvU29ydGVkKGNvbXBhcmVyKSB7XG4gICAgcmV0dXJuIHJlYWN0aXZlUmVhZEFycmF5KHRoaXMpLnRvU29ydGVkKGNvbXBhcmVyKTtcbiAgfSxcbiAgdG9TcGxpY2VkKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gcmVhY3RpdmVSZWFkQXJyYXkodGhpcykudG9TcGxpY2VkKC4uLmFyZ3MpO1xuICB9LFxuICB1bnNoaWZ0KC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbm9UcmFja2luZyh0aGlzLCBcInVuc2hpZnRcIiwgYXJncyk7XG4gIH0sXG4gIHZhbHVlcygpIHtcbiAgICByZXR1cm4gaXRlcmF0b3IodGhpcywgXCJ2YWx1ZXNcIiwgdG9SZWFjdGl2ZSk7XG4gIH1cbn07XG5mdW5jdGlvbiBpdGVyYXRvcihzZWxmLCBtZXRob2QsIHdyYXBWYWx1ZSkge1xuICBjb25zdCBhcnIgPSBzaGFsbG93UmVhZEFycmF5KHNlbGYpO1xuICBjb25zdCBpdGVyID0gYXJyW21ldGhvZF0oKTtcbiAgaWYgKGFyciAhPT0gc2VsZiAmJiAhaXNTaGFsbG93KHNlbGYpKSB7XG4gICAgaXRlci5fbmV4dCA9IGl0ZXIubmV4dDtcbiAgICBpdGVyLm5leHQgPSAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBpdGVyLl9uZXh0KCk7XG4gICAgICBpZiAocmVzdWx0LnZhbHVlKSB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHdyYXBWYWx1ZShyZXN1bHQudmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG4gIHJldHVybiBpdGVyO1xufVxuY29uc3QgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbmZ1bmN0aW9uIGFwcGx5KHNlbGYsIG1ldGhvZCwgZm4sIHRoaXNBcmcsIHdyYXBwZWRSZXRGbiwgYXJncykge1xuICBjb25zdCBhcnIgPSBzaGFsbG93UmVhZEFycmF5KHNlbGYpO1xuICBjb25zdCBuZWVkc1dyYXAgPSBhcnIgIT09IHNlbGYgJiYgIWlzU2hhbGxvdyhzZWxmKTtcbiAgY29uc3QgbWV0aG9kRm4gPSBhcnJbbWV0aG9kXTtcbiAgaWYgKG1ldGhvZEZuICE9PSBhcnJheVByb3RvW21ldGhvZF0pIHtcbiAgICBjb25zdCByZXN1bHQyID0gbWV0aG9kRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgcmV0dXJuIG5lZWRzV3JhcCA/IHRvUmVhY3RpdmUocmVzdWx0MikgOiByZXN1bHQyO1xuICB9XG4gIGxldCB3cmFwcGVkRm4gPSBmbjtcbiAgaWYgKGFyciAhPT0gc2VsZikge1xuICAgIGlmIChuZWVkc1dyYXApIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHRvUmVhY3RpdmUoaXRlbSksIGluZGV4LCBzZWxmKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChmbi5sZW5ndGggPiAyKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBpdGVtLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBjb25zdCByZXN1bHQgPSBtZXRob2RGbi5jYWxsKGFyciwgd3JhcHBlZEZuLCB0aGlzQXJnKTtcbiAgcmV0dXJuIG5lZWRzV3JhcCAmJiB3cmFwcGVkUmV0Rm4gPyB3cmFwcGVkUmV0Rm4ocmVzdWx0KSA6IHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJlZHVjZShzZWxmLCBtZXRob2QsIGZuLCBhcmdzKSB7XG4gIGNvbnN0IGFyciA9IHNoYWxsb3dSZWFkQXJyYXkoc2VsZik7XG4gIGxldCB3cmFwcGVkRm4gPSBmbjtcbiAgaWYgKGFyciAhPT0gc2VsZikge1xuICAgIGlmICghaXNTaGFsbG93KHNlbGYpKSB7XG4gICAgICB3cmFwcGVkRm4gPSBmdW5jdGlvbihhY2MsIGl0ZW0sIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGFjYywgdG9SZWFjdGl2ZShpdGVtKSwgaW5kZXgsIHNlbGYpO1xuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGZuLmxlbmd0aCA+IDMpIHtcbiAgICAgIHdyYXBwZWRGbiA9IGZ1bmN0aW9uKGFjYywgaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgYWNjLCBpdGVtLCBpbmRleCwgc2VsZik7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyW21ldGhvZF0od3JhcHBlZEZuLCAuLi5hcmdzKTtcbn1cbmZ1bmN0aW9uIHNlYXJjaFByb3h5KHNlbGYsIG1ldGhvZCwgYXJncykge1xuICBjb25zdCBhcnIgPSB0b1JhdyhzZWxmKTtcbiAgdHJhY2soYXJyLCBcIml0ZXJhdGVcIiwgQVJSQVlfSVRFUkFURV9LRVkpO1xuICBjb25zdCByZXMgPSBhcnJbbWV0aG9kXSguLi5hcmdzKTtcbiAgaWYgKChyZXMgPT09IC0xIHx8IHJlcyA9PT0gZmFsc2UpICYmIGlzUHJveHkoYXJnc1swXSkpIHtcbiAgICBhcmdzWzBdID0gdG9SYXcoYXJnc1swXSk7XG4gICAgcmV0dXJuIGFyclttZXRob2RdKC4uLmFyZ3MpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBub1RyYWNraW5nKHNlbGYsIG1ldGhvZCwgYXJncyA9IFtdKSB7XG4gIHBhdXNlVHJhY2tpbmcoKTtcbiAgc3RhcnRCYXRjaCgpO1xuICBjb25zdCByZXMgPSB0b1JhdyhzZWxmKVttZXRob2RdLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICBlbmRCYXRjaCgpO1xuICByZXNldFRyYWNraW5nKCk7XG4gIHJldHVybiByZXM7XG59XG5cbmNvbnN0IGlzTm9uVHJhY2thYmxlS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKGBfX3Byb3RvX18sX192X2lzUmVmLF9faXNWdWVgKTtcbmNvbnN0IGJ1aWx0SW5TeW1ib2xzID0gbmV3IFNldChcbiAgLyogQF9fUFVSRV9fICovIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFN5bWJvbCkuZmlsdGVyKChrZXkpID0+IGtleSAhPT0gXCJhcmd1bWVudHNcIiAmJiBrZXkgIT09IFwiY2FsbGVyXCIpLm1hcCgoa2V5KSA9PiBTeW1ib2xba2V5XSkuZmlsdGVyKGlzU3ltYm9sKVxuKTtcbmZ1bmN0aW9uIGhhc093blByb3BlcnR5KGtleSkge1xuICBpZiAoIWlzU3ltYm9sKGtleSkpIGtleSA9IFN0cmluZyhrZXkpO1xuICBjb25zdCBvYmogPSB0b1Jhdyh0aGlzKTtcbiAgdHJhY2sob2JqLCBcImhhc1wiLCBrZXkpO1xuICByZXR1cm4gb2JqLmhhc093blByb3BlcnR5KGtleSk7XG59XG5jbGFzcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoX2lzUmVhZG9ubHkgPSBmYWxzZSwgX2lzU2hhbGxvdyA9IGZhbHNlKSB7XG4gICAgdGhpcy5faXNSZWFkb25seSA9IF9pc1JlYWRvbmx5O1xuICAgIHRoaXMuX2lzU2hhbGxvdyA9IF9pc1NoYWxsb3c7XG4gIH1cbiAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgIGlmIChrZXkgPT09IFwiX192X3NraXBcIikgcmV0dXJuIHRhcmdldFtcIl9fdl9za2lwXCJdO1xuICAgIGNvbnN0IGlzUmVhZG9ubHkyID0gdGhpcy5faXNSZWFkb25seSwgaXNTaGFsbG93MiA9IHRoaXMuX2lzU2hhbGxvdztcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWN0aXZlXCIpIHtcbiAgICAgIHJldHVybiAhaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIikge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1NoYWxsb3dcIikge1xuICAgICAgcmV0dXJuIGlzU2hhbGxvdzI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICBpZiAocmVjZWl2ZXIgPT09IChpc1JlYWRvbmx5MiA/IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhZG9ubHlNYXAgOiByZWFkb25seU1hcCA6IGlzU2hhbGxvdzIgPyBzaGFsbG93UmVhY3RpdmVNYXAgOiByZWFjdGl2ZU1hcCkuZ2V0KHRhcmdldCkgfHwgLy8gcmVjZWl2ZXIgaXMgbm90IHRoZSByZWFjdGl2ZSBwcm94eSwgYnV0IGhhcyB0aGUgc2FtZSBwcm90b3R5cGVcbiAgICAgIC8vIHRoaXMgbWVhbnMgdGhlIHJlY2VpdmVyIGlzIGEgdXNlciBwcm94eSBvZiB0aGUgcmVhY3RpdmUgcHJveHlcbiAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocmVjZWl2ZXIpKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHRhcmdldElzQXJyYXkgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgaWYgKCFpc1JlYWRvbmx5Mikge1xuICAgICAgbGV0IGZuO1xuICAgICAgaWYgKHRhcmdldElzQXJyYXkgJiYgKGZuID0gYXJyYXlJbnN0cnVtZW50YXRpb25zW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09IFwiaGFzT3duUHJvcGVydHlcIikge1xuICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlcyA9IFJlZmxlY3QuZ2V0KFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgLy8gaWYgdGhpcyBpcyBhIHByb3h5IHdyYXBwaW5nIGEgcmVmLCByZXR1cm4gbWV0aG9kcyB1c2luZyB0aGUgcmF3IHJlZlxuICAgICAgLy8gYXMgcmVjZWl2ZXIgc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgYHRvUmF3YCBvbiB0aGUgcmVmIGluIGFsbFxuICAgICAgLy8gaXRzIGNsYXNzIG1ldGhvZHNcbiAgICAgIGlzUmVmKHRhcmdldCkgPyB0YXJnZXQgOiByZWNlaXZlclxuICAgICk7XG4gICAgaWYgKGlzU3ltYm9sKGtleSkgPyBidWlsdEluU3ltYm9scy5oYXMoa2V5KSA6IGlzTm9uVHJhY2thYmxlS2V5cyhrZXkpKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICB0cmFjayh0YXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgfVxuICAgIGlmIChpc1NoYWxsb3cyKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBpZiAoaXNSZWYocmVzKSkge1xuICAgICAgcmV0dXJuIHRhcmdldElzQXJyYXkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyByZXMgOiByZXMudmFsdWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChyZXMpKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTIgPyByZWFkb25seShyZXMpIDogcmVhY3RpdmUocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufVxuY2xhc3MgTXV0YWJsZVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcihmYWxzZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoIXRoaXMuX2lzU2hhbGxvdykge1xuICAgICAgY29uc3QgaXNPbGRWYWx1ZVJlYWRvbmx5ID0gaXNSZWFkb25seShvbGRWYWx1ZSk7XG4gICAgICBpZiAoIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gdG9SYXcob2xkVmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpICYmIGlzUmVmKG9sZFZhbHVlKSAmJiAhaXNSZWYodmFsdWUpKSB7XG4gICAgICAgIGlmIChpc09sZFZhbHVlUmVhZG9ubHkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkVmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBoYWRLZXkgPSBpc0FycmF5KHRhcmdldCkgJiYgaXNJbnRlZ2VyS2V5KGtleSkgPyBOdW1iZXIoa2V5KSA8IHRhcmdldC5sZW5ndGggOiBoYXNPd24odGFyZ2V0LCBrZXkpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3Quc2V0KFxuICAgICAgdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgdmFsdWUsXG4gICAgICBpc1JlZih0YXJnZXQpID8gdGFyZ2V0IDogcmVjZWl2ZXJcbiAgICApO1xuICAgIGlmICh0YXJnZXQgPT09IHRvUmF3KHJlY2VpdmVyKSkge1xuICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGNvbnN0IGhhZEtleSA9IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KTtcbiAgICBpZiAocmVzdWx0ICYmIGhhZEtleSkge1xuICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5oYXModGFyZ2V0LCBrZXkpO1xuICAgIGlmICghaXNTeW1ib2woa2V5KSB8fCAhYnVpbHRJblN5bWJvbHMuaGFzKGtleSkpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBvd25LZXlzKHRhcmdldCkge1xuICAgIHRyYWNrKFxuICAgICAgdGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0FycmF5KHRhcmdldCkgPyBcImxlbmd0aFwiIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfVxufVxuY2xhc3MgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIgZXh0ZW5kcyBCYXNlUmVhY3RpdmVIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoaXNTaGFsbG93MiA9IGZhbHNlKSB7XG4gICAgc3VwZXIodHJ1ZSwgaXNTaGFsbG93Mik7XG4gIH1cbiAgc2V0KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBTZXQgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBkZWxldGVQcm9wZXJ0eSh0YXJnZXQsIGtleSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRGVsZXRlIG9wZXJhdGlvbiBvbiBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbmNvbnN0IG11dGFibGVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTXV0YWJsZVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3QgcmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIoKTtcbmNvbnN0IHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlYWRvbmx5UmVhY3RpdmVIYW5kbGVyKHRydWUpO1xuXG5jb25zdCB0b1NoYWxsb3cgPSAodmFsdWUpID0+IHZhbHVlO1xuY29uc3QgZ2V0UHJvdG8gPSAodikgPT4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZih2KTtcbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seTIsIGlzU2hhbGxvdzIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICAgIGNvbnN0IHRhcmdldElzTWFwID0gaXNNYXAocmF3VGFyZ2V0KTtcbiAgICBjb25zdCBpc1BhaXIgPSBtZXRob2QgPT09IFwiZW50cmllc1wiIHx8IG1ldGhvZCA9PT0gU3ltYm9sLml0ZXJhdG9yICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlzS2V5T25seSA9IG1ldGhvZCA9PT0gXCJrZXlzXCIgJiYgdGFyZ2V0SXNNYXA7XG4gICAgY29uc3QgaW5uZXJJdGVyYXRvciA9IHRhcmdldFttZXRob2RdKC4uLmFyZ3MpO1xuICAgIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cyID8gdG9TaGFsbG93IDogaXNSZWFkb25seTIgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAhaXNSZWFkb25seTIgJiYgdHJhY2soXG4gICAgICByYXdUYXJnZXQsXG4gICAgICBcIml0ZXJhdGVcIixcbiAgICAgIGlzS2V5T25seSA/IE1BUF9LRVlfSVRFUkFURV9LRVkgOiBJVEVSQVRFX0tFWVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGl0ZXJhdG9yIHByb3RvY29sXG4gICAgICBuZXh0KCkge1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBpbm5lckl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgcmV0dXJuIGRvbmUgPyB7IHZhbHVlLCBkb25lIH0gOiB7XG4gICAgICAgICAgdmFsdWU6IGlzUGFpciA/IFt3cmFwKHZhbHVlWzBdKSwgd3JhcCh2YWx1ZVsxXSldIDogd3JhcCh2YWx1ZSksXG4gICAgICAgICAgZG9uZVxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIC8vIGl0ZXJhYmxlIHByb3RvY29sXG4gICAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWRvbmx5TWV0aG9kKHR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY29uc3Qga2V5ID0gYXJnc1swXSA/IGBvbiBrZXkgXCIke2FyZ3NbMF19XCIgYCA6IGBgO1xuICAgICAgd2FybihcbiAgICAgICAgYCR7Y2FwaXRhbGl6ZSh0eXBlKX0gb3BlcmF0aW9uICR7a2V5fWZhaWxlZDogdGFyZ2V0IGlzIHJlYWRvbmx5LmAsXG4gICAgICAgIHRvUmF3KHRoaXMpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZSA9PT0gXCJkZWxldGVcIiA/IGZhbHNlIDogdHlwZSA9PT0gXCJjbGVhclwiID8gdm9pZCAwIDogdGhpcztcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbnMocmVhZG9ubHksIHNoYWxsb3cpIHtcbiAgY29uc3QgaW5zdHJ1bWVudGF0aW9ucyA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSB0aGlzW1wiX192X3Jhd1wiXTtcbiAgICAgIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gICAgICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICAgICAgaWYgKCFyZWFkb25seSkge1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIsIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCByYXdLZXkpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBoYXMgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XG4gICAgICBjb25zdCB3cmFwID0gc2hhbGxvdyA/IHRvU2hhbGxvdyA6IHJlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gICAgICBpZiAoaGFzLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldC5nZXQoa2V5KSk7XG4gICAgICB9IGVsc2UgaWYgKGhhcy5jYWxsKHJhd1RhcmdldCwgcmF3S2V5KSkge1xuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXQuZ2V0KHJhd0tleSkpO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQgIT09IHJhd1RhcmdldCkge1xuICAgICAgICB0YXJnZXQuZ2V0KGtleSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgIXJlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBcInNpemVcIiwgdGFyZ2V0KTtcbiAgICB9LFxuICAgIGhhcyhrZXkpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gICAgICBpZiAoIXJlYWRvbmx5KSB7XG4gICAgICAgIGlmIChoYXNDaGFuZ2VkKGtleSwgcmF3S2V5KSkge1xuICAgICAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjayhyYXdUYXJnZXQsIFwiaGFzXCIsIHJhd0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5ID09PSByYXdLZXkgPyB0YXJnZXQuaGFzKGtleSkgOiB0YXJnZXQuaGFzKGtleSkgfHwgdGFyZ2V0LmhhcyhyYXdLZXkpO1xuICAgIH0sXG4gICAgZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgY29uc3Qgb2JzZXJ2ZWQgPSB0aGlzO1xuICAgICAgY29uc3QgdGFyZ2V0ID0gb2JzZXJ2ZWRbXCJfX3ZfcmF3XCJdO1xuICAgICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHdyYXAgPSBzaGFsbG93ID8gdG9TaGFsbG93IDogcmVhZG9ubHkgPyB0b1JlYWRvbmx5IDogdG9SZWFjdGl2ZTtcbiAgICAgICFyZWFkb25seSAmJiB0cmFjayhyYXdUYXJnZXQsIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gICAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgd3JhcCh2YWx1ZSksIHdyYXAoa2V5KSwgb2JzZXJ2ZWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBleHRlbmQoXG4gICAgaW5zdHJ1bWVudGF0aW9ucyxcbiAgICByZWFkb25seSA/IHtcbiAgICAgIGFkZDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJhZGRcIiksXG4gICAgICBzZXQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwic2V0XCIpLFxuICAgICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICAgIGNsZWFyOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImNsZWFyXCIpXG4gICAgfSA6IHtcbiAgICAgIGFkZCh2YWx1ZSkge1xuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgIWlzU2hhbGxvdyh2YWx1ZSkgJiYgIWlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IHByb3RvID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgICAgICAgY29uc3QgaGFkS2V5ID0gcHJvdG8uaGFzLmNhbGwodGFyZ2V0LCB2YWx1ZSk7XG4gICAgICAgIGlmICghaGFkS2V5KSB7XG4gICAgICAgICAgdGFyZ2V0LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiYWRkXCIsIHZhbHVlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LFxuICAgICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCFzaGFsbG93ICYmICFpc1NoYWxsb3codmFsdWUpICYmICFpc1JlYWRvbmx5KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldC5jYWxsKHRhcmdldCwga2V5KTtcbiAgICAgICAgdGFyZ2V0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgaWYgKCFoYWRLZXkpIHtcbiAgICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwic2V0XCIsIGtleSwgdmFsdWUsIG9sZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sXG4gICAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICAgICAgICBjb25zdCB7IGhhcywgZ2V0IH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICAgICAgICBsZXQgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICAgIGtleSA9IHRvUmF3KGtleSk7XG4gICAgICAgICAgaGFkS2V5ID0gaGFzLmNhbGwodGFyZ2V0LCBrZXkpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhcywga2V5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IGdldCA/IGdldC5jYWxsKHRhcmdldCwga2V5KSA6IHZvaWQgMDtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAoaGFkS2V5KSB7XG4gICAgICAgICAgdHJpZ2dlcih0YXJnZXQsIFwiZGVsZXRlXCIsIGtleSwgdm9pZCAwLCBvbGRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0sXG4gICAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdG9SYXcodGhpcyk7XG4gICAgICAgIGNvbnN0IGhhZEl0ZW1zID0gdGFyZ2V0LnNpemUgIT09IDA7XG4gICAgICAgIGNvbnN0IG9sZFRhcmdldCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBpc01hcCh0YXJnZXQpID8gbmV3IE1hcCh0YXJnZXQpIDogbmV3IFNldCh0YXJnZXQpIDogdm9pZCAwO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0YXJnZXQuY2xlYXIoKTtcbiAgICAgICAgaWYgKGhhZEl0ZW1zKSB7XG4gICAgICAgICAgdHJpZ2dlcihcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIFwiY2xlYXJcIixcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFtcbiAgICBcImtleXNcIixcbiAgICBcInZhbHVlc1wiLFxuICAgIFwiZW50cmllc1wiLFxuICAgIFN5bWJvbC5pdGVyYXRvclxuICBdO1xuICBpdGVyYXRvck1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1ttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCByZWFkb25seSwgc2hhbGxvdyk7XG4gIH0pO1xuICByZXR1cm4gaW5zdHJ1bWVudGF0aW9ucztcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihpc1JlYWRvbmx5Miwgc2hhbGxvdykge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyhpc1JlYWRvbmx5Miwgc2hhbGxvdyk7XG4gIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiKSB7XG4gICAgICByZXR1cm4gIWlzUmVhZG9ubHkyO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcIl9fdl9pc1JlYWRvbmx5XCIpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBSZWZsZWN0LmdldChcbiAgICAgIGhhc093bihpbnN0cnVtZW50YXRpb25zLCBrZXkpICYmIGtleSBpbiB0YXJnZXQgPyBpbnN0cnVtZW50YXRpb25zIDogdGFyZ2V0LFxuICAgICAga2V5LFxuICAgICAgcmVjZWl2ZXJcbiAgICApO1xuICB9O1xufVxuY29uc3QgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoZmFsc2UsIHRydWUpXG59O1xuY29uc3QgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCBmYWxzZSlcbn07XG5jb25zdCBzaGFsbG93UmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcih0cnVlLCB0cnVlKVxufTtcbmZ1bmN0aW9uIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzLCBrZXkpIHtcbiAgY29uc3QgcmF3S2V5ID0gdG9SYXcoa2V5KTtcbiAgaWYgKHJhd0tleSAhPT0ga2V5ICYmIGhhcy5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xuICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcbiAgICB3YXJuKFxuICAgICAgYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xuICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XG4gICAgY2FzZSBcIk1hcFwiOlxuICAgIGNhc2UgXCJTZXRcIjpcbiAgICBjYXNlIFwiV2Vha01hcFwiOlxuICAgIGNhc2UgXCJXZWFrU2V0XCI6XG4gICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMCAvKiBJTlZBTElEICovO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCJdIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSA/IDAgLyogSU5WQUxJRCAqLyA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XG59XG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcbiAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBtdXRhYmxlSGFuZGxlcnMsXG4gICAgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLFxuICAgIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHJlYWRvbmx5SGFuZGxlcnMsXG4gICAgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seTIsIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYHZhbHVlIGNhbm5vdCBiZSBtYWRlICR7aXNSZWFkb25seTIgPyBcInJlYWRvbmx5XCIgOiBcInJlYWN0aXZlXCJ9OiAke1N0cmluZyhcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCJdICYmICEoaXNSZWFkb25seTIgJiYgdGFyZ2V0W1wiX192X2lzUmVhY3RpdmVcIl0pKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCB0YXJnZXRUeXBlID0gZ2V0VGFyZ2V0VHlwZSh0YXJnZXQpO1xuICBpZiAodGFyZ2V0VHlwZSA9PT0gMCAvKiBJTlZBTElEICovKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gIGlmIChleGlzdGluZ1Byb3h5KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XG4gIH1cbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoXG4gICAgdGFyZ2V0LFxuICAgIHRhcmdldFR5cGUgPT09IDIgLyogQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVyc1xuICApO1xuICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcbiAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCJdKTtcbiAgfVxuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiXSk7XG59XG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCJdKTtcbn1cbmZ1bmN0aW9uIGlzU2hhbGxvdyh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNTaGFsbG93XCJdKTtcbn1cbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gISF2YWx1ZVtcIl9fdl9yYXdcIl0gOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgaWYgKCFoYXNPd24odmFsdWUsIFwiX192X3NraXBcIikgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkpIHtcbiAgICBkZWYodmFsdWUsIFwiX192X3NraXBcIiwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdG9SZWFjdGl2ZSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhY3RpdmUodmFsdWUpIDogdmFsdWU7XG5jb25zdCB0b1JlYWRvbmx5ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgPyByZWFkb25seSh2YWx1ZSkgOiB2YWx1ZTtcblxuZnVuY3Rpb24gaXNSZWYocikge1xuICByZXR1cm4gciA/IHJbXCJfX3ZfaXNSZWZcIl0gPT09IHRydWUgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XG4gIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcbiAgICByZXR1cm4gcmF3VmFsdWU7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcbn1cbmNsYXNzIFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgaXNTaGFsbG93Mikge1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCgpO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdID0gZmFsc2U7XG4gICAgdGhpcy5fcmF3VmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1Jhdyh2YWx1ZSk7XG4gICAgdGhpcy5fdmFsdWUgPSBpc1NoYWxsb3cyID8gdmFsdWUgOiB0b1JlYWN0aXZlKHZhbHVlKTtcbiAgICB0aGlzW1wiX192X2lzU2hhbGxvd1wiXSA9IGlzU2hhbGxvdzI7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB0aGlzLmRlcC50cmFjayh7XG4gICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCJcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlcC50cmFjaygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLl9yYXdWYWx1ZTtcbiAgICBjb25zdCB1c2VEaXJlY3RWYWx1ZSA9IHRoaXNbXCJfX3ZfaXNTaGFsbG93XCJdIHx8IGlzU2hhbGxvdyhuZXdWYWx1ZSkgfHwgaXNSZWFkb25seShuZXdWYWx1ZSk7XG4gICAgbmV3VmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbHVlIDogdG9SYXcobmV3VmFsdWUpO1xuICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZSA9IHVzZURpcmVjdFZhbHVlID8gbmV3VmFsdWUgOiB0b1JlYWN0aXZlKG5ld1ZhbHVlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHRoaXMuZGVwLnRyaWdnZXIoe1xuICAgICAgICAgIHRhcmdldDogdGhpcyxcbiAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgIGtleTogXCJ2YWx1ZVwiLFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kZXAudHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlclJlZihyZWYyKSB7XG4gIGlmIChyZWYyLmRlcCkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICByZWYyLmRlcC50cmlnZ2VyKHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIixcbiAgICAgICAgbmV3VmFsdWU6IHJlZjIuX3ZhbHVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmMi5kZXAudHJpZ2dlcigpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdW5yZWYocmVmMikge1xuICByZXR1cm4gaXNSZWYocmVmMikgPyByZWYyLnZhbHVlIDogcmVmMjtcbn1cbmZ1bmN0aW9uIHRvVmFsdWUoc291cmNlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZSkgPyBzb3VyY2UoKSA6IHVucmVmKHNvdXJjZSk7XG59XG5jb25zdCBzaGFsbG93VW53cmFwSGFuZGxlcnMgPSB7XG4gIGdldDogKHRhcmdldCwga2V5LCByZWNlaXZlcikgPT4ga2V5ID09PSBcIl9fdl9yYXdcIiA/IHRhcmdldCA6IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxuICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xuICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcykgPyBvYmplY3RXaXRoUmVmcyA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gICAgY29uc3QgZGVwID0gdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gICAgY29uc3QgeyBnZXQsIHNldCB9ID0gZmFjdG9yeShkZXAudHJhY2suYmluZChkZXApLCBkZXAudHJpZ2dlci5iaW5kKGRlcCkpO1xuICAgIHRoaXMuX2dldCA9IGdldDtcbiAgICB0aGlzLl9zZXQgPSBzZXQ7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldCgpO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9zZXQobmV3VmFsKTtcbiAgfVxufVxuZnVuY3Rpb24gY3VzdG9tUmVmKGZhY3RvcnkpIHtcbiAgcmV0dXJuIG5ldyBDdXN0b21SZWZJbXBsKGZhY3RvcnkpO1xufVxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNQcm94eShvYmplY3QpKSB7XG4gICAgd2FybihgdG9SZWZzKCkgZXhwZWN0cyBhIHJlYWN0aXZlIG9iamVjdCBidXQgcmVjZWl2ZWQgYSBwbGFpbiBvbmUuYCk7XG4gIH1cbiAgY29uc3QgcmV0ID0gaXNBcnJheShvYmplY3QpID8gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpIDoge307XG4gIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgIHJldFtrZXldID0gcHJvcGVydHlUb1JlZihvYmplY3QsIGtleSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmNsYXNzIE9iamVjdFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcihfb2JqZWN0LCBfa2V5LCBfZGVmYXVsdFZhbHVlKSB7XG4gICAgdGhpcy5fb2JqZWN0ID0gX29iamVjdDtcbiAgICB0aGlzLl9rZXkgPSBfa2V5O1xuICAgIHRoaXMuX2RlZmF1bHRWYWx1ZSA9IF9kZWZhdWx0VmFsdWU7XG4gICAgdGhpc1tcIl9fdl9pc1JlZlwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHZhbCA9PT0gdm9pZCAwID8gdGhpcy5fZGVmYXVsdFZhbHVlIDogdmFsO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICB0aGlzLl9vYmplY3RbdGhpcy5fa2V5XSA9IG5ld1ZhbDtcbiAgfVxuICBnZXQgZGVwKCkge1xuICAgIHJldHVybiBnZXREZXBGcm9tUmVhY3RpdmUodG9SYXcodGhpcy5fb2JqZWN0KSwgdGhpcy5fa2V5KTtcbiAgfVxufVxuY2xhc3MgR2V0dGVyUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9nZXR0ZXIpIHtcbiAgICB0aGlzLl9nZXR0ZXIgPSBfZ2V0dGVyO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWZcIl0gPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IHRydWU7XG4gICAgdGhpcy5fdmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSA9IHRoaXMuX2dldHRlcigpO1xuICB9XG59XG5mdW5jdGlvbiB0b1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICByZXR1cm4gbmV3IEdldHRlclJlZkltcGwoc291cmNlKTtcbiAgfSBlbHNlIGlmIChpc09iamVjdChzb3VyY2UpICYmIGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5VG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZihzb3VyY2UpO1xuICB9XG59XG5mdW5jdGlvbiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpIHtcbiAgY29uc3QgdmFsID0gc291cmNlW2tleV07XG4gIHJldHVybiBpc1JlZih2YWwpID8gdmFsIDogbmV3IE9iamVjdFJlZkltcGwoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSk7XG59XG5cbmNsYXNzIENvbXB1dGVkUmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKGZuLCBzZXR0ZXIsIGlzU1NSKSB7XG4gICAgdGhpcy5mbiA9IGZuO1xuICAgIHRoaXMuc2V0dGVyID0gc2V0dGVyO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3ZhbHVlID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuZGVwID0gbmV3IERlcCh0aGlzKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgLy8gVE9ETyBpc29sYXRlZERlY2xhcmF0aW9ucyBcIl9fdl9pc1JlYWRvbmx5XCJcbiAgICAvLyBBIGNvbXB1dGVkIGlzIGFsc28gYSBzdWJzY3JpYmVyIHRoYXQgdHJhY2tzIG90aGVyIGRlcHNcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmRlcHMgPSB2b2lkIDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5kZXBzVGFpbCA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmZsYWdzID0gMTY7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5nbG9iYWxWZXJzaW9uID0gZ2xvYmFsVmVyc2lvbiAtIDE7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgdGhpcy5lZmZlY3QgPSB0aGlzO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9ICFzZXR0ZXI7XG4gICAgdGhpcy5pc1NTUiA9IGlzU1NSO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeSgpIHtcbiAgICB0aGlzLmZsYWdzIHw9IDE2O1xuICAgIGlmICghKHRoaXMuZmxhZ3MgJiA4KSAmJiAvLyBhdm9pZCBpbmZpbml0ZSBzZWxmIHJlY3Vyc2lvblxuICAgIGFjdGl2ZVN1YiAhPT0gdGhpcykge1xuICAgICAgYmF0Y2godGhpcywgdHJ1ZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgY29uc3QgbGluayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB0aGlzLmRlcC50cmFjayh7XG4gICAgICB0YXJnZXQ6IHRoaXMsXG4gICAgICB0eXBlOiBcImdldFwiLFxuICAgICAga2V5OiBcInZhbHVlXCJcbiAgICB9KSA6IHRoaXMuZGVwLnRyYWNrKCk7XG4gICAgcmVmcmVzaENvbXB1dGVkKHRoaXMpO1xuICAgIGlmIChsaW5rKSB7XG4gICAgICBsaW5rLnZlcnNpb24gPSB0aGlzLmRlcC52ZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbHVlKSB7XG4gICAgaWYgKHRoaXMuc2V0dGVyKSB7XG4gICAgICB0aGlzLnNldHRlcihuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuKFwiV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgdmFsdWUgaXMgcmVhZG9ubHlcIik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNTU1IgPSBmYWxzZSkge1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgc2V0dGVyO1xuICBpZiAoaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpKSB7XG4gICAgZ2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zO1xuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcbiAgfVxuICBjb25zdCBjUmVmID0gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgaXNTU1IpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBkZWJ1Z09wdGlvbnMgJiYgIWlzU1NSKSB7XG4gICAgY1JlZi5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XG4gICAgY1JlZi5vblRyaWdnZXIgPSBkZWJ1Z09wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIHJldHVybiBjUmVmO1xufVxuXG5jb25zdCBUcmFja09wVHlwZXMgPSB7XG4gIFwiR0VUXCI6IFwiZ2V0XCIsXG4gIFwiSEFTXCI6IFwiaGFzXCIsXG4gIFwiSVRFUkFURVwiOiBcIml0ZXJhdGVcIlxufTtcbmNvbnN0IFRyaWdnZXJPcFR5cGVzID0ge1xuICBcIlNFVFwiOiBcInNldFwiLFxuICBcIkFERFwiOiBcImFkZFwiLFxuICBcIkRFTEVURVwiOiBcImRlbGV0ZVwiLFxuICBcIkNMRUFSXCI6IFwiY2xlYXJcIlxufTtcbmNvbnN0IFJlYWN0aXZlRmxhZ3MgPSB7XG4gIFwiU0tJUFwiOiBcIl9fdl9za2lwXCIsXG4gIFwiSVNfUkVBQ1RJVkVcIjogXCJfX3ZfaXNSZWFjdGl2ZVwiLFxuICBcIklTX1JFQURPTkxZXCI6IFwiX192X2lzUmVhZG9ubHlcIixcbiAgXCJJU19TSEFMTE9XXCI6IFwiX192X2lzU2hhbGxvd1wiLFxuICBcIlJBV1wiOiBcIl9fdl9yYXdcIixcbiAgXCJJU19SRUZcIjogXCJfX3ZfaXNSZWZcIlxufTtcblxuY29uc3QgV2F0Y2hFcnJvckNvZGVzID0ge1xuICBcIldBVENIX0dFVFRFUlwiOiAyLFxuICBcIjJcIjogXCJXQVRDSF9HRVRURVJcIixcbiAgXCJXQVRDSF9DQUxMQkFDS1wiOiAzLFxuICBcIjNcIjogXCJXQVRDSF9DQUxMQkFDS1wiLFxuICBcIldBVENIX0NMRUFOVVBcIjogNCxcbiAgXCI0XCI6IFwiV0FUQ0hfQ0xFQU5VUFwiXG59O1xuY29uc3QgSU5JVElBTF9XQVRDSEVSX1ZBTFVFID0ge307XG5jb25zdCBjbGVhbnVwTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5sZXQgYWN0aXZlV2F0Y2hlciA9IHZvaWQgMDtcbmZ1bmN0aW9uIGdldEN1cnJlbnRXYXRjaGVyKCkge1xuICByZXR1cm4gYWN0aXZlV2F0Y2hlcjtcbn1cbmZ1bmN0aW9uIG9uV2F0Y2hlckNsZWFudXAoY2xlYW51cEZuLCBmYWlsU2lsZW50bHkgPSBmYWxzZSwgb3duZXIgPSBhY3RpdmVXYXRjaGVyKSB7XG4gIGlmIChvd25lcikge1xuICAgIGxldCBjbGVhbnVwcyA9IGNsZWFudXBNYXAuZ2V0KG93bmVyKTtcbiAgICBpZiAoIWNsZWFudXBzKSBjbGVhbnVwTWFwLnNldChvd25lciwgY2xlYW51cHMgPSBbXSk7XG4gICAgY2xlYW51cHMucHVzaChjbGVhbnVwRm4pO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWZhaWxTaWxlbnRseSkge1xuICAgIHdhcm4oXG4gICAgICBgb25XYXRjaGVyQ2xlYW51cCgpIHdhcyBjYWxsZWQgd2hlbiB0aGVyZSB3YXMgbm8gYWN0aXZlIHdhdGNoZXIgdG8gYXNzb2NpYXRlIHdpdGguYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgeyBpbW1lZGlhdGUsIGRlZXAsIG9uY2UsIHNjaGVkdWxlciwgYXVnbWVudEpvYiwgY2FsbCB9ID0gb3B0aW9ucztcbiAgY29uc3Qgd2FybkludmFsaWRTb3VyY2UgPSAocykgPT4ge1xuICAgIChvcHRpb25zLm9uV2FybiB8fCB3YXJuKShcbiAgICAgIGBJbnZhbGlkIHdhdGNoIHNvdXJjZTogYCxcbiAgICAgIHMsXG4gICAgICBgQSB3YXRjaCBzb3VyY2UgY2FuIG9ubHkgYmUgYSBnZXR0ZXIvZWZmZWN0IGZ1bmN0aW9uLCBhIHJlZiwgYSByZWFjdGl2ZSBvYmplY3QsIG9yIGFuIGFycmF5IG9mIHRoZXNlIHR5cGVzLmBcbiAgICApO1xuICB9O1xuICBjb25zdCByZWFjdGl2ZUdldHRlciA9IChzb3VyY2UyKSA9PiB7XG4gICAgaWYgKGRlZXApIHJldHVybiBzb3VyY2UyO1xuICAgIGlmIChpc1NoYWxsb3coc291cmNlMikgfHwgZGVlcCA9PT0gZmFsc2UgfHwgZGVlcCA9PT0gMClcbiAgICAgIHJldHVybiB0cmF2ZXJzZShzb3VyY2UyLCAxKTtcbiAgICByZXR1cm4gdHJhdmVyc2Uoc291cmNlMik7XG4gIH07XG4gIGxldCBlZmZlY3Q7XG4gIGxldCBnZXR0ZXI7XG4gIGxldCBjbGVhbnVwO1xuICBsZXQgYm91bmRDbGVhbnVwO1xuICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XG4gIGxldCBpc011bHRpU291cmNlID0gZmFsc2U7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xuICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xuICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHJlYWN0aXZlR2V0dGVyKHNvdXJjZSk7XG4gICAgZm9yY2VUcmlnZ2VyID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZSgocykgPT4gaXNSZWFjdGl2ZShzKSB8fCBpc1NoYWxsb3cocykpO1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS5tYXAoKHMpID0+IHtcbiAgICAgIGlmIChpc1JlZihzKSkge1xuICAgICAgICByZXR1cm4gcy52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xuICAgICAgICByZXR1cm4gcmVhY3RpdmVHZXR0ZXIocyk7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcbiAgICAgICAgcmV0dXJuIGNhbGwgPyBjYWxsKHMsIDIpIDogcygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuSW52YWxpZFNvdXJjZShzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHNvdXJjZSkpIHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGdldHRlciA9IGNhbGwgPyAoKSA9PiBjYWxsKHNvdXJjZSwgMikgOiBzb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdldHRlciA9ICgpID0+IHtcbiAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50RWZmZWN0ID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gY2FsbCA/IGNhbGwoc291cmNlLCAzLCBbYm91bmRDbGVhbnVwXSkgOiBzb3VyY2UoYm91bmRDbGVhbnVwKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBhY3RpdmVXYXRjaGVyID0gY3VycmVudEVmZmVjdDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZ2V0dGVyID0gTk9PUDtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5JbnZhbGlkU291cmNlKHNvdXJjZSk7XG4gIH1cbiAgaWYgKGNiICYmIGRlZXApIHtcbiAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgIGNvbnN0IGRlcHRoID0gZGVlcCA9PT0gdHJ1ZSA/IEluZmluaXR5IDogZGVlcDtcbiAgICBnZXR0ZXIgPSAoKSA9PiB0cmF2ZXJzZShiYXNlR2V0dGVyKCksIGRlcHRoKTtcbiAgfVxuICBjb25zdCBzY29wZSA9IGdldEN1cnJlbnRTY29wZSgpO1xuICBjb25zdCB3YXRjaEhhbmRsZSA9ICgpID0+IHtcbiAgICBlZmZlY3Quc3RvcCgpO1xuICAgIGlmIChzY29wZSAmJiBzY29wZS5hY3RpdmUpIHtcbiAgICAgIHJlbW92ZShzY29wZS5lZmZlY3RzLCBlZmZlY3QpO1xuICAgIH1cbiAgfTtcbiAgaWYgKG9uY2UgJiYgY2IpIHtcbiAgICBjb25zdCBfY2IgPSBjYjtcbiAgICBjYiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBfY2IoLi4uYXJncyk7XG4gICAgICB3YXRjaEhhbmRsZSgpO1xuICAgIH07XG4gIH1cbiAgbGV0IG9sZFZhbHVlID0gaXNNdWx0aVNvdXJjZSA/IG5ldyBBcnJheShzb3VyY2UubGVuZ3RoKS5maWxsKElOSVRJQUxfV0FUQ0hFUl9WQUxVRSkgOiBJTklUSUFMX1dBVENIRVJfVkFMVUU7XG4gIGNvbnN0IGpvYiA9IChpbW1lZGlhdGVGaXJzdFJ1bikgPT4ge1xuICAgIGlmICghKGVmZmVjdC5mbGFncyAmIDEpIHx8ICFlZmZlY3QuZGlydHkgJiYgIWltbWVkaWF0ZUZpcnN0UnVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYikge1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgICBpZiAoZGVlcCB8fCBmb3JjZVRyaWdnZXIgfHwgKGlzTXVsdGlTb3VyY2UgPyBuZXdWYWx1ZS5zb21lKCh2LCBpKSA9PiBoYXNDaGFuZ2VkKHYsIG9sZFZhbHVlW2ldKSkgOiBoYXNDaGFuZ2VkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpKSB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRXYXRjaGVyID0gYWN0aXZlV2F0Y2hlcjtcbiAgICAgICAgYWN0aXZlV2F0Y2hlciA9IGVmZmVjdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhcmdzID0gW1xuICAgICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgICAvLyBwYXNzIHVuZGVmaW5lZCBhcyB0aGUgb2xkIHZhbHVlIHdoZW4gaXQncyBjaGFuZ2VkIGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgb2xkVmFsdWUgPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IHZvaWQgMCA6IGlzTXVsdGlTb3VyY2UgJiYgb2xkVmFsdWVbMF0gPT09IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA/IFtdIDogb2xkVmFsdWUsXG4gICAgICAgICAgICBib3VuZENsZWFudXBcbiAgICAgICAgICBdO1xuICAgICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgY2FsbCA/IGNhbGwoY2IsIDMsIGFyZ3MpIDogKFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgY2IoLi4uYXJncylcbiAgICAgICAgICApO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGFjdGl2ZVdhdGNoZXIgPSBjdXJyZW50V2F0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9O1xuICBpZiAoYXVnbWVudEpvYikge1xuICAgIGF1Z21lbnRKb2Ioam9iKTtcbiAgfVxuICBlZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoZ2V0dGVyKTtcbiAgZWZmZWN0LnNjaGVkdWxlciA9IHNjaGVkdWxlciA/ICgpID0+IHNjaGVkdWxlcihqb2IsIGZhbHNlKSA6IGpvYjtcbiAgYm91bmRDbGVhbnVwID0gKGZuKSA9PiBvbldhdGNoZXJDbGVhbnVwKGZuLCBmYWxzZSwgZWZmZWN0KTtcbiAgY2xlYW51cCA9IGVmZmVjdC5vblN0b3AgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cHMgPSBjbGVhbnVwTWFwLmdldChlZmZlY3QpO1xuICAgIGlmIChjbGVhbnVwcykge1xuICAgICAgaWYgKGNhbGwpIHtcbiAgICAgICAgY2FsbChjbGVhbnVwcywgNCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGNsZWFudXAyIG9mIGNsZWFudXBzKSBjbGVhbnVwMigpO1xuICAgICAgfVxuICAgICAgY2xlYW51cE1hcC5kZWxldGUoZWZmZWN0KTtcbiAgICB9XG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgZWZmZWN0Lm9uVHJhY2sgPSBvcHRpb25zLm9uVHJhY2s7XG4gICAgZWZmZWN0Lm9uVHJpZ2dlciA9IG9wdGlvbnMub25UcmlnZ2VyO1xuICB9XG4gIGlmIChjYikge1xuICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgIGpvYih0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2xkVmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHNjaGVkdWxlcikge1xuICAgIHNjaGVkdWxlcihqb2IuYmluZChudWxsLCB0cnVlKSwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LnJ1bigpO1xuICB9XG4gIHdhdGNoSGFuZGxlLnBhdXNlID0gZWZmZWN0LnBhdXNlLmJpbmQoZWZmZWN0KTtcbiAgd2F0Y2hIYW5kbGUucmVzdW1lID0gZWZmZWN0LnJlc3VtZS5iaW5kKGVmZmVjdCk7XG4gIHdhdGNoSGFuZGxlLnN0b3AgPSB3YXRjaEhhbmRsZTtcbiAgcmV0dXJuIHdhdGNoSGFuZGxlO1xufVxuZnVuY3Rpb24gdHJhdmVyc2UodmFsdWUsIGRlcHRoID0gSW5maW5pdHksIHNlZW4pIHtcbiAgaWYgKGRlcHRoIDw9IDAgfHwgIWlzT2JqZWN0KHZhbHVlKSB8fCB2YWx1ZVtcIl9fdl9za2lwXCJdKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGlmIChzZWVuLmhhcyh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgc2Vlbi5hZGQodmFsdWUpO1xuICBkZXB0aC0tO1xuICBpZiAoaXNSZWYodmFsdWUpKSB7XG4gICAgdHJhdmVyc2UodmFsdWUudmFsdWUsIGRlcHRoLCBzZWVuKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2ldLCBkZXB0aCwgc2Vlbik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSB8fCBpc01hcCh2YWx1ZSkpIHtcbiAgICB2YWx1ZS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICB0cmF2ZXJzZSh2LCBkZXB0aCwgc2Vlbik7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZSkge1xuICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgZGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwga2V5KSkge1xuICAgICAgICB0cmF2ZXJzZSh2YWx1ZVtrZXldLCBkZXB0aCwgc2Vlbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IHsgQVJSQVlfSVRFUkFURV9LRVksIEVmZmVjdEZsYWdzLCBFZmZlY3RTY29wZSwgSVRFUkFURV9LRVksIE1BUF9LRVlfSVRFUkFURV9LRVksIFJlYWN0aXZlRWZmZWN0LCBSZWFjdGl2ZUZsYWdzLCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBXYXRjaEVycm9yQ29kZXMsIGNvbXB1dGVkLCBjdXN0b21SZWYsIGVmZmVjdCwgZWZmZWN0U2NvcGUsIGVuYWJsZVRyYWNraW5nLCBnZXRDdXJyZW50U2NvcGUsIGdldEN1cnJlbnRXYXRjaGVyLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvbkVmZmVjdENsZWFudXAsIG9uU2NvcGVEaXNwb3NlLCBvbldhdGNoZXJDbGVhbnVwLCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFjdGl2ZVJlYWRBcnJheSwgcmVhZG9ubHksIHJlZiwgcmVzZXRUcmFja2luZywgc2hhbGxvd1JlYWN0aXZlLCBzaGFsbG93UmVhZEFycmF5LCBzaGFsbG93UmVhZG9ubHksIHNoYWxsb3dSZWYsIHN0b3AsIHRvUmF3LCB0b1JlYWN0aXZlLCB0b1JlYWRvbmx5LCB0b1JlZiwgdG9SZWZzLCB0b1ZhbHVlLCB0cmFjaywgdHJhdmVyc2UsIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmLCB3YXRjaCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1jb3JlIHYzLjUuMTdcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IHBhdXNlVHJhY2tpbmcsIHJlc2V0VHJhY2tpbmcsIGlzUmVmLCB0b1JhdywgdHJhdmVyc2UsIHNoYWxsb3dSZWYsIHJlYWRvbmx5LCBpc1JlYWN0aXZlLCByZWYsIGlzU2hhbGxvdywgaXNSZWFkb25seSwgc2hhbGxvd1JlYWRBcnJheSwgdG9SZWFkb25seSwgdG9SZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCB0cmFjaywgcmVhY3RpdmUsIHNoYWxsb3dSZWFjdGl2ZSwgdHJpZ2dlciwgUmVhY3RpdmVFZmZlY3QsIHdhdGNoIGFzIHdhdGNoJDEsIGN1c3RvbVJlZiwgaXNQcm94eSwgcHJveHlSZWZzLCBtYXJrUmF3LCBFZmZlY3RTY29wZSwgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSB9IGZyb20gJ0B2dWUvcmVhY3Rpdml0eSc7XG5leHBvcnQgeyBFZmZlY3RTY29wZSwgUmVhY3RpdmVFZmZlY3QsIFRyYWNrT3BUeXBlcywgVHJpZ2dlck9wVHlwZXMsIGN1c3RvbVJlZiwgZWZmZWN0LCBlZmZlY3RTY29wZSwgZ2V0Q3VycmVudFNjb3BlLCBnZXRDdXJyZW50V2F0Y2hlciwgaXNQcm94eSwgaXNSZWFjdGl2ZSwgaXNSZWFkb25seSwgaXNSZWYsIGlzU2hhbGxvdywgbWFya1Jhdywgb25TY29wZURpc3Bvc2UsIG9uV2F0Y2hlckNsZWFudXAsIHByb3h5UmVmcywgcmVhY3RpdmUsIHJlYWRvbmx5LCByZWYsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJpZ2dlclJlZiwgdW5yZWYgfSBmcm9tICdAdnVlL3JlYWN0aXZpdHknO1xuaW1wb3J0IHsgaXNTdHJpbmcsIGlzRnVuY3Rpb24sIEVNUFRZX09CSiwgaXNQcm9taXNlLCBpc0FycmF5LCBOT09QLCBnZXRHbG9iYWxUaGlzLCBleHRlbmQsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgaGFzT3duLCByZW1vdmUsIGRlZiwgaXNPbiwgaXNSZXNlcnZlZFByb3AsIG5vcm1hbGl6ZUNsYXNzLCBzdHJpbmdpZnlTdHlsZSwgbm9ybWFsaXplU3R5bGUsIGlzS25vd25TdmdBdHRyLCBpc0Jvb2xlYW5BdHRyLCBpc0tub3duSHRtbEF0dHIsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNSZW5kZXJhYmxlQXR0clZhbHVlLCBnZXRFc2NhcGVkQ3NzVmFyTmFtZSwgaXNPYmplY3QsIGlzUmVnRXhwLCBpbnZva2VBcnJheUZucywgdG9IYW5kbGVyS2V5LCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgaXNTeW1ib2wsIGlzR2xvYmFsbHlBbGxvd2VkLCBOTywgRU1QVFlfQVJSLCBoeXBoZW5hdGUsIG1ha2VNYXAsIHRvUmF3VHlwZSwgaGFzQ2hhbmdlZCwgbG9vc2VUb051bWJlciwgaXNNb2RlbExpc3RlbmVyLCB0b051bWJlciB9IGZyb20gJ0B2dWUvc2hhcmVkJztcbmV4cG9ydCB7IGNhbWVsaXplLCBjYXBpdGFsaXplLCBub3JtYWxpemVDbGFzcywgbm9ybWFsaXplUHJvcHMsIG5vcm1hbGl6ZVN0eWxlLCB0b0Rpc3BsYXlTdHJpbmcsIHRvSGFuZGxlcktleSB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuY29uc3Qgc3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZSkge1xuICBzdGFjay5wdXNoKHZub2RlKTtcbn1cbmZ1bmN0aW9uIHBvcFdhcm5pbmdDb250ZXh0KCkge1xuICBzdGFjay5wb3AoKTtcbn1cbmxldCBpc1dhcm5pbmcgPSBmYWxzZTtcbmZ1bmN0aW9uIHdhcm4kMShtc2csIC4uLmFyZ3MpIHtcbiAgaWYgKGlzV2FybmluZykgcmV0dXJuO1xuICBpc1dhcm5pbmcgPSB0cnVlO1xuICBwYXVzZVRyYWNraW5nKCk7XG4gIGNvbnN0IGluc3RhbmNlID0gc3RhY2subGVuZ3RoID8gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0uY29tcG9uZW50IDogbnVsbDtcbiAgY29uc3QgYXBwV2FybkhhbmRsZXIgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy53YXJuSGFuZGxlcjtcbiAgY29uc3QgdHJhY2UgPSBnZXRDb21wb25lbnRUcmFjZSgpO1xuICBpZiAoYXBwV2FybkhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICBhcHBXYXJuSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgMTEsXG4gICAgICBbXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgICBtc2cgKyBhcmdzLm1hcCgoYSkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IGEudG9TdHJpbmcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGEpKSAhPSBudWxsID8gX2IgOiBKU09OLnN0cmluZ2lmeShhKTtcbiAgICAgICAgfSkuam9pbihcIlwiKSxcbiAgICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2UucHJveHksXG4gICAgICAgIHRyYWNlLm1hcChcbiAgICAgICAgICAoeyB2bm9kZSB9KSA9PiBgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgdm5vZGUudHlwZSl9PmBcbiAgICAgICAgKS5qb2luKFwiXFxuXCIpLFxuICAgICAgICB0cmFjZVxuICAgICAgXVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgd2FybkFyZ3MgPSBbYFtWdWUgd2Fybl06ICR7bXNnfWAsIC4uLmFyZ3NdO1xuICAgIGlmICh0cmFjZS5sZW5ndGggJiYgLy8gYXZvaWQgc3BhbW1pbmcgY29uc29sZSBkdXJpbmcgdGVzdHNcbiAgICB0cnVlKSB7XG4gICAgICB3YXJuQXJncy5wdXNoKGBcbmAsIC4uLmZvcm1hdFRyYWNlKHRyYWNlKSk7XG4gICAgfVxuICAgIGNvbnNvbGUud2FybiguLi53YXJuQXJncyk7XG4gIH1cbiAgcmVzZXRUcmFja2luZygpO1xuICBpc1dhcm5pbmcgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFRyYWNlKCkge1xuICBsZXQgY3VycmVudFZOb2RlID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gIGlmICghY3VycmVudFZOb2RlKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWRTdGFjayA9IFtdO1xuICB3aGlsZSAoY3VycmVudFZOb2RlKSB7XG4gICAgY29uc3QgbGFzdCA9IG5vcm1hbGl6ZWRTdGFja1swXTtcbiAgICBpZiAobGFzdCAmJiBsYXN0LnZub2RlID09PSBjdXJyZW50Vk5vZGUpIHtcbiAgICAgIGxhc3QucmVjdXJzZUNvdW50Kys7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZWRTdGFjay5wdXNoKHtcbiAgICAgICAgdm5vZGU6IGN1cnJlbnRWTm9kZSxcbiAgICAgICAgcmVjdXJzZUNvdW50OiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50SW5zdGFuY2UgPSBjdXJyZW50Vk5vZGUuY29tcG9uZW50ICYmIGN1cnJlbnRWTm9kZS5jb21wb25lbnQucGFyZW50O1xuICAgIGN1cnJlbnRWTm9kZSA9IHBhcmVudEluc3RhbmNlICYmIHBhcmVudEluc3RhbmNlLnZub2RlO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkU3RhY2s7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZSh0cmFjZSkge1xuICBjb25zdCBsb2dzID0gW107XG4gIHRyYWNlLmZvckVhY2goKGVudHJ5LCBpKSA9PiB7XG4gICAgbG9ncy5wdXNoKC4uLmkgPT09IDAgPyBbXSA6IFtgXG5gXSwgLi4uZm9ybWF0VHJhY2VFbnRyeShlbnRyeSkpO1xuICB9KTtcbiAgcmV0dXJuIGxvZ3M7XG59XG5mdW5jdGlvbiBmb3JtYXRUcmFjZUVudHJ5KHsgdm5vZGUsIHJlY3Vyc2VDb3VudCB9KSB7XG4gIGNvbnN0IHBvc3RmaXggPSByZWN1cnNlQ291bnQgPiAwID8gYC4uLiAoJHtyZWN1cnNlQ291bnR9IHJlY3Vyc2l2ZSBjYWxscylgIDogYGA7XG4gIGNvbnN0IGlzUm9vdCA9IHZub2RlLmNvbXBvbmVudCA/IHZub2RlLmNvbXBvbmVudC5wYXJlbnQgPT0gbnVsbCA6IGZhbHNlO1xuICBjb25zdCBvcGVuID0gYCBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgIHZub2RlLmNvbXBvbmVudCxcbiAgICB2bm9kZS50eXBlLFxuICAgIGlzUm9vdFxuICApfWA7XG4gIGNvbnN0IGNsb3NlID0gYD5gICsgcG9zdGZpeDtcbiAgcmV0dXJuIHZub2RlLnByb3BzID8gW29wZW4sIC4uLmZvcm1hdFByb3BzKHZub2RlLnByb3BzKSwgY2xvc2VdIDogW29wZW4gKyBjbG9zZV07XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wcyhwcm9wcykge1xuICBjb25zdCByZXMgPSBbXTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAga2V5cy5zbGljZSgwLCAzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICByZXMucHVzaCguLi5mb3JtYXRQcm9wKGtleSwgcHJvcHNba2V5XSkpO1xuICB9KTtcbiAgaWYgKGtleXMubGVuZ3RoID4gMykge1xuICAgIHJlcy5wdXNoKGAgLi4uYCk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGZvcm1hdFByb3Aoa2V5LCB2YWx1ZSwgcmF3KSB7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT0ke3ZhbHVlfWBdO1xuICB9IGVsc2UgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHZhbHVlID0gZm9ybWF0UHJvcChrZXksIHRvUmF3KHZhbHVlLnZhbHVlKSwgdHJ1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09UmVmPGAsIHZhbHVlLCBgPmBdO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgcmV0dXJuIFtgJHtrZXl9PWZuJHt2YWx1ZS5uYW1lID8gYDwke3ZhbHVlLm5hbWV9PmAgOiBgYH1gXTtcbiAgfSBlbHNlIHtcbiAgICB2YWx1ZSA9IHRvUmF3KHZhbHVlKTtcbiAgICByZXR1cm4gcmF3ID8gdmFsdWUgOiBbYCR7a2V5fT1gLCB2YWx1ZV07XG4gIH1cbn1cbmZ1bmN0aW9uIGFzc2VydE51bWJlcih2YWwsIHR5cGUpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSByZXR1cm47XG4gIGlmICh2YWwgPT09IHZvaWQgMCkge1xuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSBcIm51bWJlclwiKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIG5vdCBhIHZhbGlkIG51bWJlciAtIGdvdCAke0pTT04uc3RyaW5naWZ5KHZhbCl9LmApO1xuICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICB3YXJuJDEoYCR7dHlwZX0gaXMgTmFOIC0gdGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LmApO1xuICB9XG59XG5cbmNvbnN0IEVycm9yQ29kZXMgPSB7XG4gIFwiU0VUVVBfRlVOQ1RJT05cIjogMCxcbiAgXCIwXCI6IFwiU0VUVVBfRlVOQ1RJT05cIixcbiAgXCJSRU5ERVJfRlVOQ1RJT05cIjogMSxcbiAgXCIxXCI6IFwiUkVOREVSX0ZVTkNUSU9OXCIsXG4gIFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIjogNSxcbiAgXCI1XCI6IFwiTkFUSVZFX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiOiA2LFxuICBcIjZcIjogXCJDT01QT05FTlRfRVZFTlRfSEFORExFUlwiLFxuICBcIlZOT0RFX0hPT0tcIjogNyxcbiAgXCI3XCI6IFwiVk5PREVfSE9PS1wiLFxuICBcIkRJUkVDVElWRV9IT09LXCI6IDgsXG4gIFwiOFwiOiBcIkRJUkVDVElWRV9IT09LXCIsXG4gIFwiVFJBTlNJVElPTl9IT09LXCI6IDksXG4gIFwiOVwiOiBcIlRSQU5TSVRJT05fSE9PS1wiLFxuICBcIkFQUF9FUlJPUl9IQU5ETEVSXCI6IDEwLFxuICBcIjEwXCI6IFwiQVBQX0VSUk9SX0hBTkRMRVJcIixcbiAgXCJBUFBfV0FSTl9IQU5ETEVSXCI6IDExLFxuICBcIjExXCI6IFwiQVBQX1dBUk5fSEFORExFUlwiLFxuICBcIkZVTkNUSU9OX1JFRlwiOiAxMixcbiAgXCIxMlwiOiBcIkZVTkNUSU9OX1JFRlwiLFxuICBcIkFTWU5DX0NPTVBPTkVOVF9MT0FERVJcIjogMTMsXG4gIFwiMTNcIjogXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCIsXG4gIFwiU0NIRURVTEVSXCI6IDE0LFxuICBcIjE0XCI6IFwiU0NIRURVTEVSXCIsXG4gIFwiQ09NUE9ORU5UX1VQREFURVwiOiAxNSxcbiAgXCIxNVwiOiBcIkNPTVBPTkVOVF9VUERBVEVcIixcbiAgXCJBUFBfVU5NT1VOVF9DTEVBTlVQXCI6IDE2LFxuICBcIjE2XCI6IFwiQVBQX1VOTU9VTlRfQ0xFQU5VUFwiXG59O1xuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyQxID0ge1xuICBbXCJzcFwiXTogXCJzZXJ2ZXJQcmVmZXRjaCBob29rXCIsXG4gIFtcImJjXCJdOiBcImJlZm9yZUNyZWF0ZSBob29rXCIsXG4gIFtcImNcIl06IFwiY3JlYXRlZCBob29rXCIsXG4gIFtcImJtXCJdOiBcImJlZm9yZU1vdW50IGhvb2tcIixcbiAgW1wibVwiXTogXCJtb3VudGVkIGhvb2tcIixcbiAgW1wiYnVcIl06IFwiYmVmb3JlVXBkYXRlIGhvb2tcIixcbiAgW1widVwiXTogXCJ1cGRhdGVkXCIsXG4gIFtcImJ1bVwiXTogXCJiZWZvcmVVbm1vdW50IGhvb2tcIixcbiAgW1widW1cIl06IFwidW5tb3VudGVkIGhvb2tcIixcbiAgW1wiYVwiXTogXCJhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJkYVwiXTogXCJkZWFjdGl2YXRlZCBob29rXCIsXG4gIFtcImVjXCJdOiBcImVycm9yQ2FwdHVyZWQgaG9va1wiLFxuICBbXCJydGNcIl06IFwicmVuZGVyVHJhY2tlZCBob29rXCIsXG4gIFtcInJ0Z1wiXTogXCJyZW5kZXJUcmlnZ2VyZWQgaG9va1wiLFxuICBbMF06IFwic2V0dXAgZnVuY3Rpb25cIixcbiAgWzFdOiBcInJlbmRlciBmdW5jdGlvblwiLFxuICBbMl06IFwid2F0Y2hlciBnZXR0ZXJcIixcbiAgWzNdOiBcIndhdGNoZXIgY2FsbGJhY2tcIixcbiAgWzRdOiBcIndhdGNoZXIgY2xlYW51cCBmdW5jdGlvblwiLFxuICBbNV06IFwibmF0aXZlIGV2ZW50IGhhbmRsZXJcIixcbiAgWzZdOiBcImNvbXBvbmVudCBldmVudCBoYW5kbGVyXCIsXG4gIFs3XTogXCJ2bm9kZSBob29rXCIsXG4gIFs4XTogXCJkaXJlY3RpdmUgaG9va1wiLFxuICBbOV06IFwidHJhbnNpdGlvbiBob29rXCIsXG4gIFsxMF06IFwiYXBwIGVycm9ySGFuZGxlclwiLFxuICBbMTFdOiBcImFwcCB3YXJuSGFuZGxlclwiLFxuICBbMTJdOiBcInJlZiBmdW5jdGlvblwiLFxuICBbMTNdOiBcImFzeW5jIGNvbXBvbmVudCBsb2FkZXJcIixcbiAgWzE0XTogXCJzY2hlZHVsZXIgZmx1c2hcIixcbiAgWzE1XTogXCJjb21wb25lbnQgdXBkYXRlXCIsXG4gIFsxNl06IFwiYXBwIHVubW91bnQgY2xlYW51cCBmdW5jdGlvblwiXG59O1xuZnVuY3Rpb24gY2FsbFdpdGhFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICB0cnkge1xuICAgIHJldHVybiBhcmdzID8gZm4oLi4uYXJncykgOiBmbigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xuICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpO1xuICAgIGlmIChyZXMgJiYgaXNQcm9taXNlKHJlcykpIHtcbiAgICAgIHJlcy5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIHR5cGUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgY29uc3QgdmFsdWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzLnB1c2goY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm5baV0sIGluc3RhbmNlLCB0eXBlLCBhcmdzKSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBJbnZhbGlkIHZhbHVlIHR5cGUgcGFzc2VkIHRvIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKCk6ICR7dHlwZW9mIGZufWBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICBjb25zdCBjb250ZXh0Vk5vZGUgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnZub2RlIDogbnVsbDtcbiAgY29uc3QgeyBlcnJvckhhbmRsZXIsIHRocm93VW5oYW5kbGVkRXJyb3JJblByb2R1Y3Rpb24gfSA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnIHx8IEVNUFRZX09CSjtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgbGV0IGN1ciA9IGluc3RhbmNlLnBhcmVudDtcbiAgICBjb25zdCBleHBvc2VkSW5zdGFuY2UgPSBpbnN0YW5jZS5wcm94eTtcbiAgICBjb25zdCBlcnJvckluZm8gPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdIDogYGh0dHBzOi8vdnVlanMub3JnL2Vycm9yLXJlZmVyZW5jZS8jcnVudGltZS0ke3R5cGV9YDtcbiAgICB3aGlsZSAoY3VyKSB7XG4gICAgICBjb25zdCBlcnJvckNhcHR1cmVkSG9va3MgPSBjdXIuZWM7XG4gICAgICBpZiAoZXJyb3JDYXB0dXJlZEhvb2tzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXJyb3JDYXB0dXJlZEhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rc1tpXShlcnIsIGV4cG9zZWRJbnN0YW5jZSwgZXJyb3JJbmZvKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGN1ciA9IGN1ci5wYXJlbnQ7XG4gICAgfVxuICAgIGlmIChlcnJvckhhbmRsZXIpIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhlcnJvckhhbmRsZXIsIG51bGwsIDEwLCBbXG4gICAgICAgIGVycixcbiAgICAgICAgZXhwb3NlZEluc3RhbmNlLFxuICAgICAgICBlcnJvckluZm9cbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiwgdGhyb3dVbmhhbmRsZWRFcnJvckluUHJvZHVjdGlvbik7XG59XG5mdW5jdGlvbiBsb2dFcnJvcihlcnIsIHR5cGUsIGNvbnRleHRWTm9kZSwgdGhyb3dJbkRldiA9IHRydWUsIHRocm93SW5Qcm9kID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBpbmZvID0gRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChjb250ZXh0Vk5vZGUpO1xuICAgIH1cbiAgICB3YXJuJDEoYFVuaGFuZGxlZCBlcnJvciR7aW5mbyA/IGAgZHVyaW5nIGV4ZWN1dGlvbiBvZiAke2luZm99YCA6IGBgfWApO1xuICAgIGlmIChjb250ZXh0Vk5vZGUpIHtcbiAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgfVxuICAgIGlmICh0aHJvd0luRGV2KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodGhyb3dJblByb2QpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlID0gW107XG5sZXQgZmx1c2hJbmRleCA9IC0xO1xuY29uc3QgcGVuZGluZ1Bvc3RGbHVzaENicyA9IFtdO1xubGV0IGFjdGl2ZVBvc3RGbHVzaENicyA9IG51bGw7XG5sZXQgcG9zdEZsdXNoSW5kZXggPSAwO1xuY29uc3QgcmVzb2x2ZWRQcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xubGV0IGN1cnJlbnRGbHVzaFByb21pc2UgPSBudWxsO1xuY29uc3QgUkVDVVJTSU9OX0xJTUlUID0gMTAwO1xuZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgY29uc3QgcCA9IGN1cnJlbnRGbHVzaFByb21pc2UgfHwgcmVzb2x2ZWRQcm9taXNlO1xuICByZXR1cm4gZm4gPyBwLnRoZW4odGhpcyA/IGZuLmJpbmQodGhpcykgOiBmbikgOiBwO1xufVxuZnVuY3Rpb24gZmluZEluc2VydGlvbkluZGV4KGlkKSB7XG4gIGxldCBzdGFydCA9IGZsdXNoSW5kZXggKyAxO1xuICBsZXQgZW5kID0gcXVldWUubGVuZ3RoO1xuICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcbiAgICBjb25zdCBtaWRkbGUgPSBzdGFydCArIGVuZCA+Pj4gMTtcbiAgICBjb25zdCBtaWRkbGVKb2IgPSBxdWV1ZVttaWRkbGVdO1xuICAgIGNvbnN0IG1pZGRsZUpvYklkID0gZ2V0SWQobWlkZGxlSm9iKTtcbiAgICBpZiAobWlkZGxlSm9iSWQgPCBpZCB8fCBtaWRkbGVKb2JJZCA9PT0gaWQgJiYgbWlkZGxlSm9iLmZsYWdzICYgMikge1xuICAgICAgc3RhcnQgPSBtaWRkbGUgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmQgPSBtaWRkbGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGFydDtcbn1cbmZ1bmN0aW9uIHF1ZXVlSm9iKGpvYikge1xuICBpZiAoIShqb2IuZmxhZ3MgJiAxKSkge1xuICAgIGNvbnN0IGpvYklkID0gZ2V0SWQoam9iKTtcbiAgICBjb25zdCBsYXN0Sm9iID0gcXVldWVbcXVldWUubGVuZ3RoIC0gMV07XG4gICAgaWYgKCFsYXN0Sm9iIHx8IC8vIGZhc3QgcGF0aCB3aGVuIHRoZSBqb2IgaWQgaXMgbGFyZ2VyIHRoYW4gdGhlIHRhaWxcbiAgICAhKGpvYi5mbGFncyAmIDIpICYmIGpvYklkID49IGdldElkKGxhc3RKb2IpKSB7XG4gICAgICBxdWV1ZS5wdXNoKGpvYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlLnNwbGljZShmaW5kSW5zZXJ0aW9uSW5kZXgoam9iSWQpLCAwLCBqb2IpO1xuICAgIH1cbiAgICBqb2IuZmxhZ3MgfD0gMTtcbiAgICBxdWV1ZUZsdXNoKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHF1ZXVlRmx1c2goKSB7XG4gIGlmICghY3VycmVudEZsdXNoUHJvbWlzZSkge1xuICAgIGN1cnJlbnRGbHVzaFByb21pc2UgPSByZXNvbHZlZFByb21pc2UudGhlbihmbHVzaEpvYnMpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XG4gIGlmICghaXNBcnJheShjYikpIHtcbiAgICBpZiAoYWN0aXZlUG9zdEZsdXNoQ2JzICYmIGNiLmlkID09PSAtMSkge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnNwbGljZShwb3N0Rmx1c2hJbmRleCArIDEsIDAsIGNiKTtcbiAgICB9IGVsc2UgaWYgKCEoY2IuZmxhZ3MgJiAxKSkge1xuICAgICAgcGVuZGluZ1Bvc3RGbHVzaENicy5wdXNoKGNiKTtcbiAgICAgIGNiLmZsYWdzIHw9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaCguLi5jYik7XG4gIH1cbiAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSwgc2VlbiwgaSA9IGZsdXNoSW5kZXggKyAxKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBmb3IgKDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2IgPSBxdWV1ZVtpXTtcbiAgICBpZiAoY2IgJiYgY2IuZmxhZ3MgJiAyKSB7XG4gICAgICBpZiAoaW5zdGFuY2UgJiYgY2IuaWQgIT09IGluc3RhbmNlLnVpZCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBxdWV1ZS5zcGxpY2UoaSwgMSk7XG4gICAgICBpLS07XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgICAgY2IoKTtcbiAgICAgIGlmICghKGNiLmZsYWdzICYgNCkpIHtcbiAgICAgICAgY2IuZmxhZ3MgJj0gLTI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XG4gIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV0uc29ydChcbiAgICAgIChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpXG4gICAgKTtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGNiID0gYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoY2IuZmxhZ3MgJiA0KSB7XG4gICAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgICAgaWYgKCEoY2IuZmxhZ3MgJiA4KSkgY2IoKTtcbiAgICAgIGNiLmZsYWdzICY9IC0yO1xuICAgIH1cbiAgICBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xuICAgIHBvc3RGbHVzaEluZGV4ID0gMDtcbiAgfVxufVxuY29uc3QgZ2V0SWQgPSAoam9iKSA9PiBqb2IuaWQgPT0gbnVsbCA/IGpvYi5mbGFncyAmIDIgPyAtMSA6IEluZmluaXR5IDogam9iLmlkO1xuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGNvbnN0IGNoZWNrID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IChqb2IpID0+IGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBqb2IpIDogTk9PUDtcbiAgdHJ5IHtcbiAgICBmb3IgKGZsdXNoSW5kZXggPSAwOyBmbHVzaEluZGV4IDwgcXVldWUubGVuZ3RoOyBmbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGpvYiA9IHF1ZXVlW2ZsdXNoSW5kZXhdO1xuICAgICAgaWYgKGpvYiAmJiAhKGpvYi5mbGFncyAmIDgpKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrKGpvYikpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoam9iLmZsYWdzICYgNCkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcoXG4gICAgICAgICAgam9iLFxuICAgICAgICAgIGpvYi5pLFxuICAgICAgICAgIGpvYi5pID8gMTUgOiAxNFxuICAgICAgICApO1xuICAgICAgICBpZiAoIShqb2IuZmxhZ3MgJiA0KSkge1xuICAgICAgICAgIGpvYi5mbGFncyAmPSB+MTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBmb3IgKDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IpIHtcbiAgICAgICAgam9iLmZsYWdzICY9IC0yO1xuICAgICAgfVxuICAgIH1cbiAgICBmbHVzaEluZGV4ID0gLTE7XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbiAgICBpZiAocXVldWUubGVuZ3RoIHx8IHBlbmRpbmdQb3N0Rmx1c2hDYnMubGVuZ3RoKSB7XG4gICAgICBmbHVzaEpvYnMoc2Vlbik7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2VlbiwgZm4pIHtcbiAgY29uc3QgY291bnQgPSBzZWVuLmdldChmbikgfHwgMDtcbiAgaWYgKGNvdW50ID4gUkVDVVJTSU9OX0xJTUlUKSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBmbi5pO1xuICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZSAmJiBnZXRDb21wb25lbnROYW1lKGluc3RhbmNlLnR5cGUpO1xuICAgIGhhbmRsZUVycm9yKFxuICAgICAgYE1heGltdW0gcmVjdXJzaXZlIHVwZGF0ZXMgZXhjZWVkZWQke2NvbXBvbmVudE5hbWUgPyBgIGluIGNvbXBvbmVudCA8JHtjb21wb25lbnROYW1lfT5gIDogYGB9LiBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmAsXG4gICAgICBudWxsLFxuICAgICAgMTBcbiAgICApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmxldCBpc0htclVwZGF0aW5nID0gZmFsc2U7XG5jb25zdCBobXJEaXJ0eUNvbXBvbmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgZ2V0R2xvYmFsVGhpcygpLl9fVlVFX0hNUl9SVU5USU1FX18gPSB7XG4gICAgY3JlYXRlUmVjb3JkOiB0cnlXcmFwKGNyZWF0ZVJlY29yZCksXG4gICAgcmVyZW5kZXI6IHRyeVdyYXAocmVyZW5kZXIpLFxuICAgIHJlbG9hZDogdHJ5V3JhcChyZWxvYWQpXG4gIH07XG59XG5jb25zdCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZnVuY3Rpb24gcmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgY29uc3QgaWQgPSBpbnN0YW5jZS50eXBlLl9faG1ySWQ7XG4gIGxldCByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgaWYgKCFyZWNvcmQpIHtcbiAgICBjcmVhdGVSZWNvcmQoaWQsIGluc3RhbmNlLnR5cGUpO1xuICAgIHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICB9XG4gIHJlY29yZC5pbnN0YW5jZXMuYWRkKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpIHtcbiAgbWFwLmdldChpbnN0YW5jZS50eXBlLl9faG1ySWQpLmluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVjb3JkKGlkLCBpbml0aWFsRGVmKSB7XG4gIGlmIChtYXAuaGFzKGlkKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBtYXAuc2V0KGlkLCB7XG4gICAgaW5pdGlhbERlZjogbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5pdGlhbERlZiksXG4gICAgaW5zdGFuY2VzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gIH0pO1xuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChjb21wb25lbnQpID8gY29tcG9uZW50Ll9fdmNjT3B0cyA6IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIHJlcmVuZGVyKGlkLCBuZXdSZW5kZXIpIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlY29yZC5pbml0aWFsRGVmLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgWy4uLnJlY29yZC5pbnN0YW5jZXNdLmZvckVhY2goKGluc3RhbmNlKSA9PiB7XG4gICAgaWYgKG5ld1JlbmRlcikge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgICAgbm9ybWFsaXplQ2xhc3NDb21wb25lbnQoaW5zdGFuY2UudHlwZSkucmVuZGVyID0gbmV3UmVuZGVyO1xuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXJDYWNoZSA9IFtdO1xuICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBsZXQgZGlydHlJbnN0YW5jZXMgPSBobXJEaXJ0eUNvbXBvbmVudHMuZ2V0KG9sZENvbXApO1xuICAgIGlmICghZGlydHlJbnN0YW5jZXMpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuc2V0KG9sZENvbXAsIGRpcnR5SW5zdGFuY2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5wcm9wc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LmVtaXRzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQub3B0aW9uc0NhY2hlLmRlbGV0ZShpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoaW5zdGFuY2UuY2VSZWxvYWQpIHtcbiAgICAgIGRpcnR5SW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG4gICAgICBpbnN0YW5jZS5jZVJlbG9hZChuZXdDb21wLnN0eWxlcyk7XG4gICAgICBkaXJ0eUluc3RhbmNlcy5kZWxldGUoaW5zdGFuY2UpO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UucGFyZW50KSB7XG4gICAgICBxdWV1ZUpvYigoKSA9PiB7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgZGlydHlJbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5yZWxvYWQpIHtcbiAgICAgIGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJbSE1SXSBSb290IG9yIG1hbnVhbGx5IG1vdW50ZWQgaW5zdGFuY2UgbW9kaWZpZWQuIEZ1bGwgcmVsb2FkIHJlcXVpcmVkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uucm9vdC5jZSAmJiBpbnN0YW5jZSAhPT0gaW5zdGFuY2Uucm9vdCkge1xuICAgICAgaW5zdGFuY2Uucm9vdC5jZS5fcmVtb3ZlQ2hpbGRTdHlsZShvbGRDb21wKTtcbiAgICB9XG4gIH1cbiAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XG4gICAgaG1yRGlydHlDb21wb25lbnRzLmNsZWFyKCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXBkYXRlQ29tcG9uZW50RGVmKG9sZENvbXAsIG5ld0NvbXApIHtcbiAgZXh0ZW5kKG9sZENvbXAsIG5ld0NvbXApO1xuICBmb3IgKGNvbnN0IGtleSBpbiBvbGRDb21wKSB7XG4gICAgaWYgKGtleSAhPT0gXCJfX2ZpbGVcIiAmJiAhKGtleSBpbiBuZXdDb21wKSkge1xuICAgICAgZGVsZXRlIG9sZENvbXBba2V5XTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHRyeVdyYXAoZm4pIHtcbiAgcmV0dXJuIChpZCwgYXJnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmbihpZCwgYXJnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW0hNUl0gU29tZXRoaW5nIHdlbnQgd3JvbmcgZHVyaW5nIFZ1ZSBjb21wb25lbnQgaG90LXJlbG9hZC4gRnVsbCByZWxvYWQgcmVxdWlyZWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5cbmxldCBkZXZ0b29scyQxO1xubGV0IGJ1ZmZlciA9IFtdO1xubGV0IGRldnRvb2xzTm90SW5zdGFsbGVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbWl0JDEoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICB9IGVsc2UgaWYgKCFkZXZ0b29sc05vdEluc3RhbGxlZCkge1xuICAgIGJ1ZmZlci5wdXNoKHsgZXZlbnQsIGFyZ3MgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldERldnRvb2xzSG9vayQxKGhvb2ssIHRhcmdldCkge1xuICB2YXIgX2EsIF9iO1xuICBkZXZ0b29scyQxID0gaG9vaztcbiAgaWYgKGRldnRvb2xzJDEpIHtcbiAgICBkZXZ0b29scyQxLmVuYWJsZWQgPSB0cnVlO1xuICAgIGJ1ZmZlci5mb3JFYWNoKCh7IGV2ZW50LCBhcmdzIH0pID0+IGRldnRvb2xzJDEuZW1pdChldmVudCwgLi4uYXJncykpO1xuICAgIGJ1ZmZlciA9IFtdO1xuICB9IGVsc2UgaWYgKFxuICAgIC8vIGhhbmRsZSBsYXRlIGRldnRvb2xzIGluamVjdGlvbiAtIG9ubHkgZG8gdGhpcyBpZiB3ZSBhcmUgaW4gYW4gYWN0dWFsXG4gICAgLy8gYnJvd3NlciBlbnZpcm9ubWVudCB0byBhdm9pZCB0aGUgdGltZXIgaGFuZGxlIHN0YWxsaW5nIHRlc3QgcnVubmVyIGV4aXRcbiAgICAvLyAoIzQ4MTUpXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiAvLyBzb21lIGVudnMgbW9jayB3aW5kb3cgYnV0IG5vdCBmdWxseVxuICAgIHdpbmRvdy5IVE1MRWxlbWVudCAmJiAvLyBhbHNvIGV4Y2x1ZGUganNkb21cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAhKChfYiA9IChfYSA9IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcImpzZG9tXCIpKVxuICApIHtcbiAgICBjb25zdCByZXBsYXkgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fIHx8IFtdO1xuICAgIHJlcGxheS5wdXNoKChuZXdIb29rKSA9PiB7XG4gICAgICBzZXREZXZ0b29sc0hvb2skMShuZXdIb29rLCB0YXJnZXQpO1xuICAgIH0pO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKCFkZXZ0b29scyQxKSB7XG4gICAgICAgIHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID0gbnVsbDtcbiAgICAgICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgICAgICBidWZmZXIgPSBbXTtcbiAgICAgIH1cbiAgICB9LCAzZTMpO1xuICB9IGVsc2Uge1xuICAgIGRldnRvb2xzTm90SW5zdGFsbGVkID0gdHJ1ZTtcbiAgICBidWZmZXIgPSBbXTtcbiAgfVxufVxuZnVuY3Rpb24gZGV2dG9vbHNJbml0QXBwKGFwcCwgdmVyc2lvbikge1xuICBlbWl0JDEoXCJhcHA6aW5pdFwiIC8qIEFQUF9JTklUICovLCBhcHAsIHZlcnNpb24sIHtcbiAgICBGcmFnbWVudCxcbiAgICBUZXh0LFxuICAgIENvbW1lbnQsXG4gICAgU3RhdGljXG4gIH0pO1xufVxuZnVuY3Rpb24gZGV2dG9vbHNVbm1vdW50QXBwKGFwcCkge1xuICBlbWl0JDEoXCJhcHA6dW5tb3VudFwiIC8qIEFQUF9VTk1PVU5UICovLCBhcHApO1xufVxuY29uc3QgZGV2dG9vbHNDb21wb25lbnRBZGRlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi8pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRVcGRhdGVkID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcImNvbXBvbmVudDp1cGRhdGVkXCIgLyogQ09NUE9ORU5UX1VQREFURUQgKi8pO1xuY29uc3QgX2RldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soXG4gIFwiY29tcG9uZW50OnJlbW92ZWRcIiAvKiBDT01QT05FTlRfUkVNT1ZFRCAqL1xuKTtcbmNvbnN0IGRldnRvb2xzQ29tcG9uZW50UmVtb3ZlZCA9IChjb21wb25lbnQpID0+IHtcbiAgaWYgKGRldnRvb2xzJDEgJiYgdHlwZW9mIGRldnRvb2xzJDEuY2xlYW51cEJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiICYmIC8vIHJlbW92ZSB0aGUgY29tcG9uZW50IGlmIGl0IHdhc24ndCBidWZmZXJlZFxuICAhZGV2dG9vbHMkMS5jbGVhbnVwQnVmZmVyKGNvbXBvbmVudCkpIHtcbiAgICBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkKGNvbXBvbmVudCk7XG4gIH1cbn07XG4vKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi9cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5mdW5jdGlvbiBjcmVhdGVEZXZ0b29sc0NvbXBvbmVudEhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCkgPT4ge1xuICAgIGVtaXQkMShcbiAgICAgIGhvb2ssXG4gICAgICBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsXG4gICAgICBjb21wb25lbnQudWlkLFxuICAgICAgY29tcG9uZW50LnBhcmVudCA/IGNvbXBvbmVudC5wYXJlbnQudWlkIDogdm9pZCAwLFxuICAgICAgY29tcG9uZW50XG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IGRldnRvb2xzUGVyZlN0YXJ0ID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovKTtcbmNvbnN0IGRldnRvb2xzUGVyZkVuZCA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVEZXZ0b29sc1BlcmZvcm1hbmNlSG9vayhcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovKTtcbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKGhvb2spIHtcbiAgcmV0dXJuIChjb21wb25lbnQsIHR5cGUsIHRpbWUpID0+IHtcbiAgICBlbWl0JDEoaG9vaywgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLCBjb21wb25lbnQudWlkLCBjb21wb25lbnQsIHR5cGUsIHRpbWUpO1xuICB9O1xufVxuZnVuY3Rpb24gZGV2dG9vbHNDb21wb25lbnRFbWl0KGNvbXBvbmVudCwgZXZlbnQsIHBhcmFtcykge1xuICBlbWl0JDEoXG4gICAgXCJjb21wb25lbnQ6ZW1pdFwiIC8qIENPTVBPTkVOVF9FTUlUICovLFxuICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICBjb21wb25lbnQsXG4gICAgZXZlbnQsXG4gICAgcGFyYW1zXG4gICk7XG59XG5cbmxldCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBudWxsO1xubGV0IGN1cnJlbnRTY29wZUlkID0gbnVsbDtcbmZ1bmN0aW9uIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShpbnN0YW5jZSkge1xuICBjb25zdCBwcmV2ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgY3VycmVudFNjb3BlSWQgPSBpbnN0YW5jZSAmJiBpbnN0YW5jZS50eXBlLl9fc2NvcGVJZCB8fCBudWxsO1xuICByZXR1cm4gcHJldjtcbn1cbmZ1bmN0aW9uIHB1c2hTY29wZUlkKGlkKSB7XG4gIGN1cnJlbnRTY29wZUlkID0gaWQ7XG59XG5mdW5jdGlvbiBwb3BTY29wZUlkKCkge1xuICBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG59XG5jb25zdCB3aXRoU2NvcGVJZCA9IChfaWQpID0+IHdpdGhDdHg7XG5mdW5jdGlvbiB3aXRoQ3R4KGZuLCBjdHggPSBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsIGlzTm9uU2NvcGVkU2xvdCkge1xuICBpZiAoIWN0eCkgcmV0dXJuIGZuO1xuICBpZiAoZm4uX24pIHtcbiAgICByZXR1cm4gZm47XG4gIH1cbiAgY29uc3QgcmVuZGVyRm5XaXRoQ29udGV4dCA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgIHNldEJsb2NrVHJhY2tpbmcoLTEpO1xuICAgIH1cbiAgICBjb25zdCBwcmV2SW5zdGFuY2UgPSBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoY3R4KTtcbiAgICBsZXQgcmVzO1xuICAgIHRyeSB7XG4gICAgICByZXMgPSBmbiguLi5hcmdzKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXZJbnN0YW5jZSk7XG4gICAgICBpZiAocmVuZGVyRm5XaXRoQ29udGV4dC5fZCkge1xuICAgICAgICBzZXRCbG9ja1RyYWNraW5nKDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChjdHgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9uID0gdHJ1ZTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fYyA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2QgPSB0cnVlO1xuICByZXR1cm4gcmVuZGVyRm5XaXRoQ29udGV4dDtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpIHtcbiAgaWYgKGlzQnVpbHRJbkRpcmVjdGl2ZShuYW1lKSkge1xuICAgIHdhcm4kMShcIkRvIG5vdCB1c2UgYnVpbHQtaW4gZGlyZWN0aXZlIGlkcyBhcyBjdXN0b20gZGlyZWN0aXZlIGlkOiBcIiArIG5hbWUpO1xuICB9XG59XG5mdW5jdGlvbiB3aXRoRGlyZWN0aXZlcyh2bm9kZSwgZGlyZWN0aXZlcykge1xuICBpZiAoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID09PSBudWxsKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYHdpdGhEaXJlY3RpdmVzIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHJlbmRlciBmdW5jdGlvbnMuYCk7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKTtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzIHx8ICh2bm9kZS5kaXJzID0gW10pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcmVjdGl2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgW2RpciwgdmFsdWUsIGFyZywgbW9kaWZpZXJzID0gRU1QVFlfT0JKXSA9IGRpcmVjdGl2ZXNbaV07XG4gICAgaWYgKGRpcikge1xuICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyKSkge1xuICAgICAgICBkaXIgPSB7XG4gICAgICAgICAgbW91bnRlZDogZGlyLFxuICAgICAgICAgIHVwZGF0ZWQ6IGRpclxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKGRpci5kZWVwKSB7XG4gICAgICAgIHRyYXZlcnNlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGJpbmRpbmdzLnB1c2goe1xuICAgICAgICBkaXIsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgb2xkVmFsdWU6IHZvaWQgMCxcbiAgICAgICAgYXJnLFxuICAgICAgICBtb2RpZmllcnNcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm5vZGU7XG59XG5mdW5jdGlvbiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBwcmV2Vk5vZGUsIGluc3RhbmNlLCBuYW1lKSB7XG4gIGNvbnN0IGJpbmRpbmdzID0gdm5vZGUuZGlycztcbiAgY29uc3Qgb2xkQmluZGluZ3MgPSBwcmV2Vk5vZGUgJiYgcHJldlZOb2RlLmRpcnM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmluZGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgaWYgKG9sZEJpbmRpbmdzKSB7XG4gICAgICBiaW5kaW5nLm9sZFZhbHVlID0gb2xkQmluZGluZ3NbaV0udmFsdWU7XG4gICAgfVxuICAgIGxldCBob29rID0gYmluZGluZy5kaXJbbmFtZV07XG4gICAgaWYgKGhvb2spIHtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIGluc3RhbmNlLCA4LCBbXG4gICAgICAgIHZub2RlLmVsLFxuICAgICAgICBiaW5kaW5nLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgcHJldlZOb2RlXG4gICAgICBdKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgVGVsZXBvcnRFbmRLZXkgPSBTeW1ib2woXCJfdnRlXCIpO1xuY29uc3QgaXNUZWxlcG9ydCA9ICh0eXBlKSA9PiB0eXBlLl9faXNUZWxlcG9ydDtcbmNvbnN0IGlzVGVsZXBvcnREaXNhYmxlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRpc2FibGVkIHx8IHByb3BzLmRpc2FibGVkID09PSBcIlwiKTtcbmNvbnN0IGlzVGVsZXBvcnREZWZlcnJlZCA9IChwcm9wcykgPT4gcHJvcHMgJiYgKHByb3BzLmRlZmVyIHx8IHByb3BzLmRlZmVyID09PSBcIlwiKTtcbmNvbnN0IGlzVGFyZ2V0U1ZHID0gKHRhcmdldCkgPT4gdHlwZW9mIFNWR0VsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudDtcbmNvbnN0IGlzVGFyZ2V0TWF0aE1MID0gKHRhcmdldCkgPT4gdHlwZW9mIE1hdGhNTEVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIiAmJiB0YXJnZXQgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50O1xuY29uc3QgcmVzb2x2ZVRhcmdldCA9IChwcm9wcywgc2VsZWN0KSA9PiB7XG4gIGNvbnN0IHRhcmdldFNlbGVjdG9yID0gcHJvcHMgJiYgcHJvcHMudG87XG4gIGlmIChpc1N0cmluZyh0YXJnZXRTZWxlY3RvcikpIHtcbiAgICBpZiAoIXNlbGVjdCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBDdXJyZW50IHJlbmRlcmVyIGRvZXMgbm90IHN1cHBvcnQgc3RyaW5nIHRhcmdldCBmb3IgVGVsZXBvcnRzLiAobWlzc2luZyBxdWVyeVNlbGVjdG9yIHJlbmRlcmVyIG9wdGlvbilgXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IHNlbGVjdCh0YXJnZXRTZWxlY3Rvcik7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdGFyZ2V0ICYmICFpc1RlbGVwb3J0RGlzYWJsZWQocHJvcHMpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgRmFpbGVkIHRvIGxvY2F0ZSBUZWxlcG9ydCB0YXJnZXQgd2l0aCBzZWxlY3RvciBcIiR7dGFyZ2V0U2VsZWN0b3J9XCIuIE5vdGUgdGhlIHRhcmdldCBlbGVtZW50IG11c3QgZXhpc3QgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZCAtIGkuZS4gdGhlIHRhcmdldCBjYW5ub3QgYmUgcmVuZGVyZWQgYnkgdGhlIGNvbXBvbmVudCBpdHNlbGYsIGFuZCBpZGVhbGx5IHNob3VsZCBiZSBvdXRzaWRlIG9mIHRoZSBlbnRpcmUgVnVlIGNvbXBvbmVudCB0cmVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICF0YXJnZXRTZWxlY3RvciAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIFRlbGVwb3J0IHRhcmdldDogJHt0YXJnZXRTZWxlY3Rvcn1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldFNlbGVjdG9yO1xuICB9XG59O1xuY29uc3QgVGVsZXBvcnRJbXBsID0ge1xuICBuYW1lOiBcIlRlbGVwb3J0XCIsXG4gIF9faXNUZWxlcG9ydDogdHJ1ZSxcbiAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBpbnRlcm5hbHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBtYzogbW91bnRDaGlsZHJlbixcbiAgICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgICBvOiB7IGluc2VydCwgcXVlcnlTZWxlY3RvciwgY3JlYXRlVGV4dCwgY3JlYXRlQ29tbWVudCB9XG4gICAgfSA9IGludGVybmFscztcbiAgICBjb25zdCBkaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMi5wcm9wcyk7XG4gICAgbGV0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiwgZHluYW1pY0NoaWxkcmVuIH0gPSBuMjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBwbGFjZWhvbGRlciA9IG4yLmVsID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBzdGFydFwiKSA6IGNyZWF0ZVRleHQoXCJcIik7XG4gICAgICBjb25zdCBtYWluQW5jaG9yID0gbjIuYW5jaG9yID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUNvbW1lbnQoXCJ0ZWxlcG9ydCBlbmRcIikgOiBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgaW5zZXJ0KHBsYWNlaG9sZGVyLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBpbnNlcnQobWFpbkFuY2hvciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgY29uc3QgbW91bnQgPSAoY29udGFpbmVyMiwgYW5jaG9yMikgPT4ge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5pc0NFKSB7XG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuY2UuX3RlbGVwb3J0VGFyZ2V0ID0gY29udGFpbmVyMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgY29udGFpbmVyMixcbiAgICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBtb3VudFRvVGFyZ2V0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBuMi50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KG4yLnByb3BzLCBxdWVyeVNlbGVjdG9yKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gcHJlcGFyZUFuY2hvcih0YXJnZXQsIG4yLCBjcmVhdGVUZXh0LCBpbnNlcnQpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSAhPT0gXCJzdmdcIiAmJiBpc1RhcmdldFNWRyh0YXJnZXQpKSB7XG4gICAgICAgICAgICBuYW1lc3BhY2UgPSBcInN2Z1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlICE9PSBcIm1hdGhtbFwiICYmIGlzVGFyZ2V0TWF0aE1MKHRhcmdldCkpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIG1vdW50KHRhcmdldCwgdGFyZ2V0QW5jaG9yKTtcbiAgICAgICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZGlzYWJsZWQpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBcIkludmFsaWQgVGVsZXBvcnQgdGFyZ2V0IG9uIG1vdW50OlwiLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgYCgke3R5cGVvZiB0YXJnZXR9KWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIG1vdW50KGNvbnRhaW5lciwgbWFpbkFuY2hvcik7XG4gICAgICAgIHVwZGF0ZUNzc1ZhcnMobjIsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzVGVsZXBvcnREZWZlcnJlZChuMi5wcm9wcykpIHtcbiAgICAgICAgbjIuZWwuX19pc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBtb3VudFRvVGFyZ2V0KCk7XG4gICAgICAgICAgZGVsZXRlIG4yLmVsLl9faXNNb3VudGVkO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtb3VudFRvVGFyZ2V0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1RlbGVwb3J0RGVmZXJyZWQobjIucHJvcHMpICYmIG4xLmVsLl9faXNNb3VudGVkID09PSBmYWxzZSkge1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIFRlbGVwb3J0SW1wbC5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgbjIudGFyZ2V0U3RhcnQgPSBuMS50YXJnZXRTdGFydDtcbiAgICAgIGNvbnN0IG1haW5BbmNob3IgPSBuMi5hbmNob3IgPSBuMS5hbmNob3I7XG4gICAgICBjb25zdCB0YXJnZXQgPSBuMi50YXJnZXQgPSBuMS50YXJnZXQ7XG4gICAgICBjb25zdCB0YXJnZXRBbmNob3IgPSBuMi50YXJnZXRBbmNob3IgPSBuMS50YXJnZXRBbmNob3I7XG4gICAgICBjb25zdCB3YXNEaXNhYmxlZCA9IGlzVGVsZXBvcnREaXNhYmxlZChuMS5wcm9wcyk7XG4gICAgICBjb25zdCBjdXJyZW50Q29udGFpbmVyID0gd2FzRGlzYWJsZWQgPyBjb250YWluZXIgOiB0YXJnZXQ7XG4gICAgICBjb25zdCBjdXJyZW50QW5jaG9yID0gd2FzRGlzYWJsZWQgPyBtYWluQW5jaG9yIDogdGFyZ2V0QW5jaG9yO1xuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJzdmdcIiB8fCBpc1RhcmdldFNWRyh0YXJnZXQpKSB7XG4gICAgICAgIG5hbWVzcGFjZSA9IFwic3ZnXCI7XG4gICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiB8fCBpc1RhcmdldE1hdGhNTCh0YXJnZXQpKSB7XG4gICAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgICB9XG4gICAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGN1cnJlbnRDb250YWluZXIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIsICEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKTtcbiAgICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGN1cnJlbnRDb250YWluZXIsXG4gICAgICAgICAgY3VycmVudEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGlmICghd2FzRGlzYWJsZWQpIHtcbiAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIG1haW5BbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobjIucHJvcHMgJiYgbjEucHJvcHMgJiYgbjIucHJvcHMudG8gIT09IG4xLnByb3BzLnRvKSB7XG4gICAgICAgICAgICBuMi5wcm9wcy50byA9IG4xLnByb3BzLnRvO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChuMi5wcm9wcyAmJiBuMi5wcm9wcy50bykgIT09IChuMS5wcm9wcyAmJiBuMS5wcm9wcy50bykpIHtcbiAgICAgICAgICBjb25zdCBuZXh0VGFyZ2V0ID0gbjIudGFyZ2V0ID0gcmVzb2x2ZVRhcmdldChcbiAgICAgICAgICAgIG4yLnByb3BzLFxuICAgICAgICAgICAgcXVlcnlTZWxlY3RvclxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5leHRUYXJnZXQpIHtcbiAgICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICAgIG5leHRUYXJnZXQsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGludGVybmFscyxcbiAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIFRlbGVwb3J0IHRhcmdldCBvbiB1cGRhdGU6XCIsXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgYCgke3R5cGVvZiB0YXJnZXR9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICB0YXJnZXRBbmNob3IsXG4gICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdXBkYXRlQ3NzVmFycyhuMiwgZGlzYWJsZWQpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB7IHVtOiB1bm1vdW50LCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0sIGRvUmVtb3ZlKSB7XG4gICAgY29uc3Qge1xuICAgICAgc2hhcGVGbGFnLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBhbmNob3IsXG4gICAgICB0YXJnZXRTdGFydCxcbiAgICAgIHRhcmdldEFuY2hvcixcbiAgICAgIHRhcmdldCxcbiAgICAgIHByb3BzXG4gICAgfSA9IHZub2RlO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGhvc3RSZW1vdmUodGFyZ2V0U3RhcnQpO1xuICAgICAgaG9zdFJlbW92ZSh0YXJnZXRBbmNob3IpO1xuICAgIH1cbiAgICBkb1JlbW92ZSAmJiBob3N0UmVtb3ZlKGFuY2hvcik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBjb25zdCBzaG91bGRSZW1vdmUgPSBkb1JlbW92ZSB8fCAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2hvdWxkUmVtb3ZlLFxuICAgICAgICAgICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXG4gIGh5ZHJhdGU6IGh5ZHJhdGVUZWxlcG9ydFxufTtcbmZ1bmN0aW9uIG1vdmVUZWxlcG9ydCh2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHsgbzogeyBpbnNlcnQgfSwgbTogbW92ZSB9LCBtb3ZlVHlwZSA9IDIpIHtcbiAgaWYgKG1vdmVUeXBlID09PSAwKSB7XG4gICAgaW5zZXJ0KHZub2RlLnRhcmdldEFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xuICBjb25zdCBpc1Jlb3JkZXIgPSBtb3ZlVHlwZSA9PT0gMjtcbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChlbCwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGlmICghaXNSZW9yZGVyIHx8IGlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW92ZShcbiAgICAgICAgICBjaGlsZHJlbltpXSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgcGFyZW50QW5jaG9yLFxuICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwge1xuICBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yLCBpbnNlcnQsIGNyZWF0ZVRleHQgfVxufSwgaHlkcmF0ZUNoaWxkcmVuKSB7XG4gIGNvbnN0IHRhcmdldCA9IHZub2RlLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgdm5vZGUucHJvcHMsXG4gICAgcXVlcnlTZWxlY3RvclxuICApO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpO1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBoeWRyYXRlQ2hpbGRyZW4oXG4gICAgICAgICAgbmV4dFNpYmxpbmcobm9kZSksXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgcGFyZW50Tm9kZShub2RlKSxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICB2bm9kZS50YXJnZXRTdGFydCA9IHRhcmdldE5vZGU7XG4gICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldE5vZGUgJiYgbmV4dFNpYmxpbmcodGFyZ2V0Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgbGV0IHRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICAgIHdoaWxlICh0YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0QW5jaG9yICYmIHRhcmdldEFuY2hvci5ub2RlVHlwZSA9PT0gOCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldEFuY2hvci5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0IGFuY2hvclwiKSB7XG4gICAgICAgICAgICAgIHZub2RlLnRhcmdldFN0YXJ0ID0gdGFyZ2V0QW5jaG9yO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXRBbmNob3IuZGF0YSA9PT0gXCJ0ZWxlcG9ydCBhbmNob3JcIikge1xuICAgICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gICAgICAgICAgICAgIHRhcmdldC5fbHBhID0gdm5vZGUudGFyZ2V0QW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLnRhcmdldEFuY2hvcik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXRBbmNob3IgPSBuZXh0U2libGluZyh0YXJnZXRBbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdm5vZGUudGFyZ2V0QW5jaG9yKSB7XG4gICAgICAgICAgcHJlcGFyZUFuY2hvcih0YXJnZXQsIHZub2RlLCBjcmVhdGVUZXh0LCBpbnNlcnQpO1xuICAgICAgICB9XG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgICAgICB0YXJnZXROb2RlICYmIG5leHRTaWJsaW5nKHRhcmdldE5vZGUpLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVDc3NWYXJzKHZub2RlLCBkaXNhYmxlZCk7XG4gIH1cbiAgcmV0dXJuIHZub2RlLmFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IpO1xufVxuY29uc3QgVGVsZXBvcnQgPSBUZWxlcG9ydEltcGw7XG5mdW5jdGlvbiB1cGRhdGVDc3NWYXJzKHZub2RlLCBpc0Rpc2FibGVkKSB7XG4gIGNvbnN0IGN0eCA9IHZub2RlLmN0eDtcbiAgaWYgKGN0eCAmJiBjdHgudXQpIHtcbiAgICBsZXQgbm9kZSwgYW5jaG9yO1xuICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICBub2RlID0gdm5vZGUuZWw7XG4gICAgICBhbmNob3IgPSB2bm9kZS5hbmNob3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUgPSB2bm9kZS50YXJnZXRTdGFydDtcbiAgICAgIGFuY2hvciA9IHZub2RlLnRhcmdldEFuY2hvcjtcbiAgICB9XG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZSAhPT0gYW5jaG9yKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXYtb3duZXJcIiwgY3R4LnVpZCk7XG4gICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgY3R4LnV0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHByZXBhcmVBbmNob3IodGFyZ2V0LCB2bm9kZSwgY3JlYXRlVGV4dCwgaW5zZXJ0KSB7XG4gIGNvbnN0IHRhcmdldFN0YXJ0ID0gdm5vZGUudGFyZ2V0U3RhcnQgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICBjb25zdCB0YXJnZXRBbmNob3IgPSB2bm9kZS50YXJnZXRBbmNob3IgPSBjcmVhdGVUZXh0KFwiXCIpO1xuICB0YXJnZXRTdGFydFtUZWxlcG9ydEVuZEtleV0gPSB0YXJnZXRBbmNob3I7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBpbnNlcnQodGFyZ2V0U3RhcnQsIHRhcmdldCk7XG4gICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0QW5jaG9yO1xufVxuXG5jb25zdCBsZWF2ZUNiS2V5ID0gU3ltYm9sKFwiX2xlYXZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uU3RhdGUoKSB7XG4gIGNvbnN0IHN0YXRlID0ge1xuICAgIGlzTW91bnRlZDogZmFsc2UsXG4gICAgaXNMZWF2aW5nOiBmYWxzZSxcbiAgICBpc1VubW91bnRpbmc6IGZhbHNlLFxuICAgIGxlYXZpbmdWTm9kZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgfTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBzdGF0ZS5pc01vdW50ZWQgPSB0cnVlO1xuICB9KTtcbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzdGF0ZS5pc1VubW91bnRpbmcgPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuY29uc3QgVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IgPSBbRnVuY3Rpb24sIEFycmF5XTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBtb2RlOiBTdHJpbmcsXG4gIGFwcGVhcjogQm9vbGVhbixcbiAgcGVyc2lzdGVkOiBCb29sZWFuLFxuICAvLyBlbnRlclxuICBvbkJlZm9yZUVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJFbnRlcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uRW50ZXJDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBsZWF2ZVxuICBvbkJlZm9yZUxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJMZWF2ZTogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uTGVhdmVDYW5jZWxsZWQ6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICAvLyBhcHBlYXJcbiAgb25CZWZvcmVBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQWZ0ZXJBcHBlYXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkFwcGVhckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3Jcbn07XG5jb25zdCByZWN1cnNpdmVHZXRTdWJ0cmVlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHN1YlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICByZXR1cm4gc3ViVHJlZS5jb21wb25lbnQgPyByZWN1cnNpdmVHZXRTdWJ0cmVlKHN1YlRyZWUuY29tcG9uZW50KSA6IHN1YlRyZWU7XG59O1xuY29uc3QgQmFzZVRyYW5zaXRpb25JbXBsID0ge1xuICBuYW1lOiBgQmFzZVRyYW5zaXRpb25gLFxuICBwcm9wczogQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVHJhbnNpdGlvblN0YXRlKCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4oc2xvdHMuZGVmYXVsdCgpLCB0cnVlKTtcbiAgICAgIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZCA9IGZpbmROb25Db21tZW50Q2hpbGQoY2hpbGRyZW4pO1xuICAgICAgY29uc3QgcmF3UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gICAgICBjb25zdCB7IG1vZGUgfSA9IHJhd1Byb3BzO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbW9kZSAmJiBtb2RlICE9PSBcImluLW91dFwiICYmIG1vZGUgIT09IFwib3V0LWluXCIgJiYgbW9kZSAhPT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgd2FybiQxKGBpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAke21vZGV9YCk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNMZWF2aW5nKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlubmVyQ2hpbGQgPSBnZXRJbm5lckNoaWxkJDEoY2hpbGQpO1xuICAgICAgaWYgKCFpbm5lckNoaWxkKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGxldCBlbnRlckhvb2tzID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgaW5uZXJDaGlsZCxcbiAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgLy8gIzExMDYxLCBlbnN1cmUgZW50ZXJIb29rcyBpcyBmcmVzaCBhZnRlciBjbG9uZVxuICAgICAgICAoaG9va3MpID0+IGVudGVySG9va3MgPSBob29rc1xuICAgICAgKTtcbiAgICAgIGlmIChpbm5lckNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKGlubmVyQ2hpbGQsIGVudGVySG9va3MpO1xuICAgICAgfVxuICAgICAgbGV0IG9sZElubmVyQ2hpbGQgPSBpbnN0YW5jZS5zdWJUcmVlICYmIGdldElubmVyQ2hpbGQkMShpbnN0YW5jZS5zdWJUcmVlKTtcbiAgICAgIGlmIChvbGRJbm5lckNoaWxkICYmIG9sZElubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCAmJiAhaXNTYW1lVk5vZGVUeXBlKGlubmVyQ2hpbGQsIG9sZElubmVyQ2hpbGQpICYmIHJlY3Vyc2l2ZUdldFN1YnRyZWUoaW5zdGFuY2UpLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgbGV0IGxlYXZpbmdIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgb2xkSW5uZXJDaGlsZCxcbiAgICAgICAgICByYXdQcm9wcyxcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgICBzZXRUcmFuc2l0aW9uSG9va3Mob2xkSW5uZXJDaGlsZCwgbGVhdmluZ0hvb2tzKTtcbiAgICAgICAgaWYgKG1vZGUgPT09IFwib3V0LWluXCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgc3RhdGUuaXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgICAgICBsZWF2aW5nSG9va3MuYWZ0ZXJMZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCEoaW5zdGFuY2Uuam9iLmZsYWdzICYgOCkpIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2UudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWxldGUgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmU7XG4gICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiaW4tb3V0XCIgJiYgaW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmRlbGF5TGVhdmUgPSAoZWwsIGVhcmx5UmVtb3ZlLCBkZWxheWVkTGVhdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW1N0cmluZyhvbGRJbm5lckNoaWxkLmtleSldID0gb2xkSW5uZXJDaGlsZDtcbiAgICAgICAgICAgIGVsW2xlYXZlQ2JLZXldID0gKCkgPT4ge1xuICAgICAgICAgICAgICBlYXJseVJlbW92ZSgpO1xuICAgICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVudGVySG9va3MuZGVsYXllZExlYXZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICBkZWxheWVkTGVhdmUoKTtcbiAgICAgICAgICAgICAgZGVsZXRlIGVudGVySG9va3MuZGVsYXllZExlYXZlO1xuICAgICAgICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZElubmVyQ2hpbGQgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob2xkSW5uZXJDaGlsZCkge1xuICAgICAgICBvbGRJbm5lckNoaWxkID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gIH1cbn07XG5mdW5jdGlvbiBmaW5kTm9uQ29tbWVudENoaWxkKGNoaWxkcmVuKSB7XG4gIGxldCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgIGxldCBoYXNGb3VuZCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgaWYgKGMudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBoYXNGb3VuZCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIFwiPHRyYW5zaXRpb24+IGNhbiBvbmx5IGJlIHVzZWQgb24gYSBzaW5nbGUgZWxlbWVudCBvciBjb21wb25lbnQuIFVzZSA8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjaGlsZCA9IGM7XG4gICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoaWxkO1xufVxuY29uc3QgQmFzZVRyYW5zaXRpb24gPSBCYXNlVHJhbnNpdGlvbkltcGw7XG5mdW5jdGlvbiBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKHN0YXRlLCB2bm9kZSkge1xuICBjb25zdCB7IGxlYXZpbmdWTm9kZXMgfSA9IHN0YXRlO1xuICBsZXQgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gbGVhdmluZ1ZOb2Rlcy5nZXQodm5vZGUudHlwZSk7XG4gIGlmICghbGVhdmluZ1ZOb2Rlc0NhY2hlKSB7XG4gICAgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgbGVhdmluZ1ZOb2Rlcy5zZXQodm5vZGUudHlwZSwgbGVhdmluZ1ZOb2Rlc0NhY2hlKTtcbiAgfVxuICByZXR1cm4gbGVhdmluZ1ZOb2Rlc0NhY2hlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyh2bm9kZSwgcHJvcHMsIHN0YXRlLCBpbnN0YW5jZSwgcG9zdENsb25lKSB7XG4gIGNvbnN0IHtcbiAgICBhcHBlYXIsXG4gICAgbW9kZSxcbiAgICBwZXJzaXN0ZWQgPSBmYWxzZSxcbiAgICBvbkJlZm9yZUVudGVyLFxuICAgIG9uRW50ZXIsXG4gICAgb25BZnRlckVudGVyLFxuICAgIG9uRW50ZXJDYW5jZWxsZWQsXG4gICAgb25CZWZvcmVMZWF2ZSxcbiAgICBvbkxlYXZlLFxuICAgIG9uQWZ0ZXJMZWF2ZSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlQXBwZWFyLFxuICAgIG9uQXBwZWFyLFxuICAgIG9uQWZ0ZXJBcHBlYXIsXG4gICAgb25BcHBlYXJDYW5jZWxsZWRcbiAgfSA9IHByb3BzO1xuICBjb25zdCBrZXkgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgY29uc3QgbGVhdmluZ1ZOb2Rlc0NhY2hlID0gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpO1xuICBjb25zdCBjYWxsSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgaG9vayAmJiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIGhvb2ssXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDksXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgY2FsbEFzeW5jSG9vayA9IChob29rLCBhcmdzKSA9PiB7XG4gICAgY29uc3QgZG9uZSA9IGFyZ3NbMV07XG4gICAgY2FsbEhvb2soaG9vaywgYXJncyk7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGlmIChob29rLmV2ZXJ5KChob29rMikgPT4gaG9vazIubGVuZ3RoIDw9IDEpKSBkb25lKCk7XG4gICAgfSBlbHNlIGlmIChob29rLmxlbmd0aCA8PSAxKSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBob29rcyA9IHtcbiAgICBtb2RlLFxuICAgIHBlcnNpc3RlZCxcbiAgICBiZWZvcmVFbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkJlZm9yZUVudGVyO1xuICAgICAgaWYgKCFzdGF0ZS5pc01vdW50ZWQpIHtcbiAgICAgICAgaWYgKGFwcGVhcikge1xuICAgICAgICAgIGhvb2sgPSBvbkJlZm9yZUFwcGVhciB8fCBvbkJlZm9yZUVudGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGVsW2xlYXZlQ2JLZXldKFxuICAgICAgICAgIHRydWVcbiAgICAgICAgICAvKiBjYW5jZWxsZWQgKi9cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGxlYXZpbmdWTm9kZSA9IGxlYXZpbmdWTm9kZXNDYWNoZVtrZXldO1xuICAgICAgaWYgKGxlYXZpbmdWTm9kZSAmJiBpc1NhbWVWTm9kZVR5cGUodm5vZGUsIGxlYXZpbmdWTm9kZSkgJiYgbGVhdmluZ1ZOb2RlLmVsW2xlYXZlQ2JLZXldKSB7XG4gICAgICAgIGxlYXZpbmdWTm9kZS5lbFtsZWF2ZUNiS2V5XSgpO1xuICAgICAgfVxuICAgICAgY2FsbEhvb2soaG9vaywgW2VsXSk7XG4gICAgfSxcbiAgICBlbnRlcihlbCkge1xuICAgICAgbGV0IGhvb2sgPSBvbkVudGVyO1xuICAgICAgbGV0IGFmdGVySG9vayA9IG9uQWZ0ZXJFbnRlcjtcbiAgICAgIGxldCBjYW5jZWxIb29rID0gb25FbnRlckNhbmNlbGxlZDtcbiAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICBob29rID0gb25BcHBlYXIgfHwgb25FbnRlcjtcbiAgICAgICAgICBhZnRlckhvb2sgPSBvbkFmdGVyQXBwZWFyIHx8IG9uQWZ0ZXJFbnRlcjtcbiAgICAgICAgICBjYW5jZWxIb29rID0gb25BcHBlYXJDYW5jZWxsZWQgfHwgb25FbnRlckNhbmNlbGxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRvbmUgPSBlbFtlbnRlckNiS2V5XSA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2soY2FuY2VsSG9vaywgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2soYWZ0ZXJIb29rLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaG9va3MuZGVsYXllZExlYXZlKSB7XG4gICAgICAgICAgaG9va3MuZGVsYXllZExlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxbZW50ZXJDYktleV0gPSB2b2lkIDA7XG4gICAgICB9O1xuICAgICAgaWYgKGhvb2spIHtcbiAgICAgICAgY2FsbEFzeW5jSG9vayhob29rLCBbZWwsIGRvbmVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxlYXZlKGVsLCByZW1vdmUpIHtcbiAgICAgIGNvbnN0IGtleTIgPSBTdHJpbmcodm5vZGUua2V5KTtcbiAgICAgIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgICAgICBlbFtlbnRlckNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuaXNVbm1vdW50aW5nKSB7XG4gICAgICAgIHJldHVybiByZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKG9uQmVmb3JlTGVhdmUsIFtlbF0pO1xuICAgICAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICAgICAgY29uc3QgZG9uZSA9IGVsW2xlYXZlQ2JLZXldID0gKGNhbmNlbGxlZCkgPT4ge1xuICAgICAgICBpZiAoY2FsbGVkKSByZXR1cm47XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIHJlbW92ZSgpO1xuICAgICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgICAgY2FsbEhvb2sob25MZWF2ZUNhbmNlbGxlZCwgW2VsXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbEhvb2sob25BZnRlckxlYXZlLCBbZWxdKTtcbiAgICAgICAgfVxuICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9IHZvaWQgMDtcbiAgICAgICAgaWYgKGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXSA9PT0gdm5vZGUpIHtcbiAgICAgICAgICBkZWxldGUgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbGVhdmluZ1ZOb2Rlc0NhY2hlW2tleTJdID0gdm5vZGU7XG4gICAgICBpZiAob25MZWF2ZSkge1xuICAgICAgICBjYWxsQXN5bmNIb29rKG9uTGVhdmUsIFtlbCwgZG9uZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2xvbmUodm5vZGUyKSB7XG4gICAgICBjb25zdCBob29rczIgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICB2bm9kZTIsXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHBvc3RDbG9uZVxuICAgICAgKTtcbiAgICAgIGlmIChwb3N0Q2xvbmUpIHBvc3RDbG9uZShob29rczIpO1xuICAgICAgcmV0dXJuIGhvb2tzMjtcbiAgICB9XG4gIH07XG4gIHJldHVybiBob29rcztcbn1cbmZ1bmN0aW9uIGVtcHR5UGxhY2Vob2xkZXIodm5vZGUpIHtcbiAgaWYgKGlzS2VlcEFsaXZlKHZub2RlKSkge1xuICAgIHZub2RlID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgdm5vZGUuY2hpbGRyZW4gPSBudWxsO1xuICAgIHJldHVybiB2bm9kZTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCQxKHZub2RlKSB7XG4gIGlmICghaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgaWYgKGlzVGVsZXBvcnQodm5vZGUudHlwZSkgJiYgdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgIHJldHVybiBmaW5kTm9uQ29tbWVudENoaWxkKHZub2RlLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGlmICh2bm9kZS5jb21wb25lbnQpIHtcbiAgICByZXR1cm4gdm5vZGUuY29tcG9uZW50LnN1YlRyZWU7XG4gIH1cbiAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuIH0gPSB2bm9kZTtcbiAgaWYgKGNoaWxkcmVuKSB7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAzMiAmJiBpc0Z1bmN0aW9uKGNoaWxkcmVuLmRlZmF1bHQpKSB7XG4gICAgICByZXR1cm4gY2hpbGRyZW4uZGVmYXVsdCgpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCBob29rcykge1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgNiAmJiB2bm9kZS5jb21wb25lbnQpIHtcbiAgICB2bm9kZS50cmFuc2l0aW9uID0gaG9va3M7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLmNvbXBvbmVudC5zdWJUcmVlLCBob29rcyk7XG4gIH0gZWxzZSBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgdm5vZGUuc3NDb250ZW50LnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0NvbnRlbnQpO1xuICAgIHZub2RlLnNzRmFsbGJhY2sudHJhbnNpdGlvbiA9IGhvb2tzLmNsb25lKHZub2RlLnNzRmFsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHZub2RlLnRyYW5zaXRpb24gPSBob29rcztcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkcmVuLCBrZWVwQ29tbWVudCA9IGZhbHNlLCBwYXJlbnRLZXkpIHtcbiAgbGV0IHJldCA9IFtdO1xuICBsZXQga2V5ZWRGcmFnbWVudENvdW50ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGNvbnN0IGtleSA9IHBhcmVudEtleSA9PSBudWxsID8gY2hpbGQua2V5IDogU3RyaW5nKHBhcmVudEtleSkgKyBTdHJpbmcoY2hpbGQua2V5ICE9IG51bGwgPyBjaGlsZC5rZXkgOiBpKTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGlmIChjaGlsZC5wYXRjaEZsYWcgJiAxMjgpIGtleWVkRnJhZ21lbnRDb3VudCsrO1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChcbiAgICAgICAgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKGNoaWxkLmNoaWxkcmVuLCBrZWVwQ29tbWVudCwga2V5KVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGtlZXBDb21tZW50IHx8IGNoaWxkLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgIHJldC5wdXNoKGtleSAhPSBudWxsID8gY2xvbmVWTm9kZShjaGlsZCwgeyBrZXkgfSkgOiBjaGlsZCk7XG4gICAgfVxuICB9XG4gIGlmIChrZXllZEZyYWdtZW50Q291bnQgPiAxKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtpXS5wYXRjaEZsYWcgPSAtMjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucykge1xuICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IChcbiAgICAvLyAjODIzNjogZXh0ZW5kIGNhbGwgYW5kIG9wdGlvbnMubmFtZSBhY2Nlc3MgYXJlIGNvbnNpZGVyZWQgc2lkZS1lZmZlY3RzXG4gICAgLy8gYnkgUm9sbHVwLCBzbyB3ZSBoYXZlIHRvIHdyYXAgaXQgaW4gYSBwdXJlLWFubm90YXRlZCBJSUZFLlxuICAgIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZXh0ZW5kKHsgbmFtZTogb3B0aW9ucy5uYW1lIH0sIGV4dHJhT3B0aW9ucywgeyBzZXR1cDogb3B0aW9ucyB9KSkoKVxuICApIDogb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gdXNlSWQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGkpIHtcbiAgICByZXR1cm4gKGkuYXBwQ29udGV4dC5jb25maWcuaWRQcmVmaXggfHwgXCJ2XCIpICsgXCItXCIgKyBpLmlkc1swXSArIGkuaWRzWzFdKys7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGB1c2VJZCgpIGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UuaWRzID0gW2luc3RhbmNlLmlkc1swXSArIGluc3RhbmNlLmlkc1syXSsrICsgXCItXCIsIDAsIDBdO1xufVxuXG5jb25zdCBrbm93blRlbXBsYXRlUmVmcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuZnVuY3Rpb24gdXNlVGVtcGxhdGVSZWYoa2V5KSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGlmIChpKSB7XG4gICAgY29uc3QgcmVmcyA9IGkucmVmcyA9PT0gRU1QVFlfT0JKID8gaS5yZWZzID0ge30gOiBpLnJlZnM7XG4gICAgbGV0IGRlc2M7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJlZnMsIGtleSkpICYmICFkZXNjLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgd2FybiQxKGB1c2VUZW1wbGF0ZVJlZignJHtrZXl9JykgYWxyZWFkeSBleGlzdHMuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWZzLCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiByLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2YWwpID0+IHIudmFsdWUgPSB2YWxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHVzZVRlbXBsYXRlUmVmKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbiAgY29uc3QgcmV0ID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHJlYWRvbmx5KHIpIDogcjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBrbm93blRlbXBsYXRlUmVmcy5hZGQocmV0KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgaXNVbm1vdW50ID0gZmFsc2UpIHtcbiAgaWYgKGlzQXJyYXkocmF3UmVmKSkge1xuICAgIHJhd1JlZi5mb3JFYWNoKFxuICAgICAgKHIsIGkpID0+IHNldFJlZihcbiAgICAgICAgcixcbiAgICAgICAgb2xkUmF3UmVmICYmIChpc0FycmF5KG9sZFJhd1JlZikgPyBvbGRSYXdSZWZbaV0gOiBvbGRSYXdSZWYpLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGlzVW5tb3VudFxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpc0FzeW5jV3JhcHBlcih2bm9kZSkgJiYgIWlzVW5tb3VudCkge1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA1MTIgJiYgdm5vZGUudHlwZS5fX2FzeW5jUmVzb2x2ZWQgJiYgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUuY29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmF3UmVmLCBvbGRSYXdSZWYsIHBhcmVudFN1c3BlbnNlLCB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCByZWZWYWx1ZSA9IHZub2RlLnNoYXBlRmxhZyAmIDQgPyBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSh2bm9kZS5jb21wb25lbnQpIDogdm5vZGUuZWw7XG4gIGNvbnN0IHZhbHVlID0gaXNVbm1vdW50ID8gbnVsbCA6IHJlZlZhbHVlO1xuICBjb25zdCB7IGk6IG93bmVyLCByOiByZWYgfSA9IHJhd1JlZjtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIW93bmVyKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE1pc3NpbmcgcmVmIG93bmVyIGNvbnRleHQuIHJlZiBjYW5ub3QgYmUgdXNlZCBvbiBob2lzdGVkIHZub2Rlcy4gQSB2bm9kZSB3aXRoIHJlZiBtdXN0IGJlIGNyZWF0ZWQgaW5zaWRlIHRoZSByZW5kZXIgZnVuY3Rpb24uYFxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG9sZFJlZiA9IG9sZFJhd1JlZiAmJiBvbGRSYXdSZWYucjtcbiAgY29uc3QgcmVmcyA9IG93bmVyLnJlZnMgPT09IEVNUFRZX09CSiA/IG93bmVyLnJlZnMgPSB7fSA6IG93bmVyLnJlZnM7XG4gIGNvbnN0IHNldHVwU3RhdGUgPSBvd25lci5zZXR1cFN0YXRlO1xuICBjb25zdCByYXdTZXR1cFN0YXRlID0gdG9SYXcoc2V0dXBTdGF0ZSk7XG4gIGNvbnN0IGNhblNldFNldHVwUmVmID0gc2V0dXBTdGF0ZSA9PT0gRU1QVFlfT0JKID8gKCkgPT4gZmFsc2UgOiAoa2V5KSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGlmIChoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KSAmJiAhaXNSZWYocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFRlbXBsYXRlIHJlZiBcIiR7a2V5fVwiIHVzZWQgb24gYSBub24tcmVmIHZhbHVlLiBJdCB3aWxsIG5vdCB3b3JrIGluIHRoZSBwcm9kdWN0aW9uIGJ1aWxkLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChrbm93blRlbXBsYXRlUmVmcy5oYXMocmF3U2V0dXBTdGF0ZVtrZXldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBoYXNPd24ocmF3U2V0dXBTdGF0ZSwga2V5KTtcbiAgfTtcbiAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcbiAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XG4gICAgICBpZiAoY2FuU2V0U2V0dXBSZWYob2xkUmVmKSkge1xuICAgICAgICBzZXR1cFN0YXRlW29sZFJlZl0gPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNSZWYob2xkUmVmKSkge1xuICAgICAgb2xkUmVmLnZhbHVlID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xuICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhyZWYsIG93bmVyLCAxMiwgW3ZhbHVlLCByZWZzXSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgX2lzU3RyaW5nID0gaXNTdHJpbmcocmVmKTtcbiAgICBjb25zdCBfaXNSZWYgPSBpc1JlZihyZWYpO1xuICAgIGlmIChfaXNTdHJpbmcgfHwgX2lzUmVmKSB7XG4gICAgICBjb25zdCBkb1NldCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHJhd1JlZi5mKSB7XG4gICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBfaXNTdHJpbmcgPyBjYW5TZXRTZXR1cFJlZihyZWYpID8gc2V0dXBTdGF0ZVtyZWZdIDogcmVmc1tyZWZdIDogcmVmLnZhbHVlO1xuICAgICAgICAgIGlmIChpc1VubW91bnQpIHtcbiAgICAgICAgICAgIGlzQXJyYXkoZXhpc3RpbmcpICYmIHJlbW92ZShleGlzdGluZywgcmVmVmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkoZXhpc3RpbmcpKSB7XG4gICAgICAgICAgICAgIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICByZWZzW3JlZl0gPSBbcmVmVmFsdWVdO1xuICAgICAgICAgICAgICAgIGlmIChjYW5TZXRTZXR1cFJlZihyZWYpKSB7XG4gICAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSByZWZzW3JlZl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghZXhpc3RpbmcuaW5jbHVkZXMocmVmVmFsdWUpKSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nLnB1c2gocmVmVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICByZWZzW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoY2FuU2V0U2V0dXBSZWYocmVmKSkge1xuICAgICAgICAgICAgc2V0dXBTdGF0ZVtyZWZdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF9pc1JlZikge1xuICAgICAgICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIGlmIChyYXdSZWYuaykgcmVmc1tyYXdSZWYua10gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZG9TZXQuaWQgPSAtMTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGRvU2V0LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb1NldCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKFwiSW52YWxpZCB0ZW1wbGF0ZSByZWYgdHlwZTpcIiwgcmVmLCBgKCR7dHlwZW9mIHJlZn0pYCk7XG4gICAgfVxuICB9XG59XG5cbmxldCBoYXNMb2dnZWRNaXNtYXRjaEVycm9yID0gZmFsc2U7XG5jb25zdCBsb2dNaXNtYXRjaEVycm9yID0gKCkgPT4ge1xuICBpZiAoaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvcikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zb2xlLmVycm9yKFwiSHlkcmF0aW9uIGNvbXBsZXRlZCBidXQgY29udGFpbnMgbWlzbWF0Y2hlcy5cIik7XG4gIGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IgPSB0cnVlO1xufTtcbmNvbnN0IGlzU1ZHQ29udGFpbmVyID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyLm5hbWVzcGFjZVVSSS5pbmNsdWRlcyhcInN2Z1wiKSAmJiBjb250YWluZXIudGFnTmFtZSAhPT0gXCJmb3JlaWduT2JqZWN0XCI7XG5jb25zdCBpc01hdGhNTENvbnRhaW5lciA9IChjb250YWluZXIpID0+IGNvbnRhaW5lci5uYW1lc3BhY2VVUkkuaW5jbHVkZXMoXCJNYXRoTUxcIik7XG5jb25zdCBnZXRDb250YWluZXJUeXBlID0gKGNvbnRhaW5lcikgPT4ge1xuICBpZiAoY29udGFpbmVyLm5vZGVUeXBlICE9PSAxKSByZXR1cm4gdm9pZCAwO1xuICBpZiAoaXNTVkdDb250YWluZXIoY29udGFpbmVyKSkgcmV0dXJuIFwic3ZnXCI7XG4gIGlmIChpc01hdGhNTENvbnRhaW5lcihjb250YWluZXIpKSByZXR1cm4gXCJtYXRobWxcIjtcbiAgcmV0dXJuIHZvaWQgMDtcbn07XG5jb25zdCBpc0NvbW1lbnQgPSAobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gODtcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyhyZW5kZXJlckludGVybmFscykge1xuICBjb25zdCB7XG4gICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgIHA6IHBhdGNoLFxuICAgIG86IHtcbiAgICAgIHBhdGNoUHJvcCxcbiAgICAgIGNyZWF0ZVRleHQsXG4gICAgICBuZXh0U2libGluZyxcbiAgICAgIHBhcmVudE5vZGUsXG4gICAgICByZW1vdmUsXG4gICAgICBpbnNlcnQsXG4gICAgICBjcmVhdGVDb21tZW50XG4gICAgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xuICAgIGlmICghY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgIGBBdHRlbXB0aW5nIHRvIGh5ZHJhdGUgZXhpc3RpbmcgbWFya3VwIGJ1dCBjb250YWluZXIgaXMgZW1wdHkuIFBlcmZvcm1pbmcgZnVsbCBtb3VudCBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyKTtcbiAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGh5ZHJhdGVOb2RlKGNvbnRhaW5lci5maXJzdENoaWxkLCB2bm9kZSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGlzRnJhZ21lbnRTdGFydCA9IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiO1xuICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChcbiAgICAgIG5vZGUsXG4gICAgICB2bm9kZSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgaXNGcmFnbWVudFN0YXJ0XG4gICAgKTtcbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcgfSA9IHZub2RlO1xuICAgIGxldCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICB2bm9kZS5lbCA9IG5vZGU7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZWYobm9kZSwgXCJfX3Zub2RlXCIsIHZub2RlLCB0cnVlKTtcbiAgICAgIGRlZihub2RlLCBcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIsIHBhcmVudENvbXBvbmVudCwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIGlmIChkb21UeXBlICE9PSAzKSB7XG4gICAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuID09PSBcIlwiKSB7XG4gICAgICAgICAgICBpbnNlcnQodm5vZGUuZWwgPSBjcmVhdGVUZXh0KFwiXCIpLCBwYXJlbnROb2RlKG5vZGUpLCBub2RlKTtcbiAgICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlLmRhdGEgIT09IHZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiB0ZXh0IG1pc21hdGNoIGluYCxcbiAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgIG5vZGUuZGF0YVxuICAgICAgICAgICAgICApfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtKU09OLnN0cmluZ2lmeSh2bm9kZS5jaGlsZHJlbil9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBpZiAoaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIHJlcGxhY2VOb2RlKFxuICAgICAgICAgICAgdm5vZGUuZWwgPSBub2RlLmNvbnRlbnQuZmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKGRvbVR5cGUgIT09IDggfHwgaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdGljOlxuICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIGRvbVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkb21UeXBlID09PSAxIHx8IGRvbVR5cGUgPT09IDMpIHtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgY29uc3QgbmVlZFRvQWRvcHRDb250ZW50ID0gIXZub2RlLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZub2RlLnN0YXRpY0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZWVkVG9BZG9wdENvbnRlbnQpXG4gICAgICAgICAgICAgIHZub2RlLmNoaWxkcmVuICs9IG5leHROb2RlLm5vZGVUeXBlID09PSAxID8gbmV4dE5vZGUub3V0ZXJIVE1MIDogbmV4dE5vZGUuZGF0YTtcbiAgICAgICAgICAgIGlmIChpID09PSB2bm9kZS5zdGF0aWNDb3VudCAtIDEpIHtcbiAgICAgICAgICAgICAgdm5vZGUuYW5jaG9yID0gbmV4dE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5leHROb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGlzRnJhZ21lbnRTdGFydCA/IG5leHRTaWJsaW5nKG5leHROb2RlKSA6IG5leHROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uTWlzbWF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhZ21lbnQ6XG4gICAgICAgIGlmICghaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSBoeWRyYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSkge1xuICAgICAgICAgIGlmICgoZG9tVHlwZSAhPT0gMSB8fCB2bm9kZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSAmJiAhaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0XCIpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlLCBub2RlLmRhdGEsIFwidGVsZXBvcnQgZW5kXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb3VudENvbXBvbmVudChcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpICYmICF2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCkge1xuICAgICAgICAgICAgbGV0IHN1YlRyZWU7XG4gICAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICAgIHN1YlRyZWUgPSBjcmVhdGVWTm9kZShGcmFnbWVudCk7XG4gICAgICAgICAgICAgIHN1YlRyZWUuYW5jaG9yID0gbmV4dE5vZGUgPyBuZXh0Tm9kZS5wcmV2aW91c1NpYmxpbmcgOiBjb250YWluZXIubGFzdENoaWxkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IG5vZGUubm9kZVR5cGUgPT09IDMgPyBjcmVhdGVUZXh0Vk5vZGUoXCJcIikgOiBjcmVhdGVWTm9kZShcImRpdlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YlRyZWUuZWwgPSBub2RlO1xuICAgICAgICAgICAgdm5vZGUuY29tcG9uZW50LnN1YlRyZWUgPSBzdWJUcmVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgICAgIGlmIChkb21UeXBlICE9PSA4KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUoXG4gICAgICAgICAgICAgIG5vZGUsXG4gICAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgICAgICAgICAgIGh5ZHJhdGVDaGlsZHJlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgbmV4dE5vZGUgPSB2bm9kZS50eXBlLmh5ZHJhdGUoXG4gICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIGdldENvbnRhaW5lclR5cGUocGFyZW50Tm9kZShub2RlKSksXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICByZW5kZXJlckludGVybmFscyxcbiAgICAgICAgICAgIGh5ZHJhdGVOb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgSG9zdFZOb2RlIHR5cGU6XCIsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dE5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVFbGVtZW50ID0gKGVsLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBvcHRpbWl6ZWQgPSBvcHRpbWl6ZWQgfHwgISF2bm9kZS5keW5hbWljQ2hpbGRyZW47XG4gICAgY29uc3QgeyB0eXBlLCBwcm9wcywgcGF0Y2hGbGFnLCBzaGFwZUZsYWcsIGRpcnMsIHRyYW5zaXRpb24gfSA9IHZub2RlO1xuICAgIGNvbnN0IGZvcmNlUGF0Y2ggPSB0eXBlID09PSBcImlucHV0XCIgfHwgdHlwZSA9PT0gXCJvcHRpb25cIjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBmb3JjZVBhdGNoIHx8IHBhdGNoRmxhZyAhPT0gLTEpIHtcbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJjcmVhdGVkXCIpO1xuICAgICAgfVxuICAgICAgbGV0IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gZmFsc2U7XG4gICAgICBpZiAoaXNUZW1wbGF0ZU5vZGUoZWwpKSB7XG4gICAgICAgIG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzID0gbmVlZFRyYW5zaXRpb24oXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICAvLyBubyBuZWVkIGNoZWNrIHBhcmVudFN1c3BlbnNlIGluIGh5ZHJhdGlvblxuICAgICAgICAgIHRyYW5zaXRpb25cbiAgICAgICAgKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzICYmIHBhcmVudENvbXBvbmVudC52bm9kZS5wcm9wcy5hcHBlYXI7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICAgIGNvbnN0IGNscyA9IGNvbnRlbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgICAgaWYgKGNscykgY29udGVudC4kY2xzID0gY2xzO1xuICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZU5vZGUoY29udGVudCwgZWwsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIHZub2RlLmVsID0gZWwgPSBjb250ZW50O1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2ICYmIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcbiAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XG4gICAgICAgIGxldCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIGVsLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoZWwsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgICBgSHlkcmF0aW9uIGNoaWxkcmVuIG1pc21hdGNoIG9uYCxcbiAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBoYXNXYXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBjdXIgPSBuZXh0O1xuICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIHJlbW92ZShjdXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgbGV0IGNsaWVudFRleHQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKGNsaWVudFRleHRbMF0gPT09IFwiXFxuXCIgJiYgKGVsLnRhZ05hbWUgPT09IFwiUFJFXCIgfHwgZWwudGFnTmFtZSA9PT0gXCJURVhUQVJFQVwiKSkge1xuICAgICAgICAgIGNsaWVudFRleHQgPSBjbGllbnRUZXh0LnNsaWNlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbC50ZXh0Q29udGVudCAhPT0gY2xpZW50VGV4dCkge1xuICAgICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoZWwsIDAgLyogVEVYVCAqLykpIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgY29udGVudCBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2VsLnRleHRDb250ZW50fVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHt2bm9kZS5jaGlsZHJlbn1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IHZub2RlLmNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fIHx8IGZvcmNlUGF0Y2ggfHwgIW9wdGltaXplZCB8fCBwYXRjaEZsYWcgJiAoMTYgfCAzMikpIHtcbiAgICAgICAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBlbC50YWdOYW1lLmluY2x1ZGVzKFwiLVwiKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgICAgaWYgKCghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgLy8gIzExMTg5IHNraXAgaWYgdGhpcyBub2RlIGhhcyBkaXJlY3RpdmVzIHRoYXQgaGF2ZSBjcmVhdGVkIGhvb2tzXG4gICAgICAgICAgICAvLyBhcyBpdCBjb3VsZCBoYXZlIG11dGF0ZWQgdGhlIERPTSBpbiBhbnkgcG9zc2libGUgd2F5XG4gICAgICAgICAgICAhKGRpcnMgJiYgZGlycy5zb21lKChkKSA9PiBkLmRpci5jcmVhdGVkKSkgJiYgcHJvcEhhc01pc21hdGNoKGVsLCBrZXksIHByb3BzW2tleV0sIHZub2RlLCBwYXJlbnRDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3JjZVBhdGNoICYmIChrZXkuZW5kc1dpdGgoXCJ2YWx1ZVwiKSB8fCBrZXkgPT09IFwiaW5kZXRlcm1pbmF0ZVwiKSB8fCBpc09uKGtleSkgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkgfHwgLy8gZm9yY2UgaHlkcmF0ZSB2LWJpbmQgd2l0aCAucHJvcCBtb2RpZmllcnNcbiAgICAgICAgICAgIGtleVswXSA9PT0gXCIuXCIgfHwgaXNDdXN0b21FbGVtZW50KSB7XG4gICAgICAgICAgICAgIHBhdGNoUHJvcChlbCwga2V5LCBudWxsLCBwcm9wc1trZXldLCB2b2lkIDAsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICBwYXRjaFByb3AoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIFwib25DbGlja1wiLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDQgJiYgaXNSZWFjdGl2ZShwcm9wcy5zdHlsZSkpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcy5zdHlsZSkgcHJvcHMuc3R5bGVba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHZub2RlSG9va3M7XG4gICAgICBpZiAodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkge1xuICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgICBpZiAoZGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlTW91bnRcIik7XG4gICAgICB9XG4gICAgICBpZiAoKHZub2RlSG9va3MgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHwgZGlycyB8fCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSgoKSA9PiB7XG4gICAgICAgICAgdm5vZGVIb29rcyAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rcywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwibW91bnRlZFwiKTtcbiAgICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWwubmV4dFNpYmxpbmc7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVDaGlsZHJlbiA9IChub2RlLCBwYXJlbnRWTm9kZSwgY29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG9wdGltaXplZCA9IG9wdGltaXplZCB8fCAhIXBhcmVudFZOb2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudFZOb2RlLmNoaWxkcmVuO1xuICAgIGNvbnN0IGwgPSBjaGlsZHJlbi5sZW5ndGg7XG4gICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBjb25zdCB2bm9kZSA9IG9wdGltaXplZCA/IGNoaWxkcmVuW2ldIDogY2hpbGRyZW5baV0gPSBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSk7XG4gICAgICBjb25zdCBpc1RleHQgPSB2bm9kZS50eXBlID09PSBUZXh0O1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgaWYgKGlzVGV4dCAmJiAhb3B0aW1pemVkKSB7XG4gICAgICAgICAgaWYgKGkgKyAxIDwgbCAmJiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpICsgMV0pLnR5cGUgPT09IFRleHQpIHtcbiAgICAgICAgICAgIGluc2VydChcbiAgICAgICAgICAgICAgY3JlYXRlVGV4dChcbiAgICAgICAgICAgICAgICBub2RlLmRhdGEuc2xpY2Uodm5vZGUuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICAgIG5leHRTaWJsaW5nKG5vZGUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGlzVGV4dCAmJiAhdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgaW5zZXJ0KHZub2RlLmVsID0gY3JlYXRlVGV4dChcIlwiKSwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaXNNaXNtYXRjaEFsbG93ZWQoY29udGFpbmVyLCAxIC8qIENISUxEUkVOICovKSkge1xuICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgYFxuU2VydmVyIHJlbmRlcmVkIGVsZW1lbnQgY29udGFpbnMgZmV3ZXIgY2hpbGQgbm9kZXMgdGhhbiBjbGllbnQgdmRvbS5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGdldENvbnRhaW5lclR5cGUoY29udGFpbmVyKSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVGcmFnbWVudCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCB7IHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IHZub2RlO1xuICAgIGlmIChmcmFnbWVudFNsb3RTY29wZUlkcykge1xuICAgICAgc2xvdFNjb3BlSWRzID0gc2xvdFNjb3BlSWRzID8gc2xvdFNjb3BlSWRzLmNvbmNhdChmcmFnbWVudFNsb3RTY29wZUlkcykgOiBmcmFnbWVudFNsb3RTY29wZUlkcztcbiAgICB9XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICBjb25zdCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgbmV4dFNpYmxpbmcobm9kZSksXG4gICAgICB2bm9kZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgb3B0aW1pemVkXG4gICAgKTtcbiAgICBpZiAobmV4dCAmJiBpc0NvbW1lbnQobmV4dCkgJiYgbmV4dC5kYXRhID09PSBcIl1cIikge1xuICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvciA9IG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICBpbnNlcnQodm5vZGUuYW5jaG9yID0gY3JlYXRlQ29tbWVudChgXWApLCBjb250YWluZXIsIG5leHQpO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVNaXNtYXRjaCA9IChub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgc2xvdFNjb3BlSWRzLCBpc0ZyYWdtZW50KSA9PiB7XG4gICAgaWYgKCFpc01pc21hdGNoQWxsb3dlZChub2RlLnBhcmVudEVsZW1lbnQsIDEgLyogQ0hJTERSRU4gKi8pKSB7XG4gICAgICAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHdhcm4kMShcbiAgICAgICAgYEh5ZHJhdGlvbiBub2RlIG1pc21hdGNoOlxuLSByZW5kZXJlZCBvbiBzZXJ2ZXI6YCxcbiAgICAgICAgbm9kZSxcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGAodGV4dClgIDogaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIgPyBgKHN0YXJ0IG9mIGZyYWdtZW50KWAgOiBgYCxcbiAgICAgICAgYFxuLSBleHBlY3RlZCBvbiBjbGllbnQ6YCxcbiAgICAgICAgdm5vZGUudHlwZVxuICAgICAgKTtcbiAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICB9XG4gICAgdm5vZGUuZWwgPSBudWxsO1xuICAgIGlmIChpc0ZyYWdtZW50KSB7XG4gICAgICBjb25zdCBlbmQgPSBsb2NhdGVDbG9zaW5nQW5jaG9yKG5vZGUpO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgbmV4dDIgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgaWYgKG5leHQyICYmIG5leHQyICE9PSBlbmQpIHtcbiAgICAgICAgICByZW1vdmUobmV4dDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5leHQgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBwYXJlbnROb2RlKG5vZGUpO1xuICAgIHJlbW92ZShub2RlKTtcbiAgICBwYXRjaChcbiAgICAgIG51bGwsXG4gICAgICB2bm9kZSxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG5leHQsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIGdldENvbnRhaW5lclR5cGUoY29udGFpbmVyKSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgcGFyZW50Q29tcG9uZW50LnZub2RlLmVsID0gdm5vZGUuZWw7XG4gICAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCB2bm9kZS5lbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXh0O1xuICB9O1xuICBjb25zdCBsb2NhdGVDbG9zaW5nQW5jaG9yID0gKG5vZGUsIG9wZW4gPSBcIltcIiwgY2xvc2UgPSBcIl1cIikgPT4ge1xuICAgIGxldCBtYXRjaCA9IDA7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBvcGVuKSBtYXRjaCsrO1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBjbG9zZSkge1xuICAgICAgICAgIGlmIChtYXRjaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgcmVwbGFjZU5vZGUgPSAobmV3Tm9kZSwgb2xkTm9kZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgcGFyZW50Tm9kZTIgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUyKSB7XG4gICAgICBwYXJlbnROb2RlMi5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRDb21wb25lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC52bm9kZS5lbCA9PT0gb2xkTm9kZSkge1xuICAgICAgICBwYXJlbnQudm5vZGUuZWwgPSBwYXJlbnQuc3ViVHJlZS5lbCA9IG5ld05vZGU7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNUZW1wbGF0ZU5vZGUgPSAobm9kZSkgPT4ge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxICYmIG5vZGUudGFnTmFtZSA9PT0gXCJURU1QTEFURVwiO1xuICB9O1xuICByZXR1cm4gW2h5ZHJhdGUsIGh5ZHJhdGVOb2RlXTtcbn1cbmZ1bmN0aW9uIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBjbGllbnRWYWx1ZSwgdm5vZGUsIGluc3RhbmNlKSB7XG4gIGxldCBtaXNtYXRjaFR5cGU7XG4gIGxldCBtaXNtYXRjaEtleTtcbiAgbGV0IGFjdHVhbDtcbiAgbGV0IGV4cGVjdGVkO1xuICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICBpZiAoZWwuJGNscykge1xuICAgICAgYWN0dWFsID0gZWwuJGNscztcbiAgICAgIGRlbGV0ZSBlbC4kY2xzO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICB9XG4gICAgZXhwZWN0ZWQgPSBub3JtYWxpemVDbGFzcyhjbGllbnRWYWx1ZSk7XG4gICAgaWYgKCFpc1NldEVxdWFsKHRvQ2xhc3NTZXQoYWN0dWFsIHx8IFwiXCIpLCB0b0NsYXNzU2V0KGV4cGVjdGVkKSkpIHtcbiAgICAgIG1pc21hdGNoVHlwZSA9IDIgLyogQ0xBU1MgKi87XG4gICAgICBtaXNtYXRjaEtleSA9IGBjbGFzc2A7XG4gICAgfVxuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikgfHwgXCJcIjtcbiAgICBleHBlY3RlZCA9IGlzU3RyaW5nKGNsaWVudFZhbHVlKSA/IGNsaWVudFZhbHVlIDogc3RyaW5naWZ5U3R5bGUobm9ybWFsaXplU3R5bGUoY2xpZW50VmFsdWUpKTtcbiAgICBjb25zdCBhY3R1YWxNYXAgPSB0b1N0eWxlTWFwKGFjdHVhbCk7XG4gICAgY29uc3QgZXhwZWN0ZWRNYXAgPSB0b1N0eWxlTWFwKGV4cGVjdGVkKTtcbiAgICBpZiAodm5vZGUuZGlycykge1xuICAgICAgZm9yIChjb25zdCB7IGRpciwgdmFsdWUgfSBvZiB2bm9kZS5kaXJzKSB7XG4gICAgICAgIGlmIChkaXIubmFtZSA9PT0gXCJzaG93XCIgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgZXhwZWN0ZWRNYXAuc2V0KFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICByZXNvbHZlQ3NzVmFycyhpbnN0YW5jZSwgdm5vZGUsIGV4cGVjdGVkTWFwKTtcbiAgICB9XG4gICAgaWYgKCFpc01hcEVxdWFsKGFjdHVhbE1hcCwgZXhwZWN0ZWRNYXApKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSAzIC8qIFNUWUxFICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBcInN0eWxlXCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKGVsIGluc3RhbmNlb2YgU1ZHRWxlbWVudCAmJiBpc0tub3duU3ZnQXR0cihrZXkpIHx8IGVsIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgKGlzQm9vbGVhbkF0dHIoa2V5KSB8fCBpc0tub3duSHRtbEF0dHIoa2V5KSkpIHtcbiAgICBpZiAoaXNCb29sZWFuQXR0cihrZXkpKSB7XG4gICAgICBhY3R1YWwgPSBlbC5oYXNBdHRyaWJ1dGUoa2V5KTtcbiAgICAgIGV4cGVjdGVkID0gaW5jbHVkZUJvb2xlYW5BdHRyKGNsaWVudFZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGNsaWVudFZhbHVlID09IG51bGwpIHtcbiAgICAgIGFjdHVhbCA9IGVsLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgZXhwZWN0ZWQgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZShrZXkpKSB7XG4gICAgICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwidmFsdWVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICAgICAgYWN0dWFsID0gZWwudmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3R1YWwgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGV4cGVjdGVkID0gaXNSZW5kZXJhYmxlQXR0clZhbHVlKGNsaWVudFZhbHVlKSA/IFN0cmluZyhjbGllbnRWYWx1ZSkgOiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFjdHVhbCAhPT0gZXhwZWN0ZWQpIHtcbiAgICAgIG1pc21hdGNoVHlwZSA9IDQgLyogQVRUUklCVVRFICovO1xuICAgICAgbWlzbWF0Y2hLZXkgPSBrZXk7XG4gICAgfVxuICB9XG4gIGlmIChtaXNtYXRjaFR5cGUgIT0gbnVsbCAmJiAhaXNNaXNtYXRjaEFsbG93ZWQoZWwsIG1pc21hdGNoVHlwZSkpIHtcbiAgICBjb25zdCBmb3JtYXQgPSAodikgPT4gdiA9PT0gZmFsc2UgPyBgKG5vdCByZW5kZXJlZClgIDogYCR7bWlzbWF0Y2hLZXl9PVwiJHt2fVwiYDtcbiAgICBjb25zdCBwcmVTZWdtZW50ID0gYEh5ZHJhdGlvbiAke01pc21hdGNoVHlwZVN0cmluZ1ttaXNtYXRjaFR5cGVdfSBtaXNtYXRjaCBvbmA7XG4gICAgY29uc3QgcG9zdFNlZ21lbnQgPSBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2Zvcm1hdChhY3R1YWwpfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtmb3JtYXQoZXhwZWN0ZWQpfVxuICBOb3RlOiB0aGlzIG1pc21hdGNoIGlzIGNoZWNrLW9ubHkuIFRoZSBET00gd2lsbCBub3QgYmUgcmVjdGlmaWVkIGluIHByb2R1Y3Rpb24gZHVlIHRvIHBlcmZvcm1hbmNlIG92ZXJoZWFkLlxuICBZb3Ugc2hvdWxkIGZpeCB0aGUgc291cmNlIG9mIHRoZSBtaXNtYXRjaC5gO1xuICAgIHtcbiAgICAgIHdhcm4kMShwcmVTZWdtZW50LCBlbCwgcG9zdFNlZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB0b0NsYXNzU2V0KHN0cikge1xuICByZXR1cm4gbmV3IFNldChzdHIudHJpbSgpLnNwbGl0KC9cXHMrLykpO1xufVxuZnVuY3Rpb24gaXNTZXRFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IHMgb2YgYSkge1xuICAgIGlmICghYi5oYXMocykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiB0b1N0eWxlTWFwKHN0cikge1xuICBjb25zdCBzdHlsZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBzdHIuc3BsaXQoXCI7XCIpKSB7XG4gICAgbGV0IFtrZXksIHZhbHVlXSA9IGl0ZW0uc3BsaXQoXCI6XCIpO1xuICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgdmFsdWUgPSB2YWx1ZSAmJiB2YWx1ZS50cmltKCk7XG4gICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgc3R5bGVNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGVNYXA7XG59XG5mdW5jdGlvbiBpc01hcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGEpIHtcbiAgICBpZiAodmFsdWUgIT09IGIuZ2V0KGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiByZXNvbHZlQ3NzVmFycyhpbnN0YW5jZSwgdm5vZGUsIGV4cGVjdGVkTWFwKSB7XG4gIGNvbnN0IHJvb3QgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICBpZiAoaW5zdGFuY2UuZ2V0Q3NzVmFycyAmJiAodm5vZGUgPT09IHJvb3QgfHwgcm9vdCAmJiByb290LnR5cGUgPT09IEZyYWdtZW50ICYmIHJvb3QuY2hpbGRyZW4uaW5jbHVkZXModm5vZGUpKSkge1xuICAgIGNvbnN0IGNzc1ZhcnMgPSBpbnN0YW5jZS5nZXRDc3NWYXJzKCk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY3NzVmFycykge1xuICAgICAgZXhwZWN0ZWRNYXAuc2V0KFxuICAgICAgICBgLS0ke2dldEVzY2FwZWRDc3NWYXJOYW1lKGtleSwgZmFsc2UpfWAsXG4gICAgICAgIFN0cmluZyhjc3NWYXJzW2tleV0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBpZiAodm5vZGUgPT09IHJvb3QgJiYgaW5zdGFuY2UucGFyZW50KSB7XG4gICAgcmVzb2x2ZUNzc1ZhcnMoaW5zdGFuY2UucGFyZW50LCBpbnN0YW5jZS52bm9kZSwgZXhwZWN0ZWRNYXApO1xuICB9XG59XG5jb25zdCBhbGxvd01pc21hdGNoQXR0ciA9IFwiZGF0YS1hbGxvdy1taXNtYXRjaFwiO1xuY29uc3QgTWlzbWF0Y2hUeXBlU3RyaW5nID0ge1xuICBbMCAvKiBURVhUICovXTogXCJ0ZXh0XCIsXG4gIFsxIC8qIENISUxEUkVOICovXTogXCJjaGlsZHJlblwiLFxuICBbMiAvKiBDTEFTUyAqL106IFwiY2xhc3NcIixcbiAgWzMgLyogU1RZTEUgKi9dOiBcInN0eWxlXCIsXG4gIFs0IC8qIEFUVFJJQlVURSAqL106IFwiYXR0cmlidXRlXCJcbn07XG5mdW5jdGlvbiBpc01pc21hdGNoQWxsb3dlZChlbCwgYWxsb3dlZFR5cGUpIHtcbiAgaWYgKGFsbG93ZWRUeXBlID09PSAwIC8qIFRFWFQgKi8gfHwgYWxsb3dlZFR5cGUgPT09IDEgLyogQ0hJTERSRU4gKi8pIHtcbiAgICB3aGlsZSAoZWwgJiYgIWVsLmhhc0F0dHJpYnV0ZShhbGxvd01pc21hdGNoQXR0cikpIHtcbiAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDtcbiAgICB9XG4gIH1cbiAgY29uc3QgYWxsb3dlZEF0dHIgPSBlbCAmJiBlbC5nZXRBdHRyaWJ1dGUoYWxsb3dNaXNtYXRjaEF0dHIpO1xuICBpZiAoYWxsb3dlZEF0dHIgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIGlmIChhbGxvd2VkQXR0ciA9PT0gXCJcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGxpc3QgPSBhbGxvd2VkQXR0ci5zcGxpdChcIixcIik7XG4gICAgaWYgKGFsbG93ZWRUeXBlID09PSAwIC8qIFRFWFQgKi8gJiYgbGlzdC5pbmNsdWRlcyhcImNoaWxkcmVuXCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3QuaW5jbHVkZXMoTWlzbWF0Y2hUeXBlU3RyaW5nW2FsbG93ZWRUeXBlXSk7XG4gIH1cbn1cblxuY29uc3QgcmVxdWVzdElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5yZXF1ZXN0SWRsZUNhbGxiYWNrIHx8ICgoY2IpID0+IHNldFRpbWVvdXQoY2IsIDEpKTtcbmNvbnN0IGNhbmNlbElkbGVDYWxsYmFjayA9IGdldEdsb2JhbFRoaXMoKS5jYW5jZWxJZGxlQ2FsbGJhY2sgfHwgKChpZCkgPT4gY2xlYXJUaW1lb3V0KGlkKSk7XG5jb25zdCBoeWRyYXRlT25JZGxlID0gKHRpbWVvdXQgPSAxZTQpID0+IChoeWRyYXRlKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxdWVzdElkbGVDYWxsYmFjayhoeWRyYXRlLCB7IHRpbWVvdXQgfSk7XG4gIHJldHVybiAoKSA9PiBjYW5jZWxJZGxlQ2FsbGJhY2soaWQpO1xufTtcbmZ1bmN0aW9uIGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSB7XG4gIGNvbnN0IHsgdG9wLCBsZWZ0LCBib3R0b20sIHJpZ2h0IH0gPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgeyBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCB9ID0gd2luZG93O1xuICByZXR1cm4gKHRvcCA+IDAgJiYgdG9wIDwgaW5uZXJIZWlnaHQgfHwgYm90dG9tID4gMCAmJiBib3R0b20gPCBpbm5lckhlaWdodCkgJiYgKGxlZnQgPiAwICYmIGxlZnQgPCBpbm5lcldpZHRoIHx8IHJpZ2h0ID4gMCAmJiByaWdodCA8IGlubmVyV2lkdGgpO1xufVxuY29uc3QgaHlkcmF0ZU9uVmlzaWJsZSA9IChvcHRzKSA9PiAoaHlkcmF0ZSwgZm9yRWFjaCkgPT4ge1xuICBjb25zdCBvYiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgIGZvciAoY29uc3QgZSBvZiBlbnRyaWVzKSB7XG4gICAgICBpZiAoIWUuaXNJbnRlcnNlY3RpbmcpIGNvbnRpbnVlO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9LCBvcHRzKTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBpZiAoIShlbCBpbnN0YW5jZW9mIEVsZW1lbnQpKSByZXR1cm47XG4gICAgaWYgKGVsZW1lbnRJc1Zpc2libGVJblZpZXdwb3J0KGVsKSkge1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgb2IuZGlzY29ubmVjdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBvYi5vYnNlcnZlKGVsKTtcbiAgfSk7XG4gIHJldHVybiAoKSA9PiBvYi5kaXNjb25uZWN0KCk7XG59O1xuY29uc3QgaHlkcmF0ZU9uTWVkaWFRdWVyeSA9IChxdWVyeSkgPT4gKGh5ZHJhdGUpID0+IHtcbiAgaWYgKHF1ZXJ5KSB7XG4gICAgY29uc3QgbXFsID0gbWF0Y2hNZWRpYShxdWVyeSk7XG4gICAgaWYgKG1xbC5tYXRjaGVzKSB7XG4gICAgICBoeWRyYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1xbC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGh5ZHJhdGUsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoeWRyYXRlKTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBoeWRyYXRlT25JbnRlcmFjdGlvbiA9IChpbnRlcmFjdGlvbnMgPSBbXSkgPT4gKGh5ZHJhdGUsIGZvckVhY2gpID0+IHtcbiAgaWYgKGlzU3RyaW5nKGludGVyYWN0aW9ucykpIGludGVyYWN0aW9ucyA9IFtpbnRlcmFjdGlvbnNdO1xuICBsZXQgaGFzSHlkcmF0ZWQgPSBmYWxzZTtcbiAgY29uc3QgZG9IeWRyYXRlID0gKGUpID0+IHtcbiAgICBpZiAoIWhhc0h5ZHJhdGVkKSB7XG4gICAgICBoYXNIeWRyYXRlZCA9IHRydWU7XG4gICAgICB0ZWFyZG93bigpO1xuICAgICAgaHlkcmF0ZSgpO1xuICAgICAgZS50YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgZS5jb25zdHJ1Y3RvcihlLnR5cGUsIGUpKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRlYXJkb3duID0gKCkgPT4ge1xuICAgIGZvckVhY2goKGVsKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoaSwgZG9IeWRyYXRlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZm9yRWFjaCgoZWwpID0+IHtcbiAgICBmb3IgKGNvbnN0IGkgb2YgaW50ZXJhY3Rpb25zKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGksIGRvSHlkcmF0ZSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0ZWFyZG93bjtcbn07XG5mdW5jdGlvbiBmb3JFYWNoRWxlbWVudChub2RlLCBjYikge1xuICBpZiAoaXNDb21tZW50KG5vZGUpICYmIG5vZGUuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICBsZXQgZGVwdGggPSAxO1xuICAgIGxldCBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICB3aGlsZSAobmV4dCkge1xuICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2IobmV4dCk7XG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNDb21tZW50KG5leHQpKSB7XG4gICAgICAgIGlmIChuZXh0LmRhdGEgPT09IFwiXVwiKSB7XG4gICAgICAgICAgaWYgKC0tZGVwdGggPT09IDApIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKG5leHQuZGF0YSA9PT0gXCJbXCIpIHtcbiAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0ID0gbmV4dC5uZXh0U2libGluZztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2Iobm9kZSk7XG4gIH1cbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsb2FkZXIsXG4gICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICBlcnJvckNvbXBvbmVudCxcbiAgICBkZWxheSA9IDIwMCxcbiAgICBoeWRyYXRlOiBoeWRyYXRlU3RyYXRlZ3ksXG4gICAgdGltZW91dCxcbiAgICAvLyB1bmRlZmluZWQgPSBuZXZlciB0aW1lcyBvdXRcbiAgICBzdXNwZW5zaWJsZSA9IHRydWUsXG4gICAgb25FcnJvcjogdXNlck9uRXJyb3JcbiAgfSA9IHNvdXJjZTtcbiAgbGV0IHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgbGV0IHJlc29sdmVkQ29tcDtcbiAgbGV0IHJldHJpZXMgPSAwO1xuICBjb25zdCByZXRyeSA9ICgpID0+IHtcbiAgICByZXRyaWVzKys7XG4gICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgIHJldHVybiBsb2FkKCk7XG4gIH07XG4gIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgbGV0IHRoaXNSZXF1ZXN0O1xuICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdCB8fCAodGhpc1JlcXVlc3QgPSBwZW5kaW5nUmVxdWVzdCA9IGxvYWRlcigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGVyciA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyIDogbmV3IEVycm9yKFN0cmluZyhlcnIpKTtcbiAgICAgIGlmICh1c2VyT25FcnJvcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHVzZXJSZXRyeSA9ICgpID0+IHJlc29sdmUocmV0cnkoKSk7XG4gICAgICAgICAgY29uc3QgdXNlckZhaWwgPSAoKSA9PiByZWplY3QoZXJyKTtcbiAgICAgICAgICB1c2VyT25FcnJvcihlcnIsIHVzZXJSZXRyeSwgdXNlckZhaWwsIHJldHJpZXMgKyAxKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSkudGhlbigoY29tcCkgPT4ge1xuICAgICAgaWYgKHRoaXNSZXF1ZXN0ICE9PSBwZW5kaW5nUmVxdWVzdCAmJiBwZW5kaW5nUmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3Q7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY29tcCkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCBsb2FkZXIgcmVzb2x2ZWQgdG8gdW5kZWZpbmVkLiBJZiB5b3UgYXJlIHVzaW5nIHJldHJ5KCksIG1ha2Ugc3VyZSB0byByZXR1cm4gaXRzIHJldHVybiB2YWx1ZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcCAmJiAoY29tcC5fX2VzTW9kdWxlIHx8IGNvbXBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gXCJNb2R1bGVcIikpIHtcbiAgICAgICAgY29tcCA9IGNvbXAuZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbXAgJiYgIWlzT2JqZWN0KGNvbXApICYmICFpc0Z1bmN0aW9uKGNvbXApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhc3luYyBjb21wb25lbnQgbG9hZCByZXN1bHQ6ICR7Y29tcH1gKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmVkQ29tcCA9IGNvbXA7XG4gICAgICByZXR1cm4gY29tcDtcbiAgICB9KSk7XG4gIH07XG4gIHJldHVybiBkZWZpbmVDb21wb25lbnQoe1xuICAgIG5hbWU6IFwiQXN5bmNDb21wb25lbnRXcmFwcGVyXCIsXG4gICAgX19hc3luY0xvYWRlcjogbG9hZCxcbiAgICBfX2FzeW5jSHlkcmF0ZShlbCwgaW5zdGFuY2UsIGh5ZHJhdGUpIHtcbiAgICAgIGxldCBwYXRjaGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBkb0h5ZHJhdGUgPSBoeWRyYXRlU3RyYXRlZ3kgPyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBlcmZvcm1IeWRyYXRlID0gKCkgPT4ge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHBhdGNoZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYFNraXBwaW5nIGxhenkgaHlkcmF0aW9uIGZvciBjb21wb25lbnQgJyR7Z2V0Q29tcG9uZW50TmFtZShyZXNvbHZlZENvbXApfSc6IGl0IHdhcyB1cGRhdGVkIGJlZm9yZSBsYXp5IGh5ZHJhdGlvbiBwZXJmb3JtZWQuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaHlkcmF0ZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB0ZWFyZG93biA9IGh5ZHJhdGVTdHJhdGVneShcbiAgICAgICAgICBwZXJmb3JtSHlkcmF0ZSxcbiAgICAgICAgICAoY2IpID0+IGZvckVhY2hFbGVtZW50KGVsLCBjYilcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRlYXJkb3duKSB7XG4gICAgICAgICAgKGluc3RhbmNlLmJ1bSB8fCAoaW5zdGFuY2UuYnVtID0gW10pKS5wdXNoKHRlYXJkb3duKTtcbiAgICAgICAgfVxuICAgICAgICAoaW5zdGFuY2UudSB8fCAoaW5zdGFuY2UudSA9IFtdKSkucHVzaCgoKSA9PiBwYXRjaGVkID0gdHJ1ZSk7XG4gICAgICB9IDogaHlkcmF0ZTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgZG9IeWRyYXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2FkKCkudGhlbigoKSA9PiAhaW5zdGFuY2UuaXNVbm1vdW50ZWQgJiYgZG9IeWRyYXRlKCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0IF9fYXN5bmNSZXNvbHZlZCgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlZENvbXA7XG4gICAgfSxcbiAgICBzZXR1cCgpIHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICAgICAgbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpO1xuICAgICAgaWYgKHJlc29sdmVkQ29tcCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKHJlc29sdmVkQ29tcCwgaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICAgICAgICBoYW5kbGVFcnJvcihcbiAgICAgICAgICBlcnIsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgMTMsXG4gICAgICAgICAgIWVycm9yQ29tcG9uZW50XG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgaWYgKHN1c3BlbnNpYmxlICYmIGluc3RhbmNlLnN1c3BlbnNlIHx8IGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgICAgICByZXR1cm4gbG9hZCgpLnRoZW4oKGNvbXApID0+IHtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gY3JlYXRlSW5uZXJDb21wKGNvbXAsIGluc3RhbmNlKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICByZXR1cm4gKCkgPT4gZXJyb3JDb21wb25lbnQgPyBjcmVhdGVWTm9kZShlcnJvckNvbXBvbmVudCwge1xuICAgICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICAgIH0pIDogbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBsb2FkZWQgPSByZWYoZmFsc2UpO1xuICAgICAgY29uc3QgZXJyb3IgPSByZWYoKTtcbiAgICAgIGNvbnN0IGRlbGF5ZWQgPSByZWYoISFkZWxheSk7XG4gICAgICBpZiAoZGVsYXkpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZGVsYXllZC52YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICB9XG4gICAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICghbG9hZGVkLnZhbHVlICYmICFlcnJvci52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3RpbWVvdXR9bXMuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICB9XG4gICAgICBsb2FkKCkudGhlbigoKSA9PiB7XG4gICAgICAgIGxvYWRlZC52YWx1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpbnN0YW5jZS5wYXJlbnQgJiYgaXNLZWVwQWxpdmUoaW5zdGFuY2UucGFyZW50LnZub2RlKSkge1xuICAgICAgICAgIGluc3RhbmNlLnBhcmVudC51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci52YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCBwYXJlbnQpIHtcbiAgY29uc3QgeyByZWY6IHJlZjIsIHByb3BzLCBjaGlsZHJlbiwgY2UgfSA9IHBhcmVudC52bm9kZTtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xuICB2bm9kZS5yZWYgPSByZWYyO1xuICB2bm9kZS5jZSA9IGNlO1xuICBkZWxldGUgcGFyZW50LnZub2RlLmNlO1xuICByZXR1cm4gdm5vZGU7XG59XG5cbmNvbnN0IGlzS2VlcEFsaXZlID0gKHZub2RlKSA9PiB2bm9kZS50eXBlLl9faXNLZWVwQWxpdmU7XG5jb25zdCBLZWVwQWxpdmVJbXBsID0ge1xuICBuYW1lOiBgS2VlcEFsaXZlYCxcbiAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cbiAgLy8gY2hlY2sgZGlyZWN0bHkgb24gS2VlcEFsaXZlIGluIHRoZSByZW5kZXJlciwgYmVjYXVzZSBpbXBvcnRpbmcgaXQgZGlyZWN0bHlcbiAgLy8gd291bGQgcHJldmVudCBpdCBmcm9tIGJlaW5nIHRyZWUtc2hha2VuLlxuICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxuICBwcm9wczoge1xuICAgIGluY2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgIGV4Y2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxuICB9LFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzaGFyZWRDb250ZXh0ID0gaW5zdGFuY2UuY3R4O1xuICAgIGlmICghc2hhcmVkQ29udGV4dC5yZW5kZXJlcikge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA9PT0gMSA/IGNoaWxkcmVuWzBdIDogY2hpbGRyZW47XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgY29uc3Qga2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgbGV0IGN1cnJlbnQgPSBudWxsO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgaW5zdGFuY2UuX192X2NhY2hlID0gY2FjaGU7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XG4gICAgY29uc3Qge1xuICAgICAgcmVuZGVyZXI6IHtcbiAgICAgICAgcDogcGF0Y2gsXG4gICAgICAgIG06IG1vdmUsXG4gICAgICAgIHVtOiBfdW5tb3VudCxcbiAgICAgICAgbzogeyBjcmVhdGVFbGVtZW50IH1cbiAgICAgIH1cbiAgICB9ID0gc2hhcmVkQ29udGV4dDtcbiAgICBjb25zdCBzdG9yYWdlQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMiA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgIG1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCAwLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgaW5zdGFuY2UyLnZub2RlLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIGluc3RhbmNlMixcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpbnN0YW5jZTIuaXNEZWFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UyLmEpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZTIuYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZU1vdW50ZWQ7XG4gICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZTIucGFyZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlMik7XG4gICAgICB9XG4gICAgfTtcbiAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMiA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgIGludmFsaWRhdGVNb3VudChpbnN0YW5jZTIubSk7XG4gICAgICBpbnZhbGlkYXRlTW91bnQoaW5zdGFuY2UyLmEpO1xuICAgICAgbW92ZSh2bm9kZSwgc3RvcmFnZUNvbnRhaW5lciwgbnVsbCwgMSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlMi5kYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5kYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZVVubW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZTIuaXNEZWFjdGl2YXRlZCA9IHRydWU7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZTIpO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICAgICAgICBpbnN0YW5jZTIuX19rZWVwQWxpdmVTdG9yYWdlQ29udGFpbmVyID0gc3RvcmFnZUNvbnRhaW5lcjtcbiAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIHVubW91bnQodm5vZGUpIHtcbiAgICAgIHJlc2V0U2hhcGVGbGFnKHZub2RlKTtcbiAgICAgIF91bm1vdW50KHZub2RlLCBpbnN0YW5jZSwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcnVuZUNhY2hlKGZpbHRlcikge1xuICAgICAgY2FjaGUuZm9yRWFjaCgodm5vZGUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZSh2bm9kZS50eXBlKTtcbiAgICAgICAgaWYgKG5hbWUgJiYgIWZpbHRlcihuYW1lKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5KGtleSkge1xuICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAoY2FjaGVkICYmICghY3VycmVudCB8fCAhaXNTYW1lVk5vZGVUeXBlKGNhY2hlZCwgY3VycmVudCkpKSB7XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudCkge1xuICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgd2F0Y2goXG4gICAgICAoKSA9PiBbcHJvcHMuaW5jbHVkZSwgcHJvcHMuZXhjbHVkZV0sXG4gICAgICAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XG4gICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSk7XG4gICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xuICAgICAgfSxcbiAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICB7IGZsdXNoOiBcInBvc3RcIiwgZGVlcDogdHJ1ZSB9XG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzU3VzcGVuc2UoaW5zdGFuY2Uuc3ViVHJlZS50eXBlKSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgICB9LCBpbnN0YW5jZS5zdWJUcmVlLnN1c3BlbnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgIGNhY2hlLmZvckVhY2goKGNhY2hlZCkgPT4ge1xuICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHN1YlRyZWUpO1xuICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUgJiYgY2FjaGVkLmtleSA9PT0gdm5vZGUua2V5KSB7XG4gICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgIGNvbnN0IGRhID0gdm5vZGUuY29tcG9uZW50LmRhO1xuICAgICAgICAgIGRhICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkYSwgc3VzcGVuc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgIGNvbnN0IHJhd1ZOb2RlID0gY2hpbGRyZW5bMF07XG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShgS2VlcEFsaXZlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIGNvbXBvbmVudCBjaGlsZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfSBlbHNlIGlmICghaXNWTm9kZShyYXdWTm9kZSkgfHwgIShyYXdWTm9kZS5zaGFwZUZsYWcgJiA0KSAmJiAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDEyOCkpIHtcbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiByYXdWTm9kZTtcbiAgICAgIH1cbiAgICAgIGxldCB2bm9kZSA9IGdldElubmVyQ2hpbGQocmF3Vk5vZGUpO1xuICAgICAgaWYgKHZub2RlLnR5cGUgPT09IENvbW1lbnQpIHtcbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiB2bm9kZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXAgPSB2bm9kZS50eXBlO1xuICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoXG4gICAgICAgIGlzQXN5bmNXcmFwcGVyKHZub2RlKSA/IHZub2RlLnR5cGUuX19hc3luY1Jlc29sdmVkIHx8IHt9IDogY29tcFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgbWF4IH0gPSBwcm9wcztcbiAgICAgIGlmIChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkgfHwgZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpIHtcbiAgICAgICAgdm5vZGUuc2hhcGVGbGFnICY9IC0yNTc7XG4gICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xuICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmICh2bm9kZS5lbCkge1xuICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcbiAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xuICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xuICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XG4gICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyO1xuICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTY7XG4gICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICByZXR1cm4gaXNTdXNwZW5zZShyYXdWTm9kZS50eXBlKSA/IHJhd1ZOb2RlIDogdm5vZGU7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KFwiLFwiKS5pbmNsdWRlcyhuYW1lKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgIHBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9uQWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiBvbkRlYWN0aXZhdGVkKGhvb2ssIHRhcmdldCkge1xuICByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgXCJkYVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVnaXN0ZXJLZWVwQWxpdmVIb29rKGhvb2ssIHR5cGUsIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkge1xuICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZGMgfHwgKGhvb2suX193ZGMgPSAoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQ7XG4gICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgIGlmIChjdXJyZW50LmlzRGVhY3RpdmF0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgIH1cbiAgICByZXR1cm4gaG9vaygpO1xuICB9KTtcbiAgaW5qZWN0SG9vayh0eXBlLCB3cmFwcGVkSG9vaywgdGFyZ2V0KTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGxldCBjdXJyZW50ID0gdGFyZ2V0LnBhcmVudDtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50LnBhcmVudCkge1xuICAgICAgaWYgKGlzS2VlcEFsaXZlKGN1cnJlbnQucGFyZW50LnZub2RlKSkge1xuICAgICAgICBpbmplY3RUb0tlZXBBbGl2ZVJvb3Qod3JhcHBlZEhvb2ssIHR5cGUsIHRhcmdldCwgY3VycmVudCk7XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBpbmplY3RUb0tlZXBBbGl2ZVJvb3QoaG9vaywgdHlwZSwgdGFyZ2V0LCBrZWVwQWxpdmVSb290KSB7XG4gIGNvbnN0IGluamVjdGVkID0gaW5qZWN0SG9vayhcbiAgICB0eXBlLFxuICAgIGhvb2ssXG4gICAga2VlcEFsaXZlUm9vdCxcbiAgICB0cnVlXG4gICAgLyogcHJlcGVuZCAqL1xuICApO1xuICBvblVubW91bnRlZCgoKSA9PiB7XG4gICAgcmVtb3ZlKGtlZXBBbGl2ZVJvb3RbdHlwZV0sIGluamVjdGVkKTtcbiAgfSwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIHJlc2V0U2hhcGVGbGFnKHZub2RlKSB7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSAtMjU3O1xuICB2bm9kZS5zaGFwZUZsYWcgJj0gLTUxMztcbn1cbmZ1bmN0aW9uIGdldElubmVyQ2hpbGQodm5vZGUpIHtcbiAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmIDEyOCA/IHZub2RlLnNzQ29udGVudCA6IHZub2RlO1xufVxuXG5mdW5jdGlvbiBpbmplY3RIb29rKHR5cGUsIGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSwgcHJlcGVuZCA9IGZhbHNlKSB7XG4gIGlmICh0YXJnZXQpIHtcbiAgICBjb25zdCBob29rcyA9IHRhcmdldFt0eXBlXSB8fCAodGFyZ2V0W3R5cGVdID0gW10pO1xuICAgIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dlaCB8fCAoaG9vay5fX3dlaCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZSh0YXJnZXQpO1xuICAgICAgY29uc3QgcmVzID0gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgdGFyZ2V0LCB0eXBlLCBhcmdzKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICAgIGlmIChwcmVwZW5kKSB7XG4gICAgICBob29rcy51bnNoaWZ0KHdyYXBwZWRIb29rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaG9va3MucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwcGVkSG9vaztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgYXBpTmFtZSA9IHRvSGFuZGxlcktleShFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV0ucmVwbGFjZSgvIGhvb2skLywgXCJcIikpO1xuICAgIHdhcm4kMShcbiAgICAgIGAke2FwaU5hbWV9IGlzIGNhbGxlZCB3aGVuIHRoZXJlIGlzIG5vIGFjdGl2ZSBjb21wb25lbnQgaW5zdGFuY2UgdG8gYmUgYXNzb2NpYXRlZCB3aXRoLiBMaWZlY3ljbGUgaW5qZWN0aW9uIEFQSXMgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgZXhlY3V0aW9uIG9mIHNldHVwKCkuYCArIChgIElmIHlvdSBhcmUgdXNpbmcgYXN5bmMgc2V0dXAoKSwgbWFrZSBzdXJlIHRvIHJlZ2lzdGVyIGxpZmVjeWNsZSBob29rcyBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0IHN0YXRlbWVudC5gIClcbiAgICApO1xuICB9XG59XG5jb25zdCBjcmVhdGVIb29rID0gKGxpZmVjeWNsZSkgPT4gKGhvb2ssIHRhcmdldCA9IGN1cnJlbnRJbnN0YW5jZSkgPT4ge1xuICBpZiAoIWlzSW5TU1JDb21wb25lbnRTZXR1cCB8fCBsaWZlY3ljbGUgPT09IFwic3BcIikge1xuICAgIGluamVjdEhvb2sobGlmZWN5Y2xlLCAoLi4uYXJncykgPT4gaG9vayguLi5hcmdzKSwgdGFyZ2V0KTtcbiAgfVxufTtcbmNvbnN0IG9uQmVmb3JlTW91bnQgPSBjcmVhdGVIb29rKFwiYm1cIik7XG5jb25zdCBvbk1vdW50ZWQgPSBjcmVhdGVIb29rKFwibVwiKTtcbmNvbnN0IG9uQmVmb3JlVXBkYXRlID0gY3JlYXRlSG9vayhcbiAgXCJidVwiXG4pO1xuY29uc3Qgb25VcGRhdGVkID0gY3JlYXRlSG9vayhcInVcIik7XG5jb25zdCBvbkJlZm9yZVVubW91bnQgPSBjcmVhdGVIb29rKFxuICBcImJ1bVwiXG4pO1xuY29uc3Qgb25Vbm1vdW50ZWQgPSBjcmVhdGVIb29rKFwidW1cIik7XG5jb25zdCBvblNlcnZlclByZWZldGNoID0gY3JlYXRlSG9vayhcbiAgXCJzcFwiXG4pO1xuY29uc3Qgb25SZW5kZXJUcmlnZ2VyZWQgPSBjcmVhdGVIb29rKFwicnRnXCIpO1xuY29uc3Qgb25SZW5kZXJUcmFja2VkID0gY3JlYXRlSG9vayhcInJ0Y1wiKTtcbmZ1bmN0aW9uIG9uRXJyb3JDYXB0dXJlZChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpIHtcbiAgaW5qZWN0SG9vayhcImVjXCIsIGhvb2ssIHRhcmdldCk7XG59XG5cbmNvbnN0IENPTVBPTkVOVFMgPSBcImNvbXBvbmVudHNcIjtcbmNvbnN0IERJUkVDVElWRVMgPSBcImRpcmVjdGl2ZXNcIjtcbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnQobmFtZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgbmFtZSwgdHJ1ZSwgbWF5YmVTZWxmUmVmZXJlbmNlKSB8fCBuYW1lO1xufVxuY29uc3QgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCA9IFN5bWJvbC5mb3IoXCJ2LW5kY1wiKTtcbmZ1bmN0aW9uIHJlc29sdmVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICBpZiAoaXNTdHJpbmcoY29tcG9uZW50KSkge1xuICAgIHJldHVybiByZXNvbHZlQXNzZXQoQ09NUE9ORU5UUywgY29tcG9uZW50LCBmYWxzZSkgfHwgY29tcG9uZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wb25lbnQgfHwgTlVMTF9EWU5BTUlDX0NPTVBPTkVOVDtcbiAgfVxufVxuZnVuY3Rpb24gcmVzb2x2ZURpcmVjdGl2ZShuYW1lKSB7XG4gIHJldHVybiByZXNvbHZlQXNzZXQoRElSRUNUSVZFUywgbmFtZSk7XG59XG5mdW5jdGlvbiByZXNvbHZlQXNzZXQodHlwZSwgbmFtZSwgd2Fybk1pc3NpbmcgPSB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50SW5zdGFuY2U7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGluc3RhbmNlLnR5cGU7XG4gICAgaWYgKHR5cGUgPT09IENPTVBPTkVOVFMpIHtcbiAgICAgIGNvbnN0IHNlbGZOYW1lID0gZ2V0Q29tcG9uZW50TmFtZShcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIGlmIChzZWxmTmFtZSAmJiAoc2VsZk5hbWUgPT09IG5hbWUgfHwgc2VsZk5hbWUgPT09IGNhbWVsaXplKG5hbWUpIHx8IHNlbGZOYW1lID09PSBjYXBpdGFsaXplKGNhbWVsaXplKG5hbWUpKSkpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gKFxuICAgICAgLy8gbG9jYWwgcmVnaXN0cmF0aW9uXG4gICAgICAvLyBjaGVjayBpbnN0YW5jZVt0eXBlXSBmaXJzdCB3aGljaCBpcyByZXNvbHZlZCBmb3Igb3B0aW9ucyBBUElcbiAgICAgIHJlc29sdmUoaW5zdGFuY2VbdHlwZV0gfHwgQ29tcG9uZW50W3R5cGVdLCBuYW1lKSB8fCAvLyBnbG9iYWwgcmVnaXN0cmF0aW9uXG4gICAgICByZXNvbHZlKGluc3RhbmNlLmFwcENvbnRleHRbdHlwZV0sIG5hbWUpXG4gICAgKTtcbiAgICBpZiAoIXJlcyAmJiBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiBDb21wb25lbnQ7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5NaXNzaW5nICYmICFyZXMpIHtcbiAgICAgIGNvbnN0IGV4dHJhID0gdHlwZSA9PT0gQ09NUE9ORU5UUyA/IGBcbklmIHRoaXMgaXMgYSBuYXRpdmUgY3VzdG9tIGVsZW1lbnQsIG1ha2Ugc3VyZSB0byBleGNsdWRlIGl0IGZyb20gY29tcG9uZW50IHJlc29sdXRpb24gdmlhIGNvbXBpbGVyT3B0aW9ucy5pc0N1c3RvbUVsZW1lbnQuYCA6IGBgO1xuICAgICAgd2FybiQxKGBGYWlsZWQgdG8gcmVzb2x2ZSAke3R5cGUuc2xpY2UoMCwgLTEpfTogJHtuYW1lfSR7ZXh0cmF9YCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShcbiAgICAgIGByZXNvbHZlJHtjYXBpdGFsaXplKHR5cGUuc2xpY2UoMCwgLTEpKX0gY2FuIG9ubHkgYmUgdXNlZCBpbiByZW5kZXIoKSBvciBzZXR1cCgpLmBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlKHJlZ2lzdHJ5LCBuYW1lKSB7XG4gIHJldHVybiByZWdpc3RyeSAmJiAocmVnaXN0cnlbbmFtZV0gfHwgcmVnaXN0cnlbY2FtZWxpemUobmFtZSldIHx8IHJlZ2lzdHJ5W2NhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpXSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckxpc3Qoc291cmNlLCByZW5kZXJJdGVtLCBjYWNoZSwgaW5kZXgpIHtcbiAgbGV0IHJldDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUgJiYgY2FjaGVbaW5kZXhdO1xuICBjb25zdCBzb3VyY2VJc0FycmF5ID0gaXNBcnJheShzb3VyY2UpO1xuICBpZiAoc291cmNlSXNBcnJheSB8fCBpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgY29uc3Qgc291cmNlSXNSZWFjdGl2ZUFycmF5ID0gc291cmNlSXNBcnJheSAmJiBpc1JlYWN0aXZlKHNvdXJjZSk7XG4gICAgbGV0IG5lZWRzV3JhcCA9IGZhbHNlO1xuICAgIGxldCBpc1JlYWRvbmx5U291cmNlID0gZmFsc2U7XG4gICAgaWYgKHNvdXJjZUlzUmVhY3RpdmVBcnJheSkge1xuICAgICAgbmVlZHNXcmFwID0gIWlzU2hhbGxvdyhzb3VyY2UpO1xuICAgICAgaXNSZWFkb25seVNvdXJjZSA9IGlzUmVhZG9ubHkoc291cmNlKTtcbiAgICAgIHNvdXJjZSA9IHNoYWxsb3dSZWFkQXJyYXkoc291cmNlKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc291cmNlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShcbiAgICAgICAgbmVlZHNXcmFwID8gaXNSZWFkb25seVNvdXJjZSA/IHRvUmVhZG9ubHkodG9SZWFjdGl2ZShzb3VyY2VbaV0pKSA6IHRvUmVhY3RpdmUoc291cmNlW2ldKSA6IHNvdXJjZVtpXSxcbiAgICAgICAgaSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBjYWNoZWQgJiYgY2FjaGVkW2ldXG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSBcIm51bWJlclwiKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIU51bWJlci5pc0ludGVnZXIoc291cmNlKSkge1xuICAgICAgd2FybiQxKGBUaGUgdi1mb3IgcmFuZ2UgZXhwZWN0IGFuIGludGVnZXIgdmFsdWUgYnV0IGdvdCAke3NvdXJjZX0uYCk7XG4gICAgfVxuICAgIHJldCA9IG5ldyBBcnJheShzb3VyY2UpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oaSArIDEsIGksIHZvaWQgMCwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICBpZiAoc291cmNlW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgIHJldCA9IEFycmF5LmZyb20oXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgKGl0ZW0sIGkpID0+IHJlbmRlckl0ZW0oaXRlbSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgICByZXRbaV0gPSByZW5kZXJJdGVtKHNvdXJjZVtrZXldLCBrZXksIGksIGNhY2hlZCAmJiBjYWNoZWRbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXQgPSBbXTtcbiAgfVxuICBpZiAoY2FjaGUpIHtcbiAgICBjYWNoZVtpbmRleF0gPSByZXQ7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2xvdHMoc2xvdHMsIGR5bmFtaWNTbG90cykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNTbG90cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHNsb3QgPSBkeW5hbWljU2xvdHNbaV07XG4gICAgaWYgKGlzQXJyYXkoc2xvdCkpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2xvdC5sZW5ndGg7IGorKykge1xuICAgICAgICBzbG90c1tzbG90W2pdLm5hbWVdID0gc2xvdFtqXS5mbjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNsb3QpIHtcbiAgICAgIHNsb3RzW3Nsb3QubmFtZV0gPSBzbG90LmtleSA/ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlcyA9IHNsb3QuZm4oLi4uYXJncyk7XG4gICAgICAgIGlmIChyZXMpIHJlcy5rZXkgPSBzbG90LmtleTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gOiBzbG90LmZuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2xvdHM7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIGZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcbiAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UucGFyZW50ICYmIGlzQXN5bmNXcmFwcGVyKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQuY2UpIHtcbiAgICBpZiAobmFtZSAhPT0gXCJkZWZhdWx0XCIpIHByb3BzLm5hbWUgPSBuYW1lO1xuICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2soXG4gICAgICBGcmFnbWVudCxcbiAgICAgIG51bGwsXG4gICAgICBbY3JlYXRlVk5vZGUoXCJzbG90XCIsIHByb3BzLCBmYWxsYmFjayAmJiBmYWxsYmFjaygpKV0sXG4gICAgICA2NFxuICAgICk7XG4gIH1cbiAgbGV0IHNsb3QgPSBzbG90c1tuYW1lXTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2xvdCAmJiBzbG90Lmxlbmd0aCA+IDEpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgU1NSLW9wdGltaXplZCBzbG90IGZ1bmN0aW9uIGRldGVjdGVkIGluIGEgbm9uLVNTUi1vcHRpbWl6ZWQgcmVuZGVyIGZ1bmN0aW9uLiBZb3UgbmVlZCB0byBtYXJrIHRoaXMgY29tcG9uZW50IHdpdGggJGR5bmFtaWMtc2xvdHMgaW4gdGhlIHBhcmVudCB0ZW1wbGF0ZS5gXG4gICAgKTtcbiAgICBzbG90ID0gKCkgPT4gW107XG4gIH1cbiAgaWYgKHNsb3QgJiYgc2xvdC5fYykge1xuICAgIHNsb3QuX2QgPSBmYWxzZTtcbiAgfVxuICBvcGVuQmxvY2soKTtcbiAgY29uc3QgdmFsaWRTbG90Q29udGVudCA9IHNsb3QgJiYgZW5zdXJlVmFsaWRWTm9kZShzbG90KHByb3BzKSk7XG4gIGNvbnN0IHNsb3RLZXkgPSBwcm9wcy5rZXkgfHwgLy8gc2xvdCBjb250ZW50IGFycmF5IG9mIGEgZHluYW1pYyBjb25kaXRpb25hbCBzbG90IG1heSBoYXZlIGEgYnJhbmNoXG4gIC8vIGtleSBhdHRhY2hlZCBpbiB0aGUgYGNyZWF0ZVNsb3RzYCBoZWxwZXIsIHJlc3BlY3QgdGhhdFxuICB2YWxpZFNsb3RDb250ZW50ICYmIHZhbGlkU2xvdENvbnRlbnQua2V5O1xuICBjb25zdCByZW5kZXJlZCA9IGNyZWF0ZUJsb2NrKFxuICAgIEZyYWdtZW50LFxuICAgIHtcbiAgICAgIGtleTogKHNsb3RLZXkgJiYgIWlzU3ltYm9sKHNsb3RLZXkpID8gc2xvdEtleSA6IGBfJHtuYW1lfWApICsgLy8gIzcyNTYgZm9yY2UgZGlmZmVyZW50aWF0ZSBmYWxsYmFjayBjb250ZW50IGZyb20gYWN0dWFsIGNvbnRlbnRcbiAgICAgICghdmFsaWRTbG90Q29udGVudCAmJiBmYWxsYmFjayA/IFwiX2ZiXCIgOiBcIlwiKVxuICAgIH0sXG4gICAgdmFsaWRTbG90Q29udGVudCB8fCAoZmFsbGJhY2sgPyBmYWxsYmFjaygpIDogW10pLFxuICAgIHZhbGlkU2xvdENvbnRlbnQgJiYgc2xvdHMuXyA9PT0gMSA/IDY0IDogLTJcbiAgKTtcbiAgaWYgKCFub1Nsb3R0ZWQgJiYgcmVuZGVyZWQuc2NvcGVJZCkge1xuICAgIHJlbmRlcmVkLnNsb3RTY29wZUlkcyA9IFtyZW5kZXJlZC5zY29wZUlkICsgXCItc1wiXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkO1xufVxuZnVuY3Rpb24gZW5zdXJlVmFsaWRWTm9kZSh2bm9kZXMpIHtcbiAgcmV0dXJuIHZub2Rlcy5zb21lKChjaGlsZCkgPT4ge1xuICAgIGlmICghaXNWTm9kZShjaGlsZCkpIHJldHVybiB0cnVlO1xuICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50ICYmICFlbnN1cmVWYWxpZFZOb2RlKGNoaWxkLmNoaWxkcmVuKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSkgPyB2bm9kZXMgOiBudWxsO1xufVxuXG5mdW5jdGlvbiB0b0hhbmRsZXJzKG9iaiwgcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChvYmopKSB7XG4gICAgd2FybiQxKGB2LW9uIHdpdGggbm8gYXJndW1lbnQgZXhwZWN0cyBhbiBvYmplY3QgdmFsdWUuYCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICByZXRbcHJlc2VydmVDYXNlSWZOZWNlc3NhcnkgJiYgL1tBLVpdLy50ZXN0KGtleSkgPyBgb246JHtrZXl9YCA6IHRvSGFuZGxlcktleShrZXkpXSA9IG9ialtrZXldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmNvbnN0IGdldFB1YmxpY0luc3RhbmNlID0gKGkpID0+IHtcbiAgaWYgKCFpKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlzU3RhdGVmdWxDb21wb25lbnQoaSkpIHJldHVybiBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShpKTtcbiAgcmV0dXJuIGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KTtcbn07XG5jb25zdCBwdWJsaWNQcm9wZXJ0aWVzTWFwID0gKFxuICAvLyBNb3ZlIFBVUkUgbWFya2VyIHRvIG5ldyBsaW5lIHRvIHdvcmthcm91bmQgY29tcGlsZXIgZGlzY2FyZGluZyBpdFxuICAvLyBkdWUgdG8gdHlwZSBhbm5vdGF0aW9uXG4gIC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHtcbiAgICAkOiAoaSkgPT4gaSxcbiAgICAkZWw6IChpKSA9PiBpLnZub2RlLmVsLFxuICAgICRkYXRhOiAoaSkgPT4gaS5kYXRhLFxuICAgICRwcm9wczogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5wcm9wcykgOiBpLnByb3BzLFxuICAgICRhdHRyczogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5hdHRycykgOiBpLmF0dHJzLFxuICAgICRzbG90czogKGkpID0+ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaS5zbG90cykgOiBpLnNsb3RzLFxuICAgICRyZWZzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnJlZnMpIDogaS5yZWZzLFxuICAgICRwYXJlbnQ6IChpKSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnBhcmVudCksXG4gICAgJHJvb3Q6IChpKSA9PiBnZXRQdWJsaWNJbnN0YW5jZShpLnJvb3QpLFxuICAgICRob3N0OiAoaSkgPT4gaS5jZSxcbiAgICAkZW1pdDogKGkpID0+IGkuZW1pdCxcbiAgICAkb3B0aW9uczogKGkpID0+IF9fVlVFX09QVElPTlNfQVBJX18gPyByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpKSA6IGkudHlwZSxcbiAgICAkZm9yY2VVcGRhdGU6IChpKSA9PiBpLmYgfHwgKGkuZiA9ICgpID0+IHtcbiAgICAgIHF1ZXVlSm9iKGkudXBkYXRlKTtcbiAgICB9KSxcbiAgICAkbmV4dFRpY2s6IChpKSA9PiBpLm4gfHwgKGkubiA9IG5leHRUaWNrLmJpbmQoaS5wcm94eSkpLFxuICAgICR3YXRjaDogKGkpID0+IF9fVlVFX09QVElPTlNfQVBJX18gPyBpbnN0YW5jZVdhdGNoLmJpbmQoaSkgOiBOT09QXG4gIH0pXG4pO1xuY29uc3QgaXNSZXNlcnZlZFByZWZpeCA9IChrZXkpID0+IGtleSA9PT0gXCJfXCIgfHwga2V5ID09PSBcIiRcIjtcbmNvbnN0IGhhc1NldHVwQmluZGluZyA9IChzdGF0ZSwga2V5KSA9PiBzdGF0ZSAhPT0gRU1QVFlfT0JKICYmICFzdGF0ZS5fX2lzU2NyaXB0U2V0dXAgJiYgaGFzT3duKHN0YXRlLCBrZXkpO1xuY29uc3QgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0ge1xuICBnZXQoeyBfOiBpbnN0YW5jZSB9LCBrZXkpIHtcbiAgICBpZiAoa2V5ID09PSBcIl9fdl9za2lwXCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IGN0eCwgc2V0dXBTdGF0ZSwgZGF0YSwgcHJvcHMsIGFjY2Vzc0NhY2hlLCB0eXBlLCBhcHBDb250ZXh0IH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgPT09IFwiX19pc1Z1ZVwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcbiAgICBpZiAoa2V5WzBdICE9PSBcIiRcIikge1xuICAgICAgY29uc3QgbiA9IGFjY2Vzc0NhY2hlW2tleV07XG4gICAgICBpZiAobiAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHN3aXRjaCAobikge1xuICAgICAgICAgIGNhc2UgMSAvKiBTRVRVUCAqLzpcbiAgICAgICAgICAgIHJldHVybiBzZXR1cFN0YXRlW2tleV07XG4gICAgICAgICAgY2FzZSAyIC8qIERBVEEgKi86XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICAgIGNhc2UgNCAvKiBDT05URVhUICovOlxuICAgICAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgICAgIGNhc2UgMyAvKiBQUk9QUyAqLzpcbiAgICAgICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAxIC8qIFNFVFVQICovO1xuICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgfSBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDIgLyogREFUQSAqLztcbiAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIC8vIG9ubHkgY2FjaGUgb3RoZXIgcHJvcGVydGllcyB3aGVuIGluc3RhbmNlIGhhcyBkZWNsYXJlZCAodGh1cyBzdGFibGUpXG4gICAgICAgIC8vIHByb3BzXG4gICAgICAgIChub3JtYWxpemVkUHJvcHMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pICYmIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSlcbiAgICAgICkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMyAvKiBQUk9QUyAqLztcbiAgICAgICAgcmV0dXJuIHByb3BzW2tleV07XG4gICAgICB9IGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDQgLyogQ09OVEVYVCAqLztcbiAgICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgICAgfSBlbHNlIGlmICghX19WVUVfT1BUSU9OU19BUElfXyB8fCBzaG91bGRDYWNoZUFjY2Vzcykge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMCAvKiBPVEhFUiAqLztcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcHVibGljR2V0dGVyID0gcHVibGljUHJvcGVydGllc01hcFtrZXldO1xuICAgIGxldCBjc3NNb2R1bGUsIGdsb2JhbFByb3BlcnRpZXM7XG4gICAgaWYgKHB1YmxpY0dldHRlcikge1xuICAgICAgaWYgKGtleSA9PT0gXCIkYXR0cnNcIikge1xuICAgICAgICB0cmFjayhpbnN0YW5jZS5hdHRycywgXCJnZXRcIiwgXCJcIik7XG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgPT09IFwiJHNsb3RzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UsIFwiZ2V0XCIsIGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHVibGljR2V0dGVyKGluc3RhbmNlKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgLy8gY3NzIG1vZHVsZSAoaW5qZWN0ZWQgYnkgdnVlLWxvYWRlcilcbiAgICAgIChjc3NNb2R1bGUgPSB0eXBlLl9fY3NzTW9kdWxlcykgJiYgKGNzc01vZHVsZSA9IGNzc01vZHVsZVtrZXldKVxuICAgICkge1xuICAgICAgcmV0dXJuIGNzc01vZHVsZTtcbiAgICB9IGVsc2UgaWYgKGN0eCAhPT0gRU1QVFlfT0JKICYmIGhhc093bihjdHgsIGtleSkpIHtcbiAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICByZXR1cm4gY3R4W2tleV07XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGdsb2JhbCBwcm9wZXJ0aWVzXG4gICAgICBnbG9iYWxQcm9wZXJ0aWVzID0gYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywgaGFzT3duKGdsb2JhbFByb3BlcnRpZXMsIGtleSlcbiAgICApIHtcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFByb3BlcnRpZXNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlICYmICghaXNTdHJpbmcoa2V5KSB8fCAvLyAjMTA5MSBhdm9pZCBpbnRlcm5hbCBpc1JlZi9pc1ZOb2RlIGNoZWNrcyBvbiBjb21wb25lbnQgaW5zdGFuY2UgbGVhZGluZ1xuICAgIC8vIHRvIGluZmluaXRlIHdhcm5pbmcgbG9vcFxuICAgIGtleS5pbmRleE9mKFwiX192XCIpICE9PSAwKSkge1xuICAgICAgaWYgKGRhdGEgIT09IEVNUFRZX09CSiAmJiBpc1Jlc2VydmVkUHJlZml4KGtleVswXSkgJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBQcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKX0gbXVzdCBiZSBhY2Nlc3NlZCB2aWEgJGRhdGEgYmVjYXVzZSBpdCBzdGFydHMgd2l0aCBhIHJlc2VydmVkIGNoYXJhY3RlciAoXCIkXCIgb3IgXCJfXCIpIGFuZCBpcyBub3QgcHJveGllZCBvbiB0aGUgcmVuZGVyIGNvbnRleHQuYFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpbnN0YW5jZSA9PT0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShrZXkpfSB3YXMgYWNjZXNzZWQgZHVyaW5nIHJlbmRlciBidXQgaXMgbm90IGRlZmluZWQgb24gaW5zdGFuY2UuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2V0KHsgXzogaW5zdGFuY2UgfSwga2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IHsgZGF0YSwgc2V0dXBTdGF0ZSwgY3R4IH0gPSBpbnN0YW5jZTtcbiAgICBpZiAoaGFzU2V0dXBCaW5kaW5nKHNldHVwU3RhdGUsIGtleSkpIHtcbiAgICAgIHNldHVwU3RhdGVba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICB3YXJuJDEoYENhbm5vdCBtdXRhdGUgPHNjcmlwdCBzZXR1cD4gYmluZGluZyBcIiR7a2V5fVwiIGZyb20gT3B0aW9ucyBBUEkuYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaGFzT3duKGRhdGEsIGtleSkpIHtcbiAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oaW5zdGFuY2UucHJvcHMsIGtleSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwcm9wIFwiJHtrZXl9XCIuIFByb3BzIGFyZSByZWFkb25seS5gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGtleVswXSA9PT0gXCIkXCIgJiYga2V5LnNsaWNlKDEpIGluIGluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYEF0dGVtcHRpbmcgdG8gbXV0YXRlIHB1YmxpYyBwcm9wZXJ0eSBcIiR7a2V5fVwiLiBQcm9wZXJ0aWVzIHN0YXJ0aW5nIHdpdGggJCBhcmUgcmVzZXJ2ZWQgYW5kIHJlYWRvbmx5LmBcbiAgICAgICk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGtleSBpbiBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5nbG9iYWxQcm9wZXJ0aWVzKSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGhhcyh7XG4gICAgXzogeyBkYXRhLCBzZXR1cFN0YXRlLCBhY2Nlc3NDYWNoZSwgY3R4LCBhcHBDb250ZXh0LCBwcm9wc09wdGlvbnMgfVxuICB9LCBrZXkpIHtcbiAgICBsZXQgbm9ybWFsaXplZFByb3BzO1xuICAgIHJldHVybiAhIWFjY2Vzc0NhY2hlW2tleV0gfHwgZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpIHx8IGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpIHx8IChub3JtYWxpemVkUHJvcHMgPSBwcm9wc09wdGlvbnNbMF0pICYmIGhhc093bihub3JtYWxpemVkUHJvcHMsIGtleSkgfHwgaGFzT3duKGN0eCwga2V5KSB8fCBoYXNPd24ocHVibGljUHJvcGVydGllc01hcCwga2V5KSB8fCBoYXNPd24oYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcywga2V5KTtcbiAgfSxcbiAgZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpIHtcbiAgICBpZiAoZGVzY3JpcHRvci5nZXQgIT0gbnVsbCkge1xuICAgICAgdGFyZ2V0Ll8uYWNjZXNzQ2FjaGVba2V5XSA9IDA7XG4gICAgfSBlbHNlIGlmIChoYXNPd24oZGVzY3JpcHRvciwgXCJ2YWx1ZVwiKSkge1xuICAgICAgdGhpcy5zZXQodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IudmFsdWUsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5vd25LZXlzID0gKHRhcmdldCkgPT4ge1xuICAgIHdhcm4kMShcbiAgICAgIGBBdm9pZCBhcHAgbG9naWMgdGhhdCByZWxpZXMgb24gZW51bWVyYXRpbmcga2V5cyBvbiBhIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhlIGtleXMgd2lsbCBiZSBlbXB0eSBpbiBwcm9kdWN0aW9uIG1vZGUgdG8gYXZvaWQgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQuYFxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9O1xufVxuY29uc3QgUnVudGltZUNvbXBpbGVkUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLCB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcbiAgfSxcbiAgaGFzKF8sIGtleSkge1xuICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gXCJfXCIgJiYgIWlzR2xvYmFsbHlBbGxvd2VkKGtleSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWhhcyAmJiBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMuaGFzKF8sIGtleSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAga2V5XG4gICAgICAgICl9IHNob3VsZCBub3Qgc3RhcnQgd2l0aCBfIHdoaWNoIGlzIGEgcmVzZXJ2ZWQgcHJlZml4IGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBoYXM7XG4gIH1cbn0pO1xuZnVuY3Rpb24gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgYF9gLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGdldDogKCkgPT4gaW5zdGFuY2VcbiAgfSk7XG4gIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXNNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6ICgpID0+IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSksXG4gICAgICAvLyBpbnRlcmNlcHRlZCBieSB0aGUgcHJveHkgc28gbm8gbmVlZCBmb3IgaW1wbGVtZW50YXRpb24sXG4gICAgICAvLyBidXQgbmVlZGVkIHRvIHByZXZlbnQgc2V0IGVycm9yc1xuICAgICAgc2V0OiBOT09QXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gZXhwb3NlUHJvcHNPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3Qge1xuICAgIGN0eCxcbiAgICBwcm9wc09wdGlvbnM6IFtwcm9wc09wdGlvbnNdXG4gIH0gPSBpbnN0YW5jZTtcbiAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgIE9iamVjdC5rZXlzKHByb3BzT3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUgfSA9IGluc3RhbmNlO1xuICBPYmplY3Qua2V5cyh0b1JhdyhzZXR1cFN0YXRlKSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKCFzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCkge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYHNldHVwKCkgcmV0dXJuIHByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXCIkXCIgb3IgXCJfXCIgd2hpY2ggYXJlIHJlc2VydmVkIHByZWZpeGVzIGZvciBWdWUgaW50ZXJuYWxzLmBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBzZXR1cFN0YXRlW2tleV0sXG4gICAgICAgIHNldDogTk9PUFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3Qgd2FyblJ1bnRpbWVVc2FnZSA9IChtZXRob2QpID0+IHdhcm4kMShcbiAgYCR7bWV0aG9kfSgpIGlzIGEgY29tcGlsZXItaGludCBoZWxwZXIgdGhhdCBpcyBvbmx5IHVzYWJsZSBpbnNpZGUgPHNjcmlwdCBzZXR1cD4gb2YgYSBzaW5nbGUgZmlsZSBjb21wb25lbnQuIEl0cyBhcmd1bWVudHMgc2hvdWxkIGJlIGNvbXBpbGVkIGF3YXkgYW5kIHBhc3NpbmcgaXQgYXQgcnVudGltZSBoYXMgbm8gZWZmZWN0LmBcbik7XG5mdW5jdGlvbiBkZWZpbmVQcm9wcygpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVQcm9wc2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gZGVmaW5lRW1pdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRW1pdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUV4cG9zZShleHBvc2VkKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lRXhwb3NlYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZU9wdGlvbnMob3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZU9wdGlvbnNgKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lU2xvdHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lU2xvdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZU1vZGVsKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoXCJkZWZpbmVNb2RlbFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gd2l0aERlZmF1bHRzKHByb3BzLCBkZWZhdWx0cykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYHdpdGhEZWZhdWx0c2ApO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2xvdHMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KCkuc2xvdHM7XG59XG5mdW5jdGlvbiB1c2VBdHRycygpIHtcbiAgcmV0dXJuIGdldENvbnRleHQoKS5hdHRycztcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYHVzZUNvbnRleHQoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gIH1cbiAgcmV0dXJuIGkuc2V0dXBDb250ZXh0IHx8IChpLnNldHVwQ29udGV4dCA9IGNyZWF0ZVNldHVwQ29udGV4dChpKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVQcm9wc09yRW1pdHMocHJvcHMpIHtcbiAgcmV0dXJuIGlzQXJyYXkocHJvcHMpID8gcHJvcHMucmVkdWNlKFxuICAgIChub3JtYWxpemVkLCBwKSA9PiAobm9ybWFsaXplZFtwXSA9IG51bGwsIG5vcm1hbGl6ZWQpLFxuICAgIHt9XG4gICkgOiBwcm9wcztcbn1cbmZ1bmN0aW9uIG1lcmdlRGVmYXVsdHMocmF3LCBkZWZhdWx0cykge1xuICBjb25zdCBwcm9wcyA9IG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhyYXcpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcIl9fc2tpcFwiKSkgY29udGludWU7XG4gICAgbGV0IG9wdCA9IHByb3BzW2tleV07XG4gICAgaWYgKG9wdCkge1xuICAgICAgaWYgKGlzQXJyYXkob3B0KSB8fCBpc0Z1bmN0aW9uKG9wdCkpIHtcbiAgICAgICAgb3B0ID0gcHJvcHNba2V5XSA9IHsgdHlwZTogb3B0LCBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHQuZGVmYXVsdCA9IGRlZmF1bHRzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvcHQgPT09IG51bGwpIHtcbiAgICAgIG9wdCA9IHByb3BzW2tleV0gPSB7IGRlZmF1bHQ6IGRlZmF1bHRzW2tleV0gfTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgcHJvcHMgZGVmYXVsdCBrZXkgXCIke2tleX1cIiBoYXMgbm8gY29ycmVzcG9uZGluZyBkZWNsYXJhdGlvbi5gKTtcbiAgICB9XG4gICAgaWYgKG9wdCAmJiBkZWZhdWx0c1tgX19za2lwXyR7a2V5fWBdKSB7XG4gICAgICBvcHQuc2tpcEZhY3RvcnkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBtZXJnZU1vZGVscyhhLCBiKSB7XG4gIGlmICghYSB8fCAhYikgcmV0dXJuIGEgfHwgYjtcbiAgaWYgKGlzQXJyYXkoYSkgJiYgaXNBcnJheShiKSkgcmV0dXJuIGEuY29uY2F0KGIpO1xuICByZXR1cm4gZXh0ZW5kKHt9LCBub3JtYWxpemVQcm9wc09yRW1pdHMoYSksIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyhiKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9wc1Jlc3RQcm94eShwcm9wcywgZXhjbHVkZWRLZXlzKSB7XG4gIGNvbnN0IHJldCA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgIGlmICghZXhjbHVkZWRLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXQsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IHByb3BzW2tleV1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gd2l0aEFzeW5jQ29udGV4dChnZXRBd2FpdGFibGUpIHtcbiAgY29uc3QgY3R4ID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjdHgpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgd2l0aEFzeW5jQ29udGV4dCBjYWxsZWQgd2l0aG91dCBhY3RpdmUgY3VycmVudCBpbnN0YW5jZS4gVGhpcyBpcyBsaWtlbHkgYSBidWcuYFxuICAgICk7XG4gIH1cbiAgbGV0IGF3YWl0YWJsZSA9IGdldEF3YWl0YWJsZSgpO1xuICB1bnNldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaXNQcm9taXNlKGF3YWl0YWJsZSkpIHtcbiAgICBhd2FpdGFibGUgPSBhd2FpdGFibGUuY2F0Y2goKGUpID0+IHtcbiAgICAgIHNldEN1cnJlbnRJbnN0YW5jZShjdHgpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW2F3YWl0YWJsZSwgKCkgPT4gc2V0Q3VycmVudEluc3RhbmNlKGN0eCldO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEdXBsaWNhdGVDaGVja2VyKCkge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHR5cGUsIGtleSkgPT4ge1xuICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICB3YXJuJDEoYCR7dHlwZX0gcHJvcGVydHkgXCIke2tleX1cIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gJHtjYWNoZVtrZXldfS5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVba2V5XSA9IHR5cGU7XG4gICAgfVxuICB9O1xufVxubGV0IHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbmZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaW5zdGFuY2UpO1xuICBjb25zdCBwdWJsaWNUaGlzID0gaW5zdGFuY2UucHJveHk7XG4gIGNvbnN0IGN0eCA9IGluc3RhbmNlLmN0eDtcbiAgc2hvdWxkQ2FjaGVBY2Nlc3MgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMuYmVmb3JlQ3JlYXRlKSB7XG4gICAgY2FsbEhvb2sob3B0aW9ucy5iZWZvcmVDcmVhdGUsIGluc3RhbmNlLCBcImJjXCIpO1xuICB9XG4gIGNvbnN0IHtcbiAgICAvLyBzdGF0ZVxuICAgIGRhdGE6IGRhdGFPcHRpb25zLFxuICAgIGNvbXB1dGVkOiBjb21wdXRlZE9wdGlvbnMsXG4gICAgbWV0aG9kcyxcbiAgICB3YXRjaDogd2F0Y2hPcHRpb25zLFxuICAgIHByb3ZpZGU6IHByb3ZpZGVPcHRpb25zLFxuICAgIGluamVjdDogaW5qZWN0T3B0aW9ucyxcbiAgICAvLyBsaWZlY3ljbGVcbiAgICBjcmVhdGVkLFxuICAgIGJlZm9yZU1vdW50LFxuICAgIG1vdW50ZWQsXG4gICAgYmVmb3JlVXBkYXRlLFxuICAgIHVwZGF0ZWQsXG4gICAgYWN0aXZhdGVkLFxuICAgIGRlYWN0aXZhdGVkLFxuICAgIGJlZm9yZURlc3Ryb3ksXG4gICAgYmVmb3JlVW5tb3VudCxcbiAgICBkZXN0cm95ZWQsXG4gICAgdW5tb3VudGVkLFxuICAgIHJlbmRlcixcbiAgICByZW5kZXJUcmFja2VkLFxuICAgIHJlbmRlclRyaWdnZXJlZCxcbiAgICBlcnJvckNhcHR1cmVkLFxuICAgIHNlcnZlclByZWZldGNoLFxuICAgIC8vIHB1YmxpYyBBUElcbiAgICBleHBvc2UsXG4gICAgaW5oZXJpdEF0dHJzLFxuICAgIC8vIGFzc2V0c1xuICAgIGNvbXBvbmVudHMsXG4gICAgZGlyZWN0aXZlcyxcbiAgICBmaWx0ZXJzXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIDogbnVsbDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBbcHJvcHNPcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgICBpZiAocHJvcHNPcHRpb25zKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wc09wdGlvbnMpIHtcbiAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiUHJvcHNcIiAvKiBQUk9QUyAqLywga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGluamVjdE9wdGlvbnMpIHtcbiAgICByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyk7XG4gIH1cbiAgaWYgKG1ldGhvZHMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICBjb25zdCBtZXRob2RIYW5kbGVyID0gbWV0aG9kc1trZXldO1xuICAgICAgaWYgKGlzRnVuY3Rpb24obWV0aG9kSGFuZGxlcikpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICAgIHZhbHVlOiBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyksXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHhba2V5XSA9IG1ldGhvZEhhbmRsZXIuYmluZChwdWJsaWNUaGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIk1ldGhvZHNcIiAvKiBNRVRIT0RTICovLCBrZXkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBNZXRob2QgXCIke2tleX1cIiBoYXMgdHlwZSBcIiR7dHlwZW9mIG1ldGhvZEhhbmRsZXJ9XCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P2BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGRhdGFPcHRpb25zKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oZGF0YU9wdGlvbnMpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBUaGUgZGF0YSBvcHRpb24gbXVzdCBiZSBhIGZ1bmN0aW9uLiBQbGFpbiBvYmplY3QgdXNhZ2UgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gZGF0YU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc1Byb21pc2UoZGF0YSkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYGRhdGEoKSByZXR1cm5lZCBhIFByb21pc2UgLSBub3RlIGRhdGEoKSBjYW5ub3QgYmUgYXN5bmM7IElmIHlvdSBpbnRlbmQgdG8gcGVyZm9ybSBkYXRhIGZldGNoaW5nIGJlZm9yZSBjb21wb25lbnQgcmVuZGVycywgdXNlIGFzeW5jIHNldHVwKCkgKyA8U3VzcGVuc2U+LmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBkYXRhKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmRhdGEgPSByZWFjdGl2ZShkYXRhKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJEYXRhXCIgLyogREFUQSAqLywga2V5KTtcbiAgICAgICAgICBpZiAoIWlzUmVzZXJ2ZWRQcmVmaXgoa2V5WzBdKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBkYXRhW2tleV0sXG4gICAgICAgICAgICAgIHNldDogTk9PUFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHNob3VsZENhY2hlQWNjZXNzID0gdHJ1ZTtcbiAgaWYgKGNvbXB1dGVkT3B0aW9ucykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGNvbXB1dGVkT3B0aW9ucykge1xuICAgICAgY29uc3Qgb3B0ID0gY29tcHV0ZWRPcHRpb25zW2tleV07XG4gICAgICBjb25zdCBnZXQgPSBpc0Z1bmN0aW9uKG9wdCkgPyBvcHQuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKSA6IGlzRnVuY3Rpb24ob3B0LmdldCkgPyBvcHQuZ2V0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcykgOiBOT09QO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZ2V0ID09PSBOT09QKSB7XG4gICAgICAgIHdhcm4kMShgQ29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBoYXMgbm8gZ2V0dGVyLmApO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2V0ID0gIWlzRnVuY3Rpb24ob3B0KSAmJiBpc0Z1bmN0aW9uKG9wdC5zZXQpID8gb3B0LnNldC5iaW5kKHB1YmxpY1RoaXMpIDogISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/ICgpID0+IHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBXcml0ZSBvcGVyYXRpb24gZmFpbGVkOiBjb21wdXRlZCBwcm9wZXJ0eSBcIiR7a2V5fVwiIGlzIHJlYWRvbmx5LmBcbiAgICAgICAgKTtcbiAgICAgIH0gOiBOT09QO1xuICAgICAgY29uc3QgYyA9IGNvbXB1dGVkKHtcbiAgICAgICAgZ2V0LFxuICAgICAgICBzZXRcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBjLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBjLnZhbHVlID0gdlxuICAgICAgfSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJDb21wdXRlZFwiIC8qIENPTVBVVEVEICovLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAod2F0Y2hPcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gd2F0Y2hPcHRpb25zKSB7XG4gICAgICBjcmVhdGVXYXRjaGVyKHdhdGNoT3B0aW9uc1trZXldLCBjdHgsIHB1YmxpY1RoaXMsIGtleSk7XG4gICAgfVxuICB9XG4gIGlmIChwcm92aWRlT3B0aW9ucykge1xuICAgIGNvbnN0IHByb3ZpZGVzID0gaXNGdW5jdGlvbihwcm92aWRlT3B0aW9ucykgPyBwcm92aWRlT3B0aW9ucy5jYWxsKHB1YmxpY1RoaXMpIDogcHJvdmlkZU9wdGlvbnM7XG4gICAgUmVmbGVjdC5vd25LZXlzKHByb3ZpZGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIHByb3ZpZGUoa2V5LCBwcm92aWRlc1trZXldKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoY3JlYXRlZCkge1xuICAgIGNhbGxIb29rKGNyZWF0ZWQsIGluc3RhbmNlLCBcImNcIik7XG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJMaWZlY3ljbGVIb29rKHJlZ2lzdGVyLCBob29rKSB7XG4gICAgaWYgKGlzQXJyYXkoaG9vaykpIHtcbiAgICAgIGhvb2suZm9yRWFjaCgoX2hvb2spID0+IHJlZ2lzdGVyKF9ob29rLmJpbmQocHVibGljVGhpcykpKTtcbiAgICB9IGVsc2UgaWYgKGhvb2spIHtcbiAgICAgIHJlZ2lzdGVyKGhvb2suYmluZChwdWJsaWNUaGlzKSk7XG4gICAgfVxuICB9XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkJlZm9yZU1vdW50LCBiZWZvcmVNb3VudCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbk1vdW50ZWQsIG1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVcGRhdGUsIGJlZm9yZVVwZGF0ZSk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVwZGF0ZWQsIHVwZGF0ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25BY3RpdmF0ZWQsIGFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkRlYWN0aXZhdGVkLCBkZWFjdGl2YXRlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvbkVycm9yQ2FwdHVyZWQsIGVycm9yQ2FwdHVyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25SZW5kZXJUcmFja2VkLCByZW5kZXJUcmFja2VkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJpZ2dlcmVkLCByZW5kZXJUcmlnZ2VyZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVVbm1vdW50LCBiZWZvcmVVbm1vdW50KTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uVW5tb3VudGVkLCB1bm1vdW50ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25TZXJ2ZXJQcmVmZXRjaCwgc2VydmVyUHJlZmV0Y2gpO1xuICBpZiAoaXNBcnJheShleHBvc2UpKSB7XG4gICAgaWYgKGV4cG9zZS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGV4cG9zZWQgPSBpbnN0YW5jZS5leHBvc2VkIHx8IChpbnN0YW5jZS5leHBvc2VkID0ge30pO1xuICAgICAgZXhwb3NlLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3NlZCwga2V5LCB7XG4gICAgICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNUaGlzW2tleV0sXG4gICAgICAgICAgc2V0OiAodmFsKSA9PiBwdWJsaWNUaGlzW2tleV0gPSB2YWxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgICBpbnN0YW5jZS5leHBvc2VkID0ge307XG4gICAgfVxuICB9XG4gIGlmIChyZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QKSB7XG4gICAgaW5zdGFuY2UucmVuZGVyID0gcmVuZGVyO1xuICB9XG4gIGlmIChpbmhlcml0QXR0cnMgIT0gbnVsbCkge1xuICAgIGluc3RhbmNlLmluaGVyaXRBdHRycyA9IGluaGVyaXRBdHRycztcbiAgfVxuICBpZiAoY29tcG9uZW50cykgaW5zdGFuY2UuY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gIGlmIChkaXJlY3RpdmVzKSBpbnN0YW5jZS5kaXJlY3RpdmVzID0gZGlyZWN0aXZlcztcbiAgaWYgKHNlcnZlclByZWZldGNoKSB7XG4gICAgbWFya0FzeW5jQm91bmRhcnkoaW5zdGFuY2UpO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IE5PT1ApIHtcbiAgaWYgKGlzQXJyYXkoaW5qZWN0T3B0aW9ucykpIHtcbiAgICBpbmplY3RPcHRpb25zID0gbm9ybWFsaXplSW5qZWN0KGluamVjdE9wdGlvbnMpO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XG4gICAgbGV0IGluamVjdGVkO1xuICAgIGlmIChpc09iamVjdChvcHQpKSB7XG4gICAgICBpZiAoXCJkZWZhdWx0XCIgaW4gb3B0KSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KFxuICAgICAgICAgIG9wdC5mcm9tIHx8IGtleSxcbiAgICAgICAgICBvcHQuZGVmYXVsdCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmplY3RlZCA9IGluamVjdChvcHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWYoaW5qZWN0ZWQpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluamVjdGVkLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBpbmplY3RlZC52YWx1ZSA9IHZcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHhba2V5XSA9IGluamVjdGVkO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2FsbEhvb2soaG9vaywgaW5zdGFuY2UsIHR5cGUpIHtcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgaXNBcnJheShob29rKSA/IGhvb2subWFwKChoKSA9PiBoLmJpbmQoaW5zdGFuY2UucHJveHkpKSA6IGhvb2suYmluZChpbnN0YW5jZS5wcm94eSksXG4gICAgaW5zdGFuY2UsXG4gICAgdHlwZVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XG4gIGxldCBnZXR0ZXIgPSBrZXkuaW5jbHVkZXMoXCIuXCIpID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBrZXkpIDogKCkgPT4gcHVibGljVGhpc1trZXldO1xuICBpZiAoaXNTdHJpbmcocmF3KSkge1xuICAgIGNvbnN0IGhhbmRsZXIgPSBjdHhbcmF3XTtcbiAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAge1xuICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xuICAgIHtcbiAgICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChyYXcpKSB7XG4gICAgaWYgKGlzQXJyYXkocmF3KSkge1xuICAgICAgcmF3LmZvckVhY2goKHIpID0+IGNyZWF0ZVdhdGNoZXIociwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaGFuZGxlciA9IGlzRnVuY3Rpb24ocmF3LmhhbmRsZXIpID8gcmF3LmhhbmRsZXIuYmluZChwdWJsaWNUaGlzKSA6IGN0eFtyYXcuaGFuZGxlcl07XG4gICAgICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIsIHJhdyk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3LmhhbmRsZXJ9XCJgLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgSW52YWxpZCB3YXRjaCBvcHRpb246IFwiJHtrZXl9XCJgLCByYXcpO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkge1xuICBjb25zdCBiYXNlID0gaW5zdGFuY2UudHlwZTtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBiYXNlO1xuICBjb25zdCB7XG4gICAgbWl4aW5zOiBnbG9iYWxNaXhpbnMsXG4gICAgb3B0aW9uc0NhY2hlOiBjYWNoZSxcbiAgICBjb25maWc6IHsgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzIH1cbiAgfSA9IGluc3RhbmNlLmFwcENvbnRleHQ7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChiYXNlKTtcbiAgbGV0IHJlc29sdmVkO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmVzb2x2ZWQgPSBjYWNoZWQ7XG4gIH0gZWxzZSBpZiAoIWdsb2JhbE1peGlucy5sZW5ndGggJiYgIW1peGlucyAmJiAhZXh0ZW5kc09wdGlvbnMpIHtcbiAgICB7XG4gICAgICByZXNvbHZlZCA9IGJhc2U7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlc29sdmVkID0ge307XG4gICAgaWYgKGdsb2JhbE1peGlucy5sZW5ndGgpIHtcbiAgICAgIGdsb2JhbE1peGlucy5mb3JFYWNoKFxuICAgICAgICAobSkgPT4gbWVyZ2VPcHRpb25zKHJlc29sdmVkLCBtLCBvcHRpb25NZXJnZVN0cmF0ZWdpZXMsIHRydWUpXG4gICAgICApO1xuICAgIH1cbiAgICBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIGJhc2UsIG9wdGlvbk1lcmdlU3RyYXRlZ2llcyk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGJhc2UpKSB7XG4gICAgY2FjaGUuc2V0KGJhc2UsIHJlc29sdmVkKTtcbiAgfVxuICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5mdW5jdGlvbiBtZXJnZU9wdGlvbnModG8sIGZyb20sIHN0cmF0cywgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IHsgbWl4aW5zLCBleHRlbmRzOiBleHRlbmRzT3B0aW9ucyB9ID0gZnJvbTtcbiAgaWYgKGV4dGVuZHNPcHRpb25zKSB7XG4gICAgbWVyZ2VPcHRpb25zKHRvLCBleHRlbmRzT3B0aW9ucywgc3RyYXRzLCB0cnVlKTtcbiAgfVxuICBpZiAobWl4aW5zKSB7XG4gICAgbWl4aW5zLmZvckVhY2goXG4gICAgICAobSkgPT4gbWVyZ2VPcHRpb25zKHRvLCBtLCBzdHJhdHMsIHRydWUpXG4gICAgKTtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgaWYgKGFzTWl4aW4gJiYga2V5ID09PSBcImV4cG9zZVwiKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShcbiAgICAgICAgYFwiZXhwb3NlXCIgb3B0aW9uIGlzIGlnbm9yZWQgd2hlbiBkZWNsYXJlZCBpbiBtaXhpbnMgb3IgZXh0ZW5kcy4gSXQgc2hvdWxkIG9ubHkgYmUgZGVjbGFyZWQgaW4gdGhlIGJhc2UgY29tcG9uZW50IGl0c2VsZi5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdHJhdCA9IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHNba2V5XSB8fCBzdHJhdHMgJiYgc3RyYXRzW2tleV07XG4gICAgICB0b1trZXldID0gc3RyYXQgPyBzdHJhdCh0b1trZXldLCBmcm9tW2tleV0pIDogZnJvbVtrZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG87XG59XG5jb25zdCBpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzID0ge1xuICBkYXRhOiBtZXJnZURhdGFGbixcbiAgcHJvcHM6IG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyxcbiAgZW1pdHM6IG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyxcbiAgLy8gb2JqZWN0c1xuICBtZXRob2RzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIGNvbXB1dGVkOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIC8vIGxpZmVjeWNsZVxuICBiZWZvcmVDcmVhdGU6IG1lcmdlQXNBcnJheSxcbiAgY3JlYXRlZDogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVNb3VudDogbWVyZ2VBc0FycmF5LFxuICBtb3VudGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZVVwZGF0ZTogbWVyZ2VBc0FycmF5LFxuICB1cGRhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZURlc3Ryb3k6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVW5tb3VudDogbWVyZ2VBc0FycmF5LFxuICBkZXN0cm95ZWQ6IG1lcmdlQXNBcnJheSxcbiAgdW5tb3VudGVkOiBtZXJnZUFzQXJyYXksXG4gIGFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxuICBkZWFjdGl2YXRlZDogbWVyZ2VBc0FycmF5LFxuICBlcnJvckNhcHR1cmVkOiBtZXJnZUFzQXJyYXksXG4gIHNlcnZlclByZWZldGNoOiBtZXJnZUFzQXJyYXksXG4gIC8vIGFzc2V0c1xuICBjb21wb25lbnRzOiBtZXJnZU9iamVjdE9wdGlvbnMsXG4gIGRpcmVjdGl2ZXM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gd2F0Y2hcbiAgd2F0Y2g6IG1lcmdlV2F0Y2hPcHRpb25zLFxuICAvLyBwcm92aWRlIC8gaW5qZWN0XG4gIHByb3ZpZGU6IG1lcmdlRGF0YUZuLFxuICBpbmplY3Q6IG1lcmdlSW5qZWN0XG59O1xuZnVuY3Rpb24gbWVyZ2VEYXRhRm4odG8sIGZyb20pIHtcbiAgaWYgKCFmcm9tKSB7XG4gICAgcmV0dXJuIHRvO1xuICB9XG4gIGlmICghdG8pIHtcbiAgICByZXR1cm4gZnJvbTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkRGF0YUZuKCkge1xuICAgIHJldHVybiAoZXh0ZW5kKShcbiAgICAgIGlzRnVuY3Rpb24odG8pID8gdG8uY2FsbCh0aGlzLCB0aGlzKSA6IHRvLFxuICAgICAgaXNGdW5jdGlvbihmcm9tKSA/IGZyb20uY2FsbCh0aGlzLCB0aGlzKSA6IGZyb21cbiAgICApO1xuICB9O1xufVxuZnVuY3Rpb24gbWVyZ2VJbmplY3QodG8sIGZyb20pIHtcbiAgcmV0dXJuIG1lcmdlT2JqZWN0T3B0aW9ucyhub3JtYWxpemVJbmplY3QodG8pLCBub3JtYWxpemVJbmplY3QoZnJvbSkpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplSW5qZWN0KHJhdykge1xuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc1tyYXdbaV1dID0gcmF3W2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIHJldHVybiByYXc7XG59XG5mdW5jdGlvbiBtZXJnZUFzQXJyYXkodG8sIGZyb20pIHtcbiAgcmV0dXJuIHRvID8gWy4uLm5ldyBTZXQoW10uY29uY2F0KHRvLCBmcm9tKSldIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0T3B0aW9ucyh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBleHRlbmQoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHRvLCBmcm9tKSA6IGZyb207XG59XG5mdW5jdGlvbiBtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnModG8sIGZyb20pIHtcbiAgaWYgKHRvKSB7XG4gICAgaWYgKGlzQXJyYXkodG8pICYmIGlzQXJyYXkoZnJvbSkpIHtcbiAgICAgIHJldHVybiBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLnRvLCAuLi5mcm9tXSldO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5kKFxuICAgICAgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHModG8pLFxuICAgICAgbm9ybWFsaXplUHJvcHNPckVtaXRzKGZyb20gIT0gbnVsbCA/IGZyb20gOiB7fSlcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG59XG5mdW5jdGlvbiBtZXJnZVdhdGNoT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAoIXRvKSByZXR1cm4gZnJvbTtcbiAgaWYgKCFmcm9tKSByZXR1cm4gdG87XG4gIGNvbnN0IG1lcmdlZCA9IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8pO1xuICBmb3IgKGNvbnN0IGtleSBpbiBmcm9tKSB7XG4gICAgbWVyZ2VkW2tleV0gPSBtZXJnZUFzQXJyYXkodG9ba2V5XSwgZnJvbVtrZXldKTtcbiAgfVxuICByZXR1cm4gbWVyZ2VkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVBcHBDb250ZXh0KCkge1xuICByZXR1cm4ge1xuICAgIGFwcDogbnVsbCxcbiAgICBjb25maWc6IHtcbiAgICAgIGlzTmF0aXZlVGFnOiBOTyxcbiAgICAgIHBlcmZvcm1hbmNlOiBmYWxzZSxcbiAgICAgIGdsb2JhbFByb3BlcnRpZXM6IHt9LFxuICAgICAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiB7fSxcbiAgICAgIGVycm9ySGFuZGxlcjogdm9pZCAwLFxuICAgICAgd2FybkhhbmRsZXI6IHZvaWQgMCxcbiAgICAgIGNvbXBpbGVyT3B0aW9uczoge31cbiAgICB9LFxuICAgIG1peGluczogW10sXG4gICAgY29tcG9uZW50czoge30sXG4gICAgZGlyZWN0aXZlczoge30sXG4gICAgcHJvdmlkZXM6IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgIG9wdGlvbnNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgcHJvcHNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgZW1pdHNDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKClcbiAgfTtcbn1cbmxldCB1aWQkMSA9IDA7XG5mdW5jdGlvbiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVBcHAocm9vdENvbXBvbmVudCwgcm9vdFByb3BzID0gbnVsbCkge1xuICAgIGlmICghaXNGdW5jdGlvbihyb290Q29tcG9uZW50KSkge1xuICAgICAgcm9vdENvbXBvbmVudCA9IGV4dGVuZCh7fSwgcm9vdENvbXBvbmVudCk7XG4gICAgfVxuICAgIGlmIChyb290UHJvcHMgIT0gbnVsbCAmJiAhaXNPYmplY3Qocm9vdFByb3BzKSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoYHJvb3QgcHJvcHMgcGFzc2VkIHRvIGFwcC5tb3VudCgpIG11c3QgYmUgYW4gb2JqZWN0LmApO1xuICAgICAgcm9vdFByb3BzID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IGNyZWF0ZUFwcENvbnRleHQoKTtcbiAgICBjb25zdCBpbnN0YWxsZWRQbHVnaW5zID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG4gICAgY29uc3QgcGx1Z2luQ2xlYW51cEZucyA9IFtdO1xuICAgIGxldCBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBhcHAgPSBjb250ZXh0LmFwcCA9IHtcbiAgICAgIF91aWQ6IHVpZCQxKyssXG4gICAgICBfY29tcG9uZW50OiByb290Q29tcG9uZW50LFxuICAgICAgX3Byb3BzOiByb290UHJvcHMsXG4gICAgICBfY29udGFpbmVyOiBudWxsLFxuICAgICAgX2NvbnRleHQ6IGNvbnRleHQsXG4gICAgICBfaW5zdGFuY2U6IG51bGwsXG4gICAgICB2ZXJzaW9uLFxuICAgICAgZ2V0IGNvbmZpZygpIHtcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuY29uZmlnO1xuICAgICAgfSxcbiAgICAgIHNldCBjb25maWcodikge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBhcHAuY29uZmlnIGNhbm5vdCBiZSByZXBsYWNlZC4gTW9kaWZ5IGluZGl2aWR1YWwgb3B0aW9ucyBpbnN0ZWFkLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlKHBsdWdpbiwgLi4ub3B0aW9ucykge1xuICAgICAgICBpZiAoaW5zdGFsbGVkUGx1Z2lucy5oYXMocGx1Z2luKSkge1xuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKGBQbHVnaW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH0gZWxzZSBpZiAocGx1Z2luICYmIGlzRnVuY3Rpb24ocGx1Z2luLmluc3RhbGwpKSB7XG4gICAgICAgICAgaW5zdGFsbGVkUGx1Z2lucy5hZGQocGx1Z2luKTtcbiAgICAgICAgICBwbHVnaW4uaW5zdGFsbChhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocGx1Z2luKSkge1xuICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgcGx1Z2luKGFwcCwgLi4ub3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBIHBsdWdpbiBtdXN0IGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCB3aXRoIGFuIFwiaW5zdGFsbFwiIGZ1bmN0aW9uLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgbWl4aW4obWl4aW4pIHtcbiAgICAgICAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18pIHtcbiAgICAgICAgICBpZiAoIWNvbnRleHQubWl4aW5zLmluY2x1ZGVzKG1peGluKSkge1xuICAgICAgICAgICAgY29udGV4dC5taXhpbnMucHVzaChtaXhpbik7XG4gICAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIFwiTWl4aW4gaGFzIGFscmVhZHkgYmVlbiBhcHBsaWVkIHRvIHRhcmdldCBhcHBcIiArIChtaXhpbi5uYW1lID8gYDogJHttaXhpbi5uYW1lfWAgOiBcIlwiKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcIk1peGlucyBhcmUgb25seSBhdmFpbGFibGUgaW4gYnVpbGRzIHN1cHBvcnRpbmcgT3B0aW9ucyBBUElcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBjb21wb25lbnQobmFtZSwgY29tcG9uZW50KSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIGNvbnRleHQuY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0LmNvbXBvbmVudHNbbmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29udGV4dC5jb21wb25lbnRzW25hbWVdKSB7XG4gICAgICAgICAgd2FybiQxKGBDb21wb25lbnQgXCIke25hbWV9XCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIGluIHRhcmdldCBhcHAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIGRpcmVjdGl2ZShuYW1lLCBkaXJlY3RpdmUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkaXJlY3RpdmUpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5kaXJlY3RpdmVzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSkge1xuICAgICAgICAgIHdhcm4kMShgRGlyZWN0aXZlIFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXSA9IGRpcmVjdGl2ZTtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBtb3VudChyb290Q29udGFpbmVyLCBpc0h5ZHJhdGUsIG5hbWVzcGFjZSkge1xuICAgICAgICBpZiAoIWlzTW91bnRlZCkge1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJvb3RDb250YWluZXIuX192dWVfYXBwX18pIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYFRoZXJlIGlzIGFscmVhZHkgYW4gYXBwIGluc3RhbmNlIG1vdW50ZWQgb24gdGhlIGhvc3QgY29udGFpbmVyLlxuIElmIHlvdSB3YW50IHRvIG1vdW50IGFub3RoZXIgYXBwIG9uIHRoZSBzYW1lIGhvc3QgY29udGFpbmVyLCB5b3UgbmVlZCB0byB1bm1vdW50IHRoZSBwcmV2aW91cyBhcHAgYnkgY2FsbGluZyBcXGBhcHAudW5tb3VudCgpXFxgIGZpcnN0LmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHZub2RlID0gYXBwLl9jZVZOb2RlIHx8IGNyZWF0ZVZOb2RlKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyk7XG4gICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICAgICAgICAgICAgY2xvbmVkLmVsID0gbnVsbDtcbiAgICAgICAgICAgICAgcmVuZGVyKGNsb25lZCwgcm9vdENvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xuICAgICAgICAgICAgaHlkcmF0ZSh2bm9kZSwgcm9vdENvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XG4gICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKHZub2RlLmNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBcHAgaGFzIGFscmVhZHkgYmVlbiBtb3VudGVkLlxuSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24gYW5kIGNyZWF0ZSBmcmVzaCBhcHAgaW5zdGFuY2VzIGZvciBlYWNoIG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvblVubW91bnQoY2xlYW51cEZuKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHR5cGVvZiBjbGVhbnVwRm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHBlY3RlZCBmdW5jdGlvbiBhcyBmaXJzdCBhcmd1bWVudCB0byBhcHAub25Vbm1vdW50KCksIGJ1dCBnb3QgJHt0eXBlb2YgY2xlYW51cEZufWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHBsdWdpbkNsZWFudXBGbnMucHVzaChjbGVhbnVwRm4pO1xuICAgICAgfSxcbiAgICAgIHVubW91bnQoKSB7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgICAgICAgIHBsdWdpbkNsZWFudXBGbnMsXG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlLFxuICAgICAgICAgICAgMTZcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlbmRlcihudWxsLCBhcHAuX2NvbnRhaW5lcik7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgICBhcHAuX2luc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgIGRldnRvb2xzVW5tb3VudEFwcChhcHApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgYXBwLl9jb250YWluZXIuX192dWVfYXBwX187XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShgQ2Fubm90IHVubW91bnQgYW4gYXBwIHRoYXQgaXMgbm90IG1vdW50ZWQuYCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5IGluIGNvbnRleHQucHJvdmlkZXMpIHtcbiAgICAgICAgICBpZiAoaGFzT3duKGNvbnRleHQucHJvdmlkZXMsIGtleSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEFwcCBhbHJlYWR5IHByb3ZpZGVzIHByb3BlcnR5IHdpdGgga2V5IFwiJHtTdHJpbmcoa2V5KX1cIi4gSXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIHRoZSBuZXcgdmFsdWUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgQXBwIGFscmVhZHkgcHJvdmlkZXMgcHJvcGVydHkgd2l0aCBrZXkgXCIke1N0cmluZyhrZXkpfVwiIGluaGVyaXRlZCBmcm9tIGl0cyBwYXJlbnQgZWxlbWVudC4gSXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIHRoZSBuZXcgdmFsdWUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5wcm92aWRlc1trZXldID0gdmFsdWU7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgcnVuV2l0aENvbnRleHQoZm4pIHtcbiAgICAgICAgY29uc3QgbGFzdEFwcCA9IGN1cnJlbnRBcHA7XG4gICAgICAgIGN1cnJlbnRBcHAgPSBhcHA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY3VycmVudEFwcCA9IGxhc3RBcHA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBhcHA7XG4gIH07XG59XG5sZXQgY3VycmVudEFwcCA9IG51bGw7XG5cbmZ1bmN0aW9uIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICBpZiAoIWN1cnJlbnRJbnN0YW5jZSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYHByb3ZpZGUoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpLmApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXM7XG4gICAgY29uc3QgcGFyZW50UHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucGFyZW50ICYmIGN1cnJlbnRJbnN0YW5jZS5wYXJlbnQucHJvdmlkZXM7XG4gICAgaWYgKHBhcmVudFByb3ZpZGVzID09PSBwcm92aWRlcykge1xuICAgICAgcHJvdmlkZXMgPSBjdXJyZW50SW5zdGFuY2UucHJvdmlkZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFByb3ZpZGVzKTtcbiAgICB9XG4gICAgcHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBpbmplY3Qoa2V5LCBkZWZhdWx0VmFsdWUsIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSA9IGZhbHNlKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgaWYgKGluc3RhbmNlIHx8IGN1cnJlbnRBcHApIHtcbiAgICBsZXQgcHJvdmlkZXMgPSBjdXJyZW50QXBwID8gY3VycmVudEFwcC5fY29udGV4dC5wcm92aWRlcyA6IGluc3RhbmNlID8gaW5zdGFuY2UucGFyZW50ID09IG51bGwgfHwgaW5zdGFuY2UuY2UgPyBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0ICYmIGluc3RhbmNlLnZub2RlLmFwcENvbnRleHQucHJvdmlkZXMgOiBpbnN0YW5jZS5wYXJlbnQucHJvdmlkZXMgOiB2b2lkIDA7XG4gICAgaWYgKHByb3ZpZGVzICYmIGtleSBpbiBwcm92aWRlcykge1xuICAgICAgcmV0dXJuIHByb3ZpZGVzW2tleV07XG4gICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIHRyZWF0RGVmYXVsdEFzRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkgPyBkZWZhdWx0VmFsdWUuY2FsbChpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYGluamVjdGlvbiBcIiR7U3RyaW5nKGtleSl9XCIgbm90IGZvdW5kLmApO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBpbmplY3QoKSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSBzZXR1cCgpIG9yIGZ1bmN0aW9uYWwgY29tcG9uZW50cy5gKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzSW5qZWN0aW9uQ29udGV4dCgpIHtcbiAgcmV0dXJuICEhKGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfHwgY3VycmVudEFwcCk7XG59XG5cbmNvbnN0IGludGVybmFsT2JqZWN0UHJvdG8gPSB7fTtcbmNvbnN0IGNyZWF0ZUludGVybmFsT2JqZWN0ID0gKCkgPT4gT2JqZWN0LmNyZWF0ZShpbnRlcm5hbE9iamVjdFByb3RvKTtcbmNvbnN0IGlzSW50ZXJuYWxPYmplY3QgPSAob2JqKSA9PiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gaW50ZXJuYWxPYmplY3RQcm90bztcblxuZnVuY3Rpb24gaW5pdFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IgPSBmYWxzZSkge1xuICBjb25zdCBwcm9wcyA9IHt9O1xuICBjb25zdCBhdHRycyA9IGNyZWF0ZUludGVybmFsT2JqZWN0KCk7XG4gIGluc3RhbmNlLnByb3BzRGVmYXVsdHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgcHJvcHNba2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG4gIGlmIChpc1N0YXRlZnVsKSB7XG4gICAgaW5zdGFuY2UucHJvcHMgPSBpc1NTUiA/IHByb3BzIDogc2hhbGxvd1JlYWN0aXZlKHByb3BzKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIWluc3RhbmNlLnR5cGUucHJvcHMpIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gcHJvcHM7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmF0dHJzID0gYXR0cnM7XG59XG5mdW5jdGlvbiBpc0luSG1yQ29udGV4dChpbnN0YW5jZSkge1xuICB3aGlsZSAoaW5zdGFuY2UpIHtcbiAgICBpZiAoaW5zdGFuY2UudHlwZS5fX2htcklkKSByZXR1cm4gdHJ1ZTtcbiAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnBhcmVudDtcbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCByYXdQcmV2UHJvcHMsIG9wdGltaXplZCkge1xuICBjb25zdCB7XG4gICAgcHJvcHMsXG4gICAgYXR0cnMsXG4gICAgdm5vZGU6IHsgcGF0Y2hGbGFnIH1cbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCByYXdDdXJyZW50UHJvcHMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IFtvcHRpb25zXSA9IGluc3RhbmNlLnByb3BzT3B0aW9ucztcbiAgbGV0IGhhc0F0dHJzQ2hhbmdlZCA9IGZhbHNlO1xuICBpZiAoXG4gICAgLy8gYWx3YXlzIGZvcmNlIGZ1bGwgZGlmZiBpbiBkZXZcbiAgICAvLyAtICMxOTQyIGlmIGhtciBpcyBlbmFibGVkIHdpdGggc2ZjIGNvbXBvbmVudFxuICAgIC8vIC0gdml0ZSM4NzIgbm9uLXNmYyBjb21wb25lbnQgdXNlZCBieSBzZmMgY29tcG9uZW50XG4gICAgISghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSkgJiYgKG9wdGltaXplZCB8fCBwYXRjaEZsYWcgPiAwKSAmJiAhKHBhdGNoRmxhZyAmIDE2KVxuICApIHtcbiAgICBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IGluc3RhbmNlLnZub2RlLmR5bmFtaWNQcm9wcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHNUb1VwZGF0ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQga2V5ID0gcHJvcHNUb1VwZGF0ZVtpXTtcbiAgICAgICAgaWYgKGlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gcmF3UHJvcHNba2V5XTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoaGFzT3duKGF0dHJzLCBrZXkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpO1xuICAgICAgICAgICAgcHJvcHNbY2FtZWxpemVkS2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAgICAgICAgY2FtZWxpemVkS2V5LFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICAgIGF0dHJzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpKSB7XG4gICAgICBoYXNBdHRyc0NoYW5nZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQga2ViYWJLZXk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBpZiAoIXJhd1Byb3BzIHx8IC8vIGZvciBjYW1lbENhc2VcbiAgICAgICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgLy8gaXQncyBwb3NzaWJsZSB0aGUgb3JpZ2luYWwgcHJvcHMgd2FzIHBhc3NlZCBpbiBhcyBrZWJhYi1jYXNlXG4gICAgICAvLyBhbmQgY29udmVydGVkIHRvIGNhbWVsQ2FzZSAoIzk1NSlcbiAgICAgICgoa2ViYWJLZXkgPSBoeXBoZW5hdGUoa2V5KSkgPT09IGtleSB8fCAhaGFzT3duKHJhd1Byb3BzLCBrZWJhYktleSkpKSB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKHJhd1ByZXZQcm9wcyAmJiAvLyBmb3IgY2FtZWxDYXNlXG4gICAgICAgICAgKHJhd1ByZXZQcm9wc1trZXldICE9PSB2b2lkIDAgfHwgLy8gZm9yIGtlYmFiLWNhc2VcbiAgICAgICAgICByYXdQcmV2UHJvcHNba2ViYWJLZXldICE9PSB2b2lkIDApKSB7XG4gICAgICAgICAgICBwcm9wc1trZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhdHRycyAhPT0gcmF3Q3VycmVudFByb3BzKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoIXJhd1Byb3BzIHx8ICFoYXNPd24ocmF3UHJvcHMsIGtleSkgJiYgdHJ1ZSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHRyc1trZXldO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGhhc0F0dHJzQ2hhbmdlZCkge1xuICAgIHRyaWdnZXIoaW5zdGFuY2UuYXR0cnMsIFwic2V0XCIsIFwiXCIpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgdmFsaWRhdGVQcm9wcyhyYXdQcm9wcyB8fCB7fSwgcHJvcHMsIGluc3RhbmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0RnVsbFByb3BzKGluc3RhbmNlLCByYXdQcm9wcywgcHJvcHMsIGF0dHJzKSB7XG4gIGNvbnN0IFtvcHRpb25zLCBuZWVkQ2FzdEtleXNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gIGxldCByYXdDYXN0VmFsdWVzO1xuICBpZiAocmF3UHJvcHMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gcmF3UHJvcHMpIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgbGV0IGNhbWVsS2V5O1xuICAgICAgaWYgKG9wdGlvbnMgJiYgaGFzT3duKG9wdGlvbnMsIGNhbWVsS2V5ID0gY2FtZWxpemUoa2V5KSkpIHtcbiAgICAgICAgaWYgKCFuZWVkQ2FzdEtleXMgfHwgIW5lZWRDYXN0S2V5cy5pbmNsdWRlcyhjYW1lbEtleSkpIHtcbiAgICAgICAgICBwcm9wc1tjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAocmF3Q2FzdFZhbHVlcyB8fCAocmF3Q2FzdFZhbHVlcyA9IHt9KSlbY2FtZWxLZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIWlzRW1pdExpc3RlbmVyKGluc3RhbmNlLmVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gYXR0cnMpIHx8IHZhbHVlICE9PSBhdHRyc1trZXldKSB7XG4gICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKG5lZWRDYXN0S2V5cykge1xuICAgIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICBjb25zdCBjYXN0VmFsdWVzID0gcmF3Q2FzdFZhbHVlcyB8fCBFTVBUWV9PQko7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZWVkQ2FzdEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGtleSA9IG5lZWRDYXN0S2V5c1tpXTtcbiAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICBvcHRpb25zLFxuICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgIGtleSxcbiAgICAgICAgY2FzdFZhbHVlc1trZXldLFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgIWhhc093bihjYXN0VmFsdWVzLCBrZXkpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGFzQXR0cnNDaGFuZ2VkO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVByb3BWYWx1ZShvcHRpb25zLCBwcm9wcywga2V5LCB2YWx1ZSwgaW5zdGFuY2UsIGlzQWJzZW50KSB7XG4gIGNvbnN0IG9wdCA9IG9wdGlvbnNba2V5XTtcbiAgaWYgKG9wdCAhPSBudWxsKSB7XG4gICAgY29uc3QgaGFzRGVmYXVsdCA9IGhhc093bihvcHQsIFwiZGVmYXVsdFwiKTtcbiAgICBpZiAoaGFzRGVmYXVsdCAmJiB2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBvcHQuZGVmYXVsdDtcbiAgICAgIGlmIChvcHQudHlwZSAhPT0gRnVuY3Rpb24gJiYgIW9wdC5za2lwRmFjdG9yeSAmJiBpc0Z1bmN0aW9uKGRlZmF1bHRWYWx1ZSkpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wc0RlZmF1bHRzIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKGtleSBpbiBwcm9wc0RlZmF1bHRzKSB7XG4gICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgICAgICAgIHZhbHVlID0gcHJvcHNEZWZhdWx0c1trZXldID0gZGVmYXVsdFZhbHVlLmNhbGwoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvcHNcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGluc3RhbmNlLmNlKSB7XG4gICAgICAgIGluc3RhbmNlLmNlLl9zZXRQcm9wKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0WzAgLyogc2hvdWxkQ2FzdCAqL10pIHtcbiAgICAgIGlmIChpc0Fic2VudCAmJiAhaGFzRGVmYXVsdCkge1xuICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChvcHRbMSAvKiBzaG91bGRDYXN0VHJ1ZSAqL10gJiYgKHZhbHVlID09PSBcIlwiIHx8IHZhbHVlID09PSBoeXBoZW5hdGUoa2V5KSkpIHtcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5jb25zdCBtaXhpblByb3BzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBfX1ZVRV9PUFRJT05TX0FQSV9fICYmIGFzTWl4aW4gPyBtaXhpblByb3BzQ2FjaGUgOiBhcHBDb250ZXh0LnByb3BzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcyKSA9PiB7XG4gICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgaWYgKGtleXMpIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgRU1QVFlfQVJSKTtcbiAgICB9XG4gICAgcmV0dXJuIEVNUFRZX0FSUjtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XG4gICAgICAgIHdhcm4kMShgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHJhdykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChyYXcpKSB7XG4gICAgICB3YXJuJDEoYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgY29uc3QgcHJvcCA9IG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IGV4dGVuZCh7fSwgb3B0KTtcbiAgICAgICAgY29uc3QgcHJvcFR5cGUgPSBwcm9wLnR5cGU7XG4gICAgICAgIGxldCBzaG91bGRDYXN0ID0gZmFsc2U7XG4gICAgICAgIGxldCBzaG91bGRDYXN0VHJ1ZSA9IHRydWU7XG4gICAgICAgIGlmIChpc0FycmF5KHByb3BUeXBlKSkge1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwcm9wVHlwZS5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwcm9wVHlwZVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCB0eXBlTmFtZSA9IGlzRnVuY3Rpb24odHlwZSkgJiYgdHlwZS5uYW1lO1xuICAgICAgICAgICAgaWYgKHR5cGVOYW1lID09PSBcIkJvb2xlYW5cIikge1xuICAgICAgICAgICAgICBzaG91bGRDYXN0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVOYW1lID09PSBcIlN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHNob3VsZENhc3RUcnVlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNob3VsZENhc3QgPSBpc0Z1bmN0aW9uKHByb3BUeXBlKSAmJiBwcm9wVHlwZS5uYW1lID09PSBcIkJvb2xlYW5cIjtcbiAgICAgICAgfVxuICAgICAgICBwcm9wWzAgLyogc2hvdWxkQ2FzdCAqL10gPSBzaG91bGRDYXN0O1xuICAgICAgICBwcm9wWzEgLyogc2hvdWxkQ2FzdFRydWUgKi9dID0gc2hvdWxkQ2FzdFRydWU7XG4gICAgICAgIGlmIChzaG91bGRDYXN0IHx8IGhhc093bihwcm9wLCBcImRlZmF1bHRcIikpIHtcbiAgICAgICAgICBuZWVkQ2FzdEtleXMucHVzaChub3JtYWxpemVkS2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCByZXMgPSBbbm9ybWFsaXplZCwgbmVlZENhc3RLZXlzXTtcbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIHJlcyk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcE5hbWUoa2V5KSB7XG4gIGlmIChrZXlbMF0gIT09IFwiJFwiICYmICFpc1Jlc2VydmVkUHJvcChrZXkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm4kMShgSW52YWxpZCBwcm9wIG5hbWU6IFwiJHtrZXl9XCIgaXMgYSByZXNlcnZlZCBwcm9wZXJ0eS5gKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBnZXRUeXBlKGN0b3IpIHtcbiAgaWYgKGN0b3IgPT09IG51bGwpIHtcbiAgICByZXR1cm4gXCJudWxsXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gY3Rvci5uYW1lIHx8IFwiXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGN0b3IgPT09IFwib2JqZWN0XCIpIHtcbiAgICBjb25zdCBuYW1lID0gY3Rvci5jb25zdHJ1Y3RvciAmJiBjdG9yLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgcmV0dXJuIG5hbWUgfHwgXCJcIjtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMsIHByb3BzLCBpbnN0YW5jZSkge1xuICBjb25zdCByZXNvbHZlZFZhbHVlcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3Qgb3B0aW9ucyA9IGluc3RhbmNlLnByb3BzT3B0aW9uc1swXTtcbiAgY29uc3QgY2FtZWxpemVQcm9wc0tleSA9IE9iamVjdC5rZXlzKHJhd1Byb3BzKS5tYXAoKGtleSkgPT4gY2FtZWxpemUoa2V5KSk7XG4gIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgPT0gbnVsbCkgY29udGludWU7XG4gICAgdmFsaWRhdGVQcm9wKFxuICAgICAga2V5LFxuICAgICAgcmVzb2x2ZWRWYWx1ZXNba2V5XSxcbiAgICAgIG9wdCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocmVzb2x2ZWRWYWx1ZXMpIDogcmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAhY2FtZWxpemVQcm9wc0tleS5pbmNsdWRlcyhrZXkpXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wKG5hbWUsIHZhbHVlLCBwcm9wLCBwcm9wcywgaXNBYnNlbnQpIHtcbiAgY29uc3QgeyB0eXBlLCByZXF1aXJlZCwgdmFsaWRhdG9yLCBza2lwQ2hlY2sgfSA9IHByb3A7XG4gIGlmIChyZXF1aXJlZCAmJiBpc0Fic2VudCkge1xuICAgIHdhcm4kMSgnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsICYmICFyZXF1aXJlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodHlwZSAhPSBudWxsICYmIHR5cGUgIT09IHRydWUgJiYgIXNraXBDaGVjaykge1xuICAgIGxldCBpc1ZhbGlkID0gZmFsc2U7XG4gICAgY29uc3QgdHlwZXMgPSBpc0FycmF5KHR5cGUpID8gdHlwZSA6IFt0eXBlXTtcbiAgICBjb25zdCBleHBlY3RlZFR5cGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGggJiYgIWlzVmFsaWQ7IGkrKykge1xuICAgICAgY29uc3QgeyB2YWxpZCwgZXhwZWN0ZWRUeXBlIH0gPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlc1tpXSk7XG4gICAgICBleHBlY3RlZFR5cGVzLnB1c2goZXhwZWN0ZWRUeXBlIHx8IFwiXCIpO1xuICAgICAgaXNWYWxpZCA9IHZhbGlkO1xuICAgIH1cbiAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgIHdhcm4kMShnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbGlkYXRvciAmJiAhdmFsaWRhdG9yKHZhbHVlLCBwcm9wcykpIHtcbiAgICB3YXJuJDEoJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nKTtcbiAgfVxufVxuY29uc3QgaXNTaW1wbGVUeXBlID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIFwiU3RyaW5nLE51bWJlcixCb29sZWFuLEZ1bmN0aW9uLFN5bWJvbCxCaWdJbnRcIlxuKTtcbmZ1bmN0aW9uIGFzc2VydFR5cGUodmFsdWUsIHR5cGUpIHtcbiAgbGV0IHZhbGlkO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIm51bGxcIikge1xuICAgIHZhbGlkID0gdmFsdWUgPT09IG51bGw7XG4gIH0gZWxzZSBpZiAoaXNTaW1wbGVUeXBlKGV4cGVjdGVkVHlwZSkpIHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIHZhbHVlO1xuICAgIHZhbGlkID0gdCA9PT0gZXhwZWN0ZWRUeXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF2YWxpZCAmJiB0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIk9iamVjdFwiKSB7XG4gICAgdmFsaWQgPSBpc09iamVjdCh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBcIkFycmF5XCIpIHtcbiAgICB2YWxpZCA9IGlzQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlO1xuICB9XG4gIHJldHVybiB7XG4gICAgdmFsaWQsXG4gICAgZXhwZWN0ZWRUeXBlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGBQcm9wIHR5cGUgW10gZm9yIHByb3AgXCIke25hbWV9XCIgd29uJ3QgbWF0Y2ggYW55dGhpbmcuIERpZCB5b3UgbWVhbiB0byB1c2UgdHlwZSBBcnJheSBpbnN0ZWFkP2A7XG4gIH1cbiAgbGV0IG1lc3NhZ2UgPSBgSW52YWxpZCBwcm9wOiB0eXBlIGNoZWNrIGZhaWxlZCBmb3IgcHJvcCBcIiR7bmFtZX1cIi4gRXhwZWN0ZWQgJHtleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKFwiIHwgXCIpfWA7XG4gIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGV4cGVjdGVkVHlwZXNbMF07XG4gIGNvbnN0IHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7XG4gIGNvbnN0IGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICBjb25zdCByZWNlaXZlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgcmVjZWl2ZWRUeXBlKTtcbiAgaWYgKGV4cGVjdGVkVHlwZXMubGVuZ3RoID09PSAxICYmIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmICFpc0Jvb2xlYW4oZXhwZWN0ZWRUeXBlLCByZWNlaXZlZFR5cGUpKSB7XG4gICAgbWVzc2FnZSArPSBgIHdpdGggdmFsdWUgJHtleHBlY3RlZFZhbHVlfWA7XG4gIH1cbiAgbWVzc2FnZSArPSBgLCBnb3QgJHtyZWNlaXZlZFR5cGV9IGA7XG4gIGlmIChpc0V4cGxpY2FibGUocmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYHdpdGggdmFsdWUgJHtyZWNlaXZlZFZhbHVlfS5gO1xuICB9XG4gIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gc3R5bGVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gXCJTdHJpbmdcIikge1xuICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcbiAgfSBlbHNlIGlmICh0eXBlID09PSBcIk51bWJlclwiKSB7XG4gICAgcmV0dXJuIGAke051bWJlcih2YWx1ZSl9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbiAgfVxufVxuZnVuY3Rpb24gaXNFeHBsaWNhYmxlKHR5cGUpIHtcbiAgY29uc3QgZXhwbGljaXRUeXBlcyA9IFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImJvb2xlYW5cIl07XG4gIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoKGVsZW0pID0+IHR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbSk7XG59XG5mdW5jdGlvbiBpc0Jvb2xlYW4oLi4uYXJncykge1xuICByZXR1cm4gYXJncy5zb21lKChlbGVtKSA9PiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09IFwiYm9vbGVhblwiKTtcbn1cblxuY29uc3QgaXNJbnRlcm5hbEtleSA9IChrZXkpID0+IGtleVswXSA9PT0gXCJfXCIgfHwga2V5ID09PSBcIiRzdGFibGVcIjtcbmNvbnN0IG5vcm1hbGl6ZVNsb3RWYWx1ZSA9ICh2YWx1ZSkgPT4gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVk5vZGUpIDogW25vcm1hbGl6ZVZOb2RlKHZhbHVlKV07XG5jb25zdCBub3JtYWxpemVTbG90ID0gKGtleSwgcmF3U2xvdCwgY3R4KSA9PiB7XG4gIGlmIChyYXdTbG90Ll9uKSB7XG4gICAgcmV0dXJuIHJhd1Nsb3Q7XG4gIH1cbiAgY29uc3Qgbm9ybWFsaXplZCA9IHdpdGhDdHgoKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjdXJyZW50SW5zdGFuY2UgJiYgIShjdHggPT09IG51bGwgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSAmJiAhKGN0eCAmJiBjdHgucm9vdCAhPT0gY3VycmVudEluc3RhbmNlLnJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBTbG90IFwiJHtrZXl9XCIgaW52b2tlZCBvdXRzaWRlIG9mIHRoZSByZW5kZXIgZnVuY3Rpb246IHRoaXMgd2lsbCBub3QgdHJhY2sgZGVwZW5kZW5jaWVzIHVzZWQgaW4gdGhlIHNsb3QuIEludm9rZSB0aGUgc2xvdCBmdW5jdGlvbiBpbnNpZGUgdGhlIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVTbG90VmFsdWUocmF3U2xvdCguLi5hcmdzKSk7XG4gIH0sIGN0eCk7XG4gIG5vcm1hbGl6ZWQuX2MgPSBmYWxzZTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59O1xuY29uc3Qgbm9ybWFsaXplT2JqZWN0U2xvdHMgPSAocmF3U2xvdHMsIHNsb3RzLCBpbnN0YW5jZSkgPT4ge1xuICBjb25zdCBjdHggPSByYXdTbG90cy5fY3R4O1xuICBmb3IgKGNvbnN0IGtleSBpbiByYXdTbG90cykge1xuICAgIGlmIChpc0ludGVybmFsS2V5KGtleSkpIGNvbnRpbnVlO1xuICAgIGNvbnN0IHZhbHVlID0gcmF3U2xvdHNba2V5XTtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHNsb3RzW2tleV0gPSBub3JtYWxpemVTbG90KGtleSwgdmFsdWUsIGN0eCk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0cnVlKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBzbG90IFwiJHtrZXl9XCIuIFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUodmFsdWUpO1xuICAgICAgc2xvdHNba2V5XSA9ICgpID0+IG5vcm1hbGl6ZWQ7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgbm9ybWFsaXplVk5vZGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4pID0+IHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzS2VlcEFsaXZlKGluc3RhbmNlLnZub2RlKSAmJiB0cnVlKSB7XG4gICAgd2FybiQxKFxuICAgICAgYE5vbi1mdW5jdGlvbiB2YWx1ZSBlbmNvdW50ZXJlZCBmb3IgZGVmYXVsdCBzbG90LiBQcmVmZXIgZnVuY3Rpb24gc2xvdHMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5gXG4gICAgKTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkID0gbm9ybWFsaXplU2xvdFZhbHVlKGNoaWxkcmVuKTtcbiAgaW5zdGFuY2Uuc2xvdHMuZGVmYXVsdCA9ICgpID0+IG5vcm1hbGl6ZWQ7XG59O1xuY29uc3QgYXNzaWduU2xvdHMgPSAoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gY2hpbGRyZW4pIHtcbiAgICBpZiAob3B0aW1pemVkIHx8ICFpc0ludGVybmFsS2V5KGtleSkpIHtcbiAgICAgIHNsb3RzW2tleV0gPSBjaGlsZHJlbltrZXldO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGluaXRTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBjb25zdCBzbG90cyA9IGluc3RhbmNlLnNsb3RzID0gY3JlYXRlSW50ZXJuYWxPYmplY3QoKTtcbiAgaWYgKGluc3RhbmNlLnZub2RlLnNoYXBlRmxhZyAmIDMyKSB7XG4gICAgY29uc3QgY2FjaGVJbmRleGVzID0gY2hpbGRyZW4uX187XG4gICAgaWYgKGNhY2hlSW5kZXhlcykgZGVmKHNsb3RzLCBcIl9fXCIsIGNhY2hlSW5kZXhlcywgdHJ1ZSk7XG4gICAgY29uc3QgdHlwZSA9IGNoaWxkcmVuLl87XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGFzc2lnblNsb3RzKHNsb3RzLCBjaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICAgIGlmIChvcHRpbWl6ZWQpIHtcbiAgICAgICAgZGVmKHNsb3RzLCBcIl9cIiwgdHlwZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICB9XG59O1xuY29uc3QgdXBkYXRlU2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpID0+IHtcbiAgY29uc3QgeyB2bm9kZSwgc2xvdHMgfSA9IGluc3RhbmNlO1xuICBsZXQgbmVlZERlbGV0aW9uQ2hlY2sgPSB0cnVlO1xuICBsZXQgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gRU1QVFlfT0JKO1xuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgICBhc3NpZ25TbG90cyhzbG90cywgY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgICAgIHRyaWdnZXIoaW5zdGFuY2UsIFwic2V0XCIsIFwiJHNsb3RzXCIpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpbWl6ZWQgJiYgdHlwZSA9PT0gMSkge1xuICAgICAgICBuZWVkRGVsZXRpb25DaGVjayA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXNzaWduU2xvdHMoc2xvdHMsIGNoaWxkcmVuLCBvcHRpbWl6ZWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZWVkRGVsZXRpb25DaGVjayA9ICFjaGlsZHJlbi4kc3RhYmxlO1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcbiAgICB9XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gICAgZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0ID0geyBkZWZhdWx0OiAxIH07XG4gIH1cbiAgaWYgKG5lZWREZWxldGlvbkNoZWNrKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgIGlmICghaXNJbnRlcm5hbEtleShrZXkpICYmIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldFtrZXldID09IG51bGwpIHtcbiAgICAgICAgZGVsZXRlIHNsb3RzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5sZXQgc3VwcG9ydGVkO1xubGV0IHBlcmY7XG5mdW5jdGlvbiBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBwZXJmLm1hcmsoYHZ1ZS0ke3R5cGV9LSR7aW5zdGFuY2UudWlkfWApO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZlN0YXJ0KGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBlbmRNZWFzdXJlKGluc3RhbmNlLCB0eXBlKSB7XG4gIGlmIChpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5wZXJmb3JtYW5jZSAmJiBpc1N1cHBvcnRlZCgpKSB7XG4gICAgY29uc3Qgc3RhcnRUYWcgPSBgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YDtcbiAgICBjb25zdCBlbmRUYWcgPSBzdGFydFRhZyArIGA6ZW5kYDtcbiAgICBwZXJmLm1hcmsoZW5kVGFnKTtcbiAgICBwZXJmLm1lYXN1cmUoXG4gICAgICBgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShpbnN0YW5jZSwgaW5zdGFuY2UudHlwZSl9PiAke3R5cGV9YCxcbiAgICAgIHN0YXJ0VGFnLFxuICAgICAgZW5kVGFnXG4gICAgKTtcbiAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgIGRldnRvb2xzUGVyZkVuZChpbnN0YW5jZSwgdHlwZSwgaXNTdXBwb3J0ZWQoKSA/IHBlcmYubm93KCkgOiBEYXRlLm5vdygpKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gIGlmIChzdXBwb3J0ZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LnBlcmZvcm1hbmNlKSB7XG4gICAgc3VwcG9ydGVkID0gdHJ1ZTtcbiAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICB9IGVsc2Uge1xuICAgIHN1cHBvcnRlZCA9IGZhbHNlO1xuICB9XG4gIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5cbmZ1bmN0aW9uIGluaXRGZWF0dXJlRmxhZ3MoKSB7XG4gIGNvbnN0IG5lZWRXYXJuID0gW107XG4gIGlmICh0eXBlb2YgX19WVUVfT1BUSU9OU19BUElfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX09QVElPTlNfQVBJX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfT1BUSU9OU19BUElfXyA9IHRydWU7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0RFVlRPT0xTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0RFVlRPT0xTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9ERVZUT09MU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gIT09IFwiYm9vbGVhblwiKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5wdXNoKGBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX19gKTtcbiAgICBnZXRHbG9iYWxUaGlzKCkuX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fID0gZmFsc2U7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ubGVuZ3RoKSB7XG4gICAgY29uc3QgbXVsdGkgPSBuZWVkV2Fybi5sZW5ndGggPiAxO1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBGZWF0dXJlIGZsYWcke211bHRpID8gYHNgIDogYGB9ICR7bmVlZFdhcm4uam9pbihcIiwgXCIpfSAke211bHRpID8gYGFyZWAgOiBgaXNgfSBub3QgZXhwbGljaXRseSBkZWZpbmVkLiBZb3UgYXJlIHJ1bm5pbmcgdGhlIGVzbS1idW5kbGVyIGJ1aWxkIG9mIFZ1ZSwgd2hpY2ggZXhwZWN0cyB0aGVzZSBjb21waWxlLXRpbWUgZmVhdHVyZSBmbGFncyB0byBiZSBnbG9iYWxseSBpbmplY3RlZCB2aWEgdGhlIGJ1bmRsZXIgY29uZmlnIGluIG9yZGVyIHRvIGdldCBiZXR0ZXIgdHJlZS1zaGFraW5nIGluIHRoZSBwcm9kdWN0aW9uIGJ1bmRsZS5cblxuRm9yIG1vcmUgZGV0YWlscywgc2VlIGh0dHBzOi8vbGluay52dWVqcy5vcmcvZmVhdHVyZS1mbGFncy5gXG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QgPSBxdWV1ZUVmZmVjdFdpdGhTdXNwZW5zZSA7XG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucyk7XG59XG5mdW5jdGlvbiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihvcHRpb25zKSB7XG4gIHJldHVybiBiYXNlQ3JlYXRlUmVuZGVyZXIob3B0aW9ucywgY3JlYXRlSHlkcmF0aW9uRnVuY3Rpb25zKTtcbn1cbmZ1bmN0aW9uIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAge1xuICAgIGluaXRGZWF0dXJlRmxhZ3MoKTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIHRhcmdldC5fX1ZVRV9fID0gdHJ1ZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgc2V0RGV2dG9vbHNIb29rJDEodGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18sIHRhcmdldCk7XG4gIH1cbiAgY29uc3Qge1xuICAgIGluc2VydDogaG9zdEluc2VydCxcbiAgICByZW1vdmU6IGhvc3RSZW1vdmUsXG4gICAgcGF0Y2hQcm9wOiBob3N0UGF0Y2hQcm9wLFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGhvc3RDcmVhdGVFbGVtZW50LFxuICAgIGNyZWF0ZVRleHQ6IGhvc3RDcmVhdGVUZXh0LFxuICAgIGNyZWF0ZUNvbW1lbnQ6IGhvc3RDcmVhdGVDb21tZW50LFxuICAgIHNldFRleHQ6IGhvc3RTZXRUZXh0LFxuICAgIHNldEVsZW1lbnRUZXh0OiBob3N0U2V0RWxlbWVudFRleHQsXG4gICAgcGFyZW50Tm9kZTogaG9zdFBhcmVudE5vZGUsXG4gICAgbmV4dFNpYmxpbmc6IGhvc3ROZXh0U2libGluZyxcbiAgICBzZXRTY29wZUlkOiBob3N0U2V0U2NvcGVJZCA9IE5PT1AsXG4gICAgaW5zZXJ0U3RhdGljQ29udGVudDogaG9zdEluc2VydFN0YXRpY0NvbnRlbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBhdGNoID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IgPSBudWxsLCBwYXJlbnRDb21wb25lbnQgPSBudWxsLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwsIG5hbWVzcGFjZSA9IHZvaWQgMCwgc2xvdFNjb3BlSWRzID0gbnVsbCwgb3B0aW1pemVkID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nID8gZmFsc2UgOiAhIW4yLmR5bmFtaWNDaGlsZHJlbikgPT4ge1xuICAgIGlmIChuMSA9PT0gbjIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG4xICYmICFpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgYW5jaG9yID0gZ2V0TmV4dEhvc3ROb2RlKG4xKTtcbiAgICAgIHVubW91bnQobjEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgbjEgPSBudWxsO1xuICAgIH1cbiAgICBpZiAobjIucGF0Y2hGbGFnID09PSAtMikge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBuMi5keW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgVGV4dDpcbiAgICAgICAgcHJvY2Vzc1RleHQobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDb21tZW50OlxuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTdGF0aWM6XG4gICAgICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICAgICAgbW91bnRTdGF0aWNOb2RlKG4yLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcGF0Y2hTdGF0aWNOb2RlKG4xLCBuMiwgY29udGFpbmVyLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBGcmFnbWVudDpcbiAgICAgICAgcHJvY2Vzc0ZyYWdtZW50KFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEpIHtcbiAgICAgICAgICBwcm9jZXNzRWxlbWVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgICAgIHByb2Nlc3NDb21wb25lbnQoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgdHlwZS5wcm9jZXNzKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgaW50ZXJuYWxzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIFZOb2RlIHR5cGU6XCIsIHR5cGUsIGAoJHt0eXBlb2YgdHlwZX0pYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsICYmIHBhcmVudENvbXBvbmVudCkge1xuICAgICAgc2V0UmVmKHJlZiwgbjEgJiYgbjEucmVmLCBwYXJlbnRTdXNwZW5zZSwgbjIgfHwgbjEsICFuMik7XG4gICAgfSBlbHNlIGlmIChyZWYgPT0gbnVsbCAmJiBuMSAmJiBuMS5yZWYgIT0gbnVsbCkge1xuICAgICAgc2V0UmVmKG4xLnJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIG4xLCB0cnVlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8IFwiXCIpLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSkgPT4ge1xuICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBuMi5lbCxcbiAgICAgIG4yLmFuY2hvclxuICAgICk7XG4gIH07XG4gIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgICBuMi5jaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBpZiAobjIudHlwZSA9PT0gXCJzdmdcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICB9IGVsc2UgaWYgKG4yLnR5cGUgPT09IFwibWF0aFwiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRFbGVtZW50KFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoRWxlbWVudChcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRFbGVtZW50ID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBlbDtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGNvbnN0IHsgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgZGlycyB9ID0gdm5vZGU7XG4gICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KFxuICAgICAgdm5vZGUudHlwZSxcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHByb3BzICYmIHByb3BzLmlzLFxuICAgICAgcHJvcHNcbiAgICApO1xuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh2bm9kZSwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiY3JlYXRlZFwiKTtcbiAgICB9XG4gICAgc2V0U2NvcGVJZChlbCwgdm5vZGUsIHZub2RlLnNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChrZXkgIT09IFwidmFsdWVcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIGtleSwgbnVsbCwgcHJvcHNba2V5XSwgbmFtZXNwYWNlLCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIHByb3BzKSB7XG4gICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwidmFsdWVcIiwgbnVsbCwgcHJvcHMudmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgICBpZiAodm5vZGVIb29rID0gcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgIGRlZihlbCwgXCJfX3Zub2RlXCIsIHZub2RlLCB0cnVlKTtcbiAgICAgIGRlZihlbCwgXCJfX3Z1ZVBhcmVudENvbXBvbmVudFwiLCBwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIH1cbiAgICBpZiAoZGlycykge1xuICAgICAgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcImJlZm9yZU1vdW50XCIpO1xuICAgIH1cbiAgICBjb25zdCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9IG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKTtcbiAgICBpZiAobmVlZENhbGxUcmFuc2l0aW9uSG9va3MpIHtcbiAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgIH1cbiAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgaWYgKCh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkgfHwgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgfHwgZGlycykge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgdm5vZGVIb29rICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgdm5vZGUpO1xuICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgZGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwibW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldFNjb3BlSWQgPSAoZWwsIHZub2RlLCBzY29wZUlkLCBzbG90U2NvcGVJZHMsIHBhcmVudENvbXBvbmVudCkgPT4ge1xuICAgIGlmIChzY29wZUlkKSB7XG4gICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2NvcGVJZCk7XG4gICAgfVxuICAgIGlmIChzbG90U2NvcGVJZHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2xvdFNjb3BlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhvc3RTZXRTY29wZUlkKGVsLCBzbG90U2NvcGVJZHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBsZXQgc3ViVHJlZSA9IHBhcmVudENvbXBvbmVudC5zdWJUcmVlO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc3ViVHJlZS5wYXRjaEZsYWcgPiAwICYmIHN1YlRyZWUucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgICAgICBzdWJUcmVlID0gZmlsdGVyU2luZ2xlUm9vdChzdWJUcmVlLmNoaWxkcmVuKSB8fCBzdWJUcmVlO1xuICAgICAgfVxuICAgICAgaWYgKHZub2RlID09PSBzdWJUcmVlIHx8IGlzU3VzcGVuc2Uoc3ViVHJlZS50eXBlKSAmJiAoc3ViVHJlZS5zc0NvbnRlbnQgPT09IHZub2RlIHx8IHN1YlRyZWUuc3NGYWxsYmFjayA9PT0gdm5vZGUpKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudFZOb2RlID0gcGFyZW50Q29tcG9uZW50LnZub2RlO1xuICAgICAgICBzZXRTY29wZUlkKFxuICAgICAgICAgIGVsLFxuICAgICAgICAgIHBhcmVudFZOb2RlLFxuICAgICAgICAgIHBhcmVudFZOb2RlLnNjb3BlSWQsXG4gICAgICAgICAgcGFyZW50Vk5vZGUuc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudC5wYXJlbnRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50Q2hpbGRyZW4gPSAoY2hpbGRyZW4sIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCBzdGFydCA9IDApID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGNoaWxkcmVuW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEVsZW1lbnQgPSAobjEsIG4yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZWwgPSBuMi5lbCA9IG4xLmVsO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgZWwuX192bm9kZSA9IG4yO1xuICAgIH1cbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XG4gICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2O1xuICAgIGNvbnN0IG9sZFByb3BzID0gbjEucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld1Byb3BzID0gbjIucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCBmYWxzZSk7XG4gICAgaWYgKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVXBkYXRlXCIpO1xuICAgIH1cbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChvbGRQcm9wcy5pbm5lckhUTUwgJiYgbmV3UHJvcHMuaW5uZXJIVE1MID09IG51bGwgfHwgb2xkUHJvcHMudGV4dENvbnRlbnQgJiYgbmV3UHJvcHMudGV4dENvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBcIlwiKTtcbiAgICB9XG4gICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZShuMiwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICApO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihuMSwgbjIpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIW9wdGltaXplZCkge1xuICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBlbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKG4yLCBuYW1lc3BhY2UpLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgaWYgKHBhdGNoRmxhZyAmIDE2KSB7XG4gICAgICAgIHBhdGNoUHJvcHMoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDIpIHtcbiAgICAgICAgICBpZiAob2xkUHJvcHMuY2xhc3MgIT09IG5ld1Byb3BzLmNsYXNzKSB7XG4gICAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcImNsYXNzXCIsIG51bGwsIG5ld1Byb3BzLmNsYXNzLCBuYW1lc3BhY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgNCkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoZWwsIFwic3R5bGVcIiwgb2xkUHJvcHMuc3R5bGUsIG5ld1Byb3BzLnN0eWxlLCBuYW1lc3BhY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICAgICAgY29uc3QgcHJvcHNUb1VwZGF0ZSA9IG4yLmR5bmFtaWNQcm9wcztcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzVG9VcGRhdGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHByb3BzVG9VcGRhdGVbaV07XG4gICAgICAgICAgICBjb25zdCBwcmV2ID0gb2xkUHJvcHNba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBuZXdQcm9wc1trZXldO1xuICAgICAgICAgICAgaWYgKG5leHQgIT09IHByZXYgfHwga2V5ID09PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMSkge1xuICAgICAgICBpZiAobjEuY2hpbGRyZW4gIT09IG4yLmNoaWxkcmVuKSB7XG4gICAgICAgICAgaG9zdFNldEVsZW1lbnRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQgJiYgZHluYW1pY0NoaWxkcmVuID09IG51bGwpIHtcbiAgICAgIHBhdGNoUHJvcHMoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVVcGRhdGVkKSB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwidXBkYXRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoQmxvY2tDaGlsZHJlbiA9IChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGZhbGxiYWNrQ29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgY29udGFpbmVyID0gKFxuICAgICAgICAvLyBvbGRWTm9kZSBtYXkgYmUgYW4gZXJyb3JlZCBhc3luYyBzZXR1cCgpIGNvbXBvbmVudCBpbnNpZGUgU3VzcGVuc2VcbiAgICAgICAgLy8gd2hpY2ggd2lsbCBub3QgaGF2ZSBhIG1vdW50ZWQgZWxlbWVudFxuICAgICAgICBvbGRWTm9kZS5lbCAmJiAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxuICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cbiAgICAgICAgKG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8IC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cbiAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgKDYgfCA2NCB8IDEyOCkpID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpIDogKFxuICAgICAgICAgIC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxuICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cbiAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lclxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG9sZFZOb2RlLFxuICAgICAgICBuZXdWTm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIG9sZFByb3BzLCBuZXdQcm9wcywgcGFyZW50Q29tcG9uZW50LCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzKSB7XG4gICAgICBpZiAob2xkUHJvcHMgIT09IEVNUFRZX09CSikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRQcm9wcykge1xuICAgICAgICAgIGlmICghaXNSZXNlcnZlZFByb3Aoa2V5KSAmJiAhKGtleSBpbiBuZXdQcm9wcykpIHtcbiAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIG9sZFByb3BzW2tleV0sXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgIGlmIChuZXh0ICE9PSBwcmV2ICYmIGtleSAhPT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwga2V5LCBwcmV2LCBuZXh0LCBuYW1lc3BhY2UsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBvbGRQcm9wcy52YWx1ZSwgbmV3UHJvcHMudmFsdWUsIG5hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzRnJhZ21lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGZyYWdtZW50U3RhcnRBbmNob3IgPSBuMi5lbCA9IG4xID8gbjEuZWwgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBjb25zdCBmcmFnbWVudEVuZEFuY2hvciA9IG4yLmFuY2hvciA9IG4xID8gbjEuYW5jaG9yIDogaG9zdENyZWF0ZVRleHQoXCJcIik7XG4gICAgbGV0IHsgcGF0Y2hGbGFnLCBkeW5hbWljQ2hpbGRyZW4sIHNsb3RTY29wZUlkczogZnJhZ21lbnRTbG90U2NvcGVJZHMgfSA9IG4yO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIC8vICM1NTIzIGRldiByb290IGZyYWdtZW50IG1heSBpbmhlcml0IGRpcmVjdGl2ZXNcbiAgICAoaXNIbXJVcGRhdGluZyB8fCBwYXRjaEZsYWcgJiAyMDQ4KSkge1xuICAgICAgcGF0Y2hGbGFnID0gMDtcbiAgICAgIG9wdGltaXplZCA9IGZhbHNlO1xuICAgICAgZHluYW1pY0NoaWxkcmVuID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGZyYWdtZW50U2xvdFNjb3BlSWRzKSB7XG4gICAgICBzbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHMgPyBzbG90U2NvcGVJZHMuY29uY2F0KGZyYWdtZW50U2xvdFNjb3BlSWRzKSA6IGZyYWdtZW50U2xvdFNjb3BlSWRzO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChmcmFnbWVudFN0YXJ0QW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50RW5kQW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAvLyAjMTAwMDdcbiAgICAgICAgLy8gc3VjaCBmcmFnbWVudCBsaWtlIGA8PjwvPmAgd2lsbCBiZSBjb21waWxlZCBpbnRvXG4gICAgICAgIC8vIGEgZnJhZ21lbnQgd2hpY2ggZG9lc24ndCBoYXZlIGEgY2hpbGRyZW4uXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSBmYWxsYmFjayB0byBhbiBlbXB0eSBhcnJheVxuICAgICAgICBuMi5jaGlsZHJlbiB8fCBbXSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQgJiYgZHluYW1pY0NoaWxkcmVuICYmIC8vICMyNzE1IHRoZSBwcmV2aW91cyBmcmFnbWVudCBjb3VsZCd2ZSBiZWVuIGEgQkFJTGVkIG9uZSBhcyBhIHJlc3VsdFxuICAgICAgLy8gb2YgcmVuZGVyU2xvdCgpIHdpdGggbm8gdmFsaWQgY2hpbGRyZW5cbiAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgICBwYXRjaEJsb2NrQ2hpbGRyZW4oXG4gICAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHNcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMik7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgLy8gIzIwODAgaWYgdGhlIHN0YWJsZSBmcmFnbWVudCBoYXMgYSBrZXksIGl0J3MgYSA8dGVtcGxhdGUgdi1mb3I+IHRoYXQgbWF5XG4gICAgICAgICAgLy8gIGdldCBtb3ZlZCBhcm91bmQuIE1ha2Ugc3VyZSBhbGwgcm9vdCBsZXZlbCB2bm9kZXMgaW5oZXJpdCBlbC5cbiAgICAgICAgICAvLyAjMjEzNCBvciBpZiBpdCdzIGEgY29tcG9uZW50IHJvb3QsIGl0IG1heSBhbHNvIGdldCBtb3ZlZCBhcm91bmRcbiAgICAgICAgICAvLyBhcyB0aGUgY29tcG9uZW50IGlzIGJlaW5nIG1vdmVkLlxuICAgICAgICAgIG4yLmtleSAhPSBudWxsIHx8IHBhcmVudENvbXBvbmVudCAmJiBuMiA9PT0gcGFyZW50Q29tcG9uZW50LnN1YlRyZWVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJhdmVyc2VTdGF0aWNDaGlsZHJlbihcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAvKiBzaGFsbG93ICovXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgZnJhZ21lbnRFbmRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tcG9uZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBuMi5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIGlmIChuMi5zaGFwZUZsYWcgJiA1MTIpIHtcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LmN0eC5hY3RpdmF0ZShcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1vdW50Q29tcG9uZW50KFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50Q29tcG9uZW50ID0gKGluaXRpYWxWTm9kZSwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSAoaW5pdGlhbFZOb2RlLmNvbXBvbmVudCA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlKFxuICAgICAgaW5pdGlhbFZOb2RlLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICApKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHJlZ2lzdGVySE1SKGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHB1c2hXYXJuaW5nQ29udGV4dChpbml0aWFsVk5vZGUpO1xuICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgbW91bnRgKTtcbiAgICB9XG4gICAgaWYgKGlzS2VlcEFsaXZlKGluaXRpYWxWTm9kZSkpIHtcbiAgICAgIGluc3RhbmNlLmN0eC5yZW5kZXJlciA9IGludGVybmFscztcbiAgICB9XG4gICAge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgICAgc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGZhbHNlLCBvcHRpbWl6ZWQpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGluaXRgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykgaW5pdGlhbFZOb2RlLmVsID0gbnVsbDtcbiAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCwgb3B0aW1pemVkKTtcbiAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobnVsbCwgcGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBpbml0aWFsVk5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnQgPSAobjEsIG4yLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcbiAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG4yO1xuICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIGluc3RhbmNlLnZub2RlID0gbjI7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXR1cFJlbmRlckVmZmVjdCA9IChpbnN0YW5jZSwgaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgY29tcG9uZW50VXBkYXRlRm4gPSAoKSA9PiB7XG4gICAgICBpZiAoIWluc3RhbmNlLmlzTW91bnRlZCkge1xuICAgICAgICBsZXQgdm5vZGVIb29rO1xuICAgICAgICBjb25zdCB7IGVsLCBwcm9wcyB9ID0gaW5pdGlhbFZOb2RlO1xuICAgICAgICBjb25zdCB7IGJtLCBtLCBwYXJlbnQsIHJvb3QsIHR5cGUgfSA9IGluc3RhbmNlO1xuICAgICAgICBjb25zdCBpc0FzeW5jV3JhcHBlclZOb2RlID0gaXNBc3luY1dyYXBwZXIoaW5pdGlhbFZOb2RlKTtcbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAoYm0pIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhibSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBpbml0aWFsVk5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIHRydWUpO1xuICAgICAgICBpZiAoZWwgJiYgaHlkcmF0ZU5vZGUpIHtcbiAgICAgICAgICBjb25zdCBoeWRyYXRlU3ViVHJlZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHlkcmF0ZU5vZGUoXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaHlkcmF0ZWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgdHlwZS5fX2FzeW5jSHlkcmF0ZSkge1xuICAgICAgICAgICAgdHlwZS5fX2FzeW5jSHlkcmF0ZShcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBoeWRyYXRlU3ViVHJlZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJvb3QuY2UgJiYgLy8gQHRzLWV4cGVjdC1lcnJvciBfZGVmIGlzIHByaXZhdGVcbiAgICAgICAgICByb290LmNlLl9kZWYuc2hhZG93Um9vdCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJvb3QuY2UuX2luamVjdENoaWxkU3R5bGUodHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgc3ViVHJlZSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5pdGlhbFZOb2RlLmVsID0gc3ViVHJlZS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0FzeW5jV3JhcHBlclZOb2RlICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlTW91bnRlZCkpIHtcbiAgICAgICAgICBjb25zdCBzY29wZWRJbml0aWFsVk5vZGUgPSBpbml0aWFsVk5vZGU7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KFxuICAgICAgICAgICAgKCkgPT4gaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBzY29wZWRJbml0aWFsVk5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbml0aWFsVk5vZGUuc2hhcGVGbGFnICYgMjU2IHx8IHBhcmVudCAmJiBpc0FzeW5jV3JhcHBlcihwYXJlbnQudm5vZGUpICYmIHBhcmVudC52bm9kZS5zaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChpbnN0YW5jZS5hLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UuaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5pdGlhbFZOb2RlID0gY29udGFpbmVyID0gYW5jaG9yID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCB7IG5leHQsIGJ1LCB1LCBwYXJlbnQsIHZub2RlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IG5vbkh5ZHJhdGVkQXN5bmNSb290ID0gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmIChub25IeWRyYXRlZEFzeW5jUm9vdCkge1xuICAgICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgICAgbmV4dC5lbCA9IHZub2RlLmVsO1xuICAgICAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub25IeWRyYXRlZEFzeW5jUm9vdC5hc3luY0RlcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudFVwZGF0ZUZuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb3JpZ2luTmV4dCA9IG5leHQ7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG5leHQgfHwgaW5zdGFuY2Uudm5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRvZ2dsZVJlY3Vyc2UoaW5zdGFuY2UsIGZhbHNlKTtcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyKGluc3RhbmNlLCBuZXh0LCBvcHRpbWl6ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHQgPSB2bm9kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnUpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhidSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSB7XG4gICAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50LCBuZXh0LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dFRyZWUgPSByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldlRyZWUgPSBpbnN0YW5jZS5zdWJUcmVlO1xuICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gbmV4dFRyZWU7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBwYXRjaChcbiAgICAgICAgICBwcmV2VHJlZSxcbiAgICAgICAgICBuZXh0VHJlZSxcbiAgICAgICAgICAvLyBwYXJlbnQgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgdGVsZXBvcnRcbiAgICAgICAgICBob3N0UGFyZW50Tm9kZShwcmV2VHJlZS5lbCksXG4gICAgICAgICAgLy8gYW5jaG9yIG1heSBoYXZlIGNoYW5nZWQgaWYgaXQncyBpbiBhIGZyYWdtZW50XG4gICAgICAgICAgZ2V0TmV4dEhvc3ROb2RlKHByZXZUcmVlKSxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcGF0Y2hgKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0LmVsID0gbmV4dFRyZWUuZWw7XG4gICAgICAgIGlmIChvcmlnaW5OZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdXBkYXRlSE9DSG9zdEVsKGluc3RhbmNlLCBuZXh0VHJlZS5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHUpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QodSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bm9kZUhvb2sgPSBuZXh0LnByb3BzICYmIG5leHQucHJvcHMub25Wbm9kZVVwZGF0ZWQpIHtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKSxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgICBjb25zdCBlZmZlY3QgPSBpbnN0YW5jZS5lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoY29tcG9uZW50VXBkYXRlRm4pO1xuICAgIGluc3RhbmNlLnNjb3BlLm9mZigpO1xuICAgIGNvbnN0IHVwZGF0ZSA9IGluc3RhbmNlLnVwZGF0ZSA9IGVmZmVjdC5ydW4uYmluZChlZmZlY3QpO1xuICAgIGNvbnN0IGpvYiA9IGluc3RhbmNlLmpvYiA9IGVmZmVjdC5ydW5JZkRpcnR5LmJpbmQoZWZmZWN0KTtcbiAgICBqb2IuaSA9IGluc3RhbmNlO1xuICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICBlZmZlY3Quc2NoZWR1bGVyID0gKCkgPT4gcXVldWVKb2Ioam9iKTtcbiAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgZWZmZWN0Lm9uVHJhY2sgPSBpbnN0YW5jZS5ydGMgPyAoZSkgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRjLCBlKSA6IHZvaWQgMDtcbiAgICAgIGVmZmVjdC5vblRyaWdnZXIgPSBpbnN0YW5jZS5ydGcgPyAoZSkgPT4gaW52b2tlQXJyYXlGbnMoaW5zdGFuY2UucnRnLCBlKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdXBkYXRlKCk7XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlciA9IChpbnN0YW5jZSwgbmV4dFZOb2RlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBuZXh0Vk5vZGUuY29tcG9uZW50ID0gaW5zdGFuY2U7XG4gICAgY29uc3QgcHJldlByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHM7XG4gICAgaW5zdGFuY2Uudm5vZGUgPSBuZXh0Vk5vZGU7XG4gICAgaW5zdGFuY2UubmV4dCA9IG51bGw7XG4gICAgdXBkYXRlUHJvcHMoaW5zdGFuY2UsIG5leHRWTm9kZS5wcm9wcywgcHJldlByb3BzLCBvcHRpbWl6ZWQpO1xuICAgIHVwZGF0ZVNsb3RzKGluc3RhbmNlLCBuZXh0Vk5vZGUuY2hpbGRyZW4sIG9wdGltaXplZCk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGZsdXNoUHJlRmx1c2hDYnMoaW5zdGFuY2UpO1xuICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgfTtcbiAgY29uc3QgcGF0Y2hDaGlsZHJlbiA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCBjMSA9IG4xICYmIG4xLmNoaWxkcmVuO1xuICAgIGNvbnN0IHByZXZTaGFwZUZsYWcgPSBuMSA/IG4xLnNoYXBlRmxhZyA6IDA7XG4gICAgY29uc3QgYzIgPSBuMi5jaGlsZHJlbjtcbiAgICBjb25zdCB7IHBhdGNoRmxhZywgc2hhcGVGbGFnIH0gPSBuMjtcbiAgICBpZiAocGF0Y2hGbGFnID4gMCkge1xuICAgICAgaWYgKHBhdGNoRmxhZyAmIDEyOCkge1xuICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiAyNTYpIHtcbiAgICAgICAgcGF0Y2hVbmtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgYzEsXG4gICAgICAgICAgYzIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgOCkge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGMyICE9PSBjMSkge1xuICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBjMik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgICAgcGF0Y2hLZXllZENoaWxkcmVuKFxuICAgICAgICAgICAgYzEsXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bm1vdW50Q2hpbGRyZW4oYzEsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgICBob3N0U2V0RWxlbWVudFRleHQoY29udGFpbmVyLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoVW5rZXllZENoaWxkcmVuID0gKGMxLCBjMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjMSA9IGMxIHx8IEVNUFRZX0FSUjtcbiAgICBjMiA9IGMyIHx8IEVNUFRZX0FSUjtcbiAgICBjb25zdCBvbGRMZW5ndGggPSBjMS5sZW5ndGg7XG4gICAgY29uc3QgbmV3TGVuZ3RoID0gYzIubGVuZ3RoO1xuICAgIGNvbnN0IGNvbW1vbkxlbmd0aCA9IE1hdGgubWluKG9sZExlbmd0aCwgbmV3TGVuZ3RoKTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgY29tbW9uTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgcGF0Y2goXG4gICAgICAgIGMxW2ldLFxuICAgICAgICBuZXh0Q2hpbGQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9sZExlbmd0aCA+IG5ld0xlbmd0aCkge1xuICAgICAgdW5tb3VudENoaWxkcmVuKFxuICAgICAgICBjMSxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnRDaGlsZHJlbihcbiAgICAgICAgYzIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICBjb21tb25MZW5ndGhcbiAgICAgICk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXRjaEtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIHBhcmVudEFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsMiA9IGMyLmxlbmd0aDtcbiAgICBsZXQgZTEgPSBjMS5sZW5ndGggLSAxO1xuICAgIGxldCBlMiA9IGwyIC0gMTtcbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2ldO1xuICAgICAgY29uc3QgbjIgPSBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICB3aGlsZSAoaSA8PSBlMSAmJiBpIDw9IGUyKSB7XG4gICAgICBjb25zdCBuMSA9IGMxW2UxXTtcbiAgICAgIGNvbnN0IG4yID0gYzJbZTJdID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbZTJdKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2UyXSk7XG4gICAgICBpZiAoaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGUxLS07XG4gICAgICBlMi0tO1xuICAgIH1cbiAgICBpZiAoaSA+IGUxKSB7XG4gICAgICBpZiAoaSA8PSBlMikge1xuICAgICAgICBjb25zdCBuZXh0UG9zID0gZTIgKyAxO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0UG9zIDwgbDIgPyBjMltuZXh0UG9zXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgd2hpbGUgKGkgPD0gZTIpIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjMltpXSA9IG9wdGltaXplZCA/IGNsb25lSWZNb3VudGVkKGMyW2ldKSA6IG5vcm1hbGl6ZVZOb2RlKGMyW2ldKSxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGkgPiBlMikge1xuICAgICAgd2hpbGUgKGkgPD0gZTEpIHtcbiAgICAgICAgdW5tb3VudChjMVtpXSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgczEgPSBpO1xuICAgICAgY29uc3QgczIgPSBpO1xuICAgICAgY29uc3Qga2V5VG9OZXdJbmRleE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgICBmb3IgKGkgPSBzMjsgaSA8PSBlMjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG5leHRDaGlsZCA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgICBpZiAobmV4dENoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5VG9OZXdJbmRleE1hcC5oYXMobmV4dENoaWxkLmtleSkpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYER1cGxpY2F0ZSBrZXlzIGZvdW5kIGR1cmluZyB1cGRhdGU6YCxcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobmV4dENoaWxkLmtleSksXG4gICAgICAgICAgICAgIGBNYWtlIHN1cmUga2V5cyBhcmUgdW5pcXVlLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtleVRvTmV3SW5kZXhNYXAuc2V0KG5leHRDaGlsZC5rZXksIGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgajtcbiAgICAgIGxldCBwYXRjaGVkID0gMDtcbiAgICAgIGNvbnN0IHRvQmVQYXRjaGVkID0gZTIgLSBzMiArIDE7XG4gICAgICBsZXQgbW92ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBtYXhOZXdJbmRleFNvRmFyID0gMDtcbiAgICAgIGNvbnN0IG5ld0luZGV4VG9PbGRJbmRleE1hcCA9IG5ldyBBcnJheSh0b0JlUGF0Y2hlZCk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdG9CZVBhdGNoZWQ7IGkrKykgbmV3SW5kZXhUb09sZEluZGV4TWFwW2ldID0gMDtcbiAgICAgIGZvciAoaSA9IHMxOyBpIDw9IGUxOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJldkNoaWxkID0gYzFbaV07XG4gICAgICAgIGlmIChwYXRjaGVkID49IHRvQmVQYXRjaGVkKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdJbmRleDtcbiAgICAgICAgaWYgKHByZXZDaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIG5ld0luZGV4ID0ga2V5VG9OZXdJbmRleE1hcC5nZXQocHJldkNoaWxkLmtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChqID0gczI7IGogPD0gZTI7IGorKykge1xuICAgICAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtqIC0gczJdID09PSAwICYmIGlzU2FtZVZOb2RlVHlwZShwcmV2Q2hpbGQsIGMyW2pdKSkge1xuICAgICAgICAgICAgICBuZXdJbmRleCA9IGo7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgICAgIHVubW91bnQocHJldkNoaWxkLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdJbmRleFRvT2xkSW5kZXhNYXBbbmV3SW5kZXggLSBzMl0gPSBpICsgMTtcbiAgICAgICAgICBpZiAobmV3SW5kZXggPj0gbWF4TmV3SW5kZXhTb0Zhcikge1xuICAgICAgICAgICAgbWF4TmV3SW5kZXhTb0ZhciA9IG5ld0luZGV4O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb3ZlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgcHJldkNoaWxkLFxuICAgICAgICAgICAgYzJbbmV3SW5kZXhdLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYXRjaGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlID0gbW92ZWQgPyBnZXRTZXF1ZW5jZShuZXdJbmRleFRvT2xkSW5kZXhNYXApIDogRU1QVFlfQVJSO1xuICAgICAgaiA9IGluY3JlYXNpbmdOZXdJbmRleFNlcXVlbmNlLmxlbmd0aCAtIDE7XG4gICAgICBmb3IgKGkgPSB0b0JlUGF0Y2hlZCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG5leHRJbmRleCA9IHMyICsgaTtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbbmV4dEluZGV4XTtcbiAgICAgICAgY29uc3QgYW5jaG9yID0gbmV4dEluZGV4ICsgMSA8IGwyID8gYzJbbmV4dEluZGV4ICsgMV0uZWwgOiBwYXJlbnRBbmNob3I7XG4gICAgICAgIGlmIChuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPT09IDApIHtcbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBuZXh0Q2hpbGQsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAobW92ZWQpIHtcbiAgICAgICAgICBpZiAoaiA8IDAgfHwgaSAhPT0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2Vbal0pIHtcbiAgICAgICAgICAgIG1vdmUobmV4dENoaWxkLCBjb250YWluZXIsIGFuY2hvciwgMik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmUgPSAodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSwgcGFyZW50U3VzcGVuc2UgPSBudWxsKSA9PiB7XG4gICAgY29uc3QgeyBlbCwgdHlwZSwgdHJhbnNpdGlvbiwgY2hpbGRyZW4sIHNoYXBlRmxhZyB9ID0gdm5vZGU7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIG1vdmUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUsIGNvbnRhaW5lciwgYW5jaG9yLCBtb3ZlVHlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAxMjgpIHtcbiAgICAgIHZub2RlLnN1c3BlbnNlLm1vdmUoY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICB0eXBlLm1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBpbnRlcm5hbHMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW92ZShjaGlsZHJlbltpXSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIH1cbiAgICAgIGhvc3RJbnNlcnQodm5vZGUuYW5jaG9yLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgIG1vdmVTdGF0aWNOb2RlKHZub2RlLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG5lZWRUcmFuc2l0aW9uMiA9IG1vdmVUeXBlICE9PSAyICYmIHNoYXBlRmxhZyAmIDEgJiYgdHJhbnNpdGlvbjtcbiAgICBpZiAobmVlZFRyYW5zaXRpb24yKSB7XG4gICAgICBpZiAobW92ZVR5cGUgPT09IDApIHtcbiAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIGhvc3RJbnNlcnQoZWwsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHRyYW5zaXRpb24uZW50ZXIoZWwpLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlLCBhZnRlckxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCByZW1vdmUyID0gKCkgPT4ge1xuICAgICAgICAgIGlmICh2bm9kZS5jdHguaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgbGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZTIoKTtcbiAgICAgICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICAgIGRlbGF5TGVhdmUoZWwsIHJlbW92ZTIsIHBlcmZvcm1MZWF2ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGVyZm9ybUxlYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW5tb3VudCA9ICh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUgPSBmYWxzZSwgb3B0aW1pemVkID0gZmFsc2UpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICByZWYsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGR5bmFtaWNDaGlsZHJlbixcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGRpcnMsXG4gICAgICBjYWNoZUluZGV4XG4gICAgfSA9IHZub2RlO1xuICAgIGlmIChwYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBzZXRSZWYocmVmLCBudWxsLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIHRydWUpO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH1cbiAgICBpZiAoY2FjaGVJbmRleCAhPSBudWxsKSB7XG4gICAgICBwYXJlbnRDb21wb25lbnQucmVuZGVyQ2FjaGVbY2FjaGVJbmRleF0gPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZEludm9rZURpcnMgPSBzaGFwZUZsYWcgJiAxICYmIGRpcnM7XG4gICAgY29uc3Qgc2hvdWxkSW52b2tlVm5vZGVIb29rID0gIWlzQXN5bmNXcmFwcGVyKHZub2RlKTtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGlmIChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICB2bm9kZS5zdXNwZW5zZS51bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVbm1vdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgIHZub2RlLnR5cGUucmVtb3ZlKFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoZHluYW1pY0NoaWxkcmVuICYmIC8vICM1MTU0XG4gICAgICAvLyB3aGVuIHYtb25jZSBpcyB1c2VkIGluc2lkZSBhIGJsb2NrLCBzZXRCbG9ja1RyYWNraW5nKC0xKSBtYXJrcyB0aGVcbiAgICAgIC8vIHBhcmVudCBibG9jayB3aXRoIGhhc09uY2U6IHRydWVcbiAgICAgIC8vIHNvIHRoYXQgaXQgZG9lc24ndCB0YWtlIHRoZSBmYXN0IHBhdGggZHVyaW5nIHVubW91bnQgLSBvdGhlcndpc2VcbiAgICAgIC8vIGNvbXBvbmVudHMgbmVzdGVkIGluIHYtb25jZSBhcmUgbmV2ZXIgdW5tb3VudGVkLlxuICAgICAgIWR5bmFtaWNDaGlsZHJlbi5oYXNPbmNlICYmIC8vICMxMTUzOiBmYXN0IHBhdGggc2hvdWxkIG5vdCBiZSB0YWtlbiBmb3Igbm9uLXN0YWJsZSAodi1mb3IpIGZyYWdtZW50c1xuICAgICAgKHR5cGUgIT09IEZyYWdtZW50IHx8IHBhdGNoRmxhZyA+IDAgJiYgcGF0Y2hGbGFnICYgNjQpKSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihcbiAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gRnJhZ21lbnQgJiYgcGF0Y2hGbGFnICYgKDEyOCB8IDI1NikgfHwgIW9wdGltaXplZCAmJiBzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGRvUmVtb3ZlKSB7XG4gICAgICAgIHJlbW92ZSh2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVVbm1vdW50ZWQpIHx8IHNob3VsZEludm9rZURpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgc2hvdWxkSW52b2tlRGlycyAmJiBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwidW5tb3VudGVkXCIpO1xuICAgICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVtb3ZlID0gKHZub2RlKSA9PiB7XG4gICAgY29uc3QgeyB0eXBlLCBlbCwgYW5jaG9yLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgICBpZiAodHlwZSA9PT0gRnJhZ21lbnQpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHZub2RlLnBhdGNoRmxhZyA+IDAgJiYgdm5vZGUucGF0Y2hGbGFnICYgMjA0OCAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZCkge1xuICAgICAgICB2bm9kZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGlmIChjaGlsZC50eXBlID09PSBDb21tZW50KSB7XG4gICAgICAgICAgICBob3N0UmVtb3ZlKGNoaWxkLmVsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVtb3ZlKGNoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlRnJhZ21lbnQoZWwsIGFuY2hvcik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBTdGF0aWMpIHtcbiAgICAgIHJlbW92ZVN0YXRpY05vZGUodm5vZGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwZXJmb3JtUmVtb3ZlID0gKCkgPT4ge1xuICAgICAgaG9zdFJlbW92ZShlbCk7XG4gICAgICBpZiAodHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQgJiYgdHJhbnNpdGlvbi5hZnRlckxlYXZlKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEgJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICBjb25zdCBwZXJmb3JtTGVhdmUgPSAoKSA9PiBsZWF2ZShlbCwgcGVyZm9ybVJlbW92ZSk7XG4gICAgICBpZiAoZGVsYXlMZWF2ZSkge1xuICAgICAgICBkZWxheUxlYXZlKHZub2RlLmVsLCBwZXJmb3JtUmVtb3ZlLCBwZXJmb3JtTGVhdmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGVyZm9ybUxlYXZlKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcmZvcm1SZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZUZyYWdtZW50ID0gKGN1ciwgZW5kKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGN1ciAhPT0gZW5kKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGN1cik7XG4gICAgICBob3N0UmVtb3ZlKGN1cik7XG4gICAgICBjdXIgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGVuZCk7XG4gIH07XG4gIGNvbnN0IHVubW91bnRDb21wb25lbnQgPSAoaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgdW5yZWdpc3RlckhNUihpbnN0YW5jZSk7XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGJ1bSxcbiAgICAgIHNjb3BlLFxuICAgICAgam9iLFxuICAgICAgc3ViVHJlZSxcbiAgICAgIHVtLFxuICAgICAgbSxcbiAgICAgIGEsXG4gICAgICBwYXJlbnQsXG4gICAgICBzbG90czogeyBfXzogc2xvdENhY2hlS2V5cyB9XG4gICAgfSA9IGluc3RhbmNlO1xuICAgIGludmFsaWRhdGVNb3VudChtKTtcbiAgICBpbnZhbGlkYXRlTW91bnQoYSk7XG4gICAgaWYgKGJ1bSkge1xuICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICB9XG4gICAgaWYgKHBhcmVudCAmJiBpc0FycmF5KHNsb3RDYWNoZUtleXMpKSB7XG4gICAgICBzbG90Q2FjaGVLZXlzLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgcGFyZW50LnJlbmRlckNhY2hlW3ZdID0gdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHNjb3BlLnN0b3AoKTtcbiAgICBpZiAoam9iKSB7XG4gICAgICBqb2IuZmxhZ3MgfD0gODtcbiAgICAgIHVubW91bnQoc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfVxuICAgIGlmICh1bSkge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICBpbnN0YW5jZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFwYXJlbnRTdXNwZW5zZS5pc1VubW91bnRlZCAmJiBpbnN0YW5jZS5hc3luY0RlcCAmJiAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCAmJiBpbnN0YW5jZS5zdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwKSB7XG4gICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW5tb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSwgc3RhcnQgPSAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVubW91bnQoY2hpbGRyZW5baV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gKHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIHJldHVybiBnZXROZXh0SG9zdE5vZGUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xuICAgIH1cbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xuICAgIH1cbiAgICBjb25zdCBlbCA9IGhvc3ROZXh0U2libGluZyh2bm9kZS5hbmNob3IgfHwgdm5vZGUuZWwpO1xuICAgIGNvbnN0IHRlbGVwb3J0RW5kID0gZWwgJiYgZWxbVGVsZXBvcnRFbmRLZXldO1xuICAgIHJldHVybiB0ZWxlcG9ydEVuZCA/IGhvc3ROZXh0U2libGluZyh0ZWxlcG9ydEVuZCkgOiBlbDtcbiAgfTtcbiAgbGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgY29uc3QgcmVuZGVyID0gKHZub2RlLCBjb250YWluZXIsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmICh2bm9kZSA9PSBudWxsKSB7XG4gICAgICBpZiAoY29udGFpbmVyLl92bm9kZSkge1xuICAgICAgICB1bm1vdW50KGNvbnRhaW5lci5fdm5vZGUsIG51bGwsIG51bGwsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgY29udGFpbmVyLl92bm9kZSB8fCBudWxsLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBuYW1lc3BhY2VcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnRhaW5lci5fdm5vZGUgPSB2bm9kZTtcbiAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xuICAgICAgZmx1c2hQcmVGbHVzaENicygpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGludGVybmFscyA9IHtcbiAgICBwOiBwYXRjaCxcbiAgICB1bTogdW5tb3VudCxcbiAgICBtOiBtb3ZlLFxuICAgIHI6IHJlbW92ZSxcbiAgICBtdDogbW91bnRDb21wb25lbnQsXG4gICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgcGM6IHBhdGNoQ2hpbGRyZW4sXG4gICAgcGJjOiBwYXRjaEJsb2NrQ2hpbGRyZW4sXG4gICAgbjogZ2V0TmV4dEhvc3ROb2RlLFxuICAgIG86IG9wdGlvbnNcbiAgfTtcbiAgbGV0IGh5ZHJhdGU7XG4gIGxldCBoeWRyYXRlTm9kZTtcbiAgaWYgKGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICAgIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV0gPSBjcmVhdGVIeWRyYXRpb25GbnMoXG4gICAgICBpbnRlcm5hbHNcbiAgICApO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVuZGVyLFxuICAgIGh5ZHJhdGUsXG4gICAgY3JlYXRlQXBwOiBjcmVhdGVBcHBBUEkocmVuZGVyLCBoeWRyYXRlKVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlKHsgdHlwZSwgcHJvcHMgfSwgY3VycmVudE5hbWVzcGFjZSkge1xuICByZXR1cm4gY3VycmVudE5hbWVzcGFjZSA9PT0gXCJzdmdcIiAmJiB0eXBlID09PSBcImZvcmVpZ25PYmplY3RcIiB8fCBjdXJyZW50TmFtZXNwYWNlID09PSBcIm1hdGhtbFwiICYmIHR5cGUgPT09IFwiYW5ub3RhdGlvbi14bWxcIiAmJiBwcm9wcyAmJiBwcm9wcy5lbmNvZGluZyAmJiBwcm9wcy5lbmNvZGluZy5pbmNsdWRlcyhcImh0bWxcIikgPyB2b2lkIDAgOiBjdXJyZW50TmFtZXNwYWNlO1xufVxuZnVuY3Rpb24gdG9nZ2xlUmVjdXJzZSh7IGVmZmVjdCwgam9iIH0sIGFsbG93ZWQpIHtcbiAgaWYgKGFsbG93ZWQpIHtcbiAgICBlZmZlY3QuZmxhZ3MgfD0gMzI7XG4gICAgam9iLmZsYWdzIHw9IDQ7XG4gIH0gZWxzZSB7XG4gICAgZWZmZWN0LmZsYWdzICY9IC0zMztcbiAgICBqb2IuZmxhZ3MgJj0gLTU7XG4gIH1cbn1cbmZ1bmN0aW9uIG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKSB7XG4gIHJldHVybiAoIXBhcmVudFN1c3BlbnNlIHx8IHBhcmVudFN1c3BlbnNlICYmICFwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcbiAgY29uc3QgY2gxID0gbjEuY2hpbGRyZW47XG4gIGNvbnN0IGNoMiA9IG4yLmNoaWxkcmVuO1xuICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjMSA9IGNoMVtpXTtcbiAgICAgIGxldCBjMiA9IGNoMltpXTtcbiAgICAgIGlmIChjMi5zaGFwZUZsYWcgJiAxICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGMyLnBhdGNoRmxhZyA8PSAwIHx8IGMyLnBhdGNoRmxhZyA9PT0gMzIpIHtcbiAgICAgICAgICBjMiA9IGNoMltpXSA9IGNsb25lSWZNb3VudGVkKGNoMltpXSk7XG4gICAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgYzIucGF0Y2hGbGFnICE9PSAtMilcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKGMxLCBjMik7XG4gICAgICB9XG4gICAgICBpZiAoYzIudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgICAgaWYgKGMyLnR5cGUgPT09IENvbW1lbnQgJiYgIWMyLmVsKSB7XG4gICAgICAgIGMyLmVsID0gYzEuZWw7XG4gICAgICB9XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBjMi5lbCAmJiAoYzIuZWwuX192bm9kZSA9IGMyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xuICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgbGV0IGksIGosIHUsIHYsIGM7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgaWYgKGFyckkgIT09IDApIHtcbiAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcbiAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHUgPSAwO1xuICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgd2hpbGUgKHUgPCB2KSB7XG4gICAgICAgIGMgPSB1ICsgdiA+PiAxO1xuICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XG4gICAgICAgICAgdSA9IGMgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHYgPSBjO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFt1XSA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHUgPSByZXN1bHQubGVuZ3RoO1xuICB2ID0gcmVzdWx0W3UgLSAxXTtcbiAgd2hpbGUgKHUtLSA+IDApIHtcbiAgICByZXN1bHRbdV0gPSB2O1xuICAgIHYgPSBwW3ZdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSkge1xuICBjb25zdCBzdWJDb21wb25lbnQgPSBpbnN0YW5jZS5zdWJUcmVlLmNvbXBvbmVudDtcbiAgaWYgKHN1YkNvbXBvbmVudCkge1xuICAgIGlmIChzdWJDb21wb25lbnQuYXN5bmNEZXAgJiYgIXN1YkNvbXBvbmVudC5hc3luY1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm4gc3ViQ29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3Qoc3ViQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGludmFsaWRhdGVNb3VudChob29rcykge1xuICBpZiAoaG9va3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKVxuICAgICAgaG9va3NbaV0uZmxhZ3MgfD0gODtcbiAgfVxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sLmZvcihcInYtc2N4XCIpO1xuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcbiAge1xuICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIHVzZVNTUkNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGN0eDtcbiAgfVxufTtcblxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB3YXRjaFBvc3RFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwicG9zdFwiIH0pIDogeyBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2hTeW5jRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChcbiAgICBlZmZlY3QsXG4gICAgbnVsbCxcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGZsdXNoOiBcInN5bmNcIiB9KSA6IHsgZmx1c2g6IFwic3luY1wiIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzRnVuY3Rpb24oY2IpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYFxcYHdhdGNoKGZuLCBvcHRpb25zPylcXGAgc2lnbmF0dXJlIGhhcyBiZWVuIG1vdmVkIHRvIGEgc2VwYXJhdGUgQVBJLiBVc2UgXFxgd2F0Y2hFZmZlY3QoZm4sIG9wdGlvbnM/KVxcYCBpbnN0ZWFkLiBcXGB3YXRjaFxcYCBub3cgb25seSBzdXBwb3J0cyBcXGB3YXRjaChzb3VyY2UsIGNiLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICApO1xuICB9XG4gIHJldHVybiBkb1dhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gZG9XYXRjaChzb3VyY2UsIGNiLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IHsgaW1tZWRpYXRlLCBkZWVwLCBmbHVzaCwgb25jZSB9ID0gb3B0aW9ucztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWNiKSB7XG4gICAgaWYgKGltbWVkaWF0ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwiaW1tZWRpYXRlXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRlZXAgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcImRlZXBcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob25jZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGB3YXRjaCgpIFwib25jZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGJhc2VXYXRjaE9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgYmFzZVdhdGNoT3B0aW9ucy5vbldhcm4gPSB3YXJuJDE7XG4gIGNvbnN0IHJ1bnNJbW1lZGlhdGVseSA9IGNiICYmIGltbWVkaWF0ZSB8fCAhY2IgJiYgZmx1c2ggIT09IFwicG9zdFwiO1xuICBsZXQgc3NyQ2xlYW51cDtcbiAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgIGlmIChmbHVzaCA9PT0gXCJzeW5jXCIpIHtcbiAgICAgIGNvbnN0IGN0eCA9IHVzZVNTUkNvbnRleHQoKTtcbiAgICAgIHNzckNsZWFudXAgPSBjdHguX193YXRjaGVySGFuZGxlcyB8fCAoY3R4Ll9fd2F0Y2hlckhhbmRsZXMgPSBbXSk7XG4gICAgfSBlbHNlIGlmICghcnVuc0ltbWVkaWF0ZWx5KSB7XG4gICAgICBjb25zdCB3YXRjaFN0b3BIYW5kbGUgPSAoKSA9PiB7XG4gICAgICB9O1xuICAgICAgd2F0Y2hTdG9wSGFuZGxlLnN0b3AgPSBOT09QO1xuICAgICAgd2F0Y2hTdG9wSGFuZGxlLnJlc3VtZSA9IE5PT1A7XG4gICAgICB3YXRjaFN0b3BIYW5kbGUucGF1c2UgPSBOT09QO1xuICAgICAgcmV0dXJuIHdhdGNoU3RvcEhhbmRsZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGJhc2VXYXRjaE9wdGlvbnMuY2FsbCA9IChmbiwgdHlwZSwgYXJncykgPT4gY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgbGV0IGlzUHJlID0gZmFsc2U7XG4gIGlmIChmbHVzaCA9PT0gXCJwb3N0XCIpIHtcbiAgICBiYXNlV2F0Y2hPcHRpb25zLnNjaGVkdWxlciA9IChqb2IpID0+IHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcbiAgICB9O1xuICB9IGVsc2UgaWYgKGZsdXNoICE9PSBcInN5bmNcIikge1xuICAgIGlzUHJlID0gdHJ1ZTtcbiAgICBiYXNlV2F0Y2hPcHRpb25zLnNjaGVkdWxlciA9IChqb2IsIGlzRmlyc3RSdW4pID0+IHtcbiAgICAgIGlmIChpc0ZpcnN0UnVuKSB7XG4gICAgICAgIGpvYigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVKb2Ioam9iKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGJhc2VXYXRjaE9wdGlvbnMuYXVnbWVudEpvYiA9IChqb2IpID0+IHtcbiAgICBpZiAoY2IpIHtcbiAgICAgIGpvYi5mbGFncyB8PSA0O1xuICAgIH1cbiAgICBpZiAoaXNQcmUpIHtcbiAgICAgIGpvYi5mbGFncyB8PSAyO1xuICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICAgICAgam9iLmkgPSBpbnN0YW5jZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHdhdGNoSGFuZGxlID0gd2F0Y2gkMShzb3VyY2UsIGNiLCBiYXNlV2F0Y2hPcHRpb25zKTtcbiAgaWYgKGlzSW5TU1JDb21wb25lbnRTZXR1cCkge1xuICAgIGlmIChzc3JDbGVhbnVwKSB7XG4gICAgICBzc3JDbGVhbnVwLnB1c2god2F0Y2hIYW5kbGUpO1xuICAgIH0gZWxzZSBpZiAocnVuc0ltbWVkaWF0ZWx5KSB7XG4gICAgICB3YXRjaEhhbmRsZSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gd2F0Y2hIYW5kbGU7XG59XG5mdW5jdGlvbiBpbnN0YW5jZVdhdGNoKHNvdXJjZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgcHVibGljVGhpcyA9IHRoaXMucHJveHk7XG4gIGNvbnN0IGdldHRlciA9IGlzU3RyaW5nKHNvdXJjZSkgPyBzb3VyY2UuaW5jbHVkZXMoXCIuXCIpID8gY3JlYXRlUGF0aEdldHRlcihwdWJsaWNUaGlzLCBzb3VyY2UpIDogKCkgPT4gcHVibGljVGhpc1tzb3VyY2VdIDogc291cmNlLmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gIGxldCBjYjtcbiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgY2IgPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjYiA9IHZhbHVlLmhhbmRsZXI7XG4gICAgb3B0aW9ucyA9IHZhbHVlO1xuICB9XG4gIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKHRoaXMpO1xuICBjb25zdCByZXMgPSBkb1dhdGNoKGdldHRlciwgY2IuYmluZChwdWJsaWNUaGlzKSwgb3B0aW9ucyk7XG4gIHJlc2V0KCk7XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoR2V0dGVyKGN0eCwgcGF0aCkge1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGxldCBjdXIgPSBjdHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGggJiYgY3VyOyBpKyspIHtcbiAgICAgIGN1ciA9IGN1cltzZWdtZW50c1tpXV07XG4gICAgfVxuICAgIHJldHVybiBjdXI7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZU1vZGVsKHByb3BzLCBuYW1lLCBvcHRpb25zID0gRU1QVFlfT0JKKSB7XG4gIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWkpIHtcbiAgICB3YXJuJDEoYHVzZU1vZGVsKCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICAgIHJldHVybiByZWYoKTtcbiAgfVxuICBjb25zdCBjYW1lbGl6ZWROYW1lID0gY2FtZWxpemUobmFtZSk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpLnByb3BzT3B0aW9uc1swXVtjYW1lbGl6ZWROYW1lXSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aCBwcm9wIFwiJHtuYW1lfVwiIHdoaWNoIGlzIG5vdCBkZWNsYXJlZC5gKTtcbiAgICByZXR1cm4gcmVmKCk7XG4gIH1cbiAgY29uc3QgaHlwaGVuYXRlZE5hbWUgPSBoeXBoZW5hdGUobmFtZSk7XG4gIGNvbnN0IG1vZGlmaWVycyA9IGdldE1vZGVsTW9kaWZpZXJzKHByb3BzLCBjYW1lbGl6ZWROYW1lKTtcbiAgY29uc3QgcmVzID0gY3VzdG9tUmVmKCh0cmFjaywgdHJpZ2dlcikgPT4ge1xuICAgIGxldCBsb2NhbFZhbHVlO1xuICAgIGxldCBwcmV2U2V0VmFsdWUgPSBFTVBUWV9PQko7XG4gICAgbGV0IHByZXZFbWl0dGVkVmFsdWU7XG4gICAgd2F0Y2hTeW5jRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IHByb3BWYWx1ZSA9IHByb3BzW2NhbWVsaXplZE5hbWVdO1xuICAgICAgaWYgKGhhc0NoYW5nZWQobG9jYWxWYWx1ZSwgcHJvcFZhbHVlKSkge1xuICAgICAgICBsb2NhbFZhbHVlID0gcHJvcFZhbHVlO1xuICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0ID8gb3B0aW9ucy5nZXQobG9jYWxWYWx1ZSkgOiBsb2NhbFZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBlbWl0dGVkVmFsdWUgPSBvcHRpb25zLnNldCA/IG9wdGlvbnMuc2V0KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICBpZiAoIWhhc0NoYW5nZWQoZW1pdHRlZFZhbHVlLCBsb2NhbFZhbHVlKSAmJiAhKHByZXZTZXRWYWx1ZSAhPT0gRU1QVFlfT0JKICYmIGhhc0NoYW5nZWQodmFsdWUsIHByZXZTZXRWYWx1ZSkpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhd1Byb3BzID0gaS52bm9kZS5wcm9wcztcbiAgICAgICAgaWYgKCEocmF3UHJvcHMgJiYgLy8gY2hlY2sgaWYgcGFyZW50IGhhcyBwYXNzZWQgdi1tb2RlbFxuICAgICAgICAobmFtZSBpbiByYXdQcm9wcyB8fCBjYW1lbGl6ZWROYW1lIGluIHJhd1Byb3BzIHx8IGh5cGhlbmF0ZWROYW1lIGluIHJhd1Byb3BzKSAmJiAoYG9uVXBkYXRlOiR7bmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2NhbWVsaXplZE5hbWV9YCBpbiByYXdQcm9wcyB8fCBgb25VcGRhdGU6JHtoeXBoZW5hdGVkTmFtZX1gIGluIHJhd1Byb3BzKSkpIHtcbiAgICAgICAgICBsb2NhbFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgICB9XG4gICAgICAgIGkuZW1pdChgdXBkYXRlOiR7bmFtZX1gLCBlbWl0dGVkVmFsdWUpO1xuICAgICAgICBpZiAoaGFzQ2hhbmdlZCh2YWx1ZSwgZW1pdHRlZFZhbHVlKSAmJiBoYXNDaGFuZ2VkKHZhbHVlLCBwcmV2U2V0VmFsdWUpICYmICFoYXNDaGFuZ2VkKGVtaXR0ZWRWYWx1ZSwgcHJldkVtaXR0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldlNldFZhbHVlID0gdmFsdWU7XG4gICAgICAgIHByZXZFbWl0dGVkVmFsdWUgPSBlbWl0dGVkVmFsdWU7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJlc1tTeW1ib2wuaXRlcmF0b3JdID0gKCkgPT4ge1xuICAgIGxldCBpMiA9IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5leHQoKSB7XG4gICAgICAgIGlmIChpMiA8IDIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogaTIrKyA/IG1vZGlmaWVycyB8fCBFTVBUWV9PQkogOiByZXMsIGRvbmU6IGZhbHNlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHJlcztcbn1cbmNvbnN0IGdldE1vZGVsTW9kaWZpZXJzID0gKHByb3BzLCBtb2RlbE5hbWUpID0+IHtcbiAgcmV0dXJuIG1vZGVsTmFtZSA9PT0gXCJtb2RlbFZhbHVlXCIgfHwgbW9kZWxOYW1lID09PSBcIm1vZGVsLXZhbHVlXCIgPyBwcm9wcy5tb2RlbE1vZGlmaWVycyA6IHByb3BzW2Ake21vZGVsTmFtZX1Nb2RpZmllcnNgXSB8fCBwcm9wc1tgJHtjYW1lbGl6ZShtb2RlbE5hbWUpfU1vZGlmaWVyc2BdIHx8IHByb3BzW2Ake2h5cGhlbmF0ZShtb2RlbE5hbWUpfU1vZGlmaWVyc2BdO1xufTtcblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcbiAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkKSByZXR1cm47XG4gIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVtaXRzT3B0aW9ucyxcbiAgICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc11cbiAgICB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGVtaXRzT3B0aW9ucykge1xuICAgICAgaWYgKCEoZXZlbnQgaW4gZW1pdHNPcHRpb25zKSAmJiB0cnVlKSB7XG4gICAgICAgIGlmICghcHJvcHNPcHRpb25zIHx8ICEodG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSkgaW4gcHJvcHNPcHRpb25zKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBDb21wb25lbnQgZW1pdHRlZCBldmVudCBcIiR7ZXZlbnR9XCIgYnV0IGl0IGlzIG5laXRoZXIgZGVjbGFyZWQgaW4gdGhlIGVtaXRzIG9wdGlvbiBub3IgYXMgYW4gXCIke3RvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpfVwiIHByb3AuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRvciA9IGVtaXRzT3B0aW9uc1tldmVudF07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbGlkYXRvcikpIHtcbiAgICAgICAgICBjb25zdCBpc1ZhbGlkID0gdmFsaWRhdG9yKC4uLnJhd0FyZ3MpO1xuICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgSW52YWxpZCBldmVudCBhcmd1bWVudHM6IGV2ZW50IHZhbGlkYXRpb24gZmFpbGVkIGZvciBldmVudCBcIiR7ZXZlbnR9XCIuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGFyZ3MgPSByYXdBcmdzO1xuICBjb25zdCBpc01vZGVsTGlzdGVuZXIgPSBldmVudC5zdGFydHNXaXRoKFwidXBkYXRlOlwiKTtcbiAgY29uc3QgbW9kaWZpZXJzID0gaXNNb2RlbExpc3RlbmVyICYmIGdldE1vZGVsTW9kaWZpZXJzKHByb3BzLCBldmVudC5zbGljZSg3KSk7XG4gIGlmIChtb2RpZmllcnMpIHtcbiAgICBpZiAobW9kaWZpZXJzLnRyaW0pIHtcbiAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcCgoYSkgPT4gaXNTdHJpbmcoYSkgPyBhLnRyaW0oKSA6IGEpO1xuICAgIH1cbiAgICBpZiAobW9kaWZpZXJzLm51bWJlcikge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKGxvb3NlVG9OdW1iZXIpO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBkZXZ0b29sc0NvbXBvbmVudEVtaXQoaW5zdGFuY2UsIGV2ZW50LCBhcmdzKTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGxvd2VyQ2FzZUV2ZW50ID0gZXZlbnQudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHByb3BzW3RvSGFuZGxlcktleShsb3dlckNhc2VFdmVudCldKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBFdmVudCBcIiR7bG93ZXJDYXNlRXZlbnR9XCIgaXMgZW1pdHRlZCBpbiBjb21wb25lbnQgJHtmb3JtYXRDb21wb25lbnROYW1lKFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIGluc3RhbmNlLnR5cGVcbiAgICAgICAgKX0gYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFwiJHtldmVudH1cIi4gTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2Ugdi1vbiB0byBsaXN0ZW4gdG8gY2FtZWxDYXNlIGV2ZW50cyB3aGVuIHVzaW5nIGluLURPTSB0ZW1wbGF0ZXMuIFlvdSBzaG91bGQgcHJvYmFibHkgdXNlIFwiJHtoeXBoZW5hdGUoXG4gICAgICAgICAgZXZlbnRcbiAgICAgICAgKX1cIiBpbnN0ZWFkIG9mIFwiJHtldmVudH1cIi5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBsZXQgaGFuZGxlck5hbWU7XG4gIGxldCBoYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgPSB0b0hhbmRsZXJLZXkoZXZlbnQpXSB8fCAvLyBhbHNvIHRyeSBjYW1lbENhc2UgZXZlbnQgaGFuZGxlciAoIzIyNDkpXG4gIHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGNhbWVsaXplKGV2ZW50KSldO1xuICBpZiAoIWhhbmRsZXIgJiYgaXNNb2RlbExpc3RlbmVyKSB7XG4gICAgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGh5cGhlbmF0ZShldmVudCkpXTtcbiAgfVxuICBpZiAoaGFuZGxlcikge1xuICAgIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKFxuICAgICAgaGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNixcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9XG4gIGNvbnN0IG9uY2VIYW5kbGVyID0gcHJvcHNbaGFuZGxlck5hbWUgKyBgT25jZWBdO1xuICBpZiAob25jZUhhbmRsZXIpIHtcbiAgICBpZiAoIWluc3RhbmNlLmVtaXR0ZWQpIHtcbiAgICAgIGluc3RhbmNlLmVtaXR0ZWQgPSB7fTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGluc3RhbmNlLmVtaXR0ZWRbaGFuZGxlck5hbWVdID0gdHJ1ZTtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIG9uY2VIYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA2LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBhcHBDb250ZXh0LmVtaXRzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByYXcgPSBjb21wLmVtaXRzO1xuICBsZXQgbm9ybWFsaXplZCA9IHt9O1xuICBsZXQgaGFzRXh0ZW5kcyA9IGZhbHNlO1xuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiAhaXNGdW5jdGlvbihjb21wKSkge1xuICAgIGNvbnN0IGV4dGVuZEVtaXRzID0gKHJhdzIpID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRGcm9tRXh0ZW5kID0gbm9ybWFsaXplRW1pdHNPcHRpb25zKHJhdzIsIGFwcENvbnRleHQsIHRydWUpO1xuICAgICAgaWYgKG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKSB7XG4gICAgICAgIGhhc0V4dGVuZHMgPSB0cnVlO1xuICAgICAgICBleHRlbmQobm9ybWFsaXplZCwgbm9ybWFsaXplZEZyb21FeHRlbmQpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZEVtaXRzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRFbWl0cyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgbnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICByYXcuZm9yRWFjaCgoa2V5KSA9PiBub3JtYWxpemVkW2tleV0gPSBudWxsKTtcbiAgfSBlbHNlIHtcbiAgICBleHRlbmQobm9ybWFsaXplZCwgcmF3KTtcbiAgfVxuICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICBjYWNoZS5zZXQoY29tcCwgbm9ybWFsaXplZCk7XG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG5mdW5jdGlvbiBpc0VtaXRMaXN0ZW5lcihvcHRpb25zLCBrZXkpIHtcbiAgaWYgKCFvcHRpb25zIHx8ICFpc09uKGtleSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAga2V5ID0ga2V5LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywgXCJcIik7XG4gIHJldHVybiBoYXNPd24ob3B0aW9ucywga2V5WzBdLnRvTG93ZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSkpIHx8IGhhc093bihvcHRpb25zLCBoeXBoZW5hdGUoa2V5KSkgfHwgaGFzT3duKG9wdGlvbnMsIGtleSk7XG59XG5cbmxldCBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcbiAgYWNjZXNzZWRBdHRycyA9IHRydWU7XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgdm5vZGUsXG4gICAgcHJveHksXG4gICAgd2l0aFByb3h5LFxuICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sXG4gICAgc2xvdHMsXG4gICAgYXR0cnMsXG4gICAgZW1pdCxcbiAgICByZW5kZXIsXG4gICAgcmVuZGVyQ2FjaGUsXG4gICAgcHJvcHMsXG4gICAgZGF0YSxcbiAgICBzZXR1cFN0YXRlLFxuICAgIGN0eCxcbiAgICBpbmhlcml0QXR0cnNcbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKTtcbiAgbGV0IHJlc3VsdDtcbiAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQpIHtcbiAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XG4gICAgICBjb25zdCB0aGlzUHJveHkgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwID8gbmV3IFByb3h5KHByb3h5VG9Vc2UsIHtcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBQcm9wZXJ0eSAnJHtTdHJpbmcoXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKX0nIHdhcyBhY2Nlc3NlZCB2aWEgJ3RoaXMnLiBBdm9pZCB1c2luZyAndGhpcycgaW4gdGVtcGxhdGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICB9KSA6IHByb3h5VG9Vc2U7XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyLmNhbGwoXG4gICAgICAgICAgdGhpc1Byb3h5LFxuICAgICAgICAgIHByb3h5VG9Vc2UsXG4gICAgICAgICAgcmVuZGVyQ2FjaGUsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBzZXR1cFN0YXRlLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgY3R4XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlbmRlcjIgPSBDb21wb25lbnQ7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcbiAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIyLmxlbmd0aCA+IDEgPyByZW5kZXIyKFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShhdHRycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdHMsXG4gICAgICAgICAgICBlbWl0XG4gICAgICAgICAgfSA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH1cbiAgICAgICAgKSA6IHJlbmRlcjIoXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBudWxsXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzID8gYXR0cnMgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xuICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEpO1xuICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9XG4gIGxldCByb290ID0gcmVzdWx0O1xuICBsZXQgc2V0Um9vdCA9IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiYgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcbiAgfVxuICBpZiAoZmFsbHRocm91Z2hBdHRycyAmJiBpbmhlcml0QXR0cnMgIT09IGZhbHNlKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNikpIHtcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xuICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBmaWx0ZXJNb2RlbExpc3RlbmVycyhcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMsXG4gICAgICAgICAgICBwcm9wc09wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhYWNjZXNzZWRBdHRycyAmJiByb290LnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XG4gICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcbiAgICAgICAgY29uc3QgZXh0cmFBdHRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGFsbEF0dHJzW2ldO1xuICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzICgke2V4dHJhQXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IG9yIHRlbGVwb3J0IHJvb3Qgbm9kZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50QXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLWVtaXRzIGV2ZW50IGxpc3RlbmVycyAoJHtldmVudEF0dHJzLmpvaW4oXCIsIFwiKX0pIHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIFRoZSBkaXJlY3RpdmVzIHdpbGwgbm90IGZ1bmN0aW9uIGFzIGludGVuZGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIG51bGwsIGZhbHNlLCB0cnVlKTtcbiAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcbiAgfVxuICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSB0aGF0IGNhbm5vdCBiZSBhbmltYXRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICBzZXRUcmFuc2l0aW9uSG9va3Mocm9vdCwgdm5vZGUudHJhbnNpdGlvbik7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgc2V0Um9vdCkge1xuICAgIHNldFJvb3Qocm9vdCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gcm9vdDtcbiAgfVxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UocHJldik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBnZXRDaGlsZFJvb3QgPSAodm5vZGUpID0+IHtcbiAgY29uc3QgcmF3Q2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjtcbiAgY29uc3QgZHluYW1pY0NoaWxkcmVuID0gdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICBjb25zdCBjaGlsZFJvb3QgPSBmaWx0ZXJTaW5nbGVSb290KHJhd0NoaWxkcmVuLCBmYWxzZSk7XG4gIGlmICghY2hpbGRSb290KSB7XG4gICAgcmV0dXJuIFt2bm9kZSwgdm9pZCAwXTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoaWxkUm9vdC5wYXRjaEZsYWcgPiAwICYmIGNoaWxkUm9vdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgcmV0dXJuIGdldENoaWxkUm9vdChjaGlsZFJvb3QpO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gcmF3Q2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpO1xuICBjb25zdCBkeW5hbWljSW5kZXggPSBkeW5hbWljQ2hpbGRyZW4gPyBkeW5hbWljQ2hpbGRyZW4uaW5kZXhPZihjaGlsZFJvb3QpIDogLTE7XG4gIGNvbnN0IHNldFJvb3QgPSAodXBkYXRlZFJvb3QpID0+IHtcbiAgICByYXdDaGlsZHJlbltpbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICBpZiAoZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICBpZiAoZHluYW1pY0luZGV4ID4gLTEpIHtcbiAgICAgICAgZHluYW1pY0NoaWxkcmVuW2R5bmFtaWNJbmRleF0gPSB1cGRhdGVkUm9vdDtcbiAgICAgIH0gZWxzZSBpZiAodXBkYXRlZFJvb3QucGF0Y2hGbGFnID4gMCkge1xuICAgICAgICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBbLi4uZHluYW1pY0NoaWxkcmVuLCB1cGRhdGVkUm9vdF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gW25vcm1hbGl6ZVZOb2RlKGNoaWxkUm9vdCksIHNldFJvb3RdO1xufTtcbmZ1bmN0aW9uIGZpbHRlclNpbmdsZVJvb3QoY2hpbGRyZW4sIHJlY3Vyc2UgPSB0cnVlKSB7XG4gIGxldCBzaW5nbGVSb290O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoaXNWTm9kZShjaGlsZCkpIHtcbiAgICAgIGlmIChjaGlsZC50eXBlICE9PSBDb21tZW50IHx8IGNoaWxkLmNoaWxkcmVuID09PSBcInYtaWZcIikge1xuICAgICAgICBpZiAoc2luZ2xlUm9vdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaW5nbGVSb290ID0gY2hpbGQ7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVjdXJzZSAmJiBzaW5nbGVSb290LnBhdGNoRmxhZyA+IDAgJiYgc2luZ2xlUm9vdC5wYXRjaEZsYWcgJiAyMDQ4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsdGVyU2luZ2xlUm9vdChzaW5nbGVSb290LmNoaWxkcmVuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2luZ2xlUm9vdDtcbn1cbmNvbnN0IGdldEZ1bmN0aW9uYWxGYWxsdGhyb3VnaCA9IChhdHRycykgPT4ge1xuICBsZXQgcmVzO1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgIGlmIChrZXkgPT09IFwiY2xhc3NcIiB8fCBrZXkgPT09IFwic3R5bGVcIiB8fCBpc09uKGtleSkpIHtcbiAgICAgIChyZXMgfHwgKHJlcyA9IHt9KSlba2V5XSA9IGF0dHJzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuY29uc3QgZmlsdGVyTW9kZWxMaXN0ZW5lcnMgPSAoYXR0cnMsIHByb3BzKSA9PiB7XG4gIGNvbnN0IHJlcyA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRycykge1xuICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkgfHwgIShrZXkuc2xpY2UoOSkgaW4gcHJvcHMpKSB7XG4gICAgICByZXNba2V5XSA9IGF0dHJzW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuY29uc3QgaXNFbGVtZW50Um9vdCA9ICh2bm9kZSkgPT4ge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgKDYgfCAxKSB8fCB2bm9kZS50eXBlID09PSBDb21tZW50O1xufTtcbmZ1bmN0aW9uIHNob3VsZFVwZGF0ZUNvbXBvbmVudChwcmV2Vk5vZGUsIG5leHRWTm9kZSwgb3B0aW1pemVkKSB7XG4gIGNvbnN0IHsgcHJvcHM6IHByZXZQcm9wcywgY2hpbGRyZW46IHByZXZDaGlsZHJlbiwgY29tcG9uZW50IH0gPSBwcmV2Vk5vZGU7XG4gIGNvbnN0IHsgcHJvcHM6IG5leHRQcm9wcywgY2hpbGRyZW46IG5leHRDaGlsZHJlbiwgcGF0Y2hGbGFnIH0gPSBuZXh0Vk5vZGU7XG4gIGNvbnN0IGVtaXRzID0gY29tcG9uZW50LmVtaXRzT3B0aW9ucztcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAobmV4dFZOb2RlLmRpcnMgfHwgbmV4dFZOb2RlLnRyYW5zaXRpb24pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAob3B0aW1pemVkICYmIHBhdGNoRmxhZyA+PSAwKSB7XG4gICAgaWYgKHBhdGNoRmxhZyAmIDEwMjQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocGF0Y2hGbGFnICYgMTYpIHtcbiAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgIHJldHVybiAhIW5leHRQcm9wcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDgpIHtcbiAgICAgIGNvbnN0IGR5bmFtaWNQcm9wcyA9IG5leHRWTm9kZS5keW5hbWljUHJvcHM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGR5bmFtaWNQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBrZXkgPSBkeW5hbWljUHJvcHNbaV07XG4gICAgICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiYgIWlzRW1pdExpc3RlbmVyKGVtaXRzLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHByZXZDaGlsZHJlbiB8fCBuZXh0Q2hpbGRyZW4pIHtcbiAgICAgIGlmICghbmV4dENoaWxkcmVuIHx8ICFuZXh0Q2hpbGRyZW4uJHN0YWJsZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByZXZQcm9wcyA9PT0gbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgfVxuICAgIGlmICghbmV4dFByb3BzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHMpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGhhc1Byb3BzQ2hhbmdlZChwcmV2UHJvcHMsIG5leHRQcm9wcywgZW1pdHNPcHRpb25zKSB7XG4gIGNvbnN0IG5leHRLZXlzID0gT2JqZWN0LmtleXMobmV4dFByb3BzKTtcbiAgaWYgKG5leHRLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMocHJldlByb3BzKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0gbmV4dEtleXNbaV07XG4gICAgaWYgKG5leHRQcm9wc1trZXldICE9PSBwcmV2UHJvcHNba2V5XSAmJiAhaXNFbWl0TGlzdGVuZXIoZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdXBkYXRlSE9DSG9zdEVsKHsgdm5vZGUsIHBhcmVudCB9LCBlbCkge1xuICB3aGlsZSAocGFyZW50KSB7XG4gICAgY29uc3Qgcm9vdCA9IHBhcmVudC5zdWJUcmVlO1xuICAgIGlmIChyb290LnN1c3BlbnNlICYmIHJvb3Quc3VzcGVuc2UuYWN0aXZlQnJhbmNoID09PSB2bm9kZSkge1xuICAgICAgcm9vdC5lbCA9IHZub2RlLmVsO1xuICAgIH1cbiAgICBpZiAocm9vdCA9PT0gdm5vZGUpIHtcbiAgICAgICh2bm9kZSA9IHBhcmVudC52bm9kZSkuZWwgPSBlbDtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBpc1N1c3BlbnNlID0gKHR5cGUpID0+IHR5cGUuX19pc1N1c3BlbnNlO1xubGV0IHN1c3BlbnNlSWQgPSAwO1xuY29uc3QgU3VzcGVuc2VJbXBsID0ge1xuICBuYW1lOiBcIlN1c3BlbnNlXCIsXG4gIC8vIEluIG9yZGVyIHRvIG1ha2UgU3VzcGVuc2UgdHJlZS1zaGFrYWJsZSwgd2UgbmVlZCB0byBhdm9pZCBpbXBvcnRpbmcgaXRcbiAgLy8gZGlyZWN0bHkgaW4gdGhlIHJlbmRlcmVyLiBUaGUgcmVuZGVyZXIgY2hlY2tzIGZvciB0aGUgX19pc1N1c3BlbnNlIGZsYWdcbiAgLy8gb24gYSB2bm9kZSdzIHR5cGUgYW5kIGNhbGxzIHRoZSBgcHJvY2Vzc2AgbWV0aG9kLCBwYXNzaW5nIGluIHJlbmRlcmVyXG4gIC8vIGludGVybmFscy5cbiAgX19pc1N1c3BlbnNlOiB0cnVlLFxuICBwcm9jZXNzKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzKSB7XG4gICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgIG1vdW50U3VzcGVuc2UoXG4gICAgICAgIG4yLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5kZXBzID4gMCAmJiAhbjEuc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIG4yLnN1c3BlbnNlID0gbjEuc3VzcGVuc2U7XG4gICAgICAgIG4yLnN1c3BlbnNlLnZub2RlID0gbjI7XG4gICAgICAgIG4yLmVsID0gbjEuZWw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhdGNoU3VzcGVuc2UoXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHNcbiAgICAgICk7XG4gICAgfVxuICB9LFxuICBoeWRyYXRlOiBoeWRyYXRlU3VzcGVuc2UsXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbmNvbnN0IFN1c3BlbnNlID0gU3VzcGVuc2VJbXBsIDtcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudCh2bm9kZSwgbmFtZSkge1xuICBjb25zdCBldmVudExpc3RlbmVyID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHNbbmFtZV07XG4gIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgZXZlbnRMaXN0ZW5lcigpO1xuICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkoXG4gICAgdm5vZGUsXG4gICAgcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgYW5jaG9yLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHMsXG4gICAgb3B0aW1pemVkLFxuICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICk7XG4gIHBhdGNoKFxuICAgIG51bGwsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgbnVsbCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkc1xuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25QZW5kaW5nXCIpO1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvbkZhbGxiYWNrXCIpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLnNzRmFsbGJhY2ssXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuZnVuY3Rpb24gcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgbjIuZWwgPSBuMS5lbDtcbiAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xuICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcbiAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmlnZ2VyRXZlbnQobjIsIFwib25QZW5kaW5nXCIpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgIGlmIChuZXdCcmFuY2guc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IG5ld0JyYW5jaC5jb21wb25lbnQuc3VzcGVuc2VJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIH1cbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xuICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/IFwiaW5mb1wiIDogXCJsb2dcIl0oXG4gICAgICBgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG06IG1vdmUsXG4gICAgdW06IHVubW91bnQsXG4gICAgbjogbmV4dCxcbiAgICBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgbGV0IHBhcmVudFN1c3BlbnNlSWQ7XG4gIGNvbnN0IGlzU3VzcGVuc2libGUgPSBpc1ZOb2RlU3VzcGVuc2libGUodm5vZGUpO1xuICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICBwYXJlbnRTdXNwZW5zZUlkID0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkO1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcysrO1xuICAgIH1cbiAgfVxuICBjb25zdCB0aW1lb3V0ID0gdm5vZGUucHJvcHMgPyB0b051bWJlcih2bm9kZS5wcm9wcy50aW1lb3V0KSA6IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIodGltZW91dCwgYFN1c3BlbnNlIHRpbWVvdXRgKTtcbiAgfVxuICBjb25zdCBpbml0aWFsQW5jaG9yID0gYW5jaG9yO1xuICBjb25zdCBzdXNwZW5zZSA9IHtcbiAgICB2bm9kZSxcbiAgICBwYXJlbnQ6IHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBuYW1lc3BhY2UsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBkZXBzOiAwLFxuICAgIHBlbmRpbmdJZDogc3VzcGVuc2VJZCsrLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSBcIm51bWJlclwiID8gdGltZW91dCA6IC0xLFxuICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcbiAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxuICAgIGlzSW5GYWxsYmFjazogIWlzSHlkcmF0aW5nLFxuICAgIGlzSHlkcmF0aW5nLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBlZmZlY3RzOiBbXSxcbiAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlLCBzeW5jID0gZmFsc2UpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGlmICghcmVzdW1lICYmICFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXNwZW5zZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZub2RlOiB2bm9kZTIsXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgcGVuZGluZ0lkLFxuICAgICAgICBlZmZlY3RzLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQ6IHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyMlxuICAgICAgfSA9IHN1c3BlbnNlO1xuICAgICAgbGV0IGRlbGF5RW50ZXIgPSBmYWxzZTtcbiAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghcmVzdW1lKSB7XG4gICAgICAgIGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgbW92ZShcbiAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICAgICAgYW5jaG9yID09PSBpbml0aWFsQW5jaG9yID8gbmV4dChhY3RpdmVCcmFuY2gpIDogYW5jaG9yLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgICBpZiAocGFyZW50Tm9kZShhY3RpdmVCcmFuY2guZWwpID09PSBjb250YWluZXIyKSB7XG4gICAgICAgICAgICBhbmNob3IgPSBuZXh0KGFjdGl2ZUJyYW5jaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVubW91bnQoYWN0aXZlQnJhbmNoLCBwYXJlbnRDb21wb25lbnQyLCBzdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgICAgbW92ZShwZW5kaW5nQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IsIDApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIHBlbmRpbmdCcmFuY2gpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG51bGw7XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSBmYWxzZTtcbiAgICAgIGxldCBwYXJlbnQgPSBzdXNwZW5zZS5wYXJlbnQ7XG4gICAgICBsZXQgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICAgIHBhcmVudC5lZmZlY3RzLnB1c2goLi4uZWZmZWN0cyk7XG4gICAgICAgICAgaGFzVW5yZXNvbHZlZEFuY2VzdG9yID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKCFoYXNVbnJlc29sdmVkQW5jZXN0b3IgJiYgIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgIH1cbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMgPSBbXTtcbiAgICAgIGlmIChpc1N1c3BlbnNpYmxlKSB7XG4gICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmIHBhcmVudFN1c3BlbnNlSWQgPT09IHBhcmVudFN1c3BlbnNlLnBlbmRpbmdJZCkge1xuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgICAgICBpZiAocGFyZW50U3VzcGVuc2UuZGVwcyA9PT0gMCAmJiAhc3luYykge1xuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvblJlc29sdmVcIik7XG4gICAgfSxcbiAgICBmYWxsYmFjayhmYWxsYmFja1ZOb2RlKSB7XG4gICAgICBpZiAoIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyLCBhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDogcGFyZW50Q29tcG9uZW50MiwgY29udGFpbmVyOiBjb250YWluZXIyLCBuYW1lc3BhY2U6IG5hbWVzcGFjZTIgfSA9IHN1c3BlbnNlO1xuICAgICAgdHJpZ2dlckV2ZW50KHZub2RlMiwgXCJvbkZhbGxiYWNrXCIpO1xuICAgICAgY29uc3QgYW5jaG9yMiA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgIGNvbnN0IG1vdW50RmFsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgIGlmICghc3VzcGVuc2UuaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmFsbGJhY2tWTm9kZSxcbiAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgIGFuY2hvcjIsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIC8vIGZhbGxiYWNrIHRyZWUgd2lsbCBub3QgaGF2ZSBzdXNwZW5zZSBjb250ZXh0XG4gICAgICAgICAgbmFtZXNwYWNlMixcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgZmFsbGJhY2tWTm9kZSk7XG4gICAgICB9O1xuICAgICAgY29uc3QgZGVsYXlFbnRlciA9IGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbiAmJiBmYWxsYmFja1ZOb2RlLnRyYW5zaXRpb24ubW9kZSA9PT0gXCJvdXQtaW5cIjtcbiAgICAgIGlmIChkZWxheUVudGVyKSB7XG4gICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSBtb3VudEZhbGxiYWNrO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuaXNJbkZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgIHVubW91bnQoXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50MixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgLy8gbm8gc3VzcGVuc2Ugc28gdW5tb3VudCBob29rcyBmaXJlIG5vd1xuICAgICAgICB0cnVlXG4gICAgICAgIC8vIHNob3VsZFJlbW92ZVxuICAgICAgKTtcbiAgICAgIGlmICghZGVsYXlFbnRlcikge1xuICAgICAgICBtb3VudEZhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb3ZlKGNvbnRhaW5lcjIsIGFuY2hvcjIsIHR5cGUpIHtcbiAgICAgIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBtb3ZlKHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCwgY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSk7XG4gICAgICBzdXNwZW5zZS5jb250YWluZXIgPSBjb250YWluZXIyO1xuICAgIH0sXG4gICAgbmV4dCgpIHtcbiAgICAgIHJldHVybiBzdXNwZW5zZS5hY3RpdmVCcmFuY2ggJiYgbmV4dChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpO1xuICAgIH0sXG4gICAgcmVnaXN0ZXJEZXAoaW5zdGFuY2UsIHNldHVwUmVuZGVyRWZmZWN0LCBvcHRpbWl6ZWQyKSB7XG4gICAgICBjb25zdCBpc0luUGVuZGluZ1N1c3BlbnNlID0gISFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoO1xuICAgICAgaWYgKGlzSW5QZW5kaW5nU3VzcGVuc2UpIHtcbiAgICAgICAgc3VzcGVuc2UuZGVwcysrO1xuICAgICAgfVxuICAgICAgY29uc3QgaHlkcmF0ZWRFbCA9IGluc3RhbmNlLnZub2RlLmVsO1xuICAgICAgaW5zdGFuY2UuYXN5bmNEZXAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCAwKTtcbiAgICAgIH0pLnRoZW4oKGFzeW5jU2V0dXBSZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLmlzVW5tb3VudGVkIHx8IHN1c3BlbnNlLnBlbmRpbmdJZCAhPT0gaW5zdGFuY2Uuc3VzcGVuc2VJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5hc3luY1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyB2bm9kZTogdm5vZGUyIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUyKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgYXN5bmNTZXR1cFJlc3VsdCwgZmFsc2UpO1xuICAgICAgICBpZiAoaHlkcmF0ZWRFbCkge1xuICAgICAgICAgIHZub2RlMi5lbCA9IGh5ZHJhdGVkRWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSAhaHlkcmF0ZWRFbCAmJiBpbnN0YW5jZS5zdWJUcmVlLmVsO1xuICAgICAgICBzZXR1cFJlbmRlckVmZmVjdChcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICB2bm9kZTIsXG4gICAgICAgICAgLy8gY29tcG9uZW50IG1heSBoYXZlIGJlZW4gbW92ZWQgYmVmb3JlIHJlc29sdmUuXG4gICAgICAgICAgLy8gaWYgdGhpcyBpcyBub3QgYSBoeWRyYXRpb24sIGluc3RhbmNlLnN1YlRyZWUgd2lsbCBiZSB0aGUgY29tbWVudFxuICAgICAgICAgIC8vIHBsYWNlaG9sZGVyLlxuICAgICAgICAgIHBhcmVudE5vZGUoaHlkcmF0ZWRFbCB8fCBpbnN0YW5jZS5zdWJUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3Igd2lsbCBub3QgYmUgdXNlZCBpZiB0aGlzIGlzIGh5ZHJhdGlvbiwgc28gb25seSBuZWVkIHRvXG4gICAgICAgICAgLy8gY29uc2lkZXIgdGhlIGNvbW1lbnQgcGxhY2Vob2xkZXIgY2FzZS5cbiAgICAgICAgICBoeWRyYXRlZEVsID8gbnVsbCA6IG5leHQoaW5zdGFuY2Uuc3ViVHJlZSksXG4gICAgICAgICAgc3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZDJcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIHZub2RlMi5lbCk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSAmJiAtLXN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5tb3VudChwYXJlbnRTdXNwZW5zZTIsIGRvUmVtb3ZlKSB7XG4gICAgICBzdXNwZW5zZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgICBpZiAoc3VzcGVuc2UuYWN0aXZlQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgIHVubW91bnQoXG4gICAgICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UyLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gc3VzcGVuc2U7XG59XG5mdW5jdGlvbiBoeWRyYXRlU3VzcGVuc2Uobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHJlbmRlcmVySW50ZXJuYWxzLCBoeWRyYXRlTm9kZSkge1xuICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlID0gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeShcbiAgICB2bm9kZSxcbiAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgbm9kZS5wYXJlbnROb2RlLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbiAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgIG51bGwsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWQsXG4gICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCByZXN1bHQgPSBoeWRyYXRlTm9kZShcbiAgICBub2RlLFxuICAgIHN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggPSB2bm9kZS5zc0NvbnRlbnQsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIHN1c3BlbnNlLFxuICAgIHNsb3RTY29wZUlkcyxcbiAgICBvcHRpbWl6ZWRcbiAgKTtcbiAgaWYgKHN1c3BlbnNlLmRlcHMgPT09IDApIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlbih2bm9kZSkge1xuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBjb25zdCBpc1Nsb3RDaGlsZHJlbiA9IHNoYXBlRmxhZyAmIDMyO1xuICB2bm9kZS5zc0NvbnRlbnQgPSBub3JtYWxpemVTdXNwZW5zZVNsb3QoXG4gICAgaXNTbG90Q2hpbGRyZW4gPyBjaGlsZHJlbi5kZWZhdWx0IDogY2hpbGRyZW5cbiAgKTtcbiAgdm5vZGUuc3NGYWxsYmFjayA9IGlzU2xvdENoaWxkcmVuID8gbm9ybWFsaXplU3VzcGVuc2VTbG90KGNoaWxkcmVuLmZhbGxiYWNrKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplU3VzcGVuc2VTbG90KHMpIHtcbiAgbGV0IGJsb2NrO1xuICBpZiAoaXNGdW5jdGlvbihzKSkge1xuICAgIGNvbnN0IHRyYWNrQmxvY2sgPSBpc0Jsb2NrVHJlZUVuYWJsZWQgJiYgcy5fYztcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IGZhbHNlO1xuICAgICAgb3BlbkJsb2NrKCk7XG4gICAgfVxuICAgIHMgPSBzKCk7XG4gICAgaWYgKHRyYWNrQmxvY2spIHtcbiAgICAgIHMuX2QgPSB0cnVlO1xuICAgICAgYmxvY2sgPSBjdXJyZW50QmxvY2s7XG4gICAgICBjbG9zZUJsb2NrKCk7XG4gICAgfVxuICB9XG4gIGlmIChpc0FycmF5KHMpKSB7XG4gICAgY29uc3Qgc2luZ2xlQ2hpbGQgPSBmaWx0ZXJTaW5nbGVSb290KHMpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFzaW5nbGVDaGlsZCAmJiBzLmZpbHRlcigoY2hpbGQpID0+IGNoaWxkICE9PSBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UKS5sZW5ndGggPiAwKSB7XG4gICAgICB3YXJuJDEoYDxTdXNwZW5zZT4gc2xvdHMgZXhwZWN0IGEgc2luZ2xlIHJvb3Qgbm9kZS5gKTtcbiAgICB9XG4gICAgcyA9IHNpbmdsZUNoaWxkO1xuICB9XG4gIHMgPSBub3JtYWxpemVWTm9kZShzKTtcbiAgaWYgKGJsb2NrICYmICFzLmR5bmFtaWNDaGlsZHJlbikge1xuICAgIHMuZHluYW1pY0NoaWxkcmVuID0gYmxvY2suZmlsdGVyKChjKSA9PiBjICE9PSBzKTtcbiAgfVxuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKGZuLCBzdXNwZW5zZSkge1xuICBpZiAoc3VzcGVuc2UgJiYgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgIGlmIChpc0FycmF5KGZuKSkge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKC4uLmZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKGZuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcXVldWVQb3N0Rmx1c2hDYihmbik7XG4gIH1cbn1cbmZ1bmN0aW9uIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgYnJhbmNoKSB7XG4gIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9IGJyYW5jaDtcbiAgY29uc3QgeyB2bm9kZSwgcGFyZW50Q29tcG9uZW50IH0gPSBzdXNwZW5zZTtcbiAgbGV0IGVsID0gYnJhbmNoLmVsO1xuICB3aGlsZSAoIWVsICYmIGJyYW5jaC5jb21wb25lbnQpIHtcbiAgICBicmFuY2ggPSBicmFuY2guY29tcG9uZW50LnN1YlRyZWU7XG4gICAgZWwgPSBicmFuY2guZWw7XG4gIH1cbiAgdm5vZGUuZWwgPSBlbDtcbiAgaWYgKHBhcmVudENvbXBvbmVudCAmJiBwYXJlbnRDb21wb25lbnQuc3ViVHJlZSA9PT0gdm5vZGUpIHtcbiAgICBwYXJlbnRDb21wb25lbnQudm5vZGUuZWwgPSBlbDtcbiAgICB1cGRhdGVIT0NIb3N0RWwocGFyZW50Q29tcG9uZW50LCBlbCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzVk5vZGVTdXNwZW5zaWJsZSh2bm9kZSkge1xuICBjb25zdCBzdXNwZW5zaWJsZSA9IHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnN1c3BlbnNpYmxlO1xuICByZXR1cm4gc3VzcGVuc2libGUgIT0gbnVsbCAmJiBzdXNwZW5zaWJsZSAhPT0gZmFsc2U7XG59XG5cbmNvbnN0IEZyYWdtZW50ID0gU3ltYm9sLmZvcihcInYtZmd0XCIpO1xuY29uc3QgVGV4dCA9IFN5bWJvbC5mb3IoXCJ2LXR4dFwiKTtcbmNvbnN0IENvbW1lbnQgPSBTeW1ib2wuZm9yKFwidi1jbXRcIik7XG5jb25zdCBTdGF0aWMgPSBTeW1ib2wuZm9yKFwidi1zdGNcIik7XG5jb25zdCBibG9ja1N0YWNrID0gW107XG5sZXQgY3VycmVudEJsb2NrID0gbnVsbDtcbmZ1bmN0aW9uIG9wZW5CbG9jayhkaXNhYmxlVHJhY2tpbmcgPSBmYWxzZSkge1xuICBibG9ja1N0YWNrLnB1c2goY3VycmVudEJsb2NrID0gZGlzYWJsZVRyYWNraW5nID8gbnVsbCA6IFtdKTtcbn1cbmZ1bmN0aW9uIGNsb3NlQmxvY2soKSB7XG4gIGJsb2NrU3RhY2sucG9wKCk7XG4gIGN1cnJlbnRCbG9jayA9IGJsb2NrU3RhY2tbYmxvY2tTdGFjay5sZW5ndGggLSAxXSB8fCBudWxsO1xufVxubGV0IGlzQmxvY2tUcmVlRW5hYmxlZCA9IDE7XG5mdW5jdGlvbiBzZXRCbG9ja1RyYWNraW5nKHZhbHVlLCBpblZPbmNlID0gZmFsc2UpIHtcbiAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xuICBpZiAodmFsdWUgPCAwICYmIGN1cnJlbnRCbG9jayAmJiBpblZPbmNlKSB7XG4gICAgY3VycmVudEJsb2NrLmhhc09uY2UgPSB0cnVlO1xuICB9XG59XG5mdW5jdGlvbiBzZXR1cEJsb2NrKHZub2RlKSB7XG4gIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgPyBjdXJyZW50QmxvY2sgfHwgRU1QVFlfQVJSIDogbnVsbDtcbiAgY2xvc2VCbG9jaygpO1xuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiBjdXJyZW50QmxvY2spIHtcbiAgICBjdXJyZW50QmxvY2sucHVzaCh2bm9kZSk7XG4gIH1cbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudEJsb2NrKHR5cGUsIHByb3BzLCBjaGlsZHJlbiwgcGF0Y2hGbGFnLCBkeW5hbWljUHJvcHMsIHNoYXBlRmxhZykge1xuICByZXR1cm4gc2V0dXBCbG9jayhcbiAgICBjcmVhdGVCYXNlVk5vZGUoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHBhdGNoRmxhZyxcbiAgICAgIGR5bmFtaWNQcm9wcyxcbiAgICAgIHNoYXBlRmxhZyxcbiAgICAgIHRydWVcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzKSB7XG4gIHJldHVybiBzZXR1cEJsb2NrKFxuICAgIGNyZWF0ZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkeW5hbWljUHJvcHMsXG4gICAgICB0cnVlXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gaXNWTm9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPyB2YWx1ZS5fX3ZfaXNWTm9kZSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gaXNTYW1lVk5vZGVUeXBlKG4xLCBuMikge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuMi5zaGFwZUZsYWcgJiA2ICYmIG4xLmNvbXBvbmVudCkge1xuICAgIGNvbnN0IGRpcnR5SW5zdGFuY2VzID0gaG1yRGlydHlDb21wb25lbnRzLmdldChuMi50eXBlKTtcbiAgICBpZiAoZGlydHlJbnN0YW5jZXMgJiYgZGlydHlJbnN0YW5jZXMuaGFzKG4xLmNvbXBvbmVudCkpIHtcbiAgICAgIG4xLnNoYXBlRmxhZyAmPSAtMjU3O1xuICAgICAgbjIuc2hhcGVGbGFnICY9IC01MTM7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xufVxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XG4gIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XG59XG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcbiAgcmV0dXJuIF9jcmVhdGVWTm9kZShcbiAgICAuLi52bm9kZUFyZ3NUcmFuc2Zvcm1lciA/IHZub2RlQXJnc1RyYW5zZm9ybWVyKGFyZ3MsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkgOiBhcmdzXG4gICk7XG59O1xuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7XG4gIHJlZixcbiAgcmVmX2tleSxcbiAgcmVmX2ZvclxufSkgPT4ge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlZiA9IFwiXCIgKyByZWY7XG4gIH1cbiAgcmV0dXJuIHJlZiAhPSBudWxsID8gaXNTdHJpbmcocmVmKSB8fCBpc1JlZihyZWYpIHx8IGlzRnVuY3Rpb24ocmVmKSA/IHsgaTogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCByOiByZWYsIGs6IHJlZl9rZXksIGY6ICEhcmVmX2ZvciB9IDogcmVmIDogbnVsbDtcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIHNoYXBlRmxhZyA9IHR5cGUgPT09IEZyYWdtZW50ID8gMCA6IDEsIGlzQmxvY2tOb2RlID0gZmFsc2UsIG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uID0gZmFsc2UpIHtcbiAgY29uc3Qgdm5vZGUgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBrZXk6IHByb3BzICYmIG5vcm1hbGl6ZUtleShwcm9wcyksXG4gICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxuICAgIHNjb3BlSWQ6IGN1cnJlbnRTY29wZUlkLFxuICAgIHNsb3RTY29wZUlkczogbnVsbCxcbiAgICBjaGlsZHJlbixcbiAgICBjb21wb25lbnQ6IG51bGwsXG4gICAgc3VzcGVuc2U6IG51bGwsXG4gICAgc3NDb250ZW50OiBudWxsLFxuICAgIHNzRmFsbGJhY2s6IG51bGwsXG4gICAgZGlyczogbnVsbCxcbiAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgIGVsOiBudWxsLFxuICAgIGFuY2hvcjogbnVsbCxcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGFyZ2V0U3RhcnQ6IG51bGwsXG4gICAgdGFyZ2V0QW5jaG9yOiBudWxsLFxuICAgIHN0YXRpY0NvdW50OiAwLFxuICAgIHNoYXBlRmxhZyxcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcbiAgICBhcHBDb250ZXh0OiBudWxsLFxuICAgIGN0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlXG4gIH07XG4gIGlmIChuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbikge1xuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdHlwZS5ub3JtYWxpemUodm5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIHZub2RlLnNoYXBlRmxhZyB8PSBpc1N0cmluZyhjaGlsZHJlbikgPyA4IDogMTY7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcbiAgICB3YXJuJDEoYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcbiAgIWlzQmxvY2tOb2RlICYmIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xuICBjdXJyZW50QmxvY2sgJiYgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cbiAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXG4gIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xuICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXG4gICh2bm9kZS5wYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYpICYmIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxuICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxuICB2bm9kZS5wYXRjaEZsYWcgIT09IDMyKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gOiBfY3JlYXRlVk5vZGU7XG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdHlwZSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcbiAgICB9XG4gICAgdHlwZSA9IENvbW1lbnQ7XG4gIH1cbiAgaWYgKGlzVk5vZGUodHlwZSkpIHtcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgdHJ1ZVxuICAgICAgLyogbWVyZ2VSZWY6IHRydWUgKi9cbiAgICApO1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmICFpc0Jsb2NrTm9kZSAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgIGlmIChjbG9uZWQuc2hhcGVGbGFnICYgNikge1xuICAgICAgICBjdXJyZW50QmxvY2tbY3VycmVudEJsb2NrLmluZGV4T2YodHlwZSldID0gY2xvbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2xvbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xvbmVkLnBhdGNoRmxhZyA9IC0yO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcbiAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gIH1cbiAgaWYgKHByb3BzKSB7XG4gICAgcHJvcHMgPSBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgfVxuICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpID8gMSA6IGlzU3VzcGVuc2UodHlwZSkgPyAxMjggOiBpc1RlbGVwb3J0KHR5cGUpID8gNjQgOiBpc09iamVjdCh0eXBlKSA/IDQgOiBpc0Z1bmN0aW9uKHR5cGUpID8gMiA6IDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNoYXBlRmxhZyAmIDQgJiYgaXNQcm94eSh0eXBlKSkge1xuICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICB3YXJuJDEoXG4gICAgICBgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLFxuICAgICAgYFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsXG4gICAgICB0eXBlXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQmFzZVZOb2RlKFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wcyxcbiAgICBzaGFwZUZsYWcsXG4gICAgaXNCbG9ja05vZGUsXG4gICAgdHJ1ZVxuICApO1xufVxuZnVuY3Rpb24gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHJldHVybiBudWxsO1xuICByZXR1cm4gaXNQcm94eShwcm9wcykgfHwgaXNJbnRlcm5hbE9iamVjdChwcm9wcykgPyBleHRlbmQoe30sIHByb3BzKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSwgY2xvbmVUcmFuc2l0aW9uID0gZmFsc2UpIHtcbiAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcbiAgY29uc3QgY2xvbmVkID0ge1xuICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgIF9fdl9za2lwOiB0cnVlLFxuICAgIHR5cGU6IHZub2RlLnR5cGUsXG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWYgPyAoXG4gICAgICAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XG4gICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcbiAgICAgIG1lcmdlUmVmICYmIHJlZiA/IGlzQXJyYXkocmVmKSA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKSA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV0gOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcbiAgICApIDogcmVmLFxuICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgY2hpbGRyZW46ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcGF0Y2hGbGFnID09PSAtMSAmJiBpc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSkgOiBjaGlsZHJlbixcbiAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcbiAgICB0YXJnZXRTdGFydDogdm5vZGUudGFyZ2V0U3RhcnQsXG4gICAgdGFyZ2V0QW5jaG9yOiB2bm9kZS50YXJnZXRBbmNob3IsXG4gICAgc3RhdGljQ291bnQ6IHZub2RlLnN0YXRpY0NvdW50LFxuICAgIHNoYXBlRmxhZzogdm5vZGUuc2hhcGVGbGFnLFxuICAgIC8vIGlmIHRoZSB2bm9kZSBpcyBjbG9uZWQgd2l0aCBleHRyYSBwcm9wcywgd2UgY2FuIG5vIGxvbmdlciBhc3N1bWUgaXRzXG4gICAgLy8gZXhpc3RpbmcgcGF0Y2ggZmxhZyB0byBiZSByZWxpYWJsZSBhbmQgbmVlZCB0byBhZGQgdGhlIEZVTExfUFJPUFMgZmxhZy5cbiAgICAvLyBub3RlOiBwcmVzZXJ2ZSBmbGFnIGZvciBmcmFnbWVudHMgc2luY2UgdGhleSB1c2UgdGhlIGZsYWcgZm9yIGNoaWxkcmVuXG4gICAgLy8gZmFzdCBwYXRocyBvbmx5LlxuICAgIHBhdGNoRmxhZzogZXh0cmFQcm9wcyAmJiB2bm9kZS50eXBlICE9PSBGcmFnbWVudCA/IHBhdGNoRmxhZyA9PT0gLTEgPyAxNiA6IHBhdGNoRmxhZyB8IDE2IDogcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wczogdm5vZGUuZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogdm5vZGUuZHluYW1pY0NoaWxkcmVuLFxuICAgIGFwcENvbnRleHQ6IHZub2RlLmFwcENvbnRleHQsXG4gICAgZGlyczogdm5vZGUuZGlycyxcbiAgICB0cmFuc2l0aW9uLFxuICAgIC8vIFRoZXNlIHNob3VsZCB0ZWNobmljYWxseSBvbmx5IGJlIG5vbi1udWxsIG9uIG1vdW50ZWQgVk5vZGVzLiBIb3dldmVyLFxuICAgIC8vIHRoZXkgKnNob3VsZCogYmUgY29waWVkIGZvciBrZXB0LWFsaXZlIHZub2Rlcy4gU28gd2UganVzdCBhbHdheXMgY29weVxuICAgIC8vIHRoZW0gc2luY2UgdGhlbSBiZWluZyBub24tbnVsbCBkdXJpbmcgYSBtb3VudCBkb2Vzbid0IGFmZmVjdCB0aGUgbG9naWMgYXNcbiAgICAvLyB0aGV5IHdpbGwgc2ltcGx5IGJlIG92ZXJ3cml0dGVuLlxuICAgIGNvbXBvbmVudDogdm5vZGUuY29tcG9uZW50LFxuICAgIHN1c3BlbnNlOiB2bm9kZS5zdXNwZW5zZSxcbiAgICBzc0NvbnRlbnQ6IHZub2RlLnNzQ29udGVudCAmJiBjbG9uZVZOb2RlKHZub2RlLnNzQ29udGVudCksXG4gICAgc3NGYWxsYmFjazogdm5vZGUuc3NGYWxsYmFjayAmJiBjbG9uZVZOb2RlKHZub2RlLnNzRmFsbGJhY2spLFxuICAgIGVsOiB2bm9kZS5lbCxcbiAgICBhbmNob3I6IHZub2RlLmFuY2hvcixcbiAgICBjdHg6IHZub2RlLmN0eCxcbiAgICBjZTogdm5vZGUuY2VcbiAgfTtcbiAgaWYgKHRyYW5zaXRpb24gJiYgY2xvbmVUcmFuc2l0aW9uKSB7XG4gICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgY2xvbmVkLFxuICAgICAgdHJhbnNpdGlvbi5jbG9uZShjbG9uZWQpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gZGVlcENsb25lVk5vZGUodm5vZGUpIHtcbiAgY29uc3QgY2xvbmVkID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gIGlmIChpc0FycmF5KHZub2RlLmNoaWxkcmVuKSkge1xuICAgIGNsb25lZC5jaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lZDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHRWTm9kZSh0ZXh0ID0gXCIgXCIsIGZsYWcgPSAwKSB7XG4gIHJldHVybiBjcmVhdGVWTm9kZShUZXh0LCBudWxsLCB0ZXh0LCBmbGFnKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1ZOb2RlKGNvbnRlbnQsIG51bWJlck9mTm9kZXMpIHtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShTdGF0aWMsIG51bGwsIGNvbnRlbnQpO1xuICB2bm9kZS5zdGF0aWNDb3VudCA9IG51bWJlck9mTm9kZXM7XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRWTm9kZSh0ZXh0ID0gXCJcIiwgYXNCbG9jayA9IGZhbHNlKSB7XG4gIHJldHVybiBhc0Jsb2NrID8gKG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayhDb21tZW50LCBudWxsLCB0ZXh0KSkgOiBjcmVhdGVWTm9kZShDb21tZW50LCBudWxsLCB0ZXh0KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZOb2RlKGNoaWxkKSB7XG4gIGlmIChjaGlsZCA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoQ29tbWVudCk7XG4gIH0gZWxzZSBpZiAoaXNBcnJheShjaGlsZCkpIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoXG4gICAgICBGcmFnbWVudCxcbiAgICAgIG51bGwsXG4gICAgICAvLyAjMzY2NiwgYXZvaWQgcmVmZXJlbmNlIHBvbGx1dGlvbiB3aGVuIHJldXNpbmcgdm5vZGVcbiAgICAgIGNoaWxkLnNsaWNlKClcbiAgICApO1xuICB9IGVsc2UgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgcmV0dXJuIGNsb25lSWZNb3VudGVkKGNoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XG4gIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCAmJiBjaGlsZC5wYXRjaEZsYWcgIT09IC0xIHx8IGNoaWxkLm1lbW8gPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XG4gIGxldCB0eXBlID0gMDtcbiAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIHR5cGUgPSAxNjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2NCkpIHtcbiAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xuICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcbiAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3QoKSk7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IDMyO1xuICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xuICAgICAgaWYgKCFzbG90RmxhZyAmJiAhaXNJbnRlcm5hbE9iamVjdChjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSkge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAyO1xuICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XG4gICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcbiAgICB0eXBlID0gMzI7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZSA9IDE2O1xuICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSA4O1xuICAgIH1cbiAgfVxuICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcbiAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XG4gICAgICAgIGlmIChpbmNvbWluZyAmJiBleGlzdGluZyAhPT0gaW5jb21pbmcgJiYgIShpc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5pbmNsdWRlcyhpbmNvbWluZykpKSB7XG4gICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpIDogaW5jb21pbmc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBcIlwiKSB7XG4gICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNywgW1xuICAgIHZub2RlLFxuICAgIHByZXZWTm9kZVxuICBdKTtcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcbiAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcbiAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgdWlkOiB1aWQrKyxcbiAgICB2bm9kZSxcbiAgICB0eXBlLFxuICAgIHBhcmVudCxcbiAgICBhcHBDb250ZXh0LFxuICAgIHJvb3Q6IG51bGwsXG4gICAgLy8gdG8gYmUgaW1tZWRpYXRlbHkgc2V0XG4gICAgbmV4dDogbnVsbCxcbiAgICBzdWJUcmVlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBlZmZlY3Q6IG51bGwsXG4gICAgdXBkYXRlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBqb2I6IG51bGwsXG4gICAgc2NvcGU6IG5ldyBFZmZlY3RTY29wZShcbiAgICAgIHRydWVcbiAgICAgIC8qIGRldGFjaGVkICovXG4gICAgKSxcbiAgICByZW5kZXI6IG51bGwsXG4gICAgcHJveHk6IG51bGwsXG4gICAgZXhwb3NlZDogbnVsbCxcbiAgICBleHBvc2VQcm94eTogbnVsbCxcbiAgICB3aXRoUHJveHk6IG51bGwsXG4gICAgcHJvdmlkZXM6IHBhcmVudCA/IHBhcmVudC5wcm92aWRlcyA6IE9iamVjdC5jcmVhdGUoYXBwQ29udGV4dC5wcm92aWRlcyksXG4gICAgaWRzOiBwYXJlbnQgPyBwYXJlbnQuaWRzIDogW1wiXCIsIDAsIDBdLFxuICAgIGFjY2Vzc0NhY2hlOiBudWxsLFxuICAgIHJlbmRlckNhY2hlOiBbXSxcbiAgICAvLyBsb2NhbCByZXNvbHZlZCBhc3NldHNcbiAgICBjb21wb25lbnRzOiBudWxsLFxuICAgIGRpcmVjdGl2ZXM6IG51bGwsXG4gICAgLy8gcmVzb2x2ZWQgcHJvcHMgYW5kIGVtaXRzIG9wdGlvbnNcbiAgICBwcm9wc09wdGlvbnM6IG5vcm1hbGl6ZVByb3BzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICBlbWl0c09wdGlvbnM6IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyh0eXBlLCBhcHBDb250ZXh0KSxcbiAgICAvLyBlbWl0XG4gICAgZW1pdDogbnVsbCxcbiAgICAvLyB0byBiZSBzZXQgaW1tZWRpYXRlbHlcbiAgICBlbWl0dGVkOiBudWxsLFxuICAgIC8vIHByb3BzIGRlZmF1bHQgdmFsdWVcbiAgICBwcm9wc0RlZmF1bHRzOiBFTVBUWV9PQkosXG4gICAgLy8gaW5oZXJpdEF0dHJzXG4gICAgaW5oZXJpdEF0dHJzOiB0eXBlLmluaGVyaXRBdHRycyxcbiAgICAvLyBzdGF0ZVxuICAgIGN0eDogRU1QVFlfT0JKLFxuICAgIGRhdGE6IEVNUFRZX09CSixcbiAgICBwcm9wczogRU1QVFlfT0JKLFxuICAgIGF0dHJzOiBFTVBUWV9PQkosXG4gICAgc2xvdHM6IEVNUFRZX09CSixcbiAgICByZWZzOiBFTVBUWV9PQkosXG4gICAgc2V0dXBTdGF0ZTogRU1QVFlfT0JKLFxuICAgIHNldHVwQ29udGV4dDogbnVsbCxcbiAgICAvLyBzdXNwZW5zZSByZWxhdGVkXG4gICAgc3VzcGVuc2UsXG4gICAgc3VzcGVuc2VJZDogc3VzcGVuc2UgPyBzdXNwZW5zZS5wZW5kaW5nSWQgOiAwLFxuICAgIGFzeW5jRGVwOiBudWxsLFxuICAgIGFzeW5jUmVzb2x2ZWQ6IGZhbHNlLFxuICAgIC8vIGxpZmVjeWNsZSBob29rc1xuICAgIC8vIG5vdCB1c2luZyBlbnVtcyBoZXJlIGJlY2F1c2UgaXQgcmVzdWx0cyBpbiBjb21wdXRlZCBwcm9wZXJ0aWVzXG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc1VubW91bnRlZDogZmFsc2UsXG4gICAgaXNEZWFjdGl2YXRlZDogZmFsc2UsXG4gICAgYmM6IG51bGwsXG4gICAgYzogbnVsbCxcbiAgICBibTogbnVsbCxcbiAgICBtOiBudWxsLFxuICAgIGJ1OiBudWxsLFxuICAgIHU6IG51bGwsXG4gICAgdW06IG51bGwsXG4gICAgYnVtOiBudWxsLFxuICAgIGRhOiBudWxsLFxuICAgIGE6IG51bGwsXG4gICAgcnRnOiBudWxsLFxuICAgIHJ0YzogbnVsbCxcbiAgICBlYzogbnVsbCxcbiAgICBzcDogbnVsbFxuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmN0eCA9IGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGluc3RhbmNlLmN0eCA9IHsgXzogaW5zdGFuY2UgfTtcbiAgfVxuICBpbnN0YW5jZS5yb290ID0gcGFyZW50ID8gcGFyZW50LnJvb3QgOiBpbnN0YW5jZTtcbiAgaW5zdGFuY2UuZW1pdCA9IGVtaXQuYmluZChudWxsLCBpbnN0YW5jZSk7XG4gIGlmICh2bm9kZS5jZSkge1xuICAgIHZub2RlLmNlKGluc3RhbmNlKTtcbiAgfVxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5sZXQgY3VycmVudEluc3RhbmNlID0gbnVsbDtcbmNvbnN0IGdldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG5sZXQgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2U7XG5sZXQgc2V0SW5TU1JTZXR1cFN0YXRlO1xue1xuICBjb25zdCBnID0gZ2V0R2xvYmFsVGhpcygpO1xuICBjb25zdCByZWdpc3Rlckdsb2JhbFNldHRlciA9IChrZXksIHNldHRlcikgPT4ge1xuICAgIGxldCBzZXR0ZXJzO1xuICAgIGlmICghKHNldHRlcnMgPSBnW2tleV0pKSBzZXR0ZXJzID0gZ1trZXldID0gW107XG4gICAgc2V0dGVycy5wdXNoKHNldHRlcik7XG4gICAgcmV0dXJuICh2KSA9PiB7XG4gICAgICBpZiAoc2V0dGVycy5sZW5ndGggPiAxKSBzZXR0ZXJzLmZvckVhY2goKHNldCkgPT4gc2V0KHYpKTtcbiAgICAgIGVsc2Ugc2V0dGVyc1swXSh2KTtcbiAgICB9O1xuICB9O1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9JTlNUQU5DRV9TRVRURVJTX19gLFxuICAgICh2KSA9PiBjdXJyZW50SW5zdGFuY2UgPSB2XG4gICk7XG4gIHNldEluU1NSU2V0dXBTdGF0ZSA9IHJlZ2lzdGVyR2xvYmFsU2V0dGVyKFxuICAgIGBfX1ZVRV9TU1JfU0VUVEVSU19fYCxcbiAgICAodikgPT4gaXNJblNTUkNvbXBvbmVudFNldHVwID0gdlxuICApO1xufVxuY29uc3Qgc2V0Q3VycmVudEluc3RhbmNlID0gKGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IHByZXYgPSBjdXJyZW50SW5zdGFuY2U7XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgaW5zdGFuY2Uuc2NvcGUub24oKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShwcmV2KTtcbiAgfTtcbn07XG5jb25zdCB1bnNldEN1cnJlbnRJbnN0YW5jZSA9ICgpID0+IHtcbiAgY3VycmVudEluc3RhbmNlICYmIGN1cnJlbnRJbnN0YW5jZS5zY29wZS5vZmYoKTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UobnVsbCk7XG59O1xuY29uc3QgaXNCdWlsdEluVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXCJzbG90LGNvbXBvbmVudFwiKTtcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCB7IGlzTmF0aXZlVGFnIH0pIHtcbiAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBpc05hdGl2ZVRhZyhuYW1lKSkge1xuICAgIHdhcm4kMShcbiAgICAgIFwiRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCBpZDogXCIgKyBuYW1lXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgNDtcbn1cbmxldCBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSBmYWxzZTtcbmZ1bmN0aW9uIHNldHVwQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUiA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkge1xuICBpc1NTUiAmJiBzZXRJblNTUlNldHVwU3RhdGUoaXNTU1IpO1xuICBjb25zdCB7IHByb3BzLCBjaGlsZHJlbiB9ID0gaW5zdGFuY2Uudm5vZGU7XG4gIGNvbnN0IGlzU3RhdGVmdWwgPSBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKTtcbiAgaW5pdFByb3BzKGluc3RhbmNlLCBwcm9wcywgaXNTdGF0ZWZ1bCwgaXNTU1IpO1xuICBpbml0U2xvdHMoaW5zdGFuY2UsIGNoaWxkcmVuLCBvcHRpbWl6ZWQgfHwgaXNTU1IpO1xuICBjb25zdCBzZXR1cFJlc3VsdCA9IGlzU3RhdGVmdWwgPyBzZXR1cFN0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlLCBpc1NTUikgOiB2b2lkIDA7XG4gIGlzU1NSICYmIHNldEluU1NSU2V0dXBTdGF0ZShmYWxzZSk7XG4gIHJldHVybiBzZXR1cFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpZiAoQ29tcG9uZW50Lm5hbWUpIHtcbiAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShDb21wb25lbnQubmFtZSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmNvbXBvbmVudHMpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmNvbXBvbmVudHMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZXNbaV0sIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5kaXJlY3RpdmVzKSB7XG4gICAgICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKENvbXBvbmVudC5kaXJlY3RpdmVzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWVzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKENvbXBvbmVudC5jb21waWxlck9wdGlvbnMgJiYgaXNSdW50aW1lT25seSgpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBcImNvbXBpbGVyT3B0aW9uc1wiIGlzIG9ubHkgc3VwcG9ydGVkIHdoZW4gdXNpbmcgYSBidWlsZCBvZiBWdWUgdGhhdCBpbmNsdWRlcyB0aGUgcnVudGltZSBjb21waWxlci4gU2luY2UgeW91IGFyZSB1c2luZyBhIHJ1bnRpbWUtb25seSBidWlsZCwgdGhlIG9wdGlvbnMgc2hvdWxkIGJlIHBhc3NlZCB2aWEgeW91ciBidWlsZCB0b29sIGNvbmZpZyBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGluc3RhbmNlLmFjY2Vzc0NhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGluc3RhbmNlLnByb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmN0eCwgUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBleHBvc2VQcm9wc09uUmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH1cbiAgY29uc3QgeyBzZXR1cCB9ID0gQ29tcG9uZW50O1xuICBpZiAoc2V0dXApIHtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgY29uc3Qgc2V0dXBDb250ZXh0ID0gaW5zdGFuY2Uuc2V0dXBDb250ZXh0ID0gc2V0dXAubGVuZ3RoID4gMSA/IGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkgOiBudWxsO1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBjb25zdCBzZXR1cFJlc3VsdCA9IGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgIHNldHVwLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICAwLFxuICAgICAgW1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGluc3RhbmNlLnByb3BzKSA6IGluc3RhbmNlLnByb3BzLFxuICAgICAgICBzZXR1cENvbnRleHRcbiAgICAgIF1cbiAgICApO1xuICAgIGNvbnN0IGlzQXN5bmNTZXR1cCA9IGlzUHJvbWlzZShzZXR1cFJlc3VsdCk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICAgIHJlc2V0KCk7XG4gICAgaWYgKChpc0FzeW5jU2V0dXAgfHwgaW5zdGFuY2Uuc3ApICYmICFpc0FzeW5jV3JhcHBlcihpbnN0YW5jZSkpIHtcbiAgICAgIG1hcmtBc3luY0JvdW5kYXJ5KGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNTZXR1cCkge1xuICAgICAgc2V0dXBSZXN1bHQudGhlbih1bnNldEN1cnJlbnRJbnN0YW5jZSwgdW5zZXRDdXJyZW50SW5zdGFuY2UpO1xuICAgICAgaWYgKGlzU1NSKSB7XG4gICAgICAgIHJldHVybiBzZXR1cFJlc3VsdC50aGVuKChyZXNvbHZlZFJlc3VsdCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCByZXNvbHZlZFJlc3VsdCwgaXNTU1IpO1xuICAgICAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgIGhhbmRsZUVycm9yKGUsIGluc3RhbmNlLCAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5hc3luY0RlcCA9IHNldHVwUmVzdWx0O1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaW5zdGFuY2Uuc3VzcGVuc2UpIHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gKF9hID0gQ29tcG9uZW50Lm5hbWUpICE9IG51bGwgPyBfYSA6IFwiQW5vbnltb3VzXCI7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCA8JHtuYW1lfT46IHNldHVwIGZ1bmN0aW9uIHJldHVybmVkIGEgcHJvbWlzZSwgYnV0IG5vIDxTdXNwZW5zZT4gYm91bmRhcnkgd2FzIGZvdW5kIGluIHRoZSBwYXJlbnQgY29tcG9uZW50IHRyZWUuIEEgY29tcG9uZW50IHdpdGggYXN5bmMgc2V0dXAoKSBtdXN0IGJlIG5lc3RlZCBpbiBhIDxTdXNwZW5zZT4gaW4gb3JkZXIgdG8gYmUgcmVuZGVyZWQuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlU2V0dXBSZXN1bHQoaW5zdGFuY2UsIHNldHVwUmVzdWx0LCBpc1NTUik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUik7XG4gIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpIHtcbiAgaWYgKGlzRnVuY3Rpb24oc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKGluc3RhbmNlLnR5cGUuX19zc3JJbmxpbmVSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnNzclJlbmRlciA9IHNldHVwUmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5yZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc2V0dXBSZXN1bHQpKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNWTm9kZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHNldHVwKCkgc2hvdWxkIG5vdCByZXR1cm4gVk5vZGVzIGRpcmVjdGx5IC0gcmV0dXJuIGEgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpbnN0YW5jZS5kZXZ0b29sc1Jhd1NldHVwU3RhdGUgPSBzZXR1cFJlc3VsdDtcbiAgICB9XG4gICAgaW5zdGFuY2Uuc2V0dXBTdGF0ZSA9IHByb3h5UmVmcyhzZXR1cFJlc3VsdCk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGV4cG9zZVNldHVwU3RhdGVPblJlbmRlckNvbnRleHQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICB3YXJuJDEoXG4gICAgICBgc2V0dXAoKSBzaG91bGQgcmV0dXJuIGFuIG9iamVjdC4gUmVjZWl2ZWQ6ICR7c2V0dXBSZXN1bHQgPT09IG51bGwgPyBcIm51bGxcIiA6IHR5cGVvZiBzZXR1cFJlc3VsdH1gXG4gICAgKTtcbiAgfVxuICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xufVxubGV0IGNvbXBpbGU7XG5sZXQgaW5zdGFsbFdpdGhQcm94eTtcbmZ1bmN0aW9uIHJlZ2lzdGVyUnVudGltZUNvbXBpbGVyKF9jb21waWxlKSB7XG4gIGNvbXBpbGUgPSBfY29tcGlsZTtcbiAgaW5zdGFsbFdpdGhQcm94eSA9IChpKSA9PiB7XG4gICAgaWYgKGkucmVuZGVyLl9yYykge1xuICAgICAgaS53aXRoUHJveHkgPSBuZXcgUHJveHkoaS5jdHgsIFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyk7XG4gICAgfVxuICB9O1xufVxuY29uc3QgaXNSdW50aW1lT25seSA9ICgpID0+ICFjb21waWxlO1xuZnVuY3Rpb24gZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSLCBza2lwT3B0aW9ucykge1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoIWluc3RhbmNlLnJlbmRlcikge1xuICAgIGlmICghaXNTU1IgJiYgY29tcGlsZSAmJiAhQ29tcG9uZW50LnJlbmRlcikge1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSBDb21wb25lbnQudGVtcGxhdGUgfHwgX19WVUVfT1BUSU9OU19BUElfXyAmJiByZXNvbHZlTWVyZ2VkT3B0aW9ucyhpbnN0YW5jZSkudGVtcGxhdGU7XG4gICAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBpc0N1c3RvbUVsZW1lbnQsIGNvbXBpbGVyT3B0aW9ucyB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWc7XG4gICAgICAgIGNvbnN0IHsgZGVsaW1pdGVycywgY29tcGlsZXJPcHRpb25zOiBjb21wb25lbnRDb21waWxlck9wdGlvbnMgfSA9IENvbXBvbmVudDtcbiAgICAgICAgY29uc3QgZmluYWxDb21waWxlck9wdGlvbnMgPSBleHRlbmQoXG4gICAgICAgICAgZXh0ZW5kKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQsXG4gICAgICAgICAgICAgIGRlbGltaXRlcnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21waWxlck9wdGlvbnNcbiAgICAgICAgICApLFxuICAgICAgICAgIGNvbXBvbmVudENvbXBpbGVyT3B0aW9uc1xuICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQucmVuZGVyID0gY29tcGlsZSh0ZW1wbGF0ZSwgZmluYWxDb21waWxlck9wdGlvbnMpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBjb21waWxlYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyID0gQ29tcG9uZW50LnJlbmRlciB8fCBOT09QO1xuICAgIGlmIChpbnN0YWxsV2l0aFByb3h5KSB7XG4gICAgICBpbnN0YWxsV2l0aFByb3h5KGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgdHJ1ZSkge1xuICAgIGNvbnN0IHJlc2V0ID0gc2V0Q3VycmVudEluc3RhbmNlKGluc3RhbmNlKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgdHJ5IHtcbiAgICAgIGFwcGx5T3B0aW9ucyhpbnN0YW5jZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJlc2V0KCk7XG4gICAgfVxuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFDb21wb25lbnQucmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCAmJiAhaXNTU1IpIHtcbiAgICBpZiAoIWNvbXBpbGUgJiYgQ29tcG9uZW50LnRlbXBsYXRlKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgcHJvdmlkZWQgdGVtcGxhdGUgb3B0aW9uIGJ1dCBydW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmAgKVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybiQxKGBDb21wb25lbnQgaXMgbWlzc2luZyB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb246IGAsIENvbXBvbmVudCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBhdHRyc1Byb3h5SGFuZGxlcnMgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8ge1xuICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBtYXJrQXR0cnNBY2Nlc3NlZCgpO1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9LFxuICBzZXQoKSB7XG4gICAgd2FybiQxKGBzZXR1cENvbnRleHQuYXR0cnMgaXMgcmVhZG9ubHkuYCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkZWxldGVQcm9wZXJ0eSgpIHtcbiAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0gOiB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwgXCJcIik7XG4gICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0U2xvdHNQcm94eShpbnN0YW5jZSkge1xuICByZXR1cm4gbmV3IFByb3h5KGluc3RhbmNlLnNsb3RzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNldHVwQ29udGV4dChpbnN0YW5jZSkge1xuICBjb25zdCBleHBvc2UgPSAoZXhwb3NlZCkgPT4ge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBpZiAoaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgICB3YXJuJDEoYGV4cG9zZSgpIHNob3VsZCBiZSBjYWxsZWQgb25seSBvbmNlIHBlciBzZXR1cCgpLmApO1xuICAgICAgfVxuICAgICAgaWYgKGV4cG9zZWQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgZXhwb3NlZFR5cGUgPSB0eXBlb2YgZXhwb3NlZDtcbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJhcnJheVwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWYoZXhwb3NlZCkpIHtcbiAgICAgICAgICAgIGV4cG9zZWRUeXBlID0gXCJyZWZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cG9zZWRUeXBlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYGV4cG9zZSgpIHNob3VsZCBiZSBwYXNzZWQgYSBwbGFpbiBvYmplY3QsIHJlY2VpdmVkICR7ZXhwb3NlZFR5cGV9LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGluc3RhbmNlLmV4cG9zZWQgPSBleHBvc2VkIHx8IHt9O1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGxldCBhdHRyc1Byb3h5O1xuICAgIGxldCBzbG90c1Byb3h5O1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgcmV0dXJuIGF0dHJzUHJveHkgfHwgKGF0dHJzUHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJzUHJveHlIYW5kbGVycykpO1xuICAgICAgfSxcbiAgICAgIGdldCBzbG90cygpIHtcbiAgICAgICAgcmV0dXJuIHNsb3RzUHJveHkgfHwgKHNsb3RzUHJveHkgPSBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSk7XG4gICAgICB9LFxuICAgICAgZ2V0IGVtaXQoKSB7XG4gICAgICAgIHJldHVybiAoZXZlbnQsIC4uLmFyZ3MpID0+IGluc3RhbmNlLmVtaXQoZXZlbnQsIC4uLmFyZ3MpO1xuICAgICAgfSxcbiAgICAgIGV4cG9zZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBhdHRyczogbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRyc1Byb3h5SGFuZGxlcnMpLFxuICAgICAgc2xvdHM6IGluc3RhbmNlLnNsb3RzLFxuICAgICAgZW1pdDogaW5zdGFuY2UuZW1pdCxcbiAgICAgIGV4cG9zZVxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGluc3RhbmNlKSB7XG4gIGlmIChpbnN0YW5jZS5leHBvc2VkKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmV4cG9zZVByb3h5IHx8IChpbnN0YW5jZS5leHBvc2VQcm94eSA9IG5ldyBQcm94eShwcm94eVJlZnMobWFya1JhdyhpbnN0YW5jZS5leHBvc2VkKSksIHtcbiAgICAgIGdldCh0YXJnZXQsIGtleSkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldCkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgaW4gcHVibGljUHJvcGVydGllc01hcCkge1xuICAgICAgICAgIHJldHVybiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGFzKHRhcmdldCwga2V5KSB7XG4gICAgICAgIHJldHVybiBrZXkgaW4gdGFyZ2V0IHx8IGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaW5zdGFuY2UucHJveHk7XG4gIH1cbn1cbmNvbnN0IGNsYXNzaWZ5UkUgPSAvKD86XnxbLV9dKShcXHcpL2c7XG5jb25zdCBjbGFzc2lmeSA9IChzdHIpID0+IHN0ci5yZXBsYWNlKGNsYXNzaWZ5UkUsIChjKSA9PiBjLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoL1stX10vZywgXCJcIik7XG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCwgaW5jbHVkZUluZmVycmVkID0gdHJ1ZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihDb21wb25lbnQpID8gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIDogQ29tcG9uZW50Lm5hbWUgfHwgaW5jbHVkZUluZmVycmVkICYmIENvbXBvbmVudC5fX25hbWU7XG59XG5mdW5jdGlvbiBmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBDb21wb25lbnQsIGlzUm9vdCA9IGZhbHNlKSB7XG4gIGxldCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShDb21wb25lbnQpO1xuICBpZiAoIW5hbWUgJiYgQ29tcG9uZW50Ll9fZmlsZSkge1xuICAgIGNvbnN0IG1hdGNoID0gQ29tcG9uZW50Ll9fZmlsZS5tYXRjaCgvKFteL1xcXFxdKylcXC5cXHcrJC8pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgbmFtZSA9IG1hdGNoWzFdO1xuICAgIH1cbiAgfVxuICBpZiAoIW5hbWUgJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UucGFyZW50KSB7XG4gICAgY29uc3QgaW5mZXJGcm9tUmVnaXN0cnkgPSAocmVnaXN0cnkpID0+IHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHJlZ2lzdHJ5KSB7XG4gICAgICAgIGlmIChyZWdpc3RyeVtrZXldID09PSBDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBuYW1lID0gaW5mZXJGcm9tUmVnaXN0cnkoXG4gICAgICBpbnN0YW5jZS5jb21wb25lbnRzIHx8IGluc3RhbmNlLnBhcmVudC50eXBlLmNvbXBvbmVudHNcbiAgICApIHx8IGluZmVyRnJvbVJlZ2lzdHJ5KGluc3RhbmNlLmFwcENvbnRleHQuY29tcG9uZW50cyk7XG4gIH1cbiAgcmV0dXJuIG5hbWUgPyBjbGFzc2lmeShuYW1lKSA6IGlzUm9vdCA/IGBBcHBgIDogYEFub255bW91c2A7XG59XG5mdW5jdGlvbiBpc0NsYXNzQ29tcG9uZW50KHZhbHVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlKSAmJiBcIl9fdmNjT3B0c1wiIGluIHZhbHVlO1xufVxuXG5jb25zdCBjb21wdXRlZCA9IChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucykgPT4ge1xuICBjb25zdCBjID0gY29tcHV0ZWQkMShnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNJblNTUkNvbXBvbmVudFNldHVwKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKGkgJiYgaS5hcHBDb250ZXh0LmNvbmZpZy53YXJuUmVjdXJzaXZlQ29tcHV0ZWQpIHtcbiAgICAgIGMuX3dhcm5SZWN1cnNpdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYztcbn07XG5cbmZ1bmN0aW9uIGgodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbikge1xuICBjb25zdCBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKGwgPT09IDIpIHtcbiAgICBpZiAoaXNPYmplY3QocHJvcHNPckNoaWxkcmVuKSAmJiAhaXNBcnJheShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICBpZiAoaXNWTm9kZShwcm9wc09yQ2hpbGRyZW4pKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBudWxsLCBbcHJvcHNPckNoaWxkcmVuXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIHByb3BzT3JDaGlsZHJlbik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChsID4gMykge1xuICAgICAgY2hpbGRyZW4gPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIH0gZWxzZSBpZiAobCA9PT0gMyAmJiBpc1ZOb2RlKGNoaWxkcmVuKSkge1xuICAgICAgY2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHNPckNoaWxkcmVuLCBjaGlsZHJlbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdEN1c3RvbUZvcm1hdHRlcigpIHtcbiAgaWYgKCEhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdnVlU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiMzYmE3NzZcIiB9O1xuICBjb25zdCBudW1iZXJTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzE2NzdmZlwiIH07XG4gIGNvbnN0IHN0cmluZ1N0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZjUyMjJkXCIgfTtcbiAgY29uc3Qga2V5d29yZFN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojZWIyZjk2XCIgfTtcbiAgY29uc3QgZm9ybWF0dGVyID0ge1xuICAgIF9fdnVlX2N1c3RvbV9mb3JtYXR0ZXI6IHRydWUsXG4gICAgaGVhZGVyKG9iaikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXCJkaXZcIiwgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmoudmFsdWU7XG4gICAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGdlblJlZkZsYWcob2JqKV0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUodmFsdWUpLFxuICAgICAgICAgIGA+YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWN0aXZlKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhY3RpdmVcIiA6IFwiUmVhY3RpdmVcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBgPiR7aXNSZWFkb25seShvYmopID8gYCAocmVhZG9ubHkpYCA6IGBgfWBcbiAgICAgICAgXTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFkb25seShvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBpc1NoYWxsb3cob2JqKSA/IFwiU2hhbGxvd1JlYWRvbmx5XCIgOiBcIlJlYWRvbmx5XCJdLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iaiksXG4gICAgICAgICAgXCI+XCJcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgaGFzQm9keShvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9faXNWdWU7XG4gICAgfSxcbiAgICBib2R5KG9iaikge1xuICAgICAgaWYgKG9iaiAmJiBvYmouX19pc1Z1ZSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgLi4uZm9ybWF0SW5zdGFuY2Uob2JqLiQpXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBmdW5jdGlvbiBmb3JtYXRJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IGJsb2NrcyA9IFtdO1xuICAgIGlmIChpbnN0YW5jZS50eXBlLnByb3BzICYmIGluc3RhbmNlLnByb3BzKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwicHJvcHNcIiwgdG9SYXcoaW5zdGFuY2UucHJvcHMpKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zZXR1cFN0YXRlICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJzZXR1cFwiLCBpbnN0YW5jZS5zZXR1cFN0YXRlKSk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5kYXRhICE9PSBFTVBUWV9PQkopIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJkYXRhXCIsIHRvUmF3KGluc3RhbmNlLmRhdGEpKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkID0gZXh0cmFjdEtleXMoaW5zdGFuY2UsIFwiY29tcHV0ZWRcIik7XG4gICAgaWYgKGNvbXB1dGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiY29tcHV0ZWRcIiwgY29tcHV0ZWQpKTtcbiAgICB9XG4gICAgY29uc3QgaW5qZWN0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJpbmplY3RcIik7XG4gICAgaWYgKGluamVjdGVkKSB7XG4gICAgICBibG9ja3MucHVzaChjcmVhdGVJbnN0YW5jZUJsb2NrKFwiaW5qZWN0ZWRcIiwgaW5qZWN0ZWQpKTtcbiAgICB9XG4gICAgYmxvY2tzLnB1c2goW1xuICAgICAgXCJkaXZcIixcbiAgICAgIHt9LFxuICAgICAgW1xuICAgICAgICBcInNwYW5cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBrZXl3b3JkU3R5bGUuc3R5bGUgKyBcIjtvcGFjaXR5OjAuNjZcIlxuICAgICAgICB9LFxuICAgICAgICBcIiQgKGludGVybmFsKTogXCJcbiAgICAgIF0sXG4gICAgICBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGluc3RhbmNlIH1dXG4gICAgXSk7XG4gICAgcmV0dXJuIGJsb2NrcztcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZUJsb2NrKHR5cGUsIHRhcmdldCkge1xuICAgIHRhcmdldCA9IGV4dGVuZCh7fSwgdGFyZ2V0KTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKHRhcmdldCkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCB7fV07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICBcImRpdlwiLFxuICAgICAgeyBzdHlsZTogXCJsaW5lLWhlaWdodDoxLjI1ZW07bWFyZ2luLWJvdHRvbTowLjZlbVwiIH0sXG4gICAgICBbXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdHlsZTogXCJjb2xvcjojNDc2NTgyXCJcbiAgICAgICAgfSxcbiAgICAgICAgdHlwZVxuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcInBhZGRpbmctbGVmdDoxLjI1ZW1cIlxuICAgICAgICB9LFxuICAgICAgICAuLi5PYmplY3Qua2V5cyh0YXJnZXQpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIFtcInNwYW5cIiwga2V5d29yZFN0eWxlLCBrZXkgKyBcIjogXCJdLFxuICAgICAgICAgICAgZm9ybWF0VmFsdWUodGFyZ2V0W2tleV0sIGZhbHNlKVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICBdXG4gICAgXTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXRWYWx1ZSh2LCBhc1JhdyA9IHRydWUpIHtcbiAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIG51bWJlclN0eWxlLCB2XTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgSlNPTi5zdHJpbmdpZnkodildO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodikpIHtcbiAgICAgIHJldHVybiBbXCJvYmplY3RcIiwgeyBvYmplY3Q6IGFzUmF3ID8gdG9SYXcodikgOiB2IH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW1wic3BhblwiLCBzdHJpbmdTdHlsZSwgU3RyaW5nKHYpXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZXh0cmFjdEtleXMoaW5zdGFuY2UsIHR5cGUpIHtcbiAgICBjb25zdCBDb21wID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAoaXNGdW5jdGlvbihDb21wKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBleHRyYWN0ZWQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5jdHgpIHtcbiAgICAgIGlmIChpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpKSB7XG4gICAgICAgIGV4dHJhY3RlZFtrZXldID0gaW5zdGFuY2UuY3R4W2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBleHRyYWN0ZWQ7XG4gIH1cbiAgZnVuY3Rpb24gaXNLZXlPZlR5cGUoQ29tcCwga2V5LCB0eXBlKSB7XG4gICAgY29uc3Qgb3B0cyA9IENvbXBbdHlwZV07XG4gICAgaWYgKGlzQXJyYXkob3B0cykgJiYgb3B0cy5pbmNsdWRlcyhrZXkpIHx8IGlzT2JqZWN0KG9wdHMpICYmIGtleSBpbiBvcHRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKENvbXAuZXh0ZW5kcyAmJiBpc0tleU9mVHlwZShDb21wLmV4dGVuZHMsIGtleSwgdHlwZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5taXhpbnMgJiYgQ29tcC5taXhpbnMuc29tZSgobSkgPT4gaXNLZXlPZlR5cGUobSwga2V5LCB0eXBlKSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZW5SZWZGbGFnKHYpIHtcbiAgICBpZiAoaXNTaGFsbG93KHYpKSB7XG4gICAgICByZXR1cm4gYFNoYWxsb3dSZWZgO1xuICAgIH1cbiAgICBpZiAodi5lZmZlY3QpIHtcbiAgICAgIHJldHVybiBgQ29tcHV0ZWRSZWZgO1xuICAgIH1cbiAgICByZXR1cm4gYFJlZmA7XG4gIH1cbiAgaWYgKHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMpIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzLnB1c2goZm9ybWF0dGVyKTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cuZGV2dG9vbHNGb3JtYXR0ZXJzID0gW2Zvcm1hdHRlcl07XG4gIH1cbn1cblxuZnVuY3Rpb24gd2l0aE1lbW8obWVtbywgcmVuZGVyLCBjYWNoZSwgaW5kZXgpIHtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVbaW5kZXhdO1xuICBpZiAoY2FjaGVkICYmIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmV0ID0gcmVuZGVyKCk7XG4gIHJldC5tZW1vID0gbWVtby5zbGljZSgpO1xuICByZXQuY2FjaGVJbmRleCA9IGluZGV4O1xuICByZXR1cm4gY2FjaGVbaW5kZXhdID0gcmV0O1xufVxuZnVuY3Rpb24gaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pIHtcbiAgY29uc3QgcHJldiA9IGNhY2hlZC5tZW1vO1xuICBpZiAocHJldi5sZW5ndGggIT0gbWVtby5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGhhc0NoYW5nZWQocHJldltpXSwgbWVtb1tpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2goY2FjaGVkKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuY29uc3QgdmVyc2lvbiA9IFwiMy41LjE3XCI7XG5jb25zdCB3YXJuID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHdhcm4kMSA6IE5PT1A7XG5jb25zdCBFcnJvclR5cGVTdHJpbmdzID0gRXJyb3JUeXBlU3RyaW5ncyQxIDtcbmNvbnN0IGRldnRvb2xzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCB0cnVlID8gZGV2dG9vbHMkMSA6IHZvaWQgMDtcbmNvbnN0IHNldERldnRvb2xzSG9vayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IHNldERldnRvb2xzSG9vayQxIDogTk9PUDtcbmNvbnN0IF9zc3JVdGlscyA9IHtcbiAgY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UsXG4gIHNldHVwQ29tcG9uZW50LFxuICByZW5kZXJDb21wb25lbnRSb290LFxuICBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UsXG4gIGlzVk5vZGU6IGlzVk5vZGUsXG4gIG5vcm1hbGl6ZVZOb2RlLFxuICBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZSxcbiAgZW5zdXJlVmFsaWRWTm9kZSxcbiAgcHVzaFdhcm5pbmdDb250ZXh0LFxuICBwb3BXYXJuaW5nQ29udGV4dFxufTtcbmNvbnN0IHNzclV0aWxzID0gX3NzclV0aWxzIDtcbmNvbnN0IHJlc29sdmVGaWx0ZXIgPSBudWxsO1xuY29uc3QgY29tcGF0VXRpbHMgPSBudWxsO1xuY29uc3QgRGVwcmVjYXRpb25UeXBlcyA9IG51bGw7XG5cbmV4cG9ydCB7IEJhc2VUcmFuc2l0aW9uLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgQ29tbWVudCwgRGVwcmVjYXRpb25UeXBlcywgRXJyb3JDb2RlcywgRXJyb3JUeXBlU3RyaW5ncywgRnJhZ21lbnQsIEtlZXBBbGl2ZSwgU3RhdGljLCBTdXNwZW5zZSwgVGVsZXBvcnQsIFRleHQsIGFzc2VydE51bWJlciwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGNhbGxXaXRoRXJyb3JIYW5kbGluZywgY2xvbmVWTm9kZSwgY29tcGF0VXRpbHMsIGNvbXB1dGVkLCBjcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUJhc2VWTm9kZSBhcyBjcmVhdGVFbGVtZW50Vk5vZGUsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBjcmVhdGVQcm9wc1Jlc3RQcm94eSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZVNsb3RzLCBjcmVhdGVTdGF0aWNWTm9kZSwgY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVWTm9kZSwgZGVmaW5lQXN5bmNDb21wb25lbnQsIGRlZmluZUNvbXBvbmVudCwgZGVmaW5lRW1pdHMsIGRlZmluZUV4cG9zZSwgZGVmaW5lTW9kZWwsIGRlZmluZU9wdGlvbnMsIGRlZmluZVByb3BzLCBkZWZpbmVTbG90cywgZGV2dG9vbHMsIGdldEN1cnJlbnRJbnN0YW5jZSwgZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuLCBndWFyZFJlYWN0aXZlUHJvcHMsIGgsIGhhbmRsZUVycm9yLCBoYXNJbmplY3Rpb25Db250ZXh0LCBoeWRyYXRlT25JZGxlLCBoeWRyYXRlT25JbnRlcmFjdGlvbiwgaHlkcmF0ZU9uTWVkaWFRdWVyeSwgaHlkcmF0ZU9uVmlzaWJsZSwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZURlZmF1bHRzLCBtZXJnZU1vZGVscywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQXR0cnMsIHVzZUlkLCB1c2VNb2RlbCwgdXNlU1NSQ29udGV4dCwgdXNlU2xvdHMsIHVzZVRlbXBsYXRlUmVmLCB1c2VUcmFuc2l0aW9uU3RhdGUsIHZlcnNpb24sIHdhcm4sIHdhdGNoLCB3YXRjaEVmZmVjdCwgd2F0Y2hQb3N0RWZmZWN0LCB3YXRjaFN5bmNFZmZlY3QsIHdpdGhBc3luY0NvbnRleHQsIHdpdGhDdHgsIHdpdGhEZWZhdWx0cywgd2l0aERpcmVjdGl2ZXMsIHdpdGhNZW1vLCB3aXRoU2NvcGVJZCB9O1xuIiwiLyoqXG4qIEB2dWUvcnVudGltZS1kb20gdjMuNS4xN1xuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgd2FybiwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIGgsIEJhc2VUcmFuc2l0aW9uLCBhc3NlcnROdW1iZXIsIGdldEN1cnJlbnRJbnN0YW5jZSwgb25CZWZvcmVVcGRhdGUsIHF1ZXVlUG9zdEZsdXNoQ2IsIG9uTW91bnRlZCwgd2F0Y2gsIG9uVW5tb3VudGVkLCBGcmFnbWVudCwgU3RhdGljLCBjYW1lbGl6ZSwgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcsIGRlZmluZUNvbXBvbmVudCwgbmV4dFRpY2ssIHVucmVmLCBjcmVhdGVWTm9kZSwgdXNlVHJhbnNpdGlvblN0YXRlLCBvblVwZGF0ZWQsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgVGV4dCwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyLCBpc1J1bnRpbWVPbmx5IH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGlzQXJyYXksIE5PT1AsIGlzU3RyaW5nLCBoeXBoZW5hdGUsIGNhcGl0YWxpemUsIGlzU3BlY2lhbEJvb2xlYW5BdHRyLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGlzU3ltYm9sLCBpc0Z1bmN0aW9uLCBpc09uLCBpc01vZGVsTGlzdGVuZXIsIGNhbWVsaXplIGFzIGNhbWVsaXplJDEsIGlzUGxhaW5PYmplY3QsIGhhc093biwgRU1QVFlfT0JKLCBsb29zZVRvTnVtYmVyLCBsb29zZUluZGV4T2YsIGlzU2V0LCBsb29zZUVxdWFsLCBpbnZva2VBcnJheUZucywgaXNIVE1MVGFnLCBpc1NWR1RhZywgaXNNYXRoTUxUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmxldCBwb2xpY3kgPSB2b2lkIDA7XG5jb25zdCB0dCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LnRydXN0ZWRUeXBlcztcbmlmICh0dCkge1xuICB0cnkge1xuICAgIHBvbGljeSA9IC8qIEBfX1BVUkVfXyAqLyB0dC5jcmVhdGVQb2xpY3koXCJ2dWVcIiwge1xuICAgICAgY3JlYXRlSFRNTDogKHZhbCkgPT4gdmFsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEVycm9yIGNyZWF0aW5nIHRydXN0ZWQgdHlwZXMgcG9saWN5OiAke2V9YCk7XG4gIH1cbn1cbmNvbnN0IHVuc2FmZVRvVHJ1c3RlZEhUTUwgPSBwb2xpY3kgPyAodmFsKSA9PiBwb2xpY3kuY3JlYXRlSFRNTCh2YWwpIDogKHZhbCkgPT4gdmFsO1xuY29uc3Qgc3ZnTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5jb25zdCBtYXRobWxOUyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiO1xuY29uc3QgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiID8gZG9jdW1lbnQgOiBudWxsO1xuY29uc3QgdGVtcGxhdGVDb250YWluZXIgPSBkb2MgJiYgLyogQF9fUFVSRV9fICovIGRvYy5jcmVhdGVFbGVtZW50KFwidGVtcGxhdGVcIik7XG5jb25zdCBub2RlT3BzID0ge1xuICBpbnNlcnQ6IChjaGlsZCwgcGFyZW50LCBhbmNob3IpID0+IHtcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBhbmNob3IgfHwgbnVsbCk7XG4gIH0sXG4gIHJlbW92ZTogKGNoaWxkKSA9PiB7XG4gICAgY29uc3QgcGFyZW50ID0gY2hpbGQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgfSxcbiAgY3JlYXRlRWxlbWVudDogKHRhZywgbmFtZXNwYWNlLCBpcywgcHJvcHMpID0+IHtcbiAgICBjb25zdCBlbCA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIiA/IGRvYy5jcmVhdGVFbGVtZW50TlMoc3ZnTlMsIHRhZykgOiBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgPyBkb2MuY3JlYXRlRWxlbWVudE5TKG1hdGhtbE5TLCB0YWcpIDogaXMgPyBkb2MuY3JlYXRlRWxlbWVudCh0YWcsIHsgaXMgfSkgOiBkb2MuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIGlmICh0YWcgPT09IFwic2VsZWN0XCIgJiYgcHJvcHMgJiYgcHJvcHMubXVsdGlwbGUgIT0gbnVsbCkge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKFwibXVsdGlwbGVcIiwgcHJvcHMubXVsdGlwbGUpO1xuICAgIH1cbiAgICByZXR1cm4gZWw7XG4gIH0sXG4gIGNyZWF0ZVRleHQ6ICh0ZXh0KSA9PiBkb2MuY3JlYXRlVGV4dE5vZGUodGV4dCksXG4gIGNyZWF0ZUNvbW1lbnQ6ICh0ZXh0KSA9PiBkb2MuY3JlYXRlQ29tbWVudCh0ZXh0KSxcbiAgc2V0VGV4dDogKG5vZGUsIHRleHQpID0+IHtcbiAgICBub2RlLm5vZGVWYWx1ZSA9IHRleHQ7XG4gIH0sXG4gIHNldEVsZW1lbnRUZXh0OiAoZWwsIHRleHQpID0+IHtcbiAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH0sXG4gIHBhcmVudE5vZGU6IChub2RlKSA9PiBub2RlLnBhcmVudE5vZGUsXG4gIG5leHRTaWJsaW5nOiAobm9kZSkgPT4gbm9kZS5uZXh0U2libGluZyxcbiAgcXVlcnlTZWxlY3RvcjogKHNlbGVjdG9yKSA9PiBkb2MucXVlcnlTZWxlY3RvcihzZWxlY3RvciksXG4gIHNldFNjb3BlSWQoZWwsIGlkKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgfSxcbiAgLy8gX19VTlNBRkVfX1xuICAvLyBSZWFzb246IGlubmVySFRNTC5cbiAgLy8gU3RhdGljIGNvbnRlbnQgaGVyZSBjYW4gb25seSBjb21lIGZyb20gY29tcGlsZWQgdGVtcGxhdGVzLlxuICAvLyBBcyBsb25nIGFzIHRoZSB1c2VyIG9ubHkgdXNlcyB0cnVzdGVkIHRlbXBsYXRlcywgdGhpcyBpcyBzYWZlLlxuICBpbnNlcnRTdGF0aWNDb250ZW50KGNvbnRlbnQsIHBhcmVudCwgYW5jaG9yLCBuYW1lc3BhY2UsIHN0YXJ0LCBlbmQpIHtcbiAgICBjb25zdCBiZWZvcmUgPSBhbmNob3IgPyBhbmNob3IucHJldmlvdXNTaWJsaW5nIDogcGFyZW50Lmxhc3RDaGlsZDtcbiAgICBpZiAoc3RhcnQgJiYgKHN0YXJ0ID09PSBlbmQgfHwgc3RhcnQubmV4dFNpYmxpbmcpKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHN0YXJ0LmNsb25lTm9kZSh0cnVlKSwgYW5jaG9yKTtcbiAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQgfHwgIShzdGFydCA9IHN0YXJ0Lm5leHRTaWJsaW5nKSkgYnJlYWs7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRlbXBsYXRlQ29udGFpbmVyLmlubmVySFRNTCA9IHVuc2FmZVRvVHJ1c3RlZEhUTUwoXG4gICAgICAgIG5hbWVzcGFjZSA9PT0gXCJzdmdcIiA/IGA8c3ZnPiR7Y29udGVudH08L3N2Zz5gIDogbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiID8gYDxtYXRoPiR7Y29udGVudH08L21hdGg+YCA6IGNvbnRlbnRcbiAgICAgICk7XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ29udGFpbmVyLmNvbnRlbnQ7XG4gICAgICBpZiAobmFtZXNwYWNlID09PSBcInN2Z1wiIHx8IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIikge1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gdGVtcGxhdGUuZmlyc3RDaGlsZDtcbiAgICAgICAgd2hpbGUgKHdyYXBwZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHRlbXBsYXRlLmFwcGVuZENoaWxkKHdyYXBwZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcGxhdGUucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgICB9XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHRlbXBsYXRlLCBhbmNob3IpO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgLy8gZmlyc3RcbiAgICAgIGJlZm9yZSA/IGJlZm9yZS5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkLFxuICAgICAgLy8gbGFzdFxuICAgICAgYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGRcbiAgICBdO1xuICB9XG59O1xuXG5jb25zdCBUUkFOU0lUSU9OID0gXCJ0cmFuc2l0aW9uXCI7XG5jb25zdCBBTklNQVRJT04gPSBcImFuaW1hdGlvblwiO1xuY29uc3QgdnRjS2V5ID0gU3ltYm9sKFwiX3Z0Y1wiKTtcbmNvbnN0IERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gIG5hbWU6IFN0cmluZyxcbiAgdHlwZTogU3RyaW5nLFxuICBjc3M6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgZHVyYXRpb246IFtTdHJpbmcsIE51bWJlciwgT2JqZWN0XSxcbiAgZW50ZXJGcm9tQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICBlbnRlclRvQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGFwcGVhclRvQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVGcm9tQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLFxuICBsZWF2ZVRvQ2xhc3M6IFN0cmluZ1xufTtcbmNvbnN0IFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKFxuICB7fSxcbiAgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsXG4gIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnNcbik7XG5jb25zdCBkZWNvcmF0ZSQxID0gKHQpID0+IHtcbiAgdC5kaXNwbGF5TmFtZSA9IFwiVHJhbnNpdGlvblwiO1xuICB0LnByb3BzID0gVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycztcbiAgcmV0dXJuIHQ7XG59O1xuY29uc3QgVHJhbnNpdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWNvcmF0ZSQxKFxuICAocHJvcHMsIHsgc2xvdHMgfSkgPT4gaChCYXNlVHJhbnNpdGlvbiwgcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhwcm9wcyksIHNsb3RzKVxuKTtcbmNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MgPSBbXSkgPT4ge1xuICBpZiAoaXNBcnJheShob29rKSkge1xuICAgIGhvb2suZm9yRWFjaCgoaDIpID0+IGgyKC4uLmFyZ3MpKTtcbiAgfSBlbHNlIGlmIChob29rKSB7XG4gICAgaG9vayguLi5hcmdzKTtcbiAgfVxufTtcbmNvbnN0IGhhc0V4cGxpY2l0Q2FsbGJhY2sgPSAoaG9vaykgPT4ge1xuICByZXR1cm4gaG9vayA/IGlzQXJyYXkoaG9vaykgPyBob29rLnNvbWUoKGgyKSA9PiBoMi5sZW5ndGggPiAxKSA6IGhvb2subGVuZ3RoID4gMSA6IGZhbHNlO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcbiAgY29uc3QgYmFzZVByb3BzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgaWYgKCEoa2V5IGluIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKSB7XG4gICAgICBiYXNlUHJvcHNba2V5XSA9IHJhd1Byb3BzW2tleV07XG4gICAgfVxuICB9XG4gIGlmIChyYXdQcm9wcy5jc3MgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGJhc2VQcm9wcztcbiAgfVxuICBjb25zdCB7XG4gICAgbmFtZSA9IFwidlwiLFxuICAgIHR5cGUsXG4gICAgZHVyYXRpb24sXG4gICAgZW50ZXJGcm9tQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1mcm9tYCxcbiAgICBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCxcbiAgICBlbnRlclRvQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci10b2AsXG4gICAgYXBwZWFyRnJvbUNsYXNzID0gZW50ZXJGcm9tQ2xhc3MsXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLFxuICAgIGFwcGVhclRvQ2xhc3MgPSBlbnRlclRvQ2xhc3MsXG4gICAgbGVhdmVGcm9tQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1mcm9tYCxcbiAgICBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCxcbiAgICBsZWF2ZVRvQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS10b2BcbiAgfSA9IHJhd1Byb3BzO1xuICBjb25zdCBkdXJhdGlvbnMgPSBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbik7XG4gIGNvbnN0IGVudGVyRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzBdO1xuICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcbiAgY29uc3Qge1xuICAgIG9uQmVmb3JlRW50ZXIsXG4gICAgb25FbnRlcixcbiAgICBvbkVudGVyQ2FuY2VsbGVkLFxuICAgIG9uTGVhdmUsXG4gICAgb25MZWF2ZUNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUFwcGVhciA9IG9uQmVmb3JlRW50ZXIsXG4gICAgb25BcHBlYXIgPSBvbkVudGVyLFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkID0gb25FbnRlckNhbmNlbGxlZFxuICB9ID0gYmFzZVByb3BzO1xuICBjb25zdCBmaW5pc2hFbnRlciA9IChlbCwgaXNBcHBlYXIsIGRvbmUsIGlzQ2FuY2VsbGVkKSA9PiB7XG4gICAgZWwuX2VudGVyQ2FuY2VsbGVkID0gaXNDYW5jZWxsZWQ7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhclRvQ2xhc3MgOiBlbnRlclRvQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJBY3RpdmVDbGFzcyA6IGVudGVyQWN0aXZlQ2xhc3MpO1xuICAgIGRvbmUgJiYgZG9uZSgpO1xuICB9O1xuICBjb25zdCBmaW5pc2hMZWF2ZSA9IChlbCwgZG9uZSkgPT4ge1xuICAgIGVsLl9pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICBkb25lICYmIGRvbmUoKTtcbiAgfTtcbiAgY29uc3QgbWFrZUVudGVySG9vayA9IChpc0FwcGVhcikgPT4ge1xuICAgIHJldHVybiAoZWwsIGRvbmUpID0+IHtcbiAgICAgIGNvbnN0IGhvb2sgPSBpc0FwcGVhciA/IG9uQXBwZWFyIDogb25FbnRlcjtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hFbnRlcihlbCwgaXNBcHBlYXIsIGRvbmUpO1xuICAgICAgY2FsbEhvb2soaG9vaywgW2VsLCByZXNvbHZlXSk7XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyRnJvbUNsYXNzIDogZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhob29rKSkge1xuICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgZW50ZXJEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG4gIHJldHVybiBleHRlbmQoYmFzZVByb3BzLCB7XG4gICAgb25CZWZvcmVFbnRlcihlbCkge1xuICAgICAgY2FsbEhvb2sob25CZWZvcmVFbnRlciwgW2VsXSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGVudGVyRnJvbUNsYXNzKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgfSxcbiAgICBvbkJlZm9yZUFwcGVhcihlbCkge1xuICAgICAgY2FsbEhvb2sob25CZWZvcmVBcHBlYXIsIFtlbF0pO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhcHBlYXJBY3RpdmVDbGFzcyk7XG4gICAgfSxcbiAgICBvbkVudGVyOiBtYWtlRW50ZXJIb29rKGZhbHNlKSxcbiAgICBvbkFwcGVhcjogbWFrZUVudGVySG9vayh0cnVlKSxcbiAgICBvbkxlYXZlKGVsLCBkb25lKSB7XG4gICAgICBlbC5faXNMZWF2aW5nID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSAoKSA9PiBmaW5pc2hMZWF2ZShlbCwgZG9uZSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlRnJvbUNsYXNzKTtcbiAgICAgIGlmICghZWwuX2VudGVyQ2FuY2VsbGVkKSB7XG4gICAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgICAgICBmb3JjZVJlZmxvdygpO1xuICAgICAgfVxuICAgICAgbmV4dEZyYW1lKCgpID0+IHtcbiAgICAgICAgaWYgKCFlbC5faXNMZWF2aW5nKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7XG4gICAgICAgIGlmICghaGFzRXhwbGljaXRDYWxsYmFjayhvbkxlYXZlKSkge1xuICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgbGVhdmVEdXJhdGlvbiwgcmVzb2x2ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY2FsbEhvb2sob25MZWF2ZSwgW2VsLCByZXNvbHZlXSk7XG4gICAgfSxcbiAgICBvbkVudGVyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICBmaW5pc2hFbnRlcihlbCwgZmFsc2UsIHZvaWQgMCwgdHJ1ZSk7XG4gICAgICBjYWxsSG9vayhvbkVudGVyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICB9LFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICBmaW5pc2hFbnRlcihlbCwgdHJ1ZSwgdm9pZCAwLCB0cnVlKTtcbiAgICAgIGNhbGxIb29rKG9uQXBwZWFyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICB9LFxuICAgIG9uTGVhdmVDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaExlYXZlKGVsKTtcbiAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbikge1xuICBpZiAoZHVyYXRpb24gPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGR1cmF0aW9uKSkge1xuICAgIHJldHVybiBbTnVtYmVyT2YoZHVyYXRpb24uZW50ZXIpLCBOdW1iZXJPZihkdXJhdGlvbi5sZWF2ZSldO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IG4gPSBOdW1iZXJPZihkdXJhdGlvbik7XG4gICAgcmV0dXJuIFtuLCBuXTtcbiAgfVxufVxuZnVuY3Rpb24gTnVtYmVyT2YodmFsKSB7XG4gIGNvbnN0IHJlcyA9IHRvTnVtYmVyKHZhbCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYXNzZXJ0TnVtYmVyKHJlcywgXCI8dHJhbnNpdGlvbj4gZXhwbGljaXQgZHVyYXRpb25cIik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XG4gIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgZWwuY2xhc3NMaXN0LmFkZChjKSk7XG4gIChlbFt2dGNLZXldIHx8IChlbFt2dGNLZXldID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSkpLmFkZChjbHMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBjbHMpIHtcbiAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgY29uc3QgX3Z0YyA9IGVsW3Z0Y0tleV07XG4gIGlmIChfdnRjKSB7XG4gICAgX3Z0Yy5kZWxldGUoY2xzKTtcbiAgICBpZiAoIV92dGMuc2l6ZSkge1xuICAgICAgZWxbdnRjS2V5XSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG5leHRGcmFtZShjYikge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gIH0pO1xufVxubGV0IGVuZElkID0gMDtcbmZ1bmN0aW9uIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgZXhwZWN0ZWRUeXBlLCBleHBsaWNpdFRpbWVvdXQsIHJlc29sdmUpIHtcbiAgY29uc3QgaWQgPSBlbC5fZW5kSWQgPSArK2VuZElkO1xuICBjb25zdCByZXNvbHZlSWZOb3RTdGFsZSA9ICgpID0+IHtcbiAgICBpZiAoaWQgPT09IGVsLl9lbmRJZCkge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH1cbiAgfTtcbiAgaWYgKGV4cGxpY2l0VGltZW91dCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQocmVzb2x2ZUlmTm90U3RhbGUsIGV4cGxpY2l0VGltZW91dCk7XG4gIH1cbiAgY29uc3QgeyB0eXBlLCB0aW1lb3V0LCBwcm9wQ291bnQgfSA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpO1xuICBpZiAoIXR5cGUpIHtcbiAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICB9XG4gIGNvbnN0IGVuZEV2ZW50ID0gdHlwZSArIFwiZW5kXCI7XG4gIGxldCBlbmRlZCA9IDA7XG4gIGNvbnN0IGVuZCA9ICgpID0+IHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG4gICAgcmVzb2x2ZUlmTm90U3RhbGUoKTtcbiAgfTtcbiAgY29uc3Qgb25FbmQgPSAoZSkgPT4ge1xuICAgIGlmIChlLnRhcmdldCA9PT0gZWwgJiYgKytlbmRlZCA+PSBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihlbmRFdmVudCwgb25FbmQpO1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSkge1xuICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gIGNvbnN0IGdldFN0eWxlUHJvcGVydGllcyA9IChrZXkpID0+IChzdHlsZXNba2V5XSB8fCBcIlwiKS5zcGxpdChcIiwgXCIpO1xuICBjb25zdCB0cmFuc2l0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RGVsYXlgKTtcbiAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfUR1cmF0aW9uYCk7XG4gIGNvbnN0IHRyYW5zaXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dCh0cmFuc2l0aW9uRGVsYXlzLCB0cmFuc2l0aW9uRHVyYXRpb25zKTtcbiAgY29uc3QgYW5pbWF0aW9uRGVsYXlzID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke0FOSU1BVElPTn1EZWxheWApO1xuICBjb25zdCBhbmltYXRpb25EdXJhdGlvbnMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfUR1cmF0aW9uYCk7XG4gIGNvbnN0IGFuaW1hdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KGFuaW1hdGlvbkRlbGF5cywgYW5pbWF0aW9uRHVyYXRpb25zKTtcbiAgbGV0IHR5cGUgPSBudWxsO1xuICBsZXQgdGltZW91dCA9IDA7XG4gIGxldCBwcm9wQ291bnQgPSAwO1xuICBpZiAoZXhwZWN0ZWRUeXBlID09PSBUUkFOU0lUSU9OKSB7XG4gICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IFRSQU5TSVRJT047XG4gICAgICB0aW1lb3V0ID0gdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSBBTklNQVRJT04pIHtcbiAgICBpZiAoYW5pbWF0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBBTklNQVRJT047XG4gICAgICB0aW1lb3V0ID0gYW5pbWF0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRpbWVvdXQgPSBNYXRoLm1heCh0cmFuc2l0aW9uVGltZW91dCwgYW5pbWF0aW9uVGltZW91dCk7XG4gICAgdHlwZSA9IHRpbWVvdXQgPiAwID8gdHJhbnNpdGlvblRpbWVvdXQgPiBhbmltYXRpb25UaW1lb3V0ID8gVFJBTlNJVElPTiA6IEFOSU1BVElPTiA6IG51bGw7XG4gICAgcHJvcENvdW50ID0gdHlwZSA/IHR5cGUgPT09IFRSQU5TSVRJT04gPyB0cmFuc2l0aW9uRHVyYXRpb25zLmxlbmd0aCA6IGFuaW1hdGlvbkR1cmF0aW9ucy5sZW5ndGggOiAwO1xuICB9XG4gIGNvbnN0IGhhc1RyYW5zZm9ybSA9IHR5cGUgPT09IFRSQU5TSVRJT04gJiYgL1xcYih0cmFuc2Zvcm18YWxsKSgsfCQpLy50ZXN0KFxuICAgIGdldFN0eWxlUHJvcGVydGllcyhgJHtUUkFOU0lUSU9OfVByb3BlcnR5YCkudG9TdHJpbmcoKVxuICApO1xuICByZXR1cm4ge1xuICAgIHR5cGUsXG4gICAgdGltZW91dCxcbiAgICBwcm9wQ291bnQsXG4gICAgaGFzVHJhbnNmb3JtXG4gIH07XG59XG5mdW5jdGlvbiBnZXRUaW1lb3V0KGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuICByZXR1cm4gTWF0aC5tYXgoLi4uZHVyYXRpb25zLm1hcCgoZCwgaSkgPT4gdG9NcyhkKSArIHRvTXMoZGVsYXlzW2ldKSkpO1xufVxuZnVuY3Rpb24gdG9NcyhzKSB7XG4gIGlmIChzID09PSBcImF1dG9cIikgcmV0dXJuIDA7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZShcIixcIiwgXCIuXCIpKSAqIDFlMztcbn1cbmZ1bmN0aW9uIGZvcmNlUmVmbG93KCkge1xuICByZXR1cm4gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIHBhdGNoQ2xhc3MoZWwsIHZhbHVlLCBpc1NWRykge1xuICBjb25zdCB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsW3Z0Y0tleV07XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcykge1xuICAgIHZhbHVlID0gKHZhbHVlID8gW3ZhbHVlLCAuLi50cmFuc2l0aW9uQ2xhc3Nlc10gOiBbLi4udHJhbnNpdGlvbkNsYXNzZXNdKS5qb2luKFwiIFwiKTtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICB9IGVsc2UgaWYgKGlzU1ZHKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIGVsLmNsYXNzTmFtZSA9IHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IHZTaG93T3JpZ2luYWxEaXNwbGF5ID0gU3ltYm9sKFwiX3ZvZFwiKTtcbmNvbnN0IHZTaG93SGlkZGVuID0gU3ltYm9sKFwiX3ZzaFwiKTtcbmNvbnN0IHZTaG93ID0ge1xuICBiZWZvcmVNb3VudChlbCwgeyB2YWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGVsW3ZTaG93T3JpZ2luYWxEaXNwbGF5XSA9IGVsLnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGVsLnN0eWxlLmRpc3BsYXk7XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBtb3VudGVkKGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgaWYgKHRyYW5zaXRpb24gJiYgdmFsdWUpIHtcbiAgICAgIHRyYW5zaXRpb24uZW50ZXIoZWwpO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpIHJldHVybjtcbiAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoZWwpO1xuICAgICAgICBzZXREaXNwbGF5KGVsLCB0cnVlKTtcbiAgICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uLmxlYXZlKGVsLCAoKSA9PiB7XG4gICAgICAgICAgc2V0RGlzcGxheShlbCwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgYmVmb3JlVW5tb3VudChlbCwgeyB2YWx1ZSB9KSB7XG4gICAgc2V0RGlzcGxheShlbCwgdmFsdWUpO1xuICB9XG59O1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgdlNob3cubmFtZSA9IFwic2hvd1wiO1xufVxuZnVuY3Rpb24gc2V0RGlzcGxheShlbCwgdmFsdWUpIHtcbiAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWxbdlNob3dPcmlnaW5hbERpc3BsYXldIDogXCJub25lXCI7XG4gIGVsW3ZTaG93SGlkZGVuXSA9ICF2YWx1ZTtcbn1cbmZ1bmN0aW9uIGluaXRWU2hvd0ZvclNTUigpIHtcbiAgdlNob3cuZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9KSA9PiB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgc3R5bGU6IHsgZGlzcGxheTogXCJub25lXCIgfSB9O1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgQ1NTX1ZBUl9URVhUID0gU3ltYm9sKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIkNTU19WQVJfVEVYVFwiIDogXCJcIik7XG5mdW5jdGlvbiB1c2VDc3NWYXJzKGdldHRlcikge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGB1c2VDc3NWYXJzIGlzIGNhbGxlZCB3aXRob3V0IGN1cnJlbnQgYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdXBkYXRlVGVsZXBvcnRzID0gaW5zdGFuY2UudXQgPSAodmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSkpID0+IHtcbiAgICBBcnJheS5mcm9tKFxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW2RhdGEtdi1vd25lcj1cIiR7aW5zdGFuY2UudWlkfVwiXWApXG4gICAgKS5mb3JFYWNoKChub2RlKSA9PiBzZXRWYXJzT25Ob2RlKG5vZGUsIHZhcnMpKTtcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbnN0YW5jZS5nZXRDc3NWYXJzID0gKCkgPT4gZ2V0dGVyKGluc3RhbmNlLnByb3h5KTtcbiAgfVxuICBjb25zdCBzZXRWYXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHZhcnMgPSBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICAgIGlmIChpbnN0YW5jZS5jZSkge1xuICAgICAgc2V0VmFyc09uTm9kZShpbnN0YW5jZS5jZSwgdmFycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFZhcnNPblZOb2RlKGluc3RhbmNlLnN1YlRyZWUsIHZhcnMpO1xuICAgIH1cbiAgICB1cGRhdGVUZWxlcG9ydHModmFycyk7XG4gIH07XG4gIG9uQmVmb3JlVXBkYXRlKCgpID0+IHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKHNldFZhcnMpO1xuICB9KTtcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICB3YXRjaChzZXRWYXJzLCBOT09QLCB7IGZsdXNoOiBcInBvc3RcIiB9KTtcbiAgICBjb25zdCBvYiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHNldFZhcnMpO1xuICAgIG9iLm9ic2VydmUoaW5zdGFuY2Uuc3ViVHJlZS5lbC5wYXJlbnROb2RlLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICBvblVubW91bnRlZCgoKSA9PiBvYi5kaXNjb25uZWN0KCkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xuICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xuICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcbiAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XG4gICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB2bm9kZS5lbCkge1xuICAgIHNldFZhcnNPbk5vZGUodm5vZGUuZWwsIHZhcnMpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycykpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFN0YXRpYykge1xuICAgIGxldCB7IGVsLCBhbmNob3IgfSA9IHZub2RlO1xuICAgIHdoaWxlIChlbCkge1xuICAgICAgc2V0VmFyc09uTm9kZShlbCwgdmFycyk7XG4gICAgICBpZiAoZWwgPT09IGFuY2hvcikgYnJlYWs7XG4gICAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2V0VmFyc09uTm9kZShlbCwgdmFycykge1xuICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgIGxldCBjc3NUZXh0ID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShgLS0ke2tleX1gLCB2YXJzW2tleV0pO1xuICAgICAgY3NzVGV4dCArPSBgLS0ke2tleX06ICR7dmFyc1trZXldfTtgO1xuICAgIH1cbiAgICBzdHlsZVtDU1NfVkFSX1RFWFRdID0gY3NzVGV4dDtcbiAgfVxufVxuXG5jb25zdCBkaXNwbGF5UkUgPSAvKF58OylcXHMqZGlzcGxheVxccyo6LztcbmZ1bmN0aW9uIHBhdGNoU3R5bGUoZWwsIHByZXYsIG5leHQpIHtcbiAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgY29uc3QgaXNDc3NTdHJpbmcgPSBpc1N0cmluZyhuZXh0KTtcbiAgbGV0IGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gZmFsc2U7XG4gIGlmIChuZXh0ICYmICFpc0Nzc1N0cmluZykge1xuICAgIGlmIChwcmV2KSB7XG4gICAgICBpZiAoIWlzU3RyaW5nKHByZXYpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmV2U3R5bGUgb2YgcHJldi5zcGxpdChcIjtcIikpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBwcmV2U3R5bGUuc2xpY2UoMCwgcHJldlN0eWxlLmluZGV4T2YoXCI6XCIpKS50cmltKCk7XG4gICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xuICAgICAgaWYgKGtleSA9PT0gXCJkaXNwbGF5XCIpIHtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ3NzU3RyaW5nKSB7XG4gICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xuICAgICAgICBjb25zdCBjc3NWYXJUZXh0ID0gc3R5bGVbQ1NTX1ZBUl9URVhUXTtcbiAgICAgICAgaWYgKGNzc1ZhclRleHQpIHtcbiAgICAgICAgICBuZXh0ICs9IFwiO1wiICsgY3NzVmFyVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5jc3NUZXh0ID0gbmV4dDtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBkaXNwbGF5UkUudGVzdChuZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByZXYpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH1cbiAgfVxuICBpZiAodlNob3dPcmlnaW5hbERpc3BsYXkgaW4gZWwpIHtcbiAgICBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gPSBoYXNDb250cm9sbGVkRGlzcGxheSA/IHN0eWxlLmRpc3BsYXkgOiBcIlwiO1xuICAgIGlmIChlbFt2U2hvd0hpZGRlbl0pIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IHNlbWljb2xvblJFID0gL1teXFxcXF07XFxzKiQvO1xuY29uc3QgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcbiAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgIHZhbC5mb3JFYWNoKCh2KSA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgPT0gbnVsbCkgdmFsID0gXCJcIjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKHNlbWljb2xvblJFLnRlc3QodmFsKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBVbmV4cGVjdGVkIHNlbWljb2xvbiBhdCB0aGUgZW5kIG9mICcke25hbWV9JyBzdHlsZSB2YWx1ZTogJyR7dmFsfSdgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoXCItLVwiKSkge1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcbiAgICAgIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgaHlwaGVuYXRlKHByZWZpeGVkKSxcbiAgICAgICAgICB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgXCJcIiksXG4gICAgICAgICAgXCJpbXBvcnRhbnRcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuY29uc3QgcHJlZml4ZXMgPSBbXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiXTtcbmNvbnN0IHByZWZpeENhY2hlID0ge307XG5mdW5jdGlvbiBhdXRvUHJlZml4KHN0eWxlLCByYXdOYW1lKSB7XG4gIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xuICBpZiAobmFtZSAhPT0gXCJmaWx0ZXJcIiAmJiBuYW1lIGluIHN0eWxlKSB7XG4gICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZTtcbiAgfVxuICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xuICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xuICAgICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByYXdOYW1lO1xufVxuXG5jb25zdCB4bGlua05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI7XG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHLCBpbnN0YW5jZSwgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KSkge1xuICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoXCJ4bGluazpcIikpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzQm9vbGVhbiAmJiAhaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcbiAgICAgICAga2V5LFxuICAgICAgICBpc0Jvb2xlYW4gPyBcIlwiIDogaXNTeW1ib2wodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6IHZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwYXRjaERPTVByb3AoZWwsIGtleSwgdmFsdWUsIHBhcmVudENvbXBvbmVudCwgYXR0ck5hbWUpIHtcbiAgaWYgKGtleSA9PT0gXCJpbm5lckhUTUxcIiB8fCBrZXkgPT09IFwidGV4dENvbnRlbnRcIikge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBlbFtrZXldID0ga2V5ID09PSBcImlubmVySFRNTFwiID8gdW5zYWZlVG9UcnVzdGVkSFRNTCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gIGlmIChrZXkgPT09IFwidmFsdWVcIiAmJiB0YWcgIT09IFwiUFJPR1JFU1NcIiAmJiAvLyBjdXN0b20gZWxlbWVudHMgbWF5IHVzZSBfdmFsdWUgaW50ZXJuYWxseVxuICAhdGFnLmluY2x1ZGVzKFwiLVwiKSkge1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFnID09PSBcIk9QVElPTlwiID8gZWwuZ2V0QXR0cmlidXRlKFwidmFsdWVcIikgfHwgXCJcIiA6IGVsLnZhbHVlO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IChcbiAgICAgIC8vICMxMTY0NzogdmFsdWUgc2hvdWxkIGJlIHNldCBhcyBlbXB0eSBzdHJpbmcgZm9yIG51bGwgYW5kIHVuZGVmaW5lZCxcbiAgICAgIC8vIGJ1dCA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCI+IHNob3VsZCBiZSBzZXQgYXMgJ29uJy5cbiAgICAgIGVsLnR5cGUgPT09IFwiY2hlY2tib3hcIiA/IFwib25cIiA6IFwiXCJcbiAgICApIDogU3RyaW5nKHZhbHVlKTtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlIHx8ICEoXCJfdmFsdWVcIiBpbiBlbCkpIHtcbiAgICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9XG4gICAgZWwuX3ZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBuZWVkUmVtb3ZlID0gZmFsc2U7XG4gIGlmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xuICAgIGlmICh0eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdmFsdWUgPSBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCAmJiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHZhbHVlID0gMDtcbiAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIGVsW2tleV0gPSB2YWx1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFuZWVkUmVtb3ZlKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRmFpbGVkIHNldHRpbmcgcHJvcCBcIiR7a2V5fVwiIG9uIDwke3RhZy50b0xvd2VyQ2FzZSgpfT46IHZhbHVlICR7dmFsdWV9IGlzIGludmFsaWQuYCxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbmVlZFJlbW92ZSAmJiBlbC5yZW1vdmVBdHRyaWJ1dGUoYXR0ck5hbWUgfHwga2V5KTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmNvbnN0IHZlaUtleSA9IFN5bWJvbChcIl92ZWlcIik7XG5mdW5jdGlvbiBwYXRjaEV2ZW50KGVsLCByYXdOYW1lLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaW5zdGFuY2UgPSBudWxsKSB7XG4gIGNvbnN0IGludm9rZXJzID0gZWxbdmVpS2V5XSB8fCAoZWxbdmVpS2V5XSA9IHt9KTtcbiAgY29uc3QgZXhpc3RpbmdJbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV07XG4gIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgZXhpc3RpbmdJbnZva2VyLnZhbHVlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNhbml0aXplRXZlbnRWYWx1ZShuZXh0VmFsdWUsIHJhd05hbWUpIDogbmV4dFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IFtuYW1lLCBvcHRpb25zXSA9IHBhcnNlTmFtZShyYXdOYW1lKTtcbiAgICBpZiAobmV4dFZhbHVlKSB7XG4gICAgICBjb25zdCBpbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV0gPSBjcmVhdGVJbnZva2VyKFxuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2FuaXRpemVFdmVudFZhbHVlKG5leHRWYWx1ZSwgcmF3TmFtZSkgOiBuZXh0VmFsdWUsXG4gICAgICAgIGluc3RhbmNlXG4gICAgICApO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmIChleGlzdGluZ0ludm9rZXIpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGV4aXN0aW5nSW52b2tlciwgb3B0aW9ucyk7XG4gICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xuZnVuY3Rpb24gcGFyc2VOYW1lKG5hbWUpIHtcbiAgbGV0IG9wdGlvbnM7XG4gIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICAgIGxldCBtO1xuICAgIHdoaWxlIChtID0gbmFtZS5tYXRjaChvcHRpb25zTW9kaWZpZXJSRSkpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIG5hbWUubGVuZ3RoIC0gbVswXS5sZW5ndGgpO1xuICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZXZlbnQgPSBuYW1lWzJdID09PSBcIjpcIiA/IG5hbWUuc2xpY2UoMykgOiBoeXBoZW5hdGUobmFtZS5zbGljZSgyKSk7XG4gIHJldHVybiBbZXZlbnQsIG9wdGlvbnNdO1xufVxubGV0IGNhY2hlZE5vdyA9IDA7XG5jb25zdCBwID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4oKCkgPT4gY2FjaGVkTm93ID0gMCksIGNhY2hlZE5vdyA9IERhdGUubm93KCkpO1xuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XG4gIGNvbnN0IGludm9rZXIgPSAoZSkgPT4ge1xuICAgIGlmICghZS5fdnRzKSB7XG4gICAgICBlLl92dHMgPSBEYXRlLm5vdygpO1xuICAgIH0gZWxzZSBpZiAoZS5fdnRzIDw9IGludm9rZXIuYXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCBpbnZva2VyLnZhbHVlKSxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNSxcbiAgICAgIFtlXVxuICAgICk7XG4gIH07XG4gIGludm9rZXIudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGludm9rZXIuYXR0YWNoZWQgPSBnZXROb3coKTtcbiAgcmV0dXJuIGludm9rZXI7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZUV2ZW50VmFsdWUodmFsdWUsIHByb3BOYW1lKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB3YXJuKFxuICAgIGBXcm9uZyB0eXBlIHBhc3NlZCBhcyBldmVudCBoYW5kbGVyIHRvICR7cHJvcE5hbWV9IC0gZGlkIHlvdSBmb3JnZXQgQCBvciA6IGluIGZyb250IG9mIHlvdXIgcHJvcD9cbkV4cGVjdGVkIGZ1bmN0aW9uIG9yIGFycmF5IG9mIGZ1bmN0aW9ucywgcmVjZWl2ZWQgdHlwZSAke3R5cGVvZiB2YWx1ZX0uYFxuICApO1xuICByZXR1cm4gTk9PUDtcbn1cbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xuICAgICAgb3JpZ2luYWxTdG9wLmNhbGwoZSk7XG4gICAgICBlLl9zdG9wcGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiB2YWx1ZS5tYXAoXG4gICAgICAoZm4pID0+IChlMikgPT4gIWUyLl9zdG9wcGVkICYmIGZuICYmIGZuKGUyKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IGlzTmF0aXZlT24gPSAoa2V5KSA9PiBrZXkuY2hhckNvZGVBdCgwKSA9PT0gMTExICYmIGtleS5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgLy8gbG93ZXJjYXNlIGxldHRlclxua2V5LmNoYXJDb2RlQXQoMikgPiA5NiAmJiBrZXkuY2hhckNvZGVBdCgyKSA8IDEyMztcbmNvbnN0IHBhdGNoUHJvcCA9IChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgbmFtZXNwYWNlLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgY29uc3QgaXNTVkcgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCI7XG4gIGlmIChrZXkgPT09IFwiY2xhc3NcIikge1xuICAgIHBhdGNoQ2xhc3MoZWwsIG5leHRWYWx1ZSwgaXNTVkcpO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJzdHlsZVwiKSB7XG4gICAgcGF0Y2hTdHlsZShlbCwgcHJldlZhbHVlLCBuZXh0VmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzT24oa2V5KSkge1xuICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgIHBhdGNoRXZlbnQoZWwsIGtleSwgcHJldlZhbHVlLCBuZXh0VmFsdWUsIHBhcmVudENvbXBvbmVudCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGtleVswXSA9PT0gXCIuXCIgPyAoa2V5ID0ga2V5LnNsaWNlKDEpLCB0cnVlKSA6IGtleVswXSA9PT0gXCJeXCIgPyAoa2V5ID0ga2V5LnNsaWNlKDEpLCBmYWxzZSkgOiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRykpIHtcbiAgICBwYXRjaERPTVByb3AoZWwsIGtleSwgbmV4dFZhbHVlKTtcbiAgICBpZiAoIWVsLnRhZ05hbWUuaW5jbHVkZXMoXCItXCIpICYmIChrZXkgPT09IFwidmFsdWVcIiB8fCBrZXkgPT09IFwiY2hlY2tlZFwiIHx8IGtleSA9PT0gXCJzZWxlY3RlZFwiKSkge1xuICAgICAgcGF0Y2hBdHRyKGVsLCBrZXksIG5leHRWYWx1ZSwgaXNTVkcsIHBhcmVudENvbXBvbmVudCwga2V5ICE9PSBcInZhbHVlXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChcbiAgICAvLyAjMTEwODEgZm9yY2Ugc2V0IHByb3BzIGZvciBwb3NzaWJsZSBhc3luYyBjdXN0b20gZWxlbWVudFxuICAgIGVsLl9pc1Z1ZUNFICYmICgvW0EtWl0vLnRlc3Qoa2V5KSB8fCAhaXNTdHJpbmcobmV4dFZhbHVlKSlcbiAgKSB7XG4gICAgcGF0Y2hET01Qcm9wKGVsLCBjYW1lbGl6ZSQxKGtleSksIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50LCBrZXkpO1xuICB9IGVsc2Uge1xuICAgIGlmIChrZXkgPT09IFwidHJ1ZS12YWx1ZVwiKSB7XG4gICAgICBlbC5fdHJ1ZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImZhbHNlLXZhbHVlXCIpIHtcbiAgICAgIGVsLl9mYWxzZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH1cbiAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH1cbn07XG5mdW5jdGlvbiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XG4gIGlmIChpc1NWRykge1xuICAgIGlmIChrZXkgPT09IFwiaW5uZXJIVE1MXCIgfHwga2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoa2V5IGluIGVsICYmIGlzTmF0aXZlT24oa2V5KSAmJiBpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInNwZWxsY2hlY2tcIiB8fCBrZXkgPT09IFwiZHJhZ2dhYmxlXCIgfHwga2V5ID09PSBcInRyYW5zbGF0ZVwiIHx8IGtleSA9PT0gXCJhdXRvY29ycmVjdFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwiZm9ybVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwibGlzdFwiICYmIGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInR5cGVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJ3aWR0aFwiIHx8IGtleSA9PT0gXCJoZWlnaHRcIikge1xuICAgIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gXCJJTUdcIiB8fCB0YWcgPT09IFwiVklERU9cIiB8fCB0YWcgPT09IFwiQ0FOVkFTXCIgfHwgdGFnID09PSBcIlNPVVJDRVwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc05hdGl2ZU9uKGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBrZXkgaW4gZWw7XG59XG5cbmNvbnN0IFJFTU9WQUwgPSB7fTtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBfY3JlYXRlQXBwKSB7XG4gIGNvbnN0IENvbXAgPSBkZWZpbmVDb21wb25lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zKTtcbiAgaWYgKGlzUGxhaW5PYmplY3QoQ29tcCkpIGV4dGVuZChDb21wLCBleHRyYU9wdGlvbnMpO1xuICBjbGFzcyBWdWVDdXN0b21FbGVtZW50IGV4dGVuZHMgVnVlRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoaW5pdGlhbFByb3BzKSB7XG4gICAgICBzdXBlcihDb21wLCBpbml0aWFsUHJvcHMsIF9jcmVhdGVBcHApO1xuICAgIH1cbiAgfVxuICBWdWVDdXN0b21FbGVtZW50LmRlZiA9IENvbXA7XG4gIHJldHVybiBWdWVDdXN0b21FbGVtZW50O1xufVxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBkZWZpbmVTU1JDdXN0b21FbGVtZW50ID0gLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi8gKG9wdGlvbnMsIGV4dHJhT3B0aW9ucykgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBjcmVhdGVTU1JBcHApO1xufTtcbmNvbnN0IEJhc2VDbGFzcyA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IEhUTUxFbGVtZW50IDogY2xhc3Mge1xufTtcbmNsYXNzIFZ1ZUVsZW1lbnQgZXh0ZW5kcyBCYXNlQ2xhc3Mge1xuICBjb25zdHJ1Y3RvcihfZGVmLCBfcHJvcHMgPSB7fSwgX2NyZWF0ZUFwcCA9IGNyZWF0ZUFwcCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZGVmID0gX2RlZjtcbiAgICB0aGlzLl9wcm9wcyA9IF9wcm9wcztcbiAgICB0aGlzLl9jcmVhdGVBcHAgPSBfY3JlYXRlQXBwO1xuICAgIHRoaXMuX2lzVnVlQ0UgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9hcHAgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX25vbmNlID0gdGhpcy5fZGVmLm5vbmNlO1xuICAgIHRoaXMuX2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3Jlc29sdmVkID0gZmFsc2U7XG4gICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudWxsO1xuICAgIHRoaXMuX3N0eWxlQ2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICB0aGlzLl9vYiA9IG51bGw7XG4gICAgaWYgKHRoaXMuc2hhZG93Um9vdCAmJiBfY3JlYXRlQXBwICE9PSBjcmVhdGVBcHApIHtcbiAgICAgIHRoaXMuX3Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBDdXN0b20gZWxlbWVudCBoYXMgcHJlLXJlbmRlcmVkIGRlY2xhcmF0aXZlIHNoYWRvdyByb290IGJ1dCBpcyBub3QgZGVmaW5lZCBhcyBoeWRyYXRhYmxlLiBVc2UgXFxgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudFxcYC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoX2RlZi5zaGFkb3dSb290ICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuICAgICAgICB0aGlzLl9yb290ID0gdGhpcy5zaGFkb3dSb290O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fcm9vdCA9IHRoaXM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkgcmV0dXJuO1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290ICYmICF0aGlzLl9yZXNvbHZlZCkge1xuICAgICAgdGhpcy5fcGFyc2VTbG90cygpO1xuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIGxldCBwYXJlbnQgPSB0aGlzO1xuICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkge1xuICAgICAgaWYgKHBhcmVudCBpbnN0YW5jZW9mIFZ1ZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgaWYgKHRoaXMuX3Jlc29sdmVkKSB7XG4gICAgICAgIHRoaXMuX21vdW50KHRoaXMuX2RlZik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC5fcGVuZGluZ1Jlc29sdmUpIHtcbiAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHBhcmVudC5fcGVuZGluZ1Jlc29sdmUudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmVEZWYoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlRGVmKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3NldFBhcmVudChwYXJlbnQgPSB0aGlzLl9wYXJlbnQpIHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLl9pbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgdGhpcy5faW5oZXJpdFBhcmVudENvbnRleHQocGFyZW50KTtcbiAgICB9XG4gIH1cbiAgX2luaGVyaXRQYXJlbnRDb250ZXh0KHBhcmVudCA9IHRoaXMuX3BhcmVudCkge1xuICAgIGlmIChwYXJlbnQgJiYgdGhpcy5fYXBwKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoXG4gICAgICAgIHRoaXMuX2FwcC5fY29udGV4dC5wcm92aWRlcyxcbiAgICAgICAgcGFyZW50Ll9pbnN0YW5jZS5wcm92aWRlc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29iKSB7XG4gICAgICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHAgJiYgdGhpcy5fYXBwLnVubW91bnQoKTtcbiAgICAgICAgaWYgKHRoaXMuX2luc3RhbmNlKSB0aGlzLl9pbnN0YW5jZS5jZSA9IHZvaWQgMDtcbiAgICAgICAgdGhpcy5fYXBwID0gdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZXNvbHZlIGlubmVyIGNvbXBvbmVudCBkZWZpbml0aW9uIChoYW5kbGUgcG9zc2libGUgYXN5bmMgY29tcG9uZW50KVxuICAgKi9cbiAgX3Jlc29sdmVEZWYoKSB7XG4gICAgaWYgKHRoaXMuX3BlbmRpbmdSZXNvbHZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5fb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NldEF0dHIobS5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICB0aGlzLl9yZXNvbHZlZCA9IHRydWU7XG4gICAgICB0aGlzLl9wZW5kaW5nUmVzb2x2ZSA9IHZvaWQgMDtcbiAgICAgIGNvbnN0IHsgcHJvcHMsIHN0eWxlcyB9ID0gZGVmO1xuICAgICAgbGV0IG51bWJlclByb3BzO1xuICAgICAgaWYgKHByb3BzICYmICFpc0FycmF5KHByb3BzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGNvbnN0IG9wdCA9IHByb3BzW2tleV07XG4gICAgICAgICAgaWYgKG9wdCA9PT0gTnVtYmVyIHx8IG9wdCAmJiBvcHQudHlwZSA9PT0gTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIHRoaXMuX3Byb3BzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB0b051bWJlcih0aGlzLl9wcm9wc1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChudW1iZXJQcm9wcyB8fCAobnVtYmVyUHJvcHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSkpW2NhbWVsaXplJDEoa2V5KV0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fbnVtYmVyUHJvcHMgPSBudW1iZXJQcm9wcztcbiAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyhkZWYpO1xuICAgICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhzdHlsZXMpO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN0eWxlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiQ3VzdG9tIGVsZW1lbnQgc3R5bGUgaW5qZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgd2hlbiB1c2luZyBzaGFkb3dSb290OiBmYWxzZVwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLl9tb3VudChkZWYpO1xuICAgIH07XG4gICAgY29uc3QgYXN5bmNEZWYgPSB0aGlzLl9kZWYuX19hc3luY0xvYWRlcjtcbiAgICBpZiAoYXN5bmNEZWYpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlID0gYXN5bmNEZWYoKS50aGVuKChkZWYpID0+IHtcbiAgICAgICAgZGVmLmNvbmZpZ3VyZUFwcCA9IHRoaXMuX2RlZi5jb25maWd1cmVBcHA7XG4gICAgICAgIHJlc29sdmUodGhpcy5fZGVmID0gZGVmLCB0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHRoaXMuX2RlZik7XG4gICAgfVxuICB9XG4gIF9tb3VudChkZWYpIHtcbiAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSAmJiAhZGVmLm5hbWUpIHtcbiAgICAgIGRlZi5uYW1lID0gXCJWdWVFbGVtZW50XCI7XG4gICAgfVxuICAgIHRoaXMuX2FwcCA9IHRoaXMuX2NyZWF0ZUFwcChkZWYpO1xuICAgIHRoaXMuX2luaGVyaXRQYXJlbnRDb250ZXh0KCk7XG4gICAgaWYgKGRlZi5jb25maWd1cmVBcHApIHtcbiAgICAgIGRlZi5jb25maWd1cmVBcHAodGhpcy5fYXBwKTtcbiAgICB9XG4gICAgdGhpcy5fYXBwLl9jZVZOb2RlID0gdGhpcy5fY3JlYXRlVk5vZGUoKTtcbiAgICB0aGlzLl9hcHAubW91bnQodGhpcy5fcm9vdCk7XG4gICAgY29uc3QgZXhwb3NlZCA9IHRoaXMuX2luc3RhbmNlICYmIHRoaXMuX2luc3RhbmNlLmV4cG9zZWQ7XG4gICAgaWYgKCFleHBvc2VkKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZXhwb3NlZCkge1xuICAgICAgaWYgKCFoYXNPd24odGhpcywga2V5KSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG4gICAgICAgICAgLy8gdW53cmFwIHJlZiB0byBiZSBjb25zaXN0ZW50IHdpdGggcHVibGljIGluc3RhbmNlIGJlaGF2aW9yXG4gICAgICAgICAgZ2V0OiAoKSA9PiB1bnJlZihleHBvc2VkW2tleV0pXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4oYEV4cG9zZWQgcHJvcGVydHkgXCIke2tleX1cIiBhbHJlYWR5IGV4aXN0cyBvbiBjdXN0b20gZWxlbWVudC5gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc29sdmVQcm9wcyhkZWYpIHtcbiAgICBjb25zdCB7IHByb3BzIH0gPSBkZWY7XG4gICAgY29uc3QgZGVjbGFyZWRQcm9wS2V5cyA9IGlzQXJyYXkocHJvcHMpID8gcHJvcHMgOiBPYmplY3Qua2V5cyhwcm9wcyB8fCB7fSk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgIGlmIChrZXlbMF0gIT09IFwiX1wiICYmIGRlY2xhcmVkUHJvcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdGhpc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIF9zZXRBdHRyKGtleSkge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aChcImRhdGEtdi1cIikpIHJldHVybjtcbiAgICBjb25zdCBoYXMgPSB0aGlzLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgIGxldCB2YWx1ZSA9IGhhcyA/IHRoaXMuZ2V0QXR0cmlidXRlKGtleSkgOiBSRU1PVkFMO1xuICAgIGNvbnN0IGNhbWVsS2V5ID0gY2FtZWxpemUkMShrZXkpO1xuICAgIGlmIChoYXMgJiYgdGhpcy5fbnVtYmVyUHJvcHMgJiYgdGhpcy5fbnVtYmVyUHJvcHNbY2FtZWxLZXldKSB7XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICB9XG4gICAgdGhpcy5fc2V0UHJvcChjYW1lbEtleSwgdmFsdWUsIGZhbHNlLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfZ2V0UHJvcChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJvcHNba2V5XTtcbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfc2V0UHJvcChrZXksIHZhbCwgc2hvdWxkUmVmbGVjdCA9IHRydWUsIHNob3VsZFVwZGF0ZSA9IGZhbHNlKSB7XG4gICAgaWYgKHZhbCAhPT0gdGhpcy5fcHJvcHNba2V5XSkge1xuICAgICAgaWYgKHZhbCA9PT0gUkVNT1ZBTCkge1xuICAgICAgICBkZWxldGUgdGhpcy5fcHJvcHNba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICAgIGlmIChrZXkgPT09IFwia2V5XCIgJiYgdGhpcy5fYXBwKSB7XG4gICAgICAgICAgdGhpcy5fYXBwLl9jZVZOb2RlLmtleSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFVwZGF0ZSAmJiB0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRSZWZsZWN0KSB7XG4gICAgICAgIGNvbnN0IG9iID0gdGhpcy5fb2I7XG4gICAgICAgIG9iICYmIG9iLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgICBvYiAmJiBvYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCB2bm9kZSA9IHRoaXMuX2NyZWF0ZVZOb2RlKCk7XG4gICAgaWYgKHRoaXMuX2FwcCkgdm5vZGUuYXBwQ29udGV4dCA9IHRoaXMuX2FwcC5fY29udGV4dDtcbiAgICByZW5kZXIodm5vZGUsIHRoaXMuX3Jvb3QpO1xuICB9XG4gIF9jcmVhdGVWTm9kZSgpIHtcbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7fTtcbiAgICBpZiAoIXRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgYmFzZVByb3BzLm9uVm5vZGVNb3VudGVkID0gYmFzZVByb3BzLm9uVm5vZGVVcGRhdGVkID0gdGhpcy5fcmVuZGVyU2xvdHMuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZSh0aGlzLl9kZWYsIGV4dGVuZChiYXNlUHJvcHMsIHRoaXMuX3Byb3BzKSk7XG4gICAgaWYgKCF0aGlzLl9pbnN0YW5jZSkge1xuICAgICAgdm5vZGUuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UuY2UgPSB0aGlzO1xuICAgICAgICBpbnN0YW5jZS5pc0NFID0gdHJ1ZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBpbnN0YW5jZS5jZVJlbG9hZCA9IChuZXdTdHlsZXMpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdHlsZXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKG5ld1N0eWxlcyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3BhdGNoID0gKGV2ZW50LCBhcmdzKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KFxuICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgaXNQbGFpbk9iamVjdChhcmdzWzBdKSA/IGV4dGVuZCh7IGRldGFpbDogYXJncyB9LCBhcmdzWzBdKSA6IHsgZGV0YWlsOiBhcmdzIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBpbnN0YW5jZS5lbWl0ID0gKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgICAgZGlzcGF0Y2goZXZlbnQsIGFyZ3MpO1xuICAgICAgICAgIGlmIChoeXBoZW5hdGUoZXZlbnQpICE9PSBldmVudCkge1xuICAgICAgICAgICAgZGlzcGF0Y2goaHlwaGVuYXRlKGV2ZW50KSwgYXJncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9zZXRQYXJlbnQoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2bm9kZTtcbiAgfVxuICBfYXBwbHlTdHlsZXMoc3R5bGVzLCBvd25lcikge1xuICAgIGlmICghc3R5bGVzKSByZXR1cm47XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICBpZiAob3duZXIgPT09IHRoaXMuX2RlZiB8fCB0aGlzLl9zdHlsZUNoaWxkcmVuLmhhcyhvd25lcikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5hZGQob3duZXIpO1xuICAgIH1cbiAgICBjb25zdCBub25jZSA9IHRoaXMuX25vbmNlO1xuICAgIGZvciAobGV0IGkgPSBzdHlsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICBpZiAobm9uY2UpIHMuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICAgICAgcy50ZXh0Q29udGVudCA9IHN0eWxlc1tpXTtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5wcmVwZW5kKHMpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgaWYgKG93bmVyKSB7XG4gICAgICAgICAgaWYgKG93bmVyLl9faG1ySWQpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hpbGRTdHlsZXMpIHRoaXMuX2NoaWxkU3R5bGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGxldCBlbnRyeSA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChvd25lci5fX2htcklkKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgdGhpcy5fY2hpbGRTdHlsZXMuc2V0KG93bmVyLl9faG1ySWQsIGVudHJ5ID0gW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50cnkucHVzaChzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHRoaXMuX3N0eWxlcyB8fCAodGhpcy5fc3R5bGVzID0gW10pKS5wdXNoKHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9wYXJzZVNsb3RzKCkge1xuICAgIGNvbnN0IHNsb3RzID0gdGhpcy5fc2xvdHMgPSB7fTtcbiAgICBsZXQgbjtcbiAgICB3aGlsZSAobiA9IHRoaXMuZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBuLm5vZGVUeXBlID09PSAxICYmIG4uZ2V0QXR0cmlidXRlKFwic2xvdFwiKSB8fCBcImRlZmF1bHRcIjtcbiAgICAgIChzbG90c1tzbG90TmFtZV0gfHwgKHNsb3RzW3Nsb3ROYW1lXSA9IFtdKSkucHVzaChuKTtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQobik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBPbmx5IGNhbGxlZCB3aGVuIHNoYWRvd1Jvb3QgaXMgZmFsc2VcbiAgICovXG4gIF9yZW5kZXJTbG90cygpIHtcbiAgICBjb25zdCBvdXRsZXRzID0gKHRoaXMuX3RlbGVwb3J0VGFyZ2V0IHx8IHRoaXMpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzbG90XCIpO1xuICAgIGNvbnN0IHNjb3BlSWQgPSB0aGlzLl9pbnN0YW5jZS50eXBlLl9fc2NvcGVJZDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGxldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG8gPSBvdXRsZXRzW2ldO1xuICAgICAgY29uc3Qgc2xvdE5hbWUgPSBvLmdldEF0dHJpYnV0ZShcIm5hbWVcIikgfHwgXCJkZWZhdWx0XCI7XG4gICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fc2xvdHNbc2xvdE5hbWVdO1xuICAgICAgY29uc3QgcGFyZW50ID0gby5wYXJlbnROb2RlO1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGNvbnRlbnQpIHtcbiAgICAgICAgICBpZiAoc2NvcGVJZCAmJiBuLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHNjb3BlSWQgKyBcIi1zXCI7XG4gICAgICAgICAgICBjb25zdCB3YWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKG4sIDEpO1xuICAgICAgICAgICAgbi5zZXRBdHRyaWJ1dGUoaWQsIFwiXCIpO1xuICAgICAgICAgICAgbGV0IGNoaWxkO1xuICAgICAgICAgICAgd2hpbGUgKGNoaWxkID0gd2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKGlkLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuLCBvKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUgKG8uZmlyc3RDaGlsZCkgcGFyZW50Lmluc2VydEJlZm9yZShvLmZpcnN0Q2hpbGQsIG8pO1xuICAgICAgfVxuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG8pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBfaW5qZWN0Q2hpbGRTdHlsZShjb21wKSB7XG4gICAgdGhpcy5fYXBwbHlTdHlsZXMoY29tcC5zdHlsZXMsIGNvbXApO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9yZW1vdmVDaGlsZFN0eWxlKGNvbXApIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgdGhpcy5fc3R5bGVDaGlsZHJlbi5kZWxldGUoY29tcCk7XG4gICAgICBpZiAodGhpcy5fY2hpbGRTdHlsZXMgJiYgY29tcC5fX2htcklkKSB7XG4gICAgICAgIGNvbnN0IG9sZFN0eWxlcyA9IHRoaXMuX2NoaWxkU3R5bGVzLmdldChjb21wLl9faG1ySWQpO1xuICAgICAgICBpZiAob2xkU3R5bGVzKSB7XG4gICAgICAgICAgb2xkU3R5bGVzLmZvckVhY2goKHMpID0+IHRoaXMuX3Jvb3QucmVtb3ZlQ2hpbGQocykpO1xuICAgICAgICAgIG9sZFN0eWxlcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB1c2VIb3N0KGNhbGxlcikge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCBlbCA9IGluc3RhbmNlICYmIGluc3RhbmNlLmNlO1xuICBpZiAoZWwpIHtcbiAgICByZXR1cm4gZWw7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhbGxlciB8fCBcInVzZUhvc3RcIn0gY2FsbGVkIHdpdGhvdXQgYW4gYWN0aXZlIGNvbXBvbmVudCBpbnN0YW5jZS5gXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgJHtjYWxsZXIgfHwgXCJ1c2VIb3N0XCJ9IGNhbiBvbmx5IGJlIHVzZWQgaW4gY29tcG9uZW50cyBkZWZpbmVkIHZpYSBkZWZpbmVDdXN0b21FbGVtZW50LmBcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXNlU2hhZG93Um9vdCgpIHtcbiAgY29uc3QgZWwgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gdXNlSG9zdChcInVzZVNoYWRvd1Jvb3RcIikgOiB1c2VIb3N0KCk7XG4gIHJldHVybiBlbCAmJiBlbC5zaGFkb3dSb290O1xufVxuXG5mdW5jdGlvbiB1c2VDc3NNb2R1bGUobmFtZSA9IFwiJHN0eWxlXCIpIHtcbiAge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGB1c2VDc3NNb2R1bGUgbXVzdCBiZSBjYWxsZWQgaW5zaWRlIHNldHVwKClgKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIGNvbnN0IG1vZHVsZXMgPSBpbnN0YW5jZS50eXBlLl9fY3NzTW9kdWxlcztcbiAgICBpZiAoIW1vZHVsZXMpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihgQ3VycmVudCBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIENTUyBtb2R1bGVzIGluamVjdGVkLmApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgY29uc3QgbW9kID0gbW9kdWxlc1tuYW1lXTtcbiAgICBpZiAoIW1vZCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZSBuYW1lZCBcIiR7bmFtZX1cIi5gKTtcbiAgICAgIHJldHVybiBFTVBUWV9PQko7XG4gICAgfVxuICAgIHJldHVybiBtb2Q7XG4gIH1cbn1cblxuY29uc3QgcG9zaXRpb25NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG5ld1Bvc2l0aW9uTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBtb3ZlQ2JLZXkgPSBTeW1ib2woXCJfbW92ZUNiXCIpO1xuY29uc3QgZW50ZXJDYktleSA9IFN5bWJvbChcIl9lbnRlckNiXCIpO1xuY29uc3QgZGVjb3JhdGUgPSAodCkgPT4ge1xuICBkZWxldGUgdC5wcm9wcy5tb2RlO1xuICByZXR1cm4gdDtcbn07XG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0gLyogQF9fUFVSRV9fICovIGRlY29yYXRlKHtcbiAgbmFtZTogXCJUcmFuc2l0aW9uR3JvdXBcIixcbiAgcHJvcHM6IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoe30sIFRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIHtcbiAgICB0YWc6IFN0cmluZyxcbiAgICBtb3ZlQ2xhc3M6IFN0cmluZ1xuICB9KSxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICBsZXQgcHJldkNoaWxkcmVuO1xuICAgIGxldCBjaGlsZHJlbjtcbiAgICBvblVwZGF0ZWQoKCkgPT4ge1xuICAgICAgaWYgKCFwcmV2Q2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1vdmVDbGFzcyA9IHByb3BzLm1vdmVDbGFzcyB8fCBgJHtwcm9wcy5uYW1lIHx8IFwidlwifS1tb3ZlYDtcbiAgICAgIGlmICghaGFzQ1NTVHJhbnNmb3JtKFxuICAgICAgICBwcmV2Q2hpbGRyZW5bMF0uZWwsXG4gICAgICAgIGluc3RhbmNlLnZub2RlLmVsLFxuICAgICAgICBtb3ZlQ2xhc3NcbiAgICAgICkpIHtcbiAgICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKGNhbGxQZW5kaW5nQ2JzKTtcbiAgICAgIHByZXZDaGlsZHJlbi5mb3JFYWNoKHJlY29yZFBvc2l0aW9uKTtcbiAgICAgIGNvbnN0IG1vdmVkQ2hpbGRyZW4gPSBwcmV2Q2hpbGRyZW4uZmlsdGVyKGFwcGx5VHJhbnNsYXRpb24pO1xuICAgICAgZm9yY2VSZWZsb3coKTtcbiAgICAgIG1vdmVkQ2hpbGRyZW4uZm9yRWFjaCgoYykgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGMuZWw7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZWwuc3R5bGU7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgc3R5bGUudHJhbnNmb3JtID0gc3R5bGUud2Via2l0VHJhbnNmb3JtID0gc3R5bGUudHJhbnNpdGlvbkR1cmF0aW9uID0gXCJcIjtcbiAgICAgICAgY29uc3QgY2IgPSBlbFttb3ZlQ2JLZXldID0gKGUpID0+IHtcbiAgICAgICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgY2IpO1xuICAgICAgICAgICAgZWxbbW92ZUNiS2V5XSA9IG51bGw7XG4gICAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKFwidHJhbnNpdGlvbmVuZFwiLCBjYik7XG4gICAgICB9KTtcbiAgICAgIHByZXZDaGlsZHJlbiA9IFtdO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgIGNvbnN0IGNzc1RyYW5zaXRpb25Qcm9wcyA9IHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpO1xuICAgICAgbGV0IHRhZyA9IHJhd1Byb3BzLnRhZyB8fCBGcmFnbWVudDtcbiAgICAgIHByZXZDaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKGNoaWxkcmVuKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgICAgIGlmIChjaGlsZC5lbCAmJiBjaGlsZC5lbCBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHByZXZDaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgICAgY3NzVHJhbnNpdGlvblByb3BzLFxuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwb3NpdGlvbk1hcC5zZXQoXG4gICAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgICBjaGlsZC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCA/IGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCkpIDogW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgIGlmIChjaGlsZC5rZXkgIT0gbnVsbCkge1xuICAgICAgICAgIHNldFRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhjaGlsZCwgY3NzVHJhbnNpdGlvblByb3BzLCBzdGF0ZSwgaW5zdGFuY2UpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoaWxkLnR5cGUgIT09IFRleHQpIHtcbiAgICAgICAgICB3YXJuKGA8VHJhbnNpdGlvbkdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkLmApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBudWxsLCBjaGlsZHJlbik7XG4gICAgfTtcbiAgfVxufSk7XG5jb25zdCBUcmFuc2l0aW9uR3JvdXAgPSBUcmFuc2l0aW9uR3JvdXBJbXBsO1xuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xuICBjb25zdCBlbCA9IGMuZWw7XG4gIGlmIChlbFttb3ZlQ2JLZXldKSB7XG4gICAgZWxbbW92ZUNiS2V5XSgpO1xuICB9XG4gIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgIGVsW2VudGVyQ2JLZXldKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uKGMpIHtcbiAgbmV3UG9zaXRpb25NYXAuc2V0KGMsIGMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xufVxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XG4gIGNvbnN0IG9sZFBvcyA9IHBvc2l0aW9uTWFwLmdldChjKTtcbiAgY29uc3QgbmV3UG9zID0gbmV3UG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIGNvbnN0IGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XG4gIGlmIChkeCB8fCBkeSkge1xuICAgIGNvbnN0IHMgPSBjLmVsLnN0eWxlO1xuICAgIHMudHJhbnNmb3JtID0gcy53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZHh9cHgsJHtkeX1weClgO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gXCIwc1wiO1xuICAgIHJldHVybiBjO1xuICB9XG59XG5mdW5jdGlvbiBoYXNDU1NUcmFuc2Zvcm0oZWwsIHJvb3QsIG1vdmVDbGFzcykge1xuICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmZvckVhY2goKGNscykgPT4ge1xuICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgICB9KTtcbiAgfVxuICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5hZGQoYykpO1xuICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGNvbnN0IGNvbnRhaW5lciA9IHJvb3Qubm9kZVR5cGUgPT09IDEgPyByb290IDogcm9vdC5wYXJlbnROb2RlO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xuICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2xvbmUpO1xuICByZXR1cm4gaGFzVHJhbnNmb3JtO1xufVxuXG5jb25zdCBnZXRNb2RlbEFzc2lnbmVyID0gKHZub2RlKSA9PiB7XG4gIGNvbnN0IGZuID0gdm5vZGUucHJvcHNbXCJvblVwZGF0ZTptb2RlbFZhbHVlXCJdIHx8IGZhbHNlO1xuICByZXR1cm4gaXNBcnJheShmbikgPyAodmFsdWUpID0+IGludm9rZUFycmF5Rm5zKGZuLCB2YWx1ZSkgOiBmbjtcbn07XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xuICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZChlKSB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICBpZiAodGFyZ2V0LmNvbXBvc2luZykge1xuICAgIHRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiKSk7XG4gIH1cbn1cbmNvbnN0IGFzc2lnbktleSA9IFN5bWJvbChcIl9hc3NpZ25cIik7XG5jb25zdCB2TW9kZWxUZXh0ID0ge1xuICBjcmVhdGVkKGVsLCB7IG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBjb25zdCBjYXN0VG9OdW1iZXIgPSBudW1iZXIgfHwgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSA9PT0gXCJudW1iZXJcIjtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gXCJjaGFuZ2VcIiA6IFwiaW5wdXRcIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldC5jb21wb3NpbmcpIHJldHVybjtcbiAgICAgIGxldCBkb21WYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgZG9tVmFsdWUgPSBkb21WYWx1ZS50cmltKCk7XG4gICAgICB9XG4gICAgICBpZiAoY2FzdFRvTnVtYmVyKSB7XG4gICAgICAgIGRvbVZhbHVlID0gbG9vc2VUb051bWJlcihkb21WYWx1ZSk7XG4gICAgICB9XG4gICAgICBlbFthc3NpZ25LZXldKGRvbVZhbHVlKTtcbiAgICB9KTtcbiAgICBpZiAodHJpbSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWxhenkpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY29tcG9zaXRpb25zdGFydFwiLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbmVuZFwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgIH1cbiAgfSxcbiAgLy8gc2V0IHZhbHVlIG9uIG1vdW50ZWQgc28gaXQncyBhZnRlciBtaW4vbWF4IGZvciB0eXBlPVwicmFuZ2VcIlxuICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWU7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUsIG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBpZiAoZWwuY29tcG9zaW5nKSByZXR1cm47XG4gICAgY29uc3QgZWxWYWx1ZSA9IChudW1iZXIgfHwgZWwudHlwZSA9PT0gXCJudW1iZXJcIikgJiYgIS9eMFxcZC8udGVzdChlbC52YWx1ZSkgPyBsb29zZVRvTnVtYmVyKGVsLnZhbHVlKSA6IGVsLnZhbHVlO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgICBpZiAoZWxWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsICYmIGVsLnR5cGUgIT09IFwicmFuZ2VcIikge1xuICAgICAgaWYgKGxhenkgJiYgdmFsdWUgPT09IG9sZFZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICB9XG59O1xuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XG4gIC8vICM0MDk2IGFycmF5IGNoZWNrYm94ZXMgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICBkZWVwOiB0cnVlLFxuICBjcmVhdGVkKGVsLCBfLCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XG4gICAgICBjb25zdCBlbGVtZW50VmFsdWUgPSBnZXRWYWx1ZShlbCk7XG4gICAgICBjb25zdCBjaGVja2VkID0gZWwuY2hlY2tlZDtcbiAgICAgIGNvbnN0IGFzc2lnbiA9IGVsW2Fzc2lnbktleV07XG4gICAgICBpZiAoaXNBcnJheShtb2RlbFZhbHVlKSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xuICAgICAgICBjb25zdCBmb3VuZCA9IGluZGV4ICE9PSAtMTtcbiAgICAgICAgaWYgKGNoZWNrZWQgJiYgIWZvdW5kKSB7XG4gICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFjaGVja2VkICYmIGZvdW5kKSB7XG4gICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBbLi4ubW9kZWxWYWx1ZV07XG4gICAgICAgICAgZmlsdGVyZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBhc3NpZ24oZmlsdGVyZWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzU2V0KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBTZXQobW9kZWxWYWx1ZSk7XG4gICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsb25lZC5kZWxldGUoZWxlbWVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oY2xvbmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnbihnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8vIHNldCBpbml0aWFsIGNoZWNrZWQgb24gbW91bnQgdG8gd2FpdCBmb3IgdHJ1ZS12YWx1ZS9mYWxzZS12YWx1ZVxuICBtb3VudGVkOiBzZXRDaGVja2VkLFxuICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIHNldENoZWNrZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gIGVsLl9tb2RlbFZhbHVlID0gdmFsdWU7XG4gIGxldCBjaGVja2VkO1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBjaGVja2VkID0gbG9vc2VJbmRleE9mKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSkgPiAtMTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWx1ZSkpIHtcbiAgICBjaGVja2VkID0gdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodmFsdWUgPT09IG9sZFZhbHVlKSByZXR1cm47XG4gICAgY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIGdldENoZWNrYm94VmFsdWUoZWwsIHRydWUpKTtcbiAgfVxuICBpZiAoZWwuY2hlY2tlZCAhPT0gY2hlY2tlZCkge1xuICAgIGVsLmNoZWNrZWQgPSBjaGVja2VkO1xuICB9XG59XG5jb25zdCB2TW9kZWxSYWRpbyA9IHtcbiAgY3JlYXRlZChlbCwgeyB2YWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGVsW2Fzc2lnbktleV0oZ2V0VmFsdWUoZWwpKTtcbiAgICB9KTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBpZiAodmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICBlbC5jaGVja2VkID0gbG9vc2VFcXVhbCh2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IHZNb2RlbFNlbGVjdCA9IHtcbiAgLy8gPHNlbGVjdCBtdWx0aXBsZT4gdmFsdWUgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICBkZWVwOiB0cnVlLFxuICBjcmVhdGVkKGVsLCB7IHZhbHVlLCBtb2RpZmllcnM6IHsgbnVtYmVyIH0gfSwgdm5vZGUpIHtcbiAgICBjb25zdCBpc1NldE1vZGVsID0gaXNTZXQodmFsdWUpO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVmFsID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVsLm9wdGlvbnMsIChvKSA9PiBvLnNlbGVjdGVkKS5tYXAoXG4gICAgICAgIChvKSA9PiBudW1iZXIgPyBsb29zZVRvTnVtYmVyKGdldFZhbHVlKG8pKSA6IGdldFZhbHVlKG8pXG4gICAgICApO1xuICAgICAgZWxbYXNzaWduS2V5XShcbiAgICAgICAgZWwubXVsdGlwbGUgPyBpc1NldE1vZGVsID8gbmV3IFNldChzZWxlY3RlZFZhbCkgOiBzZWxlY3RlZFZhbCA6IHNlbGVjdGVkVmFsWzBdXG4gICAgICApO1xuICAgICAgZWwuX2Fzc2lnbmluZyA9IHRydWU7XG4gICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgIGVsLl9hc3NpZ25pbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgfSxcbiAgLy8gc2V0IHZhbHVlIGluIG1vdW50ZWQgJiB1cGRhdGVkIGJlY2F1c2UgPHNlbGVjdD4gcmVsaWVzIG9uIGl0cyBjaGlsZHJlblxuICAvLyA8b3B0aW9uPnMuXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSkge1xuICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgX2JpbmRpbmcsIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICB1cGRhdGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICBpZiAoIWVsLl9hc3NpZ25pbmcpIHtcbiAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlKSB7XG4gIGNvbnN0IGlzTXVsdGlwbGUgPSBlbC5tdWx0aXBsZTtcbiAgY29uc3QgaXNBcnJheVZhbHVlID0gaXNBcnJheSh2YWx1ZSk7XG4gIGlmIChpc011bHRpcGxlICYmICFpc0FycmF5VmFsdWUgJiYgIWlzU2V0KHZhbHVlKSkge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybihcbiAgICAgIGA8c2VsZWN0IG11bHRpcGxlIHYtbW9kZWw+IGV4cGVjdHMgYW4gQXJyYXkgb3IgU2V0IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpfS5gXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBlbC5vcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07XG4gICAgY29uc3Qgb3B0aW9uVmFsdWUgPSBnZXRWYWx1ZShvcHRpb24pO1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBpZiAoaXNBcnJheVZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvblR5cGUgPSB0eXBlb2Ygb3B0aW9uVmFsdWU7XG4gICAgICAgIGlmIChvcHRpb25UeXBlID09PSBcInN0cmluZ1wiIHx8IG9wdGlvblR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB2YWx1ZS5zb21lKCh2KSA9PiBTdHJpbmcodikgPT09IFN0cmluZyhvcHRpb25WYWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgb3B0aW9uVmFsdWUpID4gLTE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLmhhcyhvcHRpb25WYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsb29zZUVxdWFsKGdldFZhbHVlKG9wdGlvbiksIHZhbHVlKSkge1xuICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIGVsLnNlbGVjdGVkSW5kZXggPSBpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBpZiAoIWlzTXVsdGlwbGUgJiYgZWwuc2VsZWN0ZWRJbmRleCAhPT0gLTEpIHtcbiAgICBlbC5zZWxlY3RlZEluZGV4ID0gLTE7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFZhbHVlKGVsKSB7XG4gIHJldHVybiBcIl92YWx1ZVwiIGluIGVsID8gZWwuX3ZhbHVlIDogZWwudmFsdWU7XG59XG5mdW5jdGlvbiBnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSB7XG4gIGNvbnN0IGtleSA9IGNoZWNrZWQgPyBcIl90cnVlVmFsdWVcIiA6IFwiX2ZhbHNlVmFsdWVcIjtcbiAgcmV0dXJuIGtleSBpbiBlbCA/IGVsW2tleV0gOiBjaGVja2VkO1xufVxuY29uc3Qgdk1vZGVsRHluYW1pYyA9IHtcbiAgY3JlYXRlZChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgbnVsbCwgXCJjcmVhdGVkXCIpO1xuICB9LFxuICBtb3VudGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcIm1vdW50ZWRcIik7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIFwiYmVmb3JlVXBkYXRlXCIpO1xuICB9LFxuICB1cGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJ1cGRhdGVkXCIpO1xuICB9XG59O1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNNb2RlbCh0YWdOYW1lLCB0eXBlKSB7XG4gIHN3aXRjaCAodGFnTmFtZSkge1xuICAgIGNhc2UgXCJTRUxFQ1RcIjpcbiAgICAgIHJldHVybiB2TW9kZWxTZWxlY3Q7XG4gICAgY2FzZSBcIlRFWFRBUkVBXCI6XG4gICAgICByZXR1cm4gdk1vZGVsVGV4dDtcbiAgICBkZWZhdWx0OlxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJjaGVja2JveFwiOlxuICAgICAgICAgIHJldHVybiB2TW9kZWxDaGVja2JveDtcbiAgICAgICAgY2FzZSBcInJhZGlvXCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFJhZGlvO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgICAgfVxuICB9XG59XG5mdW5jdGlvbiBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBob29rKSB7XG4gIGNvbnN0IG1vZGVsVG9Vc2UgPSByZXNvbHZlRHluYW1pY01vZGVsKFxuICAgIGVsLnRhZ05hbWUsXG4gICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICApO1xuICBjb25zdCBmbiA9IG1vZGVsVG9Vc2VbaG9va107XG4gIGZuICYmIGZuKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKTtcbn1cbmZ1bmN0aW9uIGluaXRWTW9kZWxGb3JTU1IoKSB7XG4gIHZNb2RlbFRleHQuZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9KSA9PiAoeyB2YWx1ZSB9KTtcbiAgdk1vZGVsUmFkaW8uZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmICh2bm9kZS5wcm9wcyAmJiBsb29zZUVxdWFsKHZub2RlLnByb3BzLnZhbHVlLCB2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICB9XG4gIH07XG4gIHZNb2RlbENoZWNrYm94LmdldFNTUlByb3BzID0gKHsgdmFsdWUgfSwgdm5vZGUpID0+IHtcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGlmICh2bm9kZS5wcm9wcyAmJiBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIHZhbHVlLmhhcyh2bm9kZS5wcm9wcy52YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB7IGNoZWNrZWQ6IHRydWUgfTtcbiAgICB9XG4gIH07XG4gIHZNb2RlbER5bmFtaWMuZ2V0U1NSUHJvcHMgPSAoYmluZGluZywgdm5vZGUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZub2RlLnR5cGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgICAvLyByZXNvbHZlRHluYW1pY01vZGVsIGV4cGVjdHMgYW4gdXBwZXJjYXNlIHRhZyBuYW1lLCBidXQgdm5vZGUudHlwZSBpcyBsb3dlcmNhc2VcbiAgICAgIHZub2RlLnR5cGUudG9VcHBlckNhc2UoKSxcbiAgICAgIHZub2RlLnByb3BzICYmIHZub2RlLnByb3BzLnR5cGVcbiAgICApO1xuICAgIGlmIChtb2RlbFRvVXNlLmdldFNTUlByb3BzKSB7XG4gICAgICByZXR1cm4gbW9kZWxUb1VzZS5nZXRTU1JQcm9wcyhiaW5kaW5nLCB2bm9kZSk7XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBzeXN0ZW1Nb2RpZmllcnMgPSBbXCJjdHJsXCIsIFwic2hpZnRcIiwgXCJhbHRcIiwgXCJtZXRhXCJdO1xuY29uc3QgbW9kaWZpZXJHdWFyZHMgPSB7XG4gIHN0b3A6IChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpLFxuICBwcmV2ZW50OiAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLFxuICBzZWxmOiAoZSkgPT4gZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCxcbiAgY3RybDogKGUpID0+ICFlLmN0cmxLZXksXG4gIHNoaWZ0OiAoZSkgPT4gIWUuc2hpZnRLZXksXG4gIGFsdDogKGUpID0+ICFlLmFsdEtleSxcbiAgbWV0YTogKGUpID0+ICFlLm1ldGFLZXksXG4gIGxlZnQ6IChlKSA9PiBcImJ1dHRvblwiIGluIGUgJiYgZS5idXR0b24gIT09IDAsXG4gIG1pZGRsZTogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMSxcbiAgcmlnaHQ6IChlKSA9PiBcImJ1dHRvblwiIGluIGUgJiYgZS5idXR0b24gIT09IDIsXG4gIGV4YWN0OiAoZSwgbW9kaWZpZXJzKSA9PiBzeXN0ZW1Nb2RpZmllcnMuc29tZSgobSkgPT4gZVtgJHttfUtleWBdICYmICFtb2RpZmllcnMuaW5jbHVkZXMobSkpXG59O1xuY29uc3Qgd2l0aE1vZGlmaWVycyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gZm4uX3dpdGhNb2RzIHx8IChmbi5fd2l0aE1vZHMgPSB7fSk7XG4gIGNvbnN0IGNhY2hlS2V5ID0gbW9kaWZpZXJzLmpvaW4oXCIuXCIpO1xuICByZXR1cm4gY2FjaGVbY2FjaGVLZXldIHx8IChjYWNoZVtjYWNoZUtleV0gPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZ3VhcmQgPSBtb2RpZmllckd1YXJkc1ttb2RpZmllcnNbaV1dO1xuICAgICAgaWYgKGd1YXJkICYmIGd1YXJkKGV2ZW50LCBtb2RpZmllcnMpKSByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbihldmVudCwgLi4uYXJncyk7XG4gIH0pO1xufTtcbmNvbnN0IGtleU5hbWVzID0ge1xuICBlc2M6IFwiZXNjYXBlXCIsXG4gIHNwYWNlOiBcIiBcIixcbiAgdXA6IFwiYXJyb3ctdXBcIixcbiAgbGVmdDogXCJhcnJvdy1sZWZ0XCIsXG4gIHJpZ2h0OiBcImFycm93LXJpZ2h0XCIsXG4gIGRvd246IFwiYXJyb3ctZG93blwiLFxuICBkZWxldGU6IFwiYmFja3NwYWNlXCJcbn07XG5jb25zdCB3aXRoS2V5cyA9IChmbiwgbW9kaWZpZXJzKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gZm4uX3dpdGhLZXlzIHx8IChmbi5fd2l0aEtleXMgPSB7fSk7XG4gIGNvbnN0IGNhY2hlS2V5ID0gbW9kaWZpZXJzLmpvaW4oXCIuXCIpO1xuICByZXR1cm4gY2FjaGVbY2FjaGVLZXldIHx8IChjYWNoZVtjYWNoZUtleV0gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIShcImtleVwiIGluIGV2ZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBldmVudEtleSA9IGh5cGhlbmF0ZShldmVudC5rZXkpO1xuICAgIGlmIChtb2RpZmllcnMuc29tZShcbiAgICAgIChrKSA9PiBrID09PSBldmVudEtleSB8fCBrZXlOYW1lc1trXSA9PT0gZXZlbnRLZXlcbiAgICApKSB7XG4gICAgICByZXR1cm4gZm4oZXZlbnQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uID8gcmVuZGVyZXIgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuY29uc3QgcmVuZGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XG59O1xuY29uc3QgaHlkcmF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn07XG5jb25zdCBjcmVhdGVBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGFwcC5fY29tcG9uZW50O1xuICAgIGlmICghaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XG4gICAgfVxuICAgIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnRhaW5lci50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoXCJ2LWNsb2FrXCIpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtdi1hcHBcIiwgXCJcIik7XG4gICAgfVxuICAgIHJldHVybiBwcm94eTtcbiAgfTtcbiAgcmV0dXJuIGFwcDtcbn07XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBhcHA7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSB7XG4gIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwic3ZnXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBNYXRoTUxFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgJiYgY29udGFpbmVyIGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudCkge1xuICAgIHJldHVybiBcIm1hdGhtbFwiO1xuICB9XG59XG5mdW5jdGlvbiBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiaXNOYXRpdmVUYWdcIiwge1xuICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpIHx8IGlzTWF0aE1MVGFnKHRhZyksXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xufVxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XG4gIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc0N1c3RvbUVsZW1lbnRcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gaXNDdXN0b21FbGVtZW50O1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgVGhlIFxcYGlzQ3VzdG9tRWxlbWVudFxcYCBjb25maWcgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBcXGBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50XFxgIGluc3RlYWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zO1xuICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZS5qcyB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyIChha2EgXCJmdWxsIGJ1aWxkXCIpLiBTaW5jZSB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cbi0gRm9yIHZ1ZS1sb2FkZXI6IHBhc3MgaXQgdmlhIHZ1ZS1sb2FkZXIncyBcXGBjb21waWxlck9wdGlvbnNcXGAgbG9hZGVyIG9wdGlvbi5cbi0gRm9yIHZ1ZS1jbGk6IHNlZSBodHRwczovL2NsaS52dWVqcy5vcmcvZ3VpZGUvd2VicGFjay5odG1sI21vZGlmeWluZy1vcHRpb25zLW9mLWEtbG9hZGVyXG4tIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS1wbHVnaW4tdnVlL3RyZWUvbWFpbi9wYWNrYWdlcy9wbHVnaW4tdnVlI2V4YW1wbGUtZm9yLXBhc3Npbmctb3B0aW9ucy10by12dWVjb21waWxlci1zZmNgO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImNvbXBpbGVyT3B0aW9uc1wiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcbiAgICAgIH0sXG4gICAgICBzZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xuICAgIGNvbnN0IHJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhcmVzKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRmFpbGVkIHRvIG1vdW50IGFwcDogbW91bnQgdGFyZ2V0IHNlbGVjdG9yIFwiJHtjb250YWluZXJ9XCIgcmV0dXJuZWQgbnVsbC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lci5tb2RlID09PSBcImNsb3NlZFwiKSB7XG4gICAgd2FybihcbiAgICAgIGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cbmxldCBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IGZhbHNlO1xuY29uc3QgaW5pdERpcmVjdGl2ZXNGb3JTU1IgPSAoKSA9PiB7XG4gIGlmICghc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQpIHtcbiAgICBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IHRydWU7XG4gICAgaW5pdFZNb2RlbEZvclNTUigpO1xuICAgIGluaXRWU2hvd0ZvclNTUigpO1xuICB9XG59IDtcblxuZXhwb3J0IHsgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBWdWVFbGVtZW50LCBjcmVhdGVBcHAsIGNyZWF0ZVNTUkFwcCwgZGVmaW5lQ3VzdG9tRWxlbWVudCwgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCwgaHlkcmF0ZSwgaW5pdERpcmVjdGl2ZXNGb3JTU1IsIHJlbmRlciwgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB1c2VIb3N0LCB1c2VTaGFkb3dSb290LCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHdpdGhLZXlzLCB3aXRoTW9kaWZpZXJzIH07XG4iLCIvKipcbiogdnVlIHYzLjUuMTdcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IGluaXRDdXN0b21Gb3JtYXR0ZXIsIHdhcm4gfSBmcm9tICdAdnVlL3J1bnRpbWUtZG9tJztcbmV4cG9ydCAqIGZyb20gJ0B2dWUvcnVudGltZS1kb20nO1xuXG5mdW5jdGlvbiBpbml0RGV2KCkge1xuICB7XG4gICAgaW5pdEN1c3RvbUZvcm1hdHRlcigpO1xuICB9XG59XG5cbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gIGluaXREZXYoKTtcbn1cbmNvbnN0IGNvbXBpbGUgPSAoKSA9PiB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybihcbiAgICAgIGBSdW50aW1lIGNvbXBpbGF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBidWlsZCBvZiBWdWUuYCArIChgIENvbmZpZ3VyZSB5b3VyIGJ1bmRsZXIgdG8gYWxpYXMgXCJ2dWVcIiB0byBcInZ1ZS9kaXN0L3Z1ZS5lc20tYnVuZGxlci5qc1wiLmAgKVxuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGNvbXBpbGUgfTtcbiIsImltcG9ydCB7IFZpZXcgfSBmcm9tICdvYnNpZGlhbidcblxuLyoqXG4gKiBCYXNlIGludGVyZmFjZSBmb3IgYWxsIG1vZGVsIGNvbmZpZ3VyYXRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZU1vZGVsU2V0dGluZ3Mge1xuICAgIGludGVybmFsSWQ/OiBzdHJpbmcgLy8gSW50ZXJuYWwgdW5pcXVlIElEIGZvciB0aGlzIG1vZGVsIGNvbmZpZ3VyYXRpb25cbiAgICBtb2RlbElkOiBzdHJpbmcgLy8gZS5nLiwgXCJnZW1pbmktMS41LXByby1sYXRlc3RcIiwgXCJiZWRyb2NrLWNsYXVkZS0zXCJcbiAgICBtb2RlbE5hbWU6IHN0cmluZyAvLyBlLmcuLCBcIkdlbWluaSAxLjUgUHJvXCIsIFwiQ2xhdWRlIDMgU29ubmV0XCIgKGZvciBkaXNwbGF5KVxuICAgIGNvbG9yPzogc3RyaW5nIC8vIENvbG9yIGZvciBVSSByZXByZXNlbnRhdGlvblxuICAgIHRlbXBlcmF0dXJlPzogbnVtYmVyXG4gICAgdG9wSz86IG51bWJlclxuICAgIHRvcFA/OiBudW1iZXJcbn1cblxuLyoqXG4gKiBHZW1pbmkgbW9kZWwgY29uZmlndXJhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlbWluaU1vZGVsU2V0dGluZ3MgZXh0ZW5kcyBCYXNlTW9kZWxTZXR0aW5ncyB7XG4gICAgcHJvdmlkZXI6ICdnb29nbGUnXG4gICAgYXBpS2V5OiBzdHJpbmdcbn1cblxuLyoqXG4gKiBBV1MgQmVkcm9jayBtb2RlbCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmVkcm9ja01vZGVsU2V0dGluZ3MgZXh0ZW5kcyBCYXNlTW9kZWxTZXR0aW5ncyB7XG4gICAgcHJvdmlkZXI6ICdiZWRyb2NrJ1xuICAgIGFjY2Vzc0tleUlkOiBzdHJpbmdcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IHN0cmluZ1xuICAgIHJlZ2lvbjogc3RyaW5nXG4gICAgbW9kZWxBcm4/OiBzdHJpbmcgLy8gT3B0aW9uYWwgbW9kZWwgQVJOIGZvciBzcGVjaWZpYyBtb2RlbCB2ZXJzaW9uc1xufVxuXG4vKipcbiAqIE9wZW5BSSBtb2RlbCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3BlbkFJTW9kZWxTZXR0aW5ncyBleHRlbmRzIEJhc2VNb2RlbFNldHRpbmdzIHtcbiAgICBwcm92aWRlcjogJ29wZW5haSdcbiAgICBhcGlLZXk6IHN0cmluZ1xuICAgIG9yZ2FuaXphdGlvbj86IHN0cmluZyAvLyBPcHRpb25hbCBvcmdhbml6YXRpb24gSURcbiAgICBiYXNlVXJsPzogc3RyaW5nIC8vIE9wdGlvbmFsIGN1c3RvbSBiYXNlIFVSTFxufVxuXG4vKipcbiAqIEFudGhyb3BpYyBtb2RlbCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQW50aHJvcGljTW9kZWxTZXR0aW5ncyBleHRlbmRzIEJhc2VNb2RlbFNldHRpbmdzIHtcbiAgICBwcm92aWRlcjogJ2FudGhyb3BpYydcbiAgICBhcGlLZXk6IHN0cmluZ1xufVxuXG4vKipcbiAqIFVuaW9uIHR5cGUgZm9yIGFsbCBzdXBwb3J0ZWQgbW9kZWwgY29uZmlndXJhdGlvbnNcbiAqL1xuZXhwb3J0IHR5cGUgTW9kZWxTZXR0aW5ncyA9IEdlbWluaU1vZGVsU2V0dGluZ3MgfCBCZWRyb2NrTW9kZWxTZXR0aW5ncyB8IE9wZW5BSU1vZGVsU2V0dGluZ3MgfCBBbnRocm9waWNNb2RlbFNldHRpbmdzXG5cbi8qKlxuICogVHlwZSBndWFyZCBmdW5jdGlvbnMgZm9yIG1vZGVsIHNldHRpbmdzXG4gKi9cbmV4cG9ydCBjb25zdCBpc0dlbWluaU1vZGVsID0gKG1vZGVsOiBNb2RlbFNldHRpbmdzKTogbW9kZWwgaXMgR2VtaW5pTW9kZWxTZXR0aW5ncyA9PiBtb2RlbC5wcm92aWRlciA9PT0gJ2dvb2dsZSdcblxuZXhwb3J0IGNvbnN0IGlzQmVkcm9ja01vZGVsID0gKG1vZGVsOiBNb2RlbFNldHRpbmdzKTogbW9kZWwgaXMgQmVkcm9ja01vZGVsU2V0dGluZ3MgPT4gbW9kZWwucHJvdmlkZXIgPT09ICdiZWRyb2NrJ1xuXG5leHBvcnQgY29uc3QgaXNPcGVuQUlNb2RlbCA9IChtb2RlbDogTW9kZWxTZXR0aW5ncyk6IG1vZGVsIGlzIE9wZW5BSU1vZGVsU2V0dGluZ3MgPT4gbW9kZWwucHJvdmlkZXIgPT09ICdvcGVuYWknXG5cbmV4cG9ydCBjb25zdCBpc0FudGhyb3BpY01vZGVsID0gKG1vZGVsOiBNb2RlbFNldHRpbmdzKTogbW9kZWwgaXMgQW50aHJvcGljTW9kZWxTZXR0aW5ncyA9PiBtb2RlbC5wcm92aWRlciA9PT0gJ2FudGhyb3BpYydcblxuZXhwb3J0IGludGVyZmFjZSBPYnNpZGlhbkFpU2V0dGluZ3Mge1xuICAgIG1vZGVsczogTW9kZWxTZXR0aW5nc1tdXG4gICAgYWN0aXZlTW9kZWxJZDogc3RyaW5nIC8vIElEIG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgbW9kZWwgZnJvbSB0aGUgJ21vZGVscycgYXJyYXlcbiAgICAvKipcbiAgICAgKiBUaGUgc3lzdGVtIHByb21wdCBzZW50IHdpdGggZWFjaCByZXF1ZXN0IHRvIHRoZSBBUElcbiAgICAgKi9cbiAgICBzeXN0ZW1Qcm9tcHQ6IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGRlYnVnIG91dHB1dCBpbiB0aGUgY29uc29sZVxuICAgICAqL1xuICAgIGRlYnVnOiBib29sZWFuXG5cbiAgICBzb2NrZXRBZGRyZXNzOiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIExpY2Vuc2Uga2V5IHJlcXVpcmVkIHRvIHVzZSB0aGUgcGx1Z2luXG4gICAgICovXG4gICAgbGljZW5zZUtleTogc3RyaW5nXG59XG4iLCJpbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIHJlbmRlclNsb3RGcmFnbWVudHMoY2hpbGRyZW4pIHtcbiAgaWYgKCFjaGlsZHJlbilcbiAgICByZXR1cm4gW107XG4gIHJldHVybiBjaGlsZHJlbi5mbGF0TWFwKChjaGlsZCkgPT4ge1xuICAgIGlmIChjaGlsZC50eXBlID09PSBGcmFnbWVudClcbiAgICAgIHJldHVybiByZW5kZXJTbG90RnJhZ21lbnRzKGNoaWxkLmNoaWxkcmVuKTtcbiAgICByZXR1cm4gW2NoaWxkXTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IHJlbmRlclNsb3RGcmFnbWVudHMgYXMgciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyU2xvdEZyYWdtZW50cy5qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgQ29tbWVudCwgbWVyZ2VQcm9wcywgY2xvbmVWTm9kZSB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyByIGFzIHJlbmRlclNsb3RGcmFnbWVudHMgfSBmcm9tICcuLi9zaGFyZWQvcmVuZGVyU2xvdEZyYWdtZW50cy5qcyc7XG5cbmNvbnN0IFNsb3QgPSBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiBcIlByaW1pdGl2ZVNsb3RcIixcbiAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcbiAgc2V0dXAoXywgeyBhdHRycywgc2xvdHMgfSkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoIXNsb3RzLmRlZmF1bHQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY29uc3QgY2hpbGRyZW5zID0gcmVuZGVyU2xvdEZyYWdtZW50cyhzbG90cy5kZWZhdWx0KCkpO1xuICAgICAgY29uc3QgZmlyc3ROb25Db21tZW50Q2hpbGRyZW5JbmRleCA9IGNoaWxkcmVucy5maW5kSW5kZXgoKGNoaWxkKSA9PiBjaGlsZC50eXBlICE9PSBDb21tZW50KTtcbiAgICAgIGlmIChmaXJzdE5vbkNvbW1lbnRDaGlsZHJlbkluZGV4ID09PSAtMSlcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVucztcbiAgICAgIGNvbnN0IGZpcnN0Tm9uQ29tbWVudENoaWxkcmVuID0gY2hpbGRyZW5zW2ZpcnN0Tm9uQ29tbWVudENoaWxkcmVuSW5kZXhdO1xuICAgICAgZGVsZXRlIGZpcnN0Tm9uQ29tbWVudENoaWxkcmVuLnByb3BzPy5yZWY7XG4gICAgICBjb25zdCBtZXJnZWRQcm9wcyA9IGZpcnN0Tm9uQ29tbWVudENoaWxkcmVuLnByb3BzID8gbWVyZ2VQcm9wcyhhdHRycywgZmlyc3ROb25Db21tZW50Q2hpbGRyZW4ucHJvcHMpIDogYXR0cnM7XG4gICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHsgLi4uZmlyc3ROb25Db21tZW50Q2hpbGRyZW4sIHByb3BzOiB7fSB9LCBtZXJnZWRQcm9wcyk7XG4gICAgICBpZiAoY2hpbGRyZW5zLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICAgIGNoaWxkcmVuc1tmaXJzdE5vbkNvbW1lbnRDaGlsZHJlbkluZGV4XSA9IGNsb25lZDtcbiAgICAgIHJldHVybiBjaGlsZHJlbnM7XG4gICAgfTtcbiAgfVxufSk7XG5cbmV4cG9ydCB7IFNsb3QgYXMgUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2xvdC5qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgaCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBTIGFzIFNsb3QgfSBmcm9tICcuL1Nsb3QuanMnO1xuXG5jb25zdCBTRUxGX0NMT1NJTkdfVEFHUyA9IFtcImFyZWFcIiwgXCJpbWdcIiwgXCJpbnB1dFwiXTtcbmNvbnN0IFByaW1pdGl2ZSA9IGRlZmluZUNvbXBvbmVudCh7XG4gIG5hbWU6IFwiUHJpbWl0aXZlXCIsXG4gIGluaGVyaXRBdHRyczogZmFsc2UsXG4gIHByb3BzOiB7XG4gICAgYXNDaGlsZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBhczoge1xuICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcbiAgICAgIGRlZmF1bHQ6IFwiZGl2XCJcbiAgICB9XG4gIH0sXG4gIHNldHVwKHByb3BzLCB7IGF0dHJzLCBzbG90cyB9KSB7XG4gICAgY29uc3QgYXNUYWcgPSBwcm9wcy5hc0NoaWxkID8gXCJ0ZW1wbGF0ZVwiIDogcHJvcHMuYXM7XG4gICAgaWYgKHR5cGVvZiBhc1RhZyA9PT0gXCJzdHJpbmdcIiAmJiBTRUxGX0NMT1NJTkdfVEFHUy5pbmNsdWRlcyhhc1RhZykpXG4gICAgICByZXR1cm4gKCkgPT4gaChhc1RhZywgYXR0cnMpO1xuICAgIGlmIChhc1RhZyAhPT0gXCJ0ZW1wbGF0ZVwiKVxuICAgICAgcmV0dXJuICgpID0+IGgocHJvcHMuYXMsIGF0dHJzLCB7IGRlZmF1bHQ6IHNsb3RzLmRlZmF1bHQgfSk7XG4gICAgcmV0dXJuICgpID0+IGgoU2xvdCwgYXR0cnMsIHsgZGVmYXVsdDogc2xvdHMuZGVmYXVsdCB9KTtcbiAgfVxufSk7XG5cbmV4cG9ydCB7IFByaW1pdGl2ZSBhcyBQIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QcmltaXRpdmUuanMubWFwXG4iLCJpbXBvcnQgeyBzaGFsbG93UmVmLCB3YXRjaEVmZmVjdCwgcmVhZG9ubHksIHdhdGNoLCBjdXN0b21SZWYsIGdldEN1cnJlbnRTY29wZSwgb25TY29wZURpc3Bvc2UsIGVmZmVjdFNjb3BlLCBnZXRDdXJyZW50SW5zdGFuY2UsIGhhc0luamVjdGlvbkNvbnRleHQsIGluamVjdCwgcHJvdmlkZSwgcmVmLCBpc1JlZiwgdW5yZWYsIHRvVmFsdWUgYXMgdG9WYWx1ZSQxLCBjb21wdXRlZCwgcmVhY3RpdmUsIHRvUmVmcyBhcyB0b1JlZnMkMSwgdG9SZWYgYXMgdG9SZWYkMSwgb25CZWZvcmVNb3VudCwgbmV4dFRpY2ssIG9uQmVmb3JlVW5tb3VudCwgb25Nb3VudGVkLCBvblVubW91bnRlZCwgaXNSZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIGNvbXB1dGVkRWFnZXIoZm4sIG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCByZXN1bHQgPSBzaGFsbG93UmVmKCk7XG4gIHdhdGNoRWZmZWN0KCgpID0+IHtcbiAgICByZXN1bHQudmFsdWUgPSBmbigpO1xuICB9LCB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBmbHVzaDogKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5mbHVzaCkgIT0gbnVsbCA/IF9hIDogXCJzeW5jXCJcbiAgfSk7XG4gIHJldHVybiByZWFkb25seShyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlZFdpdGhDb250cm9sKHNvdXJjZSwgZm4pIHtcbiAgbGV0IHYgPSB2b2lkIDA7XG4gIGxldCB0cmFjaztcbiAgbGV0IHRyaWdnZXI7XG4gIGNvbnN0IGRpcnR5ID0gc2hhbGxvd1JlZih0cnVlKTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGRpcnR5LnZhbHVlID0gdHJ1ZTtcbiAgICB0cmlnZ2VyKCk7XG4gIH07XG4gIHdhdGNoKHNvdXJjZSwgdXBkYXRlLCB7IGZsdXNoOiBcInN5bmNcIiB9KTtcbiAgY29uc3QgZ2V0ID0gdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyBmbiA6IGZuLmdldDtcbiAgY29uc3Qgc2V0ID0gdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgPyB2b2lkIDAgOiBmbi5zZXQ7XG4gIGNvbnN0IHJlc3VsdCA9IGN1c3RvbVJlZigoX3RyYWNrLCBfdHJpZ2dlcikgPT4ge1xuICAgIHRyYWNrID0gX3RyYWNrO1xuICAgIHRyaWdnZXIgPSBfdHJpZ2dlcjtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICBpZiAoZGlydHkudmFsdWUpIHtcbiAgICAgICAgICB2ID0gZ2V0KHYpO1xuICAgICAgICAgIGRpcnR5LnZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgICB9LFxuICAgICAgc2V0KHYyKSB7XG4gICAgICAgIHNldCA9PSBudWxsID8gdm9pZCAwIDogc2V0KHYyKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgaWYgKE9iamVjdC5pc0V4dGVuc2libGUocmVzdWx0KSlcbiAgICByZXN1bHQudHJpZ2dlciA9IHVwZGF0ZTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gdHJ5T25TY29wZURpc3Bvc2UoZm4pIHtcbiAgaWYgKGdldEN1cnJlbnRTY29wZSgpKSB7XG4gICAgb25TY29wZURpc3Bvc2UoZm4pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRIb29rKCkge1xuICBjb25zdCBmbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBvZmYgPSAoZm4pID0+IHtcbiAgICBmbnMuZGVsZXRlKGZuKTtcbiAgfTtcbiAgY29uc3QgY2xlYXIgPSAoKSA9PiB7XG4gICAgZm5zLmNsZWFyKCk7XG4gIH07XG4gIGNvbnN0IG9uID0gKGZuKSA9PiB7XG4gICAgZm5zLmFkZChmbik7XG4gICAgY29uc3Qgb2ZmRm4gPSAoKSA9PiBvZmYoZm4pO1xuICAgIHRyeU9uU2NvcGVEaXNwb3NlKG9mZkZuKTtcbiAgICByZXR1cm4ge1xuICAgICAgb2ZmOiBvZmZGblxuICAgIH07XG4gIH07XG4gIGNvbnN0IHRyaWdnZXIgPSAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChBcnJheS5mcm9tKGZucykubWFwKChmbikgPT4gZm4oLi4uYXJncykpKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBvbixcbiAgICBvZmYsXG4gICAgdHJpZ2dlcixcbiAgICBjbGVhclxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVHbG9iYWxTdGF0ZShzdGF0ZUZhY3RvcnkpIHtcbiAgbGV0IGluaXRpYWxpemVkID0gZmFsc2U7XG4gIGxldCBzdGF0ZTtcbiAgY29uc3Qgc2NvcGUgPSBlZmZlY3RTY29wZSh0cnVlKTtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCFpbml0aWFsaXplZCkge1xuICAgICAgc3RhdGUgPSBzY29wZS5ydW4oKCkgPT4gc3RhdGVGYWN0b3J5KC4uLmFyZ3MpKTtcbiAgICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xufVxuXG5jb25zdCBsb2NhbFByb3ZpZGVkU3RhdGVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcblxuY29uc3QgaW5qZWN0TG9jYWwgPSAoLi4uYXJncykgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGtleSA9IGFyZ3NbMF07XG4gIGNvbnN0IGluc3RhbmNlID0gKF9hID0gZ2V0Q3VycmVudEluc3RhbmNlKCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wcm94eTtcbiAgaWYgKGluc3RhbmNlID09IG51bGwgJiYgIWhhc0luamVjdGlvbkNvbnRleHQoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbmplY3RMb2NhbCBtdXN0IGJlIGNhbGxlZCBpbiBzZXR1cFwiKTtcbiAgaWYgKGluc3RhbmNlICYmIGxvY2FsUHJvdmlkZWRTdGF0ZU1hcC5oYXMoaW5zdGFuY2UpICYmIGtleSBpbiBsb2NhbFByb3ZpZGVkU3RhdGVNYXAuZ2V0KGluc3RhbmNlKSlcbiAgICByZXR1cm4gbG9jYWxQcm92aWRlZFN0YXRlTWFwLmdldChpbnN0YW5jZSlba2V5XTtcbiAgcmV0dXJuIGluamVjdCguLi5hcmdzKTtcbn07XG5cbmNvbnN0IHByb3ZpZGVMb2NhbCA9IChrZXksIHZhbHVlKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgaW5zdGFuY2UgPSAoX2EgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByb3h5O1xuICBpZiAoaW5zdGFuY2UgPT0gbnVsbClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm92aWRlTG9jYWwgbXVzdCBiZSBjYWxsZWQgaW4gc2V0dXBcIik7XG4gIGlmICghbG9jYWxQcm92aWRlZFN0YXRlTWFwLmhhcyhpbnN0YW5jZSkpXG4gICAgbG9jYWxQcm92aWRlZFN0YXRlTWFwLnNldChpbnN0YW5jZSwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICBjb25zdCBsb2NhbFByb3ZpZGVkU3RhdGUgPSBsb2NhbFByb3ZpZGVkU3RhdGVNYXAuZ2V0KGluc3RhbmNlKTtcbiAgbG9jYWxQcm92aWRlZFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgcHJvdmlkZShrZXksIHZhbHVlKTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUluamVjdGlvblN0YXRlKGNvbXBvc2FibGUsIG9wdGlvbnMpIHtcbiAgY29uc3Qga2V5ID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5qZWN0aW9uS2V5KSB8fCBTeW1ib2woY29tcG9zYWJsZS5uYW1lIHx8IFwiSW5qZWN0aW9uU3RhdGVcIik7XG4gIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVmYXVsdFZhbHVlO1xuICBjb25zdCB1c2VQcm92aWRpbmdTdGF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSBjb21wb3NhYmxlKC4uLmFyZ3MpO1xuICAgIHByb3ZpZGVMb2NhbChrZXksIHN0YXRlKTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG4gIGNvbnN0IHVzZUluamVjdGVkU3RhdGUgPSAoKSA9PiBpbmplY3RMb2NhbChrZXksIGRlZmF1bHRWYWx1ZSk7XG4gIHJldHVybiBbdXNlUHJvdmlkaW5nU3RhdGUsIHVzZUluamVjdGVkU3RhdGVdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZWYodmFsdWUsIGRlZXApIHtcbiAgaWYgKGRlZXAgPT09IHRydWUpIHtcbiAgICByZXR1cm4gcmVmKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc2hhbGxvd1JlZih2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU2hhcmVkQ29tcG9zYWJsZShjb21wb3NhYmxlKSB7XG4gIGxldCBzdWJzY3JpYmVycyA9IDA7XG4gIGxldCBzdGF0ZTtcbiAgbGV0IHNjb3BlO1xuICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgIHN1YnNjcmliZXJzIC09IDE7XG4gICAgaWYgKHNjb3BlICYmIHN1YnNjcmliZXJzIDw9IDApIHtcbiAgICAgIHNjb3BlLnN0b3AoKTtcbiAgICAgIHN0YXRlID0gdm9pZCAwO1xuICAgICAgc2NvcGUgPSB2b2lkIDA7XG4gICAgfVxuICB9O1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBzdWJzY3JpYmVycyArPSAxO1xuICAgIGlmICghc2NvcGUpIHtcbiAgICAgIHNjb3BlID0gZWZmZWN0U2NvcGUodHJ1ZSk7XG4gICAgICBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiBjb21wb3NhYmxlKC4uLmFyZ3MpKTtcbiAgICB9XG4gICAgdHJ5T25TY29wZURpc3Bvc2UoZGlzcG9zZSk7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBleHRlbmRSZWYocmVmLCBleHRlbmQsIHsgZW51bWVyYWJsZSA9IGZhbHNlLCB1bndyYXAgPSB0cnVlIH0gPSB7fSkge1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhleHRlbmQpKSB7XG4gICAgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiKVxuICAgICAgY29udGludWU7XG4gICAgaWYgKGlzUmVmKHZhbHVlKSAmJiB1bndyYXApIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWYsIGtleSwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQodikge1xuICAgICAgICAgIHZhbHVlLnZhbHVlID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZWYsIGtleSwgeyB2YWx1ZSwgZW51bWVyYWJsZSB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlZjtcbn1cblxuZnVuY3Rpb24gZ2V0KG9iaiwga2V5KSB7XG4gIGlmIChrZXkgPT0gbnVsbClcbiAgICByZXR1cm4gdW5yZWYob2JqKTtcbiAgcmV0dXJuIHVucmVmKG9iailba2V5XTtcbn1cblxuZnVuY3Rpb24gaXNEZWZpbmVkKHYpIHtcbiAgcmV0dXJuIHVucmVmKHYpICE9IG51bGw7XG59XG5cbmZ1bmN0aW9uIG1ha2VEZXN0cnVjdHVyYWJsZShvYmosIGFycikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnN0IGNsb25lID0geyAuLi5vYmogfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2xvbmUsIFN5bWJvbC5pdGVyYXRvciwge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZSgpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuZXh0OiAoKSA9PiAoe1xuICAgICAgICAgICAgdmFsdWU6IGFycltpbmRleCsrXSxcbiAgICAgICAgICAgIGRvbmU6IGluZGV4ID4gYXJyLmxlbmd0aFxuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKFsuLi5hcnJdLCBvYmopO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWN0aWZ5KGZuLCBvcHRpb25zKSB7XG4gIGNvbnN0IHVucmVmRm4gPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jb21wdXRlZEdldHRlcikgPT09IGZhbHNlID8gdW5yZWYgOiB0b1ZhbHVlJDE7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IGZuLmFwcGx5KHRoaXMsIGFyZ3MubWFwKChpKSA9PiB1bnJlZkZuKGkpKSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiByZWFjdGlmeU9iamVjdChvYmosIG9wdGlvbnNPcktleXMgPSB7fSkge1xuICBsZXQga2V5cyA9IFtdO1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9uc09yS2V5cykpIHtcbiAgICBrZXlzID0gb3B0aW9uc09yS2V5cztcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gb3B0aW9uc09yS2V5cztcbiAgICBjb25zdCB7IGluY2x1ZGVPd25Qcm9wZXJ0aWVzID0gdHJ1ZSB9ID0gb3B0aW9uc09yS2V5cztcbiAgICBrZXlzLnB1c2goLi4uT2JqZWN0LmtleXMob2JqKSk7XG4gICAgaWYgKGluY2x1ZGVPd25Qcm9wZXJ0aWVzKVxuICAgICAga2V5cy5wdXNoKC4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikpO1xuICB9XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAga2V5cy5tYXAoKGtleSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIGtleSxcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyByZWFjdGlmeSh2YWx1ZS5iaW5kKG9iaiksIG9wdGlvbnMpIDogdmFsdWVcbiAgICAgIF07XG4gICAgfSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gdG9SZWFjdGl2ZShvYmplY3RSZWYpIHtcbiAgaWYgKCFpc1JlZihvYmplY3RSZWYpKVxuICAgIHJldHVybiByZWFjdGl2ZShvYmplY3RSZWYpO1xuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eSh7fSwge1xuICAgIGdldChfLCBwLCByZWNlaXZlcikge1xuICAgICAgcmV0dXJuIHVucmVmKFJlZmxlY3QuZ2V0KG9iamVjdFJlZi52YWx1ZSwgcCwgcmVjZWl2ZXIpKTtcbiAgICB9LFxuICAgIHNldChfLCBwLCB2YWx1ZSkge1xuICAgICAgaWYgKGlzUmVmKG9iamVjdFJlZi52YWx1ZVtwXSkgJiYgIWlzUmVmKHZhbHVlKSlcbiAgICAgICAgb2JqZWN0UmVmLnZhbHVlW3BdLnZhbHVlID0gdmFsdWU7XG4gICAgICBlbHNlXG4gICAgICAgIG9iamVjdFJlZi52YWx1ZVtwXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBkZWxldGVQcm9wZXJ0eShfLCBwKSB7XG4gICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShvYmplY3RSZWYudmFsdWUsIHApO1xuICAgIH0sXG4gICAgaGFzKF8sIHApIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmhhcyhvYmplY3RSZWYudmFsdWUsIHApO1xuICAgIH0sXG4gICAgb3duS2V5cygpIHtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3RSZWYudmFsdWUpO1xuICAgIH0sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZWFjdGl2ZShwcm94eSk7XG59XG5cbmZ1bmN0aW9uIHJlYWN0aXZlQ29tcHV0ZWQoZm4pIHtcbiAgcmV0dXJuIHRvUmVhY3RpdmUoY29tcHV0ZWQoZm4pKTtcbn1cblxuZnVuY3Rpb24gcmVhY3RpdmVPbWl0KG9iaiwgLi4ua2V5cykge1xuICBjb25zdCBmbGF0S2V5cyA9IGtleXMuZmxhdCgpO1xuICBjb25zdCBwcmVkaWNhdGUgPSBmbGF0S2V5c1swXTtcbiAgcmV0dXJuIHJlYWN0aXZlQ29tcHV0ZWQoKCkgPT4gdHlwZW9mIHByZWRpY2F0ZSA9PT0gXCJmdW5jdGlvblwiID8gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRvUmVmcyQxKG9iaikpLmZpbHRlcigoW2ssIHZdKSA9PiAhcHJlZGljYXRlKHRvVmFsdWUkMSh2KSwgaykpKSA6IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0b1JlZnMkMShvYmopKS5maWx0ZXIoKGUpID0+ICFmbGF0S2V5cy5pbmNsdWRlcyhlWzBdKSkpKTtcbn1cblxuY29uc3QgaXNDbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IGlzV29ya2VyID0gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbFRoaXMgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZTtcbmNvbnN0IGlzRGVmID0gKHZhbCkgPT4gdHlwZW9mIHZhbCAhPT0gXCJ1bmRlZmluZWRcIjtcbmNvbnN0IG5vdE51bGxpc2ggPSAodmFsKSA9PiB2YWwgIT0gbnVsbDtcbmNvbnN0IGFzc2VydCA9IChjb25kaXRpb24sIC4uLmluZm9zKSA9PiB7XG4gIGlmICghY29uZGl0aW9uKVxuICAgIGNvbnNvbGUud2FybiguLi5pbmZvcyk7XG59O1xuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgaXNPYmplY3QgPSAodmFsKSA9PiB0b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5jb25zdCBub3cgPSAoKSA9PiBEYXRlLm5vdygpO1xuY29uc3QgdGltZXN0YW1wID0gKCkgPT4gK0RhdGUubm93KCk7XG5jb25zdCBjbGFtcCA9IChuLCBtaW4sIG1heCkgPT4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIG4pKTtcbmNvbnN0IG5vb3AgPSAoKSA9PiB7XG59O1xuY29uc3QgcmFuZCA9IChtaW4sIG1heCkgPT4ge1xuICBtaW4gPSBNYXRoLmNlaWwobWluKTtcbiAgbWF4ID0gTWF0aC5mbG9vcihtYXgpO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbn07XG5jb25zdCBoYXNPd24gPSAodmFsLCBrZXkpID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2YWwsIGtleSk7XG5jb25zdCBpc0lPUyA9IC8qIEBfX1BVUkVfXyAqLyBnZXRJc0lPUygpO1xuZnVuY3Rpb24gZ2V0SXNJT1MoKSB7XG4gIHZhciBfYSwgX2I7XG4gIHJldHVybiBpc0NsaWVudCAmJiAoKF9hID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EudXNlckFnZW50KSAmJiAoL2lQKD86YWR8aG9uZXxvZCkvLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpIHx8ICgoX2IgPSB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYi5tYXhUb3VjaFBvaW50cykgPiAyICYmIC9pUGFkfE1hY2ludG9zaC8udGVzdCh3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZpbHRlcldyYXBwZXIoZmlsdGVyLCBmbikge1xuICBmdW5jdGlvbiB3cmFwcGVyKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgUHJvbWlzZS5yZXNvbHZlKGZpbHRlcigoKSA9PiBmbi5hcHBseSh0aGlzLCBhcmdzKSwgeyBmbiwgdGhpc0FyZzogdGhpcywgYXJncyB9KSkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB3cmFwcGVyO1xufVxuY29uc3QgYnlwYXNzRmlsdGVyID0gKGludm9rZSkgPT4ge1xuICByZXR1cm4gaW52b2tlKCk7XG59O1xuZnVuY3Rpb24gZGVib3VuY2VGaWx0ZXIobXMsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgdGltZXI7XG4gIGxldCBtYXhUaW1lcjtcbiAgbGV0IGxhc3RSZWplY3RvciA9IG5vb3A7XG4gIGNvbnN0IF9jbGVhclRpbWVvdXQgPSAodGltZXIyKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyMik7XG4gICAgbGFzdFJlamVjdG9yKCk7XG4gICAgbGFzdFJlamVjdG9yID0gbm9vcDtcbiAgfTtcbiAgbGV0IGxhc3RJbnZva2VyO1xuICBjb25zdCBmaWx0ZXIgPSAoaW52b2tlKSA9PiB7XG4gICAgY29uc3QgZHVyYXRpb24gPSB0b1ZhbHVlJDEobXMpO1xuICAgIGNvbnN0IG1heER1cmF0aW9uID0gdG9WYWx1ZSQxKG9wdGlvbnMubWF4V2FpdCk7XG4gICAgaWYgKHRpbWVyKVxuICAgICAgX2NsZWFyVGltZW91dCh0aW1lcik7XG4gICAgaWYgKGR1cmF0aW9uIDw9IDAgfHwgbWF4RHVyYXRpb24gIT09IHZvaWQgMCAmJiBtYXhEdXJhdGlvbiA8PSAwKSB7XG4gICAgICBpZiAobWF4VGltZXIpIHtcbiAgICAgICAgX2NsZWFyVGltZW91dChtYXhUaW1lcik7XG4gICAgICAgIG1heFRpbWVyID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW52b2tlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGFzdFJlamVjdG9yID0gb3B0aW9ucy5yZWplY3RPbkNhbmNlbCA/IHJlamVjdCA6IHJlc29sdmU7XG4gICAgICBsYXN0SW52b2tlciA9IGludm9rZTtcbiAgICAgIGlmIChtYXhEdXJhdGlvbiAmJiAhbWF4VGltZXIpIHtcbiAgICAgICAgbWF4VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAodGltZXIpXG4gICAgICAgICAgICBfY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICBtYXhUaW1lciA9IG51bGw7XG4gICAgICAgICAgcmVzb2x2ZShsYXN0SW52b2tlcigpKTtcbiAgICAgICAgfSwgbWF4RHVyYXRpb24pO1xuICAgICAgfVxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKG1heFRpbWVyKVxuICAgICAgICAgIF9jbGVhclRpbWVvdXQobWF4VGltZXIpO1xuICAgICAgICBtYXhUaW1lciA9IG51bGw7XG4gICAgICAgIHJlc29sdmUoaW52b2tlKCkpO1xuICAgICAgfSwgZHVyYXRpb24pO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gZmlsdGVyO1xufVxuZnVuY3Rpb24gdGhyb3R0bGVGaWx0ZXIoLi4uYXJncykge1xuICBsZXQgbGFzdEV4ZWMgPSAwO1xuICBsZXQgdGltZXI7XG4gIGxldCBpc0xlYWRpbmcgPSB0cnVlO1xuICBsZXQgbGFzdFJlamVjdG9yID0gbm9vcDtcbiAgbGV0IGxhc3RWYWx1ZTtcbiAgbGV0IG1zO1xuICBsZXQgdHJhaWxpbmc7XG4gIGxldCBsZWFkaW5nO1xuICBsZXQgcmVqZWN0T25DYW5jZWw7XG4gIGlmICghaXNSZWYoYXJnc1swXSkgJiYgdHlwZW9mIGFyZ3NbMF0gPT09IFwib2JqZWN0XCIpXG4gICAgKHsgZGVsYXk6IG1zLCB0cmFpbGluZyA9IHRydWUsIGxlYWRpbmcgPSB0cnVlLCByZWplY3RPbkNhbmNlbCA9IGZhbHNlIH0gPSBhcmdzWzBdKTtcbiAgZWxzZVxuICAgIFttcywgdHJhaWxpbmcgPSB0cnVlLCBsZWFkaW5nID0gdHJ1ZSwgcmVqZWN0T25DYW5jZWwgPSBmYWxzZV0gPSBhcmdzO1xuICBjb25zdCBjbGVhciA9ICgpID0+IHtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHZvaWQgMDtcbiAgICAgIGxhc3RSZWplY3RvcigpO1xuICAgICAgbGFzdFJlamVjdG9yID0gbm9vcDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGZpbHRlciA9IChfaW52b2tlKSA9PiB7XG4gICAgY29uc3QgZHVyYXRpb24gPSB0b1ZhbHVlJDEobXMpO1xuICAgIGNvbnN0IGVsYXBzZWQgPSBEYXRlLm5vdygpIC0gbGFzdEV4ZWM7XG4gICAgY29uc3QgaW52b2tlID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIGxhc3RWYWx1ZSA9IF9pbnZva2UoKTtcbiAgICB9O1xuICAgIGNsZWFyKCk7XG4gICAgaWYgKGR1cmF0aW9uIDw9IDApIHtcbiAgICAgIGxhc3RFeGVjID0gRGF0ZS5ub3coKTtcbiAgICAgIHJldHVybiBpbnZva2UoKTtcbiAgICB9XG4gICAgaWYgKGVsYXBzZWQgPiBkdXJhdGlvbiAmJiAobGVhZGluZyB8fCAhaXNMZWFkaW5nKSkge1xuICAgICAgbGFzdEV4ZWMgPSBEYXRlLm5vdygpO1xuICAgICAgaW52b2tlKCk7XG4gICAgfSBlbHNlIGlmICh0cmFpbGluZykge1xuICAgICAgbGFzdFZhbHVlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsYXN0UmVqZWN0b3IgPSByZWplY3RPbkNhbmNlbCA/IHJlamVjdCA6IHJlc29sdmU7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgbGFzdEV4ZWMgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIGlzTGVhZGluZyA9IHRydWU7XG4gICAgICAgICAgcmVzb2x2ZShpbnZva2UoKSk7XG4gICAgICAgICAgY2xlYXIoKTtcbiAgICAgICAgfSwgTWF0aC5tYXgoMCwgZHVyYXRpb24gLSBlbGFwc2VkKSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFsZWFkaW5nICYmICF0aW1lcilcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiBpc0xlYWRpbmcgPSB0cnVlLCBkdXJhdGlvbik7XG4gICAgaXNMZWFkaW5nID0gZmFsc2U7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZTtcbiAgfTtcbiAgcmV0dXJuIGZpbHRlcjtcbn1cbmZ1bmN0aW9uIHBhdXNhYmxlRmlsdGVyKGV4dGVuZEZpbHRlciA9IGJ5cGFzc0ZpbHRlciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbml0aWFsU3RhdGUgPSBcImFjdGl2ZVwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0FjdGl2ZSA9IHRvUmVmKGluaXRpYWxTdGF0ZSA9PT0gXCJhY3RpdmVcIik7XG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBldmVudEZpbHRlciA9ICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKGlzQWN0aXZlLnZhbHVlKVxuICAgICAgZXh0ZW5kRmlsdGVyKC4uLmFyZ3MpO1xuICB9O1xuICByZXR1cm4geyBpc0FjdGl2ZTogcmVhZG9ubHkoaXNBY3RpdmUpLCBwYXVzZSwgcmVzdW1lLCBldmVudEZpbHRlciB9O1xufVxuXG5mdW5jdGlvbiBjYWNoZVN0cmluZ0Z1bmN0aW9uKGZuKSB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH07XG59XG5jb25zdCBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG5jb25zdCBoeXBoZW5hdGUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCBcIi0kMVwiKS50b0xvd2VyQ2FzZSgpKTtcbmNvbnN0IGNhbWVsaXplUkUgPSAvLShcXHcpL2c7XG5jb25zdCBjYW1lbGl6ZSA9IGNhY2hlU3RyaW5nRnVuY3Rpb24oKHN0cikgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoY2FtZWxpemVSRSwgKF8sIGMpID0+IGMgPyBjLnRvVXBwZXJDYXNlKCkgOiBcIlwiKTtcbn0pO1xuXG5mdW5jdGlvbiBwcm9taXNlVGltZW91dChtcywgdGhyb3dPblRpbWVvdXQgPSBmYWxzZSwgcmVhc29uID0gXCJUaW1lb3V0XCIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAodGhyb3dPblRpbWVvdXQpXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChyZWFzb24pLCBtcyk7XG4gICAgZWxzZVxuICAgICAgc2V0VGltZW91dChyZXNvbHZlLCBtcyk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaWRlbnRpdHkoYXJnKSB7XG4gIHJldHVybiBhcmc7XG59XG5mdW5jdGlvbiBjcmVhdGVTaW5nbGV0b25Qcm9taXNlKGZuKSB7XG4gIGxldCBfcHJvbWlzZTtcbiAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICBpZiAoIV9wcm9taXNlKVxuICAgICAgX3Byb21pc2UgPSBmbigpO1xuICAgIHJldHVybiBfcHJvbWlzZTtcbiAgfVxuICB3cmFwcGVyLnJlc2V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IF9wcmV2ID0gX3Byb21pc2U7XG4gICAgX3Byb21pc2UgPSB2b2lkIDA7XG4gICAgaWYgKF9wcmV2KVxuICAgICAgYXdhaXQgX3ByZXY7XG4gIH07XG4gIHJldHVybiB3cmFwcGVyO1xufVxuZnVuY3Rpb24gaW52b2tlKGZuKSB7XG4gIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gY29udGFpbnNQcm9wKG9iaiwgLi4ucHJvcHMpIHtcbiAgcmV0dXJuIHByb3BzLnNvbWUoKGspID0+IGsgaW4gb2JqKTtcbn1cbmZ1bmN0aW9uIGluY3JlYXNlV2l0aFVuaXQodGFyZ2V0LCBkZWx0YSkge1xuICB2YXIgX2E7XG4gIGlmICh0eXBlb2YgdGFyZ2V0ID09PSBcIm51bWJlclwiKVxuICAgIHJldHVybiB0YXJnZXQgKyBkZWx0YTtcbiAgY29uc3QgdmFsdWUgPSAoKF9hID0gdGFyZ2V0Lm1hdGNoKC9eLT9cXGQrXFwuP1xcZCovKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hWzBdKSB8fCBcIlwiO1xuICBjb25zdCB1bml0ID0gdGFyZ2V0LnNsaWNlKHZhbHVlLmxlbmd0aCk7XG4gIGNvbnN0IHJlc3VsdCA9IE51bWJlci5wYXJzZUZsb2F0KHZhbHVlKSArIGRlbHRhO1xuICBpZiAoTnVtYmVyLmlzTmFOKHJlc3VsdCkpXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgcmV0dXJuIHJlc3VsdCArIHVuaXQ7XG59XG5mdW5jdGlvbiBweFZhbHVlKHB4KSB7XG4gIHJldHVybiBweC5lbmRzV2l0aChcInJlbVwiKSA/IE51bWJlci5wYXJzZUZsb2F0KHB4KSAqIDE2IDogTnVtYmVyLnBhcnNlRmxvYXQocHgpO1xufVxuZnVuY3Rpb24gb2JqZWN0UGljayhvYmosIGtleXMsIG9taXRVbmRlZmluZWQgPSBmYWxzZSkge1xuICByZXR1cm4ga2V5cy5yZWR1Y2UoKG4sIGspID0+IHtcbiAgICBpZiAoayBpbiBvYmopIHtcbiAgICAgIGlmICghb21pdFVuZGVmaW5lZCB8fCBvYmpba10gIT09IHZvaWQgMClcbiAgICAgICAgbltrXSA9IG9ialtrXTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG4gIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIG9iamVjdE9taXQob2JqLCBrZXlzLCBvbWl0VW5kZWZpbmVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvYmopLmZpbHRlcigoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgcmV0dXJuICghb21pdFVuZGVmaW5lZCB8fCB2YWx1ZSAhPT0gdm9pZCAwKSAmJiAha2V5cy5pbmNsdWRlcyhrZXkpO1xuICB9KSk7XG59XG5mdW5jdGlvbiBvYmplY3RFbnRyaWVzKG9iaikge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMob2JqKTtcbn1cbmZ1bmN0aW9uIGdldExpZmVDeWNsZVRhcmdldCh0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldCB8fCBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbn1cbmZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xufVxuXG5mdW5jdGlvbiB0b1JlZiguLi5hcmdzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCAhPT0gMSlcbiAgICByZXR1cm4gdG9SZWYkMSguLi5hcmdzKTtcbiAgY29uc3QgciA9IGFyZ3NbMF07XG4gIHJldHVybiB0eXBlb2YgciA9PT0gXCJmdW5jdGlvblwiID8gcmVhZG9ubHkoY3VzdG9tUmVmKCgpID0+ICh7IGdldDogciwgc2V0OiBub29wIH0pKSkgOiByZWYocik7XG59XG5jb25zdCByZXNvbHZlUmVmID0gdG9SZWY7XG5cbmZ1bmN0aW9uIHJlYWN0aXZlUGljayhvYmosIC4uLmtleXMpIHtcbiAgY29uc3QgZmxhdEtleXMgPSBrZXlzLmZsYXQoKTtcbiAgY29uc3QgcHJlZGljYXRlID0gZmxhdEtleXNbMF07XG4gIHJldHVybiByZWFjdGl2ZUNvbXB1dGVkKCgpID0+IHR5cGVvZiBwcmVkaWNhdGUgPT09IFwiZnVuY3Rpb25cIiA/IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0b1JlZnMkMShvYmopKS5maWx0ZXIoKFtrLCB2XSkgPT4gcHJlZGljYXRlKHRvVmFsdWUkMSh2KSwgaykpKSA6IE9iamVjdC5mcm9tRW50cmllcyhmbGF0S2V5cy5tYXAoKGspID0+IFtrLCB0b1JlZihvYmosIGspXSkpKTtcbn1cblxuZnVuY3Rpb24gcmVmQXV0b1Jlc2V0KGRlZmF1bHRWYWx1ZSwgYWZ0ZXJNcyA9IDFlNCkge1xuICByZXR1cm4gY3VzdG9tUmVmKCh0cmFjaywgdHJpZ2dlcikgPT4ge1xuICAgIGxldCB2YWx1ZSA9IHRvVmFsdWUkMShkZWZhdWx0VmFsdWUpO1xuICAgIGxldCB0aW1lcjtcbiAgICBjb25zdCByZXNldEFmdGVyID0gKCkgPT4gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB2YWx1ZSA9IHRvVmFsdWUkMShkZWZhdWx0VmFsdWUpO1xuICAgICAgdHJpZ2dlcigpO1xuICAgIH0sIHRvVmFsdWUkMShhZnRlck1zKSk7XG4gICAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KG5ld1ZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSByZXNldEFmdGVyKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZURlYm91bmNlRm4oZm4sIG1zID0gMjAwLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIGNyZWF0ZUZpbHRlcldyYXBwZXIoXG4gICAgZGVib3VuY2VGaWx0ZXIobXMsIG9wdGlvbnMpLFxuICAgIGZuXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlZkRlYm91bmNlZCh2YWx1ZSwgbXMgPSAyMDAsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBkZWJvdW5jZWQgPSByZWYodmFsdWUudmFsdWUpO1xuICBjb25zdCB1cGRhdGVyID0gdXNlRGVib3VuY2VGbigoKSA9PiB7XG4gICAgZGVib3VuY2VkLnZhbHVlID0gdmFsdWUudmFsdWU7XG4gIH0sIG1zLCBvcHRpb25zKTtcbiAgd2F0Y2godmFsdWUsICgpID0+IHVwZGF0ZXIoKSk7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbmZ1bmN0aW9uIHJlZkRlZmF1bHQoc291cmNlLCBkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICByZXR1cm4gKF9hID0gc291cmNlLnZhbHVlKSAhPSBudWxsID8gX2EgOiBkZWZhdWx0VmFsdWU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHNvdXJjZS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVRocm90dGxlRm4oZm4sIG1zID0gMjAwLCB0cmFpbGluZyA9IGZhbHNlLCBsZWFkaW5nID0gdHJ1ZSwgcmVqZWN0T25DYW5jZWwgPSBmYWxzZSkge1xuICByZXR1cm4gY3JlYXRlRmlsdGVyV3JhcHBlcihcbiAgICB0aHJvdHRsZUZpbHRlcihtcywgdHJhaWxpbmcsIGxlYWRpbmcsIHJlamVjdE9uQ2FuY2VsKSxcbiAgICBmblxuICApO1xufVxuXG5mdW5jdGlvbiByZWZUaHJvdHRsZWQodmFsdWUsIGRlbGF5ID0gMjAwLCB0cmFpbGluZyA9IHRydWUsIGxlYWRpbmcgPSB0cnVlKSB7XG4gIGlmIChkZWxheSA8PSAwKVxuICAgIHJldHVybiB2YWx1ZTtcbiAgY29uc3QgdGhyb3R0bGVkID0gcmVmKHZhbHVlLnZhbHVlKTtcbiAgY29uc3QgdXBkYXRlciA9IHVzZVRocm90dGxlRm4oKCkgPT4ge1xuICAgIHRocm90dGxlZC52YWx1ZSA9IHZhbHVlLnZhbHVlO1xuICB9LCBkZWxheSwgdHJhaWxpbmcsIGxlYWRpbmcpO1xuICB3YXRjaCh2YWx1ZSwgKCkgPT4gdXBkYXRlcigpKTtcbiAgcmV0dXJuIHRocm90dGxlZDtcbn1cblxuZnVuY3Rpb24gcmVmV2l0aENvbnRyb2woaW5pdGlhbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBzb3VyY2UgPSBpbml0aWFsO1xuICBsZXQgdHJhY2s7XG4gIGxldCB0cmlnZ2VyO1xuICBjb25zdCByZWYgPSBjdXN0b21SZWYoKF90cmFjaywgX3RyaWdnZXIpID0+IHtcbiAgICB0cmFjayA9IF90cmFjaztcbiAgICB0cmlnZ2VyID0gX3RyaWdnZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGdldCgpO1xuICAgICAgfSxcbiAgICAgIHNldCh2KSB7XG4gICAgICAgIHNldCh2KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgZnVuY3Rpb24gZ2V0KHRyYWNraW5nID0gdHJ1ZSkge1xuICAgIGlmICh0cmFja2luZylcbiAgICAgIHRyYWNrKCk7XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuICBmdW5jdGlvbiBzZXQodmFsdWUsIHRyaWdnZXJpbmcgPSB0cnVlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAodmFsdWUgPT09IHNvdXJjZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBvbGQgPSBzb3VyY2U7XG4gICAgaWYgKCgoX2EgPSBvcHRpb25zLm9uQmVmb3JlQ2hhbmdlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCB2YWx1ZSwgb2xkKSkgPT09IGZhbHNlKVxuICAgICAgcmV0dXJuO1xuICAgIHNvdXJjZSA9IHZhbHVlO1xuICAgIChfYiA9IG9wdGlvbnMub25DaGFuZ2VkKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChvcHRpb25zLCB2YWx1ZSwgb2xkKTtcbiAgICBpZiAodHJpZ2dlcmluZylcbiAgICAgIHRyaWdnZXIoKTtcbiAgfVxuICBjb25zdCB1bnRyYWNrZWRHZXQgPSAoKSA9PiBnZXQoZmFsc2UpO1xuICBjb25zdCBzaWxlbnRTZXQgPSAodikgPT4gc2V0KHYsIGZhbHNlKTtcbiAgY29uc3QgcGVlayA9ICgpID0+IGdldChmYWxzZSk7XG4gIGNvbnN0IGxheSA9ICh2KSA9PiBzZXQodiwgZmFsc2UpO1xuICByZXR1cm4gZXh0ZW5kUmVmKFxuICAgIHJlZixcbiAgICB7XG4gICAgICBnZXQsXG4gICAgICBzZXQsXG4gICAgICB1bnRyYWNrZWRHZXQsXG4gICAgICBzaWxlbnRTZXQsXG4gICAgICBwZWVrLFxuICAgICAgbGF5XG4gICAgfSxcbiAgICB7IGVudW1lcmFibGU6IHRydWUgfVxuICApO1xufVxuY29uc3QgY29udHJvbGxlZFJlZiA9IHJlZldpdGhDb250cm9sO1xuXG5mdW5jdGlvbiBzZXQoLi4uYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICBjb25zdCBbcmVmLCB2YWx1ZV0gPSBhcmdzO1xuICAgIHJlZi52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgIGNvbnN0IFt0YXJnZXQsIGtleSwgdmFsdWVdID0gYXJncztcbiAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdhdGNoV2l0aEZpbHRlcihzb3VyY2UsIGNiLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGV2ZW50RmlsdGVyID0gYnlwYXNzRmlsdGVyLFxuICAgIC4uLndhdGNoT3B0aW9uc1xuICB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHdhdGNoKFxuICAgIHNvdXJjZSxcbiAgICBjcmVhdGVGaWx0ZXJXcmFwcGVyKFxuICAgICAgZXZlbnRGaWx0ZXIsXG4gICAgICBjYlxuICAgICksXG4gICAgd2F0Y2hPcHRpb25zXG4gICk7XG59XG5cbmZ1bmN0aW9uIHdhdGNoUGF1c2FibGUoc291cmNlLCBjYiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBldmVudEZpbHRlcjogZmlsdGVyLFxuICAgIGluaXRpYWxTdGF0ZSA9IFwiYWN0aXZlXCIsXG4gICAgLi4ud2F0Y2hPcHRpb25zXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7IGV2ZW50RmlsdGVyLCBwYXVzZSwgcmVzdW1lLCBpc0FjdGl2ZSB9ID0gcGF1c2FibGVGaWx0ZXIoZmlsdGVyLCB7IGluaXRpYWxTdGF0ZSB9KTtcbiAgY29uc3Qgc3RvcCA9IHdhdGNoV2l0aEZpbHRlcihcbiAgICBzb3VyY2UsXG4gICAgY2IsXG4gICAge1xuICAgICAgLi4ud2F0Y2hPcHRpb25zLFxuICAgICAgZXZlbnRGaWx0ZXJcbiAgICB9XG4gICk7XG4gIHJldHVybiB7IHN0b3AsIHBhdXNlLCByZXN1bWUsIGlzQWN0aXZlIH07XG59XG5cbmZ1bmN0aW9uIHN5bmNSZWYobGVmdCwgcmlnaHQsIC4uLltvcHRpb25zXSkge1xuICBjb25zdCB7XG4gICAgZmx1c2ggPSBcInN5bmNcIixcbiAgICBkZWVwID0gZmFsc2UsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBkaXJlY3Rpb24gPSBcImJvdGhcIixcbiAgICB0cmFuc2Zvcm0gPSB7fVxuICB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgd2F0Y2hlcnMgPSBbXTtcbiAgY29uc3QgdHJhbnNmb3JtTFRSID0gXCJsdHJcIiBpbiB0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtLmx0ciB8fCAoKHYpID0+IHYpO1xuICBjb25zdCB0cmFuc2Zvcm1SVEwgPSBcInJ0bFwiIGluIHRyYW5zZm9ybSAmJiB0cmFuc2Zvcm0ucnRsIHx8ICgodikgPT4gdik7XG4gIGlmIChkaXJlY3Rpb24gPT09IFwiYm90aFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJsdHJcIikge1xuICAgIHdhdGNoZXJzLnB1c2god2F0Y2hQYXVzYWJsZShcbiAgICAgIGxlZnQsXG4gICAgICAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgd2F0Y2hlcnMuZm9yRWFjaCgodykgPT4gdy5wYXVzZSgpKTtcbiAgICAgICAgcmlnaHQudmFsdWUgPSB0cmFuc2Zvcm1MVFIobmV3VmFsdWUpO1xuICAgICAgICB3YXRjaGVycy5mb3JFYWNoKCh3KSA9PiB3LnJlc3VtZSgpKTtcbiAgICAgIH0sXG4gICAgICB7IGZsdXNoLCBkZWVwLCBpbW1lZGlhdGUgfVxuICAgICkpO1xuICB9XG4gIGlmIChkaXJlY3Rpb24gPT09IFwiYm90aFwiIHx8IGRpcmVjdGlvbiA9PT0gXCJydGxcIikge1xuICAgIHdhdGNoZXJzLnB1c2god2F0Y2hQYXVzYWJsZShcbiAgICAgIHJpZ2h0LFxuICAgICAgKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIHdhdGNoZXJzLmZvckVhY2goKHcpID0+IHcucGF1c2UoKSk7XG4gICAgICAgIGxlZnQudmFsdWUgPSB0cmFuc2Zvcm1SVEwobmV3VmFsdWUpO1xuICAgICAgICB3YXRjaGVycy5mb3JFYWNoKCh3KSA9PiB3LnJlc3VtZSgpKTtcbiAgICAgIH0sXG4gICAgICB7IGZsdXNoLCBkZWVwLCBpbW1lZGlhdGUgfVxuICAgICkpO1xuICB9XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgd2F0Y2hlcnMuZm9yRWFjaCgodykgPT4gdy5zdG9wKCkpO1xuICB9O1xuICByZXR1cm4gc3RvcDtcbn1cblxuZnVuY3Rpb24gc3luY1JlZnMoc291cmNlLCB0YXJnZXRzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGZsdXNoID0gXCJzeW5jXCIsXG4gICAgZGVlcCA9IGZhbHNlLFxuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHRhcmdldHNBcnJheSA9IHRvQXJyYXkodGFyZ2V0cyk7XG4gIHJldHVybiB3YXRjaChcbiAgICBzb3VyY2UsXG4gICAgKG5ld1ZhbHVlKSA9PiB0YXJnZXRzQXJyYXkuZm9yRWFjaCgodGFyZ2V0KSA9PiB0YXJnZXQudmFsdWUgPSBuZXdWYWx1ZSksXG4gICAgeyBmbHVzaCwgZGVlcCwgaW1tZWRpYXRlIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gdG9SZWZzKG9iamVjdFJlZiwgb3B0aW9ucyA9IHt9KSB7XG4gIGlmICghaXNSZWYob2JqZWN0UmVmKSlcbiAgICByZXR1cm4gdG9SZWZzJDEob2JqZWN0UmVmKTtcbiAgY29uc3QgcmVzdWx0ID0gQXJyYXkuaXNBcnJheShvYmplY3RSZWYudmFsdWUpID8gQXJyYXkuZnJvbSh7IGxlbmd0aDogb2JqZWN0UmVmLnZhbHVlLmxlbmd0aCB9KSA6IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3RSZWYudmFsdWUpIHtcbiAgICByZXN1bHRba2V5XSA9IGN1c3RvbVJlZigoKSA9PiAoe1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gb2JqZWN0UmVmLnZhbHVlW2tleV07XG4gICAgICB9LFxuICAgICAgc2V0KHYpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCByZXBsYWNlUmVmID0gKF9hID0gdG9WYWx1ZSQxKG9wdGlvbnMucmVwbGFjZVJlZikpICE9IG51bGwgPyBfYSA6IHRydWU7XG4gICAgICAgIGlmIChyZXBsYWNlUmVmKSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0UmVmLnZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgY29weSA9IFsuLi5vYmplY3RSZWYudmFsdWVdO1xuICAgICAgICAgICAgY29weVtrZXldID0gdjtcbiAgICAgICAgICAgIG9iamVjdFJlZi52YWx1ZSA9IGNvcHk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld09iamVjdCA9IHsgLi4ub2JqZWN0UmVmLnZhbHVlLCBba2V5XTogdiB9O1xuICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG5ld09iamVjdCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdFJlZi52YWx1ZSkpO1xuICAgICAgICAgICAgb2JqZWN0UmVmLnZhbHVlID0gbmV3T2JqZWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvYmplY3RSZWYudmFsdWVba2V5XSA9IHY7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgdG9WYWx1ZSA9IHRvVmFsdWUkMTtcbmNvbnN0IHJlc29sdmVVbnJlZiA9IHRvVmFsdWUkMTtcblxuZnVuY3Rpb24gdHJ5T25CZWZvcmVNb3VudChmbiwgc3luYyA9IHRydWUsIHRhcmdldCkge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldExpZmVDeWNsZVRhcmdldCh0YXJnZXQpO1xuICBpZiAoaW5zdGFuY2UpXG4gICAgb25CZWZvcmVNb3VudChmbiwgdGFyZ2V0KTtcbiAgZWxzZSBpZiAoc3luYylcbiAgICBmbigpO1xuICBlbHNlXG4gICAgbmV4dFRpY2soZm4pO1xufVxuXG5mdW5jdGlvbiB0cnlPbkJlZm9yZVVubW91bnQoZm4sIHRhcmdldCkge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldExpZmVDeWNsZVRhcmdldCh0YXJnZXQpO1xuICBpZiAoaW5zdGFuY2UpXG4gICAgb25CZWZvcmVVbm1vdW50KGZuLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiB0cnlPbk1vdW50ZWQoZm4sIHN5bmMgPSB0cnVlLCB0YXJnZXQpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRMaWZlQ3ljbGVUYXJnZXQoKTtcbiAgaWYgKGluc3RhbmNlKVxuICAgIG9uTW91bnRlZChmbiwgdGFyZ2V0KTtcbiAgZWxzZSBpZiAoc3luYylcbiAgICBmbigpO1xuICBlbHNlXG4gICAgbmV4dFRpY2soZm4pO1xufVxuXG5mdW5jdGlvbiB0cnlPblVubW91bnRlZChmbiwgdGFyZ2V0KSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0TGlmZUN5Y2xlVGFyZ2V0KHRhcmdldCk7XG4gIGlmIChpbnN0YW5jZSlcbiAgICBvblVubW91bnRlZChmbiwgdGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVW50aWwociwgaXNOb3QgPSBmYWxzZSkge1xuICBmdW5jdGlvbiB0b01hdGNoKGNvbmRpdGlvbiwgeyBmbHVzaCA9IFwic3luY1wiLCBkZWVwID0gZmFsc2UsIHRpbWVvdXQsIHRocm93T25UaW1lb3V0IH0gPSB7fSkge1xuICAgIGxldCBzdG9wID0gbnVsbDtcbiAgICBjb25zdCB3YXRjaGVyID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHN0b3AgPSB3YXRjaChcbiAgICAgICAgcixcbiAgICAgICAgKHYpID0+IHtcbiAgICAgICAgICBpZiAoY29uZGl0aW9uKHYpICE9PSBpc05vdCkge1xuICAgICAgICAgICAgaWYgKHN0b3ApXG4gICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4gc3RvcCA9PSBudWxsID8gdm9pZCAwIDogc3RvcCgpKTtcbiAgICAgICAgICAgIHJlc29sdmUodik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmx1c2gsXG4gICAgICAgICAgZGVlcCxcbiAgICAgICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFt3YXRjaGVyXTtcbiAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBwcm9taXNlVGltZW91dCh0aW1lb3V0LCB0aHJvd09uVGltZW91dCkudGhlbigoKSA9PiB0b1ZhbHVlJDEocikpLmZpbmFsbHkoKCkgPT4gc3RvcCA9PSBudWxsID8gdm9pZCAwIDogc3RvcCgpKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShwcm9taXNlcyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgIGlmICghaXNSZWYodmFsdWUpKVxuICAgICAgcmV0dXJuIHRvTWF0Y2goKHYpID0+IHYgPT09IHZhbHVlLCBvcHRpb25zKTtcbiAgICBjb25zdCB7IGZsdXNoID0gXCJzeW5jXCIsIGRlZXAgPSBmYWxzZSwgdGltZW91dCwgdGhyb3dPblRpbWVvdXQgfSA9IG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMgOiB7fTtcbiAgICBsZXQgc3RvcCA9IG51bGw7XG4gICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzdG9wID0gd2F0Y2goXG4gICAgICAgIFtyLCB2YWx1ZV0sXG4gICAgICAgIChbdjEsIHYyXSkgPT4ge1xuICAgICAgICAgIGlmIChpc05vdCAhPT0gKHYxID09PSB2MikpIHtcbiAgICAgICAgICAgIGlmIChzdG9wKVxuICAgICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHN0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IHN0b3AoKSk7XG4gICAgICAgICAgICByZXNvbHZlKHYxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmbHVzaCxcbiAgICAgICAgICBkZWVwLFxuICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pO1xuICAgIGNvbnN0IHByb21pc2VzID0gW3dhdGNoZXJdO1xuICAgIGlmICh0aW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIHByb21pc2VzLnB1c2goXG4gICAgICAgIHByb21pc2VUaW1lb3V0KHRpbWVvdXQsIHRocm93T25UaW1lb3V0KS50aGVuKCgpID0+IHRvVmFsdWUkMShyKSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgc3RvcCA9PSBudWxsID8gdm9pZCAwIDogc3RvcCgpO1xuICAgICAgICAgIHJldHVybiB0b1ZhbHVlJDEocik7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKHByb21pc2VzKTtcbiAgfVxuICBmdW5jdGlvbiB0b0JlVHJ1dGh5KG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdG9NYXRjaCgodikgPT4gQm9vbGVhbih2KSwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZU51bGwob3B0aW9ucykge1xuICAgIHJldHVybiB0b0JlKG51bGwsIG9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQmVVbmRlZmluZWQob3B0aW9ucykge1xuICAgIHJldHVybiB0b0JlKHZvaWQgMCwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZU5hTihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvTWF0Y2goTnVtYmVyLmlzTmFOLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiB0b0NvbnRhaW5zKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvTWF0Y2goKHYpID0+IHtcbiAgICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuZnJvbSh2KTtcbiAgICAgIHJldHVybiBhcnJheS5pbmNsdWRlcyh2YWx1ZSkgfHwgYXJyYXkuaW5jbHVkZXModG9WYWx1ZSQxKHZhbHVlKSk7XG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gY2hhbmdlZChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGNoYW5nZWRUaW1lcygxLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiBjaGFuZ2VkVGltZXMobiA9IDEsIG9wdGlvbnMpIHtcbiAgICBsZXQgY291bnQgPSAtMTtcbiAgICByZXR1cm4gdG9NYXRjaCgoKSA9PiB7XG4gICAgICBjb3VudCArPSAxO1xuICAgICAgcmV0dXJuIGNvdW50ID49IG47XG4gICAgfSwgb3B0aW9ucyk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkodG9WYWx1ZSQxKHIpKSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0ge1xuICAgICAgdG9NYXRjaCxcbiAgICAgIHRvQ29udGFpbnMsXG4gICAgICBjaGFuZ2VkLFxuICAgICAgY2hhbmdlZFRpbWVzLFxuICAgICAgZ2V0IG5vdCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVVudGlsKHIsICFpc05vdCk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgICB0b01hdGNoLFxuICAgICAgdG9CZSxcbiAgICAgIHRvQmVUcnV0aHksXG4gICAgICB0b0JlTnVsbCxcbiAgICAgIHRvQmVOYU4sXG4gICAgICB0b0JlVW5kZWZpbmVkLFxuICAgICAgY2hhbmdlZCxcbiAgICAgIGNoYW5nZWRUaW1lcyxcbiAgICAgIGdldCBub3QoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVVbnRpbChyLCAhaXNOb3QpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG59XG5mdW5jdGlvbiB1bnRpbChyKSB7XG4gIHJldHVybiBjcmVhdGVVbnRpbChyKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdENvbXBhcmF0b3IodmFsdWUsIG90aFZhbCkge1xuICByZXR1cm4gdmFsdWUgPT09IG90aFZhbDtcbn1cbmZ1bmN0aW9uIHVzZUFycmF5RGlmZmVyZW5jZSguLi5hcmdzKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGxpc3QgPSBhcmdzWzBdO1xuICBjb25zdCB2YWx1ZXMgPSBhcmdzWzFdO1xuICBsZXQgY29tcGFyZUZuID0gKF9hID0gYXJnc1syXSkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdENvbXBhcmF0b3I7XG4gIGNvbnN0IHtcbiAgICBzeW1tZXRyaWMgPSBmYWxzZVxuICB9ID0gKF9iID0gYXJnc1szXSkgIT0gbnVsbCA/IF9iIDoge307XG4gIGlmICh0eXBlb2YgY29tcGFyZUZuID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3Qga2V5ID0gY29tcGFyZUZuO1xuICAgIGNvbXBhcmVGbiA9ICh2YWx1ZSwgb3RoVmFsKSA9PiB2YWx1ZVtrZXldID09PSBvdGhWYWxba2V5XTtcbiAgfVxuICBjb25zdCBkaWZmMSA9IGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShsaXN0KS5maWx0ZXIoKHgpID0+IHRvVmFsdWUkMSh2YWx1ZXMpLmZpbmRJbmRleCgoeSkgPT4gY29tcGFyZUZuKHgsIHkpKSA9PT0gLTEpKTtcbiAgaWYgKHN5bW1ldHJpYykge1xuICAgIGNvbnN0IGRpZmYyID0gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZSQxKHZhbHVlcykuZmlsdGVyKCh4KSA9PiB0b1ZhbHVlJDEobGlzdCkuZmluZEluZGV4KCh5KSA9PiBjb21wYXJlRm4oeCwgeSkpID09PSAtMSkpO1xuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiBzeW1tZXRyaWMgPyBbLi4udG9WYWx1ZSQxKGRpZmYxKSwgLi4udG9WYWx1ZSQxKGRpZmYyKV0gOiB0b1ZhbHVlJDEoZGlmZjEpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGlmZjE7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlFdmVyeShsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZSQxKGxpc3QpLmV2ZXJ5KChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHRvVmFsdWUkMShlbGVtZW50KSwgaW5kZXgsIGFycmF5KSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheUZpbHRlcihsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZSQxKGxpc3QpLm1hcCgoaSkgPT4gdG9WYWx1ZSQxKGkpKS5maWx0ZXIoZm4pKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlGaW5kKGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlJDEoXG4gICAgdG9WYWx1ZSQxKGxpc3QpLmZpbmQoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gZm4odG9WYWx1ZSQxKGVsZW1lbnQpLCBpbmRleCwgYXJyYXkpKVxuICApKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlGaW5kSW5kZXgobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShsaXN0KS5maW5kSW5kZXgoKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gZm4odG9WYWx1ZSQxKGVsZW1lbnQpLCBpbmRleCwgYXJyYXkpKSk7XG59XG5cbmZ1bmN0aW9uIGZpbmRMYXN0KGFyciwgY2IpIHtcbiAgbGV0IGluZGV4ID0gYXJyLmxlbmd0aDtcbiAgd2hpbGUgKGluZGV4LS0gPiAwKSB7XG4gICAgaWYgKGNiKGFycltpbmRleF0sIGluZGV4LCBhcnIpKVxuICAgICAgcmV0dXJuIGFycltpbmRleF07XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHVzZUFycmF5RmluZExhc3QobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShcbiAgICAhQXJyYXkucHJvdG90eXBlLmZpbmRMYXN0ID8gZmluZExhc3QodG9WYWx1ZSQxKGxpc3QpLCAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbih0b1ZhbHVlJDEoZWxlbWVudCksIGluZGV4LCBhcnJheSkpIDogdG9WYWx1ZSQxKGxpc3QpLmZpbmRMYXN0KChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHRvVmFsdWUkMShlbGVtZW50KSwgaW5kZXgsIGFycmF5KSlcbiAgKSk7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXlJbmNsdWRlc09wdGlvbnMob2JqKSB7XG4gIHJldHVybiBpc09iamVjdChvYmopICYmIGNvbnRhaW5zUHJvcChvYmosIFwiZm9ybUluZGV4XCIsIFwiY29tcGFyYXRvclwiKTtcbn1cbmZ1bmN0aW9uIHVzZUFycmF5SW5jbHVkZXMoLi4uYXJncykge1xuICB2YXIgX2E7XG4gIGNvbnN0IGxpc3QgPSBhcmdzWzBdO1xuICBjb25zdCB2YWx1ZSA9IGFyZ3NbMV07XG4gIGxldCBjb21wYXJhdG9yID0gYXJnc1syXTtcbiAgbGV0IGZvcm1JbmRleCA9IDA7XG4gIGlmIChpc0FycmF5SW5jbHVkZXNPcHRpb25zKGNvbXBhcmF0b3IpKSB7XG4gICAgZm9ybUluZGV4ID0gKF9hID0gY29tcGFyYXRvci5mcm9tSW5kZXgpICE9IG51bGwgPyBfYSA6IDA7XG4gICAgY29tcGFyYXRvciA9IGNvbXBhcmF0b3IuY29tcGFyYXRvcjtcbiAgfVxuICBpZiAodHlwZW9mIGNvbXBhcmF0b3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb25zdCBrZXkgPSBjb21wYXJhdG9yO1xuICAgIGNvbXBhcmF0b3IgPSAoZWxlbWVudCwgdmFsdWUyKSA9PiBlbGVtZW50W2tleV0gPT09IHRvVmFsdWUkMSh2YWx1ZTIpO1xuICB9XG4gIGNvbXBhcmF0b3IgPSBjb21wYXJhdG9yICE9IG51bGwgPyBjb21wYXJhdG9yIDogKGVsZW1lbnQsIHZhbHVlMikgPT4gZWxlbWVudCA9PT0gdG9WYWx1ZSQxKHZhbHVlMik7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlJDEobGlzdCkuc2xpY2UoZm9ybUluZGV4KS5zb21lKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGNvbXBhcmF0b3IoXG4gICAgdG9WYWx1ZSQxKGVsZW1lbnQpLFxuICAgIHRvVmFsdWUkMSh2YWx1ZSksXG4gICAgaW5kZXgsXG4gICAgdG9WYWx1ZSQxKGFycmF5KVxuICApKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5Sm9pbihsaXN0LCBzZXBhcmF0b3IpIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShsaXN0KS5tYXAoKGkpID0+IHRvVmFsdWUkMShpKSkuam9pbih0b1ZhbHVlJDEoc2VwYXJhdG9yKSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheU1hcChsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZSQxKGxpc3QpLm1hcCgoaSkgPT4gdG9WYWx1ZSQxKGkpKS5tYXAoZm4pKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlSZWR1Y2UobGlzdCwgcmVkdWNlciwgLi4uYXJncykge1xuICBjb25zdCByZWR1Y2VDYWxsYmFjayA9IChzdW0sIHZhbHVlLCBpbmRleCkgPT4gcmVkdWNlcih0b1ZhbHVlJDEoc3VtKSwgdG9WYWx1ZSQxKHZhbHVlKSwgaW5kZXgpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IHJlc29sdmVkID0gdG9WYWx1ZSQxKGxpc3QpO1xuICAgIHJldHVybiBhcmdzLmxlbmd0aCA/IHJlc29sdmVkLnJlZHVjZShyZWR1Y2VDYWxsYmFjaywgdHlwZW9mIGFyZ3NbMF0gPT09IFwiZnVuY3Rpb25cIiA/IHRvVmFsdWUkMShhcmdzWzBdKCkpIDogdG9WYWx1ZSQxKGFyZ3NbMF0pKSA6IHJlc29sdmVkLnJlZHVjZShyZWR1Y2VDYWxsYmFjayk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheVNvbWUobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShsaXN0KS5zb21lKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHRvVmFsdWUkMShlbGVtZW50KSwgaW5kZXgsIGFycmF5KSkpO1xufVxuXG5mdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gIHJldHVybiBBcnJheS5mcm9tKG5ldyBTZXQoYXJyYXkpKTtcbn1cbmZ1bmN0aW9uIHVuaXF1ZUVsZW1lbnRzQnkoYXJyYXksIGZuKSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKGFjYywgdikgPT4ge1xuICAgIGlmICghYWNjLnNvbWUoKHgpID0+IGZuKHYsIHgsIGFycmF5KSkpXG4gICAgICBhY2MucHVzaCh2KTtcbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG59XG5mdW5jdGlvbiB1c2VBcnJheVVuaXF1ZShsaXN0LCBjb21wYXJlRm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCByZXNvbHZlZExpc3QgPSB0b1ZhbHVlJDEobGlzdCkubWFwKChlbGVtZW50KSA9PiB0b1ZhbHVlJDEoZWxlbWVudCkpO1xuICAgIHJldHVybiBjb21wYXJlRm4gPyB1bmlxdWVFbGVtZW50c0J5KHJlc29sdmVkTGlzdCwgY29tcGFyZUZuKSA6IHVuaXEocmVzb2x2ZWRMaXN0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZUNvdW50ZXIoaW5pdGlhbFZhbHVlID0gMCwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCBfaW5pdGlhbFZhbHVlID0gdW5yZWYoaW5pdGlhbFZhbHVlKTtcbiAgY29uc3QgY291bnQgPSBzaGFsbG93UmVmKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IHtcbiAgICBtYXggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgbWluID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpbmMgPSAoZGVsdGEgPSAxKSA9PiBjb3VudC52YWx1ZSA9IE1hdGgubWF4KE1hdGgubWluKG1heCwgY291bnQudmFsdWUgKyBkZWx0YSksIG1pbik7XG4gIGNvbnN0IGRlYyA9IChkZWx0YSA9IDEpID0+IGNvdW50LnZhbHVlID0gTWF0aC5taW4oTWF0aC5tYXgobWluLCBjb3VudC52YWx1ZSAtIGRlbHRhKSwgbWF4KTtcbiAgY29uc3QgZ2V0ID0gKCkgPT4gY291bnQudmFsdWU7XG4gIGNvbnN0IHNldCA9ICh2YWwpID0+IGNvdW50LnZhbHVlID0gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbCkpO1xuICBjb25zdCByZXNldCA9ICh2YWwgPSBfaW5pdGlhbFZhbHVlKSA9PiB7XG4gICAgX2luaXRpYWxWYWx1ZSA9IHZhbDtcbiAgICByZXR1cm4gc2V0KHZhbCk7XG4gIH07XG4gIHJldHVybiB7IGNvdW50LCBpbmMsIGRlYywgZ2V0LCBzZXQsIHJlc2V0IH07XG59XG5cbmNvbnN0IFJFR0VYX1BBUlNFID0gL14oXFxkezR9KVstL10/KFxcZHsxLDJ9KT9bLS9dPyhcXGR7MCwyfSlbVFxcc10qKFxcZHsxLDJ9KT86PyhcXGR7MSwyfSk/Oj8oXFxkezEsMn0pP1suOl0/KFxcZCspPyQvaTtcbmNvbnN0IFJFR0VYX0ZPUk1BVCA9IC9bWU1ESGhtc11vfFxcWyhbXlxcXV0rKVxcXXxZezEsNH18TXsxLDR9fER7MSwyfXxkezEsNH18SHsxLDJ9fGh7MSwyfXxhezEsMn18QXsxLDJ9fG17MSwyfXxzezEsMn18WnsxLDJ9fHp7MSw0fXxTU1MvZztcbmZ1bmN0aW9uIGRlZmF1bHRNZXJpZGllbShob3VycywgbWludXRlcywgaXNMb3dlcmNhc2UsIGhhc1BlcmlvZCkge1xuICBsZXQgbSA9IGhvdXJzIDwgMTIgPyBcIkFNXCIgOiBcIlBNXCI7XG4gIGlmIChoYXNQZXJpb2QpXG4gICAgbSA9IG0uc3BsaXQoXCJcIikucmVkdWNlKChhY2MsIGN1cnIpID0+IGFjYyArPSBgJHtjdXJyfS5gLCBcIlwiKTtcbiAgcmV0dXJuIGlzTG93ZXJjYXNlID8gbS50b0xvd2VyQ2FzZSgpIDogbTtcbn1cbmZ1bmN0aW9uIGZvcm1hdE9yZGluYWwobnVtKSB7XG4gIGNvbnN0IHN1ZmZpeGVzID0gW1widGhcIiwgXCJzdFwiLCBcIm5kXCIsIFwicmRcIl07XG4gIGNvbnN0IHYgPSBudW0gJSAxMDA7XG4gIHJldHVybiBudW0gKyAoc3VmZml4ZXNbKHYgLSAyMCkgJSAxMF0gfHwgc3VmZml4ZXNbdl0gfHwgc3VmZml4ZXNbMF0pO1xufVxuZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlLCBmb3JtYXRTdHIsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHllYXJzID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgY29uc3QgZGF5cyA9IGRhdGUuZ2V0RGF0ZSgpO1xuICBjb25zdCBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgY29uc3QgbWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xuICBjb25zdCBzZWNvbmRzID0gZGF0ZS5nZXRTZWNvbmRzKCk7XG4gIGNvbnN0IG1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XG4gIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF5KCk7XG4gIGNvbnN0IG1lcmlkaWVtID0gKF9hID0gb3B0aW9ucy5jdXN0b21NZXJpZGllbSkgIT0gbnVsbCA/IF9hIDogZGVmYXVsdE1lcmlkaWVtO1xuICBjb25zdCBzdHJpcFRpbWVab25lID0gKGRhdGVTdHJpbmcpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gZGF0ZVN0cmluZy5zcGxpdChcIiBcIilbMV0pICE9IG51bGwgPyBfYTIgOiBcIlwiO1xuICB9O1xuICBjb25zdCBtYXRjaGVzID0ge1xuICAgIFlvOiAoKSA9PiBmb3JtYXRPcmRpbmFsKHllYXJzKSxcbiAgICBZWTogKCkgPT4gU3RyaW5nKHllYXJzKS5zbGljZSgtMiksXG4gICAgWVlZWTogKCkgPT4geWVhcnMsXG4gICAgTTogKCkgPT4gbW9udGggKyAxLFxuICAgIE1vOiAoKSA9PiBmb3JtYXRPcmRpbmFsKG1vbnRoICsgMSksXG4gICAgTU06ICgpID0+IGAke21vbnRoICsgMX1gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBNTU06ICgpID0+IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKHRvVmFsdWUkMShvcHRpb25zLmxvY2FsZXMpLCB7IG1vbnRoOiBcInNob3J0XCIgfSksXG4gICAgTU1NTTogKCkgPT4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodG9WYWx1ZSQxKG9wdGlvbnMubG9jYWxlcyksIHsgbW9udGg6IFwibG9uZ1wiIH0pLFxuICAgIEQ6ICgpID0+IFN0cmluZyhkYXlzKSxcbiAgICBEbzogKCkgPT4gZm9ybWF0T3JkaW5hbChkYXlzKSxcbiAgICBERDogKCkgPT4gYCR7ZGF5c31gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBIOiAoKSA9PiBTdHJpbmcoaG91cnMpLFxuICAgIEhvOiAoKSA9PiBmb3JtYXRPcmRpbmFsKGhvdXJzKSxcbiAgICBISDogKCkgPT4gYCR7aG91cnN9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgaDogKCkgPT4gYCR7aG91cnMgJSAxMiB8fCAxMn1gLnBhZFN0YXJ0KDEsIFwiMFwiKSxcbiAgICBobzogKCkgPT4gZm9ybWF0T3JkaW5hbChob3VycyAlIDEyIHx8IDEyKSxcbiAgICBoaDogKCkgPT4gYCR7aG91cnMgJSAxMiB8fCAxMn1gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBtOiAoKSA9PiBTdHJpbmcobWludXRlcyksXG4gICAgbW86ICgpID0+IGZvcm1hdE9yZGluYWwobWludXRlcyksXG4gICAgbW06ICgpID0+IGAke21pbnV0ZXN9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgczogKCkgPT4gU3RyaW5nKHNlY29uZHMpLFxuICAgIHNvOiAoKSA9PiBmb3JtYXRPcmRpbmFsKHNlY29uZHMpLFxuICAgIHNzOiAoKSA9PiBgJHtzZWNvbmRzfWAucGFkU3RhcnQoMiwgXCIwXCIpLFxuICAgIFNTUzogKCkgPT4gYCR7bWlsbGlzZWNvbmRzfWAucGFkU3RhcnQoMywgXCIwXCIpLFxuICAgIGQ6ICgpID0+IGRheSxcbiAgICBkZDogKCkgPT4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodG9WYWx1ZSQxKG9wdGlvbnMubG9jYWxlcyksIHsgd2Vla2RheTogXCJuYXJyb3dcIiB9KSxcbiAgICBkZGQ6ICgpID0+IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKHRvVmFsdWUkMShvcHRpb25zLmxvY2FsZXMpLCB7IHdlZWtkYXk6IFwic2hvcnRcIiB9KSxcbiAgICBkZGRkOiAoKSA9PiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0b1ZhbHVlJDEob3B0aW9ucy5sb2NhbGVzKSwgeyB3ZWVrZGF5OiBcImxvbmdcIiB9KSxcbiAgICBBOiAoKSA9PiBtZXJpZGllbShob3VycywgbWludXRlcyksXG4gICAgQUE6ICgpID0+IG1lcmlkaWVtKGhvdXJzLCBtaW51dGVzLCBmYWxzZSwgdHJ1ZSksXG4gICAgYTogKCkgPT4gbWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIHRydWUpLFxuICAgIGFhOiAoKSA9PiBtZXJpZGllbShob3VycywgbWludXRlcywgdHJ1ZSwgdHJ1ZSksXG4gICAgejogKCkgPT4gc3RyaXBUaW1lWm9uZShkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0b1ZhbHVlJDEob3B0aW9ucy5sb2NhbGVzKSwgeyB0aW1lWm9uZU5hbWU6IFwic2hvcnRPZmZzZXRcIiB9KSksXG4gICAgeno6ICgpID0+IHN0cmlwVGltZVpvbmUoZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodG9WYWx1ZSQxKG9wdGlvbnMubG9jYWxlcyksIHsgdGltZVpvbmVOYW1lOiBcInNob3J0T2Zmc2V0XCIgfSkpLFxuICAgIHp6ejogKCkgPT4gc3RyaXBUaW1lWm9uZShkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0b1ZhbHVlJDEob3B0aW9ucy5sb2NhbGVzKSwgeyB0aW1lWm9uZU5hbWU6IFwic2hvcnRPZmZzZXRcIiB9KSksXG4gICAgenp6ejogKCkgPT4gc3RyaXBUaW1lWm9uZShkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0b1ZhbHVlJDEob3B0aW9ucy5sb2NhbGVzKSwgeyB0aW1lWm9uZU5hbWU6IFwibG9uZ09mZnNldFwiIH0pKVxuICB9O1xuICByZXR1cm4gZm9ybWF0U3RyLnJlcGxhY2UoUkVHRVhfRk9STUFULCAobWF0Y2gsICQxKSA9PiB7XG4gICAgdmFyIF9hMiwgX2I7XG4gICAgcmV0dXJuIChfYiA9ICQxICE9IG51bGwgPyAkMSA6IChfYTIgPSBtYXRjaGVzW21hdGNoXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG1hdGNoZXMpKSAhPSBudWxsID8gX2IgOiBtYXRjaDtcbiAgfSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVEYXRlKGRhdGUpIHtcbiAgaWYgKGRhdGUgPT09IG51bGwpXG4gICAgcmV0dXJuIG5ldyBEYXRlKE51bWJlci5OYU4pO1xuICBpZiAoZGF0ZSA9PT0gdm9pZCAwKVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKTtcbiAgaWYgKGRhdGUgaW5zdGFuY2VvZiBEYXRlKVxuICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKTtcbiAgaWYgKHR5cGVvZiBkYXRlID09PSBcInN0cmluZ1wiICYmICEvWiQvaS50ZXN0KGRhdGUpKSB7XG4gICAgY29uc3QgZCA9IGRhdGUubWF0Y2goUkVHRVhfUEFSU0UpO1xuICAgIGlmIChkKSB7XG4gICAgICBjb25zdCBtID0gZFsyXSAtIDEgfHwgMDtcbiAgICAgIGNvbnN0IG1zID0gKGRbN10gfHwgXCIwXCIpLnN1YnN0cmluZygwLCAzKTtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkWzFdLCBtLCBkWzNdIHx8IDEsIGRbNF0gfHwgMCwgZFs1XSB8fCAwLCBkWzZdIHx8IDAsIG1zKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpO1xufVxuZnVuY3Rpb24gdXNlRGF0ZUZvcm1hdChkYXRlLCBmb3JtYXRTdHIgPSBcIkhIOm1tOnNzXCIsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gZm9ybWF0RGF0ZShub3JtYWxpemVEYXRlKHRvVmFsdWUkMShkYXRlKSksIHRvVmFsdWUkMShmb3JtYXRTdHIpLCBvcHRpb25zKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUludGVydmFsRm4oY2IsIGludGVydmFsID0gMWUzLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgaW1tZWRpYXRlQ2FsbGJhY2sgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgbGV0IHRpbWVyID0gbnVsbDtcbiAgY29uc3QgaXNBY3RpdmUgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgZnVuY3Rpb24gY2xlYW4oKSB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaXNBY3RpdmUudmFsdWUgPSBmYWxzZTtcbiAgICBjbGVhbigpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICBjb25zdCBpbnRlcnZhbFZhbHVlID0gdG9WYWx1ZSQxKGludGVydmFsKTtcbiAgICBpZiAoaW50ZXJ2YWxWYWx1ZSA8PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTtcbiAgICBpZiAoaW1tZWRpYXRlQ2FsbGJhY2spXG4gICAgICBjYigpO1xuICAgIGNsZWFuKCk7XG4gICAgaWYgKGlzQWN0aXZlLnZhbHVlKVxuICAgICAgdGltZXIgPSBzZXRJbnRlcnZhbChjYiwgaW50ZXJ2YWxWYWx1ZSk7XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSAmJiBpc0NsaWVudClcbiAgICByZXN1bWUoKTtcbiAgaWYgKGlzUmVmKGludGVydmFsKSB8fCB0eXBlb2YgaW50ZXJ2YWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGNvbnN0IHN0b3BXYXRjaCA9IHdhdGNoKGludGVydmFsLCAoKSA9PiB7XG4gICAgICBpZiAoaXNBY3RpdmUudmFsdWUgJiYgaXNDbGllbnQpXG4gICAgICAgIHJlc3VtZSgpO1xuICAgIH0pO1xuICAgIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3BXYXRjaCk7XG4gIH1cbiAgdHJ5T25TY29wZURpc3Bvc2UocGF1c2UpO1xuICByZXR1cm4ge1xuICAgIGlzQWN0aXZlLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VJbnRlcnZhbChpbnRlcnZhbCA9IDFlMywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGNhbGxiYWNrXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjb3VudGVyID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4gY291bnRlci52YWx1ZSArPSAxO1xuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBjb3VudGVyLnZhbHVlID0gMDtcbiAgfTtcbiAgY29uc3QgY29udHJvbHMgPSB1c2VJbnRlcnZhbEZuKFxuICAgIGNhbGxiYWNrID8gKCkgPT4ge1xuICAgICAgdXBkYXRlKCk7XG4gICAgICBjYWxsYmFjayhjb3VudGVyLnZhbHVlKTtcbiAgICB9IDogdXBkYXRlLFxuICAgIGludGVydmFsLFxuICAgIHsgaW1tZWRpYXRlIH1cbiAgKTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvdW50ZXIsXG4gICAgICByZXNldCxcbiAgICAgIC4uLmNvbnRyb2xzXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VMYXN0Q2hhbmdlZChzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IG1zID0gc2hhbGxvd1JlZigoX2EgPSBvcHRpb25zLmluaXRpYWxWYWx1ZSkgIT0gbnVsbCA/IF9hIDogbnVsbCk7XG4gIHdhdGNoKFxuICAgIHNvdXJjZSxcbiAgICAoKSA9PiBtcy52YWx1ZSA9IHRpbWVzdGFtcCgpLFxuICAgIG9wdGlvbnNcbiAgKTtcbiAgcmV0dXJuIG1zO1xufVxuXG5mdW5jdGlvbiB1c2VUaW1lb3V0Rm4oY2IsIGludGVydmFsLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgaW1tZWRpYXRlQ2FsbGJhY2sgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNQZW5kaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGxldCB0aW1lciA9IG51bGw7XG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBpc1BlbmRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICBjbGVhcigpO1xuICB9XG4gIGZ1bmN0aW9uIHN0YXJ0KC4uLmFyZ3MpIHtcbiAgICBpZiAoaW1tZWRpYXRlQ2FsbGJhY2spXG4gICAgICBjYigpO1xuICAgIGNsZWFyKCk7XG4gICAgaXNQZW5kaW5nLnZhbHVlID0gdHJ1ZTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaXNQZW5kaW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBjYiguLi5hcmdzKTtcbiAgICB9LCB0b1ZhbHVlJDEoaW50ZXJ2YWwpKTtcbiAgfVxuICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgaXNQZW5kaW5nLnZhbHVlID0gdHJ1ZTtcbiAgICBpZiAoaXNDbGllbnQpXG4gICAgICBzdGFydCgpO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3ApO1xuICByZXR1cm4ge1xuICAgIGlzUGVuZGluZzogcmVhZG9ubHkoaXNQZW5kaW5nKSxcbiAgICBzdGFydCxcbiAgICBzdG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRpbWVvdXQoaW50ZXJ2YWwgPSAxZTMsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY29udHJvbHM6IGV4cG9zZUNvbnRyb2xzID0gZmFsc2UsXG4gICAgY2FsbGJhY2tcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNvbnRyb2xzID0gdXNlVGltZW91dEZuKFxuICAgIGNhbGxiYWNrICE9IG51bGwgPyBjYWxsYmFjayA6IG5vb3AsXG4gICAgaW50ZXJ2YWwsXG4gICAgb3B0aW9uc1xuICApO1xuICBjb25zdCByZWFkeSA9IGNvbXB1dGVkKCgpID0+ICFjb250cm9scy5pc1BlbmRpbmcudmFsdWUpO1xuICBpZiAoZXhwb3NlQ29udHJvbHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVhZHksXG4gICAgICAuLi5jb250cm9sc1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlYWR5O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVRvTnVtYmVyKHZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG1ldGhvZCA9IFwicGFyc2VGbG9hdFwiLFxuICAgIHJhZGl4LFxuICAgIG5hblRvWmVyb1xuICB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBsZXQgcmVzb2x2ZWQgPSB0b1ZhbHVlJDEodmFsdWUpO1xuICAgIGlmICh0eXBlb2YgbWV0aG9kID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXNvbHZlZCA9IG1ldGhvZChyZXNvbHZlZCk7XG4gICAgZWxzZSBpZiAodHlwZW9mIHJlc29sdmVkID09PSBcInN0cmluZ1wiKVxuICAgICAgcmVzb2x2ZWQgPSBOdW1iZXJbbWV0aG9kXShyZXNvbHZlZCwgcmFkaXgpO1xuICAgIGlmIChuYW5Ub1plcm8gJiYgTnVtYmVyLmlzTmFOKHJlc29sdmVkKSlcbiAgICAgIHJlc29sdmVkID0gMDtcbiAgICByZXR1cm4gcmVzb2x2ZWQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gYCR7dG9WYWx1ZSQxKHZhbHVlKX1gKTtcbn1cblxuZnVuY3Rpb24gdXNlVG9nZ2xlKGluaXRpYWxWYWx1ZSA9IGZhbHNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHRydXRoeVZhbHVlID0gdHJ1ZSxcbiAgICBmYWxzeVZhbHVlID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHZhbHVlSXNSZWYgPSBpc1JlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCBfdmFsdWUgPSBzaGFsbG93UmVmKGluaXRpYWxWYWx1ZSk7XG4gIGZ1bmN0aW9uIHRvZ2dsZSh2YWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBfdmFsdWUudmFsdWUgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBfdmFsdWUudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHRydXRoeSA9IHRvVmFsdWUkMSh0cnV0aHlWYWx1ZSk7XG4gICAgICBfdmFsdWUudmFsdWUgPSBfdmFsdWUudmFsdWUgPT09IHRydXRoeSA/IHRvVmFsdWUkMShmYWxzeVZhbHVlKSA6IHRydXRoeTtcbiAgICAgIHJldHVybiBfdmFsdWUudmFsdWU7XG4gICAgfVxuICB9XG4gIGlmICh2YWx1ZUlzUmVmKVxuICAgIHJldHVybiB0b2dnbGU7XG4gIGVsc2VcbiAgICByZXR1cm4gW192YWx1ZSwgdG9nZ2xlXTtcbn1cblxuZnVuY3Rpb24gd2F0Y2hBcnJheShzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIGxldCBvbGRMaXN0ID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW1tZWRpYXRlKSA/IFtdIDogWy4uLnR5cGVvZiBzb3VyY2UgPT09IFwiZnVuY3Rpb25cIiA/IHNvdXJjZSgpIDogQXJyYXkuaXNBcnJheShzb3VyY2UpID8gc291cmNlIDogdG9WYWx1ZSQxKHNvdXJjZSldO1xuICByZXR1cm4gd2F0Y2goc291cmNlLCAobmV3TGlzdCwgXywgb25DbGVhbnVwKSA9PiB7XG4gICAgY29uc3Qgb2xkTGlzdFJlbWFpbnMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBvbGRMaXN0Lmxlbmd0aCB9KTtcbiAgICBjb25zdCBhZGRlZCA9IFtdO1xuICAgIGZvciAoY29uc3Qgb2JqIG9mIG5ld0xpc3QpIHtcbiAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghb2xkTGlzdFJlbWFpbnNbaV0gJiYgb2JqID09PSBvbGRMaXN0W2ldKSB7XG4gICAgICAgICAgb2xkTGlzdFJlbWFpbnNbaV0gPSB0cnVlO1xuICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFmb3VuZClcbiAgICAgICAgYWRkZWQucHVzaChvYmopO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVkID0gb2xkTGlzdC5maWx0ZXIoKF8yLCBpKSA9PiAhb2xkTGlzdFJlbWFpbnNbaV0pO1xuICAgIGNiKG5ld0xpc3QsIG9sZExpc3QsIGFkZGVkLCByZW1vdmVkLCBvbkNsZWFudXApO1xuICAgIG9sZExpc3QgPSBbLi4ubmV3TGlzdF07XG4gIH0sIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiB3YXRjaEF0TW9zdChzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBjb3VudCxcbiAgICAuLi53YXRjaE9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGN1cnJlbnQgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBzdG9wID0gd2F0Y2hXaXRoRmlsdGVyKFxuICAgIHNvdXJjZSxcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgY3VycmVudC52YWx1ZSArPSAxO1xuICAgICAgaWYgKGN1cnJlbnQudmFsdWUgPj0gdG9WYWx1ZSQxKGNvdW50KSlcbiAgICAgICAgbmV4dFRpY2soKCkgPT4gc3RvcCgpKTtcbiAgICAgIGNiKC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgd2F0Y2hPcHRpb25zXG4gICk7XG4gIHJldHVybiB7IGNvdW50OiBjdXJyZW50LCBzdG9wIH07XG59XG5cbmZ1bmN0aW9uIHdhdGNoRGVib3VuY2VkKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZGVib3VuY2UgPSAwLFxuICAgIG1heFdhaXQgPSB2b2lkIDAsXG4gICAgLi4ud2F0Y2hPcHRpb25zXG4gIH0gPSBvcHRpb25zO1xuICByZXR1cm4gd2F0Y2hXaXRoRmlsdGVyKFxuICAgIHNvdXJjZSxcbiAgICBjYixcbiAgICB7XG4gICAgICAuLi53YXRjaE9wdGlvbnMsXG4gICAgICBldmVudEZpbHRlcjogZGVib3VuY2VGaWx0ZXIoZGVib3VuY2UsIHsgbWF4V2FpdCB9KVxuICAgIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gd2F0Y2hEZWVwKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHdhdGNoKFxuICAgIHNvdXJjZSxcbiAgICBjYixcbiAgICB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgZGVlcDogdHJ1ZVxuICAgIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gd2F0Y2hJZ25vcmFibGUoc291cmNlLCBjYiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBldmVudEZpbHRlciA9IGJ5cGFzc0ZpbHRlcixcbiAgICAuLi53YXRjaE9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGZpbHRlcmVkQ2IgPSBjcmVhdGVGaWx0ZXJXcmFwcGVyKFxuICAgIGV2ZW50RmlsdGVyLFxuICAgIGNiXG4gICk7XG4gIGxldCBpZ25vcmVVcGRhdGVzO1xuICBsZXQgaWdub3JlUHJldkFzeW5jVXBkYXRlcztcbiAgbGV0IHN0b3A7XG4gIGlmICh3YXRjaE9wdGlvbnMuZmx1c2ggPT09IFwic3luY1wiKSB7XG4gICAgY29uc3QgaWdub3JlID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcyA9ICgpID0+IHtcbiAgICB9O1xuICAgIGlnbm9yZVVwZGF0ZXMgPSAodXBkYXRlcikgPT4ge1xuICAgICAgaWdub3JlLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZXIoKTtcbiAgICAgIGlnbm9yZS52YWx1ZSA9IGZhbHNlO1xuICAgIH07XG4gICAgc3RvcCA9IHdhdGNoKFxuICAgICAgc291cmNlLFxuICAgICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKCFpZ25vcmUudmFsdWUpXG4gICAgICAgICAgZmlsdGVyZWRDYiguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICB3YXRjaE9wdGlvbnNcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRpc3Bvc2FibGVzID0gW107XG4gICAgY29uc3QgaWdub3JlQ291bnRlciA9IHNoYWxsb3dSZWYoMCk7XG4gICAgY29uc3Qgc3luY0NvdW50ZXIgPSBzaGFsbG93UmVmKDApO1xuICAgIGlnbm9yZVByZXZBc3luY1VwZGF0ZXMgPSAoKSA9PiB7XG4gICAgICBpZ25vcmVDb3VudGVyLnZhbHVlID0gc3luY0NvdW50ZXIudmFsdWU7XG4gICAgfTtcbiAgICBkaXNwb3NhYmxlcy5wdXNoKFxuICAgICAgd2F0Y2goXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHN5bmNDb3VudGVyLnZhbHVlKys7XG4gICAgICAgIH0sXG4gICAgICAgIHsgLi4ud2F0Y2hPcHRpb25zLCBmbHVzaDogXCJzeW5jXCIgfVxuICAgICAgKVxuICAgICk7XG4gICAgaWdub3JlVXBkYXRlcyA9ICh1cGRhdGVyKSA9PiB7XG4gICAgICBjb25zdCBzeW5jQ291bnRlclByZXYgPSBzeW5jQ291bnRlci52YWx1ZTtcbiAgICAgIHVwZGF0ZXIoKTtcbiAgICAgIGlnbm9yZUNvdW50ZXIudmFsdWUgKz0gc3luY0NvdW50ZXIudmFsdWUgLSBzeW5jQ291bnRlclByZXY7XG4gICAgfTtcbiAgICBkaXNwb3NhYmxlcy5wdXNoKFxuICAgICAgd2F0Y2goXG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICBjb25zdCBpZ25vcmUgPSBpZ25vcmVDb3VudGVyLnZhbHVlID4gMCAmJiBpZ25vcmVDb3VudGVyLnZhbHVlID09PSBzeW5jQ291bnRlci52YWx1ZTtcbiAgICAgICAgICBpZ25vcmVDb3VudGVyLnZhbHVlID0gMDtcbiAgICAgICAgICBzeW5jQ291bnRlci52YWx1ZSA9IDA7XG4gICAgICAgICAgaWYgKGlnbm9yZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBmaWx0ZXJlZENiKC4uLmFyZ3MpO1xuICAgICAgICB9LFxuICAgICAgICB3YXRjaE9wdGlvbnNcbiAgICAgIClcbiAgICApO1xuICAgIHN0b3AgPSAoKSA9PiB7XG4gICAgICBkaXNwb3NhYmxlcy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4geyBzdG9wLCBpZ25vcmVVcGRhdGVzLCBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzIH07XG59XG5cbmZ1bmN0aW9uIHdhdGNoSW1tZWRpYXRlKHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHdhdGNoKFxuICAgIHNvdXJjZSxcbiAgICBjYixcbiAgICB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiB3YXRjaE9uY2Uoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBjb25zdCBzdG9wID0gd2F0Y2goc291cmNlLCAoLi4uYXJncykgPT4ge1xuICAgIG5leHRUaWNrKCgpID0+IHN0b3AoKSk7XG4gICAgcmV0dXJuIGNiKC4uLmFyZ3MpO1xuICB9LCBvcHRpb25zKTtcbiAgcmV0dXJuIHN0b3A7XG59XG5cbmZ1bmN0aW9uIHdhdGNoVGhyb3R0bGVkKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGhyb3R0bGUgPSAwLFxuICAgIHRyYWlsaW5nID0gdHJ1ZSxcbiAgICBsZWFkaW5nID0gdHJ1ZSxcbiAgICAuLi53YXRjaE9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIHJldHVybiB3YXRjaFdpdGhGaWx0ZXIoXG4gICAgc291cmNlLFxuICAgIGNiLFxuICAgIHtcbiAgICAgIC4uLndhdGNoT3B0aW9ucyxcbiAgICAgIGV2ZW50RmlsdGVyOiB0aHJvdHRsZUZpbHRlcih0aHJvdHRsZSwgdHJhaWxpbmcsIGxlYWRpbmcpXG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiB3YXRjaFRyaWdnZXJhYmxlKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgY2xlYW51cEZuO1xuICBmdW5jdGlvbiBvbkVmZmVjdCgpIHtcbiAgICBpZiAoIWNsZWFudXBGbilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBmbiA9IGNsZWFudXBGbjtcbiAgICBjbGVhbnVwRm4gPSB2b2lkIDA7XG4gICAgZm4oKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNsZWFudXAoY2FsbGJhY2spIHtcbiAgICBjbGVhbnVwRm4gPSBjYWxsYmFjaztcbiAgfVxuICBjb25zdCBfY2IgPSAodmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgb25FZmZlY3QoKTtcbiAgICByZXR1cm4gY2IodmFsdWUsIG9sZFZhbHVlLCBvbkNsZWFudXApO1xuICB9O1xuICBjb25zdCByZXMgPSB3YXRjaElnbm9yYWJsZShzb3VyY2UsIF9jYiwgb3B0aW9ucyk7XG4gIGNvbnN0IHsgaWdub3JlVXBkYXRlcyB9ID0gcmVzO1xuICBjb25zdCB0cmlnZ2VyID0gKCkgPT4ge1xuICAgIGxldCByZXMyO1xuICAgIGlnbm9yZVVwZGF0ZXMoKCkgPT4ge1xuICAgICAgcmVzMiA9IF9jYihnZXRXYXRjaFNvdXJjZXMoc291cmNlKSwgZ2V0T2xkVmFsdWUoc291cmNlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlczI7XG4gIH07XG4gIHJldHVybiB7XG4gICAgLi4ucmVzLFxuICAgIHRyaWdnZXJcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFdhdGNoU291cmNlcyhzb3VyY2VzKSB7XG4gIGlmIChpc1JlYWN0aXZlKHNvdXJjZXMpKVxuICAgIHJldHVybiBzb3VyY2VzO1xuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VzKSlcbiAgICByZXR1cm4gc291cmNlcy5tYXAoKGl0ZW0pID0+IHRvVmFsdWUkMShpdGVtKSk7XG4gIHJldHVybiB0b1ZhbHVlJDEoc291cmNlcyk7XG59XG5mdW5jdGlvbiBnZXRPbGRWYWx1ZShzb3VyY2UpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc291cmNlKSA/IHNvdXJjZS5tYXAoKCkgPT4gdm9pZCAwKSA6IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gd2hlbmV2ZXIoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBjb25zdCBzdG9wID0gd2F0Y2goXG4gICAgc291cmNlLFxuICAgICh2LCBvdiwgb25JbnZhbGlkYXRlKSA9PiB7XG4gICAgICBpZiAodikge1xuICAgICAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vbmNlKVxuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHN0b3AoKSk7XG4gICAgICAgIGNiKHYsIG92LCBvbkludmFsaWRhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIG9uY2U6IGZhbHNlXG4gICAgfVxuICApO1xuICByZXR1cm4gc3RvcDtcbn1cblxuZXhwb3J0IHsgYXNzZXJ0LCByZWZBdXRvUmVzZXQgYXMgYXV0b1Jlc2V0UmVmLCBieXBhc3NGaWx0ZXIsIGNhbWVsaXplLCBjbGFtcCwgY29tcHV0ZWRFYWdlciwgY29tcHV0ZWRXaXRoQ29udHJvbCwgY29udGFpbnNQcm9wLCBjb21wdXRlZFdpdGhDb250cm9sIGFzIGNvbnRyb2xsZWRDb21wdXRlZCwgY29udHJvbGxlZFJlZiwgY3JlYXRlRXZlbnRIb29rLCBjcmVhdGVGaWx0ZXJXcmFwcGVyLCBjcmVhdGVHbG9iYWxTdGF0ZSwgY3JlYXRlSW5qZWN0aW9uU3RhdGUsIHJlYWN0aWZ5IGFzIGNyZWF0ZVJlYWN0aXZlRm4sIGNyZWF0ZVJlZiwgY3JlYXRlU2hhcmVkQ29tcG9zYWJsZSwgY3JlYXRlU2luZ2xldG9uUHJvbWlzZSwgZGVib3VuY2VGaWx0ZXIsIHJlZkRlYm91bmNlZCBhcyBkZWJvdW5jZWRSZWYsIHdhdGNoRGVib3VuY2VkIGFzIGRlYm91bmNlZFdhdGNoLCBjb21wdXRlZEVhZ2VyIGFzIGVhZ2VyQ29tcHV0ZWQsIGV4dGVuZFJlZiwgZm9ybWF0RGF0ZSwgZ2V0LCBnZXRMaWZlQ3ljbGVUYXJnZXQsIGhhc093biwgaHlwaGVuYXRlLCBpZGVudGl0eSwgd2F0Y2hJZ25vcmFibGUgYXMgaWdub3JhYmxlV2F0Y2gsIGluY3JlYXNlV2l0aFVuaXQsIGluamVjdExvY2FsLCBpbnZva2UsIGlzQ2xpZW50LCBpc0RlZiwgaXNEZWZpbmVkLCBpc0lPUywgaXNPYmplY3QsIGlzV29ya2VyLCBtYWtlRGVzdHJ1Y3R1cmFibGUsIG5vb3AsIG5vcm1hbGl6ZURhdGUsIG5vdE51bGxpc2gsIG5vdywgb2JqZWN0RW50cmllcywgb2JqZWN0T21pdCwgb2JqZWN0UGljaywgcGF1c2FibGVGaWx0ZXIsIHdhdGNoUGF1c2FibGUgYXMgcGF1c2FibGVXYXRjaCwgcHJvbWlzZVRpbWVvdXQsIHByb3ZpZGVMb2NhbCwgcHhWYWx1ZSwgcmFuZCwgcmVhY3RpZnksIHJlYWN0aWZ5T2JqZWN0LCByZWFjdGl2ZUNvbXB1dGVkLCByZWFjdGl2ZU9taXQsIHJlYWN0aXZlUGljaywgcmVmQXV0b1Jlc2V0LCByZWZEZWJvdW5jZWQsIHJlZkRlZmF1bHQsIHJlZlRocm90dGxlZCwgcmVmV2l0aENvbnRyb2wsIHJlc29sdmVSZWYsIHJlc29sdmVVbnJlZiwgc2V0LCBzeW5jUmVmLCBzeW5jUmVmcywgdGhyb3R0bGVGaWx0ZXIsIHJlZlRocm90dGxlZCBhcyB0aHJvdHRsZWRSZWYsIHdhdGNoVGhyb3R0bGVkIGFzIHRocm90dGxlZFdhdGNoLCB0aW1lc3RhbXAsIHRvQXJyYXksIHRvUmVhY3RpdmUsIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyeU9uQmVmb3JlTW91bnQsIHRyeU9uQmVmb3JlVW5tb3VudCwgdHJ5T25Nb3VudGVkLCB0cnlPblNjb3BlRGlzcG9zZSwgdHJ5T25Vbm1vdW50ZWQsIHVudGlsLCB1c2VBcnJheURpZmZlcmVuY2UsIHVzZUFycmF5RXZlcnksIHVzZUFycmF5RmlsdGVyLCB1c2VBcnJheUZpbmQsIHVzZUFycmF5RmluZEluZGV4LCB1c2VBcnJheUZpbmRMYXN0LCB1c2VBcnJheUluY2x1ZGVzLCB1c2VBcnJheUpvaW4sIHVzZUFycmF5TWFwLCB1c2VBcnJheVJlZHVjZSwgdXNlQXJyYXlTb21lLCB1c2VBcnJheVVuaXF1ZSwgdXNlQ291bnRlciwgdXNlRGF0ZUZvcm1hdCwgcmVmRGVib3VuY2VkIGFzIHVzZURlYm91bmNlLCB1c2VEZWJvdW5jZUZuLCB1c2VJbnRlcnZhbCwgdXNlSW50ZXJ2YWxGbiwgdXNlTGFzdENoYW5nZWQsIHJlZlRocm90dGxlZCBhcyB1c2VUaHJvdHRsZSwgdXNlVGhyb3R0bGVGbiwgdXNlVGltZW91dCwgdXNlVGltZW91dEZuLCB1c2VUb051bWJlciwgdXNlVG9TdHJpbmcsIHVzZVRvZ2dsZSwgd2F0Y2hBcnJheSwgd2F0Y2hBdE1vc3QsIHdhdGNoRGVib3VuY2VkLCB3YXRjaERlZXAsIHdhdGNoSWdub3JhYmxlLCB3YXRjaEltbWVkaWF0ZSwgd2F0Y2hPbmNlLCB3YXRjaFBhdXNhYmxlLCB3YXRjaFRocm90dGxlZCwgd2F0Y2hUcmlnZ2VyYWJsZSwgd2F0Y2hXaXRoRmlsdGVyLCB3aGVuZXZlciB9O1xuIiwiaW1wb3J0IHsgbm9vcCwgbWFrZURlc3RydWN0dXJhYmxlLCBjYW1lbGl6ZSwgaXNDbGllbnQsIHRvQXJyYXksIHdhdGNoSW1tZWRpYXRlLCBpc09iamVjdCwgdHJ5T25TY29wZURpc3Bvc2UsIGlzSU9TLCBub3ROdWxsaXNoLCB0cnlPbk1vdW50ZWQsIG9iamVjdE9taXQsIHByb21pc2VUaW1lb3V0LCB1bnRpbCwgaW5qZWN0TG9jYWwsIHByb3ZpZGVMb2NhbCwgcHhWYWx1ZSwgaW5jcmVhc2VXaXRoVW5pdCwgb2JqZWN0RW50cmllcywgY3JlYXRlUmVmLCBjcmVhdGVTaW5nbGV0b25Qcm9taXNlLCB1c2VUaW1lb3V0Rm4sIHBhdXNhYmxlV2F0Y2gsIHRvUmVmLCBjcmVhdGVFdmVudEhvb2ssIHVzZUludGVydmFsRm4sIGNvbXB1dGVkV2l0aENvbnRyb2wsIHRpbWVzdGFtcCwgcGF1c2FibGVGaWx0ZXIsIHdhdGNoSWdub3JhYmxlLCBkZWJvdW5jZUZpbHRlciwgYnlwYXNzRmlsdGVyLCBjcmVhdGVGaWx0ZXJXcmFwcGVyLCB0b1JlZnMsIHdhdGNoT25jZSwgY29udGFpbnNQcm9wLCBoYXNPd24sIHRocm90dGxlRmlsdGVyLCB1c2VEZWJvdW5jZUZuLCB1c2VUaHJvdHRsZUZuLCB0cnlPblVubW91bnRlZCwgY2xhbXAsIHN5bmNSZWYsIG9iamVjdFBpY2ssIHdhdGNoV2l0aEZpbHRlciwgaWRlbnRpdHksIGlzRGVmLCB3aGVuZXZlciwgaXNXb3JrZXIgfSBmcm9tICdAdnVldXNlL3NoYXJlZCc7XG5leHBvcnQgKiBmcm9tICdAdnVldXNlL3NoYXJlZCc7XG5pbXBvcnQgeyBpc1JlZiwgc2hhbGxvd1JlZiwgcmVmLCB3YXRjaEVmZmVjdCwgY29tcHV0ZWQsIGluamVjdCwgZGVmaW5lQ29tcG9uZW50LCBoLCBUcmFuc2l0aW9uR3JvdXAsIHNoYWxsb3dSZWFjdGl2ZSwgRnJhZ21lbnQsIHRvVmFsdWUsIHVucmVmLCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uTW91bnRlZCwgd2F0Y2gsIGN1c3RvbVJlZiwgb25VcGRhdGVkLCByZWFkb25seSwgcmVhY3RpdmUsIGhhc0luamVjdGlvbkNvbnRleHQsIHRvUmF3LCBuZXh0VGljaywgbWFya1JhdywgZ2V0Q3VycmVudFNjb3BlLCBpc1JlYWRvbmx5LCBvbkJlZm9yZVVwZGF0ZSB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIGNvbXB1dGVkQXN5bmMoZXZhbHVhdGlvbkNhbGxiYWNrLCBpbml0aWFsU3RhdGUsIG9wdGlvbnNPclJlZikge1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKGlzUmVmKG9wdGlvbnNPclJlZikpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgZXZhbHVhdGluZzogb3B0aW9uc09yUmVmXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gb3B0aW9uc09yUmVmIHx8IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsYXp5ID0gZmFsc2UsXG4gICAgZXZhbHVhdGluZyA9IHZvaWQgMCxcbiAgICBzaGFsbG93ID0gdHJ1ZSxcbiAgICBvbkVycm9yID0gbm9vcFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc3RhcnRlZCA9IHNoYWxsb3dSZWYoIWxhenkpO1xuICBjb25zdCBjdXJyZW50ID0gc2hhbGxvdyA/IHNoYWxsb3dSZWYoaW5pdGlhbFN0YXRlKSA6IHJlZihpbml0aWFsU3RhdGUpO1xuICBsZXQgY291bnRlciA9IDA7XG4gIHdhdGNoRWZmZWN0KGFzeW5jIChvbkludmFsaWRhdGUpID0+IHtcbiAgICBpZiAoIXN0YXJ0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgY291bnRlcisrO1xuICAgIGNvbnN0IGNvdW50ZXJBdEJlZ2lubmluZyA9IGNvdW50ZXI7XG4gICAgbGV0IGhhc0ZpbmlzaGVkID0gZmFsc2U7XG4gICAgaWYgKGV2YWx1YXRpbmcpIHtcbiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBldmFsdWF0aW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXZhbHVhdGlvbkNhbGxiYWNrKChjYW5jZWxDYWxsYmFjaykgPT4ge1xuICAgICAgICBvbkludmFsaWRhdGUoKCkgPT4ge1xuICAgICAgICAgIGlmIChldmFsdWF0aW5nKVxuICAgICAgICAgICAgZXZhbHVhdGluZy52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgIGlmICghaGFzRmluaXNoZWQpXG4gICAgICAgICAgICBjYW5jZWxDYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGNvdW50ZXJBdEJlZ2lubmluZyA9PT0gY291bnRlcilcbiAgICAgICAgY3VycmVudC52YWx1ZSA9IHJlc3VsdDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoZXZhbHVhdGluZyAmJiBjb3VudGVyQXRCZWdpbm5pbmcgPT09IGNvdW50ZXIpXG4gICAgICAgIGV2YWx1YXRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgIGhhc0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuICBpZiAobGF6eSkge1xuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBzdGFydGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBjdXJyZW50LnZhbHVlO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkSW5qZWN0KGtleSwgb3B0aW9ucywgZGVmYXVsdFNvdXJjZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5KSB7XG4gIGxldCBzb3VyY2UgPSBpbmplY3Qoa2V5KTtcbiAgaWYgKGRlZmF1bHRTb3VyY2UpXG4gICAgc291cmNlID0gaW5qZWN0KGtleSwgZGVmYXVsdFNvdXJjZSk7XG4gIGlmICh0cmVhdERlZmF1bHRBc0ZhY3RvcnkpXG4gICAgc291cmNlID0gaW5qZWN0KGtleSwgZGVmYXVsdFNvdXJjZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5KTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoKGN0eCkgPT4gb3B0aW9ucyhzb3VyY2UsIGN0eCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wdXRlZCh7XG4gICAgICBnZXQ6IChjdHgpID0+IG9wdGlvbnMuZ2V0KHNvdXJjZSwgY3R4KSxcbiAgICAgIHNldDogb3B0aW9ucy5zZXRcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVSZXVzYWJsZVRlbXBsYXRlKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW5oZXJpdEF0dHJzID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVuZGVyID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBkZWZpbmUgPSAvKkBfX1BVUkVfXyovIGRlZmluZUNvbXBvbmVudCh7XG4gICAgc2V0dXAoXywgeyBzbG90cyB9KSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZW5kZXIudmFsdWUgPSBzbG90cy5kZWZhdWx0O1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZXVzZSA9IC8qQF9fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBpbmhlcml0QXR0cnMsXG4gICAgcHJvcHM6IG9wdGlvbnMucHJvcHMsXG4gICAgc2V0dXAocHJvcHMsIHsgYXR0cnMsIHNsb3RzIH0pIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFyZW5kZXIudmFsdWUgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltWdWVVc2VdIEZhaWxlZCB0byBmaW5kIHRoZSBkZWZpbml0aW9uIG9mIHJldXNhYmxlIHRlbXBsYXRlXCIpO1xuICAgICAgICBjb25zdCB2bm9kZSA9IChfYSA9IHJlbmRlci52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucy5wcm9wcyA9PSBudWxsID8ga2V5c1RvQ2FtZWxLZWJhYkNhc2UoYXR0cnMpIDogcHJvcHMsXG4gICAgICAgICAgJHNsb3RzOiBzbG90c1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGluaGVyaXRBdHRycyAmJiAodm5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IHZub2RlLmxlbmd0aCkgPT09IDEgPyB2bm9kZVswXSA6IHZub2RlO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWFrZURlc3RydWN0dXJhYmxlKFxuICAgIHsgZGVmaW5lLCByZXVzZSB9LFxuICAgIFtkZWZpbmUsIHJldXNlXVxuICApO1xufVxuZnVuY3Rpb24ga2V5c1RvQ2FtZWxLZWJhYkNhc2Uob2JqKSB7XG4gIGNvbnN0IG5ld09iaiA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopXG4gICAgbmV3T2JqW2NhbWVsaXplKGtleSldID0gb2JqW2tleV07XG4gIHJldHVybiBuZXdPYmo7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRlUHJvbWlzZShvcHRpb25zID0ge30pIHtcbiAgbGV0IGluZGV4ID0gMDtcbiAgY29uc3QgaW5zdGFuY2VzID0gcmVmKFtdKTtcbiAgZnVuY3Rpb24gY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBwcm9wcyA9IHNoYWxsb3dSZWFjdGl2ZSh7XG4gICAgICBrZXk6IGluZGV4KyssXG4gICAgICBhcmdzLFxuICAgICAgcHJvbWlzZTogdm9pZCAwLFxuICAgICAgcmVzb2x2ZTogKCkgPT4ge1xuICAgICAgfSxcbiAgICAgIHJlamVjdDogKCkgPT4ge1xuICAgICAgfSxcbiAgICAgIGlzUmVzb2x2aW5nOiBmYWxzZSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgICBpbnN0YW5jZXMudmFsdWUucHVzaChwcm9wcyk7XG4gICAgcHJvcHMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChfcmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgcHJvcHMucmVzb2x2ZSA9ICh2KSA9PiB7XG4gICAgICAgIHByb3BzLmlzUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF9yZXNvbHZlKHYpO1xuICAgICAgfTtcbiAgICAgIHByb3BzLnJlamVjdCA9IF9yZWplY3Q7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9wcy5wcm9taXNlID0gdm9pZCAwO1xuICAgICAgY29uc3QgaW5kZXgyID0gaW5zdGFuY2VzLnZhbHVlLmluZGV4T2YocHJvcHMpO1xuICAgICAgaWYgKGluZGV4MiAhPT0gLTEpXG4gICAgICAgIGluc3RhbmNlcy52YWx1ZS5zcGxpY2UoaW5kZXgyLCAxKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvcHMucHJvbWlzZTtcbiAgfVxuICBmdW5jdGlvbiBzdGFydCguLi5hcmdzKSB7XG4gICAgaWYgKG9wdGlvbnMuc2luZ2xldG9uICYmIGluc3RhbmNlcy52YWx1ZS5sZW5ndGggPiAwKVxuICAgICAgcmV0dXJuIGluc3RhbmNlcy52YWx1ZVswXS5wcm9taXNlO1xuICAgIHJldHVybiBjcmVhdGUoLi4uYXJncyk7XG4gIH1cbiAgY29uc3QgY29tcG9uZW50ID0gLypAX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoKF8sIHsgc2xvdHMgfSkgPT4ge1xuICAgIGNvbnN0IHJlbmRlckxpc3QgPSAoKSA9PiBpbnN0YW5jZXMudmFsdWUubWFwKChwcm9wcykgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIGgoRnJhZ21lbnQsIHsga2V5OiBwcm9wcy5rZXkgfSwgKF9hID0gc2xvdHMuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoc2xvdHMsIHByb3BzKSk7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbilcbiAgICAgIHJldHVybiAoKSA9PiBoKFRyYW5zaXRpb25Hcm91cCwgb3B0aW9ucy50cmFuc2l0aW9uLCByZW5kZXJMaXN0KTtcbiAgICByZXR1cm4gcmVuZGVyTGlzdDtcbiAgfSk7XG4gIGNvbXBvbmVudC5zdGFydCA9IHN0YXJ0O1xuICByZXR1cm4gY29tcG9uZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVbnJlZkZuKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MubWFwKChpKSA9PiB0b1ZhbHVlKGkpKSk7XG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRXaW5kb3cgPSBpc0NsaWVudCA/IHdpbmRvdyA6IHZvaWQgMDtcbmNvbnN0IGRlZmF1bHREb2N1bWVudCA9IGlzQ2xpZW50ID8gd2luZG93LmRvY3VtZW50IDogdm9pZCAwO1xuY29uc3QgZGVmYXVsdE5hdmlnYXRvciA9IGlzQ2xpZW50ID8gd2luZG93Lm5hdmlnYXRvciA6IHZvaWQgMDtcbmNvbnN0IGRlZmF1bHRMb2NhdGlvbiA9IGlzQ2xpZW50ID8gd2luZG93LmxvY2F0aW9uIDogdm9pZCAwO1xuXG5mdW5jdGlvbiB1bnJlZkVsZW1lbnQoZWxSZWYpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBwbGFpbiA9IHRvVmFsdWUoZWxSZWYpO1xuICByZXR1cm4gKF9hID0gcGxhaW4gPT0gbnVsbCA/IHZvaWQgMCA6IHBsYWluLiRlbCkgIT0gbnVsbCA/IF9hIDogcGxhaW47XG59XG5cbmZ1bmN0aW9uIHVzZUV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICBjb25zdCBjbGVhbnVwcyA9IFtdO1xuICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICBjbGVhbnVwcy5sZW5ndGggPSAwO1xuICB9O1xuICBjb25zdCByZWdpc3RlciA9IChlbCwgZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gIH07XG4gIGNvbnN0IGZpcnN0UGFyYW1UYXJnZXRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IHRlc3QgPSB0b0FycmF5KHRvVmFsdWUoYXJnc1swXSkpLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKTtcbiAgICByZXR1cm4gdGVzdC5ldmVyeSgoZSkgPT4gdHlwZW9mIGUgIT09IFwic3RyaW5nXCIpID8gdGVzdCA6IHZvaWQgMDtcbiAgfSk7XG4gIGNvbnN0IHN0b3BXYXRjaCA9IHdhdGNoSW1tZWRpYXRlKFxuICAgICgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAoX2IgPSAoX2EgPSBmaXJzdFBhcmFtVGFyZ2V0cy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1hcCgoZSkgPT4gdW5yZWZFbGVtZW50KGUpKSkgIT0gbnVsbCA/IF9iIDogW2RlZmF1bHRXaW5kb3ddLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKSxcbiAgICAgICAgdG9BcnJheSh0b1ZhbHVlKGZpcnN0UGFyYW1UYXJnZXRzLnZhbHVlID8gYXJnc1sxXSA6IGFyZ3NbMF0pKSxcbiAgICAgICAgdG9BcnJheSh1bnJlZihmaXJzdFBhcmFtVGFyZ2V0cy52YWx1ZSA/IGFyZ3NbMl0gOiBhcmdzWzFdKSksXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUeXBlU2NyaXB0IGdldHMgdGhlIGNvcnJlY3QgdHlwZXMsIGJ1dCBzb21laG93IHN0aWxsIGNvbXBsYWluc1xuICAgICAgICB0b1ZhbHVlKGZpcnN0UGFyYW1UYXJnZXRzLnZhbHVlID8gYXJnc1szXSA6IGFyZ3NbMl0pXG4gICAgICBdO1xuICAgIH0sXG4gICAgKFtyYXdfdGFyZ2V0cywgcmF3X2V2ZW50cywgcmF3X2xpc3RlbmVycywgcmF3X29wdGlvbnNdKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBpZiAoIShyYXdfdGFyZ2V0cyA9PSBudWxsID8gdm9pZCAwIDogcmF3X3RhcmdldHMubGVuZ3RoKSB8fCAhKHJhd19ldmVudHMgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd19ldmVudHMubGVuZ3RoKSB8fCAhKHJhd19saXN0ZW5lcnMgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd19saXN0ZW5lcnMubGVuZ3RoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3Qgb3B0aW9uc0Nsb25lID0gaXNPYmplY3QocmF3X29wdGlvbnMpID8geyAuLi5yYXdfb3B0aW9ucyB9IDogcmF3X29wdGlvbnM7XG4gICAgICBjbGVhbnVwcy5wdXNoKFxuICAgICAgICAuLi5yYXdfdGFyZ2V0cy5mbGF0TWFwKFxuICAgICAgICAgIChlbCkgPT4gcmF3X2V2ZW50cy5mbGF0TWFwKFxuICAgICAgICAgICAgKGV2ZW50KSA9PiByYXdfbGlzdGVuZXJzLm1hcCgobGlzdGVuZXIpID0+IHJlZ2lzdGVyKGVsLCBldmVudCwgbGlzdGVuZXIsIG9wdGlvbnNDbG9uZSkpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG4gICAgeyBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN0b3BXYXRjaCgpO1xuICAgIGNsZWFudXAoKTtcbiAgfTtcbiAgdHJ5T25TY29wZURpc3Bvc2UoY2xlYW51cCk7XG4gIHJldHVybiBzdG9wO1xufVxuXG5sZXQgX2lPU1dvcmthcm91bmQgPSBmYWxzZTtcbmZ1bmN0aW9uIG9uQ2xpY2tPdXRzaWRlKHRhcmdldCwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgaWdub3JlID0gW10sIGNhcHR1cmUgPSB0cnVlLCBkZXRlY3RJZnJhbWUgPSBmYWxzZSwgY29udHJvbHMgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpIHtcbiAgICByZXR1cm4gY29udHJvbHMgPyB7IHN0b3A6IG5vb3AsIGNhbmNlbDogbm9vcCwgdHJpZ2dlcjogbm9vcCB9IDogbm9vcDtcbiAgfVxuICBpZiAoaXNJT1MgJiYgIV9pT1NXb3JrYXJvdW5kKSB7XG4gICAgX2lPU1dvcmthcm91bmQgPSB0cnVlO1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIEFycmF5LmZyb20od2luZG93LmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pLmZvckVhY2goKGVsKSA9PiB1c2VFdmVudExpc3RlbmVyKGVsLCBcImNsaWNrXCIsIG5vb3AsIGxpc3RlbmVyT3B0aW9ucykpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgXCJjbGlja1wiLCBub29wLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIGxldCBzaG91bGRMaXN0ZW4gPSB0cnVlO1xuICBjb25zdCBzaG91bGRJZ25vcmUgPSAoZXZlbnQpID0+IHtcbiAgICByZXR1cm4gdG9WYWx1ZShpZ25vcmUpLnNvbWUoKHRhcmdldDIpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgdGFyZ2V0MiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0YXJnZXQyKSkuc29tZSgoZWwpID0+IGVsID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoZWwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldDIpO1xuICAgICAgICByZXR1cm4gZWwgJiYgKGV2ZW50LnRhcmdldCA9PT0gZWwgfHwgZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoZWwpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZnVuY3Rpb24gaGFzTXVsdGlwbGVSb290cyh0YXJnZXQyKSB7XG4gICAgY29uc3Qgdm0gPSB0b1ZhbHVlKHRhcmdldDIpO1xuICAgIHJldHVybiB2bSAmJiB2bS4kLnN1YlRyZWUuc2hhcGVGbGFnID09PSAxNjtcbiAgfVxuICBmdW5jdGlvbiBjaGVja011bHRpcGxlUm9vdHModGFyZ2V0MiwgZXZlbnQpIHtcbiAgICBjb25zdCB2bSA9IHRvVmFsdWUodGFyZ2V0Mik7XG4gICAgY29uc3QgY2hpbGRyZW4gPSB2bS4kLnN1YlRyZWUgJiYgdm0uJC5zdWJUcmVlLmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbiA9PSBudWxsIHx8ICFBcnJheS5pc0FycmF5KGNoaWxkcmVuKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gY2hpbGRyZW4uc29tZSgoY2hpbGQpID0+IGNoaWxkLmVsID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoY2hpbGQuZWwpKTtcbiAgfVxuICBjb25zdCBsaXN0ZW5lciA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PSBudWxsKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghKGVsIGluc3RhbmNlb2YgRWxlbWVudCkgJiYgaGFzTXVsdGlwbGVSb290cyh0YXJnZXQpICYmIGNoZWNrTXVsdGlwbGVSb290cyh0YXJnZXQsIGV2ZW50KSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIWVsIHx8IGVsID09PSBldmVudC50YXJnZXQgfHwgZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoZWwpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChcImRldGFpbFwiIGluIGV2ZW50ICYmIGV2ZW50LmRldGFpbCA9PT0gMClcbiAgICAgIHNob3VsZExpc3RlbiA9ICFzaG91bGRJZ25vcmUoZXZlbnQpO1xuICAgIGlmICghc2hvdWxkTGlzdGVuKSB7XG4gICAgICBzaG91bGRMaXN0ZW4gPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYW5kbGVyKGV2ZW50KTtcbiAgfTtcbiAgbGV0IGlzUHJvY2Vzc2luZ0NsaWNrID0gZmFsc2U7XG4gIGNvbnN0IGNsZWFudXAgPSBbXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoIWlzUHJvY2Vzc2luZ0NsaWNrKSB7XG4gICAgICAgIGlzUHJvY2Vzc2luZ0NsaWNrID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgaXNQcm9jZXNzaW5nQ2xpY2sgPSBmYWxzZTtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9LCB7IHBhc3NpdmU6IHRydWUsIGNhcHR1cmUgfSksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwicG9pbnRlcmRvd25cIiwgKGUpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgICBzaG91bGRMaXN0ZW4gPSAhc2hvdWxkSWdub3JlKGUpICYmICEhKGVsICYmICFlLmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGVsKSk7XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pLFxuICAgIGRldGVjdElmcmFtZSAmJiB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJibHVyXCIsIChldmVudCkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZWwgPSB1bnJlZkVsZW1lbnQodGFyZ2V0KTtcbiAgICAgICAgaWYgKCgoX2EgPSB3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRhZ05hbWUpID09PSBcIklGUkFNRVwiICYmICEoZWwgPT0gbnVsbCA/IHZvaWQgMCA6IGVsLmNvbnRhaW5zKHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50KSkpIHtcbiAgICAgICAgICBoYW5kbGVyKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSwgMCk7XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xuICBjb25zdCBzdG9wID0gKCkgPT4gY2xlYW51cC5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gIGlmIChjb250cm9scykge1xuICAgIHJldHVybiB7XG4gICAgICBzdG9wLFxuICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgIHNob3VsZExpc3RlbiA9IGZhbHNlO1xuICAgICAgfSxcbiAgICAgIHRyaWdnZXI6IChldmVudCkgPT4ge1xuICAgICAgICBzaG91bGRMaXN0ZW4gPSB0cnVlO1xuICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgIHNob3VsZExpc3RlbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHN0b3A7XG59XG5cbmZ1bmN0aW9uIHVzZU1vdW50ZWQoKSB7XG4gIGNvbnN0IGlzTW91bnRlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoaW5zdGFuY2UpIHtcbiAgICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgICAgaXNNb3VudGVkLnZhbHVlID0gdHJ1ZTtcbiAgICB9LCBpbnN0YW5jZSk7XG4gIH1cbiAgcmV0dXJuIGlzTW91bnRlZDtcbn1cblxuZnVuY3Rpb24gdXNlU3VwcG9ydGVkKGNhbGxiYWNrKSB7XG4gIGNvbnN0IGlzTW91bnRlZCA9IHVzZU1vdW50ZWQoKTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBpc01vdW50ZWQudmFsdWU7XG4gICAgcmV0dXJuIEJvb2xlYW4oY2FsbGJhY2soKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKHRhcmdldCwgY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csIC4uLm11dGF0aW9uT3B0aW9ucyB9ID0gb3B0aW9ucztcbiAgbGV0IG9ic2VydmVyO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJNdXRhdGlvbk9ic2VydmVyXCIgaW4gd2luZG93KTtcbiAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIG9ic2VydmVyID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdGFyZ2V0cyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHRvVmFsdWUodGFyZ2V0KTtcbiAgICBjb25zdCBpdGVtcyA9IHRvQXJyYXkodmFsdWUpLm1hcCh1bnJlZkVsZW1lbnQpLmZpbHRlcihub3ROdWxsaXNoKTtcbiAgICByZXR1cm4gbmV3IFNldChpdGVtcyk7XG4gIH0pO1xuICBjb25zdCBzdG9wV2F0Y2ggPSB3YXRjaChcbiAgICAoKSA9PiB0YXJnZXRzLnZhbHVlLFxuICAgICh0YXJnZXRzMikgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHRhcmdldHMyLnNpemUpIHtcbiAgICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XG4gICAgICAgIHRhcmdldHMyLmZvckVhY2goKGVsKSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsLCBtdXRhdGlvbk9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlLCBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xuICBjb25zdCB0YWtlUmVjb3JkcyA9ICgpID0+IHtcbiAgICByZXR1cm4gb2JzZXJ2ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IG9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgc3RvcFdhdGNoKCk7XG4gICAgY2xlYW51cCgpO1xuICB9O1xuICB0cnlPblNjb3BlRGlzcG9zZShzdG9wKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBzdG9wLFxuICAgIHRha2VSZWNvcmRzXG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uRWxlbWVudFJlbW92YWwodGFyZ2V0LCBjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGRvY3VtZW50ID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQsXG4gICAgZmx1c2ggPSBcInN5bmNcIlxuICB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cgfHwgIWRvY3VtZW50KVxuICAgIHJldHVybiBub29wO1xuICBsZXQgc3RvcEZuO1xuICBjb25zdCBjbGVhbnVwQW5kVXBkYXRlID0gKGZuKSA9PiB7XG4gICAgc3RvcEZuID09IG51bGwgPyB2b2lkIDAgOiBzdG9wRm4oKTtcbiAgICBzdG9wRm4gPSBmbjtcbiAgfTtcbiAgY29uc3Qgc3RvcFdhdGNoID0gd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgaWYgKGVsKSB7XG4gICAgICBjb25zdCB7IHN0b3AgfSA9IHVzZU11dGF0aW9uT2JzZXJ2ZXIoXG4gICAgICAgIGRvY3VtZW50LFxuICAgICAgICAobXV0YXRpb25zTGlzdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRhcmdldFJlbW92ZWQgPSBtdXRhdGlvbnNMaXN0Lm1hcCgobXV0YXRpb24pID0+IFsuLi5tdXRhdGlvbi5yZW1vdmVkTm9kZXNdKS5mbGF0KCkuc29tZSgobm9kZSkgPT4gbm9kZSA9PT0gZWwgfHwgbm9kZS5jb250YWlucyhlbCkpO1xuICAgICAgICAgIGlmICh0YXJnZXRSZW1vdmVkKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhtdXRhdGlvbnNMaXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB3aW5kb3csXG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNsZWFudXBBbmRVcGRhdGUoc3RvcCk7XG4gICAgfVxuICB9LCB7IGZsdXNoIH0pO1xuICBjb25zdCBzdG9wSGFuZGxlID0gKCkgPT4ge1xuICAgIHN0b3BXYXRjaCgpO1xuICAgIGNsZWFudXBBbmRVcGRhdGUoKTtcbiAgfTtcbiAgdHJ5T25TY29wZURpc3Bvc2Uoc3RvcEhhbmRsZSk7XG4gIHJldHVybiBzdG9wSGFuZGxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlQcmVkaWNhdGUoa2V5RmlsdGVyKSB7XG4gIGlmICh0eXBlb2Yga2V5RmlsdGVyID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIGtleUZpbHRlcjtcbiAgZWxzZSBpZiAodHlwZW9mIGtleUZpbHRlciA9PT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gKGV2ZW50KSA9PiBldmVudC5rZXkgPT09IGtleUZpbHRlcjtcbiAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShrZXlGaWx0ZXIpKVxuICAgIHJldHVybiAoZXZlbnQpID0+IGtleUZpbHRlci5pbmNsdWRlcyhldmVudC5rZXkpO1xuICByZXR1cm4gKCkgPT4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIG9uS2V5U3Ryb2tlKC4uLmFyZ3MpIHtcbiAgbGV0IGtleTtcbiAgbGV0IGhhbmRsZXI7XG4gIGxldCBvcHRpb25zID0ge307XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMykge1xuICAgIGtleSA9IGFyZ3NbMF07XG4gICAgaGFuZGxlciA9IGFyZ3NbMV07XG4gICAgb3B0aW9ucyA9IGFyZ3NbMl07XG4gIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGtleSA9IHRydWU7XG4gICAgICBoYW5kbGVyID0gYXJnc1swXTtcbiAgICAgIG9wdGlvbnMgPSBhcmdzWzFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBhcmdzWzBdO1xuICAgICAgaGFuZGxlciA9IGFyZ3NbMV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGtleSA9IHRydWU7XG4gICAgaGFuZGxlciA9IGFyZ3NbMF07XG4gIH1cbiAgY29uc3Qge1xuICAgIHRhcmdldCA9IGRlZmF1bHRXaW5kb3csXG4gICAgZXZlbnROYW1lID0gXCJrZXlkb3duXCIsXG4gICAgcGFzc2l2ZSA9IGZhbHNlLFxuICAgIGRlZHVwZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwcmVkaWNhdGUgPSBjcmVhdGVLZXlQcmVkaWNhdGUoa2V5KTtcbiAgY29uc3QgbGlzdGVuZXIgPSAoZSkgPT4ge1xuICAgIGlmIChlLnJlcGVhdCAmJiB0b1ZhbHVlKGRlZHVwZSkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHByZWRpY2F0ZShlKSlcbiAgICAgIGhhbmRsZXIoZSk7XG4gIH07XG4gIHJldHVybiB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgZXZlbnROYW1lLCBsaXN0ZW5lciwgcGFzc2l2ZSk7XG59XG5mdW5jdGlvbiBvbktleURvd24oa2V5LCBoYW5kbGVyLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIG9uS2V5U3Ryb2tlKGtleSwgaGFuZGxlciwgeyAuLi5vcHRpb25zLCBldmVudE5hbWU6IFwia2V5ZG93blwiIH0pO1xufVxuZnVuY3Rpb24gb25LZXlQcmVzc2VkKGtleSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBvbktleVN0cm9rZShrZXksIGhhbmRsZXIsIHsgLi4ub3B0aW9ucywgZXZlbnROYW1lOiBcImtleXByZXNzXCIgfSk7XG59XG5mdW5jdGlvbiBvbktleVVwKGtleSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBvbktleVN0cm9rZShrZXksIGhhbmRsZXIsIHsgLi4ub3B0aW9ucywgZXZlbnROYW1lOiBcImtleXVwXCIgfSk7XG59XG5cbmNvbnN0IERFRkFVTFRfREVMQVkgPSA1MDA7XG5jb25zdCBERUZBVUxUX1RIUkVTSE9MRCA9IDEwO1xuZnVuY3Rpb24gb25Mb25nUHJlc3ModGFyZ2V0LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGVsZW1lbnRSZWYgPSBjb21wdXRlZCgoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSk7XG4gIGxldCB0aW1lb3V0O1xuICBsZXQgcG9zU3RhcnQ7XG4gIGxldCBzdGFydFRpbWVzdGFtcDtcbiAgbGV0IGhhc0xvbmdQcmVzc2VkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICB0aW1lb3V0ID0gdm9pZCAwO1xuICAgIH1cbiAgICBwb3NTdGFydCA9IHZvaWQgMDtcbiAgICBzdGFydFRpbWVzdGFtcCA9IHZvaWQgMDtcbiAgICBoYXNMb25nUHJlc3NlZCA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIG9uUmVsZWFzZShldikge1xuICAgIHZhciBfYTIsIF9iMiwgX2M7XG4gICAgY29uc3QgW19zdGFydFRpbWVzdGFtcCwgX3Bvc1N0YXJ0LCBfaGFzTG9uZ1ByZXNzZWRdID0gW3N0YXJ0VGltZXN0YW1wLCBwb3NTdGFydCwgaGFzTG9uZ1ByZXNzZWRdO1xuICAgIGNsZWFyKCk7XG4gICAgaWYgKCEob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vbk1vdXNlVXApIHx8ICFfcG9zU3RhcnQgfHwgIV9zdGFydFRpbWVzdGFtcClcbiAgICAgIHJldHVybjtcbiAgICBpZiAoKChfYTIgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5zZWxmKSAmJiBldi50YXJnZXQgIT09IGVsZW1lbnRSZWYudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKChfYjIgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5wcmV2ZW50KVxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoKF9jID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zdG9wKVxuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgZHggPSBldi54IC0gX3Bvc1N0YXJ0Lng7XG4gICAgY29uc3QgZHkgPSBldi55IC0gX3Bvc1N0YXJ0Lnk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIG9wdGlvbnMub25Nb3VzZVVwKGV2LnRpbWVTdGFtcCAtIF9zdGFydFRpbWVzdGFtcCwgZGlzdGFuY2UsIF9oYXNMb25nUHJlc3NlZCk7XG4gIH1cbiAgZnVuY3Rpb24gb25Eb3duKGV2KSB7XG4gICAgdmFyIF9hMiwgX2IyLCBfYywgX2Q7XG4gICAgaWYgKCgoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuc2VsZikgJiYgZXYudGFyZ2V0ICE9PSBlbGVtZW50UmVmLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGNsZWFyKCk7XG4gICAgaWYgKChfYjIgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5wcmV2ZW50KVxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoKF9jID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zdG9wKVxuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgcG9zU3RhcnQgPSB7XG4gICAgICB4OiBldi54LFxuICAgICAgeTogZXYueVxuICAgIH07XG4gICAgc3RhcnRUaW1lc3RhbXAgPSBldi50aW1lU3RhbXA7XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGhhc0xvbmdQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgaGFuZGxlcihldik7XG4gICAgICB9LFxuICAgICAgKF9kID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kZWxheSkgIT0gbnVsbCA/IF9kIDogREVGQVVMVF9ERUxBWVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gb25Nb3ZlKGV2KSB7XG4gICAgdmFyIF9hMiwgX2IyLCBfYywgX2Q7XG4gICAgaWYgKCgoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuc2VsZikgJiYgZXYudGFyZ2V0ICE9PSBlbGVtZW50UmVmLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghcG9zU3RhcnQgfHwgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGlzdGFuY2VUaHJlc2hvbGQpID09PSBmYWxzZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoKF9iMiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kaWZpZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLnByZXZlbnQpXG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICgoX2MgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnN0b3ApXG4gICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCBkeCA9IGV2LnggLSBwb3NTdGFydC54O1xuICAgIGNvbnN0IGR5ID0gZXYueSAtIHBvc1N0YXJ0Lnk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIGlmIChkaXN0YW5jZSA+PSAoKF9kID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kaXN0YW5jZVRocmVzaG9sZCkgIT0gbnVsbCA/IF9kIDogREVGQVVMVF9USFJFU0hPTEQpKVxuICAgICAgY2xlYXIoKTtcbiAgfVxuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7XG4gICAgY2FwdHVyZTogKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYXB0dXJlLFxuICAgIG9uY2U6IChfYiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kaWZpZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2Iub25jZVxuICB9O1xuICBjb25zdCBjbGVhbnVwID0gW1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZWxlbWVudFJlZiwgXCJwb2ludGVyZG93blwiLCBvbkRvd24sIGxpc3RlbmVyT3B0aW9ucyksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcihlbGVtZW50UmVmLCBcInBvaW50ZXJtb3ZlXCIsIG9uTW92ZSwgbGlzdGVuZXJPcHRpb25zKSxcbiAgICB1c2VFdmVudExpc3RlbmVyKGVsZW1lbnRSZWYsIFtcInBvaW50ZXJ1cFwiLCBcInBvaW50ZXJsZWF2ZVwiXSwgb25SZWxlYXNlLCBsaXN0ZW5lck9wdGlvbnMpXG4gIF07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiBjbGVhbnVwLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgcmV0dXJuIHN0b3A7XG59XG5cbmZ1bmN0aW9uIGlzRm9jdXNlZEVsZW1lbnRFZGl0YWJsZSgpIHtcbiAgY29uc3QgeyBhY3RpdmVFbGVtZW50LCBib2R5IH0gPSBkb2N1bWVudDtcbiAgaWYgKCFhY3RpdmVFbGVtZW50KVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGFjdGl2ZUVsZW1lbnQgPT09IGJvZHkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBzd2l0Y2ggKGFjdGl2ZUVsZW1lbnQudGFnTmFtZSkge1xuICAgIGNhc2UgXCJJTlBVVFwiOlxuICAgIGNhc2UgXCJURVhUQVJFQVwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpO1xufVxuZnVuY3Rpb24gaXNUeXBlZENoYXJWYWxpZCh7XG4gIGtleUNvZGUsXG4gIG1ldGFLZXksXG4gIGN0cmxLZXksXG4gIGFsdEtleVxufSkge1xuICBpZiAobWV0YUtleSB8fCBjdHJsS2V5IHx8IGFsdEtleSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChrZXlDb2RlID49IDQ4ICYmIGtleUNvZGUgPD0gNTcgfHwga2V5Q29kZSA+PSA5NiAmJiBrZXlDb2RlIDw9IDEwNSlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKGtleUNvZGUgPj0gNjUgJiYga2V5Q29kZSA8PSA5MClcbiAgICByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25TdGFydFR5cGluZyhjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgZG9jdW1lbnQ6IGRvY3VtZW50MiA9IGRlZmF1bHREb2N1bWVudCB9ID0gb3B0aW9ucztcbiAgY29uc3Qga2V5ZG93biA9IChldmVudCkgPT4ge1xuICAgIGlmICghaXNGb2N1c2VkRWxlbWVudEVkaXRhYmxlKCkgJiYgaXNUeXBlZENoYXJWYWxpZChldmVudCkpIHtcbiAgICAgIGNhbGxiYWNrKGV2ZW50KTtcbiAgICB9XG4gIH07XG4gIGlmIChkb2N1bWVudDIpXG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudDIsIFwia2V5ZG93blwiLCBrZXlkb3duLCB7IHBhc3NpdmU6IHRydWUgfSk7XG59XG5cbmZ1bmN0aW9uIHRlbXBsYXRlUmVmKGtleSwgaW5pdGlhbFZhbHVlID0gbnVsbCkge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBsZXQgX3RyaWdnZXIgPSAoKSA9PiB7XG4gIH07XG4gIGNvbnN0IGVsZW1lbnQgPSBjdXN0b21SZWYoKHRyYWNrLCB0cmlnZ2VyKSA9PiB7XG4gICAgX3RyaWdnZXIgPSB0cmlnZ2VyO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRyYWNrKCk7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2UucHJveHkpID09IG51bGwgPyB2b2lkIDAgOiBfYS4kcmVmc1trZXldKSAhPSBudWxsID8gX2IgOiBpbml0aWFsVmFsdWU7XG4gICAgICB9LFxuICAgICAgc2V0KCkge1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB0cnlPbk1vdW50ZWQoX3RyaWdnZXIpO1xuICBvblVwZGF0ZWQoX3RyaWdnZXIpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gdXNlQWN0aXZlRWxlbWVudChvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBkZWVwID0gdHJ1ZSxcbiAgICB0cmlnZ2VyT25SZW1vdmFsID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRvY3VtZW50ID0gKF9hID0gb3B0aW9ucy5kb2N1bWVudCkgIT0gbnVsbCA/IF9hIDogd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQ7XG4gIGNvbnN0IGdldERlZXBBY3RpdmVFbGVtZW50ID0gKCkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICBpZiAoZGVlcCkge1xuICAgICAgd2hpbGUgKGVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGVsZW1lbnQuc2hhZG93Um9vdClcbiAgICAgICAgZWxlbWVudCA9IChfYTIgPSBlbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBlbGVtZW50LnNoYWRvd1Jvb3QpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuYWN0aXZlRWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH07XG4gIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBzaGFsbG93UmVmKCk7XG4gIGNvbnN0IHRyaWdnZXIgPSAoKSA9PiB7XG4gICAgYWN0aXZlRWxlbWVudC52YWx1ZSA9IGdldERlZXBBY3RpdmVFbGVtZW50KCk7XG4gIH07XG4gIGlmICh3aW5kb3cpIHtcbiAgICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7XG4gICAgICBjYXB0dXJlOiB0cnVlLFxuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH07XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICAgIHdpbmRvdyxcbiAgICAgIFwiYmx1clwiLFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5yZWxhdGVkVGFyZ2V0ICE9PSBudWxsKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgfSxcbiAgICAgIGxpc3RlbmVyT3B0aW9uc1xuICAgICk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICAgIHdpbmRvdyxcbiAgICAgIFwiZm9jdXNcIixcbiAgICAgIHRyaWdnZXIsXG4gICAgICBsaXN0ZW5lck9wdGlvbnNcbiAgICApO1xuICB9XG4gIGlmICh0cmlnZ2VyT25SZW1vdmFsKSB7XG4gICAgb25FbGVtZW50UmVtb3ZhbChhY3RpdmVFbGVtZW50LCB0cmlnZ2VyLCB7IGRvY3VtZW50IH0pO1xuICB9XG4gIHRyaWdnZXIoKTtcbiAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHVzZVJhZkZuKGZuLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgZnBzTGltaXQgPSB2b2lkIDAsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBvbmNlID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzQWN0aXZlID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGludGVydmFsTGltaXQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIGZwc0xpbWl0ID8gMWUzIC8gdG9WYWx1ZShmcHNMaW1pdCkgOiBudWxsO1xuICB9KTtcbiAgbGV0IHByZXZpb3VzRnJhbWVUaW1lc3RhbXAgPSAwO1xuICBsZXQgcmFmSWQgPSBudWxsO1xuICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcCkge1xuICAgIGlmICghaXNBY3RpdmUudmFsdWUgfHwgIXdpbmRvdylcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXByZXZpb3VzRnJhbWVUaW1lc3RhbXApXG4gICAgICBwcmV2aW91c0ZyYW1lVGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgIGNvbnN0IGRlbHRhID0gdGltZXN0YW1wIC0gcHJldmlvdXNGcmFtZVRpbWVzdGFtcDtcbiAgICBpZiAoaW50ZXJ2YWxMaW1pdC52YWx1ZSAmJiBkZWx0YSA8IGludGVydmFsTGltaXQudmFsdWUpIHtcbiAgICAgIHJhZklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJldmlvdXNGcmFtZVRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICBmbih7IGRlbHRhLCB0aW1lc3RhbXAgfSk7XG4gICAgaWYgKG9uY2UpIHtcbiAgICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gICAgICByYWZJZCA9IG51bGw7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJhZklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgaWYgKCFpc0FjdGl2ZS52YWx1ZSAmJiB3aW5kb3cpIHtcbiAgICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHByZXZpb3VzRnJhbWVUaW1lc3RhbXAgPSAwO1xuICAgICAgcmFmSWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlO1xuICAgIGlmIChyYWZJZCAhPSBudWxsICYmIHdpbmRvdykge1xuICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZklkKTtcbiAgICAgIHJhZklkID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSlcbiAgICByZXN1bWUoKTtcbiAgdHJ5T25TY29wZURpc3Bvc2UocGF1c2UpO1xuICByZXR1cm4ge1xuICAgIGlzQWN0aXZlOiByZWFkb25seShpc0FjdGl2ZSksXG4gICAgcGF1c2UsXG4gICAgcmVzdW1lXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUFuaW1hdGUodGFyZ2V0LCBrZXlmcmFtZXMsIG9wdGlvbnMpIHtcbiAgbGV0IGNvbmZpZztcbiAgbGV0IGFuaW1hdGVPcHRpb25zO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBjb25maWcgPSBvcHRpb25zO1xuICAgIGFuaW1hdGVPcHRpb25zID0gb2JqZWN0T21pdChvcHRpb25zLCBbXCJ3aW5kb3dcIiwgXCJpbW1lZGlhdGVcIiwgXCJjb21taXRTdHlsZXNcIiwgXCJwZXJzaXN0XCIsIFwib25SZWFkeVwiLCBcIm9uRXJyb3JcIl0pO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IHsgZHVyYXRpb246IG9wdGlvbnMgfTtcbiAgICBhbmltYXRlT3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBjb21taXRTdHlsZXMsXG4gICAgcGVyc2lzdCxcbiAgICBwbGF5YmFja1JhdGU6IF9wbGF5YmFja1JhdGUgPSAxLFxuICAgIG9uUmVhZHksXG4gICAgb25FcnJvciA9IChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIEhUTUxFbGVtZW50ICYmIFwiYW5pbWF0ZVwiIGluIEhUTUxFbGVtZW50LnByb3RvdHlwZSk7XG4gIGNvbnN0IGFuaW1hdGUgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IHN0b3JlID0gc2hhbGxvd1JlYWN0aXZlKHtcbiAgICBzdGFydFRpbWU6IG51bGwsXG4gICAgY3VycmVudFRpbWU6IG51bGwsXG4gICAgdGltZWxpbmU6IG51bGwsXG4gICAgcGxheWJhY2tSYXRlOiBfcGxheWJhY2tSYXRlLFxuICAgIHBlbmRpbmc6IGZhbHNlLFxuICAgIHBsYXlTdGF0ZTogaW1tZWRpYXRlID8gXCJpZGxlXCIgOiBcInBhdXNlZFwiLFxuICAgIHJlcGxhY2VTdGF0ZTogXCJhY3RpdmVcIlxuICB9KTtcbiAgY29uc3QgcGVuZGluZyA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLnBlbmRpbmcpO1xuICBjb25zdCBwbGF5U3RhdGUgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5wbGF5U3RhdGUpO1xuICBjb25zdCByZXBsYWNlU3RhdGUgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5yZXBsYWNlU3RhdGUpO1xuICBjb25zdCBzdGFydFRpbWUgPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHN0b3JlLnN0YXJ0VGltZTtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgc3RvcmUuc3RhcnRUaW1lID0gdmFsdWU7XG4gICAgICBpZiAoYW5pbWF0ZS52YWx1ZSlcbiAgICAgICAgYW5pbWF0ZS52YWx1ZS5zdGFydFRpbWUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBjdXJyZW50VGltZSA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc3RvcmUuY3VycmVudFRpbWU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHN0b3JlLmN1cnJlbnRUaW1lID0gdmFsdWU7XG4gICAgICBpZiAoYW5pbWF0ZS52YWx1ZSkge1xuICAgICAgICBhbmltYXRlLnZhbHVlLmN1cnJlbnRUaW1lID0gdmFsdWU7XG4gICAgICAgIHN5bmNSZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBjb25zdCB0aW1lbGluZSA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc3RvcmUudGltZWxpbmU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHN0b3JlLnRpbWVsaW5lID0gdmFsdWU7XG4gICAgICBpZiAoYW5pbWF0ZS52YWx1ZSlcbiAgICAgICAgYW5pbWF0ZS52YWx1ZS50aW1lbGluZSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHBsYXliYWNrUmF0ZSA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gc3RvcmUucGxheWJhY2tSYXRlO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBzdG9yZS5wbGF5YmFja1JhdGUgPSB2YWx1ZTtcbiAgICAgIGlmIChhbmltYXRlLnZhbHVlKVxuICAgICAgICBhbmltYXRlLnZhbHVlLnBsYXliYWNrUmF0ZSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHBsYXkgPSAoKSA9PiB7XG4gICAgaWYgKGFuaW1hdGUudmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGFuaW1hdGUudmFsdWUucGxheSgpO1xuICAgICAgICBzeW5jUmVzdW1lKCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHN5bmNQYXVzZSgpO1xuICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdXNlID0gKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICB0cnkge1xuICAgICAgKF9hID0gYW5pbWF0ZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnBhdXNlKCk7XG4gICAgICBzeW5jUGF1c2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmV2ZXJzZSA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFhbmltYXRlLnZhbHVlKVxuICAgICAgdXBkYXRlKCk7XG4gICAgdHJ5IHtcbiAgICAgIChfYSA9IGFuaW1hdGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZXZlcnNlKCk7XG4gICAgICBzeW5jUmVzdW1lKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc3luY1BhdXNlKCk7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZmluaXNoID0gKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICB0cnkge1xuICAgICAgKF9hID0gYW5pbWF0ZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgc3luY1BhdXNlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNhbmNlbCA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgdHJ5IHtcbiAgICAgIChfYSA9IGFuaW1hdGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgIHN5bmNQYXVzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfVxuICB9O1xuICB3YXRjaCgoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSwgKGVsKSA9PiB7XG4gICAgaWYgKGVsKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5pbWF0ZS52YWx1ZSA9IHZvaWQgMDtcbiAgICB9XG4gIH0pO1xuICB3YXRjaCgoKSA9PiBrZXlmcmFtZXMsICh2YWx1ZSkgPT4ge1xuICAgIGlmIChhbmltYXRlLnZhbHVlKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICAgIGNvbnN0IHRhcmdldEVsID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgICBpZiAodGFyZ2V0RWwpIHtcbiAgICAgICAgYW5pbWF0ZS52YWx1ZS5lZmZlY3QgPSBuZXcgS2V5ZnJhbWVFZmZlY3QoXG4gICAgICAgICAgdGFyZ2V0RWwsXG4gICAgICAgICAgdG9WYWx1ZSh2YWx1ZSksXG4gICAgICAgICAgYW5pbWF0ZU9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHsgZGVlcDogdHJ1ZSB9KTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IHVwZGF0ZSh0cnVlKSwgZmFsc2UpO1xuICB0cnlPblNjb3BlRGlzcG9zZShjYW5jZWwpO1xuICBmdW5jdGlvbiB1cGRhdGUoaW5pdCkge1xuICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCAhZWwpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFhbmltYXRlLnZhbHVlKVxuICAgICAgYW5pbWF0ZS52YWx1ZSA9IGVsLmFuaW1hdGUodG9WYWx1ZShrZXlmcmFtZXMpLCBhbmltYXRlT3B0aW9ucyk7XG4gICAgaWYgKHBlcnNpc3QpXG4gICAgICBhbmltYXRlLnZhbHVlLnBlcnNpc3QoKTtcbiAgICBpZiAoX3BsYXliYWNrUmF0ZSAhPT0gMSlcbiAgICAgIGFuaW1hdGUudmFsdWUucGxheWJhY2tSYXRlID0gX3BsYXliYWNrUmF0ZTtcbiAgICBpZiAoaW5pdCAmJiAhaW1tZWRpYXRlKVxuICAgICAgYW5pbWF0ZS52YWx1ZS5wYXVzZSgpO1xuICAgIGVsc2VcbiAgICAgIHN5bmNSZXN1bWUoKTtcbiAgICBvblJlYWR5ID09IG51bGwgPyB2b2lkIDAgOiBvblJlYWR5KGFuaW1hdGUudmFsdWUpO1xuICB9XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICB1c2VFdmVudExpc3RlbmVyKGFuaW1hdGUsIFtcImNhbmNlbFwiLCBcImZpbmlzaFwiLCBcInJlbW92ZVwiXSwgc3luY1BhdXNlLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1c2VFdmVudExpc3RlbmVyKGFuaW1hdGUsIFwiZmluaXNoXCIsICgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGNvbW1pdFN0eWxlcylcbiAgICAgIChfYSA9IGFuaW1hdGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb21taXRTdHlsZXMoKTtcbiAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgY29uc3QgeyByZXN1bWU6IHJlc3VtZVJlZiwgcGF1c2U6IHBhdXNlUmVmIH0gPSB1c2VSYWZGbigoKSA9PiB7XG4gICAgaWYgKCFhbmltYXRlLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHN0b3JlLnBlbmRpbmcgPSBhbmltYXRlLnZhbHVlLnBlbmRpbmc7XG4gICAgc3RvcmUucGxheVN0YXRlID0gYW5pbWF0ZS52YWx1ZS5wbGF5U3RhdGU7XG4gICAgc3RvcmUucmVwbGFjZVN0YXRlID0gYW5pbWF0ZS52YWx1ZS5yZXBsYWNlU3RhdGU7XG4gICAgc3RvcmUuc3RhcnRUaW1lID0gYW5pbWF0ZS52YWx1ZS5zdGFydFRpbWU7XG4gICAgc3RvcmUuY3VycmVudFRpbWUgPSBhbmltYXRlLnZhbHVlLmN1cnJlbnRUaW1lO1xuICAgIHN0b3JlLnRpbWVsaW5lID0gYW5pbWF0ZS52YWx1ZS50aW1lbGluZTtcbiAgICBzdG9yZS5wbGF5YmFja1JhdGUgPSBhbmltYXRlLnZhbHVlLnBsYXliYWNrUmF0ZTtcbiAgfSwgeyBpbW1lZGlhdGU6IGZhbHNlIH0pO1xuICBmdW5jdGlvbiBzeW5jUmVzdW1lKCkge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJlc3VtZVJlZigpO1xuICB9XG4gIGZ1bmN0aW9uIHN5bmNQYXVzZSgpIHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgd2luZG93KVxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShwYXVzZVJlZik7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBhbmltYXRlLFxuICAgIC8vIGFjdGlvbnNcbiAgICBwbGF5LFxuICAgIHBhdXNlLFxuICAgIHJldmVyc2UsXG4gICAgZmluaXNoLFxuICAgIGNhbmNlbCxcbiAgICAvLyBzdGF0ZVxuICAgIHBlbmRpbmcsXG4gICAgcGxheVN0YXRlLFxuICAgIHJlcGxhY2VTdGF0ZSxcbiAgICBzdGFydFRpbWUsXG4gICAgY3VycmVudFRpbWUsXG4gICAgdGltZWxpbmUsXG4gICAgcGxheWJhY2tSYXRlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUFzeW5jUXVldWUodGFza3MsIG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGludGVycnVwdCA9IHRydWUsXG4gICAgb25FcnJvciA9IG5vb3AsXG4gICAgb25GaW5pc2hlZCA9IG5vb3AsXG4gICAgc2lnbmFsXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBwcm9taXNlU3RhdGUgPSB7XG4gICAgYWJvcnRlZDogXCJhYm9ydGVkXCIsXG4gICAgZnVsZmlsbGVkOiBcImZ1bGZpbGxlZFwiLFxuICAgIHBlbmRpbmc6IFwicGVuZGluZ1wiLFxuICAgIHJlamVjdGVkOiBcInJlamVjdGVkXCJcbiAgfTtcbiAgY29uc3QgaW5pdGlhbFJlc3VsdCA9IEFycmF5LmZyb20oQXJyYXkuZnJvbSh7IGxlbmd0aDogdGFza3MubGVuZ3RoIH0pLCAoKSA9PiAoeyBzdGF0ZTogcHJvbWlzZVN0YXRlLnBlbmRpbmcsIGRhdGE6IG51bGwgfSkpO1xuICBjb25zdCByZXN1bHQgPSByZWFjdGl2ZShpbml0aWFsUmVzdWx0KTtcbiAgY29uc3QgYWN0aXZlSW5kZXggPSBzaGFsbG93UmVmKC0xKTtcbiAgaWYgKCF0YXNrcyB8fCB0YXNrcy5sZW5ndGggPT09IDApIHtcbiAgICBvbkZpbmlzaGVkKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgcmVzdWx0XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVSZXN1bHQoc3RhdGUsIHJlcykge1xuICAgIGFjdGl2ZUluZGV4LnZhbHVlKys7XG4gICAgcmVzdWx0W2FjdGl2ZUluZGV4LnZhbHVlXS5kYXRhID0gcmVzO1xuICAgIHJlc3VsdFthY3RpdmVJbmRleC52YWx1ZV0uc3RhdGUgPSBzdGF0ZTtcbiAgfVxuICB0YXNrcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICByZXR1cm4gcHJldi50aGVuKChwcmV2UmVzKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBpZiAoc2lnbmFsID09IG51bGwgPyB2b2lkIDAgOiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICB1cGRhdGVSZXN1bHQocHJvbWlzZVN0YXRlLmFib3J0ZWQsIG5ldyBFcnJvcihcImFib3J0ZWRcIikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoKChfYSA9IHJlc3VsdFthY3RpdmVJbmRleC52YWx1ZV0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdGF0ZSkgPT09IHByb21pc2VTdGF0ZS5yZWplY3RlZCAmJiBpbnRlcnJ1cHQpIHtcbiAgICAgICAgb25GaW5pc2hlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkb25lID0gY3VycihwcmV2UmVzKS50aGVuKChjdXJyZW50UmVzKSA9PiB7XG4gICAgICAgIHVwZGF0ZVJlc3VsdChwcm9taXNlU3RhdGUuZnVsZmlsbGVkLCBjdXJyZW50UmVzKTtcbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4LnZhbHVlID09PSB0YXNrcy5sZW5ndGggLSAxKVxuICAgICAgICAgIG9uRmluaXNoZWQoKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRSZXM7XG4gICAgICB9KTtcbiAgICAgIGlmICghc2lnbmFsKVxuICAgICAgICByZXR1cm4gZG9uZTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW2RvbmUsIHdoZW5BYm9ydGVkKHNpZ25hbCldKTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgaWYgKHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgdXBkYXRlUmVzdWx0KHByb21pc2VTdGF0ZS5hYm9ydGVkLCBlKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgICB1cGRhdGVSZXN1bHQocHJvbWlzZVN0YXRlLnJlamVjdGVkLCBlKTtcbiAgICAgIG9uRXJyb3IoKTtcbiAgICAgIHJldHVybiBlO1xuICAgIH0pO1xuICB9LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gIHJldHVybiB7XG4gICAgYWN0aXZlSW5kZXgsXG4gICAgcmVzdWx0XG4gIH07XG59XG5mdW5jdGlvbiB3aGVuQWJvcnRlZChzaWduYWwpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcImFib3J0ZWRcIik7XG4gICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICBlbHNlXG4gICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHJlamVjdChlcnJvciksIHsgb25jZTogdHJ1ZSB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFzeW5jU3RhdGUocHJvbWlzZSwgaW5pdGlhbFN0YXRlLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGRlbGF5ID0gMCxcbiAgICBvbkVycm9yID0gbm9vcCxcbiAgICBvblN1Y2Nlc3MgPSBub29wLFxuICAgIHJlc2V0T25FeGVjdXRlID0gdHJ1ZSxcbiAgICBzaGFsbG93ID0gdHJ1ZSxcbiAgICB0aHJvd0Vycm9yXG4gIH0gPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gIGNvbnN0IHN0YXRlID0gc2hhbGxvdyA/IHNoYWxsb3dSZWYoaW5pdGlhbFN0YXRlKSA6IHJlZihpbml0aWFsU3RhdGUpO1xuICBjb25zdCBpc1JlYWR5ID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGlzTG9hZGluZyA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBlcnJvciA9IHNoYWxsb3dSZWYodm9pZCAwKTtcbiAgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZShkZWxheTIgPSAwLCAuLi5hcmdzKSB7XG4gICAgaWYgKHJlc2V0T25FeGVjdXRlKVxuICAgICAgc3RhdGUudmFsdWUgPSBpbml0aWFsU3RhdGU7XG4gICAgZXJyb3IudmFsdWUgPSB2b2lkIDA7XG4gICAgaXNSZWFkeS52YWx1ZSA9IGZhbHNlO1xuICAgIGlzTG9hZGluZy52YWx1ZSA9IHRydWU7XG4gICAgaWYgKGRlbGF5MiA+IDApXG4gICAgICBhd2FpdCBwcm9taXNlVGltZW91dChkZWxheTIpO1xuICAgIGNvbnN0IF9wcm9taXNlID0gdHlwZW9mIHByb21pc2UgPT09IFwiZnVuY3Rpb25cIiA/IHByb21pc2UoLi4uYXJncykgOiBwcm9taXNlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgX3Byb21pc2U7XG4gICAgICBzdGF0ZS52YWx1ZSA9IGRhdGE7XG4gICAgICBpc1JlYWR5LnZhbHVlID0gdHJ1ZTtcbiAgICAgIG9uU3VjY2VzcyhkYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvci52YWx1ZSA9IGU7XG4gICAgICBvbkVycm9yKGUpO1xuICAgICAgaWYgKHRocm93RXJyb3IpXG4gICAgICAgIHRocm93IGU7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzTG9hZGluZy52YWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUudmFsdWU7XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSkge1xuICAgIGV4ZWN1dGUoZGVsYXkpO1xuICB9XG4gIGNvbnN0IHNoZWxsID0ge1xuICAgIHN0YXRlLFxuICAgIGlzUmVhZHksXG4gICAgaXNMb2FkaW5nLFxuICAgIGVycm9yLFxuICAgIGV4ZWN1dGVcbiAgfTtcbiAgZnVuY3Rpb24gd2FpdFVudGlsSXNMb2FkZWQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHVudGlsKGlzTG9hZGluZykudG9CZShmYWxzZSkudGhlbigoKSA9PiByZXNvbHZlKHNoZWxsKSkuY2F0Y2gocmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLnNoZWxsLFxuICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiB3YWl0VW50aWxJc0xvYWRlZCgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGFycmF5OiAodikgPT4gSlNPTi5zdHJpbmdpZnkodiksXG4gIG9iamVjdDogKHYpID0+IEpTT04uc3RyaW5naWZ5KHYpLFxuICBzZXQ6ICh2KSA9PiBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKHYpKSxcbiAgbWFwOiAodikgPT4gSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmZyb21FbnRyaWVzKHYpKSxcbiAgbnVsbDogKCkgPT4gXCJcIlxufTtcbmZ1bmN0aW9uIGdldERlZmF1bHRTZXJpYWxpemF0aW9uKHRhcmdldCkge1xuICBpZiAoIXRhcmdldClcbiAgICByZXR1cm4gZGVmYXVsdHMubnVsbDtcbiAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE1hcClcbiAgICByZXR1cm4gZGVmYXVsdHMubWFwO1xuICBlbHNlIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBTZXQpXG4gICAgcmV0dXJuIGRlZmF1bHRzLnNldDtcbiAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpKVxuICAgIHJldHVybiBkZWZhdWx0cy5hcnJheTtcbiAgZWxzZVxuICAgIHJldHVybiBkZWZhdWx0cy5vYmplY3Q7XG59XG5cbmZ1bmN0aW9uIHVzZUJhc2U2NCh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgY29uc3QgYmFzZTY0ID0gc2hhbGxvd1JlZihcIlwiKTtcbiAgY29uc3QgcHJvbWlzZSA9IHNoYWxsb3dSZWYoKTtcbiAgZnVuY3Rpb24gZXhlY3V0ZSgpIHtcbiAgICBpZiAoIWlzQ2xpZW50KVxuICAgICAgcmV0dXJuO1xuICAgIHByb21pc2UudmFsdWUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBfdGFyZ2V0ID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgICAgICBpZiAoX3RhcmdldCA9PSBudWxsKSB7XG4gICAgICAgICAgcmVzb2x2ZShcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgX3RhcmdldCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHJlc29sdmUoYmxvYlRvQmFzZTY0KG5ldyBCbG9iKFtfdGFyZ2V0XSwgeyB0eXBlOiBcInRleHQvcGxhaW5cIiB9KSkpO1xuICAgICAgICB9IGVsc2UgaWYgKF90YXJnZXQgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgcmVzb2x2ZShibG9iVG9CYXNlNjQoX3RhcmdldCkpO1xuICAgICAgICB9IGVsc2UgaWYgKF90YXJnZXQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJlc29sdmUod2luZG93LmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShfdGFyZ2V0KSkpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfdGFyZ2V0IGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgICByZXNvbHZlKF90YXJnZXQudG9EYXRhVVJMKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudHlwZSwgb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5xdWFsaXR5KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RhcmdldCBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCBpbWcgPSBfdGFyZ2V0LmNsb25lTm9kZShmYWxzZSk7XG4gICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJBbm9ueW1vdXNcIjtcbiAgICAgICAgICBpbWdMb2FkZWQoaW1nKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgY2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIHJlc29sdmUoY2FudmFzLnRvRGF0YVVSTChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnR5cGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucXVhbGl0eSkpO1xuICAgICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF90YXJnZXQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBjb25zdCBfc2VyaWFsaXplRm4gPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5zZXJpYWxpemVyKSB8fCBnZXREZWZhdWx0U2VyaWFsaXphdGlvbihfdGFyZ2V0KTtcbiAgICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gX3NlcmlhbGl6ZUZuKF90YXJnZXQpO1xuICAgICAgICAgIHJldHVybiByZXNvbHZlKGJsb2JUb0Jhc2U2NChuZXcgQmxvYihbc2VyaWFsaXplZF0sIHsgdHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSkpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwidGFyZ2V0IGlzIHVuc3VwcG9ydGVkIHR5cGVzXCIpKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwcm9taXNlLnZhbHVlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgYmFzZTY0LnZhbHVlID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YVVybCkgPT09IGZhbHNlID8gcmVzLnJlcGxhY2UoL15kYXRhOi4qPztiYXNlNjQsLywgXCJcIikgOiByZXM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHByb21pc2UudmFsdWU7XG4gIH1cbiAgaWYgKGlzUmVmKHRhcmdldCkgfHwgdHlwZW9mIHRhcmdldCA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHdhdGNoKHRhcmdldCwgZXhlY3V0ZSwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG4gIGVsc2VcbiAgICBleGVjdXRlKCk7XG4gIHJldHVybiB7XG4gICAgYmFzZTY0LFxuICAgIHByb21pc2UsXG4gICAgZXhlY3V0ZVxuICB9O1xufVxuZnVuY3Rpb24gaW1nTG9hZGVkKGltZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmICghaW1nLmNvbXBsZXRlKSB7XG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9O1xuICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2IpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgZnIub25sb2FkID0gKGUpID0+IHtcbiAgICAgIHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTtcbiAgICB9O1xuICAgIGZyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgZnIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZUJhdHRlcnkob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvciB9ID0gb3B0aW9ucztcbiAgY29uc3QgZXZlbnRzID0gW1wiY2hhcmdpbmdjaGFuZ2VcIiwgXCJjaGFyZ2luZ3RpbWVjaGFuZ2VcIiwgXCJkaXNjaGFyZ2luZ3RpbWVjaGFuZ2VcIiwgXCJsZXZlbGNoYW5nZVwiXTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiZ2V0QmF0dGVyeVwiIGluIG5hdmlnYXRvciAmJiB0eXBlb2YgbmF2aWdhdG9yLmdldEJhdHRlcnkgPT09IFwiZnVuY3Rpb25cIik7XG4gIGNvbnN0IGNoYXJnaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGNoYXJnaW5nVGltZSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGRpc2NoYXJnaW5nVGltZSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGxldmVsID0gc2hhbGxvd1JlZigxKTtcbiAgbGV0IGJhdHRlcnk7XG4gIGZ1bmN0aW9uIHVwZGF0ZUJhdHRlcnlJbmZvKCkge1xuICAgIGNoYXJnaW5nLnZhbHVlID0gdGhpcy5jaGFyZ2luZztcbiAgICBjaGFyZ2luZ1RpbWUudmFsdWUgPSB0aGlzLmNoYXJnaW5nVGltZSB8fCAwO1xuICAgIGRpc2NoYXJnaW5nVGltZS52YWx1ZSA9IHRoaXMuZGlzY2hhcmdpbmdUaW1lIHx8IDA7XG4gICAgbGV2ZWwudmFsdWUgPSB0aGlzLmxldmVsO1xuICB9XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIG5hdmlnYXRvci5nZXRCYXR0ZXJ5KCkudGhlbigoX2JhdHRlcnkpID0+IHtcbiAgICAgIGJhdHRlcnkgPSBfYmF0dGVyeTtcbiAgICAgIHVwZGF0ZUJhdHRlcnlJbmZvLmNhbGwoYmF0dGVyeSk7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKGJhdHRlcnksIGV2ZW50cywgdXBkYXRlQmF0dGVyeUluZm8sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGNoYXJnaW5nLFxuICAgIGNoYXJnaW5nVGltZSxcbiAgICBkaXNjaGFyZ2luZ1RpbWUsXG4gICAgbGV2ZWxcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlQmx1ZXRvb3RoKG9wdGlvbnMpIHtcbiAgbGV0IHtcbiAgICBhY2NlcHRBbGxEZXZpY2VzID0gZmFsc2VcbiAgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHtcbiAgICBmaWx0ZXJzID0gdm9pZCAwLFxuICAgIG9wdGlvbmFsU2VydmljZXMgPSB2b2lkIDAsXG4gICAgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvclxuICB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiYmx1ZXRvb3RoXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgZGV2aWNlID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBlcnJvciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIHdhdGNoKGRldmljZSwgKCkgPT4ge1xuICAgIGNvbm5lY3RUb0JsdWV0b290aEdBVFRTZXJ2ZXIoKTtcbiAgfSk7XG4gIGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3REZXZpY2UoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBlcnJvci52YWx1ZSA9IG51bGw7XG4gICAgaWYgKGZpbHRlcnMgJiYgZmlsdGVycy5sZW5ndGggPiAwKVxuICAgICAgYWNjZXB0QWxsRGV2aWNlcyA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICBkZXZpY2UudmFsdWUgPSBhd2FpdCAobmF2aWdhdG9yID09IG51bGwgPyB2b2lkIDAgOiBuYXZpZ2F0b3IuYmx1ZXRvb3RoLnJlcXVlc3REZXZpY2Uoe1xuICAgICAgICBhY2NlcHRBbGxEZXZpY2VzLFxuICAgICAgICBmaWx0ZXJzLFxuICAgICAgICBvcHRpb25hbFNlcnZpY2VzXG4gICAgICB9KSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2VydmVyID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBpc0Nvbm5lY3RlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBpc0Nvbm5lY3RlZC52YWx1ZSA9IGZhbHNlO1xuICAgIGRldmljZS52YWx1ZSA9IHZvaWQgMDtcbiAgICBzZXJ2ZXIudmFsdWUgPSB2b2lkIDA7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY29ubmVjdFRvQmx1ZXRvb3RoR0FUVFNlcnZlcigpIHtcbiAgICBlcnJvci52YWx1ZSA9IG51bGw7XG4gICAgaWYgKGRldmljZS52YWx1ZSAmJiBkZXZpY2UudmFsdWUuZ2F0dCkge1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihkZXZpY2UsIFwiZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZFwiLCByZXNldCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2VydmVyLnZhbHVlID0gYXdhaXQgZGV2aWNlLnZhbHVlLmdhdHQuY29ubmVjdCgpO1xuICAgICAgICBpc0Nvbm5lY3RlZC52YWx1ZSA9IHNlcnZlci52YWx1ZS5jb25uZWN0ZWQ7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChkZXZpY2UudmFsdWUpXG4gICAgICAoX2EgPSBkZXZpY2UudmFsdWUuZ2F0dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbm5lY3QoKTtcbiAgfSk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKGRldmljZS52YWx1ZSlcbiAgICAgIChfYSA9IGRldmljZS52YWx1ZS5nYXR0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZGlzY29ubmVjdCgpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBpc0Nvbm5lY3RlZDogcmVhZG9ubHkoaXNDb25uZWN0ZWQpLFxuICAgIC8vIERldmljZTpcbiAgICBkZXZpY2UsXG4gICAgcmVxdWVzdERldmljZSxcbiAgICAvLyBTZXJ2ZXI6XG4gICAgc2VydmVyLFxuICAgIC8vIEVycm9yczpcbiAgICBlcnJvclxuICB9O1xufVxuXG5jb25zdCBzc3JXaWR0aFN5bWJvbCA9IFN5bWJvbChcInZ1ZXVzZS1zc3Itd2lkdGhcIik7XG5mdW5jdGlvbiB1c2VTU1JXaWR0aCgpIHtcbiAgY29uc3Qgc3NyV2lkdGggPSBoYXNJbmplY3Rpb25Db250ZXh0KCkgPyBpbmplY3RMb2NhbChzc3JXaWR0aFN5bWJvbCwgbnVsbCkgOiBudWxsO1xuICByZXR1cm4gdHlwZW9mIHNzcldpZHRoID09PSBcIm51bWJlclwiID8gc3NyV2lkdGggOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBwcm92aWRlU1NSV2lkdGgod2lkdGgsIGFwcCkge1xuICBpZiAoYXBwICE9PSB2b2lkIDApIHtcbiAgICBhcHAucHJvdmlkZShzc3JXaWR0aFN5bWJvbCwgd2lkdGgpO1xuICB9IGVsc2Uge1xuICAgIHByb3ZpZGVMb2NhbChzc3JXaWR0aFN5bWJvbCwgd2lkdGgpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZU1lZGlhUXVlcnkocXVlcnksIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csIHNzcldpZHRoID0gdXNlU1NSV2lkdGgoKSB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwibWF0Y2hNZWRpYVwiIGluIHdpbmRvdyAmJiB0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09IFwiZnVuY3Rpb25cIik7XG4gIGNvbnN0IHNzclN1cHBvcnQgPSBzaGFsbG93UmVmKHR5cGVvZiBzc3JXaWR0aCA9PT0gXCJudW1iZXJcIik7XG4gIGNvbnN0IG1lZGlhUXVlcnkgPSBzaGFsbG93UmVmKCk7XG4gIGNvbnN0IG1hdGNoZXMgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgaGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgIG1hdGNoZXMudmFsdWUgPSBldmVudC5tYXRjaGVzO1xuICB9O1xuICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNzclN1cHBvcnQudmFsdWUpIHtcbiAgICAgIHNzclN1cHBvcnQudmFsdWUgPSAhaXNTdXBwb3J0ZWQudmFsdWU7XG4gICAgICBjb25zdCBxdWVyeVN0cmluZ3MgPSB0b1ZhbHVlKHF1ZXJ5KS5zcGxpdChcIixcIik7XG4gICAgICBtYXRjaGVzLnZhbHVlID0gcXVlcnlTdHJpbmdzLnNvbWUoKHF1ZXJ5U3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdCA9IHF1ZXJ5U3RyaW5nLmluY2x1ZGVzKFwibm90IGFsbFwiKTtcbiAgICAgICAgY29uc3QgbWluV2lkdGggPSBxdWVyeVN0cmluZy5tYXRjaCgvXFwoXFxzKm1pbi13aWR0aDpcXHMqKC0/XFxkKyg/OlxcLlxcZCopP1thLXpdK1xccyopXFwpLyk7XG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gcXVlcnlTdHJpbmcubWF0Y2goL1xcKFxccyptYXgtd2lkdGg6XFxzKigtP1xcZCsoPzpcXC5cXGQqKT9bYS16XStcXHMqKVxcKS8pO1xuICAgICAgICBsZXQgcmVzID0gQm9vbGVhbihtaW5XaWR0aCB8fCBtYXhXaWR0aCk7XG4gICAgICAgIGlmIChtaW5XaWR0aCAmJiByZXMpIHtcbiAgICAgICAgICByZXMgPSBzc3JXaWR0aCA+PSBweFZhbHVlKG1pbldpZHRoWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4V2lkdGggJiYgcmVzKSB7XG4gICAgICAgICAgcmVzID0gc3NyV2lkdGggPD0gcHhWYWx1ZShtYXhXaWR0aFsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vdCA/ICFyZXMgOiByZXM7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBtZWRpYVF1ZXJ5LnZhbHVlID0gd2luZG93Lm1hdGNoTWVkaWEodG9WYWx1ZShxdWVyeSkpO1xuICAgIG1hdGNoZXMudmFsdWUgPSBtZWRpYVF1ZXJ5LnZhbHVlLm1hdGNoZXM7XG4gIH0pO1xuICB1c2VFdmVudExpc3RlbmVyKG1lZGlhUXVlcnksIFwiY2hhbmdlXCIsIGhhbmRsZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IG1hdGNoZXMudmFsdWUpO1xufVxuXG5jb25zdCBicmVha3BvaW50c1RhaWx3aW5kID0ge1xuICBcInNtXCI6IDY0MCxcbiAgXCJtZFwiOiA3NjgsXG4gIFwibGdcIjogMTAyNCxcbiAgXCJ4bFwiOiAxMjgwLFxuICBcIjJ4bFwiOiAxNTM2XG59O1xuY29uc3QgYnJlYWtwb2ludHNCb290c3RyYXBWNSA9IHtcbiAgeHM6IDAsXG4gIHNtOiA1NzYsXG4gIG1kOiA3NjgsXG4gIGxnOiA5OTIsXG4gIHhsOiAxMjAwLFxuICB4eGw6IDE0MDBcbn07XG5jb25zdCBicmVha3BvaW50c1Z1ZXRpZnlWMiA9IHtcbiAgeHM6IDAsXG4gIHNtOiA2MDAsXG4gIG1kOiA5NjAsXG4gIGxnOiAxMjY0LFxuICB4bDogMTkwNFxufTtcbmNvbnN0IGJyZWFrcG9pbnRzVnVldGlmeVYzID0ge1xuICB4czogMCxcbiAgc206IDYwMCxcbiAgbWQ6IDk2MCxcbiAgbGc6IDEyODAsXG4gIHhsOiAxOTIwLFxuICB4eGw6IDI1NjBcbn07XG5jb25zdCBicmVha3BvaW50c1Z1ZXRpZnkgPSBicmVha3BvaW50c1Z1ZXRpZnlWMjtcbmNvbnN0IGJyZWFrcG9pbnRzQW50RGVzaWduID0ge1xuICB4czogNDgwLFxuICBzbTogNTc2LFxuICBtZDogNzY4LFxuICBsZzogOTkyLFxuICB4bDogMTIwMCxcbiAgeHhsOiAxNjAwXG59O1xuY29uc3QgYnJlYWtwb2ludHNRdWFzYXIgPSB7XG4gIHhzOiAwLFxuICBzbTogNjAwLFxuICBtZDogMTAyNCxcbiAgbGc6IDE0NDAsXG4gIHhsOiAxOTIwXG59O1xuY29uc3QgYnJlYWtwb2ludHNTZW1hdGljID0ge1xuICBtb2JpbGVTOiAzMjAsXG4gIG1vYmlsZU06IDM3NSxcbiAgbW9iaWxlTDogNDI1LFxuICB0YWJsZXQ6IDc2OCxcbiAgbGFwdG9wOiAxMDI0LFxuICBsYXB0b3BMOiAxNDQwLFxuICBkZXNrdG9wNEs6IDI1NjBcbn07XG5jb25zdCBicmVha3BvaW50c01hc3RlckNzcyA9IHtcbiAgXCIzeHNcIjogMzYwLFxuICBcIjJ4c1wiOiA0ODAsXG4gIFwieHNcIjogNjAwLFxuICBcInNtXCI6IDc2OCxcbiAgXCJtZFwiOiAxMDI0LFxuICBcImxnXCI6IDEyODAsXG4gIFwieGxcIjogMTQ0MCxcbiAgXCIyeGxcIjogMTYwMCxcbiAgXCIzeGxcIjogMTkyMCxcbiAgXCI0eGxcIjogMjU2MFxufTtcbmNvbnN0IGJyZWFrcG9pbnRzUHJpbWVGbGV4ID0ge1xuICBzbTogNTc2LFxuICBtZDogNzY4LFxuICBsZzogOTkyLFxuICB4bDogMTIwMFxufTtcbmNvbnN0IGJyZWFrcG9pbnRzRWxlbWVudCA9IHtcbiAgeHM6IDAsXG4gIHNtOiA3NjgsXG4gIG1kOiA5OTIsXG4gIGxnOiAxMjAwLFxuICB4bDogMTkyMFxufTtcblxuZnVuY3Rpb24gdXNlQnJlYWtwb2ludHMoYnJlYWtwb2ludHMsIG9wdGlvbnMgPSB7fSkge1xuICBmdW5jdGlvbiBnZXRWYWx1ZShrLCBkZWx0YSkge1xuICAgIGxldCB2ID0gdG9WYWx1ZShicmVha3BvaW50c1t0b1ZhbHVlKGspXSk7XG4gICAgaWYgKGRlbHRhICE9IG51bGwpXG4gICAgICB2ID0gaW5jcmVhc2VXaXRoVW5pdCh2LCBkZWx0YSk7XG4gICAgaWYgKHR5cGVvZiB2ID09PSBcIm51bWJlclwiKVxuICAgICAgdiA9IGAke3Z9cHhgO1xuICAgIHJldHVybiB2O1xuICB9XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgc3RyYXRlZ3kgPSBcIm1pbi13aWR0aFwiLCBzc3JXaWR0aCA9IHVzZVNTUldpZHRoKCkgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHNzclN1cHBvcnQgPSB0eXBlb2Ygc3NyV2lkdGggPT09IFwibnVtYmVyXCI7XG4gIGNvbnN0IG1vdW50ZWQgPSBzc3JTdXBwb3J0ID8gc2hhbGxvd1JlZihmYWxzZSkgOiB7IHZhbHVlOiB0cnVlIH07XG4gIGlmIChzc3JTdXBwb3J0KSB7XG4gICAgdHJ5T25Nb3VudGVkKCgpID0+IG1vdW50ZWQudmFsdWUgPSAhIXdpbmRvdyk7XG4gIH1cbiAgZnVuY3Rpb24gbWF0Y2gocXVlcnksIHNpemUpIHtcbiAgICBpZiAoIW1vdW50ZWQudmFsdWUgJiYgc3NyU3VwcG9ydCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5ID09PSBcIm1pblwiID8gc3NyV2lkdGggPj0gcHhWYWx1ZShzaXplKSA6IHNzcldpZHRoIDw9IHB4VmFsdWUoc2l6ZSk7XG4gICAgfVxuICAgIGlmICghd2luZG93KVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShgKCR7cXVlcnl9LXdpZHRoOiAke3NpemV9KWApLm1hdGNoZXM7XG4gIH1cbiAgY29uc3QgZ3JlYXRlck9yRXF1YWwgPSAoaykgPT4ge1xuICAgIHJldHVybiB1c2VNZWRpYVF1ZXJ5KCgpID0+IGAobWluLXdpZHRoOiAke2dldFZhbHVlKGspfSlgLCBvcHRpb25zKTtcbiAgfTtcbiAgY29uc3Qgc21hbGxlck9yRXF1YWwgPSAoaykgPT4ge1xuICAgIHJldHVybiB1c2VNZWRpYVF1ZXJ5KCgpID0+IGAobWF4LXdpZHRoOiAke2dldFZhbHVlKGspfSlgLCBvcHRpb25zKTtcbiAgfTtcbiAgY29uc3Qgc2hvcnRjdXRNZXRob2RzID0gT2JqZWN0LmtleXMoYnJlYWtwb2ludHMpLnJlZHVjZSgoc2hvcnRjdXRzLCBrKSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNob3J0Y3V0cywgaywge1xuICAgICAgZ2V0OiAoKSA9PiBzdHJhdGVneSA9PT0gXCJtaW4td2lkdGhcIiA/IGdyZWF0ZXJPckVxdWFsKGspIDogc21hbGxlck9yRXF1YWwoayksXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIHNob3J0Y3V0cztcbiAgfSwge30pO1xuICBmdW5jdGlvbiBjdXJyZW50KCkge1xuICAgIGNvbnN0IHBvaW50cyA9IE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5tYXAoKGspID0+IFtrLCBzaG9ydGN1dE1ldGhvZHNba10sIHB4VmFsdWUoZ2V0VmFsdWUoaykpXSkuc29ydCgoYSwgYikgPT4gYVsyXSAtIGJbMl0pO1xuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiBwb2ludHMuZmlsdGVyKChbLCB2XSkgPT4gdi52YWx1ZSkubWFwKChba10pID0+IGspKTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihzaG9ydGN1dE1ldGhvZHMsIHtcbiAgICBncmVhdGVyT3JFcXVhbCxcbiAgICBzbWFsbGVyT3JFcXVhbCxcbiAgICBncmVhdGVyKGspIHtcbiAgICAgIHJldHVybiB1c2VNZWRpYVF1ZXJ5KCgpID0+IGAobWluLXdpZHRoOiAke2dldFZhbHVlKGssIDAuMSl9KWAsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgc21hbGxlcihrKSB7XG4gICAgICByZXR1cm4gdXNlTWVkaWFRdWVyeSgoKSA9PiBgKG1heC13aWR0aDogJHtnZXRWYWx1ZShrLCAtMC4xKX0pYCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBiZXR3ZWVuKGEsIGIpIHtcbiAgICAgIHJldHVybiB1c2VNZWRpYVF1ZXJ5KCgpID0+IGAobWluLXdpZHRoOiAke2dldFZhbHVlKGEpfSkgYW5kIChtYXgtd2lkdGg6ICR7Z2V0VmFsdWUoYiwgLTAuMSl9KWAsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgaXNHcmVhdGVyKGspIHtcbiAgICAgIHJldHVybiBtYXRjaChcIm1pblwiLCBnZXRWYWx1ZShrLCAwLjEpKTtcbiAgICB9LFxuICAgIGlzR3JlYXRlck9yRXF1YWwoaykge1xuICAgICAgcmV0dXJuIG1hdGNoKFwibWluXCIsIGdldFZhbHVlKGspKTtcbiAgICB9LFxuICAgIGlzU21hbGxlcihrKSB7XG4gICAgICByZXR1cm4gbWF0Y2goXCJtYXhcIiwgZ2V0VmFsdWUoaywgLTAuMSkpO1xuICAgIH0sXG4gICAgaXNTbWFsbGVyT3JFcXVhbChrKSB7XG4gICAgICByZXR1cm4gbWF0Y2goXCJtYXhcIiwgZ2V0VmFsdWUoaykpO1xuICAgIH0sXG4gICAgaXNJbkJldHdlZW4oYSwgYikge1xuICAgICAgcmV0dXJuIG1hdGNoKFwibWluXCIsIGdldFZhbHVlKGEpKSAmJiBtYXRjaChcIm1heFwiLCBnZXRWYWx1ZShiLCAtMC4xKSk7XG4gICAgfSxcbiAgICBjdXJyZW50LFxuICAgIGFjdGl2ZSgpIHtcbiAgICAgIGNvbnN0IGJwcyA9IGN1cnJlbnQoKTtcbiAgICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiBicHMudmFsdWUubGVuZ3RoID09PSAwID8gXCJcIiA6IGJwcy52YWx1ZS5hdChzdHJhdGVneSA9PT0gXCJtaW4td2lkdGhcIiA/IC0xIDogMCkpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZUJyb2FkY2FzdENoYW5uZWwob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgbmFtZSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJCcm9hZGNhc3RDaGFubmVsXCIgaW4gd2luZG93KTtcbiAgY29uc3QgaXNDbG9zZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgY2hhbm5lbCA9IHJlZigpO1xuICBjb25zdCBkYXRhID0gcmVmKCk7XG4gIGNvbnN0IGVycm9yID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgcG9zdCA9IChkYXRhMikgPT4ge1xuICAgIGlmIChjaGFubmVsLnZhbHVlKVxuICAgICAgY2hhbm5lbC52YWx1ZS5wb3N0TWVzc2FnZShkYXRhMik7XG4gIH07XG4gIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgIGlmIChjaGFubmVsLnZhbHVlKVxuICAgICAgY2hhbm5lbC52YWx1ZS5jbG9zZSgpO1xuICAgIGlzQ2xvc2VkLnZhbHVlID0gdHJ1ZTtcbiAgfTtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICAgIGVycm9yLnZhbHVlID0gbnVsbDtcbiAgICAgIGNoYW5uZWwudmFsdWUgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChuYW1lKTtcbiAgICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIoY2hhbm5lbCwgXCJtZXNzYWdlXCIsIChlKSA9PiB7XG4gICAgICAgIGRhdGEudmFsdWUgPSBlLmRhdGE7XG4gICAgICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihjaGFubmVsLCBcIm1lc3NhZ2VlcnJvclwiLCAoZSkgPT4ge1xuICAgICAgICBlcnJvci52YWx1ZSA9IGU7XG4gICAgICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihjaGFubmVsLCBcImNsb3NlXCIsICgpID0+IHtcbiAgICAgICAgaXNDbG9zZWQudmFsdWUgPSB0cnVlO1xuICAgICAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB9KTtcbiAgfVxuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgY2xvc2UoKTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgY2hhbm5lbCxcbiAgICBkYXRhLFxuICAgIHBvc3QsXG4gICAgY2xvc2UsXG4gICAgZXJyb3IsXG4gICAgaXNDbG9zZWRcbiAgfTtcbn1cblxuY29uc3QgV1JJVEFCTEVfUFJPUEVSVElFUyA9IFtcbiAgXCJoYXNoXCIsXG4gIFwiaG9zdFwiLFxuICBcImhvc3RuYW1lXCIsXG4gIFwiaHJlZlwiLFxuICBcInBhdGhuYW1lXCIsXG4gIFwicG9ydFwiLFxuICBcInByb3RvY29sXCIsXG4gIFwic2VhcmNoXCJcbl07XG5mdW5jdGlvbiB1c2VCcm93c2VyTG9jYXRpb24ob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVmcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBXUklUQUJMRV9QUk9QRVJUSUVTLm1hcCgoa2V5KSA9PiBba2V5LCByZWYoKV0pXG4gICk7XG4gIGZvciAoY29uc3QgW2tleSwgcmVmXSBvZiBvYmplY3RFbnRyaWVzKHJlZnMpKSB7XG4gICAgd2F0Y2gocmVmLCAodmFsdWUpID0+IHtcbiAgICAgIGlmICghKHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmxvY2F0aW9uKSB8fCB3aW5kb3cubG9jYXRpb25ba2V5XSA9PT0gdmFsdWUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbltrZXldID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgYnVpbGRTdGF0ZSA9ICh0cmlnZ2VyKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgc3RhdGU6IHN0YXRlMiwgbGVuZ3RoIH0gPSAod2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuaGlzdG9yeSkgfHwge307XG4gICAgY29uc3QgeyBvcmlnaW4gfSA9ICh3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhdGlvbikgfHwge307XG4gICAgZm9yIChjb25zdCBrZXkgb2YgV1JJVEFCTEVfUFJPUEVSVElFUylcbiAgICAgIHJlZnNba2V5XS52YWx1ZSA9IChfYSA9IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmxvY2F0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2Fba2V5XTtcbiAgICByZXR1cm4gcmVhY3RpdmUoe1xuICAgICAgdHJpZ2dlcixcbiAgICAgIHN0YXRlOiBzdGF0ZTIsXG4gICAgICBsZW5ndGgsXG4gICAgICBvcmlnaW4sXG4gICAgICAuLi5yZWZzXG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHN0YXRlID0gcmVmKGJ1aWxkU3RhdGUoXCJsb2FkXCIpKTtcbiAgaWYgKHdpbmRvdykge1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInBvcHN0YXRlXCIsICgpID0+IHN0YXRlLnZhbHVlID0gYnVpbGRTdGF0ZShcInBvcHN0YXRlXCIpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImhhc2hjaGFuZ2VcIiwgKCkgPT4gc3RhdGUudmFsdWUgPSBidWlsZFN0YXRlKFwiaGFzaGNoYW5nZVwiKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHVzZUNhY2hlZChyZWZWYWx1ZSwgY29tcGFyYXRvciA9IChhLCBiKSA9PiBhID09PSBiLCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgZGVlcFJlZnMgPSB0cnVlLCAuLi53YXRjaE9wdGlvbnMgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IGNhY2hlZFZhbHVlID0gY3JlYXRlUmVmKHJlZlZhbHVlLnZhbHVlLCBkZWVwUmVmcyk7XG4gIHdhdGNoKCgpID0+IHJlZlZhbHVlLnZhbHVlLCAodmFsdWUpID0+IHtcbiAgICBpZiAoIWNvbXBhcmF0b3IodmFsdWUsIGNhY2hlZFZhbHVlLnZhbHVlKSlcbiAgICAgIGNhY2hlZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gIH0sIHdhdGNoT3B0aW9ucyk7XG4gIHJldHVybiBjYWNoZWRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gdXNlUGVybWlzc2lvbihwZXJtaXNzaW9uRGVzYywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9scyA9IGZhbHNlLFxuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3JcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcInBlcm1pc3Npb25zXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgcGVybWlzc2lvblN0YXR1cyA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgZGVzYyA9IHR5cGVvZiBwZXJtaXNzaW9uRGVzYyA9PT0gXCJzdHJpbmdcIiA/IHsgbmFtZTogcGVybWlzc2lvbkRlc2MgfSA6IHBlcm1pc3Npb25EZXNjO1xuICBjb25zdCBzdGF0ZSA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgc3RhdGUudmFsdWUgPSAoX2IgPSAoX2EgPSBwZXJtaXNzaW9uU3RhdHVzLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3RhdGUpICE9IG51bGwgPyBfYiA6IFwicHJvbXB0XCI7XG4gIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIocGVybWlzc2lvblN0YXR1cywgXCJjaGFuZ2VcIiwgdXBkYXRlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIGNvbnN0IHF1ZXJ5ID0gY3JlYXRlU2luZ2xldG9uUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXBlcm1pc3Npb25TdGF0dXMudmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBlcm1pc3Npb25TdGF0dXMudmFsdWUgPSBhd2FpdCBuYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoZGVzYyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHBlcm1pc3Npb25TdGF0dXMudmFsdWUgPSB2b2lkIDA7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB1cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbnRyb2xzKVxuICAgICAgcmV0dXJuIHRvUmF3KHBlcm1pc3Npb25TdGF0dXMudmFsdWUpO1xuICB9KTtcbiAgcXVlcnkoKTtcbiAgaWYgKGNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlLFxuICAgICAgaXNTdXBwb3J0ZWQsXG4gICAgICBxdWVyeVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUNsaXBib2FyZChvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IsXG4gICAgcmVhZCA9IGZhbHNlLFxuICAgIHNvdXJjZSxcbiAgICBjb3BpZWREdXJpbmcgPSAxNTAwLFxuICAgIGxlZ2FjeSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0NsaXBib2FyZEFwaVN1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJjbGlwYm9hcmRcIiBpbiBuYXZpZ2F0b3IpO1xuICBjb25zdCBwZXJtaXNzaW9uUmVhZCA9IHVzZVBlcm1pc3Npb24oXCJjbGlwYm9hcmQtcmVhZFwiKTtcbiAgY29uc3QgcGVybWlzc2lvbldyaXRlID0gdXNlUGVybWlzc2lvbihcImNsaXBib2FyZC13cml0ZVwiKTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSBjb21wdXRlZCgoKSA9PiBpc0NsaXBib2FyZEFwaVN1cHBvcnRlZC52YWx1ZSB8fCBsZWdhY3kpO1xuICBjb25zdCB0ZXh0ID0gc2hhbGxvd1JlZihcIlwiKTtcbiAgY29uc3QgY29waWVkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHRpbWVvdXQgPSB1c2VUaW1lb3V0Rm4oKCkgPT4gY29waWVkLnZhbHVlID0gZmFsc2UsIGNvcGllZER1cmluZywgeyBpbW1lZGlhdGU6IGZhbHNlIH0pO1xuICBhc3luYyBmdW5jdGlvbiB1cGRhdGVUZXh0KCkge1xuICAgIGxldCB1c2VMZWdhY3kgPSAhKGlzQ2xpcGJvYXJkQXBpU3VwcG9ydGVkLnZhbHVlICYmIGlzQWxsb3dlZChwZXJtaXNzaW9uUmVhZC52YWx1ZSkpO1xuICAgIGlmICghdXNlTGVnYWN5KSB7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXh0LnZhbHVlID0gYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB1c2VMZWdhY3kgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodXNlTGVnYWN5KSB7XG4gICAgICB0ZXh0LnZhbHVlID0gbGVnYWN5UmVhZCgpO1xuICAgIH1cbiAgfVxuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgcmVhZClcbiAgICB1c2VFdmVudExpc3RlbmVyKFtcImNvcHlcIiwgXCJjdXRcIl0sIHVwZGF0ZVRleHQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgYXN5bmMgZnVuY3Rpb24gY29weSh2YWx1ZSA9IHRvVmFsdWUoc291cmNlKSkge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSAmJiB2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBsZXQgdXNlTGVnYWN5ID0gIShpc0NsaXBib2FyZEFwaVN1cHBvcnRlZC52YWx1ZSAmJiBpc0FsbG93ZWQocGVybWlzc2lvbldyaXRlLnZhbHVlKSk7XG4gICAgICBpZiAoIXVzZUxlZ2FjeSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHVzZUxlZ2FjeSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh1c2VMZWdhY3kpXG4gICAgICAgIGxlZ2FjeUNvcHkodmFsdWUpO1xuICAgICAgdGV4dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgY29waWVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHRpbWVvdXQuc3RhcnQoKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbGVnYWN5Q29weSh2YWx1ZSkge1xuICAgIGNvbnN0IHRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgIHRhLnZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogXCJcIjtcbiAgICB0YS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICB0YS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0YSk7XG4gICAgdGEuc2VsZWN0KCk7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpO1xuICAgIHRhLnJlbW92ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIGxlZ2FjeVJlYWQoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC5nZXRTZWxlY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGRvY3VtZW50KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRvU3RyaW5nKCkpICE9IG51bGwgPyBfYyA6IFwiXCI7XG4gIH1cbiAgZnVuY3Rpb24gaXNBbGxvd2VkKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPT09IFwiZ3JhbnRlZFwiIHx8IHN0YXR1cyA9PT0gXCJwcm9tcHRcIjtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHRleHQsXG4gICAgY29waWVkLFxuICAgIGNvcHlcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlQ2xpcGJvYXJkSXRlbXMob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yLFxuICAgIHJlYWQgPSBmYWxzZSxcbiAgICBzb3VyY2UsXG4gICAgY29waWVkRHVyaW5nID0gMTUwMFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiY2xpcGJvYXJkXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgY29udGVudCA9IHJlZihbXSk7XG4gIGNvbnN0IGNvcGllZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCB0aW1lb3V0ID0gdXNlVGltZW91dEZuKCgpID0+IGNvcGllZC52YWx1ZSA9IGZhbHNlLCBjb3BpZWREdXJpbmcsIHsgaW1tZWRpYXRlOiBmYWxzZSB9KTtcbiAgZnVuY3Rpb24gdXBkYXRlQ29udGVudCgpIHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZCgpLnRoZW4oKGl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnRlbnQudmFsdWUgPSBpdGVtcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgcmVhZClcbiAgICB1c2VFdmVudExpc3RlbmVyKFtcImNvcHlcIiwgXCJjdXRcIl0sIHVwZGF0ZUNvbnRlbnQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgYXN5bmMgZnVuY3Rpb24gY29weSh2YWx1ZSA9IHRvVmFsdWUoc291cmNlKSkge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSAmJiB2YWx1ZSAhPSBudWxsKSB7XG4gICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlKHZhbHVlKTtcbiAgICAgIGNvbnRlbnQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGNvcGllZC52YWx1ZSA9IHRydWU7XG4gICAgICB0aW1lb3V0LnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgY29udGVudCxcbiAgICBjb3BpZWQsXG4gICAgY29weVxuICB9O1xufVxuXG5mdW5jdGlvbiBjbG9uZUZuSlNPTihzb3VyY2UpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc291cmNlKSk7XG59XG5mdW5jdGlvbiB1c2VDbG9uZWQoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgY2xvbmVkID0gcmVmKHt9KTtcbiAgY29uc3QgaXNNb2RpZmllZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBsZXQgX2xhc3RTeW5jID0gZmFsc2U7XG4gIGNvbnN0IHtcbiAgICBtYW51YWwsXG4gICAgY2xvbmUgPSBjbG9uZUZuSlNPTixcbiAgICAvLyB3YXRjaCBvcHRpb25zXG4gICAgZGVlcCA9IHRydWUsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgd2F0Y2goY2xvbmVkLCAoKSA9PiB7XG4gICAgaWYgKF9sYXN0U3luYykge1xuICAgICAgX2xhc3RTeW5jID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlzTW9kaWZpZWQudmFsdWUgPSB0cnVlO1xuICB9LCB7XG4gICAgZGVlcDogdHJ1ZSxcbiAgICBmbHVzaDogXCJzeW5jXCJcbiAgfSk7XG4gIGZ1bmN0aW9uIHN5bmMoKSB7XG4gICAgX2xhc3RTeW5jID0gdHJ1ZTtcbiAgICBpc01vZGlmaWVkLnZhbHVlID0gZmFsc2U7XG4gICAgY2xvbmVkLnZhbHVlID0gY2xvbmUodG9WYWx1ZShzb3VyY2UpKTtcbiAgfVxuICBpZiAoIW1hbnVhbCAmJiAoaXNSZWYoc291cmNlKSB8fCB0eXBlb2Ygc291cmNlID09PSBcImZ1bmN0aW9uXCIpKSB7XG4gICAgd2F0Y2goc291cmNlLCBzeW5jLCB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgZGVlcCxcbiAgICAgIGltbWVkaWF0ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHN5bmMoKTtcbiAgfVxuICByZXR1cm4geyBjbG9uZWQsIGlzTW9kaWZpZWQsIHN5bmMgfTtcbn1cblxuY29uc3QgX2dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDoge307XG5jb25zdCBnbG9iYWxLZXkgPSBcIl9fdnVldXNlX3Nzcl9oYW5kbGVyc19fXCI7XG5jb25zdCBoYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBnZXRIYW5kbGVycygpO1xuZnVuY3Rpb24gZ2V0SGFuZGxlcnMoKSB7XG4gIGlmICghKGdsb2JhbEtleSBpbiBfZ2xvYmFsKSlcbiAgICBfZ2xvYmFsW2dsb2JhbEtleV0gPSBfZ2xvYmFsW2dsb2JhbEtleV0gfHwge307XG4gIHJldHVybiBfZ2xvYmFsW2dsb2JhbEtleV07XG59XG5mdW5jdGlvbiBnZXRTU1JIYW5kbGVyKGtleSwgZmFsbGJhY2spIHtcbiAgcmV0dXJuIGhhbmRsZXJzW2tleV0gfHwgZmFsbGJhY2s7XG59XG5mdW5jdGlvbiBzZXRTU1JIYW5kbGVyKGtleSwgZm4pIHtcbiAgaGFuZGxlcnNba2V5XSA9IGZuO1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWREYXJrKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHVzZU1lZGlhUXVlcnkoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBndWVzc1NlcmlhbGl6ZXJUeXBlKHJhd0luaXQpIHtcbiAgcmV0dXJuIHJhd0luaXQgPT0gbnVsbCA/IFwiYW55XCIgOiByYXdJbml0IGluc3RhbmNlb2YgU2V0ID8gXCJzZXRcIiA6IHJhd0luaXQgaW5zdGFuY2VvZiBNYXAgPyBcIm1hcFwiIDogcmF3SW5pdCBpbnN0YW5jZW9mIERhdGUgPyBcImRhdGVcIiA6IHR5cGVvZiByYXdJbml0ID09PSBcImJvb2xlYW5cIiA/IFwiYm9vbGVhblwiIDogdHlwZW9mIHJhd0luaXQgPT09IFwic3RyaW5nXCIgPyBcInN0cmluZ1wiIDogdHlwZW9mIHJhd0luaXQgPT09IFwib2JqZWN0XCIgPyBcIm9iamVjdFwiIDogIU51bWJlci5pc05hTihyYXdJbml0KSA/IFwibnVtYmVyXCIgOiBcImFueVwiO1xufVxuXG5jb25zdCBTdG9yYWdlU2VyaWFsaXplcnMgPSB7XG4gIGJvb2xlYW46IHtcbiAgICByZWFkOiAodikgPT4gdiA9PT0gXCJ0cnVlXCIsXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgb2JqZWN0OiB7XG4gICAgcmVhZDogKHYpID0+IEpTT04ucGFyc2UodiksXG4gICAgd3JpdGU6ICh2KSA9PiBKU09OLnN0cmluZ2lmeSh2KVxuICB9LFxuICBudW1iZXI6IHtcbiAgICByZWFkOiAodikgPT4gTnVtYmVyLnBhcnNlRmxvYXQodiksXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgYW55OiB7XG4gICAgcmVhZDogKHYpID0+IHYsXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgc3RyaW5nOiB7XG4gICAgcmVhZDogKHYpID0+IHYsXG4gICAgd3JpdGU6ICh2KSA9PiBTdHJpbmcodilcbiAgfSxcbiAgbWFwOiB7XG4gICAgcmVhZDogKHYpID0+IG5ldyBNYXAoSlNPTi5wYXJzZSh2KSksXG4gICAgd3JpdGU6ICh2KSA9PiBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKHYuZW50cmllcygpKSlcbiAgfSxcbiAgc2V0OiB7XG4gICAgcmVhZDogKHYpID0+IG5ldyBTZXQoSlNPTi5wYXJzZSh2KSksXG4gICAgd3JpdGU6ICh2KSA9PiBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKHYpKVxuICB9LFxuICBkYXRlOiB7XG4gICAgcmVhZDogKHYpID0+IG5ldyBEYXRlKHYpLFxuICAgIHdyaXRlOiAodikgPT4gdi50b0lTT1N0cmluZygpXG4gIH1cbn07XG5jb25zdCBjdXN0b21TdG9yYWdlRXZlbnROYW1lID0gXCJ2dWV1c2Utc3RvcmFnZVwiO1xuZnVuY3Rpb24gdXNlU3RvcmFnZShrZXksIGRlZmF1bHRzLCBzdG9yYWdlLCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7XG4gICAgZmx1c2ggPSBcInByZVwiLFxuICAgIGRlZXAgPSB0cnVlLFxuICAgIGxpc3RlblRvU3RvcmFnZUNoYW5nZXMgPSB0cnVlLFxuICAgIHdyaXRlRGVmYXVsdHMgPSB0cnVlLFxuICAgIG1lcmdlRGVmYXVsdHMgPSBmYWxzZSxcbiAgICBzaGFsbG93LFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgZXZlbnRGaWx0ZXIsXG4gICAgb25FcnJvciA9IChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH0sXG4gICAgaW5pdE9uTW91bnRlZFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZGF0YSA9IChzaGFsbG93ID8gc2hhbGxvd1JlZiA6IHJlZikodHlwZW9mIGRlZmF1bHRzID09PSBcImZ1bmN0aW9uXCIgPyBkZWZhdWx0cygpIDogZGVmYXVsdHMpO1xuICBjb25zdCBrZXlDb21wdXRlZCA9IGNvbXB1dGVkKCgpID0+IHRvVmFsdWUoa2V5KSk7XG4gIGlmICghc3RvcmFnZSkge1xuICAgIHRyeSB7XG4gICAgICBzdG9yYWdlID0gZ2V0U1NSSGFuZGxlcihcImdldERlZmF1bHRTdG9yYWdlXCIsICgpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgcmV0dXJuIChfYTIgPSBkZWZhdWx0V2luZG93KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmxvY2FsU3RvcmFnZTtcbiAgICAgIH0pKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFzdG9yYWdlKVxuICAgIHJldHVybiBkYXRhO1xuICBjb25zdCByYXdJbml0ID0gdG9WYWx1ZShkZWZhdWx0cyk7XG4gIGNvbnN0IHR5cGUgPSBndWVzc1NlcmlhbGl6ZXJUeXBlKHJhd0luaXQpO1xuICBjb25zdCBzZXJpYWxpemVyID0gKF9hID0gb3B0aW9ucy5zZXJpYWxpemVyKSAhPSBudWxsID8gX2EgOiBTdG9yYWdlU2VyaWFsaXplcnNbdHlwZV07XG4gIGNvbnN0IHsgcGF1c2U6IHBhdXNlV2F0Y2gsIHJlc3VtZTogcmVzdW1lV2F0Y2ggfSA9IHBhdXNhYmxlV2F0Y2goXG4gICAgZGF0YSxcbiAgICAoKSA9PiB3cml0ZShkYXRhLnZhbHVlKSxcbiAgICB7IGZsdXNoLCBkZWVwLCBldmVudEZpbHRlciB9XG4gICk7XG4gIHdhdGNoKGtleUNvbXB1dGVkLCAoKSA9PiB1cGRhdGUoKSwgeyBmbHVzaCB9KTtcbiAgaWYgKHdpbmRvdyAmJiBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzKSB7XG4gICAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICAgIGlmIChzdG9yYWdlIGluc3RhbmNlb2YgU3RvcmFnZSlcbiAgICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwic3RvcmFnZVwiLCB1cGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIGVsc2VcbiAgICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIGN1c3RvbVN0b3JhZ2VFdmVudE5hbWUsIHVwZGF0ZUZyb21DdXN0b21FdmVudCk7XG4gICAgICBpZiAoaW5pdE9uTW91bnRlZClcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFpbml0T25Nb3VudGVkKVxuICAgIHVwZGF0ZSgpO1xuICBmdW5jdGlvbiBkaXNwYXRjaFdyaXRlRXZlbnQob2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgaWYgKHdpbmRvdykge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAga2V5OiBrZXlDb21wdXRlZC52YWx1ZSxcbiAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICBzdG9yYWdlQXJlYTogc3RvcmFnZVxuICAgICAgfTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KHN0b3JhZ2UgaW5zdGFuY2VvZiBTdG9yYWdlID8gbmV3IFN0b3JhZ2VFdmVudChcInN0b3JhZ2VcIiwgcGF5bG9hZCkgOiBuZXcgQ3VzdG9tRXZlbnQoY3VzdG9tU3RvcmFnZUV2ZW50TmFtZSwge1xuICAgICAgICBkZXRhaWw6IHBheWxvYWRcbiAgICAgIH0pKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gd3JpdGUodikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvbGRWYWx1ZSA9IHN0b3JhZ2UuZ2V0SXRlbShrZXlDb21wdXRlZC52YWx1ZSk7XG4gICAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICAgIGRpc3BhdGNoV3JpdGVFdmVudChvbGRWYWx1ZSwgbnVsbCk7XG4gICAgICAgIHN0b3JhZ2UucmVtb3ZlSXRlbShrZXlDb21wdXRlZC52YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gc2VyaWFsaXplci53cml0ZSh2KTtcbiAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBzZXJpYWxpemVkKSB7XG4gICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKGtleUNvbXB1dGVkLnZhbHVlLCBzZXJpYWxpemVkKTtcbiAgICAgICAgICBkaXNwYXRjaFdyaXRlRXZlbnQob2xkVmFsdWUsIHNlcmlhbGl6ZWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVhZChldmVudCkge1xuICAgIGNvbnN0IHJhd1ZhbHVlID0gZXZlbnQgPyBldmVudC5uZXdWYWx1ZSA6IHN0b3JhZ2UuZ2V0SXRlbShrZXlDb21wdXRlZC52YWx1ZSk7XG4gICAgaWYgKHJhd1ZhbHVlID09IG51bGwpIHtcbiAgICAgIGlmICh3cml0ZURlZmF1bHRzICYmIHJhd0luaXQgIT0gbnVsbClcbiAgICAgICAgc3RvcmFnZS5zZXRJdGVtKGtleUNvbXB1dGVkLnZhbHVlLCBzZXJpYWxpemVyLndyaXRlKHJhd0luaXQpKTtcbiAgICAgIHJldHVybiByYXdJbml0O1xuICAgIH0gZWxzZSBpZiAoIWV2ZW50ICYmIG1lcmdlRGVmYXVsdHMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplci5yZWFkKHJhd1ZhbHVlKTtcbiAgICAgIGlmICh0eXBlb2YgbWVyZ2VEZWZhdWx0cyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gbWVyZ2VEZWZhdWx0cyh2YWx1ZSwgcmF3SW5pdCk7XG4gICAgICBlbHNlIGlmICh0eXBlID09PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHsgLi4ucmF3SW5pdCwgLi4udmFsdWUgfTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByYXdWYWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHJhd1ZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2VyaWFsaXplci5yZWFkKHJhd1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50LnN0b3JhZ2VBcmVhICE9PSBzdG9yYWdlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgPT0gbnVsbCkge1xuICAgICAgZGF0YS52YWx1ZSA9IHJhd0luaXQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldmVudCAmJiBldmVudC5rZXkgIT09IGtleUNvbXB1dGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHBhdXNlV2F0Y2goKTtcbiAgICB0cnkge1xuICAgICAgaWYgKChldmVudCA9PSBudWxsID8gdm9pZCAwIDogZXZlbnQubmV3VmFsdWUpICE9PSBzZXJpYWxpemVyLndyaXRlKGRhdGEudmFsdWUpKVxuICAgICAgICBkYXRhLnZhbHVlID0gcmVhZChldmVudCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGV2ZW50KVxuICAgICAgICBuZXh0VGljayhyZXN1bWVXYXRjaCk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlc3VtZVdhdGNoKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUZyb21DdXN0b21FdmVudChldmVudCkge1xuICAgIHVwZGF0ZShldmVudC5kZXRhaWwpO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5jb25zdCBDU1NfRElTQUJMRV9UUkFOUyA9IFwiKiwqOjpiZWZvcmUsKjo6YWZ0ZXJ7LXdlYmtpdC10cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50Oy1tb3otdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDstby10cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50Oy1tcy10cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50O3RyYW5zaXRpb246bm9uZSFpbXBvcnRhbnR9XCI7XG5mdW5jdGlvbiB1c2VDb2xvck1vZGUob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBzZWxlY3RvciA9IFwiaHRtbFwiLFxuICAgIGF0dHJpYnV0ZSA9IFwiY2xhc3NcIixcbiAgICBpbml0aWFsVmFsdWUgPSBcImF1dG9cIixcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIHN0b3JhZ2UsXG4gICAgc3RvcmFnZUtleSA9IFwidnVldXNlLWNvbG9yLXNjaGVtZVwiLFxuICAgIGxpc3RlblRvU3RvcmFnZUNoYW5nZXMgPSB0cnVlLFxuICAgIHN0b3JhZ2VSZWYsXG4gICAgZW1pdEF1dG8sXG4gICAgZGlzYWJsZVRyYW5zaXRpb24gPSB0cnVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBtb2RlcyA9IHtcbiAgICBhdXRvOiBcIlwiLFxuICAgIGxpZ2h0OiBcImxpZ2h0XCIsXG4gICAgZGFyazogXCJkYXJrXCIsXG4gICAgLi4ub3B0aW9ucy5tb2RlcyB8fCB7fVxuICB9O1xuICBjb25zdCBwcmVmZXJyZWREYXJrID0gdXNlUHJlZmVycmVkRGFyayh7IHdpbmRvdyB9KTtcbiAgY29uc3Qgc3lzdGVtID0gY29tcHV0ZWQoKCkgPT4gcHJlZmVycmVkRGFyay52YWx1ZSA/IFwiZGFya1wiIDogXCJsaWdodFwiKTtcbiAgY29uc3Qgc3RvcmUgPSBzdG9yYWdlUmVmIHx8IChzdG9yYWdlS2V5ID09IG51bGwgPyB0b1JlZihpbml0aWFsVmFsdWUpIDogdXNlU3RvcmFnZShzdG9yYWdlS2V5LCBpbml0aWFsVmFsdWUsIHN0b3JhZ2UsIHsgd2luZG93LCBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzIH0pKTtcbiAgY29uc3Qgc3RhdGUgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS52YWx1ZSA9PT0gXCJhdXRvXCIgPyBzeXN0ZW0udmFsdWUgOiBzdG9yZS52YWx1ZSk7XG4gIGNvbnN0IHVwZGF0ZUhUTUxBdHRycyA9IGdldFNTUkhhbmRsZXIoXG4gICAgXCJ1cGRhdGVIVE1MQXR0cnNcIixcbiAgICAoc2VsZWN0b3IyLCBhdHRyaWJ1dGUyLCB2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgZWwgPSB0eXBlb2Ygc2VsZWN0b3IyID09PSBcInN0cmluZ1wiID8gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcjIpIDogdW5yZWZFbGVtZW50KHNlbGVjdG9yMik7XG4gICAgICBpZiAoIWVsKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBjbGFzc2VzVG9BZGQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgY29uc3QgY2xhc3Nlc1RvUmVtb3ZlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGxldCBhdHRyaWJ1dGVUb0NoYW5nZSA9IG51bGw7XG4gICAgICBpZiAoYXR0cmlidXRlMiA9PT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB2YWx1ZS5zcGxpdCgvXFxzL2cpO1xuICAgICAgICBPYmplY3QudmFsdWVzKG1vZGVzKS5mbGF0TWFwKChpKSA9PiAoaSB8fCBcIlwiKS5zcGxpdCgvXFxzL2cpKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgIGlmIChjdXJyZW50LmluY2x1ZGVzKHYpKVxuICAgICAgICAgICAgY2xhc3Nlc1RvQWRkLmFkZCh2KTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBjbGFzc2VzVG9SZW1vdmUuYWRkKHYpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF0dHJpYnV0ZVRvQ2hhbmdlID0geyBrZXk6IGF0dHJpYnV0ZTIsIHZhbHVlIH07XG4gICAgICB9XG4gICAgICBpZiAoY2xhc3Nlc1RvQWRkLnNpemUgPT09IDAgJiYgY2xhc3Nlc1RvUmVtb3ZlLnNpemUgPT09IDAgJiYgYXR0cmlidXRlVG9DaGFuZ2UgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGxldCBzdHlsZTtcbiAgICAgIGlmIChkaXNhYmxlVHJhbnNpdGlvbikge1xuICAgICAgICBzdHlsZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKENTU19ESVNBQkxFX1RSQU5TKSk7XG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgYyBvZiBjbGFzc2VzVG9BZGQpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjKTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgYyBvZiBjbGFzc2VzVG9SZW1vdmUpIHtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShjKTtcbiAgICAgIH1cbiAgICAgIGlmIChhdHRyaWJ1dGVUb0NoYW5nZSkge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlVG9DaGFuZ2Uua2V5LCBhdHRyaWJ1dGVUb0NoYW5nZS52YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZGlzYWJsZVRyYW5zaXRpb24pIHtcbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoc3R5bGUpLm9wYWNpdHk7XG4gICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgZnVuY3Rpb24gZGVmYXVsdE9uQ2hhbmdlZChtb2RlKSB7XG4gICAgdmFyIF9hO1xuICAgIHVwZGF0ZUhUTUxBdHRycyhzZWxlY3RvciwgYXR0cmlidXRlLCAoX2EgPSBtb2Rlc1ttb2RlXSkgIT0gbnVsbCA/IF9hIDogbW9kZSk7XG4gIH1cbiAgZnVuY3Rpb24gb25DaGFuZ2VkKG1vZGUpIHtcbiAgICBpZiAob3B0aW9ucy5vbkNoYW5nZWQpXG4gICAgICBvcHRpb25zLm9uQ2hhbmdlZChtb2RlLCBkZWZhdWx0T25DaGFuZ2VkKTtcbiAgICBlbHNlXG4gICAgICBkZWZhdWx0T25DaGFuZ2VkKG1vZGUpO1xuICB9XG4gIHdhdGNoKHN0YXRlLCBvbkNoYW5nZWQsIHsgZmx1c2g6IFwicG9zdFwiLCBpbW1lZGlhdGU6IHRydWUgfSk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiBvbkNoYW5nZWQoc3RhdGUudmFsdWUpKTtcbiAgY29uc3QgYXV0byA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gZW1pdEF1dG8gPyBzdG9yZS52YWx1ZSA6IHN0YXRlLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIHN0b3JlLnZhbHVlID0gdjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbihhdXRvLCB7IHN0b3JlLCBzeXN0ZW0sIHN0YXRlIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VDb25maXJtRGlhbG9nKHJldmVhbGVkID0gc2hhbGxvd1JlZihmYWxzZSkpIHtcbiAgY29uc3QgY29uZmlybUhvb2sgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgY2FuY2VsSG9vayA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCByZXZlYWxIb29rID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGxldCBfcmVzb2x2ZSA9IG5vb3A7XG4gIGNvbnN0IHJldmVhbCA9IChkYXRhKSA9PiB7XG4gICAgcmV2ZWFsSG9vay50cmlnZ2VyKGRhdGEpO1xuICAgIHJldmVhbGVkLnZhbHVlID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgY29uZmlybSA9IChkYXRhKSA9PiB7XG4gICAgcmV2ZWFsZWQudmFsdWUgPSBmYWxzZTtcbiAgICBjb25maXJtSG9vay50cmlnZ2VyKGRhdGEpO1xuICAgIF9yZXNvbHZlKHsgZGF0YSwgaXNDYW5jZWxlZDogZmFsc2UgfSk7XG4gIH07XG4gIGNvbnN0IGNhbmNlbCA9IChkYXRhKSA9PiB7XG4gICAgcmV2ZWFsZWQudmFsdWUgPSBmYWxzZTtcbiAgICBjYW5jZWxIb29rLnRyaWdnZXIoZGF0YSk7XG4gICAgX3Jlc29sdmUoeyBkYXRhLCBpc0NhbmNlbGVkOiB0cnVlIH0pO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGlzUmV2ZWFsZWQ6IGNvbXB1dGVkKCgpID0+IHJldmVhbGVkLnZhbHVlKSxcbiAgICByZXZlYWwsXG4gICAgY29uZmlybSxcbiAgICBjYW5jZWwsXG4gICAgb25SZXZlYWw6IHJldmVhbEhvb2sub24sXG4gICAgb25Db25maXJtOiBjb25maXJtSG9vay5vbixcbiAgICBvbkNhbmNlbDogY2FuY2VsSG9vay5vblxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VDb3VudGRvd24oaW5pdGlhbENvdW50ZG93biwgb3B0aW9ucykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCByZW1haW5pbmcgPSBzaGFsbG93UmVmKHRvVmFsdWUoaW5pdGlhbENvdW50ZG93bikpO1xuICBjb25zdCBpbnRlcnZhbENvbnRyb2xsZXIgPSB1c2VJbnRlcnZhbEZuKCgpID0+IHtcbiAgICB2YXIgX2EyLCBfYjI7XG4gICAgY29uc3QgdmFsdWUgPSByZW1haW5pbmcudmFsdWUgLSAxO1xuICAgIHJlbWFpbmluZy52YWx1ZSA9IHZhbHVlIDwgMCA/IDAgOiB2YWx1ZTtcbiAgICAoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vblRpY2spID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChvcHRpb25zKTtcbiAgICBpZiAocmVtYWluaW5nLnZhbHVlIDw9IDApIHtcbiAgICAgIGludGVydmFsQ29udHJvbGxlci5wYXVzZSgpO1xuICAgICAgKF9iMiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25Db21wbGV0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5jYWxsKG9wdGlvbnMpO1xuICAgIH1cbiAgfSwgKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbnRlcnZhbCkgIT0gbnVsbCA/IF9hIDogMWUzLCB7IGltbWVkaWF0ZTogKF9iID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbW1lZGlhdGUpICE9IG51bGwgPyBfYiA6IGZhbHNlIH0pO1xuICBjb25zdCByZXNldCA9IChjb3VudGRvd24pID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJlbWFpbmluZy52YWx1ZSA9IChfYTIgPSB0b1ZhbHVlKGNvdW50ZG93bikpICE9IG51bGwgPyBfYTIgOiB0b1ZhbHVlKGluaXRpYWxDb3VudGRvd24pO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGludGVydmFsQ29udHJvbGxlci5wYXVzZSgpO1xuICAgIHJlc2V0KCk7XG4gIH07XG4gIGNvbnN0IHJlc3VtZSA9ICgpID0+IHtcbiAgICBpZiAoIWludGVydmFsQ29udHJvbGxlci5pc0FjdGl2ZS52YWx1ZSkge1xuICAgICAgaWYgKHJlbWFpbmluZy52YWx1ZSA+IDApIHtcbiAgICAgICAgaW50ZXJ2YWxDb250cm9sbGVyLnJlc3VtZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgc3RhcnQgPSAoY291bnRkb3duKSA9PiB7XG4gICAgcmVzZXQoY291bnRkb3duKTtcbiAgICBpbnRlcnZhbENvbnRyb2xsZXIucmVzdW1lKCk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgcmVtYWluaW5nLFxuICAgIHJlc2V0LFxuICAgIHN0b3AsXG4gICAgc3RhcnQsXG4gICAgcGF1c2U6IGludGVydmFsQ29udHJvbGxlci5wYXVzZSxcbiAgICByZXN1bWUsXG4gICAgaXNBY3RpdmU6IGludGVydmFsQ29udHJvbGxlci5pc0FjdGl2ZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VDc3NWYXIocHJvcCwgdGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93LCBpbml0aWFsVmFsdWUsIG9ic2VydmUgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgY29uc3QgdmFyaWFibGUgPSBzaGFsbG93UmVmKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IGVsUmVmID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gdW5yZWZFbGVtZW50KHRhcmdldCkgfHwgKChfYSA9IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZG9jdW1lbnRFbGVtZW50KTtcbiAgfSk7XG4gIGZ1bmN0aW9uIHVwZGF0ZUNzc1ZhcigpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qga2V5ID0gdG9WYWx1ZShwcm9wKTtcbiAgICBjb25zdCBlbCA9IHRvVmFsdWUoZWxSZWYpO1xuICAgIGlmIChlbCAmJiB3aW5kb3cgJiYga2V5KSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IChfYSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKGtleSkpID09IG51bGwgPyB2b2lkIDAgOiBfYS50cmltKCk7XG4gICAgICB2YXJpYWJsZS52YWx1ZSA9IHZhbHVlIHx8IHZhcmlhYmxlLnZhbHVlIHx8IGluaXRpYWxWYWx1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKG9ic2VydmUpIHtcbiAgICB1c2VNdXRhdGlvbk9ic2VydmVyKGVsUmVmLCB1cGRhdGVDc3NWYXIsIHtcbiAgICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wic3R5bGVcIiwgXCJjbGFzc1wiXSxcbiAgICAgIHdpbmRvd1xuICAgIH0pO1xuICB9XG4gIHdhdGNoKFxuICAgIFtlbFJlZiwgKCkgPT4gdG9WYWx1ZShwcm9wKV0sXG4gICAgKF8sIG9sZCkgPT4ge1xuICAgICAgaWYgKG9sZFswXSAmJiBvbGRbMV0pXG4gICAgICAgIG9sZFswXS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShvbGRbMV0pO1xuICAgICAgdXBkYXRlQ3NzVmFyKCk7XG4gICAgfSxcbiAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICk7XG4gIHdhdGNoKFxuICAgIFt2YXJpYWJsZSwgZWxSZWZdLFxuICAgIChbdmFsLCBlbF0pID0+IHtcbiAgICAgIGNvbnN0IHJhd19wcm9wID0gdG9WYWx1ZShwcm9wKTtcbiAgICAgIGlmICgoZWwgPT0gbnVsbCA/IHZvaWQgMCA6IGVsLnN0eWxlKSAmJiByYXdfcHJvcCkge1xuICAgICAgICBpZiAodmFsID09IG51bGwpXG4gICAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkocmF3X3Byb3ApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZWwuc3R5bGUuc2V0UHJvcGVydHkocmF3X3Byb3AsIHZhbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICk7XG4gIHJldHVybiB2YXJpYWJsZTtcbn1cblxuZnVuY3Rpb24gdXNlQ3VycmVudEVsZW1lbnQocm9vdENvbXBvbmVudCkge1xuICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCBjdXJyZW50RWxlbWVudCA9IGNvbXB1dGVkV2l0aENvbnRyb2woXG4gICAgKCkgPT4gbnVsbCxcbiAgICAoKSA9PiByb290Q29tcG9uZW50ID8gdW5yZWZFbGVtZW50KHJvb3RDb21wb25lbnQpIDogdm0ucHJveHkuJGVsXG4gICk7XG4gIG9uVXBkYXRlZChjdXJyZW50RWxlbWVudC50cmlnZ2VyKTtcbiAgb25Nb3VudGVkKGN1cnJlbnRFbGVtZW50LnRyaWdnZXIpO1xuICByZXR1cm4gY3VycmVudEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHVzZUN5Y2xlTGlzdChsaXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IHN0YXRlID0gc2hhbGxvd1JlZihnZXRJbml0aWFsVmFsdWUoKSk7XG4gIGNvbnN0IGxpc3RSZWYgPSB0b1JlZihsaXN0KTtcbiAgY29uc3QgaW5kZXggPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgdGFyZ2V0TGlzdCA9IGxpc3RSZWYudmFsdWU7XG4gICAgICBsZXQgaW5kZXgyID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZ2V0SW5kZXhPZikgPyBvcHRpb25zLmdldEluZGV4T2Yoc3RhdGUudmFsdWUsIHRhcmdldExpc3QpIDogdGFyZ2V0TGlzdC5pbmRleE9mKHN0YXRlLnZhbHVlKTtcbiAgICAgIGlmIChpbmRleDIgPCAwKVxuICAgICAgICBpbmRleDIgPSAoX2EgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmZhbGxiYWNrSW5kZXgpICE9IG51bGwgPyBfYSA6IDA7XG4gICAgICByZXR1cm4gaW5kZXgyO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIHNldCh2KTtcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiBzZXQoaSkge1xuICAgIGNvbnN0IHRhcmdldExpc3QgPSBsaXN0UmVmLnZhbHVlO1xuICAgIGNvbnN0IGxlbmd0aCA9IHRhcmdldExpc3QubGVuZ3RoO1xuICAgIGNvbnN0IGluZGV4MiA9IChpICUgbGVuZ3RoICsgbGVuZ3RoKSAlIGxlbmd0aDtcbiAgICBjb25zdCB2YWx1ZSA9IHRhcmdldExpc3RbaW5kZXgyXTtcbiAgICBzdGF0ZS52YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBmdW5jdGlvbiBzaGlmdChkZWx0YSA9IDEpIHtcbiAgICByZXR1cm4gc2V0KGluZGV4LnZhbHVlICsgZGVsdGEpO1xuICB9XG4gIGZ1bmN0aW9uIG5leHQobiA9IDEpIHtcbiAgICByZXR1cm4gc2hpZnQobik7XG4gIH1cbiAgZnVuY3Rpb24gcHJldihuID0gMSkge1xuICAgIHJldHVybiBzaGlmdCgtbik7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW5pdGlhbFZhbHVlKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IHRvVmFsdWUoKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbml0aWFsVmFsdWUpICE9IG51bGwgPyBfYSA6IHRvVmFsdWUobGlzdClbMF0pKSAhPSBudWxsID8gX2IgOiB2b2lkIDA7XG4gIH1cbiAgd2F0Y2gobGlzdFJlZiwgKCkgPT4gc2V0KGluZGV4LnZhbHVlKSk7XG4gIHJldHVybiB7XG4gICAgc3RhdGUsXG4gICAgaW5kZXgsXG4gICAgbmV4dCxcbiAgICBwcmV2LFxuICAgIGdvOiBzZXRcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRGFyayhvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHZhbHVlRGFyayA9IFwiZGFya1wiLFxuICAgIHZhbHVlTGlnaHQgPSBcIlwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBtb2RlID0gdXNlQ29sb3JNb2RlKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIG9uQ2hhbmdlZDogKG1vZGUyLCBkZWZhdWx0SGFuZGxlcikgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKG9wdGlvbnMub25DaGFuZ2VkKVxuICAgICAgICAoX2EgPSBvcHRpb25zLm9uQ2hhbmdlZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgbW9kZTIgPT09IFwiZGFya1wiLCBkZWZhdWx0SGFuZGxlciwgbW9kZTIpO1xuICAgICAgZWxzZVxuICAgICAgICBkZWZhdWx0SGFuZGxlcihtb2RlMik7XG4gICAgfSxcbiAgICBtb2Rlczoge1xuICAgICAgZGFyazogdmFsdWVEYXJrLFxuICAgICAgbGlnaHQ6IHZhbHVlTGlnaHRcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzeXN0ZW0gPSBjb21wdXRlZCgoKSA9PiBtb2RlLnN5c3RlbS52YWx1ZSk7XG4gIGNvbnN0IGlzRGFyayA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gbW9kZS52YWx1ZSA9PT0gXCJkYXJrXCI7XG4gICAgfSxcbiAgICBzZXQodikge1xuICAgICAgY29uc3QgbW9kZVZhbCA9IHYgPyBcImRhcmtcIiA6IFwibGlnaHRcIjtcbiAgICAgIGlmIChzeXN0ZW0udmFsdWUgPT09IG1vZGVWYWwpXG4gICAgICAgIG1vZGUudmFsdWUgPSBcImF1dG9cIjtcbiAgICAgIGVsc2VcbiAgICAgICAgbW9kZS52YWx1ZSA9IG1vZGVWYWw7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGlzRGFyaztcbn1cblxuZnVuY3Rpb24gZm5CeXBhc3Modikge1xuICByZXR1cm4gdjtcbn1cbmZ1bmN0aW9uIGZuU2V0U291cmNlKHNvdXJjZSwgdmFsdWUpIHtcbiAgcmV0dXJuIHNvdXJjZS52YWx1ZSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gZGVmYXVsdER1bXAoY2xvbmUpIHtcbiAgcmV0dXJuIGNsb25lID8gdHlwZW9mIGNsb25lID09PSBcImZ1bmN0aW9uXCIgPyBjbG9uZSA6IGNsb25lRm5KU09OIDogZm5CeXBhc3M7XG59XG5mdW5jdGlvbiBkZWZhdWx0UGFyc2UoY2xvbmUpIHtcbiAgcmV0dXJuIGNsb25lID8gdHlwZW9mIGNsb25lID09PSBcImZ1bmN0aW9uXCIgPyBjbG9uZSA6IGNsb25lRm5KU09OIDogZm5CeXBhc3M7XG59XG5mdW5jdGlvbiB1c2VNYW51YWxSZWZIaXN0b3J5KHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjbG9uZSA9IGZhbHNlLFxuICAgIGR1bXAgPSBkZWZhdWx0RHVtcChjbG9uZSksXG4gICAgcGFyc2UgPSBkZWZhdWx0UGFyc2UoY2xvbmUpLFxuICAgIHNldFNvdXJjZSA9IGZuU2V0U291cmNlXG4gIH0gPSBvcHRpb25zO1xuICBmdW5jdGlvbiBfY3JlYXRlSGlzdG9yeVJlY29yZCgpIHtcbiAgICByZXR1cm4gbWFya1Jhdyh7XG4gICAgICBzbmFwc2hvdDogZHVtcChzb3VyY2UudmFsdWUpLFxuICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAoKVxuICAgIH0pO1xuICB9XG4gIGNvbnN0IGxhc3QgPSByZWYoX2NyZWF0ZUhpc3RvcnlSZWNvcmQoKSk7XG4gIGNvbnN0IHVuZG9TdGFjayA9IHJlZihbXSk7XG4gIGNvbnN0IHJlZG9TdGFjayA9IHJlZihbXSk7XG4gIGNvbnN0IF9zZXRTb3VyY2UgPSAocmVjb3JkKSA9PiB7XG4gICAgc2V0U291cmNlKHNvdXJjZSwgcGFyc2UocmVjb3JkLnNuYXBzaG90KSk7XG4gICAgbGFzdC52YWx1ZSA9IHJlY29yZDtcbiAgfTtcbiAgY29uc3QgY29tbWl0ID0gKCkgPT4ge1xuICAgIHVuZG9TdGFjay52YWx1ZS51bnNoaWZ0KGxhc3QudmFsdWUpO1xuICAgIGxhc3QudmFsdWUgPSBfY3JlYXRlSGlzdG9yeVJlY29yZCgpO1xuICAgIGlmIChvcHRpb25zLmNhcGFjaXR5ICYmIHVuZG9TdGFjay52YWx1ZS5sZW5ndGggPiBvcHRpb25zLmNhcGFjaXR5KVxuICAgICAgdW5kb1N0YWNrLnZhbHVlLnNwbGljZShvcHRpb25zLmNhcGFjaXR5LCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgIGlmIChyZWRvU3RhY2sudmFsdWUubGVuZ3RoKVxuICAgICAgcmVkb1N0YWNrLnZhbHVlLnNwbGljZSgwLCByZWRvU3RhY2sudmFsdWUubGVuZ3RoKTtcbiAgfTtcbiAgY29uc3QgY2xlYXIgPSAoKSA9PiB7XG4gICAgdW5kb1N0YWNrLnZhbHVlLnNwbGljZSgwLCB1bmRvU3RhY2sudmFsdWUubGVuZ3RoKTtcbiAgICByZWRvU3RhY2sudmFsdWUuc3BsaWNlKDAsIHJlZG9TdGFjay52YWx1ZS5sZW5ndGgpO1xuICB9O1xuICBjb25zdCB1bmRvID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdW5kb1N0YWNrLnZhbHVlLnNoaWZ0KCk7XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICByZWRvU3RhY2sudmFsdWUudW5zaGlmdChsYXN0LnZhbHVlKTtcbiAgICAgIF9zZXRTb3VyY2Uoc3RhdGUpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVkbyA9ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHJlZG9TdGFjay52YWx1ZS5zaGlmdCgpO1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgdW5kb1N0YWNrLnZhbHVlLnVuc2hpZnQobGFzdC52YWx1ZSk7XG4gICAgICBfc2V0U291cmNlKHN0YXRlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgIF9zZXRTb3VyY2UobGFzdC52YWx1ZSk7XG4gIH07XG4gIGNvbnN0IGhpc3RvcnkgPSBjb21wdXRlZCgoKSA9PiBbbGFzdC52YWx1ZSwgLi4udW5kb1N0YWNrLnZhbHVlXSk7XG4gIGNvbnN0IGNhblVuZG8gPSBjb21wdXRlZCgoKSA9PiB1bmRvU3RhY2sudmFsdWUubGVuZ3RoID4gMCk7XG4gIGNvbnN0IGNhblJlZG8gPSBjb21wdXRlZCgoKSA9PiByZWRvU3RhY2sudmFsdWUubGVuZ3RoID4gMCk7XG4gIHJldHVybiB7XG4gICAgc291cmNlLFxuICAgIHVuZG9TdGFjayxcbiAgICByZWRvU3RhY2ssXG4gICAgbGFzdCxcbiAgICBoaXN0b3J5LFxuICAgIGNhblVuZG8sXG4gICAgY2FuUmVkbyxcbiAgICBjbGVhcixcbiAgICBjb21taXQsXG4gICAgcmVzZXQsXG4gICAgdW5kbyxcbiAgICByZWRvXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVJlZkhpc3Rvcnkoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRlZXAgPSBmYWxzZSxcbiAgICBmbHVzaCA9IFwicHJlXCIsXG4gICAgZXZlbnRGaWx0ZXJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHtcbiAgICBldmVudEZpbHRlcjogY29tcG9zZWRGaWx0ZXIsXG4gICAgcGF1c2UsXG4gICAgcmVzdW1lOiByZXN1bWVUcmFja2luZyxcbiAgICBpc0FjdGl2ZTogaXNUcmFja2luZ1xuICB9ID0gcGF1c2FibGVGaWx0ZXIoZXZlbnRGaWx0ZXIpO1xuICBjb25zdCB7XG4gICAgaWdub3JlVXBkYXRlcyxcbiAgICBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzLFxuICAgIHN0b3BcbiAgfSA9IHdhdGNoSWdub3JhYmxlKFxuICAgIHNvdXJjZSxcbiAgICBjb21taXQsXG4gICAgeyBkZWVwLCBmbHVzaCwgZXZlbnRGaWx0ZXI6IGNvbXBvc2VkRmlsdGVyIH1cbiAgKTtcbiAgZnVuY3Rpb24gc2V0U291cmNlKHNvdXJjZTIsIHZhbHVlKSB7XG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcygpO1xuICAgIGlnbm9yZVVwZGF0ZXMoKCkgPT4ge1xuICAgICAgc291cmNlMi52YWx1ZSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IG1hbnVhbEhpc3RvcnkgPSB1c2VNYW51YWxSZWZIaXN0b3J5KHNvdXJjZSwgeyAuLi5vcHRpb25zLCBjbG9uZTogb3B0aW9ucy5jbG9uZSB8fCBkZWVwLCBzZXRTb3VyY2UgfSk7XG4gIGNvbnN0IHsgY2xlYXIsIGNvbW1pdDogbWFudWFsQ29tbWl0IH0gPSBtYW51YWxIaXN0b3J5O1xuICBmdW5jdGlvbiBjb21taXQoKSB7XG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcygpO1xuICAgIG1hbnVhbENvbW1pdCgpO1xuICB9XG4gIGZ1bmN0aW9uIHJlc3VtZShjb21taXROb3cpIHtcbiAgICByZXN1bWVUcmFja2luZygpO1xuICAgIGlmIChjb21taXROb3cpXG4gICAgICBjb21taXQoKTtcbiAgfVxuICBmdW5jdGlvbiBiYXRjaChmbikge1xuICAgIGxldCBjYW5jZWxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGNhbmNlbCA9ICgpID0+IGNhbmNlbGVkID0gdHJ1ZTtcbiAgICBpZ25vcmVVcGRhdGVzKCgpID0+IHtcbiAgICAgIGZuKGNhbmNlbCk7XG4gICAgfSk7XG4gICAgaWYgKCFjYW5jZWxlZClcbiAgICAgIGNvbW1pdCgpO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgc3RvcCgpO1xuICAgIGNsZWFyKCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5tYW51YWxIaXN0b3J5LFxuICAgIGlzVHJhY2tpbmcsXG4gICAgcGF1c2UsXG4gICAgcmVzdW1lLFxuICAgIGNvbW1pdCxcbiAgICBiYXRjaCxcbiAgICBkaXNwb3NlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURlYm91bmNlZFJlZkhpc3Rvcnkoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZmlsdGVyID0gb3B0aW9ucy5kZWJvdW5jZSA/IGRlYm91bmNlRmlsdGVyKG9wdGlvbnMuZGVib3VuY2UpIDogdm9pZCAwO1xuICBjb25zdCBoaXN0b3J5ID0gdXNlUmVmSGlzdG9yeShzb3VyY2UsIHsgLi4ub3B0aW9ucywgZXZlbnRGaWx0ZXI6IGZpbHRlciB9KTtcbiAgcmV0dXJuIHtcbiAgICAuLi5oaXN0b3J5XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURldmljZU1vdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgcmVxdWVzdFBlcm1pc3Npb25zID0gZmFsc2UsXG4gICAgZXZlbnRGaWx0ZXIgPSBieXBhc3NGaWx0ZXJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHR5cGVvZiBEZXZpY2VNb3Rpb25FdmVudCAhPT0gXCJ1bmRlZmluZWRcIik7XG4gIGNvbnN0IHJlcXVpcmVQZXJtaXNzaW9ucyA9IHVzZVN1cHBvcnRlZCgoKSA9PiBpc1N1cHBvcnRlZC52YWx1ZSAmJiBcInJlcXVlc3RQZXJtaXNzaW9uXCIgaW4gRGV2aWNlTW90aW9uRXZlbnQgJiYgdHlwZW9mIERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uID09PSBcImZ1bmN0aW9uXCIpO1xuICBjb25zdCBwZXJtaXNzaW9uR3JhbnRlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBhY2NlbGVyYXRpb24gPSByZWYoeyB4OiBudWxsLCB5OiBudWxsLCB6OiBudWxsIH0pO1xuICBjb25zdCByb3RhdGlvblJhdGUgPSByZWYoeyBhbHBoYTogbnVsbCwgYmV0YTogbnVsbCwgZ2FtbWE6IG51bGwgfSk7XG4gIGNvbnN0IGludGVydmFsID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSA9IHJlZih7XG4gICAgeDogbnVsbCxcbiAgICB5OiBudWxsLFxuICAgIHo6IG51bGxcbiAgfSk7XG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKHdpbmRvdykge1xuICAgICAgY29uc3Qgb25EZXZpY2VNb3Rpb24gPSBjcmVhdGVGaWx0ZXJXcmFwcGVyKFxuICAgICAgICBldmVudEZpbHRlcixcbiAgICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2k7XG4gICAgICAgICAgYWNjZWxlcmF0aW9uLnZhbHVlID0ge1xuICAgICAgICAgICAgeDogKChfYSA9IGV2ZW50LmFjY2VsZXJhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLngpIHx8IG51bGwsXG4gICAgICAgICAgICB5OiAoKF9iID0gZXZlbnQuYWNjZWxlcmF0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2IueSkgfHwgbnVsbCxcbiAgICAgICAgICAgIHo6ICgoX2MgPSBldmVudC5hY2NlbGVyYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYy56KSB8fCBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBhY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5LnZhbHVlID0ge1xuICAgICAgICAgICAgeDogKChfZCA9IGV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkpID09IG51bGwgPyB2b2lkIDAgOiBfZC54KSB8fCBudWxsLFxuICAgICAgICAgICAgeTogKChfZSA9IGV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkpID09IG51bGwgPyB2b2lkIDAgOiBfZS55KSB8fCBudWxsLFxuICAgICAgICAgICAgejogKChfZiA9IGV2ZW50LmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkpID09IG51bGwgPyB2b2lkIDAgOiBfZi56KSB8fCBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgICByb3RhdGlvblJhdGUudmFsdWUgPSB7XG4gICAgICAgICAgICBhbHBoYTogKChfZyA9IGV2ZW50LnJvdGF0aW9uUmF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9nLmFscGhhKSB8fCBudWxsLFxuICAgICAgICAgICAgYmV0YTogKChfaCA9IGV2ZW50LnJvdGF0aW9uUmF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLmJldGEpIHx8IG51bGwsXG4gICAgICAgICAgICBnYW1tYTogKChfaSA9IGV2ZW50LnJvdGF0aW9uUmF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLmdhbW1hKSB8fCBudWxsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbnRlcnZhbC52YWx1ZSA9IGV2ZW50LmludGVydmFsO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiZGV2aWNlbW90aW9uXCIsIG9uRGV2aWNlTW90aW9uLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGVuc3VyZVBlcm1pc3Npb25zID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcmVxdWlyZVBlcm1pc3Npb25zLnZhbHVlKVxuICAgICAgcGVybWlzc2lvbkdyYW50ZWQudmFsdWUgPSB0cnVlO1xuICAgIGlmIChwZXJtaXNzaW9uR3JhbnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAocmVxdWlyZVBlcm1pc3Npb25zLnZhbHVlKSB7XG4gICAgICBjb25zdCByZXF1ZXN0UGVybWlzc2lvbiA9IERldmljZU1vdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICBpZiAocmVzcG9uc2UgPT09IFwiZ3JhbnRlZFwiKSB7XG4gICAgICAgICAgcGVybWlzc2lvbkdyYW50ZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICBpZiAocmVxdWVzdFBlcm1pc3Npb25zICYmIHJlcXVpcmVQZXJtaXNzaW9ucy52YWx1ZSkge1xuICAgICAgZW5zdXJlUGVybWlzc2lvbnMoKS50aGVuKCgpID0+IGluaXQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBhY2NlbGVyYXRpb24sXG4gICAgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eSxcbiAgICByb3RhdGlvblJhdGUsXG4gICAgaW50ZXJ2YWwsXG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgcmVxdWlyZVBlcm1pc3Npb25zLFxuICAgIGVuc3VyZVBlcm1pc3Npb25zLFxuICAgIHBlcm1pc3Npb25HcmFudGVkXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURldmljZU9yaWVudGF0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHdpbmRvdyAmJiBcIkRldmljZU9yaWVudGF0aW9uRXZlbnRcIiBpbiB3aW5kb3cpO1xuICBjb25zdCBpc0Fic29sdXRlID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGFscGhhID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgYmV0YSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IGdhbW1hID0gc2hhbGxvd1JlZihudWxsKTtcbiAgaWYgKHdpbmRvdyAmJiBpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImRldmljZW9yaWVudGF0aW9uXCIsIChldmVudCkgPT4ge1xuICAgICAgaXNBYnNvbHV0ZS52YWx1ZSA9IGV2ZW50LmFic29sdXRlO1xuICAgICAgYWxwaGEudmFsdWUgPSBldmVudC5hbHBoYTtcbiAgICAgIGJldGEudmFsdWUgPSBldmVudC5iZXRhO1xuICAgICAgZ2FtbWEudmFsdWUgPSBldmVudC5nYW1tYTtcbiAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBpc0Fic29sdXRlLFxuICAgIGFscGhhLFxuICAgIGJldGEsXG4gICAgZ2FtbWFcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRGV2aWNlUGl4ZWxSYXRpbyhvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBpeGVsUmF0aW8gPSBzaGFsbG93UmVmKDEpO1xuICBjb25zdCBxdWVyeSA9IHVzZU1lZGlhUXVlcnkoKCkgPT4gYChyZXNvbHV0aW9uOiAke3BpeGVsUmF0aW8udmFsdWV9ZHBweClgLCBvcHRpb25zKTtcbiAgbGV0IHN0b3AgPSBub29wO1xuICBpZiAod2luZG93KSB7XG4gICAgc3RvcCA9IHdhdGNoSW1tZWRpYXRlKHF1ZXJ5LCAoKSA9PiBwaXhlbFJhdGlvLnZhbHVlID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICB9XG4gIHJldHVybiB7XG4gICAgcGl4ZWxSYXRpbzogcmVhZG9ubHkocGl4ZWxSYXRpbyksXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VEZXZpY2VzTGlzdChvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IsXG4gICAgcmVxdWVzdFBlcm1pc3Npb25zID0gZmFsc2UsXG4gICAgY29uc3RyYWludHMgPSB7IGF1ZGlvOiB0cnVlLCB2aWRlbzogdHJ1ZSB9LFxuICAgIG9uVXBkYXRlZFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZGV2aWNlcyA9IHJlZihbXSk7XG4gIGNvbnN0IHZpZGVvSW5wdXRzID0gY29tcHV0ZWQoKCkgPT4gZGV2aWNlcy52YWx1ZS5maWx0ZXIoKGkpID0+IGkua2luZCA9PT0gXCJ2aWRlb2lucHV0XCIpKTtcbiAgY29uc3QgYXVkaW9JbnB1dHMgPSBjb21wdXRlZCgoKSA9PiBkZXZpY2VzLnZhbHVlLmZpbHRlcigoaSkgPT4gaS5raW5kID09PSBcImF1ZGlvaW5wdXRcIikpO1xuICBjb25zdCBhdWRpb091dHB1dHMgPSBjb21wdXRlZCgoKSA9PiBkZXZpY2VzLnZhbHVlLmZpbHRlcigoaSkgPT4gaS5raW5kID09PSBcImF1ZGlvb3V0cHV0XCIpKTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMgJiYgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKTtcbiAgY29uc3QgcGVybWlzc2lvbkdyYW50ZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgbGV0IHN0cmVhbTtcbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgZGV2aWNlcy52YWx1ZSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgIG9uVXBkYXRlZCA9PSBudWxsID8gdm9pZCAwIDogb25VcGRhdGVkKGRldmljZXMudmFsdWUpO1xuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB0LnN0b3AoKSk7XG4gICAgICBzdHJlYW0gPSBudWxsO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBlbnN1cmVQZXJtaXNzaW9ucygpIHtcbiAgICBjb25zdCBkZXZpY2VOYW1lID0gY29uc3RyYWludHMudmlkZW8gPyBcImNhbWVyYVwiIDogXCJtaWNyb3Bob25lXCI7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAocGVybWlzc2lvbkdyYW50ZWQudmFsdWUpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjb25zdCB7IHN0YXRlLCBxdWVyeSB9ID0gdXNlUGVybWlzc2lvbihkZXZpY2VOYW1lLCB7IGNvbnRyb2xzOiB0cnVlIH0pO1xuICAgIGF3YWl0IHF1ZXJ5KCk7XG4gICAgaWYgKHN0YXRlLnZhbHVlICE9PSBcImdyYW50ZWRcIikge1xuICAgICAgbGV0IGdyYW50ZWQgPSB0cnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzdHJlYW0gPSBudWxsO1xuICAgICAgICBncmFudGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB1cGRhdGUoKTtcbiAgICAgIHBlcm1pc3Npb25HcmFudGVkLnZhbHVlID0gZ3JhbnRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVybWlzc2lvbkdyYW50ZWQudmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcGVybWlzc2lvbkdyYW50ZWQudmFsdWU7XG4gIH1cbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgaWYgKHJlcXVlc3RQZXJtaXNzaW9ucylcbiAgICAgIGVuc3VyZVBlcm1pc3Npb25zKCk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLCBcImRldmljZWNoYW5nZVwiLCB1cGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB1cGRhdGUoKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGRldmljZXMsXG4gICAgZW5zdXJlUGVybWlzc2lvbnMsXG4gICAgcGVybWlzc2lvbkdyYW50ZWQsXG4gICAgdmlkZW9JbnB1dHMsXG4gICAgYXVkaW9JbnB1dHMsXG4gICAgYXVkaW9PdXRwdXRzLFxuICAgIGlzU3VwcG9ydGVkXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURpc3BsYXlNZWRpYShvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hO1xuICBjb25zdCBlbmFibGVkID0gc2hhbGxvd1JlZigoX2EgPSBvcHRpb25zLmVuYWJsZWQpICE9IG51bGwgPyBfYSA6IGZhbHNlKTtcbiAgY29uc3QgdmlkZW8gPSBvcHRpb25zLnZpZGVvO1xuICBjb25zdCBhdWRpbyA9IG9wdGlvbnMuYXVkaW87XG4gIGNvbnN0IHsgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvciB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgcmV0dXJuIChfYTIgPSBuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5tZWRpYURldmljZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ2V0RGlzcGxheU1lZGlhO1xuICB9KTtcbiAgY29uc3QgY29uc3RyYWludCA9IHsgYXVkaW8sIHZpZGVvIH07XG4gIGNvbnN0IHN0cmVhbSA9IHNoYWxsb3dSZWYoKTtcbiAgYXN5bmMgZnVuY3Rpb24gX3N0YXJ0KCkge1xuICAgIHZhciBfYTI7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCBzdHJlYW0udmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgc3RyZWFtLnZhbHVlID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoY29uc3RyYWludCk7XG4gICAgKF9hMiA9IHN0cmVhbS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB1c2VFdmVudExpc3RlbmVyKHQsIFwiZW5kZWRcIiwgc3RvcCwgeyBwYXNzaXZlOiB0cnVlIH0pKTtcbiAgICByZXR1cm4gc3RyZWFtLnZhbHVlO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIF9zdG9wKCkge1xuICAgIHZhciBfYTI7XG4gICAgKF9hMiA9IHN0cmVhbS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB0LnN0b3AoKSk7XG4gICAgc3RyZWFtLnZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgX3N0b3AoKTtcbiAgICBlbmFibGVkLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgYXdhaXQgX3N0YXJ0KCk7XG4gICAgaWYgKHN0cmVhbS52YWx1ZSlcbiAgICAgIGVuYWJsZWQudmFsdWUgPSB0cnVlO1xuICAgIHJldHVybiBzdHJlYW0udmFsdWU7XG4gIH1cbiAgd2F0Y2goXG4gICAgZW5hYmxlZCxcbiAgICAodikgPT4ge1xuICAgICAgaWYgKHYpXG4gICAgICAgIF9zdGFydCgpO1xuICAgICAgZWxzZVxuICAgICAgICBfc3RvcCgpO1xuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUgfVxuICApO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0cmVhbSxcbiAgICBzdGFydCxcbiAgICBzdG9wLFxuICAgIGVuYWJsZWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRG9jdW1lbnRWaXNpYmlsaXR5KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50IH0gPSBvcHRpb25zO1xuICBpZiAoIWRvY3VtZW50KVxuICAgIHJldHVybiBzaGFsbG93UmVmKFwidmlzaWJsZVwiKTtcbiAgY29uc3QgdmlzaWJpbGl0eSA9IHNoYWxsb3dSZWYoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsICgpID0+IHtcbiAgICB2aXNpYmlsaXR5LnZhbHVlID0gZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlO1xuICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIHJldHVybiB2aXNpYmlsaXR5O1xufVxuXG5mdW5jdGlvbiB1c2VEcmFnZ2FibGUodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7XG4gICAgcG9pbnRlclR5cGVzLFxuICAgIHByZXZlbnREZWZhdWx0LFxuICAgIHN0b3BQcm9wYWdhdGlvbixcbiAgICBleGFjdCxcbiAgICBvbk1vdmUsXG4gICAgb25FbmQsXG4gICAgb25TdGFydCxcbiAgICBpbml0aWFsVmFsdWUsXG4gICAgYXhpcyA9IFwiYm90aFwiLFxuICAgIGRyYWdnaW5nRWxlbWVudCA9IGRlZmF1bHRXaW5kb3csXG4gICAgY29udGFpbmVyRWxlbWVudCxcbiAgICBoYW5kbGU6IGRyYWdnaW5nSGFuZGxlID0gdGFyZ2V0LFxuICAgIGJ1dHRvbnMgPSBbMF1cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHBvc2l0aW9uID0gcmVmKFxuICAgIChfYSA9IHRvVmFsdWUoaW5pdGlhbFZhbHVlKSkgIT0gbnVsbCA/IF9hIDogeyB4OiAwLCB5OiAwIH1cbiAgKTtcbiAgY29uc3QgcHJlc3NlZERlbHRhID0gcmVmKCk7XG4gIGNvbnN0IGZpbHRlckV2ZW50ID0gKGUpID0+IHtcbiAgICBpZiAocG9pbnRlclR5cGVzKVxuICAgICAgcmV0dXJuIHBvaW50ZXJUeXBlcy5pbmNsdWRlcyhlLnBvaW50ZXJUeXBlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlRXZlbnQgPSAoZSkgPT4ge1xuICAgIGlmICh0b1ZhbHVlKHByZXZlbnREZWZhdWx0KSlcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodG9WYWx1ZShzdG9wUHJvcGFnYXRpb24pKVxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfTtcbiAgY29uc3Qgc3RhcnQgPSAoZSkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgaWYgKCF0b1ZhbHVlKGJ1dHRvbnMpLmluY2x1ZGVzKGUuYnV0dG9uKSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAodG9WYWx1ZShvcHRpb25zLmRpc2FibGVkKSB8fCAhZmlsdGVyRXZlbnQoZSkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHRvVmFsdWUoZXhhY3QpICYmIGUudGFyZ2V0ICE9PSB0b1ZhbHVlKHRhcmdldCkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgY29udGFpbmVyID0gdG9WYWx1ZShjb250YWluZXJFbGVtZW50KTtcbiAgICBjb25zdCBjb250YWluZXJSZWN0ID0gKF9hMiA9IGNvbnRhaW5lciA9PSBudWxsID8gdm9pZCAwIDogY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRvVmFsdWUodGFyZ2V0KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBwb3MgPSB7XG4gICAgICB4OiBlLmNsaWVudFggLSAoY29udGFpbmVyID8gdGFyZ2V0UmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0ICsgY29udGFpbmVyLnNjcm9sbExlZnQgOiB0YXJnZXRSZWN0LmxlZnQpLFxuICAgICAgeTogZS5jbGllbnRZIC0gKGNvbnRhaW5lciA/IHRhcmdldFJlY3QudG9wIC0gY29udGFpbmVyUmVjdC50b3AgKyBjb250YWluZXIuc2Nyb2xsVG9wIDogdGFyZ2V0UmVjdC50b3ApXG4gICAgfTtcbiAgICBpZiAoKG9uU3RhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3RhcnQocG9zLCBlKSkgPT09IGZhbHNlKVxuICAgICAgcmV0dXJuO1xuICAgIHByZXNzZWREZWx0YS52YWx1ZSA9IHBvcztcbiAgICBoYW5kbGVFdmVudChlKTtcbiAgfTtcbiAgY29uc3QgbW92ZSA9IChlKSA9PiB7XG4gICAgaWYgKHRvVmFsdWUob3B0aW9ucy5kaXNhYmxlZCkgfHwgIWZpbHRlckV2ZW50KGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghcHJlc3NlZERlbHRhLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRvVmFsdWUoY29udGFpbmVyRWxlbWVudCk7XG4gICAgY29uc3QgdGFyZ2V0UmVjdCA9IHRvVmFsdWUodGFyZ2V0KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgeyB4LCB5IH0gPSBwb3NpdGlvbi52YWx1ZTtcbiAgICBpZiAoYXhpcyA9PT0gXCJ4XCIgfHwgYXhpcyA9PT0gXCJib3RoXCIpIHtcbiAgICAgIHggPSBlLmNsaWVudFggLSBwcmVzc2VkRGVsdGEudmFsdWUueDtcbiAgICAgIGlmIChjb250YWluZXIpXG4gICAgICAgIHggPSBNYXRoLm1pbihNYXRoLm1heCgwLCB4KSwgY29udGFpbmVyLnNjcm9sbFdpZHRoIC0gdGFyZ2V0UmVjdC53aWR0aCk7XG4gICAgfVxuICAgIGlmIChheGlzID09PSBcInlcIiB8fCBheGlzID09PSBcImJvdGhcIikge1xuICAgICAgeSA9IGUuY2xpZW50WSAtIHByZXNzZWREZWx0YS52YWx1ZS55O1xuICAgICAgaWYgKGNvbnRhaW5lcilcbiAgICAgICAgeSA9IE1hdGgubWluKE1hdGgubWF4KDAsIHkpLCBjb250YWluZXIuc2Nyb2xsSGVpZ2h0IC0gdGFyZ2V0UmVjdC5oZWlnaHQpO1xuICAgIH1cbiAgICBwb3NpdGlvbi52YWx1ZSA9IHtcbiAgICAgIHgsXG4gICAgICB5XG4gICAgfTtcbiAgICBvbk1vdmUgPT0gbnVsbCA/IHZvaWQgMCA6IG9uTW92ZShwb3NpdGlvbi52YWx1ZSwgZSk7XG4gICAgaGFuZGxlRXZlbnQoZSk7XG4gIH07XG4gIGNvbnN0IGVuZCA9IChlKSA9PiB7XG4gICAgaWYgKHRvVmFsdWUob3B0aW9ucy5kaXNhYmxlZCkgfHwgIWZpbHRlckV2ZW50KGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghcHJlc3NlZERlbHRhLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHByZXNzZWREZWx0YS52YWx1ZSA9IHZvaWQgMDtcbiAgICBvbkVuZCA9PSBudWxsID8gdm9pZCAwIDogb25FbmQocG9zaXRpb24udmFsdWUsIGUpO1xuICAgIGhhbmRsZUV2ZW50KGUpO1xuICB9O1xuICBpZiAoaXNDbGllbnQpIHtcbiAgICBjb25zdCBjb25maWcgPSAoKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2FwdHVyZTogKF9hMiA9IG9wdGlvbnMuY2FwdHVyZSkgIT0gbnVsbCA/IF9hMiA6IHRydWUsXG4gICAgICAgIHBhc3NpdmU6ICF0b1ZhbHVlKHByZXZlbnREZWZhdWx0KVxuICAgICAgfTtcbiAgICB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZHJhZ2dpbmdIYW5kbGUsIFwicG9pbnRlcmRvd25cIiwgc3RhcnQsIGNvbmZpZyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkcmFnZ2luZ0VsZW1lbnQsIFwicG9pbnRlcm1vdmVcIiwgbW92ZSwgY29uZmlnKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKGRyYWdnaW5nRWxlbWVudCwgXCJwb2ludGVydXBcIiwgZW5kLCBjb25maWcpO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4udG9SZWZzKHBvc2l0aW9uKSxcbiAgICBwb3NpdGlvbixcbiAgICBpc0RyYWdnaW5nOiBjb21wdXRlZCgoKSA9PiAhIXByZXNzZWREZWx0YS52YWx1ZSksXG4gICAgc3R5bGU6IGNvbXB1dGVkKFxuICAgICAgKCkgPT4gYGxlZnQ6JHtwb3NpdGlvbi52YWx1ZS54fXB4O3RvcDoke3Bvc2l0aW9uLnZhbHVlLnl9cHg7YFxuICAgIClcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRHJvcFpvbmUodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgaXNPdmVyRHJvcFpvbmUgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgZmlsZXMgPSBzaGFsbG93UmVmKG51bGwpO1xuICBsZXQgY291bnRlciA9IDA7XG4gIGxldCBpc1ZhbGlkID0gdHJ1ZTtcbiAgaWYgKGlzQ2xpZW50KSB7XG4gICAgY29uc3QgX29wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiID8geyBvbkRyb3A6IG9wdGlvbnMgfSA6IG9wdGlvbnM7XG4gICAgY29uc3QgbXVsdGlwbGUgPSAoX2EgPSBfb3B0aW9ucy5tdWx0aXBsZSkgIT0gbnVsbCA/IF9hIDogdHJ1ZTtcbiAgICBjb25zdCBwcmV2ZW50RGVmYXVsdEZvclVuaGFuZGxlZCA9IChfYiA9IF9vcHRpb25zLnByZXZlbnREZWZhdWx0Rm9yVW5oYW5kbGVkKSAhPSBudWxsID8gX2IgOiBmYWxzZTtcbiAgICBjb25zdCBnZXRGaWxlcyA9IChldmVudCkgPT4ge1xuICAgICAgdmFyIF9hMiwgX2IyO1xuICAgICAgY29uc3QgbGlzdCA9IEFycmF5LmZyb20oKF9iMiA9IChfYTIgPSBldmVudC5kYXRhVHJhbnNmZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZmlsZXMpICE9IG51bGwgPyBfYjIgOiBbXSk7XG4gICAgICByZXR1cm4gbGlzdC5sZW5ndGggPT09IDAgPyBudWxsIDogbXVsdGlwbGUgPyBsaXN0IDogW2xpc3RbMF1dO1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tEYXRhVHlwZXMgPSAodHlwZXMpID0+IHtcbiAgICAgIGNvbnN0IGRhdGFUeXBlcyA9IHVucmVmKF9vcHRpb25zLmRhdGFUeXBlcyk7XG4gICAgICBpZiAodHlwZW9mIGRhdGFUeXBlcyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gZGF0YVR5cGVzKHR5cGVzKTtcbiAgICAgIGlmICghKGRhdGFUeXBlcyA9PSBudWxsID8gdm9pZCAwIDogZGF0YVR5cGVzLmxlbmd0aCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIHR5cGVzLmV2ZXJ5KFxuICAgICAgICAodHlwZSkgPT4gZGF0YVR5cGVzLnNvbWUoKGFsbG93ZWRUeXBlKSA9PiB0eXBlLmluY2x1ZGVzKGFsbG93ZWRUeXBlKSlcbiAgICAgICk7XG4gICAgfTtcbiAgICBjb25zdCBjaGVja1ZhbGlkaXR5ID0gKGl0ZW1zKSA9PiB7XG4gICAgICBjb25zdCB0eXBlcyA9IEFycmF5LmZyb20oaXRlbXMgIT0gbnVsbCA/IGl0ZW1zIDogW10pLm1hcCgoaXRlbSkgPT4gaXRlbS50eXBlKTtcbiAgICAgIGNvbnN0IGRhdGFUeXBlc1ZhbGlkID0gY2hlY2tEYXRhVHlwZXModHlwZXMpO1xuICAgICAgY29uc3QgbXVsdGlwbGVGaWxlc1ZhbGlkID0gbXVsdGlwbGUgfHwgaXRlbXMubGVuZ3RoIDw9IDE7XG4gICAgICByZXR1cm4gZGF0YVR5cGVzVmFsaWQgJiYgbXVsdGlwbGVGaWxlc1ZhbGlkO1xuICAgIH07XG4gICAgY29uc3QgaXNTYWZhcmkgPSAoKSA9PiAvXig/Oig/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgJiYgIShcImNocm9tZVwiIGluIHdpbmRvdyk7XG4gICAgY29uc3QgaGFuZGxlRHJhZ0V2ZW50ID0gKGV2ZW50LCBldmVudFR5cGUpID0+IHtcbiAgICAgIHZhciBfYTIsIF9iMiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICBjb25zdCBkYXRhVHJhbnNmZXJJdGVtTGlzdCA9IChfYTIgPSBldmVudC5kYXRhVHJhbnNmZXIpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuaXRlbXM7XG4gICAgICBpc1ZhbGlkID0gKF9iMiA9IGRhdGFUcmFuc2Zlckl0ZW1MaXN0ICYmIGNoZWNrVmFsaWRpdHkoZGF0YVRyYW5zZmVySXRlbUxpc3QpKSAhPSBudWxsID8gX2IyIDogZmFsc2U7XG4gICAgICBpZiAocHJldmVudERlZmF1bHRGb3JVbmhhbmRsZWQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNTYWZhcmkoKSAmJiAhaXNWYWxpZCkge1xuICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IFwiY29weVwiO1xuICAgICAgfVxuICAgICAgY29uc3QgY3VycmVudEZpbGVzID0gZ2V0RmlsZXMoZXZlbnQpO1xuICAgICAgc3dpdGNoIChldmVudFR5cGUpIHtcbiAgICAgICAgY2FzZSBcImVudGVyXCI6XG4gICAgICAgICAgY291bnRlciArPSAxO1xuICAgICAgICAgIGlzT3ZlckRyb3Bab25lLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAoX2MgPSBfb3B0aW9ucy5vbkVudGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY2FsbChfb3B0aW9ucywgbnVsbCwgZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3ZlclwiOlxuICAgICAgICAgIChfZCA9IF9vcHRpb25zLm9uT3ZlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNhbGwoX29wdGlvbnMsIG51bGwsIGV2ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxlYXZlXCI6XG4gICAgICAgICAgY291bnRlciAtPSAxO1xuICAgICAgICAgIGlmIChjb3VudGVyID09PSAwKVxuICAgICAgICAgICAgaXNPdmVyRHJvcFpvbmUudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAoX2UgPSBfb3B0aW9ucy5vbkxlYXZlKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY2FsbChfb3B0aW9ucywgbnVsbCwgZXZlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICAgIGNvdW50ZXIgPSAwO1xuICAgICAgICAgIGlzT3ZlckRyb3Bab25lLnZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIGZpbGVzLnZhbHVlID0gY3VycmVudEZpbGVzO1xuICAgICAgICAgICAgKF9mID0gX29wdGlvbnMub25Ecm9wKSA9PSBudWxsID8gdm9pZCAwIDogX2YuY2FsbChfb3B0aW9ucywgY3VycmVudEZpbGVzLCBldmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH07XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwiZHJhZ2VudGVyXCIsIChldmVudCkgPT4gaGFuZGxlRHJhZ0V2ZW50KGV2ZW50LCBcImVudGVyXCIpKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJkcmFnb3ZlclwiLCAoZXZlbnQpID0+IGhhbmRsZURyYWdFdmVudChldmVudCwgXCJvdmVyXCIpKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJkcmFnbGVhdmVcIiwgKGV2ZW50KSA9PiBoYW5kbGVEcmFnRXZlbnQoZXZlbnQsIFwibGVhdmVcIikpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcImRyb3BcIiwgKGV2ZW50KSA9PiBoYW5kbGVEcmFnRXZlbnQoZXZlbnQsIFwiZHJvcFwiKSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBmaWxlcyxcbiAgICBpc092ZXJEcm9wWm9uZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VSZXNpemVPYnNlcnZlcih0YXJnZXQsIGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93LCAuLi5vYnNlcnZlck9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gIGxldCBvYnNlcnZlcjtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwiUmVzaXplT2JzZXJ2ZXJcIiBpbiB3aW5kb3cpO1xuICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgb2JzZXJ2ZXIgPSB2b2lkIDA7XG4gICAgfVxuICB9O1xuICBjb25zdCB0YXJnZXRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IF90YXJnZXRzID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KF90YXJnZXRzKSA/IF90YXJnZXRzLm1hcCgoZWwpID0+IHVucmVmRWxlbWVudChlbCkpIDogW3VucmVmRWxlbWVudChfdGFyZ2V0cyldO1xuICB9KTtcbiAgY29uc3Qgc3RvcFdhdGNoID0gd2F0Y2goXG4gICAgdGFyZ2V0cyxcbiAgICAoZWxzKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgd2luZG93KSB7XG4gICAgICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGNhbGxiYWNrKTtcbiAgICAgICAgZm9yIChjb25zdCBfZWwgb2YgZWxzKSB7XG4gICAgICAgICAgaWYgKF9lbClcbiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoX2VsLCBvYnNlcnZlck9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7IGltbWVkaWF0ZTogdHJ1ZSwgZmx1c2g6IFwicG9zdFwiIH1cbiAgKTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBjbGVhbnVwKCk7XG4gICAgc3RvcFdhdGNoKCk7XG4gIH07XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3ApO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRWxlbWVudEJvdW5kaW5nKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICByZXNldCA9IHRydWUsXG4gICAgd2luZG93UmVzaXplID0gdHJ1ZSxcbiAgICB3aW5kb3dTY3JvbGwgPSB0cnVlLFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgdXBkYXRlVGltaW5nID0gXCJzeW5jXCJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGhlaWdodCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGJvdHRvbSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGxlZnQgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCByaWdodCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHRvcCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHdpZHRoID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgeCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHkgPSBzaGFsbG93UmVmKDApO1xuICBmdW5jdGlvbiByZWNhbGN1bGF0ZSgpIHtcbiAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgIGlmICghZWwpIHtcbiAgICAgIGlmIChyZXNldCkge1xuICAgICAgICBoZWlnaHQudmFsdWUgPSAwO1xuICAgICAgICBib3R0b20udmFsdWUgPSAwO1xuICAgICAgICBsZWZ0LnZhbHVlID0gMDtcbiAgICAgICAgcmlnaHQudmFsdWUgPSAwO1xuICAgICAgICB0b3AudmFsdWUgPSAwO1xuICAgICAgICB3aWR0aC52YWx1ZSA9IDA7XG4gICAgICAgIHgudmFsdWUgPSAwO1xuICAgICAgICB5LnZhbHVlID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGhlaWdodC52YWx1ZSA9IHJlY3QuaGVpZ2h0O1xuICAgIGJvdHRvbS52YWx1ZSA9IHJlY3QuYm90dG9tO1xuICAgIGxlZnQudmFsdWUgPSByZWN0LmxlZnQ7XG4gICAgcmlnaHQudmFsdWUgPSByZWN0LnJpZ2h0O1xuICAgIHRvcC52YWx1ZSA9IHJlY3QudG9wO1xuICAgIHdpZHRoLnZhbHVlID0gcmVjdC53aWR0aDtcbiAgICB4LnZhbHVlID0gcmVjdC54O1xuICAgIHkudmFsdWUgPSByZWN0Lnk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmICh1cGRhdGVUaW1pbmcgPT09IFwic3luY1wiKVxuICAgICAgcmVjYWxjdWxhdGUoKTtcbiAgICBlbHNlIGlmICh1cGRhdGVUaW1pbmcgPT09IFwibmV4dC1mcmFtZVwiKVxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlY2FsY3VsYXRlKCkpO1xuICB9XG4gIHVzZVJlc2l6ZU9ic2VydmVyKHRhcmdldCwgdXBkYXRlKTtcbiAgd2F0Y2goKCkgPT4gdW5yZWZFbGVtZW50KHRhcmdldCksIChlbGUpID0+ICFlbGUgJiYgdXBkYXRlKCkpO1xuICB1c2VNdXRhdGlvbk9ic2VydmVyKHRhcmdldCwgdXBkYXRlLCB7XG4gICAgYXR0cmlidXRlRmlsdGVyOiBbXCJzdHlsZVwiLCBcImNsYXNzXCJdXG4gIH0pO1xuICBpZiAod2luZG93U2Nyb2xsKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdXBkYXRlLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSk7XG4gIGlmICh3aW5kb3dSZXNpemUpXG4gICAgdXNlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICBpZiAoaW1tZWRpYXRlKVxuICAgICAgdXBkYXRlKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGhlaWdodCxcbiAgICBib3R0b20sXG4gICAgbGVmdCxcbiAgICByaWdodCxcbiAgICB0b3AsXG4gICAgd2lkdGgsXG4gICAgeCxcbiAgICB5LFxuICAgIHVwZGF0ZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VFbGVtZW50QnlQb2ludChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICB4LFxuICAgIHksXG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnQsXG4gICAgbXVsdGlwbGUsXG4gICAgaW50ZXJ2YWwgPSBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiLFxuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHtcbiAgICBpZiAodG9WYWx1ZShtdWx0aXBsZSkpXG4gICAgICByZXR1cm4gZG9jdW1lbnQgJiYgXCJlbGVtZW50c0Zyb21Qb2ludFwiIGluIGRvY3VtZW50O1xuICAgIHJldHVybiBkb2N1bWVudCAmJiBcImVsZW1lbnRGcm9tUG9pbnRcIiBpbiBkb2N1bWVudDtcbiAgfSk7XG4gIGNvbnN0IGVsZW1lbnQgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBjYiA9ICgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGVsZW1lbnQudmFsdWUgPSB0b1ZhbHVlKG11bHRpcGxlKSA/IChfYSA9IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludCh0b1ZhbHVlKHgpLCB0b1ZhbHVlKHkpKSkgIT0gbnVsbCA/IF9hIDogW10gOiAoX2IgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0b1ZhbHVlKHgpLCB0b1ZhbHVlKHkpKSkgIT0gbnVsbCA/IF9iIDogbnVsbDtcbiAgfTtcbiAgY29uc3QgY29udHJvbHMgPSBpbnRlcnZhbCA9PT0gXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiA/IHVzZVJhZkZuKGNiLCB7IGltbWVkaWF0ZSB9KSA6IHVzZUludGVydmFsRm4oY2IsIGludGVydmFsLCB7IGltbWVkaWF0ZSB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBlbGVtZW50LFxuICAgIC4uLmNvbnRyb2xzXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUVsZW1lbnRIb3ZlcihlbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkZWxheUVudGVyID0gMCxcbiAgICBkZWxheUxlYXZlID0gMCxcbiAgICB0cmlnZ2VyT25SZW1vdmFsID0gZmFsc2UsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNIb3ZlcmVkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGxldCB0aW1lcjtcbiAgY29uc3QgdG9nZ2xlID0gKGVudGVyaW5nKSA9PiB7XG4gICAgY29uc3QgZGVsYXkgPSBlbnRlcmluZyA/IGRlbGF5RW50ZXIgOiBkZWxheUxlYXZlO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoZGVsYXkpXG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gaXNIb3ZlcmVkLnZhbHVlID0gZW50ZXJpbmcsIGRlbGF5KTtcbiAgICBlbHNlXG4gICAgICBpc0hvdmVyZWQudmFsdWUgPSBlbnRlcmluZztcbiAgfTtcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuIGlzSG92ZXJlZDtcbiAgdXNlRXZlbnRMaXN0ZW5lcihlbCwgXCJtb3VzZWVudGVyXCIsICgpID0+IHRvZ2dsZSh0cnVlKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB1c2VFdmVudExpc3RlbmVyKGVsLCBcIm1vdXNlbGVhdmVcIiwgKCkgPT4gdG9nZ2xlKGZhbHNlKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICBpZiAodHJpZ2dlck9uUmVtb3ZhbCkge1xuICAgIG9uRWxlbWVudFJlbW92YWwoXG4gICAgICBjb21wdXRlZCgoKSA9PiB1bnJlZkVsZW1lbnQoZWwpKSxcbiAgICAgICgpID0+IHRvZ2dsZShmYWxzZSlcbiAgICApO1xuICB9XG4gIHJldHVybiBpc0hvdmVyZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZUVsZW1lbnRTaXplKHRhcmdldCwgaW5pdGlhbFNpemUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgYm94ID0gXCJjb250ZW50LWJveFwiIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1NWRyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSB1bnJlZkVsZW1lbnQodGFyZ2V0KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5hbWVzcGFjZVVSSSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKFwic3ZnXCIpO1xuICB9KTtcbiAgY29uc3Qgd2lkdGggPSBzaGFsbG93UmVmKGluaXRpYWxTaXplLndpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gc2hhbGxvd1JlZihpbml0aWFsU2l6ZS5oZWlnaHQpO1xuICBjb25zdCB7IHN0b3A6IHN0b3AxIH0gPSB1c2VSZXNpemVPYnNlcnZlcihcbiAgICB0YXJnZXQsXG4gICAgKFtlbnRyeV0pID0+IHtcbiAgICAgIGNvbnN0IGJveFNpemUgPSBib3ggPT09IFwiYm9yZGVyLWJveFwiID8gZW50cnkuYm9yZGVyQm94U2l6ZSA6IGJveCA9PT0gXCJjb250ZW50LWJveFwiID8gZW50cnkuY29udGVudEJveFNpemUgOiBlbnRyeS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplO1xuICAgICAgaWYgKHdpbmRvdyAmJiBpc1NWRy52YWx1ZSkge1xuICAgICAgICBjb25zdCAkZWxlbSA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgICAgICBpZiAoJGVsZW0pIHtcbiAgICAgICAgICBjb25zdCByZWN0ID0gJGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgd2lkdGgudmFsdWUgPSByZWN0LndpZHRoO1xuICAgICAgICAgIGhlaWdodC52YWx1ZSA9IHJlY3QuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYm94U2l6ZSkge1xuICAgICAgICAgIGNvbnN0IGZvcm1hdEJveFNpemUgPSB0b0FycmF5KGJveFNpemUpO1xuICAgICAgICAgIHdpZHRoLnZhbHVlID0gZm9ybWF0Qm94U2l6ZS5yZWR1Y2UoKGFjYywgeyBpbmxpbmVTaXplIH0pID0+IGFjYyArIGlubGluZVNpemUsIDApO1xuICAgICAgICAgIGhlaWdodC52YWx1ZSA9IGZvcm1hdEJveFNpemUucmVkdWNlKChhY2MsIHsgYmxvY2tTaXplIH0pID0+IGFjYyArIGJsb2NrU2l6ZSwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2lkdGgudmFsdWUgPSBlbnRyeS5jb250ZW50UmVjdC53aWR0aDtcbiAgICAgICAgICBoZWlnaHQudmFsdWUgPSBlbnRyeS5jb250ZW50UmVjdC5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9wdGlvbnNcbiAgKTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICBjb25zdCBlbGUgPSB1bnJlZkVsZW1lbnQodGFyZ2V0KTtcbiAgICBpZiAoZWxlKSB7XG4gICAgICB3aWR0aC52YWx1ZSA9IFwib2Zmc2V0V2lkdGhcIiBpbiBlbGUgPyBlbGUub2Zmc2V0V2lkdGggOiBpbml0aWFsU2l6ZS53aWR0aDtcbiAgICAgIGhlaWdodC52YWx1ZSA9IFwib2Zmc2V0SGVpZ2h0XCIgaW4gZWxlID8gZWxlLm9mZnNldEhlaWdodCA6IGluaXRpYWxTaXplLmhlaWdodDtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzdG9wMiA9IHdhdGNoKFxuICAgICgpID0+IHVucmVmRWxlbWVudCh0YXJnZXQpLFxuICAgIChlbGUpID0+IHtcbiAgICAgIHdpZHRoLnZhbHVlID0gZWxlID8gaW5pdGlhbFNpemUud2lkdGggOiAwO1xuICAgICAgaGVpZ2h0LnZhbHVlID0gZWxlID8gaW5pdGlhbFNpemUuaGVpZ2h0IDogMDtcbiAgICB9XG4gICk7XG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgc3RvcDEoKTtcbiAgICBzdG9wMigpO1xuICB9XG4gIHJldHVybiB7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGFyZ2V0LCBjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICByb290LFxuICAgIHJvb3RNYXJnaW4gPSBcIjBweFwiLFxuICAgIHRocmVzaG9sZCA9IDAsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBpbW1lZGlhdGUgPSB0cnVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJJbnRlcnNlY3Rpb25PYnNlcnZlclwiIGluIHdpbmRvdyk7XG4gIGNvbnN0IHRhcmdldHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgY29uc3QgX3RhcmdldCA9IHRvVmFsdWUodGFyZ2V0KTtcbiAgICByZXR1cm4gdG9BcnJheShfdGFyZ2V0KS5tYXAodW5yZWZFbGVtZW50KS5maWx0ZXIobm90TnVsbGlzaCk7XG4gIH0pO1xuICBsZXQgY2xlYW51cCA9IG5vb3A7XG4gIGNvbnN0IGlzQWN0aXZlID0gc2hhbGxvd1JlZihpbW1lZGlhdGUpO1xuICBjb25zdCBzdG9wV2F0Y2ggPSBpc1N1cHBvcnRlZC52YWx1ZSA/IHdhdGNoKFxuICAgICgpID0+IFt0YXJnZXRzLnZhbHVlLCB1bnJlZkVsZW1lbnQocm9vdCksIGlzQWN0aXZlLnZhbHVlXSxcbiAgICAoW3RhcmdldHMyLCByb290Ml0pID0+IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIGlmICghaXNBY3RpdmUudmFsdWUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICghdGFyZ2V0czIubGVuZ3RoKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIHtcbiAgICAgICAgICByb290OiB1bnJlZkVsZW1lbnQocm9vdDIpLFxuICAgICAgICAgIHJvb3RNYXJnaW4sXG4gICAgICAgICAgdGhyZXNob2xkXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB0YXJnZXRzMi5mb3JFYWNoKChlbCkgPT4gZWwgJiYgb2JzZXJ2ZXIub2JzZXJ2ZShlbCkpO1xuICAgICAgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBjbGVhbnVwID0gbm9vcDtcbiAgICAgIH07XG4gICAgfSxcbiAgICB7IGltbWVkaWF0ZSwgZmx1c2g6IFwicG9zdFwiIH1cbiAgKSA6IG5vb3A7XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgY2xlYW51cCgpO1xuICAgIHN0b3BXYXRjaCgpO1xuICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3ApO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzQWN0aXZlLFxuICAgIHBhdXNlKCkge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgaXNBY3RpdmUudmFsdWUgPSBmYWxzZTtcbiAgICB9LFxuICAgIHJlc3VtZSgpIHtcbiAgICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTtcbiAgICB9LFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRWxlbWVudFZpc2liaWxpdHkoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIHNjcm9sbFRhcmdldCxcbiAgICB0aHJlc2hvbGQgPSAwLFxuICAgIHJvb3RNYXJnaW4sXG4gICAgb25jZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBlbGVtZW50SXNWaXNpYmxlID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHsgc3RvcCB9ID0gdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgZWxlbWVudCxcbiAgICAoaW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyaWVzKSA9PiB7XG4gICAgICBsZXQgaXNJbnRlcnNlY3RpbmcgPSBlbGVtZW50SXNWaXNpYmxlLnZhbHVlO1xuICAgICAgbGV0IGxhdGVzdFRpbWUgPSAwO1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBpbnRlcnNlY3Rpb25PYnNlcnZlckVudHJpZXMpIHtcbiAgICAgICAgaWYgKGVudHJ5LnRpbWUgPj0gbGF0ZXN0VGltZSkge1xuICAgICAgICAgIGxhdGVzdFRpbWUgPSBlbnRyeS50aW1lO1xuICAgICAgICAgIGlzSW50ZXJzZWN0aW5nID0gZW50cnkuaXNJbnRlcnNlY3Rpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsZW1lbnRJc1Zpc2libGUudmFsdWUgPSBpc0ludGVyc2VjdGluZztcbiAgICAgIGlmIChvbmNlKSB7XG4gICAgICAgIHdhdGNoT25jZShlbGVtZW50SXNWaXNpYmxlLCAoKSA9PiB7XG4gICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIHJvb3Q6IHNjcm9sbFRhcmdldCxcbiAgICAgIHdpbmRvdyxcbiAgICAgIHRocmVzaG9sZCxcbiAgICAgIHJvb3RNYXJnaW46IHRvVmFsdWUocm9vdE1hcmdpbilcbiAgICB9XG4gICk7XG4gIHJldHVybiBlbGVtZW50SXNWaXNpYmxlO1xufVxuXG5jb25zdCBldmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuXG5mdW5jdGlvbiB1c2VFdmVudEJ1cyhrZXkpIHtcbiAgY29uc3Qgc2NvcGUgPSBnZXRDdXJyZW50U2NvcGUoKTtcbiAgZnVuY3Rpb24gb24obGlzdGVuZXIpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gZXZlbnRzLmdldChrZXkpIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgZXZlbnRzLnNldChrZXksIGxpc3RlbmVycyk7XG4gICAgY29uc3QgX29mZiA9ICgpID0+IG9mZihsaXN0ZW5lcik7XG4gICAgKF9hID0gc2NvcGUgPT0gbnVsbCA/IHZvaWQgMCA6IHNjb3BlLmNsZWFudXBzKSA9PSBudWxsID8gdm9pZCAwIDogX2EucHVzaChfb2ZmKTtcbiAgICByZXR1cm4gX29mZjtcbiAgfVxuICBmdW5jdGlvbiBvbmNlKGxpc3RlbmVyKSB7XG4gICAgZnVuY3Rpb24gX2xpc3RlbmVyKC4uLmFyZ3MpIHtcbiAgICAgIG9mZihfbGlzdGVuZXIpO1xuICAgICAgbGlzdGVuZXIoLi4uYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBvbihfbGlzdGVuZXIpO1xuICB9XG4gIGZ1bmN0aW9uIG9mZihsaXN0ZW5lcikge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IGV2ZW50cy5nZXQoa2V5KTtcbiAgICBpZiAoIWxpc3RlbmVycylcbiAgICAgIHJldHVybjtcbiAgICBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICBpZiAoIWxpc3RlbmVycy5zaXplKVxuICAgICAgcmVzZXQoKTtcbiAgfVxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBldmVudHMuZGVsZXRlKGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gZW1pdChldmVudCwgcGF5bG9hZCkge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSBldmVudHMuZ2V0KGtleSkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5mb3JFYWNoKCh2KSA9PiB2KGV2ZW50LCBwYXlsb2FkKSk7XG4gIH1cbiAgcmV0dXJuIHsgb24sIG9uY2UsIG9mZiwgZW1pdCwgcmVzZXQgfTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU5lc3RlZE9wdGlvbnMkMShvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB0cnVlKVxuICAgIHJldHVybiB7fTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59XG5mdW5jdGlvbiB1c2VFdmVudFNvdXJjZSh1cmwsIGV2ZW50cyA9IFtdLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZXZlbnQgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBkYXRhID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3Qgc3RhdHVzID0gc2hhbGxvd1JlZihcIkNPTk5FQ1RJTkdcIik7XG4gIGNvbnN0IGV2ZW50U291cmNlID0gcmVmKG51bGwpO1xuICBjb25zdCBlcnJvciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IHVybFJlZiA9IHRvUmVmKHVybCk7XG4gIGNvbnN0IGxhc3RFdmVudElkID0gc2hhbGxvd1JlZihudWxsKTtcbiAgbGV0IGV4cGxpY2l0bHlDbG9zZWQgPSBmYWxzZTtcbiAgbGV0IHJldHJpZWQgPSAwO1xuICBjb25zdCB7XG4gICAgd2l0aENyZWRlbnRpYWxzID0gZmFsc2UsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBhdXRvQ29ubmVjdCA9IHRydWUsXG4gICAgYXV0b1JlY29ubmVjdFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKGlzQ2xpZW50ICYmIGV2ZW50U291cmNlLnZhbHVlKSB7XG4gICAgICBldmVudFNvdXJjZS52YWx1ZS5jbG9zZSgpO1xuICAgICAgZXZlbnRTb3VyY2UudmFsdWUgPSBudWxsO1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJDTE9TRURcIjtcbiAgICAgIGV4cGxpY2l0bHlDbG9zZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgX2luaXQgPSAoKSA9PiB7XG4gICAgaWYgKGV4cGxpY2l0bHlDbG9zZWQgfHwgdHlwZW9mIHVybFJlZi52YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlcyA9IG5ldyBFdmVudFNvdXJjZSh1cmxSZWYudmFsdWUsIHsgd2l0aENyZWRlbnRpYWxzIH0pO1xuICAgIHN0YXR1cy52YWx1ZSA9IFwiQ09OTkVDVElOR1wiO1xuICAgIGV2ZW50U291cmNlLnZhbHVlID0gZXM7XG4gICAgZXMub25vcGVuID0gKCkgPT4ge1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJPUEVOXCI7XG4gICAgICBlcnJvci52YWx1ZSA9IG51bGw7XG4gICAgfTtcbiAgICBlcy5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwiQ0xPU0VEXCI7XG4gICAgICBlcnJvci52YWx1ZSA9IGU7XG4gICAgICBpZiAoZXMucmVhZHlTdGF0ZSA9PT0gMiAmJiAhZXhwbGljaXRseUNsb3NlZCAmJiBhdXRvUmVjb25uZWN0KSB7XG4gICAgICAgIGVzLmNsb3NlKCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZXRyaWVzID0gLTEsXG4gICAgICAgICAgZGVsYXkgPSAxZTMsXG4gICAgICAgICAgb25GYWlsZWRcbiAgICAgICAgfSA9IHJlc29sdmVOZXN0ZWRPcHRpb25zJDEoYXV0b1JlY29ubmVjdCk7XG4gICAgICAgIHJldHJpZWQgKz0gMTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXRyaWVzID09PSBcIm51bWJlclwiICYmIChyZXRyaWVzIDwgMCB8fCByZXRyaWVkIDwgcmV0cmllcykpXG4gICAgICAgICAgc2V0VGltZW91dChfaW5pdCwgZGVsYXkpO1xuICAgICAgICBlbHNlIGlmICh0eXBlb2YgcmV0cmllcyA9PT0gXCJmdW5jdGlvblwiICYmIHJldHJpZXMoKSlcbiAgICAgICAgICBzZXRUaW1lb3V0KF9pbml0LCBkZWxheSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBvbkZhaWxlZCA9PSBudWxsID8gdm9pZCAwIDogb25GYWlsZWQoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGVzLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICBldmVudC52YWx1ZSA9IG51bGw7XG4gICAgICBkYXRhLnZhbHVlID0gZS5kYXRhO1xuICAgICAgbGFzdEV2ZW50SWQudmFsdWUgPSBlLmxhc3RFdmVudElkO1xuICAgIH07XG4gICAgZm9yIChjb25zdCBldmVudF9uYW1lIG9mIGV2ZW50cykge1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihlcywgZXZlbnRfbmFtZSwgKGUpID0+IHtcbiAgICAgICAgZXZlbnQudmFsdWUgPSBldmVudF9uYW1lO1xuICAgICAgICBkYXRhLnZhbHVlID0gZS5kYXRhIHx8IG51bGw7XG4gICAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvcGVuID0gKCkgPT4ge1xuICAgIGlmICghaXNDbGllbnQpXG4gICAgICByZXR1cm47XG4gICAgY2xvc2UoKTtcbiAgICBleHBsaWNpdGx5Q2xvc2VkID0gZmFsc2U7XG4gICAgcmV0cmllZCA9IDA7XG4gICAgX2luaXQoKTtcbiAgfTtcbiAgaWYgKGltbWVkaWF0ZSlcbiAgICBvcGVuKCk7XG4gIGlmIChhdXRvQ29ubmVjdClcbiAgICB3YXRjaCh1cmxSZWYsIG9wZW4pO1xuICB0cnlPblNjb3BlRGlzcG9zZShjbG9zZSk7XG4gIHJldHVybiB7XG4gICAgZXZlbnRTb3VyY2UsXG4gICAgZXZlbnQsXG4gICAgZGF0YSxcbiAgICBzdGF0dXMsXG4gICAgZXJyb3IsXG4gICAgb3BlbixcbiAgICBjbG9zZSxcbiAgICBsYXN0RXZlbnRJZFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VFeWVEcm9wcGVyKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGluaXRpYWxWYWx1ZSA9IFwiXCIgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgXCJFeWVEcm9wcGVyXCIgaW4gd2luZG93KTtcbiAgY29uc3Qgc1JHQkhleCA9IHNoYWxsb3dSZWYoaW5pdGlhbFZhbHVlKTtcbiAgYXN5bmMgZnVuY3Rpb24gb3BlbihvcGVuT3B0aW9ucykge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZXllRHJvcHBlciA9IG5ldyB3aW5kb3cuRXllRHJvcHBlcigpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV5ZURyb3BwZXIub3BlbihvcGVuT3B0aW9ucyk7XG4gICAgc1JHQkhleC52YWx1ZSA9IHJlc3VsdC5zUkdCSGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHsgaXNTdXBwb3J0ZWQsIHNSR0JIZXgsIG9wZW4gfTtcbn1cblxuZnVuY3Rpb24gdXNlRmF2aWNvbihuZXdJY29uID0gbnVsbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBiYXNlVXJsID0gXCJcIixcbiAgICByZWwgPSBcImljb25cIixcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZmF2aWNvbiA9IHRvUmVmKG5ld0ljb24pO1xuICBjb25zdCBhcHBseUljb24gPSAoaWNvbikgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvckFsbChgbGlua1tyZWwqPVwiJHtyZWx9XCJdYCk7XG4gICAgaWYgKCFlbGVtZW50cyB8fCBlbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICBpZiAobGluaykge1xuICAgICAgICBsaW5rLnJlbCA9IHJlbDtcbiAgICAgICAgbGluay5ocmVmID0gYCR7YmFzZVVybH0ke2ljb259YDtcbiAgICAgICAgbGluay50eXBlID0gYGltYWdlLyR7aWNvbi5zcGxpdChcIi5cIikucG9wKCl9YDtcbiAgICAgICAgZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LmhlYWQuYXBwZW5kKGxpbmspO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbGVtZW50cyA9PSBudWxsID8gdm9pZCAwIDogZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IGVsLmhyZWYgPSBgJHtiYXNlVXJsfSR7aWNvbn1gKTtcbiAgfTtcbiAgd2F0Y2goXG4gICAgZmF2aWNvbixcbiAgICAoaSwgbykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBpID09PSBcInN0cmluZ1wiICYmIGkgIT09IG8pXG4gICAgICAgIGFwcGx5SWNvbihpKTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgcmV0dXJuIGZhdmljb247XG59XG5cbmNvbnN0IHBheWxvYWRNYXBwaW5nID0ge1xuICBqc29uOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgdGV4dDogXCJ0ZXh0L3BsYWluXCJcbn07XG5mdW5jdGlvbiBpc0ZldGNoT3B0aW9ucyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBjb250YWluc1Byb3Aob2JqLCBcImltbWVkaWF0ZVwiLCBcInJlZmV0Y2hcIiwgXCJpbml0aWFsRGF0YVwiLCBcInRpbWVvdXRcIiwgXCJiZWZvcmVGZXRjaFwiLCBcImFmdGVyRmV0Y2hcIiwgXCJvbkZldGNoRXJyb3JcIiwgXCJmZXRjaFwiLCBcInVwZGF0ZURhdGFPbkVycm9yXCIpO1xufVxuY29uc3QgcmVBYnNvbHV0ZSA9IC9eKD86W2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pO1xuZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgcmV0dXJuIHJlQWJzb2x1dGUudGVzdCh1cmwpO1xufVxuZnVuY3Rpb24gaGVhZGVyc1RvT2JqZWN0KGhlYWRlcnMpIHtcbiAgaWYgKHR5cGVvZiBIZWFkZXJzICE9PSBcInVuZGVmaW5lZFwiICYmIGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKVxuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycy5lbnRyaWVzKCkpO1xuICByZXR1cm4gaGVhZGVycztcbn1cbmZ1bmN0aW9uIGNvbWJpbmVDYWxsYmFja3MoY29tYmluYXRpb24sIC4uLmNhbGxiYWNrcykge1xuICBpZiAoY29tYmluYXRpb24gPT09IFwib3ZlcndyaXRlXCIpIHtcbiAgICByZXR1cm4gYXN5bmMgKGN0eCkgPT4ge1xuICAgICAgbGV0IGNhbGxiYWNrO1xuICAgICAgZm9yIChsZXQgaSA9IGNhbGxiYWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBpZiAoY2FsbGJhY2tzW2ldICE9IG51bGwpIHtcbiAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrKVxuICAgICAgICByZXR1cm4geyAuLi5jdHgsIC4uLmF3YWl0IGNhbGxiYWNrKGN0eCkgfTtcbiAgICAgIHJldHVybiBjdHg7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYXN5bmMgKGN0eCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBjYWxsYmFja3MpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKVxuICAgICAgICAgIGN0eCA9IHsgLi4uY3R4LCAuLi5hd2FpdCBjYWxsYmFjayhjdHgpIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gY3R4O1xuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUZldGNoKGNvbmZpZyA9IHt9KSB7XG4gIGNvbnN0IF9jb21iaW5hdGlvbiA9IGNvbmZpZy5jb21iaW5hdGlvbiB8fCBcImNoYWluXCI7XG4gIGNvbnN0IF9vcHRpb25zID0gY29uZmlnLm9wdGlvbnMgfHwge307XG4gIGNvbnN0IF9mZXRjaE9wdGlvbnMgPSBjb25maWcuZmV0Y2hPcHRpb25zIHx8IHt9O1xuICBmdW5jdGlvbiB1c2VGYWN0b3J5RmV0Y2godXJsLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY29tcHV0ZWRVcmwgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBjb25zdCBiYXNlVXJsID0gdG9WYWx1ZShjb25maWcuYmFzZVVybCk7XG4gICAgICBjb25zdCB0YXJnZXRVcmwgPSB0b1ZhbHVlKHVybCk7XG4gICAgICByZXR1cm4gYmFzZVVybCAmJiAhaXNBYnNvbHV0ZVVSTCh0YXJnZXRVcmwpID8gam9pblBhdGhzKGJhc2VVcmwsIHRhcmdldFVybCkgOiB0YXJnZXRVcmw7XG4gICAgfSk7XG4gICAgbGV0IG9wdGlvbnMgPSBfb3B0aW9ucztcbiAgICBsZXQgZmV0Y2hPcHRpb25zID0gX2ZldGNoT3B0aW9ucztcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoaXNGZXRjaE9wdGlvbnMoYXJnc1swXSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLmFyZ3NbMF0sXG4gICAgICAgICAgYmVmb3JlRmV0Y2g6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5iZWZvcmVGZXRjaCwgYXJnc1swXS5iZWZvcmVGZXRjaCksXG4gICAgICAgICAgYWZ0ZXJGZXRjaDogY29tYmluZUNhbGxiYWNrcyhfY29tYmluYXRpb24sIF9vcHRpb25zLmFmdGVyRmV0Y2gsIGFyZ3NbMF0uYWZ0ZXJGZXRjaCksXG4gICAgICAgICAgb25GZXRjaEVycm9yOiBjb21iaW5lQ2FsbGJhY2tzKF9jb21iaW5hdGlvbiwgX29wdGlvbnMub25GZXRjaEVycm9yLCBhcmdzWzBdLm9uRmV0Y2hFcnJvcilcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZldGNoT3B0aW9ucyA9IHtcbiAgICAgICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICAgICAgLi4uYXJnc1swXSxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAuLi5oZWFkZXJzVG9PYmplY3QoZmV0Y2hPcHRpb25zLmhlYWRlcnMpIHx8IHt9LFxuICAgICAgICAgICAgLi4uaGVhZGVyc1RvT2JqZWN0KGFyZ3NbMF0uaGVhZGVycykgfHwge31cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChhcmdzLmxlbmd0aCA+IDEgJiYgaXNGZXRjaE9wdGlvbnMoYXJnc1sxXSkpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC4uLmFyZ3NbMV0sXG4gICAgICAgIGJlZm9yZUZldGNoOiBjb21iaW5lQ2FsbGJhY2tzKF9jb21iaW5hdGlvbiwgX29wdGlvbnMuYmVmb3JlRmV0Y2gsIGFyZ3NbMV0uYmVmb3JlRmV0Y2gpLFxuICAgICAgICBhZnRlckZldGNoOiBjb21iaW5lQ2FsbGJhY2tzKF9jb21iaW5hdGlvbiwgX29wdGlvbnMuYWZ0ZXJGZXRjaCwgYXJnc1sxXS5hZnRlckZldGNoKSxcbiAgICAgICAgb25GZXRjaEVycm9yOiBjb21iaW5lQ2FsbGJhY2tzKF9jb21iaW5hdGlvbiwgX29wdGlvbnMub25GZXRjaEVycm9yLCBhcmdzWzFdLm9uRmV0Y2hFcnJvcilcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1c2VGZXRjaChjb21wdXRlZFVybCwgZmV0Y2hPcHRpb25zLCBvcHRpb25zKTtcbiAgfVxuICByZXR1cm4gdXNlRmFjdG9yeUZldGNoO1xufVxuZnVuY3Rpb24gdXNlRmV0Y2godXJsLCAuLi5hcmdzKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qgc3VwcG9ydHNBYm9ydCA9IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09IFwiZnVuY3Rpb25cIjtcbiAgbGV0IGZldGNoT3B0aW9ucyA9IHt9O1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICBpbW1lZGlhdGU6IHRydWUsXG4gICAgcmVmZXRjaDogZmFsc2UsXG4gICAgdGltZW91dDogMCxcbiAgICB1cGRhdGVEYXRhT25FcnJvcjogZmFsc2VcbiAgfTtcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB0eXBlOiBcInRleHRcIixcbiAgICBwYXlsb2FkOiB2b2lkIDBcbiAgfTtcbiAgaWYgKGFyZ3MubGVuZ3RoID4gMCkge1xuICAgIGlmIChpc0ZldGNoT3B0aW9ucyhhcmdzWzBdKSlcbiAgICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIC4uLmFyZ3NbMF0gfTtcbiAgICBlbHNlXG4gICAgICBmZXRjaE9wdGlvbnMgPSBhcmdzWzBdO1xuICB9XG4gIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoaXNGZXRjaE9wdGlvbnMoYXJnc1sxXSkpXG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCAuLi5hcmdzWzFdIH07XG4gIH1cbiAgY29uc3Qge1xuICAgIGZldGNoID0gKF9hID0gZGVmYXVsdFdpbmRvdykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZldGNoLFxuICAgIGluaXRpYWxEYXRhLFxuICAgIHRpbWVvdXRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlc3BvbnNlRXZlbnQgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgZXJyb3JFdmVudCA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBmaW5hbGx5RXZlbnQgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgaXNGaW5pc2hlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBpc0ZldGNoaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGFib3J0ZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgc3RhdHVzQ29kZSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IHJlc3BvbnNlID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBkYXRhID0gc2hhbGxvd1JlZihpbml0aWFsRGF0YSB8fCBudWxsKTtcbiAgY29uc3QgY2FuQWJvcnQgPSBjb21wdXRlZCgoKSA9PiBzdXBwb3J0c0Fib3J0ICYmIGlzRmV0Y2hpbmcudmFsdWUpO1xuICBsZXQgY29udHJvbGxlcjtcbiAgbGV0IHRpbWVyO1xuICBjb25zdCBhYm9ydCA9ICgpID0+IHtcbiAgICBpZiAoc3VwcG9ydHNBYm9ydCkge1xuICAgICAgY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLm9uYWJvcnQgPSAoKSA9PiBhYm9ydGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGZldGNoT3B0aW9ucyA9IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbG9hZGluZyA9IChpc0xvYWRpbmcpID0+IHtcbiAgICBpc0ZldGNoaW5nLnZhbHVlID0gaXNMb2FkaW5nO1xuICAgIGlzRmluaXNoZWQudmFsdWUgPSAhaXNMb2FkaW5nO1xuICB9O1xuICBpZiAodGltZW91dClcbiAgICB0aW1lciA9IHVzZVRpbWVvdXRGbihhYm9ydCwgdGltZW91dCwgeyBpbW1lZGlhdGU6IGZhbHNlIH0pO1xuICBsZXQgZXhlY3V0ZUNvdW50ZXIgPSAwO1xuICBjb25zdCBleGVjdXRlID0gYXN5bmMgKHRocm93T25GYWlsZWQgPSBmYWxzZSkgPT4ge1xuICAgIHZhciBfYTIsIF9iO1xuICAgIGFib3J0KCk7XG4gICAgbG9hZGluZyh0cnVlKTtcbiAgICBlcnJvci52YWx1ZSA9IG51bGw7XG4gICAgc3RhdHVzQ29kZS52YWx1ZSA9IG51bGw7XG4gICAgYWJvcnRlZC52YWx1ZSA9IGZhbHNlO1xuICAgIGV4ZWN1dGVDb3VudGVyICs9IDE7XG4gICAgY29uc3QgY3VycmVudEV4ZWN1dGVDb3VudGVyID0gZXhlY3V0ZUNvdW50ZXI7XG4gICAgY29uc3QgZGVmYXVsdEZldGNoT3B0aW9ucyA9IHtcbiAgICAgIG1ldGhvZDogY29uZmlnLm1ldGhvZCxcbiAgICAgIGhlYWRlcnM6IHt9XG4gICAgfTtcbiAgICBjb25zdCBwYXlsb2FkID0gdG9WYWx1ZShjb25maWcucGF5bG9hZCk7XG4gICAgaWYgKHBheWxvYWQpIHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSBoZWFkZXJzVG9PYmplY3QoZGVmYXVsdEZldGNoT3B0aW9ucy5oZWFkZXJzKTtcbiAgICAgIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHBheWxvYWQpO1xuICAgICAgaWYgKCFjb25maWcucGF5bG9hZFR5cGUgJiYgcGF5bG9hZCAmJiAocHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgfHwgQXJyYXkuaXNBcnJheShwcm90bykpICYmICEocGF5bG9hZCBpbnN0YW5jZW9mIEZvcm1EYXRhKSlcbiAgICAgICAgY29uZmlnLnBheWxvYWRUeXBlID0gXCJqc29uXCI7XG4gICAgICBpZiAoY29uZmlnLnBheWxvYWRUeXBlKVxuICAgICAgICBoZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID0gKF9hMiA9IHBheWxvYWRNYXBwaW5nW2NvbmZpZy5wYXlsb2FkVHlwZV0pICE9IG51bGwgPyBfYTIgOiBjb25maWcucGF5bG9hZFR5cGU7XG4gICAgICBkZWZhdWx0RmV0Y2hPcHRpb25zLmJvZHkgPSBjb25maWcucGF5bG9hZFR5cGUgPT09IFwianNvblwiID8gSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkgOiBwYXlsb2FkO1xuICAgIH1cbiAgICBsZXQgaXNDYW5jZWxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICB1cmw6IHRvVmFsdWUodXJsKSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgLi4uZGVmYXVsdEZldGNoT3B0aW9ucyxcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zXG4gICAgICB9LFxuICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgIGlzQ2FuY2VsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKG9wdGlvbnMuYmVmb3JlRmV0Y2gpXG4gICAgICBPYmplY3QuYXNzaWduKGNvbnRleHQsIGF3YWl0IG9wdGlvbnMuYmVmb3JlRmV0Y2goY29udGV4dCkpO1xuICAgIGlmIChpc0NhbmNlbGVkIHx8ICFmZXRjaCkge1xuICAgICAgbG9hZGluZyhmYWxzZSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2VEYXRhID0gbnVsbDtcbiAgICBpZiAodGltZXIpXG4gICAgICB0aW1lci5zdGFydCgpO1xuICAgIHJldHVybiBmZXRjaChcbiAgICAgIGNvbnRleHQudXJsLFxuICAgICAge1xuICAgICAgICAuLi5kZWZhdWx0RmV0Y2hPcHRpb25zLFxuICAgICAgICAuLi5jb250ZXh0Lm9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5oZWFkZXJzVG9PYmplY3QoZGVmYXVsdEZldGNoT3B0aW9ucy5oZWFkZXJzKSxcbiAgICAgICAgICAuLi5oZWFkZXJzVG9PYmplY3QoKF9iID0gY29udGV4dC5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2IuaGVhZGVycylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICkudGhlbihhc3luYyAoZmV0Y2hSZXNwb25zZSkgPT4ge1xuICAgICAgcmVzcG9uc2UudmFsdWUgPSBmZXRjaFJlc3BvbnNlO1xuICAgICAgc3RhdHVzQ29kZS52YWx1ZSA9IGZldGNoUmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmVzcG9uc2VEYXRhID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5jbG9uZSgpW2NvbmZpZy50eXBlXSgpO1xuICAgICAgaWYgKCFmZXRjaFJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGRhdGEudmFsdWUgPSBpbml0aWFsRGF0YSB8fCBudWxsO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmV0Y2hSZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmFmdGVyRmV0Y2gpIHtcbiAgICAgICAgKHsgZGF0YTogcmVzcG9uc2VEYXRhIH0gPSBhd2FpdCBvcHRpb25zLmFmdGVyRmV0Y2goe1xuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICByZXNwb25zZTogZmV0Y2hSZXNwb25zZSxcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGV4ZWN1dGVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgZGF0YS52YWx1ZSA9IHJlc3BvbnNlRGF0YTtcbiAgICAgIHJlc3BvbnNlRXZlbnQudHJpZ2dlcihmZXRjaFJlc3BvbnNlKTtcbiAgICAgIHJldHVybiBmZXRjaFJlc3BvbnNlO1xuICAgIH0pLmNhdGNoKGFzeW5jIChmZXRjaEVycm9yKSA9PiB7XG4gICAgICBsZXQgZXJyb3JEYXRhID0gZmV0Y2hFcnJvci5tZXNzYWdlIHx8IGZldGNoRXJyb3IubmFtZTtcbiAgICAgIGlmIChvcHRpb25zLm9uRmV0Y2hFcnJvcikge1xuICAgICAgICAoeyBlcnJvcjogZXJyb3JEYXRhLCBkYXRhOiByZXNwb25zZURhdGEgfSA9IGF3YWl0IG9wdGlvbnMub25GZXRjaEVycm9yKHtcbiAgICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgICAgZXJyb3I6IGZldGNoRXJyb3IsXG4gICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLnZhbHVlLFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgZXhlY3V0ZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBlcnJvci52YWx1ZSA9IGVycm9yRGF0YTtcbiAgICAgIGlmIChvcHRpb25zLnVwZGF0ZURhdGFPbkVycm9yKVxuICAgICAgICBkYXRhLnZhbHVlID0gcmVzcG9uc2VEYXRhO1xuICAgICAgZXJyb3JFdmVudC50cmlnZ2VyKGZldGNoRXJyb3IpO1xuICAgICAgaWYgKHRocm93T25GYWlsZWQpXG4gICAgICAgIHRocm93IGZldGNoRXJyb3I7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50RXhlY3V0ZUNvdW50ZXIgPT09IGV4ZWN1dGVDb3VudGVyKVxuICAgICAgICBsb2FkaW5nKGZhbHNlKTtcbiAgICAgIGlmICh0aW1lcilcbiAgICAgICAgdGltZXIuc3RvcCgpO1xuICAgICAgZmluYWxseUV2ZW50LnRyaWdnZXIobnVsbCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHJlZmV0Y2ggPSB0b1JlZihvcHRpb25zLnJlZmV0Y2gpO1xuICB3YXRjaChcbiAgICBbXG4gICAgICByZWZldGNoLFxuICAgICAgdG9SZWYodXJsKVxuICAgIF0sXG4gICAgKFtyZWZldGNoMl0pID0+IHJlZmV0Y2gyICYmIGV4ZWN1dGUoKSxcbiAgICB7IGRlZXA6IHRydWUgfVxuICApO1xuICBjb25zdCBzaGVsbCA9IHtcbiAgICBpc0ZpbmlzaGVkOiByZWFkb25seShpc0ZpbmlzaGVkKSxcbiAgICBpc0ZldGNoaW5nOiByZWFkb25seShpc0ZldGNoaW5nKSxcbiAgICBzdGF0dXNDb2RlLFxuICAgIHJlc3BvbnNlLFxuICAgIGVycm9yLFxuICAgIGRhdGEsXG4gICAgY2FuQWJvcnQsXG4gICAgYWJvcnRlZCxcbiAgICBhYm9ydCxcbiAgICBleGVjdXRlLFxuICAgIG9uRmV0Y2hSZXNwb25zZTogcmVzcG9uc2VFdmVudC5vbixcbiAgICBvbkZldGNoRXJyb3I6IGVycm9yRXZlbnQub24sXG4gICAgb25GZXRjaEZpbmFsbHk6IGZpbmFsbHlFdmVudC5vbixcbiAgICAvLyBtZXRob2RcbiAgICBnZXQ6IHNldE1ldGhvZChcIkdFVFwiKSxcbiAgICBwdXQ6IHNldE1ldGhvZChcIlBVVFwiKSxcbiAgICBwb3N0OiBzZXRNZXRob2QoXCJQT1NUXCIpLFxuICAgIGRlbGV0ZTogc2V0TWV0aG9kKFwiREVMRVRFXCIpLFxuICAgIHBhdGNoOiBzZXRNZXRob2QoXCJQQVRDSFwiKSxcbiAgICBoZWFkOiBzZXRNZXRob2QoXCJIRUFEXCIpLFxuICAgIG9wdGlvbnM6IHNldE1ldGhvZChcIk9QVElPTlNcIiksXG4gICAgLy8gdHlwZVxuICAgIGpzb246IHNldFR5cGUoXCJqc29uXCIpLFxuICAgIHRleHQ6IHNldFR5cGUoXCJ0ZXh0XCIpLFxuICAgIGJsb2I6IHNldFR5cGUoXCJibG9iXCIpLFxuICAgIGFycmF5QnVmZmVyOiBzZXRUeXBlKFwiYXJyYXlCdWZmZXJcIiksXG4gICAgZm9ybURhdGE6IHNldFR5cGUoXCJmb3JtRGF0YVwiKVxuICB9O1xuICBmdW5jdGlvbiBzZXRNZXRob2QobWV0aG9kKSB7XG4gICAgcmV0dXJuIChwYXlsb2FkLCBwYXlsb2FkVHlwZSkgPT4ge1xuICAgICAgaWYgKCFpc0ZldGNoaW5nLnZhbHVlKSB7XG4gICAgICAgIGNvbmZpZy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGNvbmZpZy5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgY29uZmlnLnBheWxvYWRUeXBlID0gcGF5bG9hZFR5cGU7XG4gICAgICAgIGlmIChpc1JlZihjb25maWcucGF5bG9hZCkpIHtcbiAgICAgICAgICB3YXRjaChcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgcmVmZXRjaCxcbiAgICAgICAgICAgICAgdG9SZWYoY29uZmlnLnBheWxvYWQpXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgKFtyZWZldGNoMl0pID0+IHJlZmV0Y2gyICYmIGV4ZWN1dGUoKSxcbiAgICAgICAgICAgIHsgZGVlcDogdHJ1ZSB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNoZWxsLFxuICAgICAgICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWl0VW50aWxGaW5pc2hlZCgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB3YWl0VW50aWxGaW5pc2hlZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdW50aWwoaXNGaW5pc2hlZCkudG9CZSh0cnVlKS50aGVuKCgpID0+IHJlc29sdmUoc2hlbGwpKS5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHNldFR5cGUodHlwZSkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoIWlzRmV0Y2hpbmcudmFsdWUpIHtcbiAgICAgICAgY29uZmlnLnR5cGUgPSB0eXBlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNoZWxsLFxuICAgICAgICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWl0VW50aWxGaW5pc2hlZCgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfTtcbiAgfVxuICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpXG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBleGVjdXRlKCkpO1xuICByZXR1cm4ge1xuICAgIC4uLnNoZWxsLFxuICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiB3YWl0VW50aWxGaW5pc2hlZCgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGpvaW5QYXRocyhzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQuZW5kc1dpdGgoXCIvXCIpICYmICFlbmQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICByZXR1cm4gYCR7c3RhcnR9LyR7ZW5kfWA7XG4gIH1cbiAgaWYgKHN0YXJ0LmVuZHNXaXRoKFwiL1wiKSAmJiBlbmQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICByZXR1cm4gYCR7c3RhcnQuc2xpY2UoMCwgLTEpfSR7ZW5kfWA7XG4gIH1cbiAgcmV0dXJuIGAke3N0YXJ0fSR7ZW5kfWA7XG59XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgbXVsdGlwbGU6IHRydWUsXG4gIGFjY2VwdDogXCIqXCIsXG4gIHJlc2V0OiBmYWxzZSxcbiAgZGlyZWN0b3J5OiBmYWxzZVxufTtcbmZ1bmN0aW9uIHByZXBhcmVJbml0aWFsRmlsZXMoZmlsZXMpIHtcbiAgaWYgKCFmaWxlcylcbiAgICByZXR1cm4gbnVsbDtcbiAgaWYgKGZpbGVzIGluc3RhbmNlb2YgRmlsZUxpc3QpXG4gICAgcmV0dXJuIGZpbGVzO1xuICBjb25zdCBkdCA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgZHQuaXRlbXMuYWRkKGZpbGUpO1xuICB9XG4gIHJldHVybiBkdC5maWxlcztcbn1cbmZ1bmN0aW9uIHVzZUZpbGVEaWFsb2cob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZmlsZXMgPSByZWYocHJlcGFyZUluaXRpYWxGaWxlcyhvcHRpb25zLmluaXRpYWxGaWxlcykpO1xuICBjb25zdCB7IG9uOiBvbkNoYW5nZSwgdHJpZ2dlcjogY2hhbmdlVHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHsgb246IG9uQ2FuY2VsLCB0cmlnZ2VyOiBjYW5jZWxUcmlnZ2VyIH0gPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgbGV0IGlucHV0O1xuICBpZiAoZG9jdW1lbnQpIHtcbiAgICBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBpbnB1dC50eXBlID0gXCJmaWxlXCI7XG4gICAgaW5wdXQub25jaGFuZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGV2ZW50LnRhcmdldDtcbiAgICAgIGZpbGVzLnZhbHVlID0gcmVzdWx0LmZpbGVzO1xuICAgICAgY2hhbmdlVHJpZ2dlcihmaWxlcy52YWx1ZSk7XG4gICAgfTtcbiAgICBpbnB1dC5vbmNhbmNlbCA9ICgpID0+IHtcbiAgICAgIGNhbmNlbFRyaWdnZXIoKTtcbiAgICB9O1xuICB9XG4gIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgIGZpbGVzLnZhbHVlID0gbnVsbDtcbiAgICBpZiAoaW5wdXQgJiYgaW5wdXQudmFsdWUpIHtcbiAgICAgIGlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgIGNoYW5nZVRyaWdnZXIobnVsbCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBvcGVuID0gKGxvY2FsT3B0aW9ucykgPT4ge1xuICAgIGlmICghaW5wdXQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgX29wdGlvbnMgPSB7XG4gICAgICAuLi5ERUZBVUxUX09QVElPTlMsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLi4ubG9jYWxPcHRpb25zXG4gICAgfTtcbiAgICBpbnB1dC5tdWx0aXBsZSA9IF9vcHRpb25zLm11bHRpcGxlO1xuICAgIGlucHV0LmFjY2VwdCA9IF9vcHRpb25zLmFjY2VwdDtcbiAgICBpbnB1dC53ZWJraXRkaXJlY3RvcnkgPSBfb3B0aW9ucy5kaXJlY3Rvcnk7XG4gICAgaWYgKGhhc093bihfb3B0aW9ucywgXCJjYXB0dXJlXCIpKVxuICAgICAgaW5wdXQuY2FwdHVyZSA9IF9vcHRpb25zLmNhcHR1cmU7XG4gICAgaWYgKF9vcHRpb25zLnJlc2V0KVxuICAgICAgcmVzZXQoKTtcbiAgICBpbnB1dC5jbGljaygpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGZpbGVzOiByZWFkb25seShmaWxlcyksXG4gICAgb3BlbixcbiAgICByZXNldCxcbiAgICBvbkNhbmNlbCxcbiAgICBvbkNoYW5nZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VGaWxlU3lzdGVtQWNjZXNzKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93OiBfd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBkYXRhVHlwZSA9IFwiVGV4dFwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB3aW5kb3cgPSBfd2luZG93O1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJzaG93U2F2ZUZpbGVQaWNrZXJcIiBpbiB3aW5kb3cgJiYgXCJzaG93T3BlbkZpbGVQaWNrZXJcIiBpbiB3aW5kb3cpO1xuICBjb25zdCBmaWxlSGFuZGxlID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBkYXRhID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBmaWxlID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBmaWxlTmFtZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSBmaWxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EubmFtZSkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgfSk7XG4gIGNvbnN0IGZpbGVNSU1FID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IGZpbGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS50eXBlKSAhPSBudWxsID8gX2IgOiBcIlwiO1xuICB9KTtcbiAgY29uc3QgZmlsZVNpemUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gZmlsZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpemUpICE9IG51bGwgPyBfYiA6IDA7XG4gIH0pO1xuICBjb25zdCBmaWxlTGFzdE1vZGlmaWVkID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IGZpbGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5sYXN0TW9kaWZpZWQpICE9IG51bGwgPyBfYiA6IDA7XG4gIH0pO1xuICBhc3luYyBmdW5jdGlvbiBvcGVuKF9vcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IFtoYW5kbGVdID0gYXdhaXQgd2luZG93LnNob3dPcGVuRmlsZVBpY2tlcih7IC4uLnRvVmFsdWUob3B0aW9ucyksIC4uLl9vcHRpb25zIH0pO1xuICAgIGZpbGVIYW5kbGUudmFsdWUgPSBoYW5kbGU7XG4gICAgYXdhaXQgdXBkYXRlRGF0YSgpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZShfb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBmaWxlSGFuZGxlLnZhbHVlID0gYXdhaXQgd2luZG93LnNob3dTYXZlRmlsZVBpY2tlcih7IC4uLm9wdGlvbnMsIC4uLl9vcHRpb25zIH0pO1xuICAgIGRhdGEudmFsdWUgPSB2b2lkIDA7XG4gICAgYXdhaXQgdXBkYXRlRGF0YSgpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmUoX29wdGlvbnMgPSB7fSkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFmaWxlSGFuZGxlLnZhbHVlKVxuICAgICAgcmV0dXJuIHNhdmVBcyhfb3B0aW9ucyk7XG4gICAgaWYgKGRhdGEudmFsdWUpIHtcbiAgICAgIGNvbnN0IHdyaXRhYmxlU3RyZWFtID0gYXdhaXQgZmlsZUhhbmRsZS52YWx1ZS5jcmVhdGVXcml0YWJsZSgpO1xuICAgICAgYXdhaXQgd3JpdGFibGVTdHJlYW0ud3JpdGUoZGF0YS52YWx1ZSk7XG4gICAgICBhd2FpdCB3cml0YWJsZVN0cmVhbS5jbG9zZSgpO1xuICAgIH1cbiAgICBhd2FpdCB1cGRhdGVGaWxlKCk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc2F2ZUFzKF9vcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGZpbGVIYW5kbGUudmFsdWUgPSBhd2FpdCB3aW5kb3cuc2hvd1NhdmVGaWxlUGlja2VyKHsgLi4ub3B0aW9ucywgLi4uX29wdGlvbnMgfSk7XG4gICAgaWYgKGRhdGEudmFsdWUpIHtcbiAgICAgIGNvbnN0IHdyaXRhYmxlU3RyZWFtID0gYXdhaXQgZmlsZUhhbmRsZS52YWx1ZS5jcmVhdGVXcml0YWJsZSgpO1xuICAgICAgYXdhaXQgd3JpdGFibGVTdHJlYW0ud3JpdGUoZGF0YS52YWx1ZSk7XG4gICAgICBhd2FpdCB3cml0YWJsZVN0cmVhbS5jbG9zZSgpO1xuICAgIH1cbiAgICBhd2FpdCB1cGRhdGVGaWxlKCk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRmlsZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgZmlsZS52YWx1ZSA9IGF3YWl0ICgoX2EgPSBmaWxlSGFuZGxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZ2V0RmlsZSgpKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGVEYXRhKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgYXdhaXQgdXBkYXRlRmlsZSgpO1xuICAgIGNvbnN0IHR5cGUgPSB0b1ZhbHVlKGRhdGFUeXBlKTtcbiAgICBpZiAodHlwZSA9PT0gXCJUZXh0XCIpXG4gICAgICBkYXRhLnZhbHVlID0gYXdhaXQgKChfYSA9IGZpbGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS50ZXh0KCkpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiQXJyYXlCdWZmZXJcIilcbiAgICAgIGRhdGEudmFsdWUgPSBhd2FpdCAoKF9iID0gZmlsZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmFycmF5QnVmZmVyKCkpO1xuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiQmxvYlwiKVxuICAgICAgZGF0YS52YWx1ZSA9IGZpbGUudmFsdWU7XG4gIH1cbiAgd2F0Y2goKCkgPT4gdG9WYWx1ZShkYXRhVHlwZSksIHVwZGF0ZURhdGEpO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGRhdGEsXG4gICAgZmlsZSxcbiAgICBmaWxlTmFtZSxcbiAgICBmaWxlTUlNRSxcbiAgICBmaWxlU2l6ZSxcbiAgICBmaWxlTGFzdE1vZGlmaWVkLFxuICAgIG9wZW4sXG4gICAgY3JlYXRlLFxuICAgIHNhdmUsXG4gICAgc2F2ZUFzLFxuICAgIHVwZGF0ZURhdGFcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRm9jdXModGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBpbml0aWFsVmFsdWUgPSBmYWxzZSwgZm9jdXNWaXNpYmxlID0gZmFsc2UsIHByZXZlbnRTY3JvbGwgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgY29uc3QgaW5uZXJGb2N1c2VkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBjb21wdXRlZCgoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSk7XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldEVsZW1lbnQsIFwiZm9jdXNcIiwgKGV2ZW50KSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoIWZvY3VzVmlzaWJsZSB8fCAoKF9iID0gKF9hID0gZXZlbnQudGFyZ2V0KS5tYXRjaGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChfYSwgXCI6Zm9jdXMtdmlzaWJsZVwiKSkpXG4gICAgICBpbm5lckZvY3VzZWQudmFsdWUgPSB0cnVlO1xuICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldEVsZW1lbnQsIFwiYmx1clwiLCAoKSA9PiBpbm5lckZvY3VzZWQudmFsdWUgPSBmYWxzZSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgY29uc3QgZm9jdXNlZCA9IGNvbXB1dGVkKHtcbiAgICBnZXQ6ICgpID0+IGlubmVyRm9jdXNlZC52YWx1ZSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBpZiAoIXZhbHVlICYmIGlubmVyRm9jdXNlZC52YWx1ZSlcbiAgICAgICAgKF9hID0gdGFyZ2V0RWxlbWVudC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmJsdXIoKTtcbiAgICAgIGVsc2UgaWYgKHZhbHVlICYmICFpbm5lckZvY3VzZWQudmFsdWUpXG4gICAgICAgIChfYiA9IHRhcmdldEVsZW1lbnQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5mb2N1cyh7IHByZXZlbnRTY3JvbGwgfSk7XG4gICAgfVxuICB9KTtcbiAgd2F0Y2goXG4gICAgdGFyZ2V0RWxlbWVudCxcbiAgICAoKSA9PiB7XG4gICAgICBmb2N1c2VkLnZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUsIGZsdXNoOiBcInBvc3RcIiB9XG4gICk7XG4gIHJldHVybiB7IGZvY3VzZWQgfTtcbn1cblxuY29uc3QgRVZFTlRfRk9DVVNfSU4gPSBcImZvY3VzaW5cIjtcbmNvbnN0IEVWRU5UX0ZPQ1VTX09VVCA9IFwiZm9jdXNvdXRcIjtcbmNvbnN0IFBTRVVET19DTEFTU19GT0NVU19XSVRISU4gPSBcIjpmb2N1cy13aXRoaW5cIjtcbmZ1bmN0aW9uIHVzZUZvY3VzV2l0aGluKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGNvbXB1dGVkKCgpID0+IHVucmVmRWxlbWVudCh0YXJnZXQpKTtcbiAgY29uc3QgX2ZvY3VzZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgZm9jdXNlZCA9IGNvbXB1dGVkKCgpID0+IF9mb2N1c2VkLnZhbHVlKTtcbiAgY29uc3QgYWN0aXZlRWxlbWVudCA9IHVzZUFjdGl2ZUVsZW1lbnQob3B0aW9ucyk7XG4gIGlmICghd2luZG93IHx8ICFhY3RpdmVFbGVtZW50LnZhbHVlKSB7XG4gICAgcmV0dXJuIHsgZm9jdXNlZCB9O1xuICB9XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldEVsZW1lbnQsIEVWRU5UX0ZPQ1VTX0lOLCAoKSA9PiBfZm9jdXNlZC52YWx1ZSA9IHRydWUsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0RWxlbWVudCwgRVZFTlRfRk9DVVNfT1VULCAoKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgcmV0dXJuIF9mb2N1c2VkLnZhbHVlID0gKF9jID0gKF9iID0gKF9hID0gdGFyZ2V0RWxlbWVudC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1hdGNoZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBQU0VVRE9fQ0xBU1NfRk9DVVNfV0lUSElOKSkgIT0gbnVsbCA/IF9jIDogZmFsc2U7XG4gIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHJldHVybiB7IGZvY3VzZWQgfTtcbn1cblxuZnVuY3Rpb24gdXNlRnBzKG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBmcHMgPSBzaGFsbG93UmVmKDApO1xuICBpZiAodHlwZW9mIHBlcmZvcm1hbmNlID09PSBcInVuZGVmaW5lZFwiKVxuICAgIHJldHVybiBmcHM7XG4gIGNvbnN0IGV2ZXJ5ID0gKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5ldmVyeSkgIT0gbnVsbCA/IF9hIDogMTA7XG4gIGxldCBsYXN0ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIGxldCB0aWNrcyA9IDA7XG4gIHVzZVJhZkZuKCgpID0+IHtcbiAgICB0aWNrcyArPSAxO1xuICAgIGlmICh0aWNrcyA+PSBldmVyeSkge1xuICAgICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCBkaWZmID0gbm93IC0gbGFzdDtcbiAgICAgIGZwcy52YWx1ZSA9IE1hdGgucm91bmQoMWUzIC8gKGRpZmYgLyB0aWNrcykpO1xuICAgICAgbGFzdCA9IG5vdztcbiAgICAgIHRpY2tzID0gMDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZnBzO1xufVxuXG5jb25zdCBldmVudEhhbmRsZXJzID0gW1xuICBcImZ1bGxzY3JlZW5jaGFuZ2VcIixcbiAgXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsXG4gIFwid2Via2l0ZW5kZnVsbHNjcmVlblwiLFxuICBcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixcbiAgXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIlxuXTtcbmZ1bmN0aW9uIHVzZUZ1bGxzY3JlZW4odGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50LFxuICAgIGF1dG9FeGl0ID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHRhcmdldFJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHVucmVmRWxlbWVudCh0YXJnZXQpKSAhPSBudWxsID8gX2EgOiBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9KTtcbiAgY29uc3QgaXNGdWxsc2NyZWVuID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHJlcXVlc3RNZXRob2QgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwicmVxdWVzdEZ1bGxzY3JlZW5cIixcbiAgICAgIFwid2Via2l0UmVxdWVzdEZ1bGxzY3JlZW5cIixcbiAgICAgIFwid2Via2l0RW50ZXJGdWxsc2NyZWVuXCIsXG4gICAgICBcIndlYmtpdEVudGVyRnVsbFNjcmVlblwiLFxuICAgICAgXCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlblwiLFxuICAgICAgXCJtb3pSZXF1ZXN0RnVsbFNjcmVlblwiLFxuICAgICAgXCJtc1JlcXVlc3RGdWxsc2NyZWVuXCJcbiAgICBdLmZpbmQoKG0pID0+IGRvY3VtZW50ICYmIG0gaW4gZG9jdW1lbnQgfHwgdGFyZ2V0UmVmLnZhbHVlICYmIG0gaW4gdGFyZ2V0UmVmLnZhbHVlKTtcbiAgfSk7XG4gIGNvbnN0IGV4aXRNZXRob2QgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiZXhpdEZ1bGxzY3JlZW5cIixcbiAgICAgIFwid2Via2l0RXhpdEZ1bGxzY3JlZW5cIixcbiAgICAgIFwid2Via2l0RXhpdEZ1bGxTY3JlZW5cIixcbiAgICAgIFwid2Via2l0Q2FuY2VsRnVsbFNjcmVlblwiLFxuICAgICAgXCJtb3pDYW5jZWxGdWxsU2NyZWVuXCIsXG4gICAgICBcIm1zRXhpdEZ1bGxzY3JlZW5cIlxuICAgIF0uZmluZCgobSkgPT4gZG9jdW1lbnQgJiYgbSBpbiBkb2N1bWVudCB8fCB0YXJnZXRSZWYudmFsdWUgJiYgbSBpbiB0YXJnZXRSZWYudmFsdWUpO1xuICB9KTtcbiAgY29uc3QgZnVsbHNjcmVlbkVuYWJsZWQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiZnVsbFNjcmVlblwiLFxuICAgICAgXCJ3ZWJraXRJc0Z1bGxTY3JlZW5cIixcbiAgICAgIFwid2Via2l0RGlzcGxheWluZ0Z1bGxzY3JlZW5cIixcbiAgICAgIFwibW96RnVsbFNjcmVlblwiLFxuICAgICAgXCJtc0Z1bGxzY3JlZW5FbGVtZW50XCJcbiAgICBdLmZpbmQoKG0pID0+IGRvY3VtZW50ICYmIG0gaW4gZG9jdW1lbnQgfHwgdGFyZ2V0UmVmLnZhbHVlICYmIG0gaW4gdGFyZ2V0UmVmLnZhbHVlKTtcbiAgfSk7XG4gIGNvbnN0IGZ1bGxzY3JlZW5FbGVtZW50TWV0aG9kID0gW1xuICAgIFwiZnVsbHNjcmVlbkVsZW1lbnRcIixcbiAgICBcIndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50XCIsXG4gICAgXCJtb3pGdWxsU2NyZWVuRWxlbWVudFwiLFxuICAgIFwibXNGdWxsc2NyZWVuRWxlbWVudFwiXG4gIF0uZmluZCgobSkgPT4gZG9jdW1lbnQgJiYgbSBpbiBkb2N1bWVudCk7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHRhcmdldFJlZi52YWx1ZSAmJiBkb2N1bWVudCAmJiByZXF1ZXN0TWV0aG9kLnZhbHVlICE9PSB2b2lkIDAgJiYgZXhpdE1ldGhvZC52YWx1ZSAhPT0gdm9pZCAwICYmIGZ1bGxzY3JlZW5FbmFibGVkLnZhbHVlICE9PSB2b2lkIDApO1xuICBjb25zdCBpc0N1cnJlbnRFbGVtZW50RnVsbFNjcmVlbiA9ICgpID0+IHtcbiAgICBpZiAoZnVsbHNjcmVlbkVsZW1lbnRNZXRob2QpXG4gICAgICByZXR1cm4gKGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudFtmdWxsc2NyZWVuRWxlbWVudE1ldGhvZF0pID09PSB0YXJnZXRSZWYudmFsdWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBpc0VsZW1lbnRGdWxsU2NyZWVuID0gKCkgPT4ge1xuICAgIGlmIChmdWxsc2NyZWVuRW5hYmxlZC52YWx1ZSkge1xuICAgICAgaWYgKGRvY3VtZW50ICYmIGRvY3VtZW50W2Z1bGxzY3JlZW5FbmFibGVkLnZhbHVlXSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudFtmdWxsc2NyZWVuRW5hYmxlZC52YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0YXJnZXQyID0gdGFyZ2V0UmVmLnZhbHVlO1xuICAgICAgICBpZiAoKHRhcmdldDIgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldDJbZnVsbHNjcmVlbkVuYWJsZWQudmFsdWVdKSAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIEJvb2xlYW4odGFyZ2V0MltmdWxsc2NyZWVuRW5hYmxlZC52YWx1ZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgYXN5bmMgZnVuY3Rpb24gZXhpdCgpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlIHx8ICFpc0Z1bGxzY3JlZW4udmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGV4aXRNZXRob2QudmFsdWUpIHtcbiAgICAgIGlmICgoZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50W2V4aXRNZXRob2QudmFsdWVdKSAhPSBudWxsKSB7XG4gICAgICAgIGF3YWl0IGRvY3VtZW50W2V4aXRNZXRob2QudmFsdWVdKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0YXJnZXQyID0gdGFyZ2V0UmVmLnZhbHVlO1xuICAgICAgICBpZiAoKHRhcmdldDIgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldDJbZXhpdE1ldGhvZC52YWx1ZV0pICE9IG51bGwpXG4gICAgICAgICAgYXdhaXQgdGFyZ2V0MltleGl0TWV0aG9kLnZhbHVlXSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpc0Z1bGxzY3JlZW4udmFsdWUgPSBmYWxzZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBlbnRlcigpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlIHx8IGlzRnVsbHNjcmVlbi52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoaXNFbGVtZW50RnVsbFNjcmVlbigpKVxuICAgICAgYXdhaXQgZXhpdCgpO1xuICAgIGNvbnN0IHRhcmdldDIgPSB0YXJnZXRSZWYudmFsdWU7XG4gICAgaWYgKHJlcXVlc3RNZXRob2QudmFsdWUgJiYgKHRhcmdldDIgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldDJbcmVxdWVzdE1ldGhvZC52YWx1ZV0pICE9IG51bGwpIHtcbiAgICAgIGF3YWl0IHRhcmdldDJbcmVxdWVzdE1ldGhvZC52YWx1ZV0oKTtcbiAgICAgIGlzRnVsbHNjcmVlbi52YWx1ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICBhd2FpdCAoaXNGdWxsc2NyZWVuLnZhbHVlID8gZXhpdCgpIDogZW50ZXIoKSk7XG4gIH1cbiAgY29uc3QgaGFuZGxlckNhbGxiYWNrID0gKCkgPT4ge1xuICAgIGNvbnN0IGlzRWxlbWVudEZ1bGxTY3JlZW5WYWx1ZSA9IGlzRWxlbWVudEZ1bGxTY3JlZW4oKTtcbiAgICBpZiAoIWlzRWxlbWVudEZ1bGxTY3JlZW5WYWx1ZSB8fCBpc0VsZW1lbnRGdWxsU2NyZWVuVmFsdWUgJiYgaXNDdXJyZW50RWxlbWVudEZ1bGxTY3JlZW4oKSlcbiAgICAgIGlzRnVsbHNjcmVlbi52YWx1ZSA9IGlzRWxlbWVudEZ1bGxTY3JlZW5WYWx1ZTtcbiAgfTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBjYXB0dXJlOiBmYWxzZSwgcGFzc2l2ZTogdHJ1ZSB9O1xuICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBldmVudEhhbmRsZXJzLCBoYW5kbGVyQ2FsbGJhY2ssIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoKCkgPT4gdW5yZWZFbGVtZW50KHRhcmdldFJlZiksIGV2ZW50SGFuZGxlcnMsIGhhbmRsZXJDYWxsYmFjaywgbGlzdGVuZXJPcHRpb25zKTtcbiAgaWYgKGF1dG9FeGl0KVxuICAgIHRyeU9uU2NvcGVEaXNwb3NlKGV4aXQpO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzRnVsbHNjcmVlbixcbiAgICBlbnRlcixcbiAgICBleGl0LFxuICAgIHRvZ2dsZVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXBHYW1lcGFkVG9YYm94MzYwQ29udHJvbGxlcihnYW1lcGFkKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGdhbWVwYWQudmFsdWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICBhOiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMF0sXG4gICAgICAgICAgYjogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzFdLFxuICAgICAgICAgIHg6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1syXSxcbiAgICAgICAgICB5OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbM11cbiAgICAgICAgfSxcbiAgICAgICAgYnVtcGVyOiB7XG4gICAgICAgICAgbGVmdDogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzRdLFxuICAgICAgICAgIHJpZ2h0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbNV1cbiAgICAgICAgfSxcbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICBsZWZ0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbNl0sXG4gICAgICAgICAgcmlnaHQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s3XVxuICAgICAgICB9LFxuICAgICAgICBzdGljazoge1xuICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IGdhbWVwYWQudmFsdWUuYXhlc1swXSxcbiAgICAgICAgICAgIHZlcnRpY2FsOiBnYW1lcGFkLnZhbHVlLmF4ZXNbMV0sXG4gICAgICAgICAgICBidXR0b246IGdhbWVwYWQudmFsdWUuYnV0dG9uc1sxMF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0OiB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiBnYW1lcGFkLnZhbHVlLmF4ZXNbMl0sXG4gICAgICAgICAgICB2ZXJ0aWNhbDogZ2FtZXBhZC52YWx1ZS5heGVzWzNdLFxuICAgICAgICAgICAgYnV0dG9uOiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMTFdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkcGFkOiB7XG4gICAgICAgICAgdXA6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1sxMl0sXG4gICAgICAgICAgZG93bjogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzEzXSxcbiAgICAgICAgICBsZWZ0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMTRdLFxuICAgICAgICAgIHJpZ2h0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMTVdXG4gICAgICAgIH0sXG4gICAgICAgIGJhY2s6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s4XSxcbiAgICAgICAgc3RhcnQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s5XVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXNlR2FtZXBhZChvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3JcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcImdldEdhbWVwYWRzXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgZ2FtZXBhZHMgPSByZWYoW10pO1xuICBjb25zdCBvbkNvbm5lY3RlZEhvb2sgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3Qgb25EaXNjb25uZWN0ZWRIb29rID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHN0YXRlRnJvbUdhbWVwYWQgPSAoZ2FtZXBhZCkgPT4ge1xuICAgIGNvbnN0IGhhcHRpY0FjdHVhdG9ycyA9IFtdO1xuICAgIGNvbnN0IHZpYnJhdGlvbkFjdHVhdG9yID0gXCJ2aWJyYXRpb25BY3R1YXRvclwiIGluIGdhbWVwYWQgPyBnYW1lcGFkLnZpYnJhdGlvbkFjdHVhdG9yIDogbnVsbDtcbiAgICBpZiAodmlicmF0aW9uQWN0dWF0b3IpXG4gICAgICBoYXB0aWNBY3R1YXRvcnMucHVzaCh2aWJyYXRpb25BY3R1YXRvcik7XG4gICAgaWYgKGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzKVxuICAgICAgaGFwdGljQWN0dWF0b3JzLnB1c2goLi4uZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZ2FtZXBhZC5pZCxcbiAgICAgIGluZGV4OiBnYW1lcGFkLmluZGV4LFxuICAgICAgY29ubmVjdGVkOiBnYW1lcGFkLmNvbm5lY3RlZCxcbiAgICAgIG1hcHBpbmc6IGdhbWVwYWQubWFwcGluZyxcbiAgICAgIHRpbWVzdGFtcDogZ2FtZXBhZC50aW1lc3RhbXAsXG4gICAgICB2aWJyYXRpb25BY3R1YXRvcjogZ2FtZXBhZC52aWJyYXRpb25BY3R1YXRvcixcbiAgICAgIGhhcHRpY0FjdHVhdG9ycyxcbiAgICAgIGF4ZXM6IGdhbWVwYWQuYXhlcy5tYXAoKGF4ZXMpID0+IGF4ZXMpLFxuICAgICAgYnV0dG9uczogZ2FtZXBhZC5idXR0b25zLm1hcCgoYnV0dG9uKSA9PiAoeyBwcmVzc2VkOiBidXR0b24ucHJlc3NlZCwgdG91Y2hlZDogYnV0dG9uLnRvdWNoZWQsIHZhbHVlOiBidXR0b24udmFsdWUgfSkpXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlR2FtZXBhZFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IF9nYW1lcGFkcyA9IChuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpKSB8fCBbXTtcbiAgICBmb3IgKGNvbnN0IGdhbWVwYWQgb2YgX2dhbWVwYWRzKSB7XG4gICAgICBpZiAoZ2FtZXBhZCAmJiBnYW1lcGFkcy52YWx1ZVtnYW1lcGFkLmluZGV4XSlcbiAgICAgICAgZ2FtZXBhZHMudmFsdWVbZ2FtZXBhZC5pbmRleF0gPSBzdGF0ZUZyb21HYW1lcGFkKGdhbWVwYWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgeyBpc0FjdGl2ZSwgcGF1c2UsIHJlc3VtZSB9ID0gdXNlUmFmRm4odXBkYXRlR2FtZXBhZFN0YXRlKTtcbiAgY29uc3Qgb25HYW1lcGFkQ29ubmVjdGVkID0gKGdhbWVwYWQpID0+IHtcbiAgICBpZiAoIWdhbWVwYWRzLnZhbHVlLnNvbWUoKHsgaW5kZXggfSkgPT4gaW5kZXggPT09IGdhbWVwYWQuaW5kZXgpKSB7XG4gICAgICBnYW1lcGFkcy52YWx1ZS5wdXNoKHN0YXRlRnJvbUdhbWVwYWQoZ2FtZXBhZCkpO1xuICAgICAgb25Db25uZWN0ZWRIb29rLnRyaWdnZXIoZ2FtZXBhZC5pbmRleCk7XG4gICAgfVxuICAgIHJlc3VtZSgpO1xuICB9O1xuICBjb25zdCBvbkdhbWVwYWREaXNjb25uZWN0ZWQgPSAoZ2FtZXBhZCkgPT4ge1xuICAgIGdhbWVwYWRzLnZhbHVlID0gZ2FtZXBhZHMudmFsdWUuZmlsdGVyKCh4KSA9PiB4LmluZGV4ICE9PSBnYW1lcGFkLmluZGV4KTtcbiAgICBvbkRpc2Nvbm5lY3RlZEhvb2sudHJpZ2dlcihnYW1lcGFkLmluZGV4KTtcbiAgfTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIChlKSA9PiBvbkdhbWVwYWRDb25uZWN0ZWQoZS5nYW1lcGFkKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRkaXNjb25uZWN0ZWRcIiwgKGUpID0+IG9uR2FtZXBhZERpc2Nvbm5lY3RlZChlLmdhbWVwYWQpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB0cnlPbk1vdW50ZWQoKCkgPT4ge1xuICAgIGNvbnN0IF9nYW1lcGFkcyA9IChuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpKSB8fCBbXTtcbiAgICBmb3IgKGNvbnN0IGdhbWVwYWQgb2YgX2dhbWVwYWRzKSB7XG4gICAgICBpZiAoZ2FtZXBhZCAmJiBnYW1lcGFkcy52YWx1ZVtnYW1lcGFkLmluZGV4XSlcbiAgICAgICAgb25HYW1lcGFkQ29ubmVjdGVkKGdhbWVwYWQpO1xuICAgIH1cbiAgfSk7XG4gIHBhdXNlKCk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgb25Db25uZWN0ZWQ6IG9uQ29ubmVjdGVkSG9vay5vbixcbiAgICBvbkRpc2Nvbm5lY3RlZDogb25EaXNjb25uZWN0ZWRIb29rLm9uLFxuICAgIGdhbWVwYWRzLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZSxcbiAgICBpc0FjdGl2ZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VHZW9sb2NhdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGVuYWJsZUhpZ2hBY2N1cmFjeSA9IHRydWUsXG4gICAgbWF4aW11bUFnZSA9IDNlNCxcbiAgICB0aW1lb3V0ID0gMjdlMyxcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yLFxuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcImdlb2xvY2F0aW9uXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgbG9jYXRlZEF0ID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBjb29yZHMgPSByZWYoe1xuICAgIGFjY3VyYWN5OiAwLFxuICAgIGxhdGl0dWRlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgbG9uZ2l0dWRlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgYWx0aXR1ZGU6IG51bGwsXG4gICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCxcbiAgICBoZWFkaW5nOiBudWxsLFxuICAgIHNwZWVkOiBudWxsXG4gIH0pO1xuICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGxvY2F0ZWRBdC52YWx1ZSA9IHBvc2l0aW9uLnRpbWVzdGFtcDtcbiAgICBjb29yZHMudmFsdWUgPSBwb3NpdGlvbi5jb29yZHM7XG4gICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICB9XG4gIGxldCB3YXRjaGVyO1xuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgICB3YXRjaGVyID0gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uLFxuICAgICAgICAoZXJyKSA9PiBlcnJvci52YWx1ZSA9IGVycixcbiAgICAgICAge1xuICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeSxcbiAgICAgICAgICBtYXhpbXVtQWdlLFxuICAgICAgICAgIHRpbWVvdXRcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSlcbiAgICByZXN1bWUoKTtcbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaWYgKHdhdGNoZXIgJiYgbmF2aWdhdG9yKVxuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2god2F0Y2hlcik7XG4gIH1cbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgIHBhdXNlKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGNvb3JkcyxcbiAgICBsb2NhdGVkQXQsXG4gICAgZXJyb3IsXG4gICAgcmVzdW1lLFxuICAgIHBhdXNlXG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRFdmVudHMkMSA9IFtcIm1vdXNlbW92ZVwiLCBcIm1vdXNlZG93blwiLCBcInJlc2l6ZVwiLCBcImtleWRvd25cIiwgXCJ0b3VjaHN0YXJ0XCIsIFwid2hlZWxcIl07XG5jb25zdCBvbmVNaW51dGUgPSA2ZTQ7XG5mdW5jdGlvbiB1c2VJZGxlKHRpbWVvdXQgPSBvbmVNaW51dGUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW5pdGlhbFN0YXRlID0gZmFsc2UsXG4gICAgbGlzdGVuRm9yVmlzaWJpbGl0eUNoYW5nZSA9IHRydWUsXG4gICAgZXZlbnRzID0gZGVmYXVsdEV2ZW50cyQxLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgZXZlbnRGaWx0ZXIgPSB0aHJvdHRsZUZpbHRlcig1MClcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlkbGUgPSBzaGFsbG93UmVmKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IGxhc3RBY3RpdmUgPSBzaGFsbG93UmVmKHRpbWVzdGFtcCgpKTtcbiAgbGV0IHRpbWVyO1xuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBpZGxlLnZhbHVlID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gaWRsZS52YWx1ZSA9IHRydWUsIHRpbWVvdXQpO1xuICB9O1xuICBjb25zdCBvbkV2ZW50ID0gY3JlYXRlRmlsdGVyV3JhcHBlcihcbiAgICBldmVudEZpbHRlcixcbiAgICAoKSA9PiB7XG4gICAgICBsYXN0QWN0aXZlLnZhbHVlID0gdGltZXN0YW1wKCk7XG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgKTtcbiAgaWYgKHdpbmRvdykge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKVxuICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIGV2ZW50LCBvbkV2ZW50LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIGlmIChsaXN0ZW5Gb3JWaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcInZpc2liaWxpdHljaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbilcbiAgICAgICAgICBvbkV2ZW50KCk7XG4gICAgICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIH1cbiAgICByZXNldCgpO1xuICB9XG4gIHJldHVybiB7XG4gICAgaWRsZSxcbiAgICBsYXN0QWN0aXZlLFxuICAgIHJlc2V0XG4gIH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGxvYWRJbWFnZShvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgY29uc3QgeyBzcmMsIHNyY3NldCwgc2l6ZXMsIGNsYXNzOiBjbGF6eiwgbG9hZGluZywgY3Jvc3NvcmlnaW4sIHJlZmVycmVyUG9saWN5LCB3aWR0aCwgaGVpZ2h0LCBkZWNvZGluZywgZmV0Y2hQcmlvcml0eSwgaXNtYXAsIHVzZW1hcCB9ID0gb3B0aW9ucztcbiAgICBpbWcuc3JjID0gc3JjO1xuICAgIGlmIChzcmNzZXQgIT0gbnVsbClcbiAgICAgIGltZy5zcmNzZXQgPSBzcmNzZXQ7XG4gICAgaWYgKHNpemVzICE9IG51bGwpXG4gICAgICBpbWcuc2l6ZXMgPSBzaXplcztcbiAgICBpZiAoY2xhenogIT0gbnVsbClcbiAgICAgIGltZy5jbGFzc05hbWUgPSBjbGF6ejtcbiAgICBpZiAobG9hZGluZyAhPSBudWxsKVxuICAgICAgaW1nLmxvYWRpbmcgPSBsb2FkaW5nO1xuICAgIGlmIChjcm9zc29yaWdpbiAhPSBudWxsKVxuICAgICAgaW1nLmNyb3NzT3JpZ2luID0gY3Jvc3NvcmlnaW47XG4gICAgaWYgKHJlZmVycmVyUG9saWN5ICE9IG51bGwpXG4gICAgICBpbWcucmVmZXJyZXJQb2xpY3kgPSByZWZlcnJlclBvbGljeTtcbiAgICBpZiAod2lkdGggIT0gbnVsbClcbiAgICAgIGltZy53aWR0aCA9IHdpZHRoO1xuICAgIGlmIChoZWlnaHQgIT0gbnVsbClcbiAgICAgIGltZy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgaWYgKGRlY29kaW5nICE9IG51bGwpXG4gICAgICBpbWcuZGVjb2RpbmcgPSBkZWNvZGluZztcbiAgICBpZiAoZmV0Y2hQcmlvcml0eSAhPSBudWxsKVxuICAgICAgaW1nLmZldGNoUHJpb3JpdHkgPSBmZXRjaFByaW9yaXR5O1xuICAgIGlmIChpc21hcCAhPSBudWxsKVxuICAgICAgaW1nLmlzTWFwID0gaXNtYXA7XG4gICAgaWYgKHVzZW1hcCAhPSBudWxsKVxuICAgICAgaW1nLnVzZU1hcCA9IHVzZW1hcDtcbiAgICBpbWcub25sb2FkID0gKCkgPT4gcmVzb2x2ZShpbWcpO1xuICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZUltYWdlKG9wdGlvbnMsIGFzeW5jU3RhdGVPcHRpb25zID0ge30pIHtcbiAgY29uc3Qgc3RhdGUgPSB1c2VBc3luY1N0YXRlKFxuICAgICgpID0+IGxvYWRJbWFnZSh0b1ZhbHVlKG9wdGlvbnMpKSxcbiAgICB2b2lkIDAsXG4gICAge1xuICAgICAgcmVzZXRPbkV4ZWN1dGU6IHRydWUsXG4gICAgICAuLi5hc3luY1N0YXRlT3B0aW9uc1xuICAgIH1cbiAgKTtcbiAgd2F0Y2goXG4gICAgKCkgPT4gdG9WYWx1ZShvcHRpb25zKSxcbiAgICAoKSA9PiBzdGF0ZS5leGVjdXRlKGFzeW5jU3RhdGVPcHRpb25zLmRlbGF5KSxcbiAgICB7IGRlZXA6IHRydWUgfVxuICApO1xuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVFbGVtZW50KGVsKSB7XG4gIGlmICh0eXBlb2YgV2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIGVsIGluc3RhbmNlb2YgV2luZG93KVxuICAgIHJldHVybiBlbC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gIGlmICh0eXBlb2YgRG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgZWwgaW5zdGFuY2VvZiBEb2N1bWVudClcbiAgICByZXR1cm4gZWwuZG9jdW1lbnRFbGVtZW50O1xuICByZXR1cm4gZWw7XG59XG5cbmNvbnN0IEFSUklWRURfU1RBVEVfVEhSRVNIT0xEX1BJWEVMUyA9IDE7XG5mdW5jdGlvbiB1c2VTY3JvbGwoZWxlbWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0aHJvdHRsZSA9IDAsXG4gICAgaWRsZSA9IDIwMCxcbiAgICBvblN0b3AgPSBub29wLFxuICAgIG9uU2Nyb2xsID0gbm9vcCxcbiAgICBvZmZzZXQgPSB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDBcbiAgICB9LFxuICAgIGV2ZW50TGlzdGVuZXJPcHRpb25zID0ge1xuICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSxcbiAgICBiZWhhdmlvciA9IFwiYXV0b1wiLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgb25FcnJvciA9IChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGludGVybmFsWCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGludGVybmFsWSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHggPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIGludGVybmFsWC52YWx1ZTtcbiAgICB9LFxuICAgIHNldCh4Mikge1xuICAgICAgc2Nyb2xsVG8oeDIsIHZvaWQgMCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgeSA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxZLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHkyKSB7XG4gICAgICBzY3JvbGxUbyh2b2lkIDAsIHkyKTtcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiBzY3JvbGxUbyhfeCwgX3kpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgaWYgKCF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgX2VsZW1lbnQgPSB0b1ZhbHVlKGVsZW1lbnQpO1xuICAgIGlmICghX2VsZW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgKF9jID0gX2VsZW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudCA/IHdpbmRvdy5kb2N1bWVudC5ib2R5IDogX2VsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zY3JvbGxUbyh7XG4gICAgICB0b3A6IChfYSA9IHRvVmFsdWUoX3kpKSAhPSBudWxsID8gX2EgOiB5LnZhbHVlLFxuICAgICAgbGVmdDogKF9iID0gdG9WYWx1ZShfeCkpICE9IG51bGwgPyBfYiA6IHgudmFsdWUsXG4gICAgICBiZWhhdmlvcjogdG9WYWx1ZShiZWhhdmlvcilcbiAgICB9KTtcbiAgICBjb25zdCBzY3JvbGxDb250YWluZXIgPSAoKF9kID0gX2VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IF9lbGVtZW50LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2QuZG9jdW1lbnRFbGVtZW50KSB8fCAoX2VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IF9lbGVtZW50LmRvY3VtZW50RWxlbWVudCkgfHwgX2VsZW1lbnQ7XG4gICAgaWYgKHggIT0gbnVsbClcbiAgICAgIGludGVybmFsWC52YWx1ZSA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgIGlmICh5ICE9IG51bGwpXG4gICAgICBpbnRlcm5hbFkudmFsdWUgPSBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wO1xuICB9XG4gIGNvbnN0IGlzU2Nyb2xsaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGFycml2ZWRTdGF0ZSA9IHJlYWN0aXZlKHtcbiAgICBsZWZ0OiB0cnVlLFxuICAgIHJpZ2h0OiBmYWxzZSxcbiAgICB0b3A6IHRydWUsXG4gICAgYm90dG9tOiBmYWxzZVxuICB9KTtcbiAgY29uc3QgZGlyZWN0aW9ucyA9IHJlYWN0aXZlKHtcbiAgICBsZWZ0OiBmYWxzZSxcbiAgICByaWdodDogZmFsc2UsXG4gICAgdG9wOiBmYWxzZSxcbiAgICBib3R0b206IGZhbHNlXG4gIH0pO1xuICBjb25zdCBvblNjcm9sbEVuZCA9IChlKSA9PiB7XG4gICAgaWYgKCFpc1Njcm9sbGluZy52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpc1Njcm9sbGluZy52YWx1ZSA9IGZhbHNlO1xuICAgIGRpcmVjdGlvbnMubGVmdCA9IGZhbHNlO1xuICAgIGRpcmVjdGlvbnMucmlnaHQgPSBmYWxzZTtcbiAgICBkaXJlY3Rpb25zLnRvcCA9IGZhbHNlO1xuICAgIGRpcmVjdGlvbnMuYm90dG9tID0gZmFsc2U7XG4gICAgb25TdG9wKGUpO1xuICB9O1xuICBjb25zdCBvblNjcm9sbEVuZERlYm91bmNlZCA9IHVzZURlYm91bmNlRm4ob25TY3JvbGxFbmQsIHRocm90dGxlICsgaWRsZSk7XG4gIGNvbnN0IHNldEFycml2ZWRTdGF0ZSA9ICh0YXJnZXQpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZWwgPSAoKF9hID0gdGFyZ2V0ID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXQuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kb2N1bWVudEVsZW1lbnQpIHx8ICh0YXJnZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldC5kb2N1bWVudEVsZW1lbnQpIHx8IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgIGNvbnN0IHsgZGlzcGxheSwgZmxleERpcmVjdGlvbiwgZGlyZWN0aW9uIH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICBjb25zdCBkaXJlY3Rpb25NdWx0aXBsZXIgPSBkaXJlY3Rpb24gPT09IFwicnRsXCIgPyAtMSA6IDE7XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IGVsLnNjcm9sbExlZnQ7XG4gICAgZGlyZWN0aW9ucy5sZWZ0ID0gc2Nyb2xsTGVmdCA8IGludGVybmFsWC52YWx1ZTtcbiAgICBkaXJlY3Rpb25zLnJpZ2h0ID0gc2Nyb2xsTGVmdCA+IGludGVybmFsWC52YWx1ZTtcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5hYnMoc2Nyb2xsTGVmdCAqIGRpcmVjdGlvbk11bHRpcGxlcikgPD0gKG9mZnNldC5sZWZ0IHx8IDApO1xuICAgIGNvbnN0IHJpZ2h0ID0gTWF0aC5hYnMoc2Nyb2xsTGVmdCAqIGRpcmVjdGlvbk11bHRpcGxlcikgKyBlbC5jbGllbnRXaWR0aCA+PSBlbC5zY3JvbGxXaWR0aCAtIChvZmZzZXQucmlnaHQgfHwgMCkgLSBBUlJJVkVEX1NUQVRFX1RIUkVTSE9MRF9QSVhFTFM7XG4gICAgaWYgKGRpc3BsYXkgPT09IFwiZmxleFwiICYmIGZsZXhEaXJlY3Rpb24gPT09IFwicm93LXJldmVyc2VcIikge1xuICAgICAgYXJyaXZlZFN0YXRlLmxlZnQgPSByaWdodDtcbiAgICAgIGFycml2ZWRTdGF0ZS5yaWdodCA9IGxlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycml2ZWRTdGF0ZS5sZWZ0ID0gbGVmdDtcbiAgICAgIGFycml2ZWRTdGF0ZS5yaWdodCA9IHJpZ2h0O1xuICAgIH1cbiAgICBpbnRlcm5hbFgudmFsdWUgPSBzY3JvbGxMZWZ0O1xuICAgIGxldCBzY3JvbGxUb3AgPSBlbC5zY3JvbGxUb3A7XG4gICAgaWYgKHRhcmdldCA9PT0gd2luZG93LmRvY3VtZW50ICYmICFzY3JvbGxUb3ApXG4gICAgICBzY3JvbGxUb3AgPSB3aW5kb3cuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgZGlyZWN0aW9ucy50b3AgPSBzY3JvbGxUb3AgPCBpbnRlcm5hbFkudmFsdWU7XG4gICAgZGlyZWN0aW9ucy5ib3R0b20gPSBzY3JvbGxUb3AgPiBpbnRlcm5hbFkudmFsdWU7XG4gICAgY29uc3QgdG9wID0gTWF0aC5hYnMoc2Nyb2xsVG9wKSA8PSAob2Zmc2V0LnRvcCB8fCAwKTtcbiAgICBjb25zdCBib3R0b20gPSBNYXRoLmFicyhzY3JvbGxUb3ApICsgZWwuY2xpZW50SGVpZ2h0ID49IGVsLnNjcm9sbEhlaWdodCAtIChvZmZzZXQuYm90dG9tIHx8IDApIC0gQVJSSVZFRF9TVEFURV9USFJFU0hPTERfUElYRUxTO1xuICAgIGlmIChkaXNwbGF5ID09PSBcImZsZXhcIiAmJiBmbGV4RGlyZWN0aW9uID09PSBcImNvbHVtbi1yZXZlcnNlXCIpIHtcbiAgICAgIGFycml2ZWRTdGF0ZS50b3AgPSBib3R0b207XG4gICAgICBhcnJpdmVkU3RhdGUuYm90dG9tID0gdG9wO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJpdmVkU3RhdGUudG9wID0gdG9wO1xuICAgICAgYXJyaXZlZFN0YXRlLmJvdHRvbSA9IGJvdHRvbTtcbiAgICB9XG4gICAgaW50ZXJuYWxZLnZhbHVlID0gc2Nyb2xsVG9wO1xuICB9O1xuICBjb25zdCBvblNjcm9sbEhhbmRsZXIgPSAoZSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIXdpbmRvdylcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBldmVudFRhcmdldCA9IChfYSA9IGUudGFyZ2V0LmRvY3VtZW50RWxlbWVudCkgIT0gbnVsbCA/IF9hIDogZS50YXJnZXQ7XG4gICAgc2V0QXJyaXZlZFN0YXRlKGV2ZW50VGFyZ2V0KTtcbiAgICBpc1Njcm9sbGluZy52YWx1ZSA9IHRydWU7XG4gICAgb25TY3JvbGxFbmREZWJvdW5jZWQoZSk7XG4gICAgb25TY3JvbGwoZSk7XG4gIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgZWxlbWVudCxcbiAgICBcInNjcm9sbFwiLFxuICAgIHRocm90dGxlID8gdXNlVGhyb3R0bGVGbihvblNjcm9sbEhhbmRsZXIsIHRocm90dGxlLCB0cnVlLCBmYWxzZSkgOiBvblNjcm9sbEhhbmRsZXIsXG4gICAgZXZlbnRMaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgX2VsZW1lbnQgPSB0b1ZhbHVlKGVsZW1lbnQpO1xuICAgICAgaWYgKCFfZWxlbWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc2V0QXJyaXZlZFN0YXRlKF9lbGVtZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH1cbiAgfSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgZWxlbWVudCxcbiAgICBcInNjcm9sbGVuZFwiLFxuICAgIG9uU2Nyb2xsRW5kLFxuICAgIGV2ZW50TGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5LFxuICAgIGlzU2Nyb2xsaW5nLFxuICAgIGFycml2ZWRTdGF0ZSxcbiAgICBkaXJlY3Rpb25zLFxuICAgIG1lYXN1cmUoKSB7XG4gICAgICBjb25zdCBfZWxlbWVudCA9IHRvVmFsdWUoZWxlbWVudCk7XG4gICAgICBpZiAod2luZG93ICYmIF9lbGVtZW50KVxuICAgICAgICBzZXRBcnJpdmVkU3RhdGUoX2VsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlSW5maW5pdGVTY3JvbGwoZWxlbWVudCwgb25Mb2FkTW9yZSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIGRpcmVjdGlvbiA9IFwiYm90dG9tXCIsXG4gICAgaW50ZXJ2YWwgPSAxMDAsXG4gICAgY2FuTG9hZE1vcmUgPSAoKSA9PiB0cnVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBzdGF0ZSA9IHJlYWN0aXZlKHVzZVNjcm9sbChcbiAgICBlbGVtZW50LFxuICAgIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBvZmZzZXQ6IHtcbiAgICAgICAgW2RpcmVjdGlvbl06IChfYSA9IG9wdGlvbnMuZGlzdGFuY2UpICE9IG51bGwgPyBfYSA6IDAsXG4gICAgICAgIC4uLm9wdGlvbnMub2Zmc2V0XG4gICAgICB9XG4gICAgfVxuICApKTtcbiAgY29uc3QgcHJvbWlzZSA9IHJlZigpO1xuICBjb25zdCBpc0xvYWRpbmcgPSBjb21wdXRlZCgoKSA9PiAhIXByb21pc2UudmFsdWUpO1xuICBjb25zdCBvYnNlcnZlZEVsZW1lbnQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIHJlc29sdmVFbGVtZW50KHRvVmFsdWUoZWxlbWVudCkpO1xuICB9KTtcbiAgY29uc3QgaXNFbGVtZW50VmlzaWJsZSA9IHVzZUVsZW1lbnRWaXNpYmlsaXR5KG9ic2VydmVkRWxlbWVudCk7XG4gIGZ1bmN0aW9uIGNoZWNrQW5kTG9hZCgpIHtcbiAgICBzdGF0ZS5tZWFzdXJlKCk7XG4gICAgaWYgKCFvYnNlcnZlZEVsZW1lbnQudmFsdWUgfHwgIWlzRWxlbWVudFZpc2libGUudmFsdWUgfHwgIWNhbkxvYWRNb3JlKG9ic2VydmVkRWxlbWVudC52YWx1ZSkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyBzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodCwgc2Nyb2xsV2lkdGgsIGNsaWVudFdpZHRoIH0gPSBvYnNlcnZlZEVsZW1lbnQudmFsdWU7XG4gICAgY29uc3QgaXNOYXJyb3dlciA9IGRpcmVjdGlvbiA9PT0gXCJib3R0b21cIiB8fCBkaXJlY3Rpb24gPT09IFwidG9wXCIgPyBzY3JvbGxIZWlnaHQgPD0gY2xpZW50SGVpZ2h0IDogc2Nyb2xsV2lkdGggPD0gY2xpZW50V2lkdGg7XG4gICAgaWYgKHN0YXRlLmFycml2ZWRTdGF0ZVtkaXJlY3Rpb25dIHx8IGlzTmFycm93ZXIpIHtcbiAgICAgIGlmICghcHJvbWlzZS52YWx1ZSkge1xuICAgICAgICBwcm9taXNlLnZhbHVlID0gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIG9uTG9hZE1vcmUoc3RhdGUpLFxuICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGludGVydmFsKSlcbiAgICAgICAgXSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgcHJvbWlzZS52YWx1ZSA9IG51bGw7XG4gICAgICAgICAgbmV4dFRpY2soKCkgPT4gY2hlY2tBbmRMb2FkKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3Qgc3RvcCA9IHdhdGNoKFxuICAgICgpID0+IFtzdGF0ZS5hcnJpdmVkU3RhdGVbZGlyZWN0aW9uXSwgaXNFbGVtZW50VmlzaWJsZS52YWx1ZV0sXG4gICAgY2hlY2tBbmRMb2FkLFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgdHJ5T25Vbm1vdW50ZWQoc3RvcCk7XG4gIHJldHVybiB7XG4gICAgaXNMb2FkaW5nLFxuICAgIHJlc2V0KCkge1xuICAgICAgbmV4dFRpY2soKCkgPT4gY2hlY2tBbmRMb2FkKCkpO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3QgZGVmYXVsdEV2ZW50cyA9IFtcIm1vdXNlZG93blwiLCBcIm1vdXNldXBcIiwgXCJrZXlkb3duXCIsIFwia2V5dXBcIl07XG5mdW5jdGlvbiB1c2VLZXlNb2RpZmllcihtb2RpZmllciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBldmVudHMgPSBkZWZhdWx0RXZlbnRzLFxuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50LFxuICAgIGluaXRpYWwgPSBudWxsXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBzdGF0ZSA9IHNoYWxsb3dSZWYoaW5pdGlhbCk7XG4gIGlmIChkb2N1bWVudCkge1xuICAgIGV2ZW50cy5mb3JFYWNoKChsaXN0ZW5lckV2ZW50KSA9PiB7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBsaXN0ZW5lckV2ZW50LCAoZXZ0KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZXZ0LmdldE1vZGlmaWVyU3RhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICBzdGF0ZS52YWx1ZSA9IGV2dC5nZXRNb2RpZmllclN0YXRlKG1vZGlmaWVyKTtcbiAgICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHVzZUxvY2FsU3RvcmFnZShrZXksIGluaXRpYWxWYWx1ZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIHVzZVN0b3JhZ2Uoa2V5LCBpbml0aWFsVmFsdWUsIHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmxvY2FsU3RvcmFnZSwgb3B0aW9ucyk7XG59XG5cbmNvbnN0IERlZmF1bHRNYWdpY0tleXNBbGlhc01hcCA9IHtcbiAgY3RybDogXCJjb250cm9sXCIsXG4gIGNvbW1hbmQ6IFwibWV0YVwiLFxuICBjbWQ6IFwibWV0YVwiLFxuICBvcHRpb246IFwiYWx0XCIsXG4gIHVwOiBcImFycm93dXBcIixcbiAgZG93bjogXCJhcnJvd2Rvd25cIixcbiAgbGVmdDogXCJhcnJvd2xlZnRcIixcbiAgcmlnaHQ6IFwiYXJyb3dyaWdodFwiXG59O1xuXG5mdW5jdGlvbiB1c2VNYWdpY0tleXMob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICByZWFjdGl2ZTogdXNlUmVhY3RpdmUgPSBmYWxzZSxcbiAgICB0YXJnZXQgPSBkZWZhdWx0V2luZG93LFxuICAgIGFsaWFzTWFwID0gRGVmYXVsdE1hZ2ljS2V5c0FsaWFzTWFwLFxuICAgIHBhc3NpdmUgPSB0cnVlLFxuICAgIG9uRXZlbnRGaXJlZCA9IG5vb3BcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGN1cnJlbnQgPSByZWFjdGl2ZSgvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgY29uc3Qgb2JqID0ge1xuICAgIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGN1cnJlbnRcbiAgfTtcbiAgY29uc3QgcmVmcyA9IHVzZVJlYWN0aXZlID8gcmVhY3RpdmUob2JqKSA6IG9iajtcbiAgY29uc3QgbWV0YURlcHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCB1c2VkS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGZ1bmN0aW9uIHNldFJlZnMoa2V5LCB2YWx1ZSkge1xuICAgIGlmIChrZXkgaW4gcmVmcykge1xuICAgICAgaWYgKHVzZVJlYWN0aXZlKVxuICAgICAgICByZWZzW2tleV0gPSB2YWx1ZTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVmc1trZXldLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGN1cnJlbnQuY2xlYXIoKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiB1c2VkS2V5cylcbiAgICAgIHNldFJlZnMoa2V5LCBmYWxzZSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlUmVmcyhlLCB2YWx1ZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3Qga2V5ID0gKF9hID0gZS5rZXkpID09IG51bGwgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGNvZGUgPSAoX2IgPSBlLmNvZGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IHZhbHVlcyA9IFtjb2RlLCBrZXldLmZpbHRlcihCb29sZWFuKTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICBpZiAodmFsdWUpXG4gICAgICAgIGN1cnJlbnQuYWRkKGtleSk7XG4gICAgICBlbHNlXG4gICAgICAgIGN1cnJlbnQuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5MiBvZiB2YWx1ZXMpIHtcbiAgICAgIHVzZWRLZXlzLmFkZChrZXkyKTtcbiAgICAgIHNldFJlZnMoa2V5MiwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSBcIm1ldGFcIiAmJiAhdmFsdWUpIHtcbiAgICAgIG1ldGFEZXBzLmZvckVhY2goKGtleTIpID0+IHtcbiAgICAgICAgY3VycmVudC5kZWxldGUoa2V5Mik7XG4gICAgICAgIHNldFJlZnMoa2V5MiwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgICBtZXRhRGVwcy5jbGVhcigpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGUuZ2V0TW9kaWZpZXJTdGF0ZSA9PT0gXCJmdW5jdGlvblwiICYmIGUuZ2V0TW9kaWZpZXJTdGF0ZShcIk1ldGFcIikgJiYgdmFsdWUpIHtcbiAgICAgIFsuLi5jdXJyZW50LCAuLi52YWx1ZXNdLmZvckVhY2goKGtleTIpID0+IG1ldGFEZXBzLmFkZChrZXkyKSk7XG4gICAgfVxuICB9XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcImtleWRvd25cIiwgKGUpID0+IHtcbiAgICB1cGRhdGVSZWZzKGUsIHRydWUpO1xuICAgIHJldHVybiBvbkV2ZW50RmlyZWQoZSk7XG4gIH0sIHsgcGFzc2l2ZSB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwia2V5dXBcIiwgKGUpID0+IHtcbiAgICB1cGRhdGVSZWZzKGUsIGZhbHNlKTtcbiAgICByZXR1cm4gb25FdmVudEZpcmVkKGUpO1xuICB9LCB7IHBhc3NpdmUgfSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHJlc2V0LCB7IHBhc3NpdmUgfSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCByZXNldCwgeyBwYXNzaXZlIH0pO1xuICBjb25zdCBwcm94eSA9IG5ldyBQcm94eShcbiAgICByZWZzLFxuICAgIHtcbiAgICAgIGdldCh0YXJnZXQyLCBwcm9wLCByZWMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wICE9PSBcInN0cmluZ1wiKVxuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQyLCBwcm9wLCByZWMpO1xuICAgICAgICBwcm9wID0gcHJvcC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAocHJvcCBpbiBhbGlhc01hcClcbiAgICAgICAgICBwcm9wID0gYWxpYXNNYXBbcHJvcF07XG4gICAgICAgIGlmICghKHByb3AgaW4gcmVmcykpIHtcbiAgICAgICAgICBpZiAoL1srXy1dLy50ZXN0KHByb3ApKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gcHJvcC5zcGxpdCgvWytfLV0vZykubWFwKChpKSA9PiBpLnRyaW0oKSk7XG4gICAgICAgICAgICByZWZzW3Byb3BdID0gY29tcHV0ZWQoKCkgPT4ga2V5cy5tYXAoKGtleSkgPT4gdG9WYWx1ZShwcm94eVtrZXldKSkuZXZlcnkoQm9vbGVhbikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWZzW3Byb3BdID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBSZWZsZWN0LmdldCh0YXJnZXQyLCBwcm9wLCByZWMpO1xuICAgICAgICByZXR1cm4gdXNlUmVhY3RpdmUgPyB0b1ZhbHVlKHIpIDogcjtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIHJldHVybiBwcm94eTtcbn1cblxuZnVuY3Rpb24gdXNpbmdFbFJlZihzb3VyY2UsIGNiKSB7XG4gIGlmICh0b1ZhbHVlKHNvdXJjZSkpXG4gICAgY2IodG9WYWx1ZShzb3VyY2UpKTtcbn1cbmZ1bmN0aW9uIHRpbWVSYW5nZVRvQXJyYXkodGltZVJhbmdlcykge1xuICBsZXQgcmFuZ2VzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGltZVJhbmdlcy5sZW5ndGg7ICsraSlcbiAgICByYW5nZXMgPSBbLi4ucmFuZ2VzLCBbdGltZVJhbmdlcy5zdGFydChpKSwgdGltZVJhbmdlcy5lbmQoaSldXTtcbiAgcmV0dXJuIHJhbmdlcztcbn1cbmZ1bmN0aW9uIHRyYWNrc1RvQXJyYXkodHJhY2tzKSB7XG4gIHJldHVybiBBcnJheS5mcm9tKHRyYWNrcykubWFwKCh7IGxhYmVsLCBraW5kLCBsYW5ndWFnZSwgbW9kZSwgYWN0aXZlQ3VlcywgY3VlcywgaW5CYW5kTWV0YWRhdGFUcmFja0Rpc3BhdGNoVHlwZSB9LCBpZCkgPT4gKHsgaWQsIGxhYmVsLCBraW5kLCBsYW5ndWFnZSwgbW9kZSwgYWN0aXZlQ3VlcywgY3VlcywgaW5CYW5kTWV0YWRhdGFUcmFja0Rpc3BhdGNoVHlwZSB9KSk7XG59XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgc3JjOiBcIlwiLFxuICB0cmFja3M6IFtdXG59O1xuZnVuY3Rpb24gdXNlTWVkaWFDb250cm9scyh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICB0YXJnZXQgPSB0b1JlZih0YXJnZXQpO1xuICBvcHRpb25zID0ge1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbnNcbiAgfTtcbiAgY29uc3Qge1xuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgY29uc3QgY3VycmVudFRpbWUgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBkdXJhdGlvbiA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHNlZWtpbmcgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgdm9sdW1lID0gc2hhbGxvd1JlZigxKTtcbiAgY29uc3Qgd2FpdGluZyA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBlbmRlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBwbGF5aW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHJhdGUgPSBzaGFsbG93UmVmKDEpO1xuICBjb25zdCBzdGFsbGVkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGJ1ZmZlcmVkID0gcmVmKFtdKTtcbiAgY29uc3QgdHJhY2tzID0gcmVmKFtdKTtcbiAgY29uc3Qgc2VsZWN0ZWRUcmFjayA9IHNoYWxsb3dSZWYoLTEpO1xuICBjb25zdCBpc1BpY3R1cmVJblBpY3R1cmUgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgbXV0ZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgc3VwcG9ydHNQaWN0dXJlSW5QaWN0dXJlID0gZG9jdW1lbnQgJiYgXCJwaWN0dXJlSW5QaWN0dXJlRW5hYmxlZFwiIGluIGRvY3VtZW50O1xuICBjb25zdCBzb3VyY2VFcnJvckV2ZW50ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHBsYXliYWNrRXJyb3JFdmVudCA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBkaXNhYmxlVHJhY2sgPSAodHJhY2spID0+IHtcbiAgICB1c2luZ0VsUmVmKHRhcmdldCwgKGVsKSA9PiB7XG4gICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgY29uc3QgaWQgPSB0eXBlb2YgdHJhY2sgPT09IFwibnVtYmVyXCIgPyB0cmFjayA6IHRyYWNrLmlkO1xuICAgICAgICBlbC50ZXh0VHJhY2tzW2lkXS5tb2RlID0gXCJkaXNhYmxlZFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbC50ZXh0VHJhY2tzLmxlbmd0aDsgKytpKVxuICAgICAgICAgIGVsLnRleHRUcmFja3NbaV0ubW9kZSA9IFwiZGlzYWJsZWRcIjtcbiAgICAgIH1cbiAgICAgIHNlbGVjdGVkVHJhY2sudmFsdWUgPSAtMTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgZW5hYmxlVHJhY2sgPSAodHJhY2ssIGRpc2FibGVUcmFja3MgPSB0cnVlKSA9PiB7XG4gICAgdXNpbmdFbFJlZih0YXJnZXQsIChlbCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSB0eXBlb2YgdHJhY2sgPT09IFwibnVtYmVyXCIgPyB0cmFjayA6IHRyYWNrLmlkO1xuICAgICAgaWYgKGRpc2FibGVUcmFja3MpXG4gICAgICAgIGRpc2FibGVUcmFjaygpO1xuICAgICAgZWwudGV4dFRyYWNrc1tpZF0ubW9kZSA9IFwic2hvd2luZ1wiO1xuICAgICAgc2VsZWN0ZWRUcmFjay52YWx1ZSA9IGlkO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCB0b2dnbGVQaWN0dXJlSW5QaWN0dXJlID0gKCkgPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB1c2luZ0VsUmVmKHRhcmdldCwgYXN5bmMgKGVsKSA9PiB7XG4gICAgICAgIGlmIChzdXBwb3J0c1BpY3R1cmVJblBpY3R1cmUpIHtcbiAgICAgICAgICBpZiAoIWlzUGljdHVyZUluUGljdHVyZS52YWx1ZSkge1xuICAgICAgICAgICAgZWwucmVxdWVzdFBpY3R1cmVJblBpY3R1cmUoKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKCkudGhlbihyZXNvbHZlKS5jYXRjaChyZWplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG4gIHdhdGNoRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWRvY3VtZW50KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGVsID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgc3JjID0gdG9WYWx1ZShvcHRpb25zLnNyYyk7XG4gICAgbGV0IHNvdXJjZXMgPSBbXTtcbiAgICBpZiAoIXNyYylcbiAgICAgIHJldHVybjtcbiAgICBpZiAodHlwZW9mIHNyYyA9PT0gXCJzdHJpbmdcIilcbiAgICAgIHNvdXJjZXMgPSBbeyBzcmMgfV07XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShzcmMpKVxuICAgICAgc291cmNlcyA9IHNyYztcbiAgICBlbHNlIGlmIChpc09iamVjdChzcmMpKVxuICAgICAgc291cmNlcyA9IFtzcmNdO1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzb3VyY2VcIikuZm9yRWFjaCgoZSkgPT4ge1xuICAgICAgZS5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICBzb3VyY2VzLmZvckVhY2goKHsgc3JjOiBzcmMyLCB0eXBlLCBtZWRpYSB9KSA9PiB7XG4gICAgICBjb25zdCBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO1xuICAgICAgc291cmNlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzcmMyKTtcbiAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIHR5cGUgfHwgXCJcIik7XG4gICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEgfHwgXCJcIik7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKHNvdXJjZSwgXCJlcnJvclwiLCBzb3VyY2VFcnJvckV2ZW50LnRyaWdnZXIsIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgICBlbC5hcHBlbmRDaGlsZChzb3VyY2UpO1xuICAgIH0pO1xuICAgIGVsLmxvYWQoKTtcbiAgfSk7XG4gIHdhdGNoKFt0YXJnZXQsIHZvbHVtZV0sICgpID0+IHtcbiAgICBjb25zdCBlbCA9IHRvVmFsdWUodGFyZ2V0KTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGVsLnZvbHVtZSA9IHZvbHVtZS52YWx1ZTtcbiAgfSk7XG4gIHdhdGNoKFt0YXJnZXQsIG11dGVkXSwgKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgZWwubXV0ZWQgPSBtdXRlZC52YWx1ZTtcbiAgfSk7XG4gIHdhdGNoKFt0YXJnZXQsIHJhdGVdLCAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBlbC5wbGF5YmFja1JhdGUgPSByYXRlLnZhbHVlO1xuICB9KTtcbiAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgdGV4dFRyYWNrcyA9IHRvVmFsdWUob3B0aW9ucy50cmFja3MpO1xuICAgIGNvbnN0IGVsID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgIGlmICghdGV4dFRyYWNrcyB8fCAhdGV4dFRyYWNrcy5sZW5ndGggfHwgIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0cmFja1wiKS5mb3JFYWNoKChlKSA9PiBlLnJlbW92ZSgpKTtcbiAgICB0ZXh0VHJhY2tzLmZvckVhY2goKHsgZGVmYXVsdDogaXNEZWZhdWx0LCBraW5kLCBsYWJlbCwgc3JjLCBzcmNMYW5nIH0sIGkpID0+IHtcbiAgICAgIGNvbnN0IHRyYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyYWNrXCIpO1xuICAgICAgdHJhY2suZGVmYXVsdCA9IGlzRGVmYXVsdCB8fCBmYWxzZTtcbiAgICAgIHRyYWNrLmtpbmQgPSBraW5kO1xuICAgICAgdHJhY2subGFiZWwgPSBsYWJlbDtcbiAgICAgIHRyYWNrLnNyYyA9IHNyYztcbiAgICAgIHRyYWNrLnNyY2xhbmcgPSBzcmNMYW5nO1xuICAgICAgaWYgKHRyYWNrLmRlZmF1bHQpXG4gICAgICAgIHNlbGVjdGVkVHJhY2sudmFsdWUgPSBpO1xuICAgICAgZWwuYXBwZW5kQ2hpbGQodHJhY2spO1xuICAgIH0pO1xuICB9KTtcbiAgY29uc3QgeyBpZ25vcmVVcGRhdGVzOiBpZ25vcmVDdXJyZW50VGltZVVwZGF0ZXMgfSA9IHdhdGNoSWdub3JhYmxlKGN1cnJlbnRUaW1lLCAodGltZSkgPT4ge1xuICAgIGNvbnN0IGVsID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgZWwuY3VycmVudFRpbWUgPSB0aW1lO1xuICB9KTtcbiAgY29uc3QgeyBpZ25vcmVVcGRhdGVzOiBpZ25vcmVQbGF5aW5nVXBkYXRlcyB9ID0gd2F0Y2hJZ25vcmFibGUocGxheWluZywgKGlzUGxheWluZykgPT4ge1xuICAgIGNvbnN0IGVsID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGlzUGxheWluZykge1xuICAgICAgZWwucGxheSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIHBsYXliYWNrRXJyb3JFdmVudC50cmlnZ2VyKGUpO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnBhdXNlKCk7XG4gICAgfVxuICB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJ0aW1ldXBkYXRlXCIsXG4gICAgKCkgPT4gaWdub3JlQ3VycmVudFRpbWVVcGRhdGVzKCgpID0+IGN1cnJlbnRUaW1lLnZhbHVlID0gdG9WYWx1ZSh0YXJnZXQpLmN1cnJlbnRUaW1lKSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJkdXJhdGlvbmNoYW5nZVwiLFxuICAgICgpID0+IGR1cmF0aW9uLnZhbHVlID0gdG9WYWx1ZSh0YXJnZXQpLmR1cmF0aW9uLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcInByb2dyZXNzXCIsXG4gICAgKCkgPT4gYnVmZmVyZWQudmFsdWUgPSB0aW1lUmFuZ2VUb0FycmF5KHRvVmFsdWUodGFyZ2V0KS5idWZmZXJlZCksXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwic2Vla2luZ1wiLFxuICAgICgpID0+IHNlZWtpbmcudmFsdWUgPSB0cnVlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcInNlZWtlZFwiLFxuICAgICgpID0+IHNlZWtpbmcudmFsdWUgPSBmYWxzZSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgW1wid2FpdGluZ1wiLCBcImxvYWRzdGFydFwiXSxcbiAgICAoKSA9PiB7XG4gICAgICB3YWl0aW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGlnbm9yZVBsYXlpbmdVcGRhdGVzKCgpID0+IHBsYXlpbmcudmFsdWUgPSBmYWxzZSk7XG4gICAgfSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJsb2FkZWRkYXRhXCIsXG4gICAgKCkgPT4gd2FpdGluZy52YWx1ZSA9IGZhbHNlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcInBsYXlpbmdcIixcbiAgICAoKSA9PiB7XG4gICAgICB3YWl0aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICBlbmRlZC52YWx1ZSA9IGZhbHNlO1xuICAgICAgaWdub3JlUGxheWluZ1VwZGF0ZXMoKCkgPT4gcGxheWluZy52YWx1ZSA9IHRydWUpO1xuICAgIH0sXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwicmF0ZWNoYW5nZVwiLFxuICAgICgpID0+IHJhdGUudmFsdWUgPSB0b1ZhbHVlKHRhcmdldCkucGxheWJhY2tSYXRlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcInN0YWxsZWRcIixcbiAgICAoKSA9PiBzdGFsbGVkLnZhbHVlID0gdHJ1ZSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJlbmRlZFwiLFxuICAgICgpID0+IGVuZGVkLnZhbHVlID0gdHJ1ZSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJwYXVzZVwiLFxuICAgICgpID0+IGlnbm9yZVBsYXlpbmdVcGRhdGVzKCgpID0+IHBsYXlpbmcudmFsdWUgPSBmYWxzZSksXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwicGxheVwiLFxuICAgICgpID0+IGlnbm9yZVBsYXlpbmdVcGRhdGVzKCgpID0+IHBsYXlpbmcudmFsdWUgPSB0cnVlKSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJlbnRlcnBpY3R1cmVpbnBpY3R1cmVcIixcbiAgICAoKSA9PiBpc1BpY3R1cmVJblBpY3R1cmUudmFsdWUgPSB0cnVlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcImxlYXZlcGljdHVyZWlucGljdHVyZVwiLFxuICAgICgpID0+IGlzUGljdHVyZUluUGljdHVyZS52YWx1ZSA9IGZhbHNlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcInZvbHVtZWNoYW5nZVwiLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgICAgaWYgKCFlbClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgdm9sdW1lLnZhbHVlID0gZWwudm9sdW1lO1xuICAgICAgbXV0ZWQudmFsdWUgPSBlbC5tdXRlZDtcbiAgICB9LFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcbiAgY29uc3Qgc3RvcCA9IHdhdGNoKFt0YXJnZXRdLCAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBzdG9wKCk7XG4gICAgbGlzdGVuZXJzWzBdID0gdXNlRXZlbnRMaXN0ZW5lcihlbC50ZXh0VHJhY2tzLCBcImFkZHRyYWNrXCIsICgpID0+IHRyYWNrcy52YWx1ZSA9IHRyYWNrc1RvQXJyYXkoZWwudGV4dFRyYWNrcyksIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgbGlzdGVuZXJzWzFdID0gdXNlRXZlbnRMaXN0ZW5lcihlbC50ZXh0VHJhY2tzLCBcInJlbW92ZXRyYWNrXCIsICgpID0+IHRyYWNrcy52YWx1ZSA9IHRyYWNrc1RvQXJyYXkoZWwudGV4dFRyYWNrcyksIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgbGlzdGVuZXJzWzJdID0gdXNlRXZlbnRMaXN0ZW5lcihlbC50ZXh0VHJhY2tzLCBcImNoYW5nZVwiLCAoKSA9PiB0cmFja3MudmFsdWUgPSB0cmFja3NUb0FycmF5KGVsLnRleHRUcmFja3MpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9KTtcbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4gbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcigpKSk7XG4gIHJldHVybiB7XG4gICAgY3VycmVudFRpbWUsXG4gICAgZHVyYXRpb24sXG4gICAgd2FpdGluZyxcbiAgICBzZWVraW5nLFxuICAgIGVuZGVkLFxuICAgIHN0YWxsZWQsXG4gICAgYnVmZmVyZWQsXG4gICAgcGxheWluZyxcbiAgICByYXRlLFxuICAgIC8vIFZvbHVtZVxuICAgIHZvbHVtZSxcbiAgICBtdXRlZCxcbiAgICAvLyBUcmFja3NcbiAgICB0cmFja3MsXG4gICAgc2VsZWN0ZWRUcmFjayxcbiAgICBlbmFibGVUcmFjayxcbiAgICBkaXNhYmxlVHJhY2ssXG4gICAgLy8gUGljdHVyZSBpbiBQaWN0dXJlXG4gICAgc3VwcG9ydHNQaWN0dXJlSW5QaWN0dXJlLFxuICAgIHRvZ2dsZVBpY3R1cmVJblBpY3R1cmUsXG4gICAgaXNQaWN0dXJlSW5QaWN0dXJlLFxuICAgIC8vIEV2ZW50c1xuICAgIG9uU291cmNlRXJyb3I6IHNvdXJjZUVycm9yRXZlbnQub24sXG4gICAgb25QbGF5YmFja0Vycm9yOiBwbGF5YmFja0Vycm9yRXZlbnQub25cbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTWVtb2l6ZShyZXNvbHZlciwgb3B0aW9ucykge1xuICBjb25zdCBpbml0Q2FjaGUgPSAoKSA9PiB7XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuY2FjaGUpXG4gICAgICByZXR1cm4gc2hhbGxvd1JlYWN0aXZlKG9wdGlvbnMuY2FjaGUpO1xuICAgIHJldHVybiBzaGFsbG93UmVhY3RpdmUoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIH07XG4gIGNvbnN0IGNhY2hlID0gaW5pdENhY2hlKCk7XG4gIGNvbnN0IGdlbmVyYXRlS2V5ID0gKC4uLmFyZ3MpID0+IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmdldEtleSkgPyBvcHRpb25zLmdldEtleSguLi5hcmdzKSA6IEpTT04uc3RyaW5naWZ5KGFyZ3MpO1xuICBjb25zdCBfbG9hZERhdGEgPSAoa2V5LCAuLi5hcmdzKSA9PiB7XG4gICAgY2FjaGUuc2V0KGtleSwgcmVzb2x2ZXIoLi4uYXJncykpO1xuICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgfTtcbiAgY29uc3QgbG9hZERhdGEgPSAoLi4uYXJncykgPT4gX2xvYWREYXRhKGdlbmVyYXRlS2V5KC4uLmFyZ3MpLCAuLi5hcmdzKTtcbiAgY29uc3QgZGVsZXRlRGF0YSA9ICguLi5hcmdzKSA9PiB7XG4gICAgY2FjaGUuZGVsZXRlKGdlbmVyYXRlS2V5KC4uLmFyZ3MpKTtcbiAgfTtcbiAgY29uc3QgY2xlYXJEYXRhID0gKCkgPT4ge1xuICAgIGNhY2hlLmNsZWFyKCk7XG4gIH07XG4gIGNvbnN0IG1lbW9pemVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBrZXkgPSBnZW5lcmF0ZUtleSguLi5hcmdzKTtcbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpXG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgcmV0dXJuIF9sb2FkRGF0YShrZXksIC4uLmFyZ3MpO1xuICB9O1xuICBtZW1vaXplZC5sb2FkID0gbG9hZERhdGE7XG4gIG1lbW9pemVkLmRlbGV0ZSA9IGRlbGV0ZURhdGE7XG4gIG1lbW9pemVkLmNsZWFyID0gY2xlYXJEYXRhO1xuICBtZW1vaXplZC5nZW5lcmF0ZUtleSA9IGdlbmVyYXRlS2V5O1xuICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZU1lbW9yeShvcHRpb25zID0ge30pIHtcbiAgY29uc3QgbWVtb3J5ID0gcmVmKCk7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcIm1lbW9yeVwiIGluIHBlcmZvcm1hbmNlKTtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgY29uc3QgeyBpbnRlcnZhbCA9IDFlMyB9ID0gb3B0aW9ucztcbiAgICB1c2VJbnRlcnZhbEZuKCgpID0+IHtcbiAgICAgIG1lbW9yeS52YWx1ZSA9IHBlcmZvcm1hbmNlLm1lbW9yeTtcbiAgICB9LCBpbnRlcnZhbCwgeyBpbW1lZGlhdGU6IG9wdGlvbnMuaW1tZWRpYXRlLCBpbW1lZGlhdGVDYWxsYmFjazogb3B0aW9ucy5pbW1lZGlhdGVDYWxsYmFjayB9KTtcbiAgfVxuICByZXR1cm4geyBpc1N1cHBvcnRlZCwgbWVtb3J5IH07XG59XG5cbmNvbnN0IFVzZU1vdXNlQnVpbHRpbkV4dHJhY3RvcnMgPSB7XG4gIHBhZ2U6IChldmVudCkgPT4gW2V2ZW50LnBhZ2VYLCBldmVudC5wYWdlWV0sXG4gIGNsaWVudDogKGV2ZW50KSA9PiBbZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WV0sXG4gIHNjcmVlbjogKGV2ZW50KSA9PiBbZXZlbnQuc2NyZWVuWCwgZXZlbnQuc2NyZWVuWV0sXG4gIG1vdmVtZW50OiAoZXZlbnQpID0+IGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCA/IFtldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WV0gOiBudWxsXG59O1xuZnVuY3Rpb24gdXNlTW91c2Uob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlID0gXCJwYWdlXCIsXG4gICAgdG91Y2ggPSB0cnVlLFxuICAgIHJlc2V0T25Ub3VjaEVuZHMgPSBmYWxzZSxcbiAgICBpbml0aWFsVmFsdWUgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIHRhcmdldCA9IHdpbmRvdyxcbiAgICBzY3JvbGwgPSB0cnVlLFxuICAgIGV2ZW50RmlsdGVyXG4gIH0gPSBvcHRpb25zO1xuICBsZXQgX3ByZXZNb3VzZUV2ZW50ID0gbnVsbDtcbiAgbGV0IF9wcmV2U2Nyb2xsWCA9IDA7XG4gIGxldCBfcHJldlNjcm9sbFkgPSAwO1xuICBjb25zdCB4ID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUueCk7XG4gIGNvbnN0IHkgPSBzaGFsbG93UmVmKGluaXRpYWxWYWx1ZS55KTtcbiAgY29uc3Qgc291cmNlVHlwZSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IGV4dHJhY3RvciA9IHR5cGVvZiB0eXBlID09PSBcImZ1bmN0aW9uXCIgPyB0eXBlIDogVXNlTW91c2VCdWlsdGluRXh0cmFjdG9yc1t0eXBlXTtcbiAgY29uc3QgbW91c2VIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gZXh0cmFjdG9yKGV2ZW50KTtcbiAgICBfcHJldk1vdXNlRXZlbnQgPSBldmVudDtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBbeC52YWx1ZSwgeS52YWx1ZV0gPSByZXN1bHQ7XG4gICAgICBzb3VyY2VUeXBlLnZhbHVlID0gXCJtb3VzZVwiO1xuICAgIH1cbiAgICBpZiAod2luZG93KSB7XG4gICAgICBfcHJldlNjcm9sbFggPSB3aW5kb3cuc2Nyb2xsWDtcbiAgICAgIF9wcmV2U2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdG91Y2hIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gZXh0cmFjdG9yKGV2ZW50LnRvdWNoZXNbMF0pO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBbeC52YWx1ZSwgeS52YWx1ZV0gPSByZXN1bHQ7XG4gICAgICAgIHNvdXJjZVR5cGUudmFsdWUgPSBcInRvdWNoXCI7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBzY3JvbGxIYW5kbGVyID0gKCkgPT4ge1xuICAgIGlmICghX3ByZXZNb3VzZUV2ZW50IHx8ICF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgcG9zID0gZXh0cmFjdG9yKF9wcmV2TW91c2VFdmVudCk7XG4gICAgaWYgKF9wcmV2TW91c2VFdmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgcG9zKSB7XG4gICAgICB4LnZhbHVlID0gcG9zWzBdICsgd2luZG93LnNjcm9sbFggLSBfcHJldlNjcm9sbFg7XG4gICAgICB5LnZhbHVlID0gcG9zWzFdICsgd2luZG93LnNjcm9sbFkgLSBfcHJldlNjcm9sbFk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICB4LnZhbHVlID0gaW5pdGlhbFZhbHVlLng7XG4gICAgeS52YWx1ZSA9IGluaXRpYWxWYWx1ZS55O1xuICB9O1xuICBjb25zdCBtb3VzZUhhbmRsZXJXcmFwcGVyID0gZXZlbnRGaWx0ZXIgPyAoZXZlbnQpID0+IGV2ZW50RmlsdGVyKCgpID0+IG1vdXNlSGFuZGxlcihldmVudCksIHt9KSA6IChldmVudCkgPT4gbW91c2VIYW5kbGVyKGV2ZW50KTtcbiAgY29uc3QgdG91Y2hIYW5kbGVyV3JhcHBlciA9IGV2ZW50RmlsdGVyID8gKGV2ZW50KSA9PiBldmVudEZpbHRlcigoKSA9PiB0b3VjaEhhbmRsZXIoZXZlbnQpLCB7fSkgOiAoZXZlbnQpID0+IHRvdWNoSGFuZGxlcihldmVudCk7XG4gIGNvbnN0IHNjcm9sbEhhbmRsZXJXcmFwcGVyID0gZXZlbnRGaWx0ZXIgPyAoKSA9PiBldmVudEZpbHRlcigoKSA9PiBzY3JvbGxIYW5kbGVyKCksIHt9KSA6ICgpID0+IHNjcm9sbEhhbmRsZXIoKTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBbXCJtb3VzZW1vdmVcIiwgXCJkcmFnb3ZlclwiXSwgbW91c2VIYW5kbGVyV3JhcHBlciwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICBpZiAodG91Y2ggJiYgdHlwZSAhPT0gXCJtb3ZlbWVudFwiKSB7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgW1widG91Y2hzdGFydFwiLCBcInRvdWNobW92ZVwiXSwgdG91Y2hIYW5kbGVyV3JhcHBlciwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICAgIGlmIChyZXNldE9uVG91Y2hFbmRzKVxuICAgICAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJ0b3VjaGVuZFwiLCByZXNldCwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKHNjcm9sbCAmJiB0eXBlID09PSBcInBhZ2VcIilcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInNjcm9sbFwiLCBzY3JvbGxIYW5kbGVyV3JhcHBlciwgbGlzdGVuZXJPcHRpb25zKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICBzb3VyY2VUeXBlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZU1vdXNlSW5FbGVtZW50KHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBoYW5kbGVPdXRzaWRlID0gdHJ1ZSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlIHx8IFwicGFnZVwiO1xuICBjb25zdCB7IHgsIHksIHNvdXJjZVR5cGUgfSA9IHVzZU1vdXNlKG9wdGlvbnMpO1xuICBjb25zdCB0YXJnZXRSZWYgPSBzaGFsbG93UmVmKHRhcmdldCAhPSBudWxsID8gdGFyZ2V0IDogd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQuYm9keSk7XG4gIGNvbnN0IGVsZW1lbnRYID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgZWxlbWVudFkgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBlbGVtZW50UG9zaXRpb25YID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgZWxlbWVudFBvc2l0aW9uWSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBlbGVtZW50V2lkdGggPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBpc091dHNpZGUgPSBzaGFsbG93UmVmKHRydWUpO1xuICBsZXQgc3RvcCA9ICgpID0+IHtcbiAgfTtcbiAgaWYgKHdpbmRvdykge1xuICAgIHN0b3AgPSB3YXRjaChcbiAgICAgIFt0YXJnZXRSZWYsIHgsIHldLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXRSZWYpO1xuICAgICAgICBpZiAoIWVsIHx8ICEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBsZWZ0LFxuICAgICAgICAgIHRvcCxcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHRcbiAgICAgICAgfSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBlbGVtZW50UG9zaXRpb25YLnZhbHVlID0gbGVmdCArICh0eXBlID09PSBcInBhZ2VcIiA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IDApO1xuICAgICAgICBlbGVtZW50UG9zaXRpb25ZLnZhbHVlID0gdG9wICsgKHR5cGUgPT09IFwicGFnZVwiID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogMCk7XG4gICAgICAgIGVsZW1lbnRIZWlnaHQudmFsdWUgPSBoZWlnaHQ7XG4gICAgICAgIGVsZW1lbnRXaWR0aC52YWx1ZSA9IHdpZHRoO1xuICAgICAgICBjb25zdCBlbFggPSB4LnZhbHVlIC0gZWxlbWVudFBvc2l0aW9uWC52YWx1ZTtcbiAgICAgICAgY29uc3QgZWxZID0geS52YWx1ZSAtIGVsZW1lbnRQb3NpdGlvblkudmFsdWU7XG4gICAgICAgIGlzT3V0c2lkZS52YWx1ZSA9IHdpZHRoID09PSAwIHx8IGhlaWdodCA9PT0gMCB8fCBlbFggPCAwIHx8IGVsWSA8IDAgfHwgZWxYID4gd2lkdGggfHwgZWxZID4gaGVpZ2h0O1xuICAgICAgICBpZiAoaGFuZGxlT3V0c2lkZSB8fCAhaXNPdXRzaWRlLnZhbHVlKSB7XG4gICAgICAgICAgZWxlbWVudFgudmFsdWUgPSBlbFg7XG4gICAgICAgICAgZWxlbWVudFkudmFsdWUgPSBlbFk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICAgKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKFxuICAgICAgZG9jdW1lbnQsXG4gICAgICBcIm1vdXNlbGVhdmVcIixcbiAgICAgICgpID0+IGlzT3V0c2lkZS52YWx1ZSA9IHRydWUsXG4gICAgICB7IHBhc3NpdmU6IHRydWUgfVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgc291cmNlVHlwZSxcbiAgICBlbGVtZW50WCxcbiAgICBlbGVtZW50WSxcbiAgICBlbGVtZW50UG9zaXRpb25YLFxuICAgIGVsZW1lbnRQb3NpdGlvblksXG4gICAgZWxlbWVudEhlaWdodCxcbiAgICBlbGVtZW50V2lkdGgsXG4gICAgaXNPdXRzaWRlLFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW91c2VQcmVzc2VkKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdG91Y2ggPSB0cnVlLFxuICAgIGRyYWcgPSB0cnVlLFxuICAgIGNhcHR1cmUgPSBmYWxzZSxcbiAgICBpbml0aWFsVmFsdWUgPSBmYWxzZSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwcmVzc2VkID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCBzb3VyY2VUeXBlID0gc2hhbGxvd1JlZihudWxsKTtcbiAgaWYgKCF3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlc3NlZCxcbiAgICAgIHNvdXJjZVR5cGVcbiAgICB9O1xuICB9XG4gIGNvbnN0IG9uUHJlc3NlZCA9IChzcmNUeXBlKSA9PiAoZXZlbnQpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcHJlc3NlZC52YWx1ZSA9IHRydWU7XG4gICAgc291cmNlVHlwZS52YWx1ZSA9IHNyY1R5cGU7XG4gICAgKF9hID0gb3B0aW9ucy5vblByZXNzZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMsIGV2ZW50KTtcbiAgfTtcbiAgY29uc3Qgb25SZWxlYXNlZCA9IChldmVudCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBwcmVzc2VkLnZhbHVlID0gZmFsc2U7XG4gICAgc291cmNlVHlwZS52YWx1ZSA9IG51bGw7XG4gICAgKF9hID0gb3B0aW9ucy5vblJlbGVhc2VkKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCBldmVudCk7XG4gIH07XG4gIGNvbnN0IHRhcmdldCA9IGNvbXB1dGVkKCgpID0+IHVucmVmRWxlbWVudChvcHRpb25zLnRhcmdldCkgfHwgd2luZG93KTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlLCBjYXB0dXJlIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcIm1vdXNlZG93blwiLCBvblByZXNzZWQoXCJtb3VzZVwiKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwibW91c2VsZWF2ZVwiLCBvblJlbGVhc2VkLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJtb3VzZXVwXCIsIG9uUmVsZWFzZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGlmIChkcmFnKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwiZHJhZ3N0YXJ0XCIsIG9uUHJlc3NlZChcIm1vdXNlXCIpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImRyb3BcIiwgb25SZWxlYXNlZCwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJkcmFnZW5kXCIsIG9uUmVsZWFzZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH1cbiAgaWYgKHRvdWNoKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwidG91Y2hzdGFydFwiLCBvblByZXNzZWQoXCJ0b3VjaFwiKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJ0b3VjaGVuZFwiLCBvblJlbGVhc2VkLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInRvdWNoY2FuY2VsXCIsIG9uUmVsZWFzZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcmVzc2VkLFxuICAgIHNvdXJjZVR5cGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTmF2aWdhdG9yTGFuZ3VhZ2Uob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJsYW5ndWFnZVwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGxhbmd1YWdlID0gc2hhbGxvd1JlZihuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5sYW5ndWFnZSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImxhbmd1YWdlY2hhbmdlXCIsICgpID0+IHtcbiAgICBpZiAobmF2aWdhdG9yKVxuICAgICAgbGFuZ3VhZ2UudmFsdWUgPSBuYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBsYW5ndWFnZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VOZXR3b3JrKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG5hdmlnYXRvciA9IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93Lm5hdmlnYXRvcjtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiY29ubmVjdGlvblwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGlzT25saW5lID0gc2hhbGxvd1JlZih0cnVlKTtcbiAgY29uc3Qgc2F2ZURhdGEgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgb2ZmbGluZUF0ID0gc2hhbGxvd1JlZih2b2lkIDApO1xuICBjb25zdCBvbmxpbmVBdCA9IHNoYWxsb3dSZWYodm9pZCAwKTtcbiAgY29uc3QgZG93bmxpbmsgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IGRvd25saW5rTWF4ID0gc2hhbGxvd1JlZih2b2lkIDApO1xuICBjb25zdCBydHQgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IGVmZmVjdGl2ZVR5cGUgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IHR5cGUgPSBzaGFsbG93UmVmKFwidW5rbm93blwiKTtcbiAgY29uc3QgY29ubmVjdGlvbiA9IGlzU3VwcG9ydGVkLnZhbHVlICYmIG5hdmlnYXRvci5jb25uZWN0aW9uO1xuICBmdW5jdGlvbiB1cGRhdGVOZXR3b3JrSW5mb3JtYXRpb24oKSB7XG4gICAgaWYgKCFuYXZpZ2F0b3IpXG4gICAgICByZXR1cm47XG4gICAgaXNPbmxpbmUudmFsdWUgPSBuYXZpZ2F0b3Iub25MaW5lO1xuICAgIG9mZmxpbmVBdC52YWx1ZSA9IGlzT25saW5lLnZhbHVlID8gdm9pZCAwIDogRGF0ZS5ub3coKTtcbiAgICBvbmxpbmVBdC52YWx1ZSA9IGlzT25saW5lLnZhbHVlID8gRGF0ZS5ub3coKSA6IHZvaWQgMDtcbiAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgZG93bmxpbmsudmFsdWUgPSBjb25uZWN0aW9uLmRvd25saW5rO1xuICAgICAgZG93bmxpbmtNYXgudmFsdWUgPSBjb25uZWN0aW9uLmRvd25saW5rTWF4O1xuICAgICAgZWZmZWN0aXZlVHlwZS52YWx1ZSA9IGNvbm5lY3Rpb24uZWZmZWN0aXZlVHlwZTtcbiAgICAgIHJ0dC52YWx1ZSA9IGNvbm5lY3Rpb24ucnR0O1xuICAgICAgc2F2ZURhdGEudmFsdWUgPSBjb25uZWN0aW9uLnNhdmVEYXRhO1xuICAgICAgdHlwZS52YWx1ZSA9IGNvbm5lY3Rpb24udHlwZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gIGlmICh3aW5kb3cpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJvZmZsaW5lXCIsICgpID0+IHtcbiAgICAgIGlzT25saW5lLnZhbHVlID0gZmFsc2U7XG4gICAgICBvZmZsaW5lQXQudmFsdWUgPSBEYXRlLm5vdygpO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwib25saW5lXCIsICgpID0+IHtcbiAgICAgIGlzT25saW5lLnZhbHVlID0gdHJ1ZTtcbiAgICAgIG9ubGluZUF0LnZhbHVlID0gRGF0ZS5ub3coKTtcbiAgICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIGlmIChjb25uZWN0aW9uKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoY29ubmVjdGlvbiwgXCJjaGFuZ2VcIiwgdXBkYXRlTmV0d29ya0luZm9ybWF0aW9uLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1cGRhdGVOZXR3b3JrSW5mb3JtYXRpb24oKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBpc09ubGluZTogcmVhZG9ubHkoaXNPbmxpbmUpLFxuICAgIHNhdmVEYXRhOiByZWFkb25seShzYXZlRGF0YSksXG4gICAgb2ZmbGluZUF0OiByZWFkb25seShvZmZsaW5lQXQpLFxuICAgIG9ubGluZUF0OiByZWFkb25seShvbmxpbmVBdCksXG4gICAgZG93bmxpbms6IHJlYWRvbmx5KGRvd25saW5rKSxcbiAgICBkb3dubGlua01heDogcmVhZG9ubHkoZG93bmxpbmtNYXgpLFxuICAgIGVmZmVjdGl2ZVR5cGU6IHJlYWRvbmx5KGVmZmVjdGl2ZVR5cGUpLFxuICAgIHJ0dDogcmVhZG9ubHkocnR0KSxcbiAgICB0eXBlOiByZWFkb25seSh0eXBlKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VOb3cob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBpbnRlcnZhbCA9IFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG5vdyA9IHJlZigvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSk7XG4gIGNvbnN0IHVwZGF0ZSA9ICgpID0+IG5vdy52YWx1ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpO1xuICBjb25zdCBjb250cm9scyA9IGludGVydmFsID09PSBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiID8gdXNlUmFmRm4odXBkYXRlLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KSA6IHVzZUludGVydmFsRm4odXBkYXRlLCBpbnRlcnZhbCwgeyBpbW1lZGlhdGU6IHRydWUgfSk7XG4gIGlmIChleHBvc2VDb250cm9scykge1xuICAgIHJldHVybiB7XG4gICAgICBub3csXG4gICAgICAuLi5jb250cm9sc1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5vdztcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VPYmplY3RVcmwob2JqZWN0KSB7XG4gIGNvbnN0IHVybCA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgcmVsZWFzZSA9ICgpID0+IHtcbiAgICBpZiAodXJsLnZhbHVlKVxuICAgICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwudmFsdWUpO1xuICAgIHVybC52YWx1ZSA9IHZvaWQgMDtcbiAgfTtcbiAgd2F0Y2goXG4gICAgKCkgPT4gdG9WYWx1ZShvYmplY3QpLFxuICAgIChuZXdPYmplY3QpID0+IHtcbiAgICAgIHJlbGVhc2UoKTtcbiAgICAgIGlmIChuZXdPYmplY3QpXG4gICAgICAgIHVybC52YWx1ZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3T2JqZWN0KTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgdHJ5T25TY29wZURpc3Bvc2UocmVsZWFzZSk7XG4gIHJldHVybiByZWFkb25seSh1cmwpO1xufVxuXG5mdW5jdGlvbiB1c2VDbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiIHx8IGlzUmVhZG9ubHkodmFsdWUpKVxuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiBjbGFtcCh0b1ZhbHVlKHZhbHVlKSwgdG9WYWx1ZShtaW4pLCB0b1ZhbHVlKG1heCkpKTtcbiAgY29uc3QgX3ZhbHVlID0gcmVmKHZhbHVlKTtcbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gX3ZhbHVlLnZhbHVlID0gY2xhbXAoX3ZhbHVlLnZhbHVlLCB0b1ZhbHVlKG1pbiksIHRvVmFsdWUobWF4KSk7XG4gICAgfSxcbiAgICBzZXQodmFsdWUyKSB7XG4gICAgICBfdmFsdWUudmFsdWUgPSBjbGFtcCh2YWx1ZTIsIHRvVmFsdWUobWluKSwgdG9WYWx1ZShtYXgpKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VPZmZzZXRQYWdpbmF0aW9uKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIHRvdGFsID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIHBhZ2VTaXplID0gMTAsXG4gICAgcGFnZSA9IDEsXG4gICAgb25QYWdlQ2hhbmdlID0gbm9vcCxcbiAgICBvblBhZ2VTaXplQ2hhbmdlID0gbm9vcCxcbiAgICBvblBhZ2VDb3VudENoYW5nZSA9IG5vb3BcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGN1cnJlbnRQYWdlU2l6ZSA9IHVzZUNsYW1wKHBhZ2VTaXplLCAxLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICBjb25zdCBwYWdlQ291bnQgPSBjb21wdXRlZCgoKSA9PiBNYXRoLm1heChcbiAgICAxLFxuICAgIE1hdGguY2VpbCh0b1ZhbHVlKHRvdGFsKSAvIHRvVmFsdWUoY3VycmVudFBhZ2VTaXplKSlcbiAgKSk7XG4gIGNvbnN0IGN1cnJlbnRQYWdlID0gdXNlQ2xhbXAocGFnZSwgMSwgcGFnZUNvdW50KTtcbiAgY29uc3QgaXNGaXJzdFBhZ2UgPSBjb21wdXRlZCgoKSA9PiBjdXJyZW50UGFnZS52YWx1ZSA9PT0gMSk7XG4gIGNvbnN0IGlzTGFzdFBhZ2UgPSBjb21wdXRlZCgoKSA9PiBjdXJyZW50UGFnZS52YWx1ZSA9PT0gcGFnZUNvdW50LnZhbHVlKTtcbiAgaWYgKGlzUmVmKHBhZ2UpKSB7XG4gICAgc3luY1JlZihwYWdlLCBjdXJyZW50UGFnZSwge1xuICAgICAgZGlyZWN0aW9uOiBpc1JlYWRvbmx5KHBhZ2UpID8gXCJsdHJcIiA6IFwiYm90aFwiXG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzUmVmKHBhZ2VTaXplKSkge1xuICAgIHN5bmNSZWYocGFnZVNpemUsIGN1cnJlbnRQYWdlU2l6ZSwge1xuICAgICAgZGlyZWN0aW9uOiBpc1JlYWRvbmx5KHBhZ2VTaXplKSA/IFwibHRyXCIgOiBcImJvdGhcIlxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHByZXYoKSB7XG4gICAgY3VycmVudFBhZ2UudmFsdWUtLTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIGN1cnJlbnRQYWdlLnZhbHVlKys7XG4gIH1cbiAgY29uc3QgcmV0dXJuVmFsdWUgPSB7XG4gICAgY3VycmVudFBhZ2UsXG4gICAgY3VycmVudFBhZ2VTaXplLFxuICAgIHBhZ2VDb3VudCxcbiAgICBpc0ZpcnN0UGFnZSxcbiAgICBpc0xhc3RQYWdlLFxuICAgIHByZXYsXG4gICAgbmV4dFxuICB9O1xuICB3YXRjaChjdXJyZW50UGFnZSwgKCkgPT4ge1xuICAgIG9uUGFnZUNoYW5nZShyZWFjdGl2ZShyZXR1cm5WYWx1ZSkpO1xuICB9KTtcbiAgd2F0Y2goY3VycmVudFBhZ2VTaXplLCAoKSA9PiB7XG4gICAgb25QYWdlU2l6ZUNoYW5nZShyZWFjdGl2ZShyZXR1cm5WYWx1ZSkpO1xuICB9KTtcbiAgd2F0Y2gocGFnZUNvdW50LCAoKSA9PiB7XG4gICAgb25QYWdlQ291bnRDaGFuZ2UocmVhY3RpdmUocmV0dXJuVmFsdWUpKTtcbiAgfSk7XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cblxuZnVuY3Rpb24gdXNlT25saW5lKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGlzT25saW5lIH0gPSB1c2VOZXR3b3JrKG9wdGlvbnMpO1xuICByZXR1cm4gaXNPbmxpbmU7XG59XG5cbmZ1bmN0aW9uIHVzZVBhZ2VMZWF2ZShvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0xlZnQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgaGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgIGlmICghd2luZG93KVxuICAgICAgcmV0dXJuO1xuICAgIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgIGNvbnN0IGZyb20gPSBldmVudC5yZWxhdGVkVGFyZ2V0IHx8IGV2ZW50LnRvRWxlbWVudDtcbiAgICBpc0xlZnQudmFsdWUgPSAhZnJvbTtcbiAgfTtcbiAgaWYgKHdpbmRvdykge1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcIm1vdXNlb3V0XCIsIGhhbmRsZXIsIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsIFwibW91c2VsZWF2ZVwiLCBoYW5kbGVyLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCBcIm1vdXNlZW50ZXJcIiwgaGFuZGxlciwgbGlzdGVuZXJPcHRpb25zKTtcbiAgfVxuICByZXR1cm4gaXNMZWZ0O1xufVxuXG5mdW5jdGlvbiB1c2VTY3JlZW5PcmllbnRhdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHdpbmRvdyAmJiBcInNjcmVlblwiIGluIHdpbmRvdyAmJiBcIm9yaWVudGF0aW9uXCIgaW4gd2luZG93LnNjcmVlbik7XG4gIGNvbnN0IHNjcmVlbk9yaWVudGF0aW9uID0gaXNTdXBwb3J0ZWQudmFsdWUgPyB3aW5kb3cuc2NyZWVuLm9yaWVudGF0aW9uIDoge307XG4gIGNvbnN0IG9yaWVudGF0aW9uID0gcmVmKHNjcmVlbk9yaWVudGF0aW9uLnR5cGUpO1xuICBjb25zdCBhbmdsZSA9IHNoYWxsb3dSZWYoc2NyZWVuT3JpZW50YXRpb24uYW5nbGUgfHwgMCk7XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcIm9yaWVudGF0aW9uY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIG9yaWVudGF0aW9uLnZhbHVlID0gc2NyZWVuT3JpZW50YXRpb24udHlwZTtcbiAgICAgIGFuZ2xlLnZhbHVlID0gc2NyZWVuT3JpZW50YXRpb24uYW5nbGU7XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9XG4gIGNvbnN0IGxvY2tPcmllbnRhdGlvbiA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHR5cGVvZiBzY3JlZW5PcmllbnRhdGlvbi5sb2NrID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICByZXR1cm4gc2NyZWVuT3JpZW50YXRpb24ubG9jayh0eXBlKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKSk7XG4gIH07XG4gIGNvbnN0IHVubG9ja09yaWVudGF0aW9uID0gKCkgPT4ge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSAmJiB0eXBlb2Ygc2NyZWVuT3JpZW50YXRpb24udW5sb2NrID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBzY3JlZW5PcmllbnRhdGlvbi51bmxvY2soKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBvcmllbnRhdGlvbixcbiAgICBhbmdsZSxcbiAgICBsb2NrT3JpZW50YXRpb24sXG4gICAgdW5sb2NrT3JpZW50YXRpb25cbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlUGFyYWxsYXgodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRldmljZU9yaWVudGF0aW9uVGlsdEFkanVzdCA9IChpKSA9PiBpLFxuICAgIGRldmljZU9yaWVudGF0aW9uUm9sbEFkanVzdCA9IChpKSA9PiBpLFxuICAgIG1vdXNlVGlsdEFkanVzdCA9IChpKSA9PiBpLFxuICAgIG1vdXNlUm9sbEFkanVzdCA9IChpKSA9PiBpLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG9yaWVudGF0aW9uID0gcmVhY3RpdmUodXNlRGV2aWNlT3JpZW50YXRpb24oeyB3aW5kb3cgfSkpO1xuICBjb25zdCBzY3JlZW5PcmllbnRhdGlvbiA9IHJlYWN0aXZlKHVzZVNjcmVlbk9yaWVudGF0aW9uKHsgd2luZG93IH0pKTtcbiAgY29uc3Qge1xuICAgIGVsZW1lbnRYOiB4LFxuICAgIGVsZW1lbnRZOiB5LFxuICAgIGVsZW1lbnRXaWR0aDogd2lkdGgsXG4gICAgZWxlbWVudEhlaWdodDogaGVpZ2h0XG4gIH0gPSB1c2VNb3VzZUluRWxlbWVudCh0YXJnZXQsIHsgaGFuZGxlT3V0c2lkZTogZmFsc2UsIHdpbmRvdyB9KTtcbiAgY29uc3Qgc291cmNlID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChvcmllbnRhdGlvbi5pc1N1cHBvcnRlZCAmJiAob3JpZW50YXRpb24uYWxwaGEgIT0gbnVsbCAmJiBvcmllbnRhdGlvbi5hbHBoYSAhPT0gMCB8fCBvcmllbnRhdGlvbi5nYW1tYSAhPSBudWxsICYmIG9yaWVudGF0aW9uLmdhbW1hICE9PSAwKSkge1xuICAgICAgcmV0dXJuIFwiZGV2aWNlT3JpZW50YXRpb25cIjtcbiAgICB9XG4gICAgcmV0dXJuIFwibW91c2VcIjtcbiAgfSk7XG4gIGNvbnN0IHJvbGwgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKHNvdXJjZS52YWx1ZSA9PT0gXCJkZXZpY2VPcmllbnRhdGlvblwiKSB7XG4gICAgICBsZXQgdmFsdWU7XG4gICAgICBzd2l0Y2ggKHNjcmVlbk9yaWVudGF0aW9uLm9yaWVudGF0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJsYW5kc2NhcGUtcHJpbWFyeVwiOlxuICAgICAgICAgIHZhbHVlID0gb3JpZW50YXRpb24uZ2FtbWEgLyA5MDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxhbmRzY2FwZS1zZWNvbmRhcnlcIjpcbiAgICAgICAgICB2YWx1ZSA9IC1vcmllbnRhdGlvbi5nYW1tYSAvIDkwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9ydHJhaXQtcHJpbWFyeVwiOlxuICAgICAgICAgIHZhbHVlID0gLW9yaWVudGF0aW9uLmJldGEgLyA5MDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcnRyYWl0LXNlY29uZGFyeVwiOlxuICAgICAgICAgIHZhbHVlID0gb3JpZW50YXRpb24uYmV0YSAvIDkwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHZhbHVlID0gLW9yaWVudGF0aW9uLmJldGEgLyA5MDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZXZpY2VPcmllbnRhdGlvblJvbGxBZGp1c3QodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IC0oeS52YWx1ZSAtIGhlaWdodC52YWx1ZSAvIDIpIC8gaGVpZ2h0LnZhbHVlO1xuICAgICAgcmV0dXJuIG1vdXNlUm9sbEFkanVzdCh2YWx1ZSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdGlsdCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoc291cmNlLnZhbHVlID09PSBcImRldmljZU9yaWVudGF0aW9uXCIpIHtcbiAgICAgIGxldCB2YWx1ZTtcbiAgICAgIHN3aXRjaCAoc2NyZWVuT3JpZW50YXRpb24ub3JpZW50YXRpb24pIHtcbiAgICAgICAgY2FzZSBcImxhbmRzY2FwZS1wcmltYXJ5XCI6XG4gICAgICAgICAgdmFsdWUgPSBvcmllbnRhdGlvbi5iZXRhIC8gOTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsYW5kc2NhcGUtc2Vjb25kYXJ5XCI6XG4gICAgICAgICAgdmFsdWUgPSAtb3JpZW50YXRpb24uYmV0YSAvIDkwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9ydHJhaXQtcHJpbWFyeVwiOlxuICAgICAgICAgIHZhbHVlID0gb3JpZW50YXRpb24uZ2FtbWEgLyA5MDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcnRyYWl0LXNlY29uZGFyeVwiOlxuICAgICAgICAgIHZhbHVlID0gLW9yaWVudGF0aW9uLmdhbW1hIC8gOTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdmFsdWUgPSBvcmllbnRhdGlvbi5nYW1tYSAvIDkwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRldmljZU9yaWVudGF0aW9uVGlsdEFkanVzdCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gKHgudmFsdWUgLSB3aWR0aC52YWx1ZSAvIDIpIC8gd2lkdGgudmFsdWU7XG4gICAgICByZXR1cm4gbW91c2VUaWx0QWRqdXN0KHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4geyByb2xsLCB0aWx0LCBzb3VyY2UgfTtcbn1cblxuZnVuY3Rpb24gdXNlUGFyZW50RWxlbWVudChlbGVtZW50ID0gdXNlQ3VycmVudEVsZW1lbnQoKSkge1xuICBjb25zdCBwYXJlbnRFbGVtZW50ID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSB1bnJlZkVsZW1lbnQoZWxlbWVudCk7XG4gICAgaWYgKGVsKVxuICAgICAgcGFyZW50RWxlbWVudC52YWx1ZSA9IGVsLnBhcmVudEVsZW1lbnQ7XG4gIH07XG4gIHRyeU9uTW91bnRlZCh1cGRhdGUpO1xuICB3YXRjaCgoKSA9PiB0b1ZhbHVlKGVsZW1lbnQpLCB1cGRhdGUpO1xuICByZXR1cm4gcGFyZW50RWxlbWVudDtcbn1cblxuZnVuY3Rpb24gdXNlUGVyZm9ybWFuY2VPYnNlcnZlcihvcHRpb25zLCBjYWxsYmFjaykge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIC4uLnBlcmZvcm1hbmNlT3B0aW9uc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwiUGVyZm9ybWFuY2VPYnNlcnZlclwiIGluIHdpbmRvdyk7XG4gIGxldCBvYnNlcnZlcjtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBvYnNlcnZlciA9PSBudWxsID8gdm9pZCAwIDogb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9O1xuICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICAgIHN0b3AoKTtcbiAgICAgIG9ic2VydmVyID0gbmV3IFBlcmZvcm1hbmNlT2JzZXJ2ZXIoY2FsbGJhY2spO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShwZXJmb3JtYW5jZU9wdGlvbnMpO1xuICAgIH1cbiAgfTtcbiAgdHJ5T25TY29wZURpc3Bvc2Uoc3RvcCk7XG4gIGlmIChpbW1lZGlhdGUpXG4gICAgc3RhcnQoKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBzdGFydCxcbiAgICBzdG9wXG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRTdGF0ZSA9IHtcbiAgeDogMCxcbiAgeTogMCxcbiAgcG9pbnRlcklkOiAwLFxuICBwcmVzc3VyZTogMCxcbiAgdGlsdFg6IDAsXG4gIHRpbHRZOiAwLFxuICB3aWR0aDogMCxcbiAgaGVpZ2h0OiAwLFxuICB0d2lzdDogMCxcbiAgcG9pbnRlclR5cGU6IG51bGxcbn07XG5jb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5rZXlzKGRlZmF1bHRTdGF0ZSk7XG5mdW5jdGlvbiB1c2VQb2ludGVyKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGFyZ2V0ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNJbnNpZGUgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgc3RhdGUgPSByZWYob3B0aW9ucy5pbml0aWFsVmFsdWUgfHwge30pO1xuICBPYmplY3QuYXNzaWduKHN0YXRlLnZhbHVlLCBkZWZhdWx0U3RhdGUsIHN0YXRlLnZhbHVlKTtcbiAgY29uc3QgaGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgIGlzSW5zaWRlLnZhbHVlID0gdHJ1ZTtcbiAgICBpZiAob3B0aW9ucy5wb2ludGVyVHlwZXMgJiYgIW9wdGlvbnMucG9pbnRlclR5cGVzLmluY2x1ZGVzKGV2ZW50LnBvaW50ZXJUeXBlKSlcbiAgICAgIHJldHVybjtcbiAgICBzdGF0ZS52YWx1ZSA9IG9iamVjdFBpY2soZXZlbnQsIGtleXMsIGZhbHNlKTtcbiAgfTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBbXCJwb2ludGVyZG93blwiLCBcInBvaW50ZXJtb3ZlXCIsIFwicG9pbnRlcnVwXCJdLCBoYW5kbGVyLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInBvaW50ZXJsZWF2ZVwiLCAoKSA9PiBpc0luc2lkZS52YWx1ZSA9IGZhbHNlLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4udG9SZWZzKHN0YXRlKSxcbiAgICBpc0luc2lkZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VQb2ludGVyTG9jayh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50IH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBkb2N1bWVudCAmJiBcInBvaW50ZXJMb2NrRWxlbWVudFwiIGluIGRvY3VtZW50KTtcbiAgY29uc3QgZWxlbWVudCA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgdHJpZ2dlckVsZW1lbnQgPSBzaGFsbG93UmVmKCk7XG4gIGxldCB0YXJnZXRFbGVtZW50O1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcInBvaW50ZXJsb2NrY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gKF9hID0gZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50KSAhPSBudWxsID8gX2EgOiBlbGVtZW50LnZhbHVlO1xuICAgICAgaWYgKHRhcmdldEVsZW1lbnQgJiYgY3VycmVudEVsZW1lbnQgPT09IHRhcmdldEVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudDtcbiAgICAgICAgaWYgKCFlbGVtZW50LnZhbHVlKVxuICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSB0cmlnZ2VyRWxlbWVudC52YWx1ZSA9IG51bGw7XG4gICAgICB9XG4gICAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcInBvaW50ZXJsb2NrZXJyb3JcIiwgKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgY3VycmVudEVsZW1lbnQgPSAoX2EgPSBkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQpICE9IG51bGwgPyBfYSA6IGVsZW1lbnQudmFsdWU7XG4gICAgICBpZiAodGFyZ2V0RWxlbWVudCAmJiBjdXJyZW50RWxlbWVudCA9PT0gdGFyZ2V0RWxlbWVudCkge1xuICAgICAgICBjb25zdCBhY3Rpb24gPSBkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQgPyBcInJlbGVhc2VcIiA6IFwiYWNxdWlyZVwiO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byAke2FjdGlvbn0gcG9pbnRlciBsb2NrLmApO1xuICAgICAgfVxuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gbG9jayhlKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQb2ludGVyIExvY2sgQVBJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBicm93c2VyLlwiKTtcbiAgICB0cmlnZ2VyRWxlbWVudC52YWx1ZSA9IGUgaW5zdGFuY2VvZiBFdmVudCA/IGUuY3VycmVudFRhcmdldCA6IG51bGw7XG4gICAgdGFyZ2V0RWxlbWVudCA9IGUgaW5zdGFuY2VvZiBFdmVudCA/IChfYSA9IHVucmVmRWxlbWVudCh0YXJnZXQpKSAhPSBudWxsID8gX2EgOiB0cmlnZ2VyRWxlbWVudC52YWx1ZSA6IHVucmVmRWxlbWVudChlKTtcbiAgICBpZiAoIXRhcmdldEVsZW1lbnQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUYXJnZXQgZWxlbWVudCB1bmRlZmluZWQuXCIpO1xuICAgIHRhcmdldEVsZW1lbnQucmVxdWVzdFBvaW50ZXJMb2NrKCk7XG4gICAgcmV0dXJuIGF3YWl0IHVudGlsKGVsZW1lbnQpLnRvQmUodGFyZ2V0RWxlbWVudCk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gdW5sb2NrKCkge1xuICAgIGlmICghZWxlbWVudC52YWx1ZSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKTtcbiAgICBhd2FpdCB1bnRpbChlbGVtZW50KS50b0JlTnVsbCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgZWxlbWVudCxcbiAgICB0cmlnZ2VyRWxlbWVudCxcbiAgICBsb2NrLFxuICAgIHVubG9ja1xuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VQb2ludGVyU3dpcGUodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgdGFyZ2V0UmVmID0gdG9SZWYodGFyZ2V0KTtcbiAgY29uc3Qge1xuICAgIHRocmVzaG9sZCA9IDUwLFxuICAgIG9uU3dpcGUsXG4gICAgb25Td2lwZUVuZCxcbiAgICBvblN3aXBlU3RhcnQsXG4gICAgZGlzYWJsZVRleHRTZWxlY3QgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcG9zU3RhcnQgPSByZWFjdGl2ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IHVwZGF0ZVBvc1N0YXJ0ID0gKHgsIHkpID0+IHtcbiAgICBwb3NTdGFydC54ID0geDtcbiAgICBwb3NTdGFydC55ID0geTtcbiAgfTtcbiAgY29uc3QgcG9zRW5kID0gcmVhY3RpdmUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCB1cGRhdGVQb3NFbmQgPSAoeCwgeSkgPT4ge1xuICAgIHBvc0VuZC54ID0geDtcbiAgICBwb3NFbmQueSA9IHk7XG4gIH07XG4gIGNvbnN0IGRpc3RhbmNlWCA9IGNvbXB1dGVkKCgpID0+IHBvc1N0YXJ0LnggLSBwb3NFbmQueCk7XG4gIGNvbnN0IGRpc3RhbmNlWSA9IGNvbXB1dGVkKCgpID0+IHBvc1N0YXJ0LnkgLSBwb3NFbmQueSk7XG4gIGNvbnN0IHsgbWF4LCBhYnMgfSA9IE1hdGg7XG4gIGNvbnN0IGlzVGhyZXNob2xkRXhjZWVkZWQgPSBjb21wdXRlZCgoKSA9PiBtYXgoYWJzKGRpc3RhbmNlWC52YWx1ZSksIGFicyhkaXN0YW5jZVkudmFsdWUpKSA+PSB0aHJlc2hvbGQpO1xuICBjb25zdCBpc1N3aXBpbmcgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgaXNQb2ludGVyRG93biA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBkaXJlY3Rpb24gPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKCFpc1RocmVzaG9sZEV4Y2VlZGVkLnZhbHVlKVxuICAgICAgcmV0dXJuIFwibm9uZVwiO1xuICAgIGlmIChhYnMoZGlzdGFuY2VYLnZhbHVlKSA+IGFicyhkaXN0YW5jZVkudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZGlzdGFuY2VYLnZhbHVlID4gMCA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGlzdGFuY2VZLnZhbHVlID4gMCA/IFwidXBcIiA6IFwiZG93blwiO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGV2ZW50SXNBbGxvd2VkID0gKGUpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBpc1JlbGVhc2luZ0J1dHRvbiA9IGUuYnV0dG9ucyA9PT0gMDtcbiAgICBjb25zdCBpc1ByaW1hcnlCdXR0b24gPSBlLmJ1dHRvbnMgPT09IDE7XG4gICAgcmV0dXJuIChfYyA9IChfYiA9IChfYSA9IG9wdGlvbnMucG9pbnRlclR5cGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoZS5wb2ludGVyVHlwZSkpICE9IG51bGwgPyBfYiA6IGlzUmVsZWFzaW5nQnV0dG9uIHx8IGlzUHJpbWFyeUJ1dHRvbikgIT0gbnVsbCA/IF9jIDogdHJ1ZTtcbiAgfTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gIGNvbnN0IHN0b3BzID0gW1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInBvaW50ZXJkb3duXCIsIChlKSA9PiB7XG4gICAgICBpZiAoIWV2ZW50SXNBbGxvd2VkKGUpKVxuICAgICAgICByZXR1cm47XG4gICAgICBpc1BvaW50ZXJEb3duLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGNvbnN0IGV2ZW50VGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICBldmVudFRhcmdldCA9PSBudWxsID8gdm9pZCAwIDogZXZlbnRUYXJnZXQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpO1xuICAgICAgY29uc3QgeyBjbGllbnRYOiB4LCBjbGllbnRZOiB5IH0gPSBlO1xuICAgICAgdXBkYXRlUG9zU3RhcnQoeCwgeSk7XG4gICAgICB1cGRhdGVQb3NFbmQoeCwgeSk7XG4gICAgICBvblN3aXBlU3RhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3dpcGVTdGFydChlKTtcbiAgICB9LCBsaXN0ZW5lck9wdGlvbnMpLFxuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInBvaW50ZXJtb3ZlXCIsIChlKSA9PiB7XG4gICAgICBpZiAoIWV2ZW50SXNBbGxvd2VkKGUpKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoIWlzUG9pbnRlckRvd24udmFsdWUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHsgY2xpZW50WDogeCwgY2xpZW50WTogeSB9ID0gZTtcbiAgICAgIHVwZGF0ZVBvc0VuZCh4LCB5KTtcbiAgICAgIGlmICghaXNTd2lwaW5nLnZhbHVlICYmIGlzVGhyZXNob2xkRXhjZWVkZWQudmFsdWUpXG4gICAgICAgIGlzU3dpcGluZy52YWx1ZSA9IHRydWU7XG4gICAgICBpZiAoaXNTd2lwaW5nLnZhbHVlKVxuICAgICAgICBvblN3aXBlID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlKGUpO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicG9pbnRlcnVwXCIsIChlKSA9PiB7XG4gICAgICBpZiAoIWV2ZW50SXNBbGxvd2VkKGUpKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoaXNTd2lwaW5nLnZhbHVlKVxuICAgICAgICBvblN3aXBlRW5kID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlRW5kKGUsIGRpcmVjdGlvbi52YWx1ZSk7XG4gICAgICBpc1BvaW50ZXJEb3duLnZhbHVlID0gZmFsc2U7XG4gICAgICBpc1N3aXBpbmcudmFsdWUgPSBmYWxzZTtcbiAgICB9LCBsaXN0ZW5lck9wdGlvbnMpXG4gIF07XG4gIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAoX2IgPSAoX2EgPSB0YXJnZXRSZWYudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdHlsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnNldFByb3BlcnR5KFwidG91Y2gtYWN0aW9uXCIsIFwibm9uZVwiKTtcbiAgICBpZiAoZGlzYWJsZVRleHRTZWxlY3QpIHtcbiAgICAgIChfZCA9IChfYyA9IHRhcmdldFJlZi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnN0eWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Quc2V0UHJvcGVydHkoXCItd2Via2l0LXVzZXItc2VsZWN0XCIsIFwibm9uZVwiKTtcbiAgICAgIChfZiA9IChfZSA9IHRhcmdldFJlZi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLnN0eWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Yuc2V0UHJvcGVydHkoXCItbXMtdXNlci1zZWxlY3RcIiwgXCJub25lXCIpO1xuICAgICAgKF9oID0gKF9nID0gdGFyZ2V0UmVmLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2cuc3R5bGUpID09IG51bGwgPyB2b2lkIDAgOiBfaC5zZXRQcm9wZXJ0eShcInVzZXItc2VsZWN0XCIsIFwibm9uZVwiKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzdG9wID0gKCkgPT4gc3RvcHMuZm9yRWFjaCgocykgPT4gcygpKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N3aXBpbmc6IHJlYWRvbmx5KGlzU3dpcGluZyksXG4gICAgZGlyZWN0aW9uOiByZWFkb25seShkaXJlY3Rpb24pLFxuICAgIHBvc1N0YXJ0OiByZWFkb25seShwb3NTdGFydCksXG4gICAgcG9zRW5kOiByZWFkb25seShwb3NFbmQpLFxuICAgIGRpc3RhbmNlWCxcbiAgICBkaXN0YW5jZVksXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWRDb2xvclNjaGVtZShvcHRpb25zKSB7XG4gIGNvbnN0IGlzTGlnaHQgPSB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIiwgb3B0aW9ucyk7XG4gIGNvbnN0IGlzRGFyayA9IHVzZU1lZGlhUXVlcnkoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIsIG9wdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChpc0RhcmsudmFsdWUpXG4gICAgICByZXR1cm4gXCJkYXJrXCI7XG4gICAgaWYgKGlzTGlnaHQudmFsdWUpXG4gICAgICByZXR1cm4gXCJsaWdodFwiO1xuICAgIHJldHVybiBcIm5vLXByZWZlcmVuY2VcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZWZlcnJlZENvbnRyYXN0KG9wdGlvbnMpIHtcbiAgY29uc3QgaXNNb3JlID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLWNvbnRyYXN0OiBtb3JlKVwiLCBvcHRpb25zKTtcbiAgY29uc3QgaXNMZXNzID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLWNvbnRyYXN0OiBsZXNzKVwiLCBvcHRpb25zKTtcbiAgY29uc3QgaXNDdXN0b20gPSB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29udHJhc3Q6IGN1c3RvbSlcIiwgb3B0aW9ucyk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGlzTW9yZS52YWx1ZSlcbiAgICAgIHJldHVybiBcIm1vcmVcIjtcbiAgICBpZiAoaXNMZXNzLnZhbHVlKVxuICAgICAgcmV0dXJuIFwibGVzc1wiO1xuICAgIGlmIChpc0N1c3RvbS52YWx1ZSlcbiAgICAgIHJldHVybiBcImN1c3RvbVwiO1xuICAgIHJldHVybiBcIm5vLXByZWZlcmVuY2VcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZWZlcnJlZExhbmd1YWdlcyhvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBpZiAoIXdpbmRvdylcbiAgICByZXR1cm4gcmVmKFtcImVuXCJdKTtcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcjtcbiAgY29uc3QgdmFsdWUgPSByZWYobmF2aWdhdG9yLmxhbmd1YWdlcyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImxhbmd1YWdlY2hhbmdlXCIsICgpID0+IHtcbiAgICB2YWx1ZS52YWx1ZSA9IG5hdmlnYXRvci5sYW5ndWFnZXM7XG4gIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWRSZWR1Y2VkTW90aW9uKG9wdGlvbnMpIHtcbiAgY29uc3QgaXNSZWR1Y2VkID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIsIG9wdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChpc1JlZHVjZWQudmFsdWUpXG4gICAgICByZXR1cm4gXCJyZWR1Y2VcIjtcbiAgICByZXR1cm4gXCJuby1wcmVmZXJlbmNlXCI7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWRSZWR1Y2VkVHJhbnNwYXJlbmN5KG9wdGlvbnMpIHtcbiAgY29uc3QgaXNSZWR1Y2VkID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLXJlZHVjZWQtdHJhbnNwYXJlbmN5OiByZWR1Y2UpXCIsIG9wdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChpc1JlZHVjZWQudmFsdWUpXG4gICAgICByZXR1cm4gXCJyZWR1Y2VcIjtcbiAgICByZXR1cm4gXCJuby1wcmVmZXJlbmNlXCI7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gIGNvbnN0IHByZXZpb3VzID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUpO1xuICB3YXRjaChcbiAgICB0b1JlZih2YWx1ZSksXG4gICAgKF8sIG9sZFZhbHVlKSA9PiB7XG4gICAgICBwcmV2aW91cy52YWx1ZSA9IG9sZFZhbHVlO1xuICAgIH0sXG4gICAgeyBmbHVzaDogXCJzeW5jXCIgfVxuICApO1xuICByZXR1cm4gcmVhZG9ubHkocHJldmlvdXMpO1xufVxuXG5jb25zdCB0b3BWYXJOYW1lID0gXCItLXZ1ZXVzZS1zYWZlLWFyZWEtdG9wXCI7XG5jb25zdCByaWdodFZhck5hbWUgPSBcIi0tdnVldXNlLXNhZmUtYXJlYS1yaWdodFwiO1xuY29uc3QgYm90dG9tVmFyTmFtZSA9IFwiLS12dWV1c2Utc2FmZS1hcmVhLWJvdHRvbVwiO1xuY29uc3QgbGVmdFZhck5hbWUgPSBcIi0tdnVldXNlLXNhZmUtYXJlYS1sZWZ0XCI7XG5mdW5jdGlvbiB1c2VTY3JlZW5TYWZlQXJlYSgpIHtcbiAgY29uc3QgdG9wID0gc2hhbGxvd1JlZihcIlwiKTtcbiAgY29uc3QgcmlnaHQgPSBzaGFsbG93UmVmKFwiXCIpO1xuICBjb25zdCBib3R0b20gPSBzaGFsbG93UmVmKFwiXCIpO1xuICBjb25zdCBsZWZ0ID0gc2hhbGxvd1JlZihcIlwiKTtcbiAgaWYgKGlzQ2xpZW50KSB7XG4gICAgY29uc3QgdG9wQ3NzVmFyID0gdXNlQ3NzVmFyKHRvcFZhck5hbWUpO1xuICAgIGNvbnN0IHJpZ2h0Q3NzVmFyID0gdXNlQ3NzVmFyKHJpZ2h0VmFyTmFtZSk7XG4gICAgY29uc3QgYm90dG9tQ3NzVmFyID0gdXNlQ3NzVmFyKGJvdHRvbVZhck5hbWUpO1xuICAgIGNvbnN0IGxlZnRDc3NWYXIgPSB1c2VDc3NWYXIobGVmdFZhck5hbWUpO1xuICAgIHRvcENzc1Zhci52YWx1ZSA9IFwiZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDBweClcIjtcbiAgICByaWdodENzc1Zhci52YWx1ZSA9IFwiZW52KHNhZmUtYXJlYS1pbnNldC1yaWdodCwgMHB4KVwiO1xuICAgIGJvdHRvbUNzc1Zhci52YWx1ZSA9IFwiZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20sIDBweClcIjtcbiAgICBsZWZ0Q3NzVmFyLnZhbHVlID0gXCJlbnYoc2FmZS1hcmVhLWluc2V0LWxlZnQsIDBweClcIjtcbiAgICB1cGRhdGUoKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVzZURlYm91bmNlRm4odXBkYXRlKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICB0b3AudmFsdWUgPSBnZXRWYWx1ZSh0b3BWYXJOYW1lKTtcbiAgICByaWdodC52YWx1ZSA9IGdldFZhbHVlKHJpZ2h0VmFyTmFtZSk7XG4gICAgYm90dG9tLnZhbHVlID0gZ2V0VmFsdWUoYm90dG9tVmFyTmFtZSk7XG4gICAgbGVmdC52YWx1ZSA9IGdldFZhbHVlKGxlZnRWYXJOYW1lKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRvcCxcbiAgICByaWdodCxcbiAgICBib3R0b20sXG4gICAgbGVmdCxcbiAgICB1cGRhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlKHBvc2l0aW9uKSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShwb3NpdGlvbik7XG59XG5cbmZ1bmN0aW9uIHVzZVNjcmlwdFRhZyhzcmMsIG9uTG9hZGVkID0gbm9vcCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIG1hbnVhbCA9IGZhbHNlLFxuICAgIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgIGFzeW5jID0gdHJ1ZSxcbiAgICBjcm9zc09yaWdpbixcbiAgICByZWZlcnJlclBvbGljeSxcbiAgICBub01vZHVsZSxcbiAgICBkZWZlcixcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBhdHRycyA9IHt9XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBzY3JpcHRUYWcgPSBzaGFsbG93UmVmKG51bGwpO1xuICBsZXQgX3Byb21pc2UgPSBudWxsO1xuICBjb25zdCBsb2FkU2NyaXB0ID0gKHdhaXRGb3JTY3JpcHRMb2FkKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZVdpdGhFbGVtZW50ID0gKGVsMikgPT4ge1xuICAgICAgc2NyaXB0VGFnLnZhbHVlID0gZWwyO1xuICAgICAgcmVzb2x2ZShlbDIpO1xuICAgICAgcmV0dXJuIGVsMjtcbiAgICB9O1xuICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgc2hvdWxkQXBwZW5kID0gZmFsc2U7XG4gICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3NyYz1cIiR7dG9WYWx1ZShzcmMpfVwiXWApO1xuICAgIGlmICghZWwpIHtcbiAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgIGVsLnR5cGUgPSB0eXBlO1xuICAgICAgZWwuYXN5bmMgPSBhc3luYztcbiAgICAgIGVsLnNyYyA9IHRvVmFsdWUoc3JjKTtcbiAgICAgIGlmIChkZWZlcilcbiAgICAgICAgZWwuZGVmZXIgPSBkZWZlcjtcbiAgICAgIGlmIChjcm9zc09yaWdpbilcbiAgICAgICAgZWwuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgIGlmIChub01vZHVsZSlcbiAgICAgICAgZWwubm9Nb2R1bGUgPSBub01vZHVsZTtcbiAgICAgIGlmIChyZWZlcnJlclBvbGljeSlcbiAgICAgICAgZWwucmVmZXJyZXJQb2xpY3kgPSByZWZlcnJlclBvbGljeTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGF0dHJzKS5mb3JFYWNoKChbbmFtZSwgdmFsdWVdKSA9PiBlbCA9PSBudWxsID8gdm9pZCAwIDogZWwuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKSk7XG4gICAgICBzaG91bGRBcHBlbmQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZWwuaGFzQXR0cmlidXRlKFwiZGF0YS1sb2FkZWRcIikpIHtcbiAgICAgIHJlc29sdmVXaXRoRWxlbWVudChlbCk7XG4gICAgfVxuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHtcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZWwsIFwiZXJyb3JcIiwgKGV2ZW50KSA9PiByZWplY3QoZXZlbnQpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZWwsIFwiYWJvcnRcIiwgKGV2ZW50KSA9PiByZWplY3QoZXZlbnQpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZWwsIFwibG9hZFwiLCAoKSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxvYWRlZFwiLCBcInRydWVcIik7XG4gICAgICBvbkxvYWRlZChlbCk7XG4gICAgICByZXNvbHZlV2l0aEVsZW1lbnQoZWwpO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgaWYgKHNob3VsZEFwcGVuZClcbiAgICAgIGVsID0gZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbCk7XG4gICAgaWYgKCF3YWl0Rm9yU2NyaXB0TG9hZClcbiAgICAgIHJlc29sdmVXaXRoRWxlbWVudChlbCk7XG4gIH0pO1xuICBjb25zdCBsb2FkID0gKHdhaXRGb3JTY3JpcHRMb2FkID0gdHJ1ZSkgPT4ge1xuICAgIGlmICghX3Byb21pc2UpXG4gICAgICBfcHJvbWlzZSA9IGxvYWRTY3JpcHQod2FpdEZvclNjcmlwdExvYWQpO1xuICAgIHJldHVybiBfcHJvbWlzZTtcbiAgfTtcbiAgY29uc3QgdW5sb2FkID0gKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgX3Byb21pc2UgPSBudWxsO1xuICAgIGlmIChzY3JpcHRUYWcudmFsdWUpXG4gICAgICBzY3JpcHRUYWcudmFsdWUgPSBudWxsO1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3NyYz1cIiR7dG9WYWx1ZShzcmMpfVwiXWApO1xuICAgIGlmIChlbClcbiAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQoZWwpO1xuICB9O1xuICBpZiAoaW1tZWRpYXRlICYmICFtYW51YWwpXG4gICAgdHJ5T25Nb3VudGVkKGxvYWQpO1xuICBpZiAoIW1hbnVhbClcbiAgICB0cnlPblVubW91bnRlZCh1bmxvYWQpO1xuICByZXR1cm4geyBzY3JpcHRUYWcsIGxvYWQsIHVubG9hZCB9O1xufVxuXG5mdW5jdGlvbiBjaGVja092ZXJmbG93U2Nyb2xsKGVsZSkge1xuICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZSk7XG4gIGlmIChzdHlsZS5vdmVyZmxvd1ggPT09IFwic2Nyb2xsXCIgfHwgc3R5bGUub3ZlcmZsb3dZID09PSBcInNjcm9sbFwiIHx8IHN0eWxlLm92ZXJmbG93WCA9PT0gXCJhdXRvXCIgJiYgZWxlLmNsaWVudFdpZHRoIDwgZWxlLnNjcm9sbFdpZHRoIHx8IHN0eWxlLm92ZXJmbG93WSA9PT0gXCJhdXRvXCIgJiYgZWxlLmNsaWVudEhlaWdodCA8IGVsZS5zY3JvbGxIZWlnaHQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBwYXJlbnQgPSBlbGUucGFyZW50Tm9kZTtcbiAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQudGFnTmFtZSA9PT0gXCJCT0RZXCIpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGNoZWNrT3ZlcmZsb3dTY3JvbGwocGFyZW50KTtcbiAgfVxufVxuZnVuY3Rpb24gcHJldmVudERlZmF1bHQocmF3RXZlbnQpIHtcbiAgY29uc3QgZSA9IHJhd0V2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgY29uc3QgX3RhcmdldCA9IGUudGFyZ2V0O1xuICBpZiAoY2hlY2tPdmVyZmxvd1Njcm9sbChfdGFyZ2V0KSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChlLnRvdWNoZXMubGVuZ3RoID4gMSlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgaWYgKGUucHJldmVudERlZmF1bHQpXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICByZXR1cm4gZmFsc2U7XG59XG5jb25zdCBlbEluaXRpYWxPdmVyZmxvdyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gdXNlU2Nyb2xsTG9jayhlbGVtZW50LCBpbml0aWFsU3RhdGUgPSBmYWxzZSkge1xuICBjb25zdCBpc0xvY2tlZCA9IHNoYWxsb3dSZWYoaW5pdGlhbFN0YXRlKTtcbiAgbGV0IHN0b3BUb3VjaE1vdmVMaXN0ZW5lciA9IG51bGw7XG4gIGxldCBpbml0aWFsT3ZlcmZsb3cgPSBcIlwiO1xuICB3YXRjaCh0b1JlZihlbGVtZW50KSwgKGVsKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gcmVzb2x2ZUVsZW1lbnQodG9WYWx1ZShlbCkpO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGNvbnN0IGVsZSA9IHRhcmdldDtcbiAgICAgIGlmICghZWxJbml0aWFsT3ZlcmZsb3cuZ2V0KGVsZSkpXG4gICAgICAgIGVsSW5pdGlhbE92ZXJmbG93LnNldChlbGUsIGVsZS5zdHlsZS5vdmVyZmxvdyk7XG4gICAgICBpZiAoZWxlLnN0eWxlLm92ZXJmbG93ICE9PSBcImhpZGRlblwiKVxuICAgICAgICBpbml0aWFsT3ZlcmZsb3cgPSBlbGUuc3R5bGUub3ZlcmZsb3c7XG4gICAgICBpZiAoZWxlLnN0eWxlLm92ZXJmbG93ID09PSBcImhpZGRlblwiKVxuICAgICAgICByZXR1cm4gaXNMb2NrZWQudmFsdWUgPSB0cnVlO1xuICAgICAgaWYgKGlzTG9ja2VkLnZhbHVlKVxuICAgICAgICByZXR1cm4gZWxlLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICB9XG4gIH0sIHtcbiAgICBpbW1lZGlhdGU6IHRydWVcbiAgfSk7XG4gIGNvbnN0IGxvY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSByZXNvbHZlRWxlbWVudCh0b1ZhbHVlKGVsZW1lbnQpKTtcbiAgICBpZiAoIWVsIHx8IGlzTG9ja2VkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChpc0lPUykge1xuICAgICAgc3RvcFRvdWNoTW92ZUxpc3RlbmVyID0gdXNlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgZWwsXG4gICAgICAgIFwidG91Y2htb3ZlXCIsXG4gICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHsgcGFzc2l2ZTogZmFsc2UgfVxuICAgICAgKTtcbiAgICB9XG4gICAgZWwuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIGlzTG9ja2VkLnZhbHVlID0gdHJ1ZTtcbiAgfTtcbiAgY29uc3QgdW5sb2NrID0gKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gcmVzb2x2ZUVsZW1lbnQodG9WYWx1ZShlbGVtZW50KSk7XG4gICAgaWYgKCFlbCB8fCAhaXNMb2NrZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGlzSU9TKVxuICAgICAgc3RvcFRvdWNoTW92ZUxpc3RlbmVyID09IG51bGwgPyB2b2lkIDAgOiBzdG9wVG91Y2hNb3ZlTGlzdGVuZXIoKTtcbiAgICBlbC5zdHlsZS5vdmVyZmxvdyA9IGluaXRpYWxPdmVyZmxvdztcbiAgICBlbEluaXRpYWxPdmVyZmxvdy5kZWxldGUoZWwpO1xuICAgIGlzTG9ja2VkLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHVubG9jayk7XG4gIHJldHVybiBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIGlzTG9ja2VkLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIGlmICh2KVxuICAgICAgICBsb2NrKCk7XG4gICAgICBlbHNlIHVubG9jaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVNlc3Npb25TdG9yYWdlKGtleSwgaW5pdGlhbFZhbHVlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICByZXR1cm4gdXNlU3RvcmFnZShrZXksIGluaXRpYWxWYWx1ZSwgd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsIG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiB1c2VTaGFyZShzaGFyZU9wdGlvbnMgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvciB9ID0gb3B0aW9ucztcbiAgY29uc3QgX25hdmlnYXRvciA9IG5hdmlnYXRvcjtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gX25hdmlnYXRvciAmJiBcImNhblNoYXJlXCIgaW4gX25hdmlnYXRvcik7XG4gIGNvbnN0IHNoYXJlID0gYXN5bmMgKG92ZXJyaWRlT3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAuLi50b1ZhbHVlKHNoYXJlT3B0aW9ucyksXG4gICAgICAgIC4uLnRvVmFsdWUob3ZlcnJpZGVPcHRpb25zKVxuICAgICAgfTtcbiAgICAgIGxldCBncmFudGVkID0gdHJ1ZTtcbiAgICAgIGlmIChkYXRhLmZpbGVzICYmIF9uYXZpZ2F0b3IuY2FuU2hhcmUpXG4gICAgICAgIGdyYW50ZWQgPSBfbmF2aWdhdG9yLmNhblNoYXJlKHsgZmlsZXM6IGRhdGEuZmlsZXMgfSk7XG4gICAgICBpZiAoZ3JhbnRlZClcbiAgICAgICAgcmV0dXJuIF9uYXZpZ2F0b3Iuc2hhcmUoZGF0YSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHNoYXJlXG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRTb3J0Rm4gPSAoc291cmNlLCBjb21wYXJlRm4pID0+IHNvdXJjZS5zb3J0KGNvbXBhcmVGbik7XG5jb25zdCBkZWZhdWx0Q29tcGFyZSA9IChhLCBiKSA9PiBhIC0gYjtcbmZ1bmN0aW9uIHVzZVNvcnRlZCguLi5hcmdzKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgY29uc3QgW3NvdXJjZV0gPSBhcmdzO1xuICBsZXQgY29tcGFyZUZuID0gZGVmYXVsdENvbXBhcmU7XG4gIGxldCBvcHRpb25zID0ge307XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgIGlmICh0eXBlb2YgYXJnc1sxXSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgb3B0aW9ucyA9IGFyZ3NbMV07XG4gICAgICBjb21wYXJlRm4gPSAoX2EgPSBvcHRpb25zLmNvbXBhcmVGbikgIT0gbnVsbCA/IF9hIDogZGVmYXVsdENvbXBhcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbXBhcmVGbiA9IChfYiA9IGFyZ3NbMV0pICE9IG51bGwgPyBfYiA6IGRlZmF1bHRDb21wYXJlO1xuICAgIH1cbiAgfSBlbHNlIGlmIChhcmdzLmxlbmd0aCA+IDIpIHtcbiAgICBjb21wYXJlRm4gPSAoX2MgPSBhcmdzWzFdKSAhPSBudWxsID8gX2MgOiBkZWZhdWx0Q29tcGFyZTtcbiAgICBvcHRpb25zID0gKF9kID0gYXJnc1syXSkgIT0gbnVsbCA/IF9kIDoge307XG4gIH1cbiAgY29uc3Qge1xuICAgIGRpcnR5ID0gZmFsc2UsXG4gICAgc29ydEZuID0gZGVmYXVsdFNvcnRGblxuICB9ID0gb3B0aW9ucztcbiAgaWYgKCFkaXJ0eSlcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gc29ydEZuKFsuLi50b1ZhbHVlKHNvdXJjZSldLCBjb21wYXJlRm4pKTtcbiAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHNvcnRGbih0b1ZhbHVlKHNvdXJjZSksIGNvbXBhcmVGbik7XG4gICAgaWYgKGlzUmVmKHNvdXJjZSkpXG4gICAgICBzb3VyY2UudmFsdWUgPSByZXN1bHQ7XG4gICAgZWxzZVxuICAgICAgc291cmNlLnNwbGljZSgwLCBzb3VyY2UubGVuZ3RoLCAuLi5yZXN1bHQpO1xuICB9KTtcbiAgcmV0dXJuIHNvdXJjZTtcbn1cblxuZnVuY3Rpb24gdXNlU3BlZWNoUmVjb2duaXRpb24ob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbnRlcmltUmVzdWx0cyA9IHRydWUsXG4gICAgY29udGludW91cyA9IHRydWUsXG4gICAgbWF4QWx0ZXJuYXRpdmVzID0gMSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBsYW5nID0gdG9SZWYob3B0aW9ucy5sYW5nIHx8IFwiZW4tVVNcIik7XG4gIGNvbnN0IGlzTGlzdGVuaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGlzRmluYWwgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgcmVzdWx0ID0gc2hhbGxvd1JlZihcIlwiKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGxldCByZWNvZ25pdGlvbjtcbiAgY29uc3Qgc3RhcnQgPSAoKSA9PiB7XG4gICAgaXNMaXN0ZW5pbmcudmFsdWUgPSB0cnVlO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGlzTGlzdGVuaW5nLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIGNvbnN0IHRvZ2dsZSA9ICh2YWx1ZSA9ICFpc0xpc3RlbmluZy52YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgc3RhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcCgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgU3BlZWNoUmVjb2duaXRpb24gPSB3aW5kb3cgJiYgKHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb24pO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBTcGVlY2hSZWNvZ25pdGlvbik7XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIHJlY29nbml0aW9uID0gbmV3IFNwZWVjaFJlY29nbml0aW9uKCk7XG4gICAgcmVjb2duaXRpb24uY29udGludW91cyA9IGNvbnRpbnVvdXM7XG4gICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBpbnRlcmltUmVzdWx0cztcbiAgICByZWNvZ25pdGlvbi5sYW5nID0gdG9WYWx1ZShsYW5nKTtcbiAgICByZWNvZ25pdGlvbi5tYXhBbHRlcm5hdGl2ZXMgPSBtYXhBbHRlcm5hdGl2ZXM7XG4gICAgcmVjb2duaXRpb24ub25zdGFydCA9ICgpID0+IHtcbiAgICAgIGlzTGlzdGVuaW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGlzRmluYWwudmFsdWUgPSBmYWxzZTtcbiAgICB9O1xuICAgIHdhdGNoKGxhbmcsIChsYW5nMikgPT4ge1xuICAgICAgaWYgKHJlY29nbml0aW9uICYmICFpc0xpc3RlbmluZy52YWx1ZSlcbiAgICAgICAgcmVjb2duaXRpb24ubGFuZyA9IGxhbmcyO1xuICAgIH0pO1xuICAgIHJlY29nbml0aW9uLm9ucmVzdWx0ID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50UmVzdWx0ID0gZXZlbnQucmVzdWx0c1tldmVudC5yZXN1bHRJbmRleF07XG4gICAgICBjb25zdCB7IHRyYW5zY3JpcHQgfSA9IGN1cnJlbnRSZXN1bHRbMF07XG4gICAgICBpc0ZpbmFsLnZhbHVlID0gY3VycmVudFJlc3VsdC5pc0ZpbmFsO1xuICAgICAgcmVzdWx0LnZhbHVlID0gdHJhbnNjcmlwdDtcbiAgICAgIGVycm9yLnZhbHVlID0gdm9pZCAwO1xuICAgIH07XG4gICAgcmVjb2duaXRpb24ub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgZXJyb3IudmFsdWUgPSBldmVudDtcbiAgICB9O1xuICAgIHJlY29nbml0aW9uLm9uZW5kID0gKCkgPT4ge1xuICAgICAgaXNMaXN0ZW5pbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgIHJlY29nbml0aW9uLmxhbmcgPSB0b1ZhbHVlKGxhbmcpO1xuICAgIH07XG4gICAgd2F0Y2goaXNMaXN0ZW5pbmcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmIChuZXdWYWx1ZSlcbiAgICAgICAgcmVjb2duaXRpb24uc3RhcnQoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmVjb2duaXRpb24uc3RvcCgpO1xuICAgIH0pO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBzdG9wKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzTGlzdGVuaW5nLFxuICAgIGlzRmluYWwsXG4gICAgcmVjb2duaXRpb24sXG4gICAgcmVzdWx0LFxuICAgIGVycm9yLFxuICAgIHRvZ2dsZSxcbiAgICBzdGFydCxcbiAgICBzdG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVNwZWVjaFN5bnRoZXNpcyh0ZXh0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHBpdGNoID0gMSxcbiAgICByYXRlID0gMSxcbiAgICB2b2x1bWUgPSAxLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHN5bnRoID0gd2luZG93ICYmIHdpbmRvdy5zcGVlY2hTeW50aGVzaXM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHN5bnRoKTtcbiAgY29uc3QgaXNQbGF5aW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHN0YXR1cyA9IHNoYWxsb3dSZWYoXCJpbml0XCIpO1xuICBjb25zdCBzcG9rZW5UZXh0ID0gdG9SZWYodGV4dCB8fCBcIlwiKTtcbiAgY29uc3QgbGFuZyA9IHRvUmVmKG9wdGlvbnMubGFuZyB8fCBcImVuLVVTXCIpO1xuICBjb25zdCBlcnJvciA9IHNoYWxsb3dSZWYodm9pZCAwKTtcbiAgY29uc3QgdG9nZ2xlID0gKHZhbHVlID0gIWlzUGxheWluZy52YWx1ZSkgPT4ge1xuICAgIGlzUGxheWluZy52YWx1ZSA9IHZhbHVlO1xuICB9O1xuICBjb25zdCBiaW5kRXZlbnRzRm9yVXR0ZXJhbmNlID0gKHV0dGVyYW5jZTIpID0+IHtcbiAgICB1dHRlcmFuY2UyLmxhbmcgPSB0b1ZhbHVlKGxhbmcpO1xuICAgIHV0dGVyYW5jZTIudm9pY2UgPSB0b1ZhbHVlKG9wdGlvbnMudm9pY2UpIHx8IG51bGw7XG4gICAgdXR0ZXJhbmNlMi5waXRjaCA9IHRvVmFsdWUocGl0Y2gpO1xuICAgIHV0dGVyYW5jZTIucmF0ZSA9IHRvVmFsdWUocmF0ZSk7XG4gICAgdXR0ZXJhbmNlMi52b2x1bWUgPSB2b2x1bWU7XG4gICAgdXR0ZXJhbmNlMi5vbnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwicGxheVwiO1xuICAgIH07XG4gICAgdXR0ZXJhbmNlMi5vbnBhdXNlID0gKCkgPT4ge1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcInBhdXNlXCI7XG4gICAgfTtcbiAgICB1dHRlcmFuY2UyLm9ucmVzdW1lID0gKCkgPT4ge1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwicGxheVwiO1xuICAgIH07XG4gICAgdXR0ZXJhbmNlMi5vbmVuZCA9ICgpID0+IHtcbiAgICAgIGlzUGxheWluZy52YWx1ZSA9IGZhbHNlO1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJlbmRcIjtcbiAgICB9O1xuICAgIHV0dGVyYW5jZTIub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgZXJyb3IudmFsdWUgPSBldmVudDtcbiAgICB9O1xuICB9O1xuICBjb25zdCB1dHRlcmFuY2UgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgc3RhdHVzLnZhbHVlID0gXCJpbml0XCI7XG4gICAgY29uc3QgbmV3VXR0ZXJhbmNlID0gbmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZShzcG9rZW5UZXh0LnZhbHVlKTtcbiAgICBiaW5kRXZlbnRzRm9yVXR0ZXJhbmNlKG5ld1V0dGVyYW5jZSk7XG4gICAgcmV0dXJuIG5ld1V0dGVyYW5jZTtcbiAgfSk7XG4gIGNvbnN0IHNwZWFrID0gKCkgPT4ge1xuICAgIHN5bnRoLmNhbmNlbCgpO1xuICAgIGlmICh1dHRlcmFuY2UpXG4gICAgICBzeW50aC5zcGVhayh1dHRlcmFuY2UudmFsdWUpO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN5bnRoLmNhbmNlbCgpO1xuICAgIGlzUGxheWluZy52YWx1ZSA9IGZhbHNlO1xuICB9O1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICBiaW5kRXZlbnRzRm9yVXR0ZXJhbmNlKHV0dGVyYW5jZS52YWx1ZSk7XG4gICAgd2F0Y2gobGFuZywgKGxhbmcyKSA9PiB7XG4gICAgICBpZiAodXR0ZXJhbmNlLnZhbHVlICYmICFpc1BsYXlpbmcudmFsdWUpXG4gICAgICAgIHV0dGVyYW5jZS52YWx1ZS5sYW5nID0gbGFuZzI7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMudm9pY2UpIHtcbiAgICAgIHdhdGNoKG9wdGlvbnMudm9pY2UsICgpID0+IHtcbiAgICAgICAgc3ludGguY2FuY2VsKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgd2F0Y2goaXNQbGF5aW5nLCAoKSA9PiB7XG4gICAgICBpZiAoaXNQbGF5aW5nLnZhbHVlKVxuICAgICAgICBzeW50aC5yZXN1bWUoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgc3ludGgucGF1c2UoKTtcbiAgICB9KTtcbiAgfVxuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzUGxheWluZyxcbiAgICBzdGF0dXMsXG4gICAgdXR0ZXJhbmNlLFxuICAgIGVycm9yLFxuICAgIHN0b3AsXG4gICAgdG9nZ2xlLFxuICAgIHNwZWFrXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVN0ZXBwZXIoc3RlcHMsIGluaXRpYWxTdGVwKSB7XG4gIGNvbnN0IHN0ZXBzUmVmID0gcmVmKHN0ZXBzKTtcbiAgY29uc3Qgc3RlcE5hbWVzID0gY29tcHV0ZWQoKCkgPT4gQXJyYXkuaXNBcnJheShzdGVwc1JlZi52YWx1ZSkgPyBzdGVwc1JlZi52YWx1ZSA6IE9iamVjdC5rZXlzKHN0ZXBzUmVmLnZhbHVlKSk7XG4gIGNvbnN0IGluZGV4ID0gcmVmKHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKGluaXRpYWxTdGVwICE9IG51bGwgPyBpbml0aWFsU3RlcCA6IHN0ZXBOYW1lcy52YWx1ZVswXSkpO1xuICBjb25zdCBjdXJyZW50ID0gY29tcHV0ZWQoKCkgPT4gYXQoaW5kZXgudmFsdWUpKTtcbiAgY29uc3QgaXNGaXJzdCA9IGNvbXB1dGVkKCgpID0+IGluZGV4LnZhbHVlID09PSAwKTtcbiAgY29uc3QgaXNMYXN0ID0gY29tcHV0ZWQoKCkgPT4gaW5kZXgudmFsdWUgPT09IHN0ZXBOYW1lcy52YWx1ZS5sZW5ndGggLSAxKTtcbiAgY29uc3QgbmV4dCA9IGNvbXB1dGVkKCgpID0+IHN0ZXBOYW1lcy52YWx1ZVtpbmRleC52YWx1ZSArIDFdKTtcbiAgY29uc3QgcHJldmlvdXMgPSBjb21wdXRlZCgoKSA9PiBzdGVwTmFtZXMudmFsdWVbaW5kZXgudmFsdWUgLSAxXSk7XG4gIGZ1bmN0aW9uIGF0KGluZGV4Mikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0ZXBzUmVmLnZhbHVlKSlcbiAgICAgIHJldHVybiBzdGVwc1JlZi52YWx1ZVtpbmRleDJdO1xuICAgIHJldHVybiBzdGVwc1JlZi52YWx1ZVtzdGVwTmFtZXMudmFsdWVbaW5kZXgyXV07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0KHN0ZXApIHtcbiAgICBpZiAoIXN0ZXBOYW1lcy52YWx1ZS5pbmNsdWRlcyhzdGVwKSlcbiAgICAgIHJldHVybjtcbiAgICByZXR1cm4gYXQoc3RlcE5hbWVzLnZhbHVlLmluZGV4T2Yoc3RlcCkpO1xuICB9XG4gIGZ1bmN0aW9uIGdvVG8oc3RlcCkge1xuICAgIGlmIChzdGVwTmFtZXMudmFsdWUuaW5jbHVkZXMoc3RlcCkpXG4gICAgICBpbmRleC52YWx1ZSA9IHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApO1xuICB9XG4gIGZ1bmN0aW9uIGdvVG9OZXh0KCkge1xuICAgIGlmIChpc0xhc3QudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaW5kZXgudmFsdWUrKztcbiAgfVxuICBmdW5jdGlvbiBnb1RvUHJldmlvdXMoKSB7XG4gICAgaWYgKGlzRmlyc3QudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaW5kZXgudmFsdWUtLTtcbiAgfVxuICBmdW5jdGlvbiBnb0JhY2tUbyhzdGVwKSB7XG4gICAgaWYgKGlzQWZ0ZXIoc3RlcCkpXG4gICAgICBnb1RvKHN0ZXApO1xuICB9XG4gIGZ1bmN0aW9uIGlzTmV4dChzdGVwKSB7XG4gICAgcmV0dXJuIHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApID09PSBpbmRleC52YWx1ZSArIDE7XG4gIH1cbiAgZnVuY3Rpb24gaXNQcmV2aW91cyhzdGVwKSB7XG4gICAgcmV0dXJuIHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApID09PSBpbmRleC52YWx1ZSAtIDE7XG4gIH1cbiAgZnVuY3Rpb24gaXNDdXJyZW50KHN0ZXApIHtcbiAgICByZXR1cm4gc3RlcE5hbWVzLnZhbHVlLmluZGV4T2Yoc3RlcCkgPT09IGluZGV4LnZhbHVlO1xuICB9XG4gIGZ1bmN0aW9uIGlzQmVmb3JlKHN0ZXApIHtcbiAgICByZXR1cm4gaW5kZXgudmFsdWUgPCBzdGVwTmFtZXMudmFsdWUuaW5kZXhPZihzdGVwKTtcbiAgfVxuICBmdW5jdGlvbiBpc0FmdGVyKHN0ZXApIHtcbiAgICByZXR1cm4gaW5kZXgudmFsdWUgPiBzdGVwTmFtZXMudmFsdWUuaW5kZXhPZihzdGVwKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0ZXBzOiBzdGVwc1JlZixcbiAgICBzdGVwTmFtZXMsXG4gICAgaW5kZXgsXG4gICAgY3VycmVudCxcbiAgICBuZXh0LFxuICAgIHByZXZpb3VzLFxuICAgIGlzRmlyc3QsXG4gICAgaXNMYXN0LFxuICAgIGF0LFxuICAgIGdldCxcbiAgICBnb1RvLFxuICAgIGdvVG9OZXh0LFxuICAgIGdvVG9QcmV2aW91cyxcbiAgICBnb0JhY2tUbyxcbiAgICBpc05leHQsXG4gICAgaXNQcmV2aW91cyxcbiAgICBpc0N1cnJlbnQsXG4gICAgaXNCZWZvcmUsXG4gICAgaXNBZnRlclxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VTdG9yYWdlQXN5bmMoa2V5LCBpbml0aWFsVmFsdWUsIHN0b3JhZ2UsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHtcbiAgICBmbHVzaCA9IFwicHJlXCIsXG4gICAgZGVlcCA9IHRydWUsXG4gICAgbGlzdGVuVG9TdG9yYWdlQ2hhbmdlcyA9IHRydWUsXG4gICAgd3JpdGVEZWZhdWx0cyA9IHRydWUsXG4gICAgbWVyZ2VEZWZhdWx0cyA9IGZhbHNlLFxuICAgIHNoYWxsb3csXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBldmVudEZpbHRlcixcbiAgICBvbkVycm9yID0gKGUpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmF3SW5pdCA9IHRvVmFsdWUoaW5pdGlhbFZhbHVlKTtcbiAgY29uc3QgdHlwZSA9IGd1ZXNzU2VyaWFsaXplclR5cGUocmF3SW5pdCk7XG4gIGNvbnN0IGRhdGEgPSAoc2hhbGxvdyA/IHNoYWxsb3dSZWYgOiByZWYpKHRvVmFsdWUoaW5pdGlhbFZhbHVlKSk7XG4gIGNvbnN0IHNlcmlhbGl6ZXIgPSAoX2EgPSBvcHRpb25zLnNlcmlhbGl6ZXIpICE9IG51bGwgPyBfYSA6IFN0b3JhZ2VTZXJpYWxpemVyc1t0eXBlXTtcbiAgaWYgKCFzdG9yYWdlKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JhZ2UgPSBnZXRTU1JIYW5kbGVyKFwiZ2V0RGVmYXVsdFN0b3JhZ2VBc3luY1wiLCAoKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiAoX2EyID0gZGVmYXVsdFdpbmRvdykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5sb2NhbFN0b3JhZ2U7XG4gICAgICB9KSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHJlYWQoZXZlbnQpIHtcbiAgICBpZiAoIXN0b3JhZ2UgfHwgZXZlbnQgJiYgZXZlbnQua2V5ICE9PSBrZXkpXG4gICAgICByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhd1ZhbHVlID0gZXZlbnQgPyBldmVudC5uZXdWYWx1ZSA6IGF3YWl0IHN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgaWYgKHJhd1ZhbHVlID09IG51bGwpIHtcbiAgICAgICAgZGF0YS52YWx1ZSA9IHJhd0luaXQ7XG4gICAgICAgIGlmICh3cml0ZURlZmF1bHRzICYmIHJhd0luaXQgIT09IG51bGwpXG4gICAgICAgICAgYXdhaXQgc3RvcmFnZS5zZXRJdGVtKGtleSwgYXdhaXQgc2VyaWFsaXplci53cml0ZShyYXdJbml0KSk7XG4gICAgICB9IGVsc2UgaWYgKG1lcmdlRGVmYXVsdHMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBzZXJpYWxpemVyLnJlYWQocmF3VmFsdWUpO1xuICAgICAgICBpZiAodHlwZW9mIG1lcmdlRGVmYXVsdHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICBkYXRhLnZhbHVlID0gbWVyZ2VEZWZhdWx0cyh2YWx1ZSwgcmF3SW5pdCk7XG4gICAgICAgIGVsc2UgaWYgKHR5cGUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICAgIGRhdGEudmFsdWUgPSB7IC4uLnJhd0luaXQsIC4uLnZhbHVlIH07XG4gICAgICAgIGVsc2UgZGF0YS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YS52YWx1ZSA9IGF3YWl0IHNlcmlhbGl6ZXIucmVhZChyYXdWYWx1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgcmVhZCgpO1xuICBpZiAod2luZG93ICYmIGxpc3RlblRvU3RvcmFnZUNoYW5nZXMpXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwic3RvcmFnZVwiLCAoZSkgPT4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiByZWFkKGUpKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICBpZiAoc3RvcmFnZSkge1xuICAgIHdhdGNoV2l0aEZpbHRlcihcbiAgICAgIGRhdGEsXG4gICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGRhdGEudmFsdWUgPT0gbnVsbClcbiAgICAgICAgICAgIGF3YWl0IHN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGF3YWl0IHN0b3JhZ2Uuc2V0SXRlbShrZXksIGF3YWl0IHNlcmlhbGl6ZXIud3JpdGUoZGF0YS52YWx1ZSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgb25FcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgZmx1c2gsXG4gICAgICAgIGRlZXAsXG4gICAgICAgIGV2ZW50RmlsdGVyXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxubGV0IF9pZCA9IDA7XG5mdW5jdGlvbiB1c2VTdHlsZVRhZyhjc3MsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBpc0xvYWRlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCB7XG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnQsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBtYW51YWwgPSBmYWxzZSxcbiAgICBpZCA9IGB2dWV1c2Vfc3R5bGV0YWdfJHsrK19pZH1gXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjc3NSZWYgPSBzaGFsbG93UmVmKGNzcyk7XG4gIGxldCBzdG9wID0gKCkgPT4ge1xuICB9O1xuICBjb25zdCBsb2FkID0gKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgIGlmICghZWwuaXNDb25uZWN0ZWQpIHtcbiAgICAgIGVsLmlkID0gaWQ7XG4gICAgICBpZiAob3B0aW9ucy5tZWRpYSlcbiAgICAgICAgZWwubWVkaWEgPSBvcHRpb25zLm1lZGlhO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICAgIGlmIChpc0xvYWRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdG9wID0gd2F0Y2goXG4gICAgICBjc3NSZWYsXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICAgKTtcbiAgICBpc0xvYWRlZC52YWx1ZSA9IHRydWU7XG4gIH07XG4gIGNvbnN0IHVubG9hZCA9ICgpID0+IHtcbiAgICBpZiAoIWRvY3VtZW50IHx8ICFpc0xvYWRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdG9wKCk7XG4gICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpO1xuICAgIGlzTG9hZGVkLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIGlmIChpbW1lZGlhdGUgJiYgIW1hbnVhbClcbiAgICB0cnlPbk1vdW50ZWQobG9hZCk7XG4gIGlmICghbWFudWFsKVxuICAgIHRyeU9uU2NvcGVEaXNwb3NlKHVubG9hZCk7XG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgY3NzOiBjc3NSZWYsXG4gICAgdW5sb2FkLFxuICAgIGxvYWQsXG4gICAgaXNMb2FkZWQ6IHJlYWRvbmx5KGlzTG9hZGVkKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VTd2lwZSh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGhyZXNob2xkID0gNTAsXG4gICAgb25Td2lwZSxcbiAgICBvblN3aXBlRW5kLFxuICAgIG9uU3dpcGVTdGFydCxcbiAgICBwYXNzaXZlID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY29vcmRzU3RhcnQgPSByZWFjdGl2ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IGNvb3Jkc0VuZCA9IHJlYWN0aXZlKHsgeDogMCwgeTogMCB9KTtcbiAgY29uc3QgZGlmZlggPSBjb21wdXRlZCgoKSA9PiBjb29yZHNTdGFydC54IC0gY29vcmRzRW5kLngpO1xuICBjb25zdCBkaWZmWSA9IGNvbXB1dGVkKCgpID0+IGNvb3Jkc1N0YXJ0LnkgLSBjb29yZHNFbmQueSk7XG4gIGNvbnN0IHsgbWF4LCBhYnMgfSA9IE1hdGg7XG4gIGNvbnN0IGlzVGhyZXNob2xkRXhjZWVkZWQgPSBjb21wdXRlZCgoKSA9PiBtYXgoYWJzKGRpZmZYLnZhbHVlKSwgYWJzKGRpZmZZLnZhbHVlKSkgPj0gdGhyZXNob2xkKTtcbiAgY29uc3QgaXNTd2lwaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGRpcmVjdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoIWlzVGhyZXNob2xkRXhjZWVkZWQudmFsdWUpXG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgaWYgKGFicyhkaWZmWC52YWx1ZSkgPiBhYnMoZGlmZlkudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZGlmZlgudmFsdWUgPiAwID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaWZmWS52YWx1ZSA+IDAgPyBcInVwXCIgOiBcImRvd25cIjtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBnZXRUb3VjaEV2ZW50Q29vcmRzID0gKGUpID0+IFtlLnRvdWNoZXNbMF0uY2xpZW50WCwgZS50b3VjaGVzWzBdLmNsaWVudFldO1xuICBjb25zdCB1cGRhdGVDb29yZHNTdGFydCA9ICh4LCB5KSA9PiB7XG4gICAgY29vcmRzU3RhcnQueCA9IHg7XG4gICAgY29vcmRzU3RhcnQueSA9IHk7XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvb3Jkc0VuZCA9ICh4LCB5KSA9PiB7XG4gICAgY29vcmRzRW5kLnggPSB4O1xuICAgIGNvb3Jkc0VuZC55ID0geTtcbiAgfTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlLCBjYXB0dXJlOiAhcGFzc2l2ZSB9O1xuICBjb25zdCBvblRvdWNoRW5kID0gKGUpID0+IHtcbiAgICBpZiAoaXNTd2lwaW5nLnZhbHVlKVxuICAgICAgb25Td2lwZUVuZCA9PSBudWxsID8gdm9pZCAwIDogb25Td2lwZUVuZChlLCBkaXJlY3Rpb24udmFsdWUpO1xuICAgIGlzU3dpcGluZy52YWx1ZSA9IGZhbHNlO1xuICB9O1xuICBjb25zdCBzdG9wcyA9IFtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJ0b3VjaHN0YXJ0XCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgW3gsIHldID0gZ2V0VG91Y2hFdmVudENvb3JkcyhlKTtcbiAgICAgIHVwZGF0ZUNvb3Jkc1N0YXJ0KHgsIHkpO1xuICAgICAgdXBkYXRlQ29vcmRzRW5kKHgsIHkpO1xuICAgICAgb25Td2lwZVN0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlU3RhcnQoZSk7XG4gICAgfSwgbGlzdGVuZXJPcHRpb25zKSxcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJ0b3VjaG1vdmVcIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAxKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBbeCwgeV0gPSBnZXRUb3VjaEV2ZW50Q29vcmRzKGUpO1xuICAgICAgdXBkYXRlQ29vcmRzRW5kKHgsIHkpO1xuICAgICAgaWYgKGxpc3RlbmVyT3B0aW9ucy5jYXB0dXJlICYmICFsaXN0ZW5lck9wdGlvbnMucGFzc2l2ZSAmJiBNYXRoLmFicyhkaWZmWC52YWx1ZSkgPiBNYXRoLmFicyhkaWZmWS52YWx1ZSkpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghaXNTd2lwaW5nLnZhbHVlICYmIGlzVGhyZXNob2xkRXhjZWVkZWQudmFsdWUpXG4gICAgICAgIGlzU3dpcGluZy52YWx1ZSA9IHRydWU7XG4gICAgICBpZiAoaXNTd2lwaW5nLnZhbHVlKVxuICAgICAgICBvblN3aXBlID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlKGUpO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFtcInRvdWNoZW5kXCIsIFwidG91Y2hjYW5jZWxcIl0sIG9uVG91Y2hFbmQsIGxpc3RlbmVyT3B0aW9ucylcbiAgXTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHN0b3BzLmZvckVhY2goKHMpID0+IHMoKSk7XG4gIHJldHVybiB7XG4gICAgaXNTd2lwaW5nLFxuICAgIGRpcmVjdGlvbixcbiAgICBjb29yZHNTdGFydCxcbiAgICBjb29yZHNFbmQsXG4gICAgbGVuZ3RoWDogZGlmZlgsXG4gICAgbGVuZ3RoWTogZGlmZlksXG4gICAgc3RvcCxcbiAgICAvLyBUT0RPOiBSZW1vdmUgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvblxuICAgIGlzUGFzc2l2ZUV2ZW50U3VwcG9ydGVkOiB0cnVlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRlbXBsYXRlUmVmc0xpc3QoKSB7XG4gIGNvbnN0IHJlZnMgPSByZWYoW10pO1xuICByZWZzLnZhbHVlLnNldCA9IChlbCkgPT4ge1xuICAgIGlmIChlbClcbiAgICAgIHJlZnMudmFsdWUucHVzaChlbCk7XG4gIH07XG4gIG9uQmVmb3JlVXBkYXRlKCgpID0+IHtcbiAgICByZWZzLnZhbHVlLmxlbmd0aCA9IDA7XG4gIH0pO1xuICByZXR1cm4gcmVmcztcbn1cblxuZnVuY3Rpb24gdXNlVGV4dERpcmVjdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50LFxuICAgIHNlbGVjdG9yID0gXCJodG1sXCIsXG4gICAgb2JzZXJ2ZSA9IGZhbHNlLFxuICAgIGluaXRpYWxWYWx1ZSA9IFwibHRyXCJcbiAgfSA9IG9wdGlvbnM7XG4gIGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmdldEF0dHJpYnV0ZShcImRpclwiKSkgIT0gbnVsbCA/IF9iIDogaW5pdGlhbFZhbHVlO1xuICB9XG4gIGNvbnN0IGRpciA9IHJlZihnZXRWYWx1ZSgpKTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IGRpci52YWx1ZSA9IGdldFZhbHVlKCkpO1xuICBpZiAob2JzZXJ2ZSAmJiBkb2N1bWVudCkge1xuICAgIHVzZU11dGF0aW9uT2JzZXJ2ZXIoXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcbiAgICAgICgpID0+IGRpci52YWx1ZSA9IGdldFZhbHVlKCksXG4gICAgICB7IGF0dHJpYnV0ZXM6IHRydWUgfVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gZGlyLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBkaXIudmFsdWUgPSB2O1xuICAgICAgaWYgKCFkb2N1bWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKGRpci52YWx1ZSlcbiAgICAgICAgKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zZXRBdHRyaWJ1dGUoXCJkaXJcIiwgZGlyLnZhbHVlKTtcbiAgICAgIGVsc2VcbiAgICAgICAgKF9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpID09IG51bGwgPyB2b2lkIDAgOiBfYi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZ2VzRnJvbVNlbGVjdGlvbihzZWxlY3Rpb24pIHtcbiAgdmFyIF9hO1xuICBjb25zdCByYW5nZUNvdW50ID0gKF9hID0gc2VsZWN0aW9uLnJhbmdlQ291bnQpICE9IG51bGwgPyBfYSA6IDA7XG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiByYW5nZUNvdW50IH0sIChfLCBpKSA9PiBzZWxlY3Rpb24uZ2V0UmFuZ2VBdChpKSk7XG59XG5mdW5jdGlvbiB1c2VUZXh0U2VsZWN0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc2VsZWN0aW9uID0gcmVmKG51bGwpO1xuICBjb25zdCB0ZXh0ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IHNlbGVjdGlvbi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gIH0pO1xuICBjb25zdCByYW5nZXMgPSBjb21wdXRlZCgoKSA9PiBzZWxlY3Rpb24udmFsdWUgPyBnZXRSYW5nZXNGcm9tU2VsZWN0aW9uKHNlbGVjdGlvbi52YWx1ZSkgOiBbXSk7XG4gIGNvbnN0IHJlY3RzID0gY29tcHV0ZWQoKCkgPT4gcmFuZ2VzLnZhbHVlLm1hcCgocmFuZ2UpID0+IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSk7XG4gIGZ1bmN0aW9uIG9uU2VsZWN0aW9uQ2hhbmdlKCkge1xuICAgIHNlbGVjdGlvbi52YWx1ZSA9IG51bGw7XG4gICAgaWYgKHdpbmRvdylcbiAgICAgIHNlbGVjdGlvbi52YWx1ZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAod2luZG93KVxuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCBcInNlbGVjdGlvbmNoYW5nZVwiLCBvblNlbGVjdGlvbkNoYW5nZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICByZXR1cm4ge1xuICAgIHRleHQsXG4gICAgcmVjdHMsXG4gICAgcmFuZ2VzLFxuICAgIHNlbGVjdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiB0cnlSZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2luZG93ID0gZGVmYXVsdFdpbmRvdywgZm4pIHtcbiAgaWYgKHdpbmRvdyAmJiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gIH0gZWxzZSB7XG4gICAgZm4oKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlVGV4dGFyZWFBdXRvc2l6ZShvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBjb25zdCB0ZXh0YXJlYSA9IHRvUmVmKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCk7XG4gIGNvbnN0IGlucHV0ID0gdG9SZWYoKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbnB1dCkgIT0gbnVsbCA/IF9hIDogXCJcIik7XG4gIGNvbnN0IHN0eWxlUHJvcCA9IChfYiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc3R5bGVQcm9wKSAhPSBudWxsID8gX2IgOiBcImhlaWdodFwiO1xuICBjb25zdCB0ZXh0YXJlYVNjcm9sbEhlaWdodCA9IHNoYWxsb3dSZWYoMSk7XG4gIGNvbnN0IHRleHRhcmVhT2xkV2lkdGggPSBzaGFsbG93UmVmKDApO1xuICBmdW5jdGlvbiB0cmlnZ2VyUmVzaXplKCkge1xuICAgIHZhciBfYTI7XG4gICAgaWYgKCF0ZXh0YXJlYS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgaGVpZ2h0ID0gXCJcIjtcbiAgICB0ZXh0YXJlYS52YWx1ZS5zdHlsZVtzdHlsZVByb3BdID0gXCIxcHhcIjtcbiAgICB0ZXh0YXJlYVNjcm9sbEhlaWdodC52YWx1ZSA9IChfYTIgPSB0ZXh0YXJlYS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5zY3JvbGxIZWlnaHQ7XG4gICAgY29uc3QgX3N0eWxlVGFyZ2V0ID0gdG9WYWx1ZShvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnN0eWxlVGFyZ2V0KTtcbiAgICBpZiAoX3N0eWxlVGFyZ2V0KVxuICAgICAgX3N0eWxlVGFyZ2V0LnN0eWxlW3N0eWxlUHJvcF0gPSBgJHt0ZXh0YXJlYVNjcm9sbEhlaWdodC52YWx1ZX1weGA7XG4gICAgZWxzZVxuICAgICAgaGVpZ2h0ID0gYCR7dGV4dGFyZWFTY3JvbGxIZWlnaHQudmFsdWV9cHhgO1xuICAgIHRleHRhcmVhLnZhbHVlLnN0eWxlW3N0eWxlUHJvcF0gPSBoZWlnaHQ7XG4gIH1cbiAgd2F0Y2goW2lucHV0LCB0ZXh0YXJlYV0sICgpID0+IG5leHRUaWNrKHRyaWdnZXJSZXNpemUpLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgd2F0Y2godGV4dGFyZWFTY3JvbGxIZWlnaHQsICgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vblJlc2l6ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG9wdGlvbnMpO1xuICB9KTtcbiAgdXNlUmVzaXplT2JzZXJ2ZXIodGV4dGFyZWEsIChbeyBjb250ZW50UmVjdCB9XSkgPT4ge1xuICAgIGlmICh0ZXh0YXJlYU9sZFdpZHRoLnZhbHVlID09PSBjb250ZW50UmVjdC53aWR0aClcbiAgICAgIHJldHVybjtcbiAgICB0cnlSZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2luZG93LCAoKSA9PiB7XG4gICAgICB0ZXh0YXJlYU9sZFdpZHRoLnZhbHVlID0gY29udGVudFJlY3Qud2lkdGg7XG4gICAgICB0cmlnZ2VyUmVzaXplKCk7XG4gICAgfSk7XG4gIH0pO1xuICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy53YXRjaClcbiAgICB3YXRjaChvcHRpb25zLndhdGNoLCB0cmlnZ2VyUmVzaXplLCB7IGltbWVkaWF0ZTogdHJ1ZSwgZGVlcDogdHJ1ZSB9KTtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0YXJlYSxcbiAgICBpbnB1dCxcbiAgICB0cmlnZ2VyUmVzaXplXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRocm90dGxlZFJlZkhpc3Rvcnkoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB0aHJvdHRsZSA9IDIwMCwgdHJhaWxpbmcgPSB0cnVlIH0gPSBvcHRpb25zO1xuICBjb25zdCBmaWx0ZXIgPSB0aHJvdHRsZUZpbHRlcih0aHJvdHRsZSwgdHJhaWxpbmcpO1xuICBjb25zdCBoaXN0b3J5ID0gdXNlUmVmSGlzdG9yeShzb3VyY2UsIHsgLi4ub3B0aW9ucywgZXZlbnRGaWx0ZXI6IGZpbHRlciB9KTtcbiAgcmV0dXJuIHtcbiAgICAuLi5oaXN0b3J5XG4gIH07XG59XG5cbmNvbnN0IERFRkFVTFRfVU5JVFMgPSBbXG4gIHsgbWF4OiA2ZTQsIHZhbHVlOiAxZTMsIG5hbWU6IFwic2Vjb25kXCIgfSxcbiAgeyBtYXg6IDI3NmU0LCB2YWx1ZTogNmU0LCBuYW1lOiBcIm1pbnV0ZVwiIH0sXG4gIHsgbWF4OiA3MmU2LCB2YWx1ZTogMzZlNSwgbmFtZTogXCJob3VyXCIgfSxcbiAgeyBtYXg6IDUxODRlNSwgdmFsdWU6IDg2NGU1LCBuYW1lOiBcImRheVwiIH0sXG4gIHsgbWF4OiAyNDE5MmU1LCB2YWx1ZTogNjA0OGU1LCBuYW1lOiBcIndlZWtcIiB9LFxuICB7IG1heDogMjg1MTJlNiwgdmFsdWU6IDI1OTJlNiwgbmFtZTogXCJtb250aFwiIH0sXG4gIHsgbWF4OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHZhbHVlOiAzMTUzNmU2LCBuYW1lOiBcInllYXJcIiB9XG5dO1xuY29uc3QgREVGQVVMVF9NRVNTQUdFUyA9IHtcbiAganVzdE5vdzogXCJqdXN0IG5vd1wiLFxuICBwYXN0OiAobikgPT4gbi5tYXRjaCgvXFxkLykgPyBgJHtufSBhZ29gIDogbixcbiAgZnV0dXJlOiAobikgPT4gbi5tYXRjaCgvXFxkLykgPyBgaW4gJHtufWAgOiBuLFxuICBtb250aDogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJsYXN0IG1vbnRoXCIgOiBcIm5leHQgbW9udGhcIiA6IGAke259IG1vbnRoJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICB5ZWFyOiAobiwgcGFzdCkgPT4gbiA9PT0gMSA/IHBhc3QgPyBcImxhc3QgeWVhclwiIDogXCJuZXh0IHllYXJcIiA6IGAke259IHllYXIke24gPiAxID8gXCJzXCIgOiBcIlwifWAsXG4gIGRheTogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJ5ZXN0ZXJkYXlcIiA6IFwidG9tb3Jyb3dcIiA6IGAke259IGRheSR7biA+IDEgPyBcInNcIiA6IFwiXCJ9YCxcbiAgd2VlazogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJsYXN0IHdlZWtcIiA6IFwibmV4dCB3ZWVrXCIgOiBgJHtufSB3ZWVrJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICBob3VyOiAobikgPT4gYCR7bn0gaG91ciR7biA+IDEgPyBcInNcIiA6IFwiXCJ9YCxcbiAgbWludXRlOiAobikgPT4gYCR7bn0gbWludXRlJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICBzZWNvbmQ6IChuKSA9PiBgJHtufSBzZWNvbmQke24gPiAxID8gXCJzXCIgOiBcIlwifWAsXG4gIGludmFsaWQ6IFwiXCJcbn07XG5mdW5jdGlvbiBERUZBVUxUX0ZPUk1BVFRFUihkYXRlKSB7XG4gIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xufVxuZnVuY3Rpb24gdXNlVGltZUFnbyh0aW1lLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGNvbnRyb2xzOiBleHBvc2VDb250cm9scyA9IGZhbHNlLFxuICAgIHVwZGF0ZUludGVydmFsID0gM2U0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7IG5vdywgLi4uY29udHJvbHMgfSA9IHVzZU5vdyh7IGludGVydmFsOiB1cGRhdGVJbnRlcnZhbCwgY29udHJvbHM6IHRydWUgfSk7XG4gIGNvbnN0IHRpbWVBZ28gPSBjb21wdXRlZCgoKSA9PiBmb3JtYXRUaW1lQWdvKG5ldyBEYXRlKHRvVmFsdWUodGltZSkpLCBvcHRpb25zLCB0b1ZhbHVlKG5vdykpKTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVBZ28sXG4gICAgICAuLi5jb250cm9sc1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRpbWVBZ287XG4gIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdFRpbWVBZ28oZnJvbSwgb3B0aW9ucyA9IHt9LCBub3cgPSBEYXRlLm5vdygpKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIG1heCxcbiAgICBtZXNzYWdlcyA9IERFRkFVTFRfTUVTU0FHRVMsXG4gICAgZnVsbERhdGVGb3JtYXR0ZXIgPSBERUZBVUxUX0ZPUk1BVFRFUixcbiAgICB1bml0cyA9IERFRkFVTFRfVU5JVFMsXG4gICAgc2hvd1NlY29uZCA9IGZhbHNlLFxuICAgIHJvdW5kaW5nID0gXCJyb3VuZFwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByb3VuZEZuID0gdHlwZW9mIHJvdW5kaW5nID09PSBcIm51bWJlclwiID8gKG4pID0+ICtuLnRvRml4ZWQocm91bmRpbmcpIDogTWF0aFtyb3VuZGluZ107XG4gIGNvbnN0IGRpZmYgPSArbm93IC0gK2Zyb207XG4gIGNvbnN0IGFic0RpZmYgPSBNYXRoLmFicyhkaWZmKTtcbiAgZnVuY3Rpb24gZ2V0VmFsdWUoZGlmZjIsIHVuaXQpIHtcbiAgICByZXR1cm4gcm91bmRGbihNYXRoLmFicyhkaWZmMikgLyB1bml0LnZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXQoZGlmZjIsIHVuaXQpIHtcbiAgICBjb25zdCB2YWwgPSBnZXRWYWx1ZShkaWZmMiwgdW5pdCk7XG4gICAgY29uc3QgcGFzdCA9IGRpZmYyID4gMDtcbiAgICBjb25zdCBzdHIgPSBhcHBseUZvcm1hdCh1bml0Lm5hbWUsIHZhbCwgcGFzdCk7XG4gICAgcmV0dXJuIGFwcGx5Rm9ybWF0KHBhc3QgPyBcInBhc3RcIiA6IFwiZnV0dXJlXCIsIHN0ciwgcGFzdCk7XG4gIH1cbiAgZnVuY3Rpb24gYXBwbHlGb3JtYXQobmFtZSwgdmFsLCBpc1Bhc3QpIHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBtZXNzYWdlc1tuYW1lXTtcbiAgICBpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgcmV0dXJuIGZvcm1hdHRlcih2YWwsIGlzUGFzdCk7XG4gICAgcmV0dXJuIGZvcm1hdHRlci5yZXBsYWNlKFwiezB9XCIsIHZhbC50b1N0cmluZygpKTtcbiAgfVxuICBpZiAoYWJzRGlmZiA8IDZlNCAmJiAhc2hvd1NlY29uZClcbiAgICByZXR1cm4gbWVzc2FnZXMuanVzdE5vdztcbiAgaWYgKHR5cGVvZiBtYXggPT09IFwibnVtYmVyXCIgJiYgYWJzRGlmZiA+IG1heClcbiAgICByZXR1cm4gZnVsbERhdGVGb3JtYXR0ZXIobmV3IERhdGUoZnJvbSkpO1xuICBpZiAodHlwZW9mIG1heCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHVuaXRNYXggPSAoX2EgPSB1bml0cy5maW5kKChpKSA9PiBpLm5hbWUgPT09IG1heCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tYXg7XG4gICAgaWYgKHVuaXRNYXggJiYgYWJzRGlmZiA+IHVuaXRNYXgpXG4gICAgICByZXR1cm4gZnVsbERhdGVGb3JtYXR0ZXIobmV3IERhdGUoZnJvbSkpO1xuICB9XG4gIGZvciAoY29uc3QgW2lkeCwgdW5pdF0gb2YgdW5pdHMuZW50cmllcygpKSB7XG4gICAgY29uc3QgdmFsID0gZ2V0VmFsdWUoZGlmZiwgdW5pdCk7XG4gICAgaWYgKHZhbCA8PSAwICYmIHVuaXRzW2lkeCAtIDFdKVxuICAgICAgcmV0dXJuIGZvcm1hdChkaWZmLCB1bml0c1tpZHggLSAxXSk7XG4gICAgaWYgKGFic0RpZmYgPCB1bml0Lm1heClcbiAgICAgIHJldHVybiBmb3JtYXQoZGlmZiwgdW5pdCk7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2VzLmludmFsaWQ7XG59XG5cbmZ1bmN0aW9uIHVzZVRpbWVvdXRQb2xsKGZuLCBpbnRlcnZhbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGltbWVkaWF0ZUNhbGxiYWNrID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHsgc3RhcnQgfSA9IHVzZVRpbWVvdXRGbihsb29wLCBpbnRlcnZhbCwgeyBpbW1lZGlhdGUgfSk7XG4gIGNvbnN0IGlzQWN0aXZlID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGFzeW5jIGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgaWYgKCFpc0FjdGl2ZS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBhd2FpdCBmbigpO1xuICAgIHN0YXJ0KCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgIGlmICghaXNBY3RpdmUudmFsdWUpIHtcbiAgICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGlmIChpbW1lZGlhdGVDYWxsYmFjaylcbiAgICAgICAgZm4oKTtcbiAgICAgIHN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSAmJiBpc0NsaWVudClcbiAgICByZXN1bWUoKTtcbiAgdHJ5T25TY29wZURpc3Bvc2UocGF1c2UpO1xuICByZXR1cm4ge1xuICAgIGlzQWN0aXZlLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VUaW1lc3RhbXAob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBvZmZzZXQgPSAwLFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgaW50ZXJ2YWwgPSBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiLFxuICAgIGNhbGxiYWNrXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0cyA9IHNoYWxsb3dSZWYodGltZXN0YW1wKCkgKyBvZmZzZXQpO1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiB0cy52YWx1ZSA9IHRpbWVzdGFtcCgpICsgb2Zmc2V0O1xuICBjb25zdCBjYiA9IGNhbGxiYWNrID8gKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICAgIGNhbGxiYWNrKHRzLnZhbHVlKTtcbiAgfSA6IHVwZGF0ZTtcbiAgY29uc3QgY29udHJvbHMgPSBpbnRlcnZhbCA9PT0gXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiA/IHVzZVJhZkZuKGNiLCB7IGltbWVkaWF0ZSB9KSA6IHVzZUludGVydmFsRm4oY2IsIGludGVydmFsLCB7IGltbWVkaWF0ZSB9KTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVzdGFtcDogdHMsXG4gICAgICAuLi5jb250cm9sc1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRzO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVRpdGxlKG5ld1RpdGxlID0gbnVsbCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCB7XG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnQsXG4gICAgcmVzdG9yZU9uVW5tb3VudCA9ICh0KSA9PiB0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBvcmlnaW5hbFRpdGxlID0gKF9hID0gZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LnRpdGxlKSAhPSBudWxsID8gX2EgOiBcIlwiO1xuICBjb25zdCB0aXRsZSA9IHRvUmVmKChfYiA9IG5ld1RpdGxlICE9IG51bGwgPyBuZXdUaXRsZSA6IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC50aXRsZSkgIT0gbnVsbCA/IF9iIDogbnVsbCk7XG4gIGNvbnN0IGlzUmVhZG9ubHkgPSAhIShuZXdUaXRsZSAmJiB0eXBlb2YgbmV3VGl0bGUgPT09IFwiZnVuY3Rpb25cIik7XG4gIGZ1bmN0aW9uIGZvcm1hdCh0KSB7XG4gICAgaWYgKCEoXCJ0aXRsZVRlbXBsYXRlXCIgaW4gb3B0aW9ucykpXG4gICAgICByZXR1cm4gdDtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IG9wdGlvbnMudGl0bGVUZW1wbGF0ZSB8fCBcIiVzXCI7XG4gICAgcmV0dXJuIHR5cGVvZiB0ZW1wbGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gdGVtcGxhdGUodCkgOiB0b1ZhbHVlKHRlbXBsYXRlKS5yZXBsYWNlKC8lcy9nLCB0KTtcbiAgfVxuICB3YXRjaChcbiAgICB0aXRsZSxcbiAgICAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmIGRvY3VtZW50KVxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IGZvcm1hdChuZXdWYWx1ZSAhPSBudWxsID8gbmV3VmFsdWUgOiBcIlwiKTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgaWYgKG9wdGlvbnMub2JzZXJ2ZSAmJiAhb3B0aW9ucy50aXRsZVRlbXBsYXRlICYmIGRvY3VtZW50ICYmICFpc1JlYWRvbmx5KSB7XG4gICAgdXNlTXV0YXRpb25PYnNlcnZlcihcbiAgICAgIChfYyA9IGRvY3VtZW50LmhlYWQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5xdWVyeVNlbGVjdG9yKFwidGl0bGVcIiksXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC50aXRsZSAhPT0gdGl0bGUudmFsdWUpXG4gICAgICAgICAgdGl0bGUudmFsdWUgPSBmb3JtYXQoZG9jdW1lbnQudGl0bGUpO1xuICAgICAgfSxcbiAgICAgIHsgY2hpbGRMaXN0OiB0cnVlIH1cbiAgICApO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBpZiAocmVzdG9yZU9uVW5tb3VudCkge1xuICAgICAgY29uc3QgcmVzdG9yZWRUaXRsZSA9IHJlc3RvcmVPblVubW91bnQob3JpZ2luYWxUaXRsZSwgdGl0bGUudmFsdWUgfHwgXCJcIik7XG4gICAgICBpZiAocmVzdG9yZWRUaXRsZSAhPSBudWxsICYmIGRvY3VtZW50KVxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHJlc3RvcmVkVGl0bGU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRpdGxlO1xufVxuXG5jb25zdCBfVHJhbnNpdGlvblByZXNldHMgPSB7XG4gIGVhc2VJblNpbmU6IFswLjEyLCAwLCAwLjM5LCAwXSxcbiAgZWFzZU91dFNpbmU6IFswLjYxLCAxLCAwLjg4LCAxXSxcbiAgZWFzZUluT3V0U2luZTogWzAuMzcsIDAsIDAuNjMsIDFdLFxuICBlYXNlSW5RdWFkOiBbMC4xMSwgMCwgMC41LCAwXSxcbiAgZWFzZU91dFF1YWQ6IFswLjUsIDEsIDAuODksIDFdLFxuICBlYXNlSW5PdXRRdWFkOiBbMC40NSwgMCwgMC41NSwgMV0sXG4gIGVhc2VJbkN1YmljOiBbMC4zMiwgMCwgMC42NywgMF0sXG4gIGVhc2VPdXRDdWJpYzogWzAuMzMsIDEsIDAuNjgsIDFdLFxuICBlYXNlSW5PdXRDdWJpYzogWzAuNjUsIDAsIDAuMzUsIDFdLFxuICBlYXNlSW5RdWFydDogWzAuNSwgMCwgMC43NSwgMF0sXG4gIGVhc2VPdXRRdWFydDogWzAuMjUsIDEsIDAuNSwgMV0sXG4gIGVhc2VJbk91dFF1YXJ0OiBbMC43NiwgMCwgMC4yNCwgMV0sXG4gIGVhc2VJblF1aW50OiBbMC42NCwgMCwgMC43OCwgMF0sXG4gIGVhc2VPdXRRdWludDogWzAuMjIsIDEsIDAuMzYsIDFdLFxuICBlYXNlSW5PdXRRdWludDogWzAuODMsIDAsIDAuMTcsIDFdLFxuICBlYXNlSW5FeHBvOiBbMC43LCAwLCAwLjg0LCAwXSxcbiAgZWFzZU91dEV4cG86IFswLjE2LCAxLCAwLjMsIDFdLFxuICBlYXNlSW5PdXRFeHBvOiBbMC44NywgMCwgMC4xMywgMV0sXG4gIGVhc2VJbkNpcmM6IFswLjU1LCAwLCAxLCAwLjQ1XSxcbiAgZWFzZU91dENpcmM6IFswLCAwLjU1LCAwLjQ1LCAxXSxcbiAgZWFzZUluT3V0Q2lyYzogWzAuODUsIDAsIDAuMTUsIDFdLFxuICBlYXNlSW5CYWNrOiBbMC4zNiwgMCwgMC42NiwgLTAuNTZdLFxuICBlYXNlT3V0QmFjazogWzAuMzQsIDEuNTYsIDAuNjQsIDFdLFxuICBlYXNlSW5PdXRCYWNrOiBbMC42OCwgLTAuNiwgMC4zMiwgMS42XVxufTtcbmNvbnN0IFRyYW5zaXRpb25QcmVzZXRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5hc3NpZ24oe30sIHsgbGluZWFyOiBpZGVudGl0eSB9LCBfVHJhbnNpdGlvblByZXNldHMpO1xuZnVuY3Rpb24gY3JlYXRlRWFzaW5nRnVuY3Rpb24oW3AwLCBwMSwgcDIsIHAzXSkge1xuICBjb25zdCBhID0gKGExLCBhMikgPT4gMSAtIDMgKiBhMiArIDMgKiBhMTtcbiAgY29uc3QgYiA9IChhMSwgYTIpID0+IDMgKiBhMiAtIDYgKiBhMTtcbiAgY29uc3QgYyA9IChhMSkgPT4gMyAqIGExO1xuICBjb25zdCBjYWxjQmV6aWVyID0gKHQsIGExLCBhMikgPT4gKChhKGExLCBhMikgKiB0ICsgYihhMSwgYTIpKSAqIHQgKyBjKGExKSkgKiB0O1xuICBjb25zdCBnZXRTbG9wZSA9ICh0LCBhMSwgYTIpID0+IDMgKiBhKGExLCBhMikgKiB0ICogdCArIDIgKiBiKGExLCBhMikgKiB0ICsgYyhhMSk7XG4gIGNvbnN0IGdldFRmb3JYID0gKHgpID0+IHtcbiAgICBsZXQgYUd1ZXNzVCA9IHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIHAwLCBwMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwKVxuICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgIGNvbnN0IGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBwMCwgcDIpIC0geDtcbiAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xuICB9O1xuICByZXR1cm4gKHgpID0+IHAwID09PSBwMSAmJiBwMiA9PT0gcDMgPyB4IDogY2FsY0JlemllcihnZXRUZm9yWCh4KSwgcDEsIHAzKTtcbn1cbmZ1bmN0aW9uIGxlcnAoYSwgYiwgYWxwaGEpIHtcbiAgcmV0dXJuIGEgKyBhbHBoYSAqIChiIC0gYSk7XG59XG5mdW5jdGlvbiB0b1ZlYyh0KSB7XG4gIHJldHVybiAodHlwZW9mIHQgPT09IFwibnVtYmVyXCIgPyBbdF0gOiB0KSB8fCBbXTtcbn1cbmZ1bmN0aW9uIGV4ZWN1dGVUcmFuc2l0aW9uKHNvdXJjZSwgZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBmcm9tVmFsID0gdG9WYWx1ZShmcm9tKTtcbiAgY29uc3QgdG9WYWwgPSB0b1ZhbHVlKHRvKTtcbiAgY29uc3QgdjEgPSB0b1ZlYyhmcm9tVmFsKTtcbiAgY29uc3QgdjIgPSB0b1ZlYyh0b1ZhbCk7XG4gIGNvbnN0IGR1cmF0aW9uID0gKF9hID0gdG9WYWx1ZShvcHRpb25zLmR1cmF0aW9uKSkgIT0gbnVsbCA/IF9hIDogMWUzO1xuICBjb25zdCBzdGFydGVkQXQgPSBEYXRlLm5vdygpO1xuICBjb25zdCBlbmRBdCA9IERhdGUubm93KCkgKyBkdXJhdGlvbjtcbiAgY29uc3QgdHJhbnMgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2l0aW9uID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnRyYW5zaXRpb24gOiAoX2IgPSB0b1ZhbHVlKG9wdGlvbnMudHJhbnNpdGlvbikpICE9IG51bGwgPyBfYiA6IGlkZW50aXR5O1xuICBjb25zdCBlYXNlID0gdHlwZW9mIHRyYW5zID09PSBcImZ1bmN0aW9uXCIgPyB0cmFucyA6IGNyZWF0ZUVhc2luZ0Z1bmN0aW9uKHRyYW5zKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc291cmNlLnZhbHVlID0gZnJvbVZhbDtcbiAgICBjb25zdCB0aWNrID0gKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGlmICgoX2EyID0gb3B0aW9ucy5hYm9ydCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGFscGhhID0gZWFzZSgobm93IC0gc3RhcnRlZEF0KSAvIGR1cmF0aW9uKTtcbiAgICAgIGNvbnN0IGFyciA9IHRvVmVjKHNvdXJjZS52YWx1ZSkubWFwKChuLCBpKSA9PiBsZXJwKHYxW2ldLCB2MltpXSwgYWxwaGEpKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZS52YWx1ZSkpXG4gICAgICAgIHNvdXJjZS52YWx1ZSA9IGFyci5tYXAoKG4sIGkpID0+IHtcbiAgICAgICAgICB2YXIgX2EzLCBfYjI7XG4gICAgICAgICAgcmV0dXJuIGxlcnAoKF9hMyA9IHYxW2ldKSAhPSBudWxsID8gX2EzIDogMCwgKF9iMiA9IHYyW2ldKSAhPSBudWxsID8gX2IyIDogMCwgYWxwaGEpO1xuICAgICAgICB9KTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UudmFsdWUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgIHNvdXJjZS52YWx1ZSA9IGFyclswXTtcbiAgICAgIGlmIChub3cgPCBlbmRBdCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2UudmFsdWUgPSB0b1ZhbDtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGljaygpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IGN1cnJlbnRJZCA9IDA7XG4gIGNvbnN0IHNvdXJjZVZhbCA9ICgpID0+IHtcbiAgICBjb25zdCB2ID0gdG9WYWx1ZShzb3VyY2UpO1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIiA/IHYgOiB2Lm1hcCh0b1ZhbHVlKTtcbiAgfTtcbiAgY29uc3Qgb3V0cHV0UmVmID0gcmVmKHNvdXJjZVZhbCgpKTtcbiAgd2F0Y2goc291cmNlVmFsLCBhc3luYyAodG8pID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICh0b1ZhbHVlKG9wdGlvbnMuZGlzYWJsZWQpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gKytjdXJyZW50SWQ7XG4gICAgaWYgKG9wdGlvbnMuZGVsYXkpXG4gICAgICBhd2FpdCBwcm9taXNlVGltZW91dCh0b1ZhbHVlKG9wdGlvbnMuZGVsYXkpKTtcbiAgICBpZiAoaWQgIT09IGN1cnJlbnRJZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0b1ZhbCA9IEFycmF5LmlzQXJyYXkodG8pID8gdG8ubWFwKHRvVmFsdWUpIDogdG9WYWx1ZSh0byk7XG4gICAgKF9hID0gb3B0aW9ucy5vblN0YXJ0ZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMpO1xuICAgIGF3YWl0IGV4ZWN1dGVUcmFuc2l0aW9uKG91dHB1dFJlZiwgb3V0cHV0UmVmLnZhbHVlLCB0b1ZhbCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGFib3J0OiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiBpZCAhPT0gY3VycmVudElkIHx8ICgoX2EyID0gb3B0aW9ucy5hYm9ydCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAoX2IgPSBvcHRpb25zLm9uRmluaXNoZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKG9wdGlvbnMpO1xuICB9LCB7IGRlZXA6IHRydWUgfSk7XG4gIHdhdGNoKCgpID0+IHRvVmFsdWUob3B0aW9ucy5kaXNhYmxlZCksIChkaXNhYmxlZCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgY3VycmVudElkKys7XG4gICAgICBvdXRwdXRSZWYudmFsdWUgPSBzb3VyY2VWYWwoKTtcbiAgICB9XG4gIH0pO1xuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgY3VycmVudElkKys7XG4gIH0pO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZShvcHRpb25zLmRpc2FibGVkKSA/IHNvdXJjZVZhbCgpIDogb3V0cHV0UmVmLnZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdXNlVXJsU2VhcmNoUGFyYW1zKG1vZGUgPSBcImhpc3RvcnlcIiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbml0aWFsVmFsdWUgPSB7fSxcbiAgICByZW1vdmVOdWxsaXNoVmFsdWVzID0gdHJ1ZSxcbiAgICByZW1vdmVGYWxzeVZhbHVlcyA9IGZhbHNlLFxuICAgIHdyaXRlOiBlbmFibGVXcml0ZSA9IHRydWUsXG4gICAgd3JpdGVNb2RlID0gXCJyZXBsYWNlXCIsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuIHJlYWN0aXZlKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoe30pO1xuICBmdW5jdGlvbiBnZXRSYXdQYXJhbXMoKSB7XG4gICAgaWYgKG1vZGUgPT09IFwiaGlzdG9yeVwiKSB7XG4gICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCBcIlwiO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJoYXNoXCIpIHtcbiAgICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaCB8fCBcIlwiO1xuICAgICAgY29uc3QgaW5kZXggPSBoYXNoLmluZGV4T2YoXCI/XCIpO1xuICAgICAgcmV0dXJuIGluZGV4ID4gMCA/IGhhc2guc2xpY2UoaW5kZXgpIDogXCJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICh3aW5kb3cubG9jYXRpb24uaGFzaCB8fCBcIlwiKS5yZXBsYWNlKC9eIy8sIFwiXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjb25zdHJ1Y3RRdWVyeShwYXJhbXMpIHtcbiAgICBjb25zdCBzdHJpbmdpZmllZCA9IHBhcmFtcy50b1N0cmluZygpO1xuICAgIGlmIChtb2RlID09PSBcImhpc3RvcnlcIilcbiAgICAgIHJldHVybiBgJHtzdHJpbmdpZmllZCA/IGA/JHtzdHJpbmdpZmllZH1gIDogXCJcIn0ke3dpbmRvdy5sb2NhdGlvbi5oYXNoIHx8IFwiXCJ9YDtcbiAgICBpZiAobW9kZSA9PT0gXCJoYXNoLXBhcmFtc1wiKVxuICAgICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5zZWFyY2ggfHwgXCJcIn0ke3N0cmluZ2lmaWVkID8gYCMke3N0cmluZ2lmaWVkfWAgOiBcIlwifWA7XG4gICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoIHx8IFwiI1wiO1xuICAgIGNvbnN0IGluZGV4ID0gaGFzaC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoaW5kZXggPiAwKVxuICAgICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5zZWFyY2ggfHwgXCJcIn0ke2hhc2guc2xpY2UoMCwgaW5kZXgpfSR7c3RyaW5naWZpZWQgPyBgPyR7c3RyaW5naWZpZWR9YCA6IFwiXCJ9YDtcbiAgICByZXR1cm4gYCR7d2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCBcIlwifSR7aGFzaH0ke3N0cmluZ2lmaWVkID8gYD8ke3N0cmluZ2lmaWVkfWAgOiBcIlwifWA7XG4gIH1cbiAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhnZXRSYXdQYXJhbXMoKSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlU3RhdGUocGFyYW1zKSB7XG4gICAgY29uc3QgdW51c2VkS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoc3RhdGUpKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBwYXJhbXMua2V5cygpKSB7XG4gICAgICBjb25zdCBwYXJhbXNGb3JLZXkgPSBwYXJhbXMuZ2V0QWxsKGtleSk7XG4gICAgICBzdGF0ZVtrZXldID0gcGFyYW1zRm9yS2V5Lmxlbmd0aCA+IDEgPyBwYXJhbXNGb3JLZXkgOiBwYXJhbXMuZ2V0KGtleSkgfHwgXCJcIjtcbiAgICAgIHVudXNlZEtleXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIEFycmF5LmZyb20odW51c2VkS2V5cykuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGUgc3RhdGVba2V5XSk7XG4gIH1cbiAgY29uc3QgeyBwYXVzZSwgcmVzdW1lIH0gPSBwYXVzYWJsZVdhdGNoKFxuICAgIHN0YXRlLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoXCJcIik7XG4gICAgICBPYmplY3Qua2V5cyhzdGF0ZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcEVudHJ5ID0gc3RhdGVba2V5XTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWFwRW50cnkpKVxuICAgICAgICAgIG1hcEVudHJ5LmZvckVhY2goKHZhbHVlKSA9PiBwYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpKTtcbiAgICAgICAgZWxzZSBpZiAocmVtb3ZlTnVsbGlzaFZhbHVlcyAmJiBtYXBFbnRyeSA9PSBudWxsKVxuICAgICAgICAgIHBhcmFtcy5kZWxldGUoa2V5KTtcbiAgICAgICAgZWxzZSBpZiAocmVtb3ZlRmFsc3lWYWx1ZXMgJiYgIW1hcEVudHJ5KVxuICAgICAgICAgIHBhcmFtcy5kZWxldGUoa2V5KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHBhcmFtcy5zZXQoa2V5LCBtYXBFbnRyeSk7XG4gICAgICB9KTtcbiAgICAgIHdyaXRlKHBhcmFtcywgZmFsc2UpO1xuICAgIH0sXG4gICAgeyBkZWVwOiB0cnVlIH1cbiAgKTtcbiAgZnVuY3Rpb24gd3JpdGUocGFyYW1zLCBzaG91bGRVcGRhdGUpIHtcbiAgICBwYXVzZSgpO1xuICAgIGlmIChzaG91bGRVcGRhdGUpXG4gICAgICB1cGRhdGVTdGF0ZShwYXJhbXMpO1xuICAgIGlmICh3cml0ZU1vZGUgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnN0YXRlLFxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUsXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIGNvbnN0cnVjdFF1ZXJ5KHBhcmFtcylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcbiAgICAgICAgd2luZG93Lmhpc3Rvcnkuc3RhdGUsXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSxcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgY29uc3RydWN0UXVlcnkocGFyYW1zKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmVzdW1lKCk7XG4gIH1cbiAgZnVuY3Rpb24gb25DaGFuZ2VkKCkge1xuICAgIGlmICghZW5hYmxlV3JpdGUpXG4gICAgICByZXR1cm47XG4gICAgd3JpdGUocmVhZCgpLCB0cnVlKTtcbiAgfVxuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwicG9wc3RhdGVcIiwgb25DaGFuZ2VkLCBsaXN0ZW5lck9wdGlvbnMpO1xuICBpZiAobW9kZSAhPT0gXCJoaXN0b3J5XCIpXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiaGFzaGNoYW5nZVwiLCBvbkNoYW5nZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGNvbnN0IGluaXRpYWwgPSByZWFkKCk7XG4gIGlmIChpbml0aWFsLmtleXMoKS5uZXh0KCkudmFsdWUpXG4gICAgdXBkYXRlU3RhdGUoaW5pdGlhbCk7XG4gIGVsc2VcbiAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBpbml0aWFsVmFsdWUpO1xuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHVzZVVzZXJNZWRpYShvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgZW5hYmxlZCA9IHNoYWxsb3dSZWYoKF9hID0gb3B0aW9ucy5lbmFibGVkKSAhPSBudWxsID8gX2EgOiBmYWxzZSk7XG4gIGNvbnN0IGF1dG9Td2l0Y2ggPSBzaGFsbG93UmVmKChfYiA9IG9wdGlvbnMuYXV0b1N3aXRjaCkgIT0gbnVsbCA/IF9iIDogdHJ1ZSk7XG4gIGNvbnN0IGNvbnN0cmFpbnRzID0gcmVmKG9wdGlvbnMuY29uc3RyYWludHMpO1xuICBjb25zdCB7IG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gbmF2aWdhdG9yID09IG51bGwgPyB2b2lkIDAgOiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmdldFVzZXJNZWRpYTtcbiAgfSk7XG4gIGNvbnN0IHN0cmVhbSA9IHNoYWxsb3dSZWYoKTtcbiAgZnVuY3Rpb24gZ2V0RGV2aWNlT3B0aW9ucyh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidmlkZW9cIjoge1xuICAgICAgICBpZiAoY29uc3RyYWludHMudmFsdWUpXG4gICAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnRzLnZhbHVlLnZpZGVvIHx8IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhdWRpb1wiOiB7XG4gICAgICAgIGlmIChjb25zdHJhaW50cy52YWx1ZSlcbiAgICAgICAgICByZXR1cm4gY29uc3RyYWludHMudmFsdWUuYXVkaW8gfHwgZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBfc3RhcnQoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCBzdHJlYW0udmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgc3RyZWFtLnZhbHVlID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgdmlkZW86IGdldERldmljZU9wdGlvbnMoXCJ2aWRlb1wiKSxcbiAgICAgIGF1ZGlvOiBnZXREZXZpY2VPcHRpb25zKFwiYXVkaW9cIilcbiAgICB9KTtcbiAgICByZXR1cm4gc3RyZWFtLnZhbHVlO1xuICB9XG4gIGZ1bmN0aW9uIF9zdG9wKCkge1xuICAgIHZhciBfYTI7XG4gICAgKF9hMiA9IHN0cmVhbS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB0LnN0b3AoKSk7XG4gICAgc3RyZWFtLnZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgX3N0b3AoKTtcbiAgICBlbmFibGVkLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgYXdhaXQgX3N0YXJ0KCk7XG4gICAgaWYgKHN0cmVhbS52YWx1ZSlcbiAgICAgIGVuYWJsZWQudmFsdWUgPSB0cnVlO1xuICAgIHJldHVybiBzdHJlYW0udmFsdWU7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcmVzdGFydCgpIHtcbiAgICBfc3RvcCgpO1xuICAgIHJldHVybiBhd2FpdCBzdGFydCgpO1xuICB9XG4gIHdhdGNoKFxuICAgIGVuYWJsZWQsXG4gICAgKHYpID0+IHtcbiAgICAgIGlmICh2KVxuICAgICAgICBfc3RhcnQoKTtcbiAgICAgIGVsc2UgX3N0b3AoKTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgd2F0Y2goXG4gICAgY29uc3RyYWludHMsXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKGF1dG9Td2l0Y2gudmFsdWUgJiYgc3RyZWFtLnZhbHVlKVxuICAgICAgICByZXN0YXJ0KCk7XG4gICAgfSxcbiAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBzdG9wKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0cmVhbSxcbiAgICBzdGFydCxcbiAgICBzdG9wLFxuICAgIHJlc3RhcnQsXG4gICAgY29uc3RyYWludHMsXG4gICAgZW5hYmxlZCxcbiAgICBhdXRvU3dpdGNoXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVZNb2RlbChwcm9wcywga2V5LCBlbWl0LCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IHtcbiAgICBjbG9uZSA9IGZhbHNlLFxuICAgIHBhc3NpdmUgPSBmYWxzZSxcbiAgICBldmVudE5hbWUsXG4gICAgZGVlcCA9IGZhbHNlLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBzaG91bGRFbWl0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCBfZW1pdCA9IGVtaXQgfHwgKHZtID09IG51bGwgPyB2b2lkIDAgOiB2bS5lbWl0KSB8fCAoKF9hID0gdm0gPT0gbnVsbCA/IHZvaWQgMCA6IHZtLiRlbWl0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuYmluZCh2bSkpIHx8ICgoX2MgPSAoX2IgPSB2bSA9PSBudWxsID8gdm9pZCAwIDogdm0ucHJveHkpID09IG51bGwgPyB2b2lkIDAgOiBfYi4kZW1pdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmJpbmQodm0gPT0gbnVsbCA/IHZvaWQgMCA6IHZtLnByb3h5KSk7XG4gIGxldCBldmVudCA9IGV2ZW50TmFtZTtcbiAgaWYgKCFrZXkpIHtcbiAgICBrZXkgPSBcIm1vZGVsVmFsdWVcIjtcbiAgfVxuICBldmVudCA9IGV2ZW50IHx8IGB1cGRhdGU6JHtrZXkudG9TdHJpbmcoKX1gO1xuICBjb25zdCBjbG9uZUZuID0gKHZhbCkgPT4gIWNsb25lID8gdmFsIDogdHlwZW9mIGNsb25lID09PSBcImZ1bmN0aW9uXCIgPyBjbG9uZSh2YWwpIDogY2xvbmVGbkpTT04odmFsKTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiBpc0RlZihwcm9wc1trZXldKSA/IGNsb25lRm4ocHJvcHNba2V5XSkgOiBkZWZhdWx0VmFsdWU7XG4gIGNvbnN0IHRyaWdnZXJFbWl0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHNob3VsZEVtaXQpIHtcbiAgICAgIGlmIChzaG91bGRFbWl0KHZhbHVlKSlcbiAgICAgICAgX2VtaXQoZXZlbnQsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2VtaXQoZXZlbnQsIHZhbHVlKTtcbiAgICB9XG4gIH07XG4gIGlmIChwYXNzaXZlKSB7XG4gICAgY29uc3QgaW5pdGlhbFZhbHVlID0gZ2V0VmFsdWUoKTtcbiAgICBjb25zdCBwcm94eSA9IHJlZihpbml0aWFsVmFsdWUpO1xuICAgIGxldCBpc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgd2F0Y2goXG4gICAgICAoKSA9PiBwcm9wc1trZXldLFxuICAgICAgKHYpID0+IHtcbiAgICAgICAgaWYgKCFpc1VwZGF0aW5nKSB7XG4gICAgICAgICAgaXNVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgcHJveHkudmFsdWUgPSBjbG9uZUZuKHYpO1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IGlzVXBkYXRpbmcgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHdhdGNoKFxuICAgICAgcHJveHksXG4gICAgICAodikgPT4ge1xuICAgICAgICBpZiAoIWlzVXBkYXRpbmcgJiYgKHYgIT09IHByb3BzW2tleV0gfHwgZGVlcCkpXG4gICAgICAgICAgdHJpZ2dlckVtaXQodik7XG4gICAgICB9LFxuICAgICAgeyBkZWVwIH1cbiAgICApO1xuICAgIHJldHVybiBwcm94eTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoe1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gZ2V0VmFsdWUoKTtcbiAgICAgIH0sXG4gICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgdHJpZ2dlckVtaXQodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVZNb2RlbHMocHJvcHMsIGVtaXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICByZXRba2V5XSA9IHVzZVZNb2RlbChcbiAgICAgIHByb3BzLFxuICAgICAga2V5LFxuICAgICAgZW1pdCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHVzZVZpYnJhdGUob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcGF0dGVybiA9IFtdLFxuICAgIGludGVydmFsID0gMCxcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIFwidmlicmF0ZVwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IHBhdHRlcm5SZWYgPSB0b1JlZihwYXR0ZXJuKTtcbiAgbGV0IGludGVydmFsQ29udHJvbHM7XG4gIGNvbnN0IHZpYnJhdGUgPSAocGF0dGVybjIgPSBwYXR0ZXJuUmVmLnZhbHVlKSA9PiB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgbmF2aWdhdG9yLnZpYnJhdGUocGF0dGVybjIpO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIG5hdmlnYXRvci52aWJyYXRlKDApO1xuICAgIGludGVydmFsQ29udHJvbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVydmFsQ29udHJvbHMucGF1c2UoKTtcbiAgfTtcbiAgaWYgKGludGVydmFsID4gMCkge1xuICAgIGludGVydmFsQ29udHJvbHMgPSB1c2VJbnRlcnZhbEZuKFxuICAgICAgdmlicmF0ZSxcbiAgICAgIGludGVydmFsLFxuICAgICAge1xuICAgICAgICBpbW1lZGlhdGU6IGZhbHNlLFxuICAgICAgICBpbW1lZGlhdGVDYWxsYmFjazogZmFsc2VcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgcGF0dGVybixcbiAgICBpbnRlcnZhbENvbnRyb2xzLFxuICAgIHZpYnJhdGUsXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VWaXJ0dWFsTGlzdChsaXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgY29udGFpbmVyU3R5bGUsIHdyYXBwZXJQcm9wcywgc2Nyb2xsVG8sIGNhbGN1bGF0ZVJhbmdlLCBjdXJyZW50TGlzdCwgY29udGFpbmVyUmVmIH0gPSBcIml0ZW1IZWlnaHRcIiBpbiBvcHRpb25zID8gdXNlVmVydGljYWxWaXJ0dWFsTGlzdChvcHRpb25zLCBsaXN0KSA6IHVzZUhvcml6b250YWxWaXJ0dWFsTGlzdChvcHRpb25zLCBsaXN0KTtcbiAgcmV0dXJuIHtcbiAgICBsaXN0OiBjdXJyZW50TGlzdCxcbiAgICBzY3JvbGxUbyxcbiAgICBjb250YWluZXJQcm9wczoge1xuICAgICAgcmVmOiBjb250YWluZXJSZWYsXG4gICAgICBvblNjcm9sbDogKCkgPT4ge1xuICAgICAgICBjYWxjdWxhdGVSYW5nZSgpO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiBjb250YWluZXJTdHlsZVxuICAgIH0sXG4gICAgd3JhcHBlclByb3BzXG4gIH07XG59XG5mdW5jdGlvbiB1c2VWaXJ0dWFsTGlzdFJlc291cmNlcyhsaXN0KSB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IHNpemUgPSB1c2VFbGVtZW50U2l6ZShjb250YWluZXJSZWYpO1xuICBjb25zdCBjdXJyZW50TGlzdCA9IHJlZihbXSk7XG4gIGNvbnN0IHNvdXJjZSA9IHNoYWxsb3dSZWYobGlzdCk7XG4gIGNvbnN0IHN0YXRlID0gcmVmKHsgc3RhcnQ6IDAsIGVuZDogMTAgfSk7XG4gIHJldHVybiB7IHN0YXRlLCBzb3VyY2UsIGN1cnJlbnRMaXN0LCBzaXplLCBjb250YWluZXJSZWYgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdldFZpZXdDYXBhY2l0eShzdGF0ZSwgc291cmNlLCBpdGVtU2l6ZSkge1xuICByZXR1cm4gKGNvbnRhaW5lclNpemUpID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW1TaXplID09PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIE1hdGguY2VpbChjb250YWluZXJTaXplIC8gaXRlbVNpemUpO1xuICAgIGNvbnN0IHsgc3RhcnQgPSAwIH0gPSBzdGF0ZS52YWx1ZTtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBsZXQgY2FwYWNpdHkgPSAwO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IHNvdXJjZS52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2l6ZSA9IGl0ZW1TaXplKGkpO1xuICAgICAgc3VtICs9IHNpemU7XG4gICAgICBjYXBhY2l0eSA9IGk7XG4gICAgICBpZiAoc3VtID4gY29udGFpbmVyU2l6ZSlcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjYXBhY2l0eSAtIHN0YXJ0O1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlR2V0T2Zmc2V0KHNvdXJjZSwgaXRlbVNpemUpIHtcbiAgcmV0dXJuIChzY3JvbGxEaXJlY3Rpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW1TaXplID09PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIE1hdGguZmxvb3Ioc2Nyb2xsRGlyZWN0aW9uIC8gaXRlbVNpemUpICsgMTtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2l6ZSA9IGl0ZW1TaXplKGkpO1xuICAgICAgc3VtICs9IHNpemU7XG4gICAgICBpZiAoc3VtID49IHNjcm9sbERpcmVjdGlvbikge1xuICAgICAgICBvZmZzZXQgPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldCArIDE7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDYWxjdWxhdGVSYW5nZSh0eXBlLCBvdmVyc2NhbiwgZ2V0T2Zmc2V0LCBnZXRWaWV3Q2FwYWNpdHksIHsgY29udGFpbmVyUmVmLCBzdGF0ZSwgY3VycmVudExpc3QsIHNvdXJjZSB9KSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lclJlZi52YWx1ZTtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gZ2V0T2Zmc2V0KHR5cGUgPT09IFwidmVydGljYWxcIiA/IGVsZW1lbnQuc2Nyb2xsVG9wIDogZWxlbWVudC5zY3JvbGxMZWZ0KTtcbiAgICAgIGNvbnN0IHZpZXdDYXBhY2l0eSA9IGdldFZpZXdDYXBhY2l0eSh0eXBlID09PSBcInZlcnRpY2FsXCIgPyBlbGVtZW50LmNsaWVudEhlaWdodCA6IGVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICAgICAgY29uc3QgZnJvbSA9IG9mZnNldCAtIG92ZXJzY2FuO1xuICAgICAgY29uc3QgdG8gPSBvZmZzZXQgKyB2aWV3Q2FwYWNpdHkgKyBvdmVyc2NhbjtcbiAgICAgIHN0YXRlLnZhbHVlID0ge1xuICAgICAgICBzdGFydDogZnJvbSA8IDAgPyAwIDogZnJvbSxcbiAgICAgICAgZW5kOiB0byA+IHNvdXJjZS52YWx1ZS5sZW5ndGggPyBzb3VyY2UudmFsdWUubGVuZ3RoIDogdG9cbiAgICAgIH07XG4gICAgICBjdXJyZW50TGlzdC52YWx1ZSA9IHNvdXJjZS52YWx1ZS5zbGljZShzdGF0ZS52YWx1ZS5zdGFydCwgc3RhdGUudmFsdWUuZW5kKS5tYXAoKGVsZSwgaW5kZXgpID0+ICh7XG4gICAgICAgIGRhdGE6IGVsZSxcbiAgICAgICAgaW5kZXg6IGluZGV4ICsgc3RhdGUudmFsdWUuc3RhcnRcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVHZXREaXN0YW5jZShpdGVtU2l6ZSwgc291cmNlKSB7XG4gIHJldHVybiAoaW5kZXgpID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW1TaXplID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCBzaXplMiA9IGluZGV4ICogaXRlbVNpemU7XG4gICAgICByZXR1cm4gc2l6ZTI7XG4gICAgfVxuICAgIGNvbnN0IHNpemUgPSBzb3VyY2UudmFsdWUuc2xpY2UoMCwgaW5kZXgpLnJlZHVjZSgoc3VtLCBfLCBpKSA9PiBzdW0gKyBpdGVtU2l6ZShpKSwgMCk7XG4gICAgcmV0dXJuIHNpemU7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VXYXRjaEZvclNpemVzKHNpemUsIGxpc3QsIGNvbnRhaW5lclJlZiwgY2FsY3VsYXRlUmFuZ2UpIHtcbiAgd2F0Y2goW3NpemUud2lkdGgsIHNpemUuaGVpZ2h0LCBsaXN0LCBjb250YWluZXJSZWZdLCAoKSA9PiB7XG4gICAgY2FsY3VsYXRlUmFuZ2UoKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21wdXRlZFRvdGFsU2l6ZShpdGVtU2l6ZSwgc291cmNlKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpdGVtU2l6ZSA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzb3VyY2UudmFsdWUubGVuZ3RoICogaXRlbVNpemU7XG4gICAgcmV0dXJuIHNvdXJjZS52YWx1ZS5yZWR1Y2UoKHN1bSwgXywgaW5kZXgpID0+IHN1bSArIGl0ZW1TaXplKGluZGV4KSwgMCk7XG4gIH0pO1xufVxuY29uc3Qgc2Nyb2xsVG9EaWN0aW9uYXJ5Rm9yRWxlbWVudFNjcm9sbEtleSA9IHtcbiAgaG9yaXpvbnRhbDogXCJzY3JvbGxMZWZ0XCIsXG4gIHZlcnRpY2FsOiBcInNjcm9sbFRvcFwiXG59O1xuZnVuY3Rpb24gY3JlYXRlU2Nyb2xsVG8odHlwZSwgY2FsY3VsYXRlUmFuZ2UsIGdldERpc3RhbmNlLCBjb250YWluZXJSZWYpIHtcbiAgcmV0dXJuIChpbmRleCkgPT4ge1xuICAgIGlmIChjb250YWluZXJSZWYudmFsdWUpIHtcbiAgICAgIGNvbnRhaW5lclJlZi52YWx1ZVtzY3JvbGxUb0RpY3Rpb25hcnlGb3JFbGVtZW50U2Nyb2xsS2V5W3R5cGVdXSA9IGdldERpc3RhbmNlKGluZGV4KTtcbiAgICAgIGNhbGN1bGF0ZVJhbmdlKCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gdXNlSG9yaXpvbnRhbFZpcnR1YWxMaXN0KG9wdGlvbnMsIGxpc3QpIHtcbiAgY29uc3QgcmVzb3VyY2VzID0gdXNlVmlydHVhbExpc3RSZXNvdXJjZXMobGlzdCk7XG4gIGNvbnN0IHsgc3RhdGUsIHNvdXJjZSwgY3VycmVudExpc3QsIHNpemUsIGNvbnRhaW5lclJlZiB9ID0gcmVzb3VyY2VzO1xuICBjb25zdCBjb250YWluZXJTdHlsZSA9IHsgb3ZlcmZsb3dYOiBcImF1dG9cIiB9O1xuICBjb25zdCB7IGl0ZW1XaWR0aCwgb3ZlcnNjYW4gPSA1IH0gPSBvcHRpb25zO1xuICBjb25zdCBnZXRWaWV3Q2FwYWNpdHkgPSBjcmVhdGVHZXRWaWV3Q2FwYWNpdHkoc3RhdGUsIHNvdXJjZSwgaXRlbVdpZHRoKTtcbiAgY29uc3QgZ2V0T2Zmc2V0ID0gY3JlYXRlR2V0T2Zmc2V0KHNvdXJjZSwgaXRlbVdpZHRoKTtcbiAgY29uc3QgY2FsY3VsYXRlUmFuZ2UgPSBjcmVhdGVDYWxjdWxhdGVSYW5nZShcImhvcml6b250YWxcIiwgb3ZlcnNjYW4sIGdldE9mZnNldCwgZ2V0Vmlld0NhcGFjaXR5LCByZXNvdXJjZXMpO1xuICBjb25zdCBnZXREaXN0YW5jZUxlZnQgPSBjcmVhdGVHZXREaXN0YW5jZShpdGVtV2lkdGgsIHNvdXJjZSk7XG4gIGNvbnN0IG9mZnNldExlZnQgPSBjb21wdXRlZCgoKSA9PiBnZXREaXN0YW5jZUxlZnQoc3RhdGUudmFsdWUuc3RhcnQpKTtcbiAgY29uc3QgdG90YWxXaWR0aCA9IGNyZWF0ZUNvbXB1dGVkVG90YWxTaXplKGl0ZW1XaWR0aCwgc291cmNlKTtcbiAgdXNlV2F0Y2hGb3JTaXplcyhzaXplLCBsaXN0LCBjb250YWluZXJSZWYsIGNhbGN1bGF0ZVJhbmdlKTtcbiAgY29uc3Qgc2Nyb2xsVG8gPSBjcmVhdGVTY3JvbGxUbyhcImhvcml6b250YWxcIiwgY2FsY3VsYXRlUmFuZ2UsIGdldERpc3RhbmNlTGVmdCwgY29udGFpbmVyUmVmKTtcbiAgY29uc3Qgd3JhcHBlclByb3BzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICB3aWR0aDogYCR7dG90YWxXaWR0aC52YWx1ZSAtIG9mZnNldExlZnQudmFsdWV9cHhgLFxuICAgICAgICBtYXJnaW5MZWZ0OiBgJHtvZmZzZXRMZWZ0LnZhbHVlfXB4YCxcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxUbyxcbiAgICBjYWxjdWxhdGVSYW5nZSxcbiAgICB3cmFwcGVyUHJvcHMsXG4gICAgY29udGFpbmVyU3R5bGUsXG4gICAgY3VycmVudExpc3QsXG4gICAgY29udGFpbmVyUmVmXG4gIH07XG59XG5mdW5jdGlvbiB1c2VWZXJ0aWNhbFZpcnR1YWxMaXN0KG9wdGlvbnMsIGxpc3QpIHtcbiAgY29uc3QgcmVzb3VyY2VzID0gdXNlVmlydHVhbExpc3RSZXNvdXJjZXMobGlzdCk7XG4gIGNvbnN0IHsgc3RhdGUsIHNvdXJjZSwgY3VycmVudExpc3QsIHNpemUsIGNvbnRhaW5lclJlZiB9ID0gcmVzb3VyY2VzO1xuICBjb25zdCBjb250YWluZXJTdHlsZSA9IHsgb3ZlcmZsb3dZOiBcImF1dG9cIiB9O1xuICBjb25zdCB7IGl0ZW1IZWlnaHQsIG92ZXJzY2FuID0gNSB9ID0gb3B0aW9ucztcbiAgY29uc3QgZ2V0Vmlld0NhcGFjaXR5ID0gY3JlYXRlR2V0Vmlld0NhcGFjaXR5KHN0YXRlLCBzb3VyY2UsIGl0ZW1IZWlnaHQpO1xuICBjb25zdCBnZXRPZmZzZXQgPSBjcmVhdGVHZXRPZmZzZXQoc291cmNlLCBpdGVtSGVpZ2h0KTtcbiAgY29uc3QgY2FsY3VsYXRlUmFuZ2UgPSBjcmVhdGVDYWxjdWxhdGVSYW5nZShcInZlcnRpY2FsXCIsIG92ZXJzY2FuLCBnZXRPZmZzZXQsIGdldFZpZXdDYXBhY2l0eSwgcmVzb3VyY2VzKTtcbiAgY29uc3QgZ2V0RGlzdGFuY2VUb3AgPSBjcmVhdGVHZXREaXN0YW5jZShpdGVtSGVpZ2h0LCBzb3VyY2UpO1xuICBjb25zdCBvZmZzZXRUb3AgPSBjb21wdXRlZCgoKSA9PiBnZXREaXN0YW5jZVRvcChzdGF0ZS52YWx1ZS5zdGFydCkpO1xuICBjb25zdCB0b3RhbEhlaWdodCA9IGNyZWF0ZUNvbXB1dGVkVG90YWxTaXplKGl0ZW1IZWlnaHQsIHNvdXJjZSk7XG4gIHVzZVdhdGNoRm9yU2l6ZXMoc2l6ZSwgbGlzdCwgY29udGFpbmVyUmVmLCBjYWxjdWxhdGVSYW5nZSk7XG4gIGNvbnN0IHNjcm9sbFRvID0gY3JlYXRlU2Nyb2xsVG8oXCJ2ZXJ0aWNhbFwiLCBjYWxjdWxhdGVSYW5nZSwgZ2V0RGlzdGFuY2VUb3AsIGNvbnRhaW5lclJlZik7XG4gIGNvbnN0IHdyYXBwZXJQcm9wcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IGAke3RvdGFsSGVpZ2h0LnZhbHVlIC0gb2Zmc2V0VG9wLnZhbHVlfXB4YCxcbiAgICAgICAgbWFyZ2luVG9wOiBgJHtvZmZzZXRUb3AudmFsdWV9cHhgXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgY2FsY3VsYXRlUmFuZ2UsXG4gICAgc2Nyb2xsVG8sXG4gICAgY29udGFpbmVyU3R5bGUsXG4gICAgd3JhcHBlclByb3BzLFxuICAgIGN1cnJlbnRMaXN0LFxuICAgIGNvbnRhaW5lclJlZlxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VXYWtlTG9jayhvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IsXG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlcXVlc3RlZFR5cGUgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgc2VudGluZWwgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBkb2N1bWVudFZpc2liaWxpdHkgPSB1c2VEb2N1bWVudFZpc2liaWxpdHkoeyBkb2N1bWVudCB9KTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwid2FrZUxvY2tcIiBpbiBuYXZpZ2F0b3IpO1xuICBjb25zdCBpc0FjdGl2ZSA9IGNvbXB1dGVkKCgpID0+ICEhc2VudGluZWwudmFsdWUgJiYgZG9jdW1lbnRWaXNpYmlsaXR5LnZhbHVlID09PSBcInZpc2libGVcIik7XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoc2VudGluZWwsIFwicmVsZWFzZVwiLCAoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgcmVxdWVzdGVkVHlwZS52YWx1ZSA9IChfYiA9IChfYSA9IHNlbnRpbmVsLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHlwZSkgIT0gbnVsbCA/IF9iIDogZmFsc2U7XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIHdoZW5ldmVyKFxuICAgICAgKCkgPT4gZG9jdW1lbnRWaXNpYmlsaXR5LnZhbHVlID09PSBcInZpc2libGVcIiAmJiAoZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkgPT09IFwidmlzaWJsZVwiICYmIHJlcXVlc3RlZFR5cGUudmFsdWUsXG4gICAgICAodHlwZSkgPT4ge1xuICAgICAgICByZXF1ZXN0ZWRUeXBlLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIGZvcmNlUmVxdWVzdCh0eXBlKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGZvcmNlUmVxdWVzdCh0eXBlKSB7XG4gICAgdmFyIF9hO1xuICAgIGF3YWl0ICgoX2EgPSBzZW50aW5lbC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlbGVhc2UoKSk7XG4gICAgc2VudGluZWwudmFsdWUgPSBpc1N1cHBvcnRlZC52YWx1ZSA/IGF3YWl0IG5hdmlnYXRvci53YWtlTG9jay5yZXF1ZXN0KHR5cGUpIDogbnVsbDtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiByZXF1ZXN0KHR5cGUpIHtcbiAgICBpZiAoZG9jdW1lbnRWaXNpYmlsaXR5LnZhbHVlID09PSBcInZpc2libGVcIilcbiAgICAgIGF3YWl0IGZvcmNlUmVxdWVzdCh0eXBlKTtcbiAgICBlbHNlXG4gICAgICByZXF1ZXN0ZWRUeXBlLnZhbHVlID0gdHlwZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiByZWxlYXNlKCkge1xuICAgIHJlcXVlc3RlZFR5cGUudmFsdWUgPSBmYWxzZTtcbiAgICBjb25zdCBzID0gc2VudGluZWwudmFsdWU7XG4gICAgc2VudGluZWwudmFsdWUgPSBudWxsO1xuICAgIGF3YWl0IChzID09IG51bGwgPyB2b2lkIDAgOiBzLnJlbGVhc2UoKSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzZW50aW5lbCxcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBpc0FjdGl2ZSxcbiAgICByZXF1ZXN0LFxuICAgIGZvcmNlUmVxdWVzdCxcbiAgICByZWxlYXNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVdlYk5vdGlmaWNhdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgcmVxdWVzdFBlcm1pc3Npb25zOiBfcmVxdWVzdEZvclBlcm1pc3Npb25zID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZGVmYXVsdFdlYk5vdGlmaWNhdGlvbk9wdGlvbnMgPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cgfHwgIShcIk5vdGlmaWNhdGlvblwiIGluIHdpbmRvdykpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImdyYW50ZWRcIilcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBub3RpZmljYXRpb24yID0gbmV3IE5vdGlmaWNhdGlvbihcIlwiKTtcbiAgICAgIG5vdGlmaWNhdGlvbjIub25zaG93ID0gKCkgPT4ge1xuICAgICAgICBub3RpZmljYXRpb24yLmNsb3NlKCk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgPT09IFwiVHlwZUVycm9yXCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICBjb25zdCBwZXJtaXNzaW9uR3JhbnRlZCA9IHNoYWxsb3dSZWYoaXNTdXBwb3J0ZWQudmFsdWUgJiYgXCJwZXJtaXNzaW9uXCIgaW4gTm90aWZpY2F0aW9uICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImdyYW50ZWRcIik7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHJlZihudWxsKTtcbiAgY29uc3QgZW5zdXJlUGVybWlzc2lvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXBlcm1pc3Npb25HcmFudGVkLnZhbHVlICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9PSBcImRlbmllZFwiKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgIGlmIChyZXN1bHQgPT09IFwiZ3JhbnRlZFwiKVxuICAgICAgICBwZXJtaXNzaW9uR3JhbnRlZC52YWx1ZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBwZXJtaXNzaW9uR3JhbnRlZC52YWx1ZTtcbiAgfTtcbiAgY29uc3QgeyBvbjogb25DbGljaywgdHJpZ2dlcjogY2xpY2tUcmlnZ2VyIH0gPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgeyBvbjogb25TaG93LCB0cmlnZ2VyOiBzaG93VHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHsgb246IG9uRXJyb3IsIHRyaWdnZXI6IGVycm9yVHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHsgb246IG9uQ2xvc2UsIHRyaWdnZXI6IGNsb3NlVHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHNob3cgPSBhc3luYyAob3ZlcnJpZGVzKSA9PiB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCAhcGVybWlzc2lvbkdyYW50ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgb3B0aW9uczIgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0V2ViTm90aWZpY2F0aW9uT3B0aW9ucywgb3ZlcnJpZGVzKTtcbiAgICBub3RpZmljYXRpb24udmFsdWUgPSBuZXcgTm90aWZpY2F0aW9uKG9wdGlvbnMyLnRpdGxlIHx8IFwiXCIsIG9wdGlvbnMyKTtcbiAgICBub3RpZmljYXRpb24udmFsdWUub25jbGljayA9IGNsaWNrVHJpZ2dlcjtcbiAgICBub3RpZmljYXRpb24udmFsdWUub25zaG93ID0gc2hvd1RyaWdnZXI7XG4gICAgbm90aWZpY2F0aW9uLnZhbHVlLm9uZXJyb3IgPSBlcnJvclRyaWdnZXI7XG4gICAgbm90aWZpY2F0aW9uLnZhbHVlLm9uY2xvc2UgPSBjbG9zZVRyaWdnZXI7XG4gICAgcmV0dXJuIG5vdGlmaWNhdGlvbi52YWx1ZTtcbiAgfTtcbiAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKG5vdGlmaWNhdGlvbi52YWx1ZSlcbiAgICAgIG5vdGlmaWNhdGlvbi52YWx1ZS5jbG9zZSgpO1xuICAgIG5vdGlmaWNhdGlvbi52YWx1ZSA9IG51bGw7XG4gIH07XG4gIGlmIChfcmVxdWVzdEZvclBlcm1pc3Npb25zKVxuICAgIHRyeU9uTW91bnRlZChlbnN1cmVQZXJtaXNzaW9ucyk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKGNsb3NlKTtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHdpbmRvdykge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIG5vdGlmaWNhdGlvbixcbiAgICBlbnN1cmVQZXJtaXNzaW9ucyxcbiAgICBwZXJtaXNzaW9uR3JhbnRlZCxcbiAgICBzaG93LFxuICAgIGNsb3NlLFxuICAgIG9uQ2xpY2ssXG4gICAgb25TaG93LFxuICAgIG9uRXJyb3IsXG4gICAgb25DbG9zZVxuICB9O1xufVxuXG5jb25zdCBERUZBVUxUX1BJTkdfTUVTU0FHRSA9IFwicGluZ1wiO1xuZnVuY3Rpb24gcmVzb2x2ZU5lc3RlZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSlcbiAgICByZXR1cm4ge307XG4gIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gdXNlV2ViU29ja2V0KHVybCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBvbkNvbm5lY3RlZCxcbiAgICBvbkRpc2Nvbm5lY3RlZCxcbiAgICBvbkVycm9yLFxuICAgIG9uTWVzc2FnZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGF1dG9Db25uZWN0ID0gdHJ1ZSxcbiAgICBhdXRvQ2xvc2UgPSB0cnVlLFxuICAgIHByb3RvY29scyA9IFtdXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBkYXRhID0gcmVmKG51bGwpO1xuICBjb25zdCBzdGF0dXMgPSBzaGFsbG93UmVmKFwiQ0xPU0VEXCIpO1xuICBjb25zdCB3c1JlZiA9IHJlZigpO1xuICBjb25zdCB1cmxSZWYgPSB0b1JlZih1cmwpO1xuICBsZXQgaGVhcnRiZWF0UGF1c2U7XG4gIGxldCBoZWFydGJlYXRSZXN1bWU7XG4gIGxldCBleHBsaWNpdGx5Q2xvc2VkID0gZmFsc2U7XG4gIGxldCByZXRyaWVkID0gMDtcbiAgbGV0IGJ1ZmZlcmVkRGF0YSA9IFtdO1xuICBsZXQgcmV0cnlUaW1lb3V0O1xuICBsZXQgcG9uZ1RpbWVvdXRXYWl0O1xuICBjb25zdCBfc2VuZEJ1ZmZlciA9ICgpID0+IHtcbiAgICBpZiAoYnVmZmVyZWREYXRhLmxlbmd0aCAmJiB3c1JlZi52YWx1ZSAmJiBzdGF0dXMudmFsdWUgPT09IFwiT1BFTlwiKSB7XG4gICAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJlZERhdGEpXG4gICAgICAgIHdzUmVmLnZhbHVlLnNlbmQoYnVmZmVyKTtcbiAgICAgIGJ1ZmZlcmVkRGF0YSA9IFtdO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVzZXRSZXRyeSA9ICgpID0+IHtcbiAgICBpZiAocmV0cnlUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXRyeVRpbWVvdXQpO1xuICAgICAgcmV0cnlUaW1lb3V0ID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVzZXRIZWFydGJlYXQgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHBvbmdUaW1lb3V0V2FpdCk7XG4gICAgcG9uZ1RpbWVvdXRXYWl0ID0gdm9pZCAwO1xuICB9O1xuICBjb25zdCBjbG9zZSA9IChjb2RlID0gMWUzLCByZWFzb24pID0+IHtcbiAgICByZXNldFJldHJ5KCk7XG4gICAgaWYgKCFpc0NsaWVudCAmJiAhaXNXb3JrZXIgfHwgIXdzUmVmLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGV4cGxpY2l0bHlDbG9zZWQgPSB0cnVlO1xuICAgIHJlc2V0SGVhcnRiZWF0KCk7XG4gICAgaGVhcnRiZWF0UGF1c2UgPT0gbnVsbCA/IHZvaWQgMCA6IGhlYXJ0YmVhdFBhdXNlKCk7XG4gICAgd3NSZWYudmFsdWUuY2xvc2UoY29kZSwgcmVhc29uKTtcbiAgICB3c1JlZi52YWx1ZSA9IHZvaWQgMDtcbiAgfTtcbiAgY29uc3Qgc2VuZCA9IChkYXRhMiwgdXNlQnVmZmVyID0gdHJ1ZSkgPT4ge1xuICAgIGlmICghd3NSZWYudmFsdWUgfHwgc3RhdHVzLnZhbHVlICE9PSBcIk9QRU5cIikge1xuICAgICAgaWYgKHVzZUJ1ZmZlcilcbiAgICAgICAgYnVmZmVyZWREYXRhLnB1c2goZGF0YTIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfc2VuZEJ1ZmZlcigpO1xuICAgIHdzUmVmLnZhbHVlLnNlbmQoZGF0YTIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBfaW5pdCA9ICgpID0+IHtcbiAgICBpZiAoZXhwbGljaXRseUNsb3NlZCB8fCB0eXBlb2YgdXJsUmVmLnZhbHVlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCh1cmxSZWYudmFsdWUsIHByb3RvY29scyk7XG4gICAgd3NSZWYudmFsdWUgPSB3cztcbiAgICBzdGF0dXMudmFsdWUgPSBcIkNPTk5FQ1RJTkdcIjtcbiAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcIk9QRU5cIjtcbiAgICAgIHJldHJpZWQgPSAwO1xuICAgICAgb25Db25uZWN0ZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ29ubmVjdGVkKHdzKTtcbiAgICAgIGhlYXJ0YmVhdFJlc3VtZSA9PSBudWxsID8gdm9pZCAwIDogaGVhcnRiZWF0UmVzdW1lKCk7XG4gICAgICBfc2VuZEJ1ZmZlcigpO1xuICAgIH07XG4gICAgd3Mub25jbG9zZSA9IChldikgPT4ge1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJDTE9TRURcIjtcbiAgICAgIHJlc2V0SGVhcnRiZWF0KCk7XG4gICAgICBoZWFydGJlYXRQYXVzZSA9PSBudWxsID8gdm9pZCAwIDogaGVhcnRiZWF0UGF1c2UoKTtcbiAgICAgIG9uRGlzY29ubmVjdGVkID09IG51bGwgPyB2b2lkIDAgOiBvbkRpc2Nvbm5lY3RlZCh3cywgZXYpO1xuICAgICAgaWYgKCFleHBsaWNpdGx5Q2xvc2VkICYmIG9wdGlvbnMuYXV0b1JlY29ubmVjdCAmJiAod3NSZWYudmFsdWUgPT0gbnVsbCB8fCB3cyA9PT0gd3NSZWYudmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZXRyaWVzID0gLTEsXG4gICAgICAgICAgZGVsYXkgPSAxZTMsXG4gICAgICAgICAgb25GYWlsZWRcbiAgICAgICAgfSA9IHJlc29sdmVOZXN0ZWRPcHRpb25zKG9wdGlvbnMuYXV0b1JlY29ubmVjdCk7XG4gICAgICAgIGNvbnN0IGNoZWNrUmV0aXJlcyA9IHR5cGVvZiByZXRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyByZXRyaWVzIDogKCkgPT4gdHlwZW9mIHJldHJpZXMgPT09IFwibnVtYmVyXCIgJiYgKHJldHJpZXMgPCAwIHx8IHJldHJpZWQgPCByZXRyaWVzKTtcbiAgICAgICAgaWYgKGNoZWNrUmV0aXJlcyhyZXRyaWVkKSkge1xuICAgICAgICAgIHJldHJpZWQgKz0gMTtcbiAgICAgICAgICByZXRyeVRpbWVvdXQgPSBzZXRUaW1lb3V0KF9pbml0LCBkZWxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25GYWlsZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmFpbGVkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHdzLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgb25FcnJvciA9PSBudWxsID8gdm9pZCAwIDogb25FcnJvcih3cywgZSk7XG4gICAgfTtcbiAgICB3cy5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgaWYgKG9wdGlvbnMuaGVhcnRiZWF0KSB7XG4gICAgICAgIHJlc2V0SGVhcnRiZWF0KCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBtZXNzYWdlID0gREVGQVVMVF9QSU5HX01FU1NBR0UsXG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlID0gbWVzc2FnZVxuICAgICAgICB9ID0gcmVzb2x2ZU5lc3RlZE9wdGlvbnMob3B0aW9ucy5oZWFydGJlYXQpO1xuICAgICAgICBpZiAoZS5kYXRhID09PSB0b1ZhbHVlKHJlc3BvbnNlTWVzc2FnZSkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGF0YS52YWx1ZSA9IGUuZGF0YTtcbiAgICAgIG9uTWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogb25NZXNzYWdlKHdzLCBlKTtcbiAgICB9O1xuICB9O1xuICBpZiAob3B0aW9ucy5oZWFydGJlYXQpIHtcbiAgICBjb25zdCB7XG4gICAgICBtZXNzYWdlID0gREVGQVVMVF9QSU5HX01FU1NBR0UsXG4gICAgICBpbnRlcnZhbCA9IDFlMyxcbiAgICAgIHBvbmdUaW1lb3V0ID0gMWUzXG4gICAgfSA9IHJlc29sdmVOZXN0ZWRPcHRpb25zKG9wdGlvbnMuaGVhcnRiZWF0KTtcbiAgICBjb25zdCB7IHBhdXNlLCByZXN1bWUgfSA9IHVzZUludGVydmFsRm4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHNlbmQodG9WYWx1ZShtZXNzYWdlKSwgZmFsc2UpO1xuICAgICAgICBpZiAocG9uZ1RpbWVvdXRXYWl0ICE9IG51bGwpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwb25nVGltZW91dFdhaXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgIGV4cGxpY2l0bHlDbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgcG9uZ1RpbWVvdXQpO1xuICAgICAgfSxcbiAgICAgIGludGVydmFsLFxuICAgICAgeyBpbW1lZGlhdGU6IGZhbHNlIH1cbiAgICApO1xuICAgIGhlYXJ0YmVhdFBhdXNlID0gcGF1c2U7XG4gICAgaGVhcnRiZWF0UmVzdW1lID0gcmVzdW1lO1xuICB9XG4gIGlmIChhdXRvQ2xvc2UpIHtcbiAgICBpZiAoaXNDbGllbnQpXG4gICAgICB1c2VFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IGNsb3NlKCksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB0cnlPblNjb3BlRGlzcG9zZShjbG9zZSk7XG4gIH1cbiAgY29uc3Qgb3BlbiA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50ICYmICFpc1dvcmtlcilcbiAgICAgIHJldHVybjtcbiAgICBjbG9zZSgpO1xuICAgIGV4cGxpY2l0bHlDbG9zZWQgPSBmYWxzZTtcbiAgICByZXRyaWVkID0gMDtcbiAgICBfaW5pdCgpO1xuICB9O1xuICBpZiAoaW1tZWRpYXRlKVxuICAgIG9wZW4oKTtcbiAgaWYgKGF1dG9Db25uZWN0KVxuICAgIHdhdGNoKHVybFJlZiwgb3Blbik7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBzdGF0dXMsXG4gICAgY2xvc2UsXG4gICAgc2VuZCxcbiAgICBvcGVuLFxuICAgIHdzOiB3c1JlZlxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VXZWJXb3JrZXIoYXJnMCwgd29ya2VyT3B0aW9ucywgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICBjb25zdCBkYXRhID0gcmVmKG51bGwpO1xuICBjb25zdCB3b3JrZXIgPSBzaGFsbG93UmVmKCk7XG4gIGNvbnN0IHBvc3QgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmICghd29ya2VyLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHdvcmtlci52YWx1ZS5wb3N0TWVzc2FnZSguLi5hcmdzKTtcbiAgfTtcbiAgY29uc3QgdGVybWluYXRlID0gZnVuY3Rpb24gdGVybWluYXRlMigpIHtcbiAgICBpZiAoIXdvcmtlci52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB3b3JrZXIudmFsdWUudGVybWluYXRlKCk7XG4gIH07XG4gIGlmICh3aW5kb3cpIHtcbiAgICBpZiAodHlwZW9mIGFyZzAgPT09IFwic3RyaW5nXCIpXG4gICAgICB3b3JrZXIudmFsdWUgPSBuZXcgV29ya2VyKGFyZzAsIHdvcmtlck9wdGlvbnMpO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcwID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICB3b3JrZXIudmFsdWUgPSBhcmcwKCk7XG4gICAgZWxzZVxuICAgICAgd29ya2VyLnZhbHVlID0gYXJnMDtcbiAgICB3b3JrZXIudmFsdWUub25tZXNzYWdlID0gKGUpID0+IHtcbiAgICAgIGRhdGEudmFsdWUgPSBlLmRhdGE7XG4gICAgfTtcbiAgICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgICBpZiAod29ya2VyLnZhbHVlKVxuICAgICAgICB3b3JrZXIudmFsdWUudGVybWluYXRlKCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIHBvc3QsXG4gICAgdGVybWluYXRlLFxuICAgIHdvcmtlclxuICB9O1xufVxuXG5mdW5jdGlvbiBkZXBzUGFyc2VyKGRlcHMsIGxvY2FsRGVwcykge1xuICBpZiAoZGVwcy5sZW5ndGggPT09IDAgJiYgbG9jYWxEZXBzLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gXCJcIjtcbiAgY29uc3QgZGVwc1N0cmluZyA9IGRlcHMubWFwKChkZXApID0+IGAnJHtkZXB9J2ApLnRvU3RyaW5nKCk7XG4gIGNvbnN0IGRlcHNGdW5jdGlvblN0cmluZyA9IGxvY2FsRGVwcy5maWx0ZXIoKGRlcCkgPT4gdHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKS5tYXAoKGZuKSA9PiB7XG4gICAgY29uc3Qgc3RyID0gZm4udG9TdHJpbmcoKTtcbiAgICBpZiAoc3RyLnRyaW0oKS5zdGFydHNXaXRoKFwiZnVuY3Rpb25cIikpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBmbi5uYW1lO1xuICAgICAgcmV0dXJuIGBjb25zdCAke25hbWV9ID0gJHtzdHJ9YDtcbiAgICB9XG4gIH0pLmpvaW4oXCI7XCIpO1xuICBjb25zdCBpbXBvcnRTdHJpbmcgPSBgaW1wb3J0U2NyaXB0cygke2RlcHNTdHJpbmd9KTtgO1xuICByZXR1cm4gYCR7ZGVwc1N0cmluZy50cmltKCkgPT09IFwiXCIgPyBcIlwiIDogaW1wb3J0U3RyaW5nfSAke2RlcHNGdW5jdGlvblN0cmluZ31gO1xufVxuXG5mdW5jdGlvbiBqb2JSdW5uZXIodXNlckZ1bmMpIHtcbiAgcmV0dXJuIChlKSA9PiB7XG4gICAgY29uc3QgdXNlckZ1bmNBcmdzID0gZS5kYXRhWzBdO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlckZ1bmMuYXBwbHkodm9pZCAwLCB1c2VyRnVuY0FyZ3MpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHBvc3RNZXNzYWdlKFtcIlNVQ0NFU1NcIiwgcmVzdWx0XSk7XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBwb3N0TWVzc2FnZShbXCJFUlJPUlwiLCBlcnJvcl0pO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVXb3JrZXJCbG9iVXJsKGZuLCBkZXBzLCBsb2NhbERlcHMpIHtcbiAgY29uc3QgYmxvYkNvZGUgPSBgJHtkZXBzUGFyc2VyKGRlcHMsIGxvY2FsRGVwcyl9OyBvbm1lc3NhZ2U9KCR7am9iUnVubmVyfSkoJHtmbn0pYDtcbiAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtibG9iQ29kZV0sIHsgdHlwZTogXCJ0ZXh0L2phdmFzY3JpcHRcIiB9KTtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgcmV0dXJuIHVybDtcbn1cblxuZnVuY3Rpb24gdXNlV2ViV29ya2VyRm4oZm4sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZGVwZW5kZW5jaWVzID0gW10sXG4gICAgbG9jYWxEZXBlbmRlbmNpZXMgPSBbXSxcbiAgICB0aW1lb3V0LFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHdvcmtlciA9IHJlZigpO1xuICBjb25zdCB3b3JrZXJTdGF0dXMgPSBzaGFsbG93UmVmKFwiUEVORElOR1wiKTtcbiAgY29uc3QgcHJvbWlzZSA9IHJlZih7fSk7XG4gIGNvbnN0IHRpbWVvdXRJZCA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3Qgd29ya2VyVGVybWluYXRlID0gKHN0YXR1cyA9IFwiUEVORElOR1wiKSA9PiB7XG4gICAgaWYgKHdvcmtlci52YWx1ZSAmJiB3b3JrZXIudmFsdWUuX3VybCAmJiB3aW5kb3cpIHtcbiAgICAgIHdvcmtlci52YWx1ZS50ZXJtaW5hdGUoKTtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwod29ya2VyLnZhbHVlLl91cmwpO1xuICAgICAgcHJvbWlzZS52YWx1ZSA9IHt9O1xuICAgICAgd29ya2VyLnZhbHVlID0gdm9pZCAwO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQudmFsdWUpO1xuICAgICAgd29ya2VyU3RhdHVzLnZhbHVlID0gc3RhdHVzO1xuICAgIH1cbiAgfTtcbiAgd29ya2VyVGVybWluYXRlKCk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHdvcmtlclRlcm1pbmF0ZSk7XG4gIGNvbnN0IGdlbmVyYXRlV29ya2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IGJsb2JVcmwgPSBjcmVhdGVXb3JrZXJCbG9iVXJsKGZuLCBkZXBlbmRlbmNpZXMsIGxvY2FsRGVwZW5kZW5jaWVzKTtcbiAgICBjb25zdCBuZXdXb3JrZXIgPSBuZXcgV29ya2VyKGJsb2JVcmwpO1xuICAgIG5ld1dvcmtlci5fdXJsID0gYmxvYlVybDtcbiAgICBuZXdXb3JrZXIub25tZXNzYWdlID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzb2x2ZSA9ICgpID0+IHtcbiAgICAgIH0sIHJlamVjdCA9ICgpID0+IHtcbiAgICAgIH0gfSA9IHByb21pc2UudmFsdWU7XG4gICAgICBjb25zdCBbc3RhdHVzLCByZXN1bHRdID0gZS5kYXRhO1xuICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcIlNVQ0NFU1NcIjpcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgd29ya2VyVGVybWluYXRlKHN0YXR1cyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgd29ya2VyVGVybWluYXRlKFwiRVJST1JcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcbiAgICBuZXdXb3JrZXIub25lcnJvciA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7IHJlamVjdCA9ICgpID0+IHtcbiAgICAgIH0gfSA9IHByb21pc2UudmFsdWU7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZWplY3QoZSk7XG4gICAgICB3b3JrZXJUZXJtaW5hdGUoXCJFUlJPUlwiKTtcbiAgICB9O1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICB0aW1lb3V0SWQudmFsdWUgPSBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiB3b3JrZXJUZXJtaW5hdGUoXCJUSU1FT1VUX0VYUElSRURcIiksXG4gICAgICAgIHRpbWVvdXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBuZXdXb3JrZXI7XG4gIH07XG4gIGNvbnN0IGNhbGxXb3JrZXIgPSAoLi4uZm5BcmdzKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHByb21pc2UudmFsdWUgPSB7XG4gICAgICByZXNvbHZlLFxuICAgICAgcmVqZWN0XG4gICAgfTtcbiAgICAoX2EgPSB3b3JrZXIudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wb3N0TWVzc2FnZShbWy4uLmZuQXJnc11dKTtcbiAgICB3b3JrZXJTdGF0dXMudmFsdWUgPSBcIlJVTk5JTkdcIjtcbiAgfSk7XG4gIGNvbnN0IHdvcmtlckZuID0gKC4uLmZuQXJncykgPT4ge1xuICAgIGlmICh3b3JrZXJTdGF0dXMudmFsdWUgPT09IFwiUlVOTklOR1wiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlt1c2VXZWJXb3JrZXJGbl0gWW91IGNhbiBvbmx5IHJ1biBvbmUgaW5zdGFuY2Ugb2YgdGhlIHdvcmtlciBhdCBhIHRpbWUuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICB9XG4gICAgd29ya2VyLnZhbHVlID0gZ2VuZXJhdGVXb3JrZXIoKTtcbiAgICByZXR1cm4gY2FsbFdvcmtlciguLi5mbkFyZ3MpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHdvcmtlckZuLFxuICAgIHdvcmtlclN0YXR1cyxcbiAgICB3b3JrZXJUZXJtaW5hdGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlV2luZG93Rm9jdXMob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuIHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBmb2N1c2VkID0gc2hhbGxvd1JlZih3aW5kb3cuZG9jdW1lbnQuaGFzRm9jdXMoKSk7XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJibHVyXCIsICgpID0+IHtcbiAgICBmb2N1c2VkLnZhbHVlID0gZmFsc2U7XG4gIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImZvY3VzXCIsICgpID0+IHtcbiAgICBmb2N1c2VkLnZhbHVlID0gdHJ1ZTtcbiAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgcmV0dXJuIGZvY3VzZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd1Njcm9sbChvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93LCAuLi5yZXN0IH0gPSBvcHRpb25zO1xuICByZXR1cm4gdXNlU2Nyb2xsKHdpbmRvdywgcmVzdCk7XG59XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd1NpemUob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGluaXRpYWxXaWR0aCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICBpbml0aWFsSGVpZ2h0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIGxpc3Rlbk9yaWVudGF0aW9uID0gdHJ1ZSxcbiAgICBpbmNsdWRlU2Nyb2xsYmFyID0gdHJ1ZSxcbiAgICB0eXBlID0gXCJpbm5lclwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB3aWR0aCA9IHNoYWxsb3dSZWYoaW5pdGlhbFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gc2hhbGxvd1JlZihpbml0aWFsSGVpZ2h0KTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgIGlmICh0eXBlID09PSBcIm91dGVyXCIpIHtcbiAgICAgICAgd2lkdGgudmFsdWUgPSB3aW5kb3cub3V0ZXJXaWR0aDtcbiAgICAgICAgaGVpZ2h0LnZhbHVlID0gd2luZG93Lm91dGVySGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcInZpc3VhbFwiICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoOiB2aXN1YWxWaWV3cG9ydFdpZHRoLCBoZWlnaHQ6IHZpc3VhbFZpZXdwb3J0SGVpZ2h0LCBzY2FsZSB9ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgICAgICB3aWR0aC52YWx1ZSA9IE1hdGgucm91bmQodmlzdWFsVmlld3BvcnRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgaGVpZ2h0LnZhbHVlID0gTWF0aC5yb3VuZCh2aXN1YWxWaWV3cG9ydEhlaWdodCAqIHNjYWxlKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZVNjcm9sbGJhcikge1xuICAgICAgICB3aWR0aC52YWx1ZSA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBoZWlnaHQudmFsdWUgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aC52YWx1ZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIGhlaWdodC52YWx1ZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdXBkYXRlKCk7XG4gIHRyeU9uTW91bnRlZCh1cGRhdGUpO1xuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGUsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGlmICh3aW5kb3cgJiYgdHlwZSA9PT0gXCJ2aXN1YWxcIiAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdy52aXN1YWxWaWV3cG9ydCwgXCJyZXNpemVcIiwgdXBkYXRlLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIGlmIChsaXN0ZW5PcmllbnRhdGlvbikge1xuICAgIGNvbnN0IG1hdGNoZXMgPSB1c2VNZWRpYVF1ZXJ5KFwiKG9yaWVudGF0aW9uOiBwb3J0cmFpdClcIik7XG4gICAgd2F0Y2gobWF0Y2hlcywgKCkgPT4gdXBkYXRlKCkpO1xuICB9XG4gIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbn1cblxuZXhwb3J0IHsgRGVmYXVsdE1hZ2ljS2V5c0FsaWFzTWFwLCBTdG9yYWdlU2VyaWFsaXplcnMsIFRyYW5zaXRpb25QcmVzZXRzLCBjb21wdXRlZEFzeW5jIGFzIGFzeW5jQ29tcHV0ZWQsIGJyZWFrcG9pbnRzQW50RGVzaWduLCBicmVha3BvaW50c0Jvb3RzdHJhcFY1LCBicmVha3BvaW50c0VsZW1lbnQsIGJyZWFrcG9pbnRzTWFzdGVyQ3NzLCBicmVha3BvaW50c1ByaW1lRmxleCwgYnJlYWtwb2ludHNRdWFzYXIsIGJyZWFrcG9pbnRzU2VtYXRpYywgYnJlYWtwb2ludHNUYWlsd2luZCwgYnJlYWtwb2ludHNWdWV0aWZ5LCBicmVha3BvaW50c1Z1ZXRpZnlWMiwgYnJlYWtwb2ludHNWdWV0aWZ5VjMsIGNsb25lRm5KU09OLCBjb21wdXRlZEFzeW5jLCBjb21wdXRlZEluamVjdCwgY3JlYXRlRmV0Y2gsIGNyZWF0ZVJldXNhYmxlVGVtcGxhdGUsIGNyZWF0ZVRlbXBsYXRlUHJvbWlzZSwgY3JlYXRlVW5yZWZGbiwgY3VzdG9tU3RvcmFnZUV2ZW50TmFtZSwgZGVmYXVsdERvY3VtZW50LCBkZWZhdWx0TG9jYXRpb24sIGRlZmF1bHROYXZpZ2F0b3IsIGRlZmF1bHRXaW5kb3csIGV4ZWN1dGVUcmFuc2l0aW9uLCBmb3JtYXRUaW1lQWdvLCBnZXRTU1JIYW5kbGVyLCBtYXBHYW1lcGFkVG9YYm94MzYwQ29udHJvbGxlciwgb25DbGlja091dHNpZGUsIG9uRWxlbWVudFJlbW92YWwsIG9uS2V5RG93biwgb25LZXlQcmVzc2VkLCBvbktleVN0cm9rZSwgb25LZXlVcCwgb25Mb25nUHJlc3MsIG9uU3RhcnRUeXBpbmcsIHByb3ZpZGVTU1JXaWR0aCwgc2V0U1NSSGFuZGxlciwgdGVtcGxhdGVSZWYsIHVucmVmRWxlbWVudCwgdXNlQWN0aXZlRWxlbWVudCwgdXNlQW5pbWF0ZSwgdXNlQXN5bmNRdWV1ZSwgdXNlQXN5bmNTdGF0ZSwgdXNlQmFzZTY0LCB1c2VCYXR0ZXJ5LCB1c2VCbHVldG9vdGgsIHVzZUJyZWFrcG9pbnRzLCB1c2VCcm9hZGNhc3RDaGFubmVsLCB1c2VCcm93c2VyTG9jYXRpb24sIHVzZUNhY2hlZCwgdXNlQ2xpcGJvYXJkLCB1c2VDbGlwYm9hcmRJdGVtcywgdXNlQ2xvbmVkLCB1c2VDb2xvck1vZGUsIHVzZUNvbmZpcm1EaWFsb2csIHVzZUNvdW50ZG93biwgdXNlQ3NzVmFyLCB1c2VDdXJyZW50RWxlbWVudCwgdXNlQ3ljbGVMaXN0LCB1c2VEYXJrLCB1c2VEZWJvdW5jZWRSZWZIaXN0b3J5LCB1c2VEZXZpY2VNb3Rpb24sIHVzZURldmljZU9yaWVudGF0aW9uLCB1c2VEZXZpY2VQaXhlbFJhdGlvLCB1c2VEZXZpY2VzTGlzdCwgdXNlRGlzcGxheU1lZGlhLCB1c2VEb2N1bWVudFZpc2liaWxpdHksIHVzZURyYWdnYWJsZSwgdXNlRHJvcFpvbmUsIHVzZUVsZW1lbnRCb3VuZGluZywgdXNlRWxlbWVudEJ5UG9pbnQsIHVzZUVsZW1lbnRIb3ZlciwgdXNlRWxlbWVudFNpemUsIHVzZUVsZW1lbnRWaXNpYmlsaXR5LCB1c2VFdmVudEJ1cywgdXNlRXZlbnRMaXN0ZW5lciwgdXNlRXZlbnRTb3VyY2UsIHVzZUV5ZURyb3BwZXIsIHVzZUZhdmljb24sIHVzZUZldGNoLCB1c2VGaWxlRGlhbG9nLCB1c2VGaWxlU3lzdGVtQWNjZXNzLCB1c2VGb2N1cywgdXNlRm9jdXNXaXRoaW4sIHVzZUZwcywgdXNlRnVsbHNjcmVlbiwgdXNlR2FtZXBhZCwgdXNlR2VvbG9jYXRpb24sIHVzZUlkbGUsIHVzZUltYWdlLCB1c2VJbmZpbml0ZVNjcm9sbCwgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIHVzZUtleU1vZGlmaWVyLCB1c2VMb2NhbFN0b3JhZ2UsIHVzZU1hZ2ljS2V5cywgdXNlTWFudWFsUmVmSGlzdG9yeSwgdXNlTWVkaWFDb250cm9scywgdXNlTWVkaWFRdWVyeSwgdXNlTWVtb2l6ZSwgdXNlTWVtb3J5LCB1c2VNb3VudGVkLCB1c2VNb3VzZSwgdXNlTW91c2VJbkVsZW1lbnQsIHVzZU1vdXNlUHJlc3NlZCwgdXNlTXV0YXRpb25PYnNlcnZlciwgdXNlTmF2aWdhdG9yTGFuZ3VhZ2UsIHVzZU5ldHdvcmssIHVzZU5vdywgdXNlT2JqZWN0VXJsLCB1c2VPZmZzZXRQYWdpbmF0aW9uLCB1c2VPbmxpbmUsIHVzZVBhZ2VMZWF2ZSwgdXNlUGFyYWxsYXgsIHVzZVBhcmVudEVsZW1lbnQsIHVzZVBlcmZvcm1hbmNlT2JzZXJ2ZXIsIHVzZVBlcm1pc3Npb24sIHVzZVBvaW50ZXIsIHVzZVBvaW50ZXJMb2NrLCB1c2VQb2ludGVyU3dpcGUsIHVzZVByZWZlcnJlZENvbG9yU2NoZW1lLCB1c2VQcmVmZXJyZWRDb250cmFzdCwgdXNlUHJlZmVycmVkRGFyaywgdXNlUHJlZmVycmVkTGFuZ3VhZ2VzLCB1c2VQcmVmZXJyZWRSZWR1Y2VkTW90aW9uLCB1c2VQcmVmZXJyZWRSZWR1Y2VkVHJhbnNwYXJlbmN5LCB1c2VQcmV2aW91cywgdXNlUmFmRm4sIHVzZVJlZkhpc3RvcnksIHVzZVJlc2l6ZU9ic2VydmVyLCB1c2VTU1JXaWR0aCwgdXNlU2NyZWVuT3JpZW50YXRpb24sIHVzZVNjcmVlblNhZmVBcmVhLCB1c2VTY3JpcHRUYWcsIHVzZVNjcm9sbCwgdXNlU2Nyb2xsTG9jaywgdXNlU2Vzc2lvblN0b3JhZ2UsIHVzZVNoYXJlLCB1c2VTb3J0ZWQsIHVzZVNwZWVjaFJlY29nbml0aW9uLCB1c2VTcGVlY2hTeW50aGVzaXMsIHVzZVN0ZXBwZXIsIHVzZVN0b3JhZ2UsIHVzZVN0b3JhZ2VBc3luYywgdXNlU3R5bGVUYWcsIHVzZVN1cHBvcnRlZCwgdXNlU3dpcGUsIHVzZVRlbXBsYXRlUmVmc0xpc3QsIHVzZVRleHREaXJlY3Rpb24sIHVzZVRleHRTZWxlY3Rpb24sIHVzZVRleHRhcmVhQXV0b3NpemUsIHVzZVRocm90dGxlZFJlZkhpc3RvcnksIHVzZVRpbWVBZ28sIHVzZVRpbWVvdXRQb2xsLCB1c2VUaW1lc3RhbXAsIHVzZVRpdGxlLCB1c2VUcmFuc2l0aW9uLCB1c2VVcmxTZWFyY2hQYXJhbXMsIHVzZVVzZXJNZWRpYSwgdXNlVk1vZGVsLCB1c2VWTW9kZWxzLCB1c2VWaWJyYXRlLCB1c2VWaXJ0dWFsTGlzdCwgdXNlV2FrZUxvY2ssIHVzZVdlYk5vdGlmaWNhdGlvbiwgdXNlV2ViU29ja2V0LCB1c2VXZWJXb3JrZXIsIHVzZVdlYldvcmtlckZuLCB1c2VXaW5kb3dGb2N1cywgdXNlV2luZG93U2Nyb2xsLCB1c2VXaW5kb3dTaXplIH07XG4iLCJpbXBvcnQgeyBpbmplY3QsIHByb3ZpZGUgfSBmcm9tICd2dWUnO1xuXG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KHByb3ZpZGVyQ29tcG9uZW50TmFtZSwgY29udGV4dE5hbWUpIHtcbiAgY29uc3Qgc3ltYm9sRGVzY3JpcHRpb24gPSB0eXBlb2YgcHJvdmlkZXJDb21wb25lbnROYW1lID09PSBcInN0cmluZ1wiICYmICFjb250ZXh0TmFtZSA/IGAke3Byb3ZpZGVyQ29tcG9uZW50TmFtZX1Db250ZXh0YCA6IGNvbnRleHROYW1lO1xuICBjb25zdCBpbmplY3Rpb25LZXkgPSBTeW1ib2woc3ltYm9sRGVzY3JpcHRpb24pO1xuICBjb25zdCBpbmplY3RDb250ZXh0ID0gKGZhbGxiYWNrKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IGluamVjdChpbmplY3Rpb25LZXksIGZhbGxiYWNrKTtcbiAgICBpZiAoY29udGV4dClcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIGlmIChjb250ZXh0ID09PSBudWxsKVxuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEluamVjdGlvbiBcXGAke2luamVjdGlvbktleS50b1N0cmluZygpfVxcYCBub3QgZm91bmQuIENvbXBvbmVudCBtdXN0IGJlIHVzZWQgd2l0aGluICR7QXJyYXkuaXNBcnJheShwcm92aWRlckNvbXBvbmVudE5hbWUpID8gYG9uZSBvZiB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICR7cHJvdmlkZXJDb21wb25lbnROYW1lLmpvaW4oXG4gICAgICAgIFwiLCBcIlxuICAgICAgKX1gIDogYFxcYCR7cHJvdmlkZXJDb21wb25lbnROYW1lfVxcYGB9YFxuICAgICk7XG4gIH07XG4gIGNvbnN0IHByb3ZpZGVDb250ZXh0ID0gKGNvbnRleHRWYWx1ZSkgPT4ge1xuICAgIHByb3ZpZGUoaW5qZWN0aW9uS2V5LCBjb250ZXh0VmFsdWUpO1xuICAgIHJldHVybiBjb250ZXh0VmFsdWU7XG4gIH07XG4gIHJldHVybiBbaW5qZWN0Q29udGV4dCwgcHJvdmlkZUNvbnRleHRdO1xufVxuXG5leHBvcnQgeyBjcmVhdGVDb250ZXh0IGFzIGMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUNvbnRleHQuanMubWFwXG4iLCJpbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHRvUmVmcywgcmVuZGVyU2xvdCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUNvbnRleHQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlQ29udGV4dC5qcyc7XG5cbmNvbnN0IFtpbmplY3RDb25maWdQcm92aWRlckNvbnRleHQsIHByb3ZpZGVDb25maWdQcm92aWRlckNvbnRleHRdID0gY3JlYXRlQ29udGV4dChcIkNvbmZpZ1Byb3ZpZGVyXCIpO1xuY29uc3QgX3NmY19tYWluID0gLyogQF9fUFVSRV9fICovIGRlZmluZUNvbXBvbmVudCh7XG4gIC4uLntcbiAgICBpbmhlcml0QXR0cnM6IGZhbHNlXG4gIH0sXG4gIF9fbmFtZTogXCJDb25maWdQcm92aWRlclwiLFxuICBwcm9wczoge1xuICAgIGRpcjogeyBkZWZhdWx0OiBcImx0clwiIH0sXG4gICAgbG9jYWxlOiB7IGRlZmF1bHQ6IFwiZW5cIiB9LFxuICAgIHNjcm9sbEJvZHk6IHsgdHlwZTogW0Jvb2xlYW4sIE9iamVjdF0sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICBub25jZTogeyBkZWZhdWx0OiB2b2lkIDAgfSxcbiAgICB1c2VJZDogeyB0eXBlOiBGdW5jdGlvbiwgZGVmYXVsdDogdm9pZCAwIH1cbiAgfSxcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCB7IGRpciwgbG9jYWxlLCBzY3JvbGxCb2R5LCBub25jZSB9ID0gdG9SZWZzKHByb3BzKTtcbiAgICBwcm92aWRlQ29uZmlnUHJvdmlkZXJDb250ZXh0KHtcbiAgICAgIGRpcixcbiAgICAgIGxvY2FsZSxcbiAgICAgIHNjcm9sbEJvZHksXG4gICAgICBub25jZSxcbiAgICAgIHVzZUlkOiBwcm9wcy51c2VJZFxuICAgIH0pO1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiB7XG4gICAgICByZXR1cm4gcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJkZWZhdWx0XCIpO1xuICAgIH07XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBfc2ZjX21haW4gYXMgXywgaW5qZWN0Q29uZmlnUHJvdmlkZXJDb250ZXh0IGFzIGkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbmZpZ1Byb3ZpZGVyLmpzLm1hcFxuIiwiaW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBpIGFzIGluamVjdENvbmZpZ1Byb3ZpZGVyQ29udGV4dCB9IGZyb20gJy4uL0NvbmZpZ1Byb3ZpZGVyL0NvbmZpZ1Byb3ZpZGVyLmpzJztcblxuZnVuY3Rpb24gdXNlRGlyZWN0aW9uKGRpcikge1xuICBjb25zdCBjb250ZXh0ID0gaW5qZWN0Q29uZmlnUHJvdmlkZXJDb250ZXh0KHtcbiAgICBkaXI6IHJlZihcImx0clwiKVxuICB9KTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IGRpcj8udmFsdWUgfHwgY29udGV4dC5kaXI/LnZhbHVlIHx8IFwibHRyXCIpO1xufVxuXG5leHBvcnQgeyB1c2VEaXJlY3Rpb24gYXMgdSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlRGlyZWN0aW9uLmpzLm1hcFxuIiwiaW1wb3J0IHsgdW5yZWZFbGVtZW50IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJztcbmltcG9ydCB7IGdldEN1cnJlbnRJbnN0YW5jZSwgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIHVzZUZvcndhcmRFeHBvc2UoKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IGN1cnJlbnRSZWYgPSByZWYoKTtcbiAgY29uc3QgY3VycmVudEVsZW1lbnQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIFtcIiN0ZXh0XCIsIFwiI2NvbW1lbnRcIl0uaW5jbHVkZXMoY3VycmVudFJlZi52YWx1ZT8uJGVsLm5vZGVOYW1lKSA/IGN1cnJlbnRSZWYudmFsdWU/LiRlbC5uZXh0RWxlbWVudFNpYmxpbmcgOiB1bnJlZkVsZW1lbnQoY3VycmVudFJlZik7XG4gIH0pO1xuICBjb25zdCBsb2NhbEV4cG9zZSA9IE9iamVjdC5hc3NpZ24oe30sIGluc3RhbmNlLmV4cG9zZWQpO1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gaW5zdGFuY2UucHJvcHMpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0LCBrZXksIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6ICgpID0+IGluc3RhbmNlLnByb3BzW2tleV1cbiAgICB9KTtcbiAgfVxuICBpZiAoT2JqZWN0LmtleXMobG9jYWxFeHBvc2UpLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBsb2NhbEV4cG9zZSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBsb2NhbEV4cG9zZVtrZXldXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldCwgXCIkZWxcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogKCkgPT4gaW5zdGFuY2Uudm5vZGUuZWxcbiAgfSk7XG4gIGluc3RhbmNlLmV4cG9zZWQgPSByZXQ7XG4gIGZ1bmN0aW9uIGZvcndhcmRSZWYocmVmMikge1xuICAgIGN1cnJlbnRSZWYudmFsdWUgPSByZWYyO1xuICAgIGlmICghcmVmMilcbiAgICAgIHJldHVybjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0LCBcIiRlbFwiLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiAoKSA9PiByZWYyIGluc3RhbmNlb2YgRWxlbWVudCA/IHJlZjIgOiByZWYyLiRlbFxuICAgIH0pO1xuICAgIGluc3RhbmNlLmV4cG9zZWQgPSByZXQ7XG4gIH1cbiAgcmV0dXJuIHsgZm9yd2FyZFJlZiwgY3VycmVudFJlZiwgY3VycmVudEVsZW1lbnQgfTtcbn1cblxuZXhwb3J0IHsgdXNlRm9yd2FyZEV4cG9zZSBhcyB1IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VGb3J3YXJkRXhwb3NlLmpzLm1hcFxuIiwiaW1wb3J0ICogYXMgdnVlIGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBpIGFzIGluamVjdENvbmZpZ1Byb3ZpZGVyQ29udGV4dCB9IGZyb20gJy4uL0NvbmZpZ1Byb3ZpZGVyL0NvbmZpZ1Byb3ZpZGVyLmpzJztcblxubGV0IGNvdW50ID0gMDtcbmZ1bmN0aW9uIHVzZUlkKGRldGVybWluaXN0aWNJZCwgcHJlZml4ID0gXCJyZWthXCIpIHtcbiAgaWYgKGRldGVybWluaXN0aWNJZClcbiAgICByZXR1cm4gZGV0ZXJtaW5pc3RpY0lkO1xuICBjb25zdCBjb25maWdQcm92aWRlckNvbnRleHQgPSBpbmplY3RDb25maWdQcm92aWRlckNvbnRleHQoeyB1c2VJZDogdm9pZCAwIH0pO1xuICBpZiAoT2JqZWN0Lmhhc093bih2dWUsIFwidXNlSWRcIikpIHtcbiAgICByZXR1cm4gYCR7cHJlZml4fS0ke3Z1ZS51c2VJZD8uKCl9YDtcbiAgfSBlbHNlIGlmIChjb25maWdQcm92aWRlckNvbnRleHQudXNlSWQpIHtcbiAgICByZXR1cm4gYCR7cHJlZml4fS0ke2NvbmZpZ1Byb3ZpZGVyQ29udGV4dC51c2VJZCgpfWA7XG4gIH1cbiAgcmV0dXJuIGAke3ByZWZpeH0tJHsrK2NvdW50fWA7XG59XG5cbmV4cG9ydCB7IHVzZUlkIGFzIHUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZUlkLmpzLm1hcFxuIiwiaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJztcblxuZnVuY3Rpb24gdXNlU3RhdGVNYWNoaW5lKGluaXRpYWxTdGF0ZSwgbWFjaGluZSkge1xuICBjb25zdCBzdGF0ZSA9IHJlZihpbml0aWFsU3RhdGUpO1xuICBmdW5jdGlvbiByZWR1Y2VyKGV2ZW50KSB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gbWFjaGluZVtzdGF0ZS52YWx1ZV1bZXZlbnRdO1xuICAgIHJldHVybiBuZXh0U3RhdGUgPz8gc3RhdGUudmFsdWU7XG4gIH1cbiAgY29uc3QgZGlzcGF0Y2ggPSAoZXZlbnQpID0+IHtcbiAgICBzdGF0ZS52YWx1ZSA9IHJlZHVjZXIoZXZlbnQpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHN0YXRlLFxuICAgIGRpc3BhdGNoXG4gIH07XG59XG5cbmV4cG9ydCB7IHVzZVN0YXRlTWFjaGluZSBhcyB1IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VTdGF0ZU1hY2hpbmUuanMubWFwXG4iLCJpbXBvcnQgeyBkZWZhdWx0V2luZG93IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJztcbmltcG9ydCB7IGlzQ2xpZW50IH0gZnJvbSAnQHZ1ZXVzZS9zaGFyZWQnO1xuaW1wb3J0IHsgcmVmLCB3YXRjaCwgbmV4dFRpY2ssIG9uVW5tb3VudGVkLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyB1IGFzIHVzZVN0YXRlTWFjaGluZSB9IGZyb20gJy4uL3NoYXJlZC91c2VTdGF0ZU1hY2hpbmUuanMnO1xuXG5mdW5jdGlvbiB1c2VQcmVzZW5jZShwcmVzZW50LCBub2RlKSB7XG4gIGNvbnN0IHN0eWxlc1JlZiA9IHJlZih7fSk7XG4gIGNvbnN0IHByZXZBbmltYXRpb25OYW1lUmVmID0gcmVmKFwibm9uZVwiKTtcbiAgY29uc3QgcHJldlByZXNlbnRSZWYgPSByZWYocHJlc2VudCk7XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHByZXNlbnQudmFsdWUgPyBcIm1vdW50ZWRcIiA6IFwidW5tb3VudGVkXCI7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIGNvbnN0IG93bmVyV2luZG93ID0gbm9kZS52YWx1ZT8ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA/PyBkZWZhdWx0V2luZG93O1xuICBjb25zdCB7IHN0YXRlLCBkaXNwYXRjaCB9ID0gdXNlU3RhdGVNYWNoaW5lKGluaXRpYWxTdGF0ZSwge1xuICAgIG1vdW50ZWQ6IHtcbiAgICAgIFVOTU9VTlQ6IFwidW5tb3VudGVkXCIsXG4gICAgICBBTklNQVRJT05fT1VUOiBcInVubW91bnRTdXNwZW5kZWRcIlxuICAgIH0sXG4gICAgdW5tb3VudFN1c3BlbmRlZDoge1xuICAgICAgTU9VTlQ6IFwibW91bnRlZFwiLFxuICAgICAgQU5JTUFUSU9OX0VORDogXCJ1bm1vdW50ZWRcIlxuICAgIH0sXG4gICAgdW5tb3VudGVkOiB7XG4gICAgICBNT1VOVDogXCJtb3VudGVkXCJcbiAgICB9XG4gIH0pO1xuICBjb25zdCBkaXNwYXRjaEN1c3RvbUV2ZW50ID0gKG5hbWUpID0+IHtcbiAgICBpZiAoaXNDbGllbnQpIHtcbiAgICAgIGNvbnN0IGN1c3RvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KG5hbWUsIHsgYnViYmxlczogZmFsc2UsIGNhbmNlbGFibGU6IGZhbHNlIH0pO1xuICAgICAgbm9kZS52YWx1ZT8uZGlzcGF0Y2hFdmVudChjdXN0b21FdmVudCk7XG4gICAgfVxuICB9O1xuICB3YXRjaChcbiAgICBwcmVzZW50LFxuICAgIGFzeW5jIChjdXJyZW50UHJlc2VudCwgcHJldlByZXNlbnQpID0+IHtcbiAgICAgIGNvbnN0IGhhc1ByZXNlbnRDaGFuZ2VkID0gcHJldlByZXNlbnQgIT09IGN1cnJlbnRQcmVzZW50O1xuICAgICAgYXdhaXQgbmV4dFRpY2soKTtcbiAgICAgIGlmIChoYXNQcmVzZW50Q2hhbmdlZCkge1xuICAgICAgICBjb25zdCBwcmV2QW5pbWF0aW9uTmFtZSA9IHByZXZBbmltYXRpb25OYW1lUmVmLnZhbHVlO1xuICAgICAgICBjb25zdCBjdXJyZW50QW5pbWF0aW9uTmFtZSA9IGdldEFuaW1hdGlvbk5hbWUobm9kZS52YWx1ZSk7XG4gICAgICAgIGlmIChjdXJyZW50UHJlc2VudCkge1xuICAgICAgICAgIGRpc3BhdGNoKFwiTU9VTlRcIik7XG4gICAgICAgICAgZGlzcGF0Y2hDdXN0b21FdmVudChcImVudGVyXCIpO1xuICAgICAgICAgIGlmIChjdXJyZW50QW5pbWF0aW9uTmFtZSA9PT0gXCJub25lXCIpXG4gICAgICAgICAgICBkaXNwYXRjaEN1c3RvbUV2ZW50KFwiYWZ0ZXItZW50ZXJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudEFuaW1hdGlvbk5hbWUgPT09IFwibm9uZVwiIHx8IGN1cnJlbnRBbmltYXRpb25OYW1lID09PSBcInVuZGVmaW5lZFwiIHx8IHN0eWxlc1JlZi52YWx1ZT8uZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICBkaXNwYXRjaChcIlVOTU9VTlRcIik7XG4gICAgICAgICAgZGlzcGF0Y2hDdXN0b21FdmVudChcImxlYXZlXCIpO1xuICAgICAgICAgIGRpc3BhdGNoQ3VzdG9tRXZlbnQoXCJhZnRlci1sZWF2ZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpc0FuaW1hdGluZyA9IHByZXZBbmltYXRpb25OYW1lICE9PSBjdXJyZW50QW5pbWF0aW9uTmFtZTtcbiAgICAgICAgICBpZiAocHJldlByZXNlbnQgJiYgaXNBbmltYXRpbmcpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKFwiQU5JTUFUSU9OX09VVFwiKTtcbiAgICAgICAgICAgIGRpc3BhdGNoQ3VzdG9tRXZlbnQoXCJsZWF2ZVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzcGF0Y2goXCJVTk1PVU5UXCIpO1xuICAgICAgICAgICAgZGlzcGF0Y2hDdXN0b21FdmVudChcImFmdGVyLWxlYXZlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUgfVxuICApO1xuICBjb25zdCBoYW5kbGVBbmltYXRpb25FbmQgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBjdXJyZW50QW5pbWF0aW9uTmFtZSA9IGdldEFuaW1hdGlvbk5hbWUobm9kZS52YWx1ZSk7XG4gICAgY29uc3QgaXNDdXJyZW50QW5pbWF0aW9uID0gY3VycmVudEFuaW1hdGlvbk5hbWUuaW5jbHVkZXMoXG4gICAgICBldmVudC5hbmltYXRpb25OYW1lXG4gICAgKTtcbiAgICBjb25zdCBkaXJlY3Rpb25OYW1lID0gc3RhdGUudmFsdWUgPT09IFwibW91bnRlZFwiID8gXCJlbnRlclwiIDogXCJsZWF2ZVwiO1xuICAgIGlmIChldmVudC50YXJnZXQgPT09IG5vZGUudmFsdWUgJiYgaXNDdXJyZW50QW5pbWF0aW9uKSB7XG4gICAgICBkaXNwYXRjaEN1c3RvbUV2ZW50KGBhZnRlci0ke2RpcmVjdGlvbk5hbWV9YCk7XG4gICAgICBkaXNwYXRjaChcIkFOSU1BVElPTl9FTkRcIik7XG4gICAgICBpZiAoIXByZXZQcmVzZW50UmVmLnZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRGaWxsTW9kZSA9IG5vZGUudmFsdWUuc3R5bGUuYW5pbWF0aW9uRmlsbE1vZGU7XG4gICAgICAgIG5vZGUudmFsdWUuc3R5bGUuYW5pbWF0aW9uRmlsbE1vZGUgPSBcImZvcndhcmRzXCI7XG4gICAgICAgIHRpbWVvdXRJZCA9IG93bmVyV2luZG93Py5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAobm9kZS52YWx1ZT8uc3R5bGUuYW5pbWF0aW9uRmlsbE1vZGUgPT09IFwiZm9yd2FyZHNcIikge1xuICAgICAgICAgICAgbm9kZS52YWx1ZS5zdHlsZS5hbmltYXRpb25GaWxsTW9kZSA9IGN1cnJlbnRGaWxsTW9kZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBub2RlLnZhbHVlICYmIGN1cnJlbnRBbmltYXRpb25OYW1lID09PSBcIm5vbmVcIilcbiAgICAgIGRpc3BhdGNoKFwiQU5JTUFUSU9OX0VORFwiKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQW5pbWF0aW9uU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBub2RlLnZhbHVlKSB7XG4gICAgICBwcmV2QW5pbWF0aW9uTmFtZVJlZi52YWx1ZSA9IGdldEFuaW1hdGlvbk5hbWUobm9kZS52YWx1ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCB3YXRjaGVyID0gd2F0Y2goXG4gICAgbm9kZSxcbiAgICAobmV3Tm9kZSwgb2xkTm9kZSkgPT4ge1xuICAgICAgaWYgKG5ld05vZGUpIHtcbiAgICAgICAgc3R5bGVzUmVmLnZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZShuZXdOb2RlKTtcbiAgICAgICAgbmV3Tm9kZS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uc3RhcnRcIiwgaGFuZGxlQW5pbWF0aW9uU3RhcnQpO1xuICAgICAgICBuZXdOb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25jYW5jZWxcIiwgaGFuZGxlQW5pbWF0aW9uRW5kKTtcbiAgICAgICAgbmV3Tm9kZS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIGhhbmRsZUFuaW1hdGlvbkVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXNwYXRjaChcIkFOSU1BVElPTl9FTkRcIik7XG4gICAgICAgIGlmICh0aW1lb3V0SWQgIT09IHZvaWQgMClcbiAgICAgICAgICBvd25lcldpbmRvdz8uY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIG9sZE5vZGU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25zdGFydFwiLCBoYW5kbGVBbmltYXRpb25TdGFydCk7XG4gICAgICAgIG9sZE5vZGU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25jYW5jZWxcIiwgaGFuZGxlQW5pbWF0aW9uRW5kKTtcbiAgICAgICAgb2xkTm9kZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCBoYW5kbGVBbmltYXRpb25FbmQpO1xuICAgICAgfVxuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUgfVxuICApO1xuICBjb25zdCBzdGF0ZVdhdGNoZXIgPSB3YXRjaChzdGF0ZSwgKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRBbmltYXRpb25OYW1lID0gZ2V0QW5pbWF0aW9uTmFtZShub2RlLnZhbHVlKTtcbiAgICBwcmV2QW5pbWF0aW9uTmFtZVJlZi52YWx1ZSA9IHN0YXRlLnZhbHVlID09PSBcIm1vdW50ZWRcIiA/IGN1cnJlbnRBbmltYXRpb25OYW1lIDogXCJub25lXCI7XG4gIH0pO1xuICBvblVubW91bnRlZCgoKSA9PiB7XG4gICAgd2F0Y2hlcigpO1xuICAgIHN0YXRlV2F0Y2hlcigpO1xuICB9KTtcbiAgY29uc3QgaXNQcmVzZW50ID0gY29tcHV0ZWQoXG4gICAgKCkgPT4gW1wibW91bnRlZFwiLCBcInVubW91bnRTdXNwZW5kZWRcIl0uaW5jbHVkZXMoc3RhdGUudmFsdWUpXG4gICk7XG4gIHJldHVybiB7XG4gICAgaXNQcmVzZW50XG4gIH07XG59XG5mdW5jdGlvbiBnZXRBbmltYXRpb25OYW1lKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUgPyBnZXRDb21wdXRlZFN0eWxlKG5vZGUpLmFuaW1hdGlvbk5hbWUgfHwgXCJub25lXCIgOiBcIm5vbmVcIjtcbn1cblxuZXhwb3J0IHsgdXNlUHJlc2VuY2UgYXMgdSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlUHJlc2VuY2UuanMubWFwXG4iLCJpbXBvcnQgeyB1bnJlZkVsZW1lbnQgfSBmcm9tICdAdnVldXNlL2NvcmUnO1xuaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCB0b1JlZnMsIHJlZiwgZ2V0Q3VycmVudEluc3RhbmNlLCBoIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHUgYXMgdXNlUHJlc2VuY2UgfSBmcm9tICcuL3VzZVByZXNlbmNlLmpzJztcbmltcG9ydCB7IHIgYXMgcmVuZGVyU2xvdEZyYWdtZW50cyB9IGZyb20gJy4uL3NoYXJlZC9yZW5kZXJTbG90RnJhZ21lbnRzLmpzJztcblxuY29uc3QgUHJlc2VuY2UgPSBkZWZpbmVDb21wb25lbnQoe1xuICBuYW1lOiBcIlByZXNlbmNlXCIsXG4gIHByb3BzOiB7XG4gICAgcHJlc2VudDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBmb3JjZU1vdW50OiB7XG4gICAgICB0eXBlOiBCb29sZWFuXG4gICAgfVxuICB9LFxuICBzbG90czoge30sXG4gIHNldHVwKHByb3BzLCB7IHNsb3RzLCBleHBvc2UgfSkge1xuICAgIGNvbnN0IHsgcHJlc2VudCwgZm9yY2VNb3VudCB9ID0gdG9SZWZzKHByb3BzKTtcbiAgICBjb25zdCBub2RlID0gcmVmKCk7XG4gICAgY29uc3QgeyBpc1ByZXNlbnQgfSA9IHVzZVByZXNlbmNlKHByZXNlbnQsIG5vZGUpO1xuICAgIGV4cG9zZSh7IHByZXNlbnQ6IGlzUHJlc2VudCB9KTtcbiAgICBsZXQgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0KHsgcHJlc2VudDogaXNQcmVzZW50LnZhbHVlIH0pO1xuICAgIGNoaWxkcmVuID0gcmVuZGVyU2xvdEZyYWdtZW50cyhjaGlsZHJlbiB8fCBbXSk7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4/Lmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudE5hbWUgPSBpbnN0YW5jZT8ucGFyZW50Py50eXBlLm5hbWUgPyBgPCR7aW5zdGFuY2UucGFyZW50LnR5cGUubmFtZX0gLz5gIDogXCJjb21wb25lbnRcIjtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgW1xuICAgICAgICAgIGBEZXRlY3RlZCBhbiBpbnZhbGlkIGNoaWxkcmVuIGZvciBcXGAke2NvbXBvbmVudE5hbWV9XFxgIGZvciAgXFxgUHJlc2VuY2VcXGAgY29tcG9uZW50LmAsXG4gICAgICAgICAgXCJcIixcbiAgICAgICAgICBcIk5vdGU6IFByZXNlbmNlIHdvcmtzIHNpbWlsYXJseSB0byBgdi1pZmAgZGlyZWN0bHksIGJ1dCBpdCB3YWl0cyBmb3IgYW5pbWF0aW9uL3RyYW5zaXRpb24gdG8gZmluaXNoZWQgYmVmb3JlIHVubW91bnRpbmcuIFNvIGl0IGV4cGVjdCBvbmx5IG9uZSBkaXJlY3QgY2hpbGQgb2YgdmFsaWQgVk5vZGUgdHlwZS5cIixcbiAgICAgICAgICBcIllvdSBjYW4gYXBwbHkgYSBmZXcgc29sdXRpb25zOlwiLFxuICAgICAgICAgIFtcbiAgICAgICAgICAgIFwiUHJvdmlkZSBhIHNpbmdsZSBjaGlsZCBlbGVtZW50IHNvIHRoYXQgYHByZXNlbmNlYCBkaXJlY3RpdmUgYXR0YWNoIGNvcnJlY3RseS5cIixcbiAgICAgICAgICAgIFwiRW5zdXJlIHRoZSBmaXJzdCBjaGlsZCBpcyBhbiBhY3R1YWwgZWxlbWVudCBpbnN0ZWFkIG9mIGEgcmF3IHRleHQgbm9kZSBvciBjb21tZW50IG5vZGUuXCJcbiAgICAgICAgICBdLm1hcCgobGluZSkgPT4gYCAgLSAke2xpbmV9YCkuam9pbihcIlxcblwiKVxuICAgICAgICBdLmpvaW4oXCJcXG5cIilcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoZm9yY2VNb3VudC52YWx1ZSB8fCBwcmVzZW50LnZhbHVlIHx8IGlzUHJlc2VudC52YWx1ZSkge1xuICAgICAgICByZXR1cm4gaChzbG90cy5kZWZhdWx0KHsgcHJlc2VudDogaXNQcmVzZW50LnZhbHVlIH0pWzBdLCB7XG4gICAgICAgICAgcmVmOiAodikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWwgPSB1bnJlZkVsZW1lbnQodik7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsPy5oYXNBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICAgIGlmIChlbD8uaGFzQXR0cmlidXRlKFwiZGF0YS1yZWthLXBvcHBlci1jb250ZW50LXdyYXBwZXJcIikpXG4gICAgICAgICAgICAgIG5vZGUudmFsdWUgPSBlbC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgbm9kZS52YWx1ZSA9IGVsO1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59KTtcblxuZXhwb3J0IHsgUHJlc2VuY2UgYXMgUCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJlc2VuY2UuanMubWFwXG4iLCJpbXBvcnQgeyBnZXRDdXJyZW50SW5zdGFuY2UsIHRvSGFuZGxlcktleSwgY2FtZWxpemUgfSBmcm9tICd2dWUnO1xuXG5mdW5jdGlvbiB1c2VFbWl0QXNQcm9wcyhlbWl0KSB7XG4gIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IGV2ZW50cyA9IHZtPy50eXBlLmVtaXRzO1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgaWYgKCFldmVudHM/Lmxlbmd0aCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBObyBlbWl0dGVkIGV2ZW50IGZvdW5kLiBQbGVhc2UgY2hlY2sgY29tcG9uZW50OiAke3ZtPy50eXBlLl9fbmFtZX1gXG4gICAgKTtcbiAgfVxuICBldmVudHM/LmZvckVhY2goKGV2KSA9PiB7XG4gICAgcmVzdWx0W3RvSGFuZGxlcktleShjYW1lbGl6ZShldikpXSA9ICguLi5hcmcpID0+IGVtaXQoZXYsIC4uLmFyZyk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyB1c2VFbWl0QXNQcm9wcyBhcyB1IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VFbWl0QXNQcm9wcy5qcy5tYXBcbiIsImZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoKSB7XG4gIGxldCBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgaWYgKGFjdGl2ZUVsZW1lbnQgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHdoaWxlIChhY3RpdmVFbGVtZW50ICE9IG51bGwgJiYgYWN0aXZlRWxlbWVudC5zaGFkb3dSb290ICE9IG51bGwgJiYgYWN0aXZlRWxlbWVudC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQgIT0gbnVsbCkge1xuICAgIGFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDtcbiAgfVxuICByZXR1cm4gYWN0aXZlRWxlbWVudDtcbn1cblxuZXhwb3J0IHsgZ2V0QWN0aXZlRWxlbWVudCBhcyBnIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRBY3RpdmVFbGVtZW50LmpzLm1hcFxuIiwiaW1wb3J0IHsgZ2V0Q3VycmVudEluc3RhbmNlLCB0b1JlZiwgY29tcHV0ZWQsIGNhbWVsaXplIH0gZnJvbSAndnVlJztcblxuZnVuY3Rpb24gdXNlRm9yd2FyZFByb3BzKHByb3BzKSB7XG4gIGNvbnN0IHZtID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IE9iamVjdC5rZXlzKHZtPy50eXBlLnByb3BzID8/IHt9KS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSAodm0/LnR5cGUucHJvcHNbY3Vycl0pLmRlZmF1bHQ7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSAhPT0gdm9pZCAwKVxuICAgICAgcHJldltjdXJyXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICByZXR1cm4gcHJldjtcbiAgfSwge30pO1xuICBjb25zdCByZWZQcm9wcyA9IHRvUmVmKHByb3BzKTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBwcmVzZXJ2ZWRQcm9wcyA9IHt9O1xuICAgIGNvbnN0IGFzc2lnbmVkUHJvcHMgPSB2bT8udm5vZGUucHJvcHMgPz8ge307XG4gICAgT2JqZWN0LmtleXMoYXNzaWduZWRQcm9wcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBwcmVzZXJ2ZWRQcm9wc1tjYW1lbGl6ZShrZXkpXSA9IGFzc2lnbmVkUHJvcHNba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoeyAuLi5kZWZhdWx0UHJvcHMsIC4uLnByZXNlcnZlZFByb3BzIH0pLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgaWYgKHJlZlByb3BzLnZhbHVlW2N1cnJdICE9PSB2b2lkIDApXG4gICAgICAgIHByZXZbY3Vycl0gPSByZWZQcm9wcy52YWx1ZVtjdXJyXTtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH0sIHt9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCB7IHVzZUZvcndhcmRQcm9wcyBhcyB1IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VGb3J3YXJkUHJvcHMuanMubWFwXG4iLCJpbXBvcnQgeyBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyB1IGFzIHVzZUVtaXRBc1Byb3BzIH0gZnJvbSAnLi91c2VFbWl0QXNQcm9wcy5qcyc7XG5pbXBvcnQgeyB1IGFzIHVzZUZvcndhcmRQcm9wcyB9IGZyb20gJy4vdXNlRm9yd2FyZFByb3BzLmpzJztcblxuZnVuY3Rpb24gdXNlRm9yd2FyZFByb3BzRW1pdHMocHJvcHMsIGVtaXQpIHtcbiAgY29uc3QgcGFyc2VkUHJvcHMgPSB1c2VGb3J3YXJkUHJvcHMocHJvcHMpO1xuICBjb25zdCBlbWl0c0FzUHJvcHMgPSBlbWl0ID8gdXNlRW1pdEFzUHJvcHMoZW1pdCkgOiB7fTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+ICh7XG4gICAgLi4ucGFyc2VkUHJvcHMudmFsdWUsXG4gICAgLi4uZW1pdHNBc1Byb3BzXG4gIH0pKTtcbn1cblxuZXhwb3J0IHsgdXNlRm9yd2FyZFByb3BzRW1pdHMgYXMgdSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlRm9yd2FyZFByb3BzRW1pdHMuanMubWFwXG4iLCJpbXBvcnQgeyB1bnJlZkVsZW1lbnQgfSBmcm9tICdAdnVldXNlL2NvcmUnO1xuaW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIHVzZVByaW1pdGl2ZUVsZW1lbnQoKSB7XG4gIGNvbnN0IHByaW1pdGl2ZUVsZW1lbnQgPSByZWYoKTtcbiAgY29uc3QgY3VycmVudEVsZW1lbnQgPSBjb21wdXRlZCgoKSA9PiBbXCIjdGV4dFwiLCBcIiNjb21tZW50XCJdLmluY2x1ZGVzKHByaW1pdGl2ZUVsZW1lbnQudmFsdWU/LiRlbC5ub2RlTmFtZSkgPyBwcmltaXRpdmVFbGVtZW50LnZhbHVlPy4kZWwubmV4dEVsZW1lbnRTaWJsaW5nIDogdW5yZWZFbGVtZW50KHByaW1pdGl2ZUVsZW1lbnQpKTtcbiAgcmV0dXJuIHtcbiAgICBwcmltaXRpdmVFbGVtZW50LFxuICAgIGN1cnJlbnRFbGVtZW50XG4gIH07XG59XG5cbmV4cG9ydCB7IHVzZVByaW1pdGl2ZUVsZW1lbnQgYXMgdSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlUHJpbWl0aXZlRWxlbWVudC5qcy5tYXBcbiIsImltcG9ydCB7IHJlZiwgcHJvdmlkZSwgaW5qZWN0LCBkZWZpbmVDb21wb25lbnQsIHdhdGNoLCBoLCB3YXRjaEVmZmVjdCwgbWFya1JhdywgY29tcHV0ZWQgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgdSBhcyB1c2VQcmltaXRpdmVFbGVtZW50IH0gZnJvbSAnLi4vUHJpbWl0aXZlL3VzZVByaW1pdGl2ZUVsZW1lbnQuanMnO1xuaW1wb3J0IHsgUyBhcyBTbG90IH0gZnJvbSAnLi4vUHJpbWl0aXZlL1Nsb3QuanMnO1xuXG5jb25zdCBJVEVNX0RBVEFfQVRUUiA9IFwiZGF0YS1yZWthLWNvbGxlY3Rpb24taXRlbVwiO1xuZnVuY3Rpb24gdXNlQ29sbGVjdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBrZXkgPSBcIlwiLCBpc1Byb3ZpZGVyID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGluamVjdGlvbktleSA9IGAke2tleX1Db2xsZWN0aW9uUHJvdmlkZXJgO1xuICBsZXQgY29udGV4dDtcbiAgaWYgKGlzUHJvdmlkZXIpIHtcbiAgICBjb25zdCBpdGVtTWFwID0gcmVmKC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIGNvbnN0IGNvbGxlY3Rpb25SZWYgPSByZWYoKTtcbiAgICBjb250ZXh0ID0ge1xuICAgICAgY29sbGVjdGlvblJlZixcbiAgICAgIGl0ZW1NYXBcbiAgICB9O1xuICAgIHByb3ZpZGUoaW5qZWN0aW9uS2V5LCBjb250ZXh0KTtcbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0ID0gaW5qZWN0KGluamVjdGlvbktleSk7XG4gIH1cbiAgY29uc3QgZ2V0SXRlbXMgPSAoaW5jbHVkZURpc2FibGVkSXRlbSA9IGZhbHNlKSA9PiB7XG4gICAgY29uc3QgY29sbGVjdGlvbk5vZGUgPSBjb250ZXh0LmNvbGxlY3Rpb25SZWYudmFsdWU7XG4gICAgaWYgKCFjb2xsZWN0aW9uTm9kZSlcbiAgICAgIHJldHVybiBbXTtcbiAgICBjb25zdCBvcmRlcmVkTm9kZXMgPSBBcnJheS5mcm9tKGNvbGxlY3Rpb25Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYFske0lURU1fREFUQV9BVFRSfV1gKSk7XG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKGNvbnRleHQuaXRlbU1hcC52YWx1ZS52YWx1ZXMoKSk7XG4gICAgY29uc3Qgb3JkZXJlZEl0ZW1zID0gaXRlbXMuc29ydChcbiAgICAgIChhLCBiKSA9PiBvcmRlcmVkTm9kZXMuaW5kZXhPZihhLnJlZikgLSBvcmRlcmVkTm9kZXMuaW5kZXhPZihiLnJlZilcbiAgICApO1xuICAgIGlmIChpbmNsdWRlRGlzYWJsZWRJdGVtKVxuICAgICAgcmV0dXJuIG9yZGVyZWRJdGVtcztcbiAgICBlbHNlXG4gICAgICByZXR1cm4gb3JkZXJlZEl0ZW1zLmZpbHRlcigoaSkgPT4gaS5yZWYuZGF0YXNldC5kaXNhYmxlZCAhPT0gXCJcIik7XG4gIH07XG4gIGNvbnN0IENvbGxlY3Rpb25TbG90ID0gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiBcIkNvbGxlY3Rpb25TbG90XCIsXG4gICAgc2V0dXAoXywgeyBzbG90cyB9KSB7XG4gICAgICBjb25zdCB7IHByaW1pdGl2ZUVsZW1lbnQsIGN1cnJlbnRFbGVtZW50IH0gPSB1c2VQcmltaXRpdmVFbGVtZW50KCk7XG4gICAgICB3YXRjaChjdXJyZW50RWxlbWVudCwgKCkgPT4ge1xuICAgICAgICBjb250ZXh0LmNvbGxlY3Rpb25SZWYudmFsdWUgPSBjdXJyZW50RWxlbWVudC52YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IGgoU2xvdCwgeyByZWY6IHByaW1pdGl2ZUVsZW1lbnQgfSwgc2xvdHMpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IENvbGxlY3Rpb25JdGVtID0gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiBcIkNvbGxlY3Rpb25JdGVtXCIsXG4gICAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcbiAgICBwcm9wczoge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgLy8gSXQgYWNjZXB0cyBhbnkgdmFsdWVcbiAgICAgICAgdmFsaWRhdG9yOiAoKSA9PiB0cnVlXG4gICAgICB9XG4gICAgfSxcbiAgICBzZXR1cChwcm9wcywgeyBzbG90cywgYXR0cnMgfSkge1xuICAgICAgY29uc3QgeyBwcmltaXRpdmVFbGVtZW50LCBjdXJyZW50RWxlbWVudCB9ID0gdXNlUHJpbWl0aXZlRWxlbWVudCgpO1xuICAgICAgd2F0Y2hFZmZlY3QoKGNsZWFudXBGbikgPT4ge1xuICAgICAgICBpZiAoY3VycmVudEVsZW1lbnQudmFsdWUpIHtcbiAgICAgICAgICBjb25zdCBrZXkyID0gbWFya1JhdyhjdXJyZW50RWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgY29udGV4dC5pdGVtTWFwLnZhbHVlLnNldChrZXkyLCB7IHJlZjogY3VycmVudEVsZW1lbnQudmFsdWUsIHZhbHVlOiBwcm9wcy52YWx1ZSB9KTtcbiAgICAgICAgICBjbGVhbnVwRm4oKCkgPT4gY29udGV4dC5pdGVtTWFwLnZhbHVlLmRlbGV0ZShrZXkyKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICgpID0+IGgoU2xvdCwgeyAuLi5hdHRycywgW0lURU1fREFUQV9BVFRSXTogXCJcIiwgcmVmOiBwcmltaXRpdmVFbGVtZW50IH0sIHNsb3RzKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZWFjdGl2ZUl0ZW1zID0gY29tcHV0ZWQoKCkgPT4gQXJyYXkuZnJvbShjb250ZXh0Lml0ZW1NYXAudmFsdWUudmFsdWVzKCkpKTtcbiAgY29uc3QgaXRlbU1hcFNpemUgPSBjb21wdXRlZCgoKSA9PiBjb250ZXh0Lml0ZW1NYXAudmFsdWUuc2l6ZSk7XG4gIHJldHVybiB7IGdldEl0ZW1zLCByZWFjdGl2ZUl0ZW1zLCBpdGVtTWFwU2l6ZSwgQ29sbGVjdGlvblNsb3QsIENvbGxlY3Rpb25JdGVtIH07XG59XG5cbmV4cG9ydCB7IHVzZUNvbGxlY3Rpb24gYXMgdSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29sbGVjdGlvbi5qcy5tYXBcbiIsImltcG9ydCB7IGcgYXMgZ2V0QWN0aXZlRWxlbWVudCB9IGZyb20gJy4uL3NoYXJlZC9nZXRBY3RpdmVFbGVtZW50LmpzJztcblxuY29uc3QgRU5UUllfRk9DVVMgPSBcInJvdmluZ0ZvY3VzR3JvdXAub25FbnRyeUZvY3VzXCI7XG5jb25zdCBFVkVOVF9PUFRJT05TID0geyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogdHJ1ZSB9O1xuY29uc3QgTUFQX0tFWV9UT19GT0NVU19JTlRFTlQgPSB7XG4gIEFycm93TGVmdDogXCJwcmV2XCIsXG4gIEFycm93VXA6IFwicHJldlwiLFxuICBBcnJvd1JpZ2h0OiBcIm5leHRcIixcbiAgQXJyb3dEb3duOiBcIm5leHRcIixcbiAgUGFnZVVwOiBcImZpcnN0XCIsXG4gIEhvbWU6IFwiZmlyc3RcIixcbiAgUGFnZURvd246IFwibGFzdFwiLFxuICBFbmQ6IFwibGFzdFwiXG59O1xuZnVuY3Rpb24gZ2V0RGlyZWN0aW9uQXdhcmVLZXkoa2V5LCBkaXIpIHtcbiAgaWYgKGRpciAhPT0gXCJydGxcIilcbiAgICByZXR1cm4ga2V5O1xuICByZXR1cm4ga2V5ID09PSBcIkFycm93TGVmdFwiID8gXCJBcnJvd1JpZ2h0XCIgOiBrZXkgPT09IFwiQXJyb3dSaWdodFwiID8gXCJBcnJvd0xlZnRcIiA6IGtleTtcbn1cbmZ1bmN0aW9uIGdldEZvY3VzSW50ZW50KGV2ZW50LCBvcmllbnRhdGlvbiwgZGlyKSB7XG4gIGNvbnN0IGtleSA9IGdldERpcmVjdGlvbkF3YXJlS2V5KGV2ZW50LmtleSwgZGlyKTtcbiAgaWYgKG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgJiYgW1wiQXJyb3dMZWZ0XCIsIFwiQXJyb3dSaWdodFwiXS5pbmNsdWRlcyhrZXkpKVxuICAgIHJldHVybiB2b2lkIDA7XG4gIGlmIChvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCIgJiYgW1wiQXJyb3dVcFwiLCBcIkFycm93RG93blwiXS5pbmNsdWRlcyhrZXkpKVxuICAgIHJldHVybiB2b2lkIDA7XG4gIHJldHVybiBNQVBfS0VZX1RPX0ZPQ1VTX0lOVEVOVFtrZXldO1xufVxuZnVuY3Rpb24gZm9jdXNGaXJzdChjYW5kaWRhdGVzLCBwcmV2ZW50U2Nyb2xsID0gZmFsc2UpIHtcbiAgY29uc3QgUFJFVklPVVNMWV9GT0NVU0VEX0VMRU1FTlQgPSBnZXRBY3RpdmVFbGVtZW50KCk7XG4gIGZvciAoY29uc3QgY2FuZGlkYXRlIG9mIGNhbmRpZGF0ZXMpIHtcbiAgICBpZiAoY2FuZGlkYXRlID09PSBQUkVWSU9VU0xZX0ZPQ1VTRURfRUxFTUVOVClcbiAgICAgIHJldHVybjtcbiAgICBjYW5kaWRhdGUuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsIH0pO1xuICAgIGlmIChnZXRBY3RpdmVFbGVtZW50KCkgIT09IFBSRVZJT1VTTFlfRk9DVVNFRF9FTEVNRU5UKVxuICAgICAgcmV0dXJuO1xuICB9XG59XG5mdW5jdGlvbiB3cmFwQXJyYXkoYXJyYXksIHN0YXJ0SW5kZXgpIHtcbiAgcmV0dXJuIGFycmF5Lm1hcCgoXywgaW5kZXgpID0+IGFycmF5WyhzdGFydEluZGV4ICsgaW5kZXgpICUgYXJyYXkubGVuZ3RoXSk7XG59XG5cbmV4cG9ydCB7IEVOVFJZX0ZPQ1VTIGFzIEUsIE1BUF9LRVlfVE9fRk9DVVNfSU5URU5UIGFzIE0sIEVWRU5UX09QVElPTlMgYXMgYSwgZm9jdXNGaXJzdCBhcyBmLCBnZXRGb2N1c0ludGVudCBhcyBnLCB3cmFwQXJyYXkgYXMgdyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwXG4iLCJpbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHRvUmVmcywgcmVmLCBjcmVhdGVCbG9jaywgb3BlbkJsb2NrLCB1bnJlZiwgd2l0aEN0eCwgY3JlYXRlVk5vZGUsIHJlbmRlclNsb3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgdXNlVk1vZGVsIH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJztcbmltcG9ydCB7IHUgYXMgdXNlQ29sbGVjdGlvbiB9IGZyb20gJy4uL0NvbGxlY3Rpb24vQ29sbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBmIGFzIGZvY3VzRmlyc3QsIEUgYXMgRU5UUllfRk9DVVMsIGEgYXMgRVZFTlRfT1BUSU9OUyB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgdSBhcyB1c2VEaXJlY3Rpb24gfSBmcm9tICcuLi9zaGFyZWQvdXNlRGlyZWN0aW9uLmpzJztcbmltcG9ydCB7IGMgYXMgY3JlYXRlQ29udGV4dCB9IGZyb20gJy4uL3NoYXJlZC9jcmVhdGVDb250ZXh0LmpzJztcbmltcG9ydCB7IFAgYXMgUHJpbWl0aXZlIH0gZnJvbSAnLi4vUHJpbWl0aXZlL1ByaW1pdGl2ZS5qcyc7XG5cbmNvbnN0IFtpbmplY3RSb3ZpbmdGb2N1c0dyb3VwQ29udGV4dCwgcHJvdmlkZVJvdmluZ0ZvY3VzR3JvdXBDb250ZXh0XSA9IGNyZWF0ZUNvbnRleHQoXCJSb3ZpbmdGb2N1c0dyb3VwXCIpO1xuY29uc3QgX3NmY19tYWluID0gLyogQF9fUFVSRV9fICovIGRlZmluZUNvbXBvbmVudCh7XG4gIF9fbmFtZTogXCJSb3ZpbmdGb2N1c0dyb3VwXCIsXG4gIHByb3BzOiB7XG4gICAgb3JpZW50YXRpb246IHsgZGVmYXVsdDogdm9pZCAwIH0sXG4gICAgZGlyOiB7fSxcbiAgICBsb29wOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sXG4gICAgY3VycmVudFRhYlN0b3BJZDoge30sXG4gICAgZGVmYXVsdEN1cnJlbnRUYWJTdG9wSWQ6IHt9LFxuICAgIHByZXZlbnRTY3JvbGxPbkVudHJ5Rm9jdXM6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICBhc0NoaWxkOiB7IHR5cGU6IEJvb2xlYW4gfSxcbiAgICBhczoge31cbiAgfSxcbiAgZW1pdHM6IFtcImVudHJ5Rm9jdXNcIiwgXCJ1cGRhdGU6Y3VycmVudFRhYlN0b3BJZFwiXSxcbiAgc2V0dXAoX19wcm9wcywgeyBleHBvc2U6IF9fZXhwb3NlLCBlbWl0OiBfX2VtaXQgfSkge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCBlbWl0cyA9IF9fZW1pdDtcbiAgICBjb25zdCB7IGxvb3AsIG9yaWVudGF0aW9uLCBkaXI6IHByb3BEaXIgfSA9IHRvUmVmcyhwcm9wcyk7XG4gICAgY29uc3QgZGlyID0gdXNlRGlyZWN0aW9uKHByb3BEaXIpO1xuICAgIGNvbnN0IGN1cnJlbnRUYWJTdG9wSWQgPSB1c2VWTW9kZWwocHJvcHMsIFwiY3VycmVudFRhYlN0b3BJZFwiLCBlbWl0cywge1xuICAgICAgZGVmYXVsdFZhbHVlOiBwcm9wcy5kZWZhdWx0Q3VycmVudFRhYlN0b3BJZCxcbiAgICAgIHBhc3NpdmU6IHByb3BzLmN1cnJlbnRUYWJTdG9wSWQgPT09IHZvaWQgMFxuICAgIH0pO1xuICAgIGNvbnN0IGlzVGFiYmluZ0JhY2tPdXQgPSByZWYoZmFsc2UpO1xuICAgIGNvbnN0IGlzQ2xpY2tGb2N1cyA9IHJlZihmYWxzZSk7XG4gICAgY29uc3QgZm9jdXNhYmxlSXRlbXNDb3VudCA9IHJlZigwKTtcbiAgICBjb25zdCB7IGdldEl0ZW1zLCBDb2xsZWN0aW9uU2xvdCB9ID0gdXNlQ29sbGVjdGlvbih7IGlzUHJvdmlkZXI6IHRydWUgfSk7XG4gICAgZnVuY3Rpb24gaGFuZGxlRm9jdXMoZXZlbnQpIHtcbiAgICAgIGNvbnN0IGlzS2V5Ym9hcmRGb2N1cyA9ICFpc0NsaWNrRm9jdXMudmFsdWU7XG4gICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldCAmJiBldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQgJiYgaXNLZXlib2FyZEZvY3VzICYmICFpc1RhYmJpbmdCYWNrT3V0LnZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5Rm9jdXNFdmVudCA9IG5ldyBDdXN0b21FdmVudChFTlRSWV9GT0NVUywgRVZFTlRfT1BUSU9OUyk7XG4gICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudChlbnRyeUZvY3VzRXZlbnQpO1xuICAgICAgICBlbWl0cyhcImVudHJ5Rm9jdXNcIiwgZW50cnlGb2N1c0V2ZW50KTtcbiAgICAgICAgaWYgKCFlbnRyeUZvY3VzRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgIGNvbnN0IGl0ZW1zID0gZ2V0SXRlbXMoKS5tYXAoKGkpID0+IGkucmVmKS5maWx0ZXIoKGkpID0+IGkuZGF0YXNldC5kaXNhYmxlZCAhPT0gXCJcIik7XG4gICAgICAgICAgY29uc3QgYWN0aXZlSXRlbSA9IGl0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1hY3RpdmVcIikgPT09IFwiXCIpO1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRJdGVtID0gaXRlbXMuZmluZChcbiAgICAgICAgICAgIChpdGVtKSA9PiBpdGVtLmlkID09PSBjdXJyZW50VGFiU3RvcElkLnZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBjYW5kaWRhdGVJdGVtcyA9IFthY3RpdmVJdGVtLCBjdXJyZW50SXRlbSwgLi4uaXRlbXNdLmZpbHRlcihcbiAgICAgICAgICAgIEJvb2xlYW5cbiAgICAgICAgICApO1xuICAgICAgICAgIGZvY3VzRmlyc3QoY2FuZGlkYXRlSXRlbXMsIHByb3BzLnByZXZlbnRTY3JvbGxPbkVudHJ5Rm9jdXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpc0NsaWNrRm9jdXMudmFsdWUgPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTW91c2VVcCgpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpc0NsaWNrRm9jdXMudmFsdWUgPSBmYWxzZTtcbiAgICAgIH0sIDEpO1xuICAgIH1cbiAgICBfX2V4cG9zZSh7XG4gICAgICBnZXRJdGVtc1xuICAgIH0pO1xuICAgIHByb3ZpZGVSb3ZpbmdGb2N1c0dyb3VwQ29udGV4dCh7XG4gICAgICBsb29wLFxuICAgICAgZGlyLFxuICAgICAgb3JpZW50YXRpb24sXG4gICAgICBjdXJyZW50VGFiU3RvcElkLFxuICAgICAgb25JdGVtRm9jdXM6ICh0YWJTdG9wSWQpID0+IHtcbiAgICAgICAgY3VycmVudFRhYlN0b3BJZC52YWx1ZSA9IHRhYlN0b3BJZDtcbiAgICAgIH0sXG4gICAgICBvbkl0ZW1TaGlmdFRhYjogKCkgPT4ge1xuICAgICAgICBpc1RhYmJpbmdCYWNrT3V0LnZhbHVlID0gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBvbkZvY3VzYWJsZUl0ZW1BZGQ6ICgpID0+IHtcbiAgICAgICAgZm9jdXNhYmxlSXRlbXNDb3VudC52YWx1ZSsrO1xuICAgICAgfSxcbiAgICAgIG9uRm9jdXNhYmxlSXRlbVJlbW92ZTogKCkgPT4ge1xuICAgICAgICBmb2N1c2FibGVJdGVtc0NvdW50LnZhbHVlLS07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoQ29sbGVjdGlvblNsb3QpLCBudWxsLCB7XG4gICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIGNyZWF0ZVZOb2RlKHVucmVmKFByaW1pdGl2ZSksIHtcbiAgICAgICAgICAgIHRhYmluZGV4OiBpc1RhYmJpbmdCYWNrT3V0LnZhbHVlIHx8IGZvY3VzYWJsZUl0ZW1zQ291bnQudmFsdWUgPT09IDAgPyAtMSA6IDAsXG4gICAgICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogdW5yZWYob3JpZW50YXRpb24pLFxuICAgICAgICAgICAgYXM6IF9jdHguYXMsXG4gICAgICAgICAgICBcImFzLWNoaWxkXCI6IF9jdHguYXNDaGlsZCxcbiAgICAgICAgICAgIGRpcjogdW5yZWYoZGlyKSxcbiAgICAgICAgICAgIHN0eWxlOiB7IFwib3V0bGluZVwiOiBcIm5vbmVcIiB9LFxuICAgICAgICAgICAgb25Nb3VzZWRvd246IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gKCRldmVudCkgPT4gaXNDbGlja0ZvY3VzLnZhbHVlID0gdHJ1ZSksXG4gICAgICAgICAgICBvbk1vdXNldXA6IGhhbmRsZU1vdXNlVXAsXG4gICAgICAgICAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cyxcbiAgICAgICAgICAgIG9uQmx1cjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSAoJGV2ZW50KSA9PiBpc1RhYmJpbmdCYWNrT3V0LnZhbHVlID0gZmFsc2UpXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAzXG4gICAgICAgICAgfSwgOCwgW1widGFiaW5kZXhcIiwgXCJkYXRhLW9yaWVudGF0aW9uXCIsIFwiYXNcIiwgXCJhcy1jaGlsZFwiLCBcImRpclwiXSlcbiAgICAgICAgXSksXG4gICAgICAgIF86IDNcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBfc2ZjX21haW4gYXMgXywgaW5qZWN0Um92aW5nRm9jdXNHcm91cENvbnRleHQgYXMgaSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Um92aW5nRm9jdXNHcm91cC5qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIGNyZWF0ZUJsb2NrLCBvcGVuQmxvY2ssIHVucmVmLCB3aXRoQ3R4LCBjcmVhdGVWTm9kZSwgcmVuZGVyU2xvdCwgbmV4dFRpY2sgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgdSBhcyB1c2VDb2xsZWN0aW9uIH0gZnJvbSAnLi4vQ29sbGVjdGlvbi9Db2xsZWN0aW9uLmpzJztcbmltcG9ydCB7IGcgYXMgZ2V0Rm9jdXNJbnRlbnQsIHcgYXMgd3JhcEFycmF5LCBmIGFzIGZvY3VzRmlyc3QgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGkgYXMgaW5qZWN0Um92aW5nRm9jdXNHcm91cENvbnRleHQgfSBmcm9tICcuL1JvdmluZ0ZvY3VzR3JvdXAuanMnO1xuaW1wb3J0IHsgdSBhcyB1c2VJZCB9IGZyb20gJy4uL3NoYXJlZC91c2VJZC5qcyc7XG5pbXBvcnQgeyBQIGFzIFByaW1pdGl2ZSB9IGZyb20gJy4uL1ByaW1pdGl2ZS9QcmltaXRpdmUuanMnO1xuXG5jb25zdCBfc2ZjX21haW4gPSAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgX19uYW1lOiBcIlJvdmluZ0ZvY3VzSXRlbVwiLFxuICBwcm9wczoge1xuICAgIHRhYlN0b3BJZDoge30sXG4gICAgZm9jdXNhYmxlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICBhY3RpdmU6IHsgdHlwZTogQm9vbGVhbiB9LFxuICAgIGFsbG93U2hpZnRLZXk6IHsgdHlwZTogQm9vbGVhbiB9LFxuICAgIGFzQ2hpbGQ6IHsgdHlwZTogQm9vbGVhbiB9LFxuICAgIGFzOiB7IGRlZmF1bHQ6IFwic3BhblwiIH1cbiAgfSxcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gaW5qZWN0Um92aW5nRm9jdXNHcm91cENvbnRleHQoKTtcbiAgICBjb25zdCByYW5kb21JZCA9IHVzZUlkKCk7XG4gICAgY29uc3QgaWQgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy50YWJTdG9wSWQgfHwgcmFuZG9tSWQpO1xuICAgIGNvbnN0IGlzQ3VycmVudFRhYlN0b3AgPSBjb21wdXRlZChcbiAgICAgICgpID0+IGNvbnRleHQuY3VycmVudFRhYlN0b3BJZC52YWx1ZSA9PT0gaWQudmFsdWVcbiAgICApO1xuICAgIGNvbnN0IHsgZ2V0SXRlbXMsIENvbGxlY3Rpb25JdGVtIH0gPSB1c2VDb2xsZWN0aW9uKCk7XG4gICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgIGlmIChwcm9wcy5mb2N1c2FibGUpXG4gICAgICAgIGNvbnRleHQub25Gb2N1c2FibGVJdGVtQWRkKCk7XG4gICAgfSk7XG4gICAgb25Vbm1vdW50ZWQoKCkgPT4ge1xuICAgICAgaWYgKHByb3BzLmZvY3VzYWJsZSlcbiAgICAgICAgY29udGV4dC5vbkZvY3VzYWJsZUl0ZW1SZW1vdmUoKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBoYW5kbGVLZXlkb3duKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSBcIlRhYlwiICYmIGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgIGNvbnRleHQub25JdGVtU2hpZnRUYWIoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgZm9jdXNJbnRlbnQgPSBnZXRGb2N1c0ludGVudChcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGNvbnRleHQub3JpZW50YXRpb24udmFsdWUsXG4gICAgICAgIGNvbnRleHQuZGlyLnZhbHVlXG4gICAgICApO1xuICAgICAgaWYgKGZvY3VzSW50ZW50ICE9PSB2b2lkIDApIHtcbiAgICAgICAgaWYgKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5hbHRLZXkgfHwgKHByb3BzLmFsbG93U2hpZnRLZXkgPyBmYWxzZSA6IGV2ZW50LnNoaWZ0S2V5KSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCBjYW5kaWRhdGVOb2RlcyA9IFsuLi5nZXRJdGVtcygpLm1hcCgoaSkgPT4gaS5yZWYpLmZpbHRlcigoaSkgPT4gaS5kYXRhc2V0LmRpc2FibGVkICE9PSBcIlwiKV07XG4gICAgICAgIGlmIChmb2N1c0ludGVudCA9PT0gXCJsYXN0XCIpIHtcbiAgICAgICAgICBjYW5kaWRhdGVOb2Rlcy5yZXZlcnNlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9jdXNJbnRlbnQgPT09IFwicHJldlwiIHx8IGZvY3VzSW50ZW50ID09PSBcIm5leHRcIikge1xuICAgICAgICAgIGlmIChmb2N1c0ludGVudCA9PT0gXCJwcmV2XCIpXG4gICAgICAgICAgICBjYW5kaWRhdGVOb2Rlcy5yZXZlcnNlKCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gY2FuZGlkYXRlTm9kZXMuaW5kZXhPZihcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXRcbiAgICAgICAgICApO1xuICAgICAgICAgIGNhbmRpZGF0ZU5vZGVzID0gY29udGV4dC5sb29wLnZhbHVlID8gd3JhcEFycmF5KGNhbmRpZGF0ZU5vZGVzLCBjdXJyZW50SW5kZXggKyAxKSA6IGNhbmRpZGF0ZU5vZGVzLnNsaWNlKGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIG5leHRUaWNrKCgpID0+IGZvY3VzRmlyc3QoY2FuZGlkYXRlTm9kZXMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoQ29sbGVjdGlvbkl0ZW0pLCBudWxsLCB7XG4gICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIGNyZWF0ZVZOb2RlKHVucmVmKFByaW1pdGl2ZSksIHtcbiAgICAgICAgICAgIHRhYmluZGV4OiBpc0N1cnJlbnRUYWJTdG9wLnZhbHVlID8gMCA6IC0xLFxuICAgICAgICAgICAgXCJkYXRhLW9yaWVudGF0aW9uXCI6IHVucmVmKGNvbnRleHQpLm9yaWVudGF0aW9uLnZhbHVlLFxuICAgICAgICAgICAgXCJkYXRhLWFjdGl2ZVwiOiBfY3R4LmFjdGl2ZSA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogIV9jdHguZm9jdXNhYmxlID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgICAgIGFzOiBfY3R4LmFzLFxuICAgICAgICAgICAgXCJhcy1jaGlsZFwiOiBfY3R4LmFzQ2hpbGQsXG4gICAgICAgICAgICBvbk1vdXNlZG93bjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFfY3R4LmZvY3VzYWJsZSkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZWxzZSB1bnJlZihjb250ZXh0KS5vbkl0ZW1Gb2N1cyhpZC52YWx1ZSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9uRm9jdXM6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gKCRldmVudCkgPT4gdW5yZWYoY29udGV4dCkub25JdGVtRm9jdXMoaWQudmFsdWUpKSxcbiAgICAgICAgICAgIG9uS2V5ZG93bjogaGFuZGxlS2V5ZG93blxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIilcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXzogM1xuICAgICAgICAgIH0sIDgsIFtcInRhYmluZGV4XCIsIFwiZGF0YS1vcmllbnRhdGlvblwiLCBcImRhdGEtYWN0aXZlXCIsIFwiZGF0YS1kaXNhYmxlZFwiLCBcImFzXCIsIFwiYXMtY2hpbGRcIl0pXG4gICAgICAgIF0pLFxuICAgICAgICBfOiAzXG4gICAgICB9KTtcbiAgICB9O1xuICB9XG59KTtcblxuZXhwb3J0IHsgX3NmY19tYWluIGFzIF8gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvdmluZ0ZvY3VzSXRlbS5qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY3JlYXRlQmxvY2ssIG9wZW5CbG9jaywgdW5yZWYsIG1lcmdlUHJvcHMsIHdpdGhDdHgsIHJlbmRlclNsb3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgdSBhcyB1c2VGb3J3YXJkRXhwb3NlIH0gZnJvbSAnLi4vc2hhcmVkL3VzZUZvcndhcmRFeHBvc2UuanMnO1xuaW1wb3J0IHsgUCBhcyBQcmltaXRpdmUgfSBmcm9tICcuLi9QcmltaXRpdmUvUHJpbWl0aXZlLmpzJztcblxuY29uc3QgX3NmY19tYWluID0gLyogQF9fUFVSRV9fICovIGRlZmluZUNvbXBvbmVudCh7XG4gIF9fbmFtZTogXCJMYWJlbFwiLFxuICBwcm9wczoge1xuICAgIGZvcjoge30sXG4gICAgYXNDaGlsZDogeyB0eXBlOiBCb29sZWFuIH0sXG4gICAgYXM6IHsgZGVmYXVsdDogXCJsYWJlbFwiIH1cbiAgfSxcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICB1c2VGb3J3YXJkRXhwb3NlKCk7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoUHJpbWl0aXZlKSwgbWVyZ2VQcm9wcyhwcm9wcywge1xuICAgICAgICBvbk1vdXNlZG93bjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgZXZlbnQuZGV0YWlsID4gMSkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSlcbiAgICAgIH0pLCB7XG4gICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiKVxuICAgICAgICBdKSxcbiAgICAgICAgXzogM1xuICAgICAgfSwgMTYpO1xuICAgIH07XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBfc2ZjX21haW4gYXMgXyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TGFiZWwuanMubWFwXG4iLCJmdW5jdGlvbiBtYWtlVHJpZ2dlcklkKGJhc2VJZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGAke2Jhc2VJZH0tdHJpZ2dlci0ke3ZhbHVlfWA7XG59XG5mdW5jdGlvbiBtYWtlQ29udGVudElkKGJhc2VJZCwgdmFsdWUpIHtcbiAgcmV0dXJuIGAke2Jhc2VJZH0tY29udGVudC0ke3ZhbHVlfWA7XG59XG5cbmV4cG9ydCB7IG1ha2VDb250ZW50SWQgYXMgYSwgbWFrZVRyaWdnZXJJZCBhcyBtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgdG9SZWZzLCByZWYsIGNyZWF0ZUJsb2NrLCBvcGVuQmxvY2ssIHVucmVmLCB3aXRoQ3R4LCByZW5kZXJTbG90IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHVzZVZNb2RlbCB9IGZyb20gJ0B2dWV1c2UvY29yZSc7XG5pbXBvcnQgeyBjIGFzIGNyZWF0ZUNvbnRleHQgfSBmcm9tICcuLi9zaGFyZWQvY3JlYXRlQ29udGV4dC5qcyc7XG5pbXBvcnQgeyB1IGFzIHVzZURpcmVjdGlvbiB9IGZyb20gJy4uL3NoYXJlZC91c2VEaXJlY3Rpb24uanMnO1xuaW1wb3J0IHsgdSBhcyB1c2VGb3J3YXJkRXhwb3NlIH0gZnJvbSAnLi4vc2hhcmVkL3VzZUZvcndhcmRFeHBvc2UuanMnO1xuaW1wb3J0IHsgdSBhcyB1c2VJZCB9IGZyb20gJy4uL3NoYXJlZC91c2VJZC5qcyc7XG5pbXBvcnQgeyBQIGFzIFByaW1pdGl2ZSB9IGZyb20gJy4uL1ByaW1pdGl2ZS9QcmltaXRpdmUuanMnO1xuXG5jb25zdCBbaW5qZWN0VGFic1Jvb3RDb250ZXh0LCBwcm92aWRlVGFic1Jvb3RDb250ZXh0XSA9IGNyZWF0ZUNvbnRleHQoXCJUYWJzUm9vdFwiKTtcbmNvbnN0IF9zZmNfbWFpbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWZpbmVDb21wb25lbnQoe1xuICBfX25hbWU6IFwiVGFic1Jvb3RcIixcbiAgcHJvcHM6IHtcbiAgICBkZWZhdWx0VmFsdWU6IHt9LFxuICAgIG9yaWVudGF0aW9uOiB7IGRlZmF1bHQ6IFwiaG9yaXpvbnRhbFwiIH0sXG4gICAgZGlyOiB7fSxcbiAgICBhY3RpdmF0aW9uTW9kZTogeyBkZWZhdWx0OiBcImF1dG9tYXRpY1wiIH0sXG4gICAgbW9kZWxWYWx1ZToge30sXG4gICAgdW5tb3VudE9uSGlkZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgYXNDaGlsZDogeyB0eXBlOiBCb29sZWFuIH0sXG4gICAgYXM6IHt9XG4gIH0sXG4gIGVtaXRzOiBbXCJ1cGRhdGU6bW9kZWxWYWx1ZVwiXSxcbiAgc2V0dXAoX19wcm9wcywgeyBlbWl0OiBfX2VtaXQgfSkge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCBlbWl0cyA9IF9fZW1pdDtcbiAgICBjb25zdCB7IG9yaWVudGF0aW9uLCB1bm1vdW50T25IaWRlLCBkaXI6IHByb3BEaXIgfSA9IHRvUmVmcyhwcm9wcyk7XG4gICAgY29uc3QgZGlyID0gdXNlRGlyZWN0aW9uKHByb3BEaXIpO1xuICAgIHVzZUZvcndhcmRFeHBvc2UoKTtcbiAgICBjb25zdCBtb2RlbFZhbHVlID0gdXNlVk1vZGVsKHByb3BzLCBcIm1vZGVsVmFsdWVcIiwgZW1pdHMsIHtcbiAgICAgIGRlZmF1bHRWYWx1ZTogcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgcGFzc2l2ZTogcHJvcHMubW9kZWxWYWx1ZSA9PT0gdm9pZCAwXG4gICAgfSk7XG4gICAgY29uc3QgdGFic0xpc3QgPSByZWYoKTtcbiAgICBwcm92aWRlVGFic1Jvb3RDb250ZXh0KHtcbiAgICAgIG1vZGVsVmFsdWUsXG4gICAgICBjaGFuZ2VNb2RlbFZhbHVlOiAodmFsdWUpID0+IHtcbiAgICAgICAgbW9kZWxWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfSxcbiAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgZGlyLFxuICAgICAgdW5tb3VudE9uSGlkZSxcbiAgICAgIGFjdGl2YXRpb25Nb2RlOiBwcm9wcy5hY3RpdmF0aW9uTW9kZSxcbiAgICAgIGJhc2VJZDogdXNlSWQodm9pZCAwLCBcInJla2EtdGFic1wiKSxcbiAgICAgIHRhYnNMaXN0XG4gICAgfSk7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoUHJpbWl0aXZlKSwge1xuICAgICAgICBkaXI6IHVucmVmKGRpciksXG4gICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiB1bnJlZihvcmllbnRhdGlvbiksXG4gICAgICAgIFwiYXMtY2hpbGRcIjogX2N0eC5hc0NoaWxkLFxuICAgICAgICBhczogX2N0eC5hc1xuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiB3aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICByZW5kZXJTbG90KF9jdHguJHNsb3RzLCBcImRlZmF1bHRcIiwgeyBtb2RlbFZhbHVlOiB1bnJlZihtb2RlbFZhbHVlKSB9KVxuICAgICAgICBdKSxcbiAgICAgICAgXzogM1xuICAgICAgfSwgOCwgW1wiZGlyXCIsIFwiZGF0YS1vcmllbnRhdGlvblwiLCBcImFzLWNoaWxkXCIsIFwiYXNcIl0pO1xuICAgIH07XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBfc2ZjX21haW4gYXMgXywgaW5qZWN0VGFic1Jvb3RDb250ZXh0IGFzIGkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRhYnNSb290LmpzLm1hcFxuIiwiaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCBjb21wdXRlZCwgcmVmLCBvbk1vdW50ZWQsIGNyZWF0ZUJsb2NrLCBvcGVuQmxvY2ssIHVucmVmLCB3aXRoQ3R4LCBjcmVhdGVWTm9kZSwgbm9ybWFsaXplU3R5bGUsIHJlbmRlclNsb3QsIGNyZWF0ZUNvbW1lbnRWTm9kZSB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBtIGFzIG1ha2VUcmlnZ2VySWQsIGEgYXMgbWFrZUNvbnRlbnRJZCB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgdSBhcyB1c2VGb3J3YXJkRXhwb3NlIH0gZnJvbSAnLi4vc2hhcmVkL3VzZUZvcndhcmRFeHBvc2UuanMnO1xuaW1wb3J0IHsgaSBhcyBpbmplY3RUYWJzUm9vdENvbnRleHQgfSBmcm9tICcuL1RhYnNSb290LmpzJztcbmltcG9ydCB7IFAgYXMgUHJlc2VuY2UgfSBmcm9tICcuLi9QcmVzZW5jZS9QcmVzZW5jZS5qcyc7XG5pbXBvcnQgeyBQIGFzIFByaW1pdGl2ZSB9IGZyb20gJy4uL1ByaW1pdGl2ZS9QcmltaXRpdmUuanMnO1xuXG5jb25zdCBfc2ZjX21haW4gPSAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgX19uYW1lOiBcIlRhYnNDb250ZW50XCIsXG4gIHByb3BzOiB7XG4gICAgdmFsdWU6IHt9LFxuICAgIGZvcmNlTW91bnQ6IHsgdHlwZTogQm9vbGVhbiB9LFxuICAgIGFzQ2hpbGQ6IHsgdHlwZTogQm9vbGVhbiB9LFxuICAgIGFzOiB7fVxuICB9LFxuICBzZXR1cChfX3Byb3BzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBfX3Byb3BzO1xuICAgIGNvbnN0IHsgZm9yd2FyZFJlZiB9ID0gdXNlRm9yd2FyZEV4cG9zZSgpO1xuICAgIGNvbnN0IHJvb3RDb250ZXh0ID0gaW5qZWN0VGFic1Jvb3RDb250ZXh0KCk7XG4gICAgY29uc3QgdHJpZ2dlcklkID0gY29tcHV0ZWQoKCkgPT4gbWFrZVRyaWdnZXJJZChyb290Q29udGV4dC5iYXNlSWQsIHByb3BzLnZhbHVlKSk7XG4gICAgY29uc3QgY29udGVudElkID0gY29tcHV0ZWQoKCkgPT4gbWFrZUNvbnRlbnRJZChyb290Q29udGV4dC5iYXNlSWQsIHByb3BzLnZhbHVlKSk7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IGNvbXB1dGVkKCgpID0+IHByb3BzLnZhbHVlID09PSByb290Q29udGV4dC5tb2RlbFZhbHVlLnZhbHVlKTtcbiAgICBjb25zdCBpc01vdW50QW5pbWF0aW9uUHJldmVudGVkUmVmID0gcmVmKGlzU2VsZWN0ZWQudmFsdWUpO1xuICAgIG9uTW91bnRlZCgoKSA9PiB7XG4gICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICBpc01vdW50QW5pbWF0aW9uUHJldmVudGVkUmVmLnZhbHVlID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4ge1xuICAgICAgcmV0dXJuIG9wZW5CbG9jaygpLCBjcmVhdGVCbG9jayh1bnJlZihQcmVzZW5jZSksIHtcbiAgICAgICAgcHJlc2VudDogX2N0eC5mb3JjZU1vdW50IHx8IGlzU2VsZWN0ZWQudmFsdWUsXG4gICAgICAgIFwiZm9yY2UtbW91bnRcIjogXCJcIlxuICAgICAgfSwge1xuICAgICAgICBkZWZhdWx0OiB3aXRoQ3R4KCh7IHByZXNlbnQgfSkgPT4gW1xuICAgICAgICAgIGNyZWF0ZVZOb2RlKHVucmVmKFByaW1pdGl2ZSksIHtcbiAgICAgICAgICAgIGlkOiBjb250ZW50SWQudmFsdWUsXG4gICAgICAgICAgICByZWY6IHVucmVmKGZvcndhcmRSZWYpLFxuICAgICAgICAgICAgXCJhcy1jaGlsZFwiOiBfY3R4LmFzQ2hpbGQsXG4gICAgICAgICAgICBhczogX2N0eC5hcyxcbiAgICAgICAgICAgIHJvbGU6IFwidGFicGFuZWxcIixcbiAgICAgICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBpc1NlbGVjdGVkLnZhbHVlID8gXCJhY3RpdmVcIiA6IFwiaW5hY3RpdmVcIixcbiAgICAgICAgICAgIFwiZGF0YS1vcmllbnRhdGlvblwiOiB1bnJlZihyb290Q29udGV4dCkub3JpZW50YXRpb24udmFsdWUsXG4gICAgICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiB0cmlnZ2VySWQudmFsdWUsXG4gICAgICAgICAgICBoaWRkZW46ICFwcmVzZW50LFxuICAgICAgICAgICAgdGFiaW5kZXg6IFwiMFwiLFxuICAgICAgICAgICAgc3R5bGU6IG5vcm1hbGl6ZVN0eWxlKHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IGlzTW91bnRBbmltYXRpb25QcmV2ZW50ZWRSZWYudmFsdWUgPyBcIjBzXCIgOiB2b2lkIDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgICh1bnJlZihyb290Q29udGV4dCkudW5tb3VudE9uSGlkZS52YWx1ZSA/IHByZXNlbnQgOiB0cnVlKSA/IHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiLCB7IGtleTogMCB9KSA6IGNyZWF0ZUNvbW1lbnRWTm9kZShcIlwiLCB0cnVlKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAyXG4gICAgICAgICAgfSwgMTAzMiwgW1wiaWRcIiwgXCJhcy1jaGlsZFwiLCBcImFzXCIsIFwiZGF0YS1zdGF0ZVwiLCBcImRhdGEtb3JpZW50YXRpb25cIiwgXCJhcmlhLWxhYmVsbGVkYnlcIiwgXCJoaWRkZW5cIiwgXCJzdHlsZVwiXSlcbiAgICAgICAgXSksXG4gICAgICAgIF86IDNcbiAgICAgIH0sIDgsIFtcInByZXNlbnRcIl0pO1xuICAgIH07XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBfc2ZjX21haW4gYXMgXyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGFic0NvbnRlbnQuanMubWFwXG4iLCJpbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHRvUmVmcywgY3JlYXRlQmxvY2ssIG9wZW5CbG9jaywgdW5yZWYsIHdpdGhDdHgsIGNyZWF0ZVZOb2RlLCByZW5kZXJTbG90IH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHUgYXMgdXNlRm9yd2FyZEV4cG9zZSB9IGZyb20gJy4uL3NoYXJlZC91c2VGb3J3YXJkRXhwb3NlLmpzJztcbmltcG9ydCB7IF8gYXMgX3NmY19tYWluJDEgfSBmcm9tICcuLi9Sb3ZpbmdGb2N1cy9Sb3ZpbmdGb2N1c0dyb3VwLmpzJztcbmltcG9ydCB7IFAgYXMgUHJpbWl0aXZlIH0gZnJvbSAnLi4vUHJpbWl0aXZlL1ByaW1pdGl2ZS5qcyc7XG5pbXBvcnQgeyBpIGFzIGluamVjdFRhYnNSb290Q29udGV4dCB9IGZyb20gJy4vVGFic1Jvb3QuanMnO1xuXG5jb25zdCBfc2ZjX21haW4gPSAvKiBAX19QVVJFX18gKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgX19uYW1lOiBcIlRhYnNMaXN0XCIsXG4gIHByb3BzOiB7XG4gICAgbG9vcDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXG4gICAgYXNDaGlsZDogeyB0eXBlOiBCb29sZWFuIH0sXG4gICAgYXM6IHt9XG4gIH0sXG4gIHNldHVwKF9fcHJvcHMpIHtcbiAgICBjb25zdCBwcm9wcyA9IF9fcHJvcHM7XG4gICAgY29uc3QgeyBsb29wIH0gPSB0b1JlZnMocHJvcHMpO1xuICAgIGNvbnN0IHsgZm9yd2FyZFJlZiwgY3VycmVudEVsZW1lbnQgfSA9IHVzZUZvcndhcmRFeHBvc2UoKTtcbiAgICBjb25zdCBjb250ZXh0ID0gaW5qZWN0VGFic1Jvb3RDb250ZXh0KCk7XG4gICAgY29udGV4dC50YWJzTGlzdCA9IGN1cnJlbnRFbGVtZW50O1xuICAgIHJldHVybiAoX2N0eCwgX2NhY2hlKSA9PiB7XG4gICAgICByZXR1cm4gb3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKHVucmVmKF9zZmNfbWFpbiQxKSwge1xuICAgICAgICBcImFzLWNoaWxkXCI6IFwiXCIsXG4gICAgICAgIG9yaWVudGF0aW9uOiB1bnJlZihjb250ZXh0KS5vcmllbnRhdGlvbi52YWx1ZSxcbiAgICAgICAgZGlyOiB1bnJlZihjb250ZXh0KS5kaXIudmFsdWUsXG4gICAgICAgIGxvb3A6IHVucmVmKGxvb3ApXG4gICAgICB9LCB7XG4gICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIGNyZWF0ZVZOb2RlKHVucmVmKFByaW1pdGl2ZSksIHtcbiAgICAgICAgICAgIHJlZjogdW5yZWYoZm9yd2FyZFJlZiksXG4gICAgICAgICAgICByb2xlOiBcInRhYmxpc3RcIixcbiAgICAgICAgICAgIFwiYXMtY2hpbGRcIjogX2N0eC5hc0NoaWxkLFxuICAgICAgICAgICAgYXM6IF9jdHguYXMsXG4gICAgICAgICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogdW5yZWYoY29udGV4dCkub3JpZW50YXRpb24udmFsdWVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBkZWZhdWx0OiB3aXRoQ3R4KCgpID0+IFtcbiAgICAgICAgICAgICAgcmVuZGVyU2xvdChfY3R4LiRzbG90cywgXCJkZWZhdWx0XCIpXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIF86IDNcbiAgICAgICAgICB9LCA4LCBbXCJhcy1jaGlsZFwiLCBcImFzXCIsIFwiYXJpYS1vcmllbnRhdGlvblwiXSlcbiAgICAgICAgXSksXG4gICAgICAgIF86IDNcbiAgICAgIH0sIDgsIFtcIm9yaWVudGF0aW9uXCIsIFwiZGlyXCIsIFwibG9vcFwiXSk7XG4gICAgfTtcbiAgfVxufSk7XG5cbmV4cG9ydCB7IF9zZmNfbWFpbiBhcyBfIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UYWJzTGlzdC5qcy5tYXBcbiIsImltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgY29tcHV0ZWQsIGNyZWF0ZUJsb2NrLCBvcGVuQmxvY2ssIHVucmVmLCB3aXRoQ3R4LCBjcmVhdGVWTm9kZSwgd2l0aEtleXMsIHdpdGhNb2RpZmllcnMsIHJlbmRlclNsb3QgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgbSBhcyBtYWtlVHJpZ2dlcklkLCBhIGFzIG1ha2VDb250ZW50SWQgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IHUgYXMgdXNlRm9yd2FyZEV4cG9zZSB9IGZyb20gJy4uL3NoYXJlZC91c2VGb3J3YXJkRXhwb3NlLmpzJztcbmltcG9ydCB7IF8gYXMgX3NmY19tYWluJDEgfSBmcm9tICcuLi9Sb3ZpbmdGb2N1cy9Sb3ZpbmdGb2N1c0l0ZW0uanMnO1xuaW1wb3J0IHsgUCBhcyBQcmltaXRpdmUgfSBmcm9tICcuLi9QcmltaXRpdmUvUHJpbWl0aXZlLmpzJztcbmltcG9ydCB7IGkgYXMgaW5qZWN0VGFic1Jvb3RDb250ZXh0IH0gZnJvbSAnLi9UYWJzUm9vdC5qcyc7XG5cbmNvbnN0IF9zZmNfbWFpbiA9IC8qIEBfX1BVUkVfXyAqLyBkZWZpbmVDb21wb25lbnQoe1xuICBfX25hbWU6IFwiVGFic1RyaWdnZXJcIixcbiAgcHJvcHM6IHtcbiAgICB2YWx1ZToge30sXG4gICAgZGlzYWJsZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICBhc0NoaWxkOiB7IHR5cGU6IEJvb2xlYW4gfSxcbiAgICBhczogeyBkZWZhdWx0OiBcImJ1dHRvblwiIH1cbiAgfSxcbiAgc2V0dXAoX19wcm9wcykge1xuICAgIGNvbnN0IHByb3BzID0gX19wcm9wcztcbiAgICBjb25zdCB7IGZvcndhcmRSZWYgfSA9IHVzZUZvcndhcmRFeHBvc2UoKTtcbiAgICBjb25zdCByb290Q29udGV4dCA9IGluamVjdFRhYnNSb290Q29udGV4dCgpO1xuICAgIGNvbnN0IHRyaWdnZXJJZCA9IGNvbXB1dGVkKCgpID0+IG1ha2VUcmlnZ2VySWQocm9vdENvbnRleHQuYmFzZUlkLCBwcm9wcy52YWx1ZSkpO1xuICAgIGNvbnN0IGNvbnRlbnRJZCA9IGNvbXB1dGVkKCgpID0+IG1ha2VDb250ZW50SWQocm9vdENvbnRleHQuYmFzZUlkLCBwcm9wcy52YWx1ZSkpO1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy52YWx1ZSA9PT0gcm9vdENvbnRleHQubW9kZWxWYWx1ZS52YWx1ZSk7XG4gICAgcmV0dXJuIChfY3R4LCBfY2FjaGUpID0+IHtcbiAgICAgIHJldHVybiBvcGVuQmxvY2soKSwgY3JlYXRlQmxvY2sodW5yZWYoX3NmY19tYWluJDEpLCB7XG4gICAgICAgIFwiYXMtY2hpbGRcIjogXCJcIixcbiAgICAgICAgZm9jdXNhYmxlOiAhX2N0eC5kaXNhYmxlZCxcbiAgICAgICAgYWN0aXZlOiBpc1NlbGVjdGVkLnZhbHVlXG4gICAgICB9LCB7XG4gICAgICAgIGRlZmF1bHQ6IHdpdGhDdHgoKCkgPT4gW1xuICAgICAgICAgIGNyZWF0ZVZOb2RlKHVucmVmKFByaW1pdGl2ZSksIHtcbiAgICAgICAgICAgIGlkOiB0cmlnZ2VySWQudmFsdWUsXG4gICAgICAgICAgICByZWY6IHVucmVmKGZvcndhcmRSZWYpLFxuICAgICAgICAgICAgcm9sZTogXCJ0YWJcIixcbiAgICAgICAgICAgIHR5cGU6IF9jdHguYXMgPT09IFwiYnV0dG9uXCIgPyBcImJ1dHRvblwiIDogdm9pZCAwLFxuICAgICAgICAgICAgYXM6IF9jdHguYXMsXG4gICAgICAgICAgICBcImFzLWNoaWxkXCI6IF9jdHguYXNDaGlsZCxcbiAgICAgICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBpc1NlbGVjdGVkLnZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIsXG4gICAgICAgICAgICBcImFyaWEtY29udHJvbHNcIjogY29udGVudElkLnZhbHVlLFxuICAgICAgICAgICAgXCJkYXRhLXN0YXRlXCI6IGlzU2VsZWN0ZWQudmFsdWUgPyBcImFjdGl2ZVwiIDogXCJpbmFjdGl2ZVwiLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IF9jdHguZGlzYWJsZWQsXG4gICAgICAgICAgICBcImRhdGEtZGlzYWJsZWRcIjogX2N0eC5kaXNhYmxlZCA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICAgICAgICBcImRhdGEtb3JpZW50YXRpb25cIjogdW5yZWYocm9vdENvbnRleHQpLm9yaWVudGF0aW9uLnZhbHVlLFxuICAgICAgICAgICAgb25Nb3VzZWRvd246IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gd2l0aE1vZGlmaWVycygoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKCFfY3R4LmRpc2FibGVkICYmIGV2ZW50LmN0cmxLZXkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdW5yZWYocm9vdENvbnRleHQpLmNoYW5nZU1vZGVsVmFsdWUoX2N0eC52YWx1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgW1wibGVmdFwiXSkpLFxuICAgICAgICAgICAgb25LZXlkb3duOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IHdpdGhLZXlzKCgkZXZlbnQpID0+IHVucmVmKHJvb3RDb250ZXh0KS5jaGFuZ2VNb2RlbFZhbHVlKF9jdHgudmFsdWUpLCBbXCJlbnRlclwiLCBcInNwYWNlXCJdKSksXG4gICAgICAgICAgICBvbkZvY3VzOiBfY2FjaGVbMl0gfHwgKF9jYWNoZVsyXSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXNBdXRvbWF0aWNBY3RpdmF0aW9uID0gdW5yZWYocm9vdENvbnRleHQpLmFjdGl2YXRpb25Nb2RlICE9PSBcIm1hbnVhbFwiO1xuICAgICAgICAgICAgICBpZiAoIWlzU2VsZWN0ZWQudmFsdWUgJiYgIV9jdHguZGlzYWJsZWQgJiYgaXNBdXRvbWF0aWNBY3RpdmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdW5yZWYocm9vdENvbnRleHQpLmNoYW5nZU1vZGVsVmFsdWUoX2N0eC52YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZGVmYXVsdDogd2l0aEN0eCgoKSA9PiBbXG4gICAgICAgICAgICAgIHJlbmRlclNsb3QoX2N0eC4kc2xvdHMsIFwiZGVmYXVsdFwiKVxuICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBfOiAzXG4gICAgICAgICAgfSwgOCwgW1wiaWRcIiwgXCJ0eXBlXCIsIFwiYXNcIiwgXCJhcy1jaGlsZFwiLCBcImFyaWEtc2VsZWN0ZWRcIiwgXCJhcmlhLWNvbnRyb2xzXCIsIFwiZGF0YS1zdGF0ZVwiLCBcImRpc2FibGVkXCIsIFwiZGF0YS1kaXNhYmxlZFwiLCBcImRhdGEtb3JpZW50YXRpb25cIl0pXG4gICAgICAgIF0pLFxuICAgICAgICBfOiAzXG4gICAgICB9LCA4LCBbXCJmb2N1c2FibGVcIiwgXCJhY3RpdmVcIl0pO1xuICAgIH07XG4gIH1cbn0pO1xuXG5leHBvcnQgeyBfc2ZjX21haW4gYXMgXyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGFic1RyaWdnZXIuanMubWFwXG4iLCJmdW5jdGlvbiByKGUpe3ZhciB0LGYsbj1cIlwiO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZSluKz1lO2Vsc2UgaWYoXCJvYmplY3RcIj09dHlwZW9mIGUpaWYoQXJyYXkuaXNBcnJheShlKSl7dmFyIG89ZS5sZW5ndGg7Zm9yKHQ9MDt0PG87dCsrKWVbdF0mJihmPXIoZVt0XSkpJiYobiYmKG4rPVwiIFwiKSxuKz1mKX1lbHNlIGZvcihmIGluIGUpZVtmXSYmKG4mJihuKz1cIiBcIiksbis9Zik7cmV0dXJuIG59ZXhwb3J0IGZ1bmN0aW9uIGNsc3goKXtmb3IodmFyIGUsdCxmPTAsbj1cIlwiLG89YXJndW1lbnRzLmxlbmd0aDtmPG87ZisrKShlPWFyZ3VtZW50c1tmXSkmJih0PXIoZSkpJiYobiYmKG4rPVwiIFwiKSxuKz10KTtyZXR1cm4gbn1leHBvcnQgZGVmYXVsdCBjbHN4OyIsImNvbnN0IENMQVNTX1BBUlRfU0VQQVJBVE9SID0gJy0nO1xuY29uc3QgY3JlYXRlQ2xhc3NHcm91cFV0aWxzID0gY29uZmlnID0+IHtcbiAgY29uc3QgY2xhc3NNYXAgPSBjcmVhdGVDbGFzc01hcChjb25maWcpO1xuICBjb25zdCB7XG4gICAgY29uZmxpY3RpbmdDbGFzc0dyb3VwcyxcbiAgICBjb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnNcbiAgfSA9IGNvbmZpZztcbiAgY29uc3QgZ2V0Q2xhc3NHcm91cElkID0gY2xhc3NOYW1lID0+IHtcbiAgICBjb25zdCBjbGFzc1BhcnRzID0gY2xhc3NOYW1lLnNwbGl0KENMQVNTX1BBUlRfU0VQQVJBVE9SKTtcbiAgICAvLyBDbGFzc2VzIGxpa2UgYC1pbnNldC0xYCBwcm9kdWNlIGFuIGVtcHR5IHN0cmluZyBhcyBmaXJzdCBjbGFzc1BhcnQuIFdlIGFzc3VtZSB0aGF0IGNsYXNzZXMgZm9yIG5lZ2F0aXZlIHZhbHVlcyBhcmUgdXNlZCBjb3JyZWN0bHkgYW5kIHJlbW92ZSBpdCBmcm9tIGNsYXNzUGFydHMuXG4gICAgaWYgKGNsYXNzUGFydHNbMF0gPT09ICcnICYmIGNsYXNzUGFydHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICBjbGFzc1BhcnRzLnNoaWZ0KCk7XG4gICAgfVxuICAgIHJldHVybiBnZXRHcm91cFJlY3Vyc2l2ZShjbGFzc1BhcnRzLCBjbGFzc01hcCkgfHwgZ2V0R3JvdXBJZEZvckFyYml0cmFyeVByb3BlcnR5KGNsYXNzTmFtZSk7XG4gIH07XG4gIGNvbnN0IGdldENvbmZsaWN0aW5nQ2xhc3NHcm91cElkcyA9IChjbGFzc0dyb3VwSWQsIGhhc1Bvc3RmaXhNb2RpZmllcikgPT4ge1xuICAgIGNvbnN0IGNvbmZsaWN0cyA9IGNvbmZsaWN0aW5nQ2xhc3NHcm91cHNbY2xhc3NHcm91cElkXSB8fCBbXTtcbiAgICBpZiAoaGFzUG9zdGZpeE1vZGlmaWVyICYmIGNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVyc1tjbGFzc0dyb3VwSWRdKSB7XG4gICAgICByZXR1cm4gWy4uLmNvbmZsaWN0cywgLi4uY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzW2NsYXNzR3JvdXBJZF1dO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmxpY3RzO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGdldENsYXNzR3JvdXBJZCxcbiAgICBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHNcbiAgfTtcbn07XG5jb25zdCBnZXRHcm91cFJlY3Vyc2l2ZSA9IChjbGFzc1BhcnRzLCBjbGFzc1BhcnRPYmplY3QpID0+IHtcbiAgaWYgKGNsYXNzUGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGNsYXNzUGFydE9iamVjdC5jbGFzc0dyb3VwSWQ7XG4gIH1cbiAgY29uc3QgY3VycmVudENsYXNzUGFydCA9IGNsYXNzUGFydHNbMF07XG4gIGNvbnN0IG5leHRDbGFzc1BhcnRPYmplY3QgPSBjbGFzc1BhcnRPYmplY3QubmV4dFBhcnQuZ2V0KGN1cnJlbnRDbGFzc1BhcnQpO1xuICBjb25zdCBjbGFzc0dyb3VwRnJvbU5leHRDbGFzc1BhcnQgPSBuZXh0Q2xhc3NQYXJ0T2JqZWN0ID8gZ2V0R3JvdXBSZWN1cnNpdmUoY2xhc3NQYXJ0cy5zbGljZSgxKSwgbmV4dENsYXNzUGFydE9iamVjdCkgOiB1bmRlZmluZWQ7XG4gIGlmIChjbGFzc0dyb3VwRnJvbU5leHRDbGFzc1BhcnQpIHtcbiAgICByZXR1cm4gY2xhc3NHcm91cEZyb21OZXh0Q2xhc3NQYXJ0O1xuICB9XG4gIGlmIChjbGFzc1BhcnRPYmplY3QudmFsaWRhdG9ycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IGNsYXNzUmVzdCA9IGNsYXNzUGFydHMuam9pbihDTEFTU19QQVJUX1NFUEFSQVRPUik7XG4gIHJldHVybiBjbGFzc1BhcnRPYmplY3QudmFsaWRhdG9ycy5maW5kKCh7XG4gICAgdmFsaWRhdG9yXG4gIH0pID0+IHZhbGlkYXRvcihjbGFzc1Jlc3QpKT8uY2xhc3NHcm91cElkO1xufTtcbmNvbnN0IGFyYml0cmFyeVByb3BlcnR5UmVnZXggPSAvXlxcWyguKylcXF0kLztcbmNvbnN0IGdldEdyb3VwSWRGb3JBcmJpdHJhcnlQcm9wZXJ0eSA9IGNsYXNzTmFtZSA9PiB7XG4gIGlmIChhcmJpdHJhcnlQcm9wZXJ0eVJlZ2V4LnRlc3QoY2xhc3NOYW1lKSkge1xuICAgIGNvbnN0IGFyYml0cmFyeVByb3BlcnR5Q2xhc3NOYW1lID0gYXJiaXRyYXJ5UHJvcGVydHlSZWdleC5leGVjKGNsYXNzTmFtZSlbMV07XG4gICAgY29uc3QgcHJvcGVydHkgPSBhcmJpdHJhcnlQcm9wZXJ0eUNsYXNzTmFtZT8uc3Vic3RyaW5nKDAsIGFyYml0cmFyeVByb3BlcnR5Q2xhc3NOYW1lLmluZGV4T2YoJzonKSk7XG4gICAgaWYgKHByb3BlcnR5KSB7XG4gICAgICAvLyBJIHVzZSB0d28gZG90cyBoZXJlIGJlY2F1c2Ugb25lIGRvdCBpcyB1c2VkIGFzIHByZWZpeCBmb3IgY2xhc3MgZ3JvdXBzIGluIHBsdWdpbnNcbiAgICAgIHJldHVybiAnYXJiaXRyYXJ5Li4nICsgcHJvcGVydHk7XG4gICAgfVxuICB9XG59O1xuLyoqXG4gKiBFeHBvcnRlZCBmb3IgdGVzdGluZyBvbmx5XG4gKi9cbmNvbnN0IGNyZWF0ZUNsYXNzTWFwID0gY29uZmlnID0+IHtcbiAgY29uc3Qge1xuICAgIHRoZW1lLFxuICAgIGNsYXNzR3JvdXBzXG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IGNsYXNzTWFwID0ge1xuICAgIG5leHRQYXJ0OiBuZXcgTWFwKCksXG4gICAgdmFsaWRhdG9yczogW11cbiAgfTtcbiAgZm9yIChjb25zdCBjbGFzc0dyb3VwSWQgaW4gY2xhc3NHcm91cHMpIHtcbiAgICBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5KGNsYXNzR3JvdXBzW2NsYXNzR3JvdXBJZF0sIGNsYXNzTWFwLCBjbGFzc0dyb3VwSWQsIHRoZW1lKTtcbiAgfVxuICByZXR1cm4gY2xhc3NNYXA7XG59O1xuY29uc3QgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseSA9IChjbGFzc0dyb3VwLCBjbGFzc1BhcnRPYmplY3QsIGNsYXNzR3JvdXBJZCwgdGhlbWUpID0+IHtcbiAgY2xhc3NHcm91cC5mb3JFYWNoKGNsYXNzRGVmaW5pdGlvbiA9PiB7XG4gICAgaWYgKHR5cGVvZiBjbGFzc0RlZmluaXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBjbGFzc1BhcnRPYmplY3RUb0VkaXQgPSBjbGFzc0RlZmluaXRpb24gPT09ICcnID8gY2xhc3NQYXJ0T2JqZWN0IDogZ2V0UGFydChjbGFzc1BhcnRPYmplY3QsIGNsYXNzRGVmaW5pdGlvbik7XG4gICAgICBjbGFzc1BhcnRPYmplY3RUb0VkaXQuY2xhc3NHcm91cElkID0gY2xhc3NHcm91cElkO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNsYXNzRGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGlzVGhlbWVHZXR0ZXIoY2xhc3NEZWZpbml0aW9uKSkge1xuICAgICAgICBwcm9jZXNzQ2xhc3Nlc1JlY3Vyc2l2ZWx5KGNsYXNzRGVmaW5pdGlvbih0aGVtZSksIGNsYXNzUGFydE9iamVjdCwgY2xhc3NHcm91cElkLCB0aGVtZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNsYXNzUGFydE9iamVjdC52YWxpZGF0b3JzLnB1c2goe1xuICAgICAgICB2YWxpZGF0b3I6IGNsYXNzRGVmaW5pdGlvbixcbiAgICAgICAgY2xhc3NHcm91cElkXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmVudHJpZXMoY2xhc3NEZWZpbml0aW9uKS5mb3JFYWNoKChba2V5LCBjbGFzc0dyb3VwXSkgPT4ge1xuICAgICAgcHJvY2Vzc0NsYXNzZXNSZWN1cnNpdmVseShjbGFzc0dyb3VwLCBnZXRQYXJ0KGNsYXNzUGFydE9iamVjdCwga2V5KSwgY2xhc3NHcm91cElkLCB0aGVtZSk7XG4gICAgfSk7XG4gIH0pO1xufTtcbmNvbnN0IGdldFBhcnQgPSAoY2xhc3NQYXJ0T2JqZWN0LCBwYXRoKSA9PiB7XG4gIGxldCBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0ID0gY2xhc3NQYXJ0T2JqZWN0O1xuICBwYXRoLnNwbGl0KENMQVNTX1BBUlRfU0VQQVJBVE9SKS5mb3JFYWNoKHBhdGhQYXJ0ID0+IHtcbiAgICBpZiAoIWN1cnJlbnRDbGFzc1BhcnRPYmplY3QubmV4dFBhcnQuaGFzKHBhdGhQYXJ0KSkge1xuICAgICAgY3VycmVudENsYXNzUGFydE9iamVjdC5uZXh0UGFydC5zZXQocGF0aFBhcnQsIHtcbiAgICAgICAgbmV4dFBhcnQ6IG5ldyBNYXAoKSxcbiAgICAgICAgdmFsaWRhdG9yczogW11cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjdXJyZW50Q2xhc3NQYXJ0T2JqZWN0ID0gY3VycmVudENsYXNzUGFydE9iamVjdC5uZXh0UGFydC5nZXQocGF0aFBhcnQpO1xuICB9KTtcbiAgcmV0dXJuIGN1cnJlbnRDbGFzc1BhcnRPYmplY3Q7XG59O1xuY29uc3QgaXNUaGVtZUdldHRlciA9IGZ1bmMgPT4gZnVuYy5pc1RoZW1lR2V0dGVyO1xuXG4vLyBMUlUgY2FjaGUgaW5zcGlyZWQgZnJvbSBoYXNobHJ1IChodHRwczovL2dpdGh1Yi5jb20vZG9taW5pY3RhcnIvaGFzaGxydS9ibG9iL3YxLjAuNC9pbmRleC5qcykgYnV0IG9iamVjdCByZXBsYWNlZCB3aXRoIE1hcCB0byBpbXByb3ZlIHBlcmZvcm1hbmNlXG5jb25zdCBjcmVhdGVMcnVDYWNoZSA9IG1heENhY2hlU2l6ZSA9PiB7XG4gIGlmIChtYXhDYWNoZVNpemUgPCAxKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldDogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgc2V0OiAoKSA9PiB7fVxuICAgIH07XG4gIH1cbiAgbGV0IGNhY2hlU2l6ZSA9IDA7XG4gIGxldCBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgbGV0IHByZXZpb3VzQ2FjaGUgPSBuZXcgTWFwKCk7XG4gIGNvbnN0IHVwZGF0ZSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgIGNhY2hlU2l6ZSsrO1xuICAgIGlmIChjYWNoZVNpemUgPiBtYXhDYWNoZVNpemUpIHtcbiAgICAgIGNhY2hlU2l6ZSA9IDA7XG4gICAgICBwcmV2aW91c0NhY2hlID0gY2FjaGU7XG4gICAgICBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgbGV0IHZhbHVlID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoKHZhbHVlID0gcHJldmlvdXNDYWNoZS5nZXQoa2V5KSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cGRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNldChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgICAgY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5jb25zdCBJTVBPUlRBTlRfTU9ESUZJRVIgPSAnISc7XG5jb25zdCBNT0RJRklFUl9TRVBBUkFUT1IgPSAnOic7XG5jb25zdCBNT0RJRklFUl9TRVBBUkFUT1JfTEVOR1RIID0gTU9ESUZJRVJfU0VQQVJBVE9SLmxlbmd0aDtcbmNvbnN0IGNyZWF0ZVBhcnNlQ2xhc3NOYW1lID0gY29uZmlnID0+IHtcbiAgY29uc3Qge1xuICAgIHByZWZpeCxcbiAgICBleHBlcmltZW50YWxQYXJzZUNsYXNzTmFtZVxuICB9ID0gY29uZmlnO1xuICAvKipcbiAgICogUGFyc2UgY2xhc3MgbmFtZSBpbnRvIHBhcnRzLlxuICAgKlxuICAgKiBJbnNwaXJlZCBieSBgc3BsaXRBdFRvcExldmVsT25seWAgdXNlZCBpbiBUYWlsd2luZCBDU1NcbiAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL2Jsb2IvdjMuMi4yL3NyYy91dGlsL3NwbGl0QXRUb3BMZXZlbE9ubHkuanNcbiAgICovXG4gIGxldCBwYXJzZUNsYXNzTmFtZSA9IGNsYXNzTmFtZSA9PiB7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gW107XG4gICAgbGV0IGJyYWNrZXREZXB0aCA9IDA7XG4gICAgbGV0IHBhcmVuRGVwdGggPSAwO1xuICAgIGxldCBtb2RpZmllclN0YXJ0ID0gMDtcbiAgICBsZXQgcG9zdGZpeE1vZGlmaWVyUG9zaXRpb247XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNsYXNzTmFtZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIGxldCBjdXJyZW50Q2hhcmFjdGVyID0gY2xhc3NOYW1lW2luZGV4XTtcbiAgICAgIGlmIChicmFja2V0RGVwdGggPT09IDAgJiYgcGFyZW5EZXB0aCA9PT0gMCkge1xuICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gTU9ESUZJRVJfU0VQQVJBVE9SKSB7XG4gICAgICAgICAgbW9kaWZpZXJzLnB1c2goY2xhc3NOYW1lLnNsaWNlKG1vZGlmaWVyU3RhcnQsIGluZGV4KSk7XG4gICAgICAgICAgbW9kaWZpZXJTdGFydCA9IGluZGV4ICsgTU9ESUZJRVJfU0VQQVJBVE9SX0xFTkdUSDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gJy8nKSB7XG4gICAgICAgICAgcG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gPSBpbmRleDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRDaGFyYWN0ZXIgPT09ICdbJykge1xuICAgICAgICBicmFja2V0RGVwdGgrKztcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudENoYXJhY3RlciA9PT0gJ10nKSB7XG4gICAgICAgIGJyYWNrZXREZXB0aC0tO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSAnKCcpIHtcbiAgICAgICAgcGFyZW5EZXB0aCsrO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hhcmFjdGVyID09PSAnKScpIHtcbiAgICAgICAgcGFyZW5EZXB0aC0tO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyID0gbW9kaWZpZXJzLmxlbmd0aCA9PT0gMCA/IGNsYXNzTmFtZSA6IGNsYXNzTmFtZS5zdWJzdHJpbmcobW9kaWZpZXJTdGFydCk7XG4gICAgY29uc3QgYmFzZUNsYXNzTmFtZSA9IHN0cmlwSW1wb3J0YW50TW9kaWZpZXIoYmFzZUNsYXNzTmFtZVdpdGhJbXBvcnRhbnRNb2RpZmllcik7XG4gICAgY29uc3QgaGFzSW1wb3J0YW50TW9kaWZpZXIgPSBiYXNlQ2xhc3NOYW1lICE9PSBiYXNlQ2xhc3NOYW1lV2l0aEltcG9ydGFudE1vZGlmaWVyO1xuICAgIGNvbnN0IG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb24gPSBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiAmJiBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiA+IG1vZGlmaWVyU3RhcnQgPyBwb3N0Zml4TW9kaWZpZXJQb3NpdGlvbiAtIG1vZGlmaWVyU3RhcnQgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZGlmaWVycyxcbiAgICAgIGhhc0ltcG9ydGFudE1vZGlmaWVyLFxuICAgICAgYmFzZUNsYXNzTmFtZSxcbiAgICAgIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb25cbiAgICB9O1xuICB9O1xuICBpZiAocHJlZml4KSB7XG4gICAgY29uc3QgZnVsbFByZWZpeCA9IHByZWZpeCArIE1PRElGSUVSX1NFUEFSQVRPUjtcbiAgICBjb25zdCBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsID0gcGFyc2VDbGFzc05hbWU7XG4gICAgcGFyc2VDbGFzc05hbWUgPSBjbGFzc05hbWUgPT4gY2xhc3NOYW1lLnN0YXJ0c1dpdGgoZnVsbFByZWZpeCkgPyBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsKGNsYXNzTmFtZS5zdWJzdHJpbmcoZnVsbFByZWZpeC5sZW5ndGgpKSA6IHtcbiAgICAgIGlzRXh0ZXJuYWw6IHRydWUsXG4gICAgICBtb2RpZmllcnM6IFtdLFxuICAgICAgaGFzSW1wb3J0YW50TW9kaWZpZXI6IGZhbHNlLFxuICAgICAgYmFzZUNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbjogdW5kZWZpbmVkXG4gICAgfTtcbiAgfVxuICBpZiAoZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUpIHtcbiAgICBjb25zdCBwYXJzZUNsYXNzTmFtZU9yaWdpbmFsID0gcGFyc2VDbGFzc05hbWU7XG4gICAgcGFyc2VDbGFzc05hbWUgPSBjbGFzc05hbWUgPT4gZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUoe1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgcGFyc2VDbGFzc05hbWU6IHBhcnNlQ2xhc3NOYW1lT3JpZ2luYWxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcGFyc2VDbGFzc05hbWU7XG59O1xuY29uc3Qgc3RyaXBJbXBvcnRhbnRNb2RpZmllciA9IGJhc2VDbGFzc05hbWUgPT4ge1xuICBpZiAoYmFzZUNsYXNzTmFtZS5lbmRzV2l0aChJTVBPUlRBTlRfTU9ESUZJRVIpKSB7XG4gICAgcmV0dXJuIGJhc2VDbGFzc05hbWUuc3Vic3RyaW5nKDAsIGJhc2VDbGFzc05hbWUubGVuZ3RoIC0gMSk7XG4gIH1cbiAgLyoqXG4gICAqIEluIFRhaWx3aW5kIENTUyB2MyB0aGUgaW1wb3J0YW50IG1vZGlmaWVyIHdhcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGJhc2UgY2xhc3MgbmFtZS4gVGhpcyBpcyBzdGlsbCBzdXBwb3J0ZWQgZm9yIGxlZ2FjeSByZWFzb25zLlxuICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9kY2FzdGlsL3RhaWx3aW5kLW1lcmdlL2lzc3Vlcy81MTMjaXNzdWVjb21tZW50LTI2MTQwMjk4NjRcbiAgICovXG4gIGlmIChiYXNlQ2xhc3NOYW1lLnN0YXJ0c1dpdGgoSU1QT1JUQU5UX01PRElGSUVSKSkge1xuICAgIHJldHVybiBiYXNlQ2xhc3NOYW1lLnN1YnN0cmluZygxKTtcbiAgfVxuICByZXR1cm4gYmFzZUNsYXNzTmFtZTtcbn07XG5cbi8qKlxuICogU29ydHMgbW9kaWZpZXJzIGFjY29yZGluZyB0byBmb2xsb3dpbmcgc2NoZW1hOlxuICogLSBQcmVkZWZpbmVkIG1vZGlmaWVycyBhcmUgc29ydGVkIGFscGhhYmV0aWNhbGx5XG4gKiAtIFdoZW4gYW4gYXJiaXRyYXJ5IHZhcmlhbnQgYXBwZWFycywgaXQgbXVzdCBiZSBwcmVzZXJ2ZWQgd2hpY2ggbW9kaWZpZXJzIGFyZSBiZWZvcmUgYW5kIGFmdGVyIGl0XG4gKi9cbmNvbnN0IGNyZWF0ZVNvcnRNb2RpZmllcnMgPSBjb25maWcgPT4ge1xuICBjb25zdCBvcmRlclNlbnNpdGl2ZU1vZGlmaWVycyA9IE9iamVjdC5mcm9tRW50cmllcyhjb25maWcub3JkZXJTZW5zaXRpdmVNb2RpZmllcnMubWFwKG1vZGlmaWVyID0+IFttb2RpZmllciwgdHJ1ZV0pKTtcbiAgY29uc3Qgc29ydE1vZGlmaWVycyA9IG1vZGlmaWVycyA9PiB7XG4gICAgaWYgKG1vZGlmaWVycy5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuIG1vZGlmaWVycztcbiAgICB9XG4gICAgY29uc3Qgc29ydGVkTW9kaWZpZXJzID0gW107XG4gICAgbGV0IHVuc29ydGVkTW9kaWZpZXJzID0gW107XG4gICAgbW9kaWZpZXJzLmZvckVhY2gobW9kaWZpZXIgPT4ge1xuICAgICAgY29uc3QgaXNQb3NpdGlvblNlbnNpdGl2ZSA9IG1vZGlmaWVyWzBdID09PSAnWycgfHwgb3JkZXJTZW5zaXRpdmVNb2RpZmllcnNbbW9kaWZpZXJdO1xuICAgICAgaWYgKGlzUG9zaXRpb25TZW5zaXRpdmUpIHtcbiAgICAgICAgc29ydGVkTW9kaWZpZXJzLnB1c2goLi4udW5zb3J0ZWRNb2RpZmllcnMuc29ydCgpLCBtb2RpZmllcik7XG4gICAgICAgIHVuc29ydGVkTW9kaWZpZXJzID0gW107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1bnNvcnRlZE1vZGlmaWVycy5wdXNoKG1vZGlmaWVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzb3J0ZWRNb2RpZmllcnMucHVzaCguLi51bnNvcnRlZE1vZGlmaWVycy5zb3J0KCkpO1xuICAgIHJldHVybiBzb3J0ZWRNb2RpZmllcnM7XG4gIH07XG4gIHJldHVybiBzb3J0TW9kaWZpZXJzO1xufTtcbmNvbnN0IGNyZWF0ZUNvbmZpZ1V0aWxzID0gY29uZmlnID0+ICh7XG4gIGNhY2hlOiBjcmVhdGVMcnVDYWNoZShjb25maWcuY2FjaGVTaXplKSxcbiAgcGFyc2VDbGFzc05hbWU6IGNyZWF0ZVBhcnNlQ2xhc3NOYW1lKGNvbmZpZyksXG4gIHNvcnRNb2RpZmllcnM6IGNyZWF0ZVNvcnRNb2RpZmllcnMoY29uZmlnKSxcbiAgLi4uY3JlYXRlQ2xhc3NHcm91cFV0aWxzKGNvbmZpZylcbn0pO1xuY29uc3QgU1BMSVRfQ0xBU1NFU19SRUdFWCA9IC9cXHMrLztcbmNvbnN0IG1lcmdlQ2xhc3NMaXN0ID0gKGNsYXNzTGlzdCwgY29uZmlnVXRpbHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHBhcnNlQ2xhc3NOYW1lLFxuICAgIGdldENsYXNzR3JvdXBJZCxcbiAgICBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHMsXG4gICAgc29ydE1vZGlmaWVyc1xuICB9ID0gY29uZmlnVXRpbHM7XG4gIC8qKlxuICAgKiBTZXQgb2YgY2xhc3NHcm91cElkcyBpbiBmb2xsb3dpbmcgZm9ybWF0OlxuICAgKiBge2ltcG9ydGFudE1vZGlmaWVyfXt2YXJpYW50TW9kaWZpZXJzfXtjbGFzc0dyb3VwSWR9YFxuICAgKiBAZXhhbXBsZSAnZmxvYXQnXG4gICAqIEBleGFtcGxlICdob3Zlcjpmb2N1czpiZy1jb2xvcidcbiAgICogQGV4YW1wbGUgJ21kOiFwcidcbiAgICovXG4gIGNvbnN0IGNsYXNzR3JvdXBzSW5Db25mbGljdCA9IFtdO1xuICBjb25zdCBjbGFzc05hbWVzID0gY2xhc3NMaXN0LnRyaW0oKS5zcGxpdChTUExJVF9DTEFTU0VTX1JFR0VYKTtcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBmb3IgKGxldCBpbmRleCA9IGNsYXNzTmFtZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXggLT0gMSkge1xuICAgIGNvbnN0IG9yaWdpbmFsQ2xhc3NOYW1lID0gY2xhc3NOYW1lc1tpbmRleF07XG4gICAgY29uc3Qge1xuICAgICAgaXNFeHRlcm5hbCxcbiAgICAgIG1vZGlmaWVycyxcbiAgICAgIGhhc0ltcG9ydGFudE1vZGlmaWVyLFxuICAgICAgYmFzZUNsYXNzTmFtZSxcbiAgICAgIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb25cbiAgICB9ID0gcGFyc2VDbGFzc05hbWUob3JpZ2luYWxDbGFzc05hbWUpO1xuICAgIGlmIChpc0V4dGVybmFsKSB7XG4gICAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/ICcgJyArIHJlc3VsdCA6IHJlc3VsdCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IGhhc1Bvc3RmaXhNb2RpZmllciA9ICEhbWF5YmVQb3N0Zml4TW9kaWZpZXJQb3NpdGlvbjtcbiAgICBsZXQgY2xhc3NHcm91cElkID0gZ2V0Q2xhc3NHcm91cElkKGhhc1Bvc3RmaXhNb2RpZmllciA/IGJhc2VDbGFzc05hbWUuc3Vic3RyaW5nKDAsIG1heWJlUG9zdGZpeE1vZGlmaWVyUG9zaXRpb24pIDogYmFzZUNsYXNzTmFtZSk7XG4gICAgaWYgKCFjbGFzc0dyb3VwSWQpIHtcbiAgICAgIGlmICghaGFzUG9zdGZpeE1vZGlmaWVyKSB7XG4gICAgICAgIC8vIE5vdCBhIFRhaWx3aW5kIGNsYXNzXG4gICAgICAgIHJlc3VsdCA9IG9yaWdpbmFsQ2xhc3NOYW1lICsgKHJlc3VsdC5sZW5ndGggPiAwID8gJyAnICsgcmVzdWx0IDogcmVzdWx0KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjbGFzc0dyb3VwSWQgPSBnZXRDbGFzc0dyb3VwSWQoYmFzZUNsYXNzTmFtZSk7XG4gICAgICBpZiAoIWNsYXNzR3JvdXBJZCkge1xuICAgICAgICAvLyBOb3QgYSBUYWlsd2luZCBjbGFzc1xuICAgICAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/ICcgJyArIHJlc3VsdCA6IHJlc3VsdCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaGFzUG9zdGZpeE1vZGlmaWVyID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHZhcmlhbnRNb2RpZmllciA9IHNvcnRNb2RpZmllcnMobW9kaWZpZXJzKS5qb2luKCc6Jyk7XG4gICAgY29uc3QgbW9kaWZpZXJJZCA9IGhhc0ltcG9ydGFudE1vZGlmaWVyID8gdmFyaWFudE1vZGlmaWVyICsgSU1QT1JUQU5UX01PRElGSUVSIDogdmFyaWFudE1vZGlmaWVyO1xuICAgIGNvbnN0IGNsYXNzSWQgPSBtb2RpZmllcklkICsgY2xhc3NHcm91cElkO1xuICAgIGlmIChjbGFzc0dyb3Vwc0luQ29uZmxpY3QuaW5jbHVkZXMoY2xhc3NJZCkpIHtcbiAgICAgIC8vIFRhaWx3aW5kIGNsYXNzIG9taXR0ZWQgZHVlIHRvIGNvbmZsaWN0XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY2xhc3NHcm91cHNJbkNvbmZsaWN0LnB1c2goY2xhc3NJZCk7XG4gICAgY29uc3QgY29uZmxpY3RHcm91cHMgPSBnZXRDb25mbGljdGluZ0NsYXNzR3JvdXBJZHMoY2xhc3NHcm91cElkLCBoYXNQb3N0Zml4TW9kaWZpZXIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZmxpY3RHcm91cHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGNvbnN0IGdyb3VwID0gY29uZmxpY3RHcm91cHNbaV07XG4gICAgICBjbGFzc0dyb3Vwc0luQ29uZmxpY3QucHVzaChtb2RpZmllcklkICsgZ3JvdXApO1xuICAgIH1cbiAgICAvLyBUYWlsd2luZCBjbGFzcyBub3QgaW4gY29uZmxpY3RcbiAgICByZXN1bHQgPSBvcmlnaW5hbENsYXNzTmFtZSArIChyZXN1bHQubGVuZ3RoID4gMCA/ICcgJyArIHJlc3VsdCA6IHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVGhlIGNvZGUgaW4gdGhpcyBmaWxlIGlzIGNvcGllZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9sdWtlZWQvY2xzeCBhbmQgbW9kaWZpZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgdGFpbHdpbmQtbWVyZ2UgYmV0dGVyLlxuICpcbiAqIFNwZWNpZmljYWxseTpcbiAqIC0gUnVudGltZSBjb2RlIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2x1a2VlZC9jbHN4L2Jsb2IvdjEuMi4xL3NyYy9pbmRleC5qc1xuICogLSBUeXBlU2NyaXB0IHR5cGVzIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2x1a2VlZC9jbHN4L2Jsb2IvdjEuMi4xL2Nsc3guZC50c1xuICpcbiAqIE9yaWdpbmFsIGNvZGUgaGFzIE1JVCBsaWNlbnNlOiBDb3B5cmlnaHQgKGMpIEx1a2UgRWR3YXJkcyA8bHVrZS5lZHdhcmRzMDVAZ21haWwuY29tPiAobHVrZWVkLmNvbSlcbiAqL1xuZnVuY3Rpb24gdHdKb2luKCkge1xuICBsZXQgaW5kZXggPSAwO1xuICBsZXQgYXJndW1lbnQ7XG4gIGxldCByZXNvbHZlZFZhbHVlO1xuICBsZXQgc3RyaW5nID0gJyc7XG4gIHdoaWxlIChpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBpZiAoYXJndW1lbnQgPSBhcmd1bWVudHNbaW5kZXgrK10pIHtcbiAgICAgIGlmIChyZXNvbHZlZFZhbHVlID0gdG9WYWx1ZShhcmd1bWVudCkpIHtcbiAgICAgICAgc3RyaW5nICYmIChzdHJpbmcgKz0gJyAnKTtcbiAgICAgICAgc3RyaW5nICs9IHJlc29sdmVkVmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHJpbmc7XG59XG5jb25zdCB0b1ZhbHVlID0gbWl4ID0+IHtcbiAgaWYgKHR5cGVvZiBtaXggPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG1peDtcbiAgfVxuICBsZXQgcmVzb2x2ZWRWYWx1ZTtcbiAgbGV0IHN0cmluZyA9ICcnO1xuICBmb3IgKGxldCBrID0gMDsgayA8IG1peC5sZW5ndGg7IGsrKykge1xuICAgIGlmIChtaXhba10pIHtcbiAgICAgIGlmIChyZXNvbHZlZFZhbHVlID0gdG9WYWx1ZShtaXhba10pKSB7XG4gICAgICAgIHN0cmluZyAmJiAoc3RyaW5nICs9ICcgJyk7XG4gICAgICAgIHN0cmluZyArPSByZXNvbHZlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5nO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVRhaWx3aW5kTWVyZ2UoY3JlYXRlQ29uZmlnRmlyc3QsIC4uLmNyZWF0ZUNvbmZpZ1Jlc3QpIHtcbiAgbGV0IGNvbmZpZ1V0aWxzO1xuICBsZXQgY2FjaGVHZXQ7XG4gIGxldCBjYWNoZVNldDtcbiAgbGV0IGZ1bmN0aW9uVG9DYWxsID0gaW5pdFRhaWx3aW5kTWVyZ2U7XG4gIGZ1bmN0aW9uIGluaXRUYWlsd2luZE1lcmdlKGNsYXNzTGlzdCkge1xuICAgIGNvbnN0IGNvbmZpZyA9IGNyZWF0ZUNvbmZpZ1Jlc3QucmVkdWNlKChwcmV2aW91c0NvbmZpZywgY3JlYXRlQ29uZmlnQ3VycmVudCkgPT4gY3JlYXRlQ29uZmlnQ3VycmVudChwcmV2aW91c0NvbmZpZyksIGNyZWF0ZUNvbmZpZ0ZpcnN0KCkpO1xuICAgIGNvbmZpZ1V0aWxzID0gY3JlYXRlQ29uZmlnVXRpbHMoY29uZmlnKTtcbiAgICBjYWNoZUdldCA9IGNvbmZpZ1V0aWxzLmNhY2hlLmdldDtcbiAgICBjYWNoZVNldCA9IGNvbmZpZ1V0aWxzLmNhY2hlLnNldDtcbiAgICBmdW5jdGlvblRvQ2FsbCA9IHRhaWx3aW5kTWVyZ2U7XG4gICAgcmV0dXJuIHRhaWx3aW5kTWVyZ2UoY2xhc3NMaXN0KTtcbiAgfVxuICBmdW5jdGlvbiB0YWlsd2luZE1lcmdlKGNsYXNzTGlzdCkge1xuICAgIGNvbnN0IGNhY2hlZFJlc3VsdCA9IGNhY2hlR2V0KGNsYXNzTGlzdCk7XG4gICAgaWYgKGNhY2hlZFJlc3VsdCkge1xuICAgICAgcmV0dXJuIGNhY2hlZFJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gbWVyZ2VDbGFzc0xpc3QoY2xhc3NMaXN0LCBjb25maWdVdGlscyk7XG4gICAgY2FjaGVTZXQoY2xhc3NMaXN0LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIGNhbGxUYWlsd2luZE1lcmdlKCkge1xuICAgIHJldHVybiBmdW5jdGlvblRvQ2FsbCh0d0pvaW4uYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gIH07XG59XG5jb25zdCBmcm9tVGhlbWUgPSBrZXkgPT4ge1xuICBjb25zdCB0aGVtZUdldHRlciA9IHRoZW1lID0+IHRoZW1lW2tleV0gfHwgW107XG4gIHRoZW1lR2V0dGVyLmlzVGhlbWVHZXR0ZXIgPSB0cnVlO1xuICByZXR1cm4gdGhlbWVHZXR0ZXI7XG59O1xuY29uc3QgYXJiaXRyYXJ5VmFsdWVSZWdleCA9IC9eXFxbKD86KFxcd1tcXHctXSopOik/KC4rKVxcXSQvaTtcbmNvbnN0IGFyYml0cmFyeVZhcmlhYmxlUmVnZXggPSAvXlxcKCg/OihcXHdbXFx3LV0qKTopPyguKylcXCkkL2k7XG5jb25zdCBmcmFjdGlvblJlZ2V4ID0gL15cXGQrXFwvXFxkKyQvO1xuY29uc3QgdHNoaXJ0VW5pdFJlZ2V4ID0gL14oXFxkKyhcXC5cXGQrKT8pPyh4c3xzbXxtZHxsZ3x4bCkkLztcbmNvbnN0IGxlbmd0aFVuaXRSZWdleCA9IC9cXGQrKCV8cHh8cj9lbXxbc2RsXT92KFtod2liXXxtaW58bWF4KXxwdHxwY3xpbnxjbXxtbXxjYXB8Y2h8ZXh8cj9saHxjcSh3fGh8aXxifG1pbnxtYXgpKXxcXGIoY2FsY3xtaW58bWF4fGNsYW1wKVxcKC4rXFwpfF4wJC87XG5jb25zdCBjb2xvckZ1bmN0aW9uUmVnZXggPSAvXihyZ2JhP3xoc2xhP3xod2J8KG9rKT8obGFifGxjaCl8Y29sb3ItbWl4KVxcKC4rXFwpJC87XG4vLyBTaGFkb3cgYWx3YXlzIGJlZ2lucyB3aXRoIHggYW5kIHkgb2Zmc2V0IHNlcGFyYXRlZCBieSB1bmRlcnNjb3JlIG9wdGlvbmFsbHkgcHJlcGVuZGVkIGJ5IGluc2V0XG5jb25zdCBzaGFkb3dSZWdleCA9IC9eKGluc2V0Xyk/LT8oKFxcZCspP1xcLj8oXFxkKylbYS16XSt8MClfLT8oKFxcZCspP1xcLj8oXFxkKylbYS16XSt8MCkvO1xuY29uc3QgaW1hZ2VSZWdleCA9IC9eKHVybHxpbWFnZXxpbWFnZS1zZXR8Y3Jvc3MtZmFkZXxlbGVtZW50fChyZXBlYXRpbmctKT8obGluZWFyfHJhZGlhbHxjb25pYyktZ3JhZGllbnQpXFwoLitcXCkkLztcbmNvbnN0IGlzRnJhY3Rpb24gPSB2YWx1ZSA9PiBmcmFjdGlvblJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNOdW1iZXIgPSB2YWx1ZSA9PiAhIXZhbHVlICYmICFOdW1iZXIuaXNOYU4oTnVtYmVyKHZhbHVlKSk7XG5jb25zdCBpc0ludGVnZXIgPSB2YWx1ZSA9PiAhIXZhbHVlICYmIE51bWJlci5pc0ludGVnZXIoTnVtYmVyKHZhbHVlKSk7XG5jb25zdCBpc1BlcmNlbnQgPSB2YWx1ZSA9PiB2YWx1ZS5lbmRzV2l0aCgnJScpICYmIGlzTnVtYmVyKHZhbHVlLnNsaWNlKDAsIC0xKSk7XG5jb25zdCBpc1RzaGlydFNpemUgPSB2YWx1ZSA9PiB0c2hpcnRVbml0UmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc0FueSA9ICgpID0+IHRydWU7XG5jb25zdCBpc0xlbmd0aE9ubHkgPSB2YWx1ZSA9PlxuLy8gYGNvbG9yRnVuY3Rpb25SZWdleGAgY2hlY2sgaXMgbmVjZXNzYXJ5IGJlY2F1c2UgY29sb3IgZnVuY3Rpb25zIGNhbiBoYXZlIHBlcmNlbnRhZ2VzIGluIHRoZW0gd2hpY2ggd2hpY2ggd291bGQgYmUgaW5jb3JyZWN0bHkgY2xhc3NpZmllZCBhcyBsZW5ndGhzLlxuLy8gRm9yIGV4YW1wbGUsIGBoc2woMCAwJSAwJSlgIHdvdWxkIGJlIGNsYXNzaWZpZWQgYXMgYSBsZW5ndGggd2l0aG91dCB0aGlzIGNoZWNrLlxuLy8gSSBjb3VsZCBhbHNvIHVzZSBsb29rYmVoaW5kIGFzc2VydGlvbiBpbiBgbGVuZ3RoVW5pdFJlZ2V4YCBidXQgdGhhdCBpc24ndCBzdXBwb3J0ZWQgd2lkZWx5IGVub3VnaC5cbmxlbmd0aFVuaXRSZWdleC50ZXN0KHZhbHVlKSAmJiAhY29sb3JGdW5jdGlvblJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNOZXZlciA9ICgpID0+IGZhbHNlO1xuY29uc3QgaXNTaGFkb3cgPSB2YWx1ZSA9PiBzaGFkb3dSZWdleC50ZXN0KHZhbHVlKTtcbmNvbnN0IGlzSW1hZ2UgPSB2YWx1ZSA9PiBpbWFnZVJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNBbnlOb25BcmJpdHJhcnkgPSB2YWx1ZSA9PiAhaXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSkgJiYgIWlzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUpO1xuY29uc3QgaXNBcmJpdHJhcnlTaXplID0gdmFsdWUgPT4gZ2V0SXNBcmJpdHJhcnlWYWx1ZSh2YWx1ZSwgaXNMYWJlbFNpemUsIGlzTmV2ZXIpO1xuY29uc3QgaXNBcmJpdHJhcnlWYWx1ZSA9IHZhbHVlID0+IGFyYml0cmFyeVZhbHVlUmVnZXgudGVzdCh2YWx1ZSk7XG5jb25zdCBpc0FyYml0cmFyeUxlbmd0aCA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxMZW5ndGgsIGlzTGVuZ3RoT25seSk7XG5jb25zdCBpc0FyYml0cmFyeU51bWJlciA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxOdW1iZXIsIGlzTnVtYmVyKTtcbmNvbnN0IGlzQXJiaXRyYXJ5UG9zaXRpb24gPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhbHVlKHZhbHVlLCBpc0xhYmVsUG9zaXRpb24sIGlzTmV2ZXIpO1xuY29uc3QgaXNBcmJpdHJhcnlJbWFnZSA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxJbWFnZSwgaXNJbWFnZSk7XG5jb25zdCBpc0FyYml0cmFyeVNoYWRvdyA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFsdWUodmFsdWUsIGlzTGFiZWxTaGFkb3csIGlzU2hhZG93KTtcbmNvbnN0IGlzQXJiaXRyYXJ5VmFyaWFibGUgPSB2YWx1ZSA9PiBhcmJpdHJhcnlWYXJpYWJsZVJlZ2V4LnRlc3QodmFsdWUpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxMZW5ndGgpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZUZhbWlseU5hbWUgPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsRmFtaWx5TmFtZSk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlUG9zaXRpb24gPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsUG9zaXRpb24pO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZVNpemUgPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsU2l6ZSk7XG5jb25zdCBpc0FyYml0cmFyeVZhcmlhYmxlSW1hZ2UgPSB2YWx1ZSA9PiBnZXRJc0FyYml0cmFyeVZhcmlhYmxlKHZhbHVlLCBpc0xhYmVsSW1hZ2UpO1xuY29uc3QgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdyA9IHZhbHVlID0+IGdldElzQXJiaXRyYXJ5VmFyaWFibGUodmFsdWUsIGlzTGFiZWxTaGFkb3csIHRydWUpO1xuLy8gSGVscGVyc1xuY29uc3QgZ2V0SXNBcmJpdHJhcnlWYWx1ZSA9ICh2YWx1ZSwgdGVzdExhYmVsLCB0ZXN0VmFsdWUpID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gYXJiaXRyYXJ5VmFsdWVSZWdleC5leGVjKHZhbHVlKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHRbMV0pIHtcbiAgICAgIHJldHVybiB0ZXN0TGFiZWwocmVzdWx0WzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRlc3RWYWx1ZShyZXN1bHRbMl0pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5jb25zdCBnZXRJc0FyYml0cmFyeVZhcmlhYmxlID0gKHZhbHVlLCB0ZXN0TGFiZWwsIHNob3VsZE1hdGNoTm9MYWJlbCA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGFyYml0cmFyeVZhcmlhYmxlUmVnZXguZXhlYyh2YWx1ZSk7XG4gIGlmIChyZXN1bHQpIHtcbiAgICBpZiAocmVzdWx0WzFdKSB7XG4gICAgICByZXR1cm4gdGVzdExhYmVsKHJlc3VsdFsxXSk7XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRNYXRjaE5vTGFiZWw7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcbi8vIExhYmVsc1xuY29uc3QgaXNMYWJlbFBvc2l0aW9uID0gbGFiZWwgPT4gbGFiZWwgPT09ICdwb3NpdGlvbicgfHwgbGFiZWwgPT09ICdwZXJjZW50YWdlJztcbmNvbnN0IGlzTGFiZWxJbWFnZSA9IGxhYmVsID0+IGxhYmVsID09PSAnaW1hZ2UnIHx8IGxhYmVsID09PSAndXJsJztcbmNvbnN0IGlzTGFiZWxTaXplID0gbGFiZWwgPT4gbGFiZWwgPT09ICdsZW5ndGgnIHx8IGxhYmVsID09PSAnc2l6ZScgfHwgbGFiZWwgPT09ICdiZy1zaXplJztcbmNvbnN0IGlzTGFiZWxMZW5ndGggPSBsYWJlbCA9PiBsYWJlbCA9PT0gJ2xlbmd0aCc7XG5jb25zdCBpc0xhYmVsTnVtYmVyID0gbGFiZWwgPT4gbGFiZWwgPT09ICdudW1iZXInO1xuY29uc3QgaXNMYWJlbEZhbWlseU5hbWUgPSBsYWJlbCA9PiBsYWJlbCA9PT0gJ2ZhbWlseS1uYW1lJztcbmNvbnN0IGlzTGFiZWxTaGFkb3cgPSBsYWJlbCA9PiBsYWJlbCA9PT0gJ3NoYWRvdyc7XG5jb25zdCB2YWxpZGF0b3JzID0gLyojX19QVVJFX18qL09iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgaXNBbnksXG4gIGlzQW55Tm9uQXJiaXRyYXJ5LFxuICBpc0FyYml0cmFyeUltYWdlLFxuICBpc0FyYml0cmFyeUxlbmd0aCxcbiAgaXNBcmJpdHJhcnlOdW1iZXIsXG4gIGlzQXJiaXRyYXJ5UG9zaXRpb24sXG4gIGlzQXJiaXRyYXJ5U2hhZG93LFxuICBpc0FyYml0cmFyeVNpemUsXG4gIGlzQXJiaXRyYXJ5VmFsdWUsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGUsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGVGYW1pbHlOYW1lLFxuICBpc0FyYml0cmFyeVZhcmlhYmxlSW1hZ2UsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsXG4gIGlzQXJiaXRyYXJ5VmFyaWFibGVQb3NpdGlvbixcbiAgaXNBcmJpdHJhcnlWYXJpYWJsZVNoYWRvdyxcbiAgaXNBcmJpdHJhcnlWYXJpYWJsZVNpemUsXG4gIGlzRnJhY3Rpb24sXG4gIGlzSW50ZWdlcixcbiAgaXNOdW1iZXIsXG4gIGlzUGVyY2VudCxcbiAgaXNUc2hpcnRTaXplXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgdmFsdWU6ICdNb2R1bGUnXG59KTtcbmNvbnN0IGdldERlZmF1bHRDb25maWcgPSAoKSA9PiB7XG4gIC8qKlxuICAgKiBUaGVtZSBnZXR0ZXJzIGZvciB0aGVtZSB2YXJpYWJsZSBuYW1lc3BhY2VzXG4gICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90aGVtZSN0aGVtZS12YXJpYWJsZS1uYW1lc3BhY2VzXG4gICAqL1xuICAvKioqL1xuICBjb25zdCB0aGVtZUNvbG9yID0gZnJvbVRoZW1lKCdjb2xvcicpO1xuICBjb25zdCB0aGVtZUZvbnQgPSBmcm9tVGhlbWUoJ2ZvbnQnKTtcbiAgY29uc3QgdGhlbWVUZXh0ID0gZnJvbVRoZW1lKCd0ZXh0Jyk7XG4gIGNvbnN0IHRoZW1lRm9udFdlaWdodCA9IGZyb21UaGVtZSgnZm9udC13ZWlnaHQnKTtcbiAgY29uc3QgdGhlbWVUcmFja2luZyA9IGZyb21UaGVtZSgndHJhY2tpbmcnKTtcbiAgY29uc3QgdGhlbWVMZWFkaW5nID0gZnJvbVRoZW1lKCdsZWFkaW5nJyk7XG4gIGNvbnN0IHRoZW1lQnJlYWtwb2ludCA9IGZyb21UaGVtZSgnYnJlYWtwb2ludCcpO1xuICBjb25zdCB0aGVtZUNvbnRhaW5lciA9IGZyb21UaGVtZSgnY29udGFpbmVyJyk7XG4gIGNvbnN0IHRoZW1lU3BhY2luZyA9IGZyb21UaGVtZSgnc3BhY2luZycpO1xuICBjb25zdCB0aGVtZVJhZGl1cyA9IGZyb21UaGVtZSgncmFkaXVzJyk7XG4gIGNvbnN0IHRoZW1lU2hhZG93ID0gZnJvbVRoZW1lKCdzaGFkb3cnKTtcbiAgY29uc3QgdGhlbWVJbnNldFNoYWRvdyA9IGZyb21UaGVtZSgnaW5zZXQtc2hhZG93Jyk7XG4gIGNvbnN0IHRoZW1lVGV4dFNoYWRvdyA9IGZyb21UaGVtZSgndGV4dC1zaGFkb3cnKTtcbiAgY29uc3QgdGhlbWVEcm9wU2hhZG93ID0gZnJvbVRoZW1lKCdkcm9wLXNoYWRvdycpO1xuICBjb25zdCB0aGVtZUJsdXIgPSBmcm9tVGhlbWUoJ2JsdXInKTtcbiAgY29uc3QgdGhlbWVQZXJzcGVjdGl2ZSA9IGZyb21UaGVtZSgncGVyc3BlY3RpdmUnKTtcbiAgY29uc3QgdGhlbWVBc3BlY3QgPSBmcm9tVGhlbWUoJ2FzcGVjdCcpO1xuICBjb25zdCB0aGVtZUVhc2UgPSBmcm9tVGhlbWUoJ2Vhc2UnKTtcbiAgY29uc3QgdGhlbWVBbmltYXRlID0gZnJvbVRoZW1lKCdhbmltYXRlJyk7XG4gIC8qKlxuICAgKiBIZWxwZXJzIHRvIGF2b2lkIHJlcGVhdGluZyB0aGUgc2FtZSBzY2FsZXNcbiAgICpcbiAgICogV2UgdXNlIGZ1bmN0aW9ucyB0aGF0IGNyZWF0ZSBhIG5ldyBhcnJheSBldmVyeSB0aW1lIHRoZXkncmUgY2FsbGVkIGluc3RlYWQgb2Ygc3RhdGljIGFycmF5cy5cbiAgICogVGhpcyBlbnN1cmVzIHRoYXQgdXNlcnMgd2hvIG1vZGlmeSBhbnkgc2NhbGUgYnkgbXV0YXRpbmcgdGhlIGFycmF5IChlLmcuIHdpdGggYGFycmF5LnB1c2goZWxlbWVudClgKSBkb24ndCBhY2NpZGVudGFsbHkgbXV0YXRlIGFycmF5cyBpbiBvdGhlciBwYXJ0cyBvZiB0aGUgY29uZmlnLlxuICAgKi9cbiAgLyoqKi9cbiAgY29uc3Qgc2NhbGVCcmVhayA9ICgpID0+IFsnYXV0bycsICdhdm9pZCcsICdhbGwnLCAnYXZvaWQtcGFnZScsICdwYWdlJywgJ2xlZnQnLCAncmlnaHQnLCAnY29sdW1uJ107XG4gIGNvbnN0IHNjYWxlUG9zaXRpb24gPSAoKSA9PiBbJ2NlbnRlcicsICd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAndG9wLWxlZnQnLFxuICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4xLjAsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL3B1bGwvMTczNzhcbiAgJ2xlZnQtdG9wJywgJ3RvcC1yaWdodCcsXG4gIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAncmlnaHQtdG9wJywgJ2JvdHRvbS1yaWdodCcsXG4gIC8vIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjEuMCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvcHVsbC8xNzM3OFxuICAncmlnaHQtYm90dG9tJywgJ2JvdHRvbS1sZWZ0JyxcbiAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMS4wLCBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9wdWxsLzE3Mzc4XG4gICdsZWZ0LWJvdHRvbSddO1xuICBjb25zdCBzY2FsZVBvc2l0aW9uV2l0aEFyYml0cmFyeSA9ICgpID0+IFsuLi5zY2FsZVBvc2l0aW9uKCksIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZU92ZXJmbG93ID0gKCkgPT4gWydhdXRvJywgJ2hpZGRlbicsICdjbGlwJywgJ3Zpc2libGUnLCAnc2Nyb2xsJ107XG4gIGNvbnN0IHNjYWxlT3ZlcnNjcm9sbCA9ICgpID0+IFsnYXV0bycsICdjb250YWluJywgJ25vbmUnXTtcbiAgY29uc3Qgc2NhbGVVbmFtYmlndW91c1NwYWNpbmcgPSAoKSA9PiBbaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZSwgdGhlbWVTcGFjaW5nXTtcbiAgY29uc3Qgc2NhbGVJbnNldCA9ICgpID0+IFtpc0ZyYWN0aW9uLCAnZnVsbCcsICdhdXRvJywgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gIGNvbnN0IHNjYWxlR3JpZFRlbXBsYXRlQ29sc1Jvd3MgPSAoKSA9PiBbaXNJbnRlZ2VyLCAnbm9uZScsICdzdWJncmlkJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlR3JpZENvbFJvd1N0YXJ0QW5kRW5kID0gKCkgPT4gWydhdXRvJywge1xuICAgIHNwYW46IFsnZnVsbCcsIGlzSW50ZWdlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgfSwgaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCA9ICgpID0+IFtpc0ludGVnZXIsICdhdXRvJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlR3JpZEF1dG9Db2xzUm93cyA9ICgpID0+IFsnYXV0bycsICdtaW4nLCAnbWF4JywgJ2ZyJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlQWxpZ25QcmltYXJ5QXhpcyA9ICgpID0+IFsnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdiZXR3ZWVuJywgJ2Fyb3VuZCcsICdldmVubHknLCAnc3RyZXRjaCcsICdiYXNlbGluZScsICdjZW50ZXItc2FmZScsICdlbmQtc2FmZSddO1xuICBjb25zdCBzY2FsZUFsaWduU2Vjb25kYXJ5QXhpcyA9ICgpID0+IFsnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdzdHJldGNoJywgJ2NlbnRlci1zYWZlJywgJ2VuZC1zYWZlJ107XG4gIGNvbnN0IHNjYWxlTWFyZ2luID0gKCkgPT4gWydhdXRvJywgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gIGNvbnN0IHNjYWxlU2l6aW5nID0gKCkgPT4gW2lzRnJhY3Rpb24sICdhdXRvJywgJ2Z1bGwnLCAnZHZ3JywgJ2R2aCcsICdsdncnLCAnbHZoJywgJ3N2dycsICdzdmgnLCAnbWluJywgJ21heCcsICdmaXQnLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXTtcbiAgY29uc3Qgc2NhbGVDb2xvciA9ICgpID0+IFt0aGVtZUNvbG9yLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVCZ1Bvc2l0aW9uID0gKCkgPT4gWy4uLnNjYWxlUG9zaXRpb24oKSwgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uLCBpc0FyYml0cmFyeVBvc2l0aW9uLCB7XG4gICAgcG9zaXRpb246IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICB9XTtcbiAgY29uc3Qgc2NhbGVCZ1JlcGVhdCA9ICgpID0+IFsnbm8tcmVwZWF0Jywge1xuICAgIHJlcGVhdDogWycnLCAneCcsICd5JywgJ3NwYWNlJywgJ3JvdW5kJ11cbiAgfV07XG4gIGNvbnN0IHNjYWxlQmdTaXplID0gKCkgPT4gWydhdXRvJywgJ2NvdmVyJywgJ2NvbnRhaW4nLCBpc0FyYml0cmFyeVZhcmlhYmxlU2l6ZSwgaXNBcmJpdHJhcnlTaXplLCB7XG4gICAgc2l6ZTogW2lzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gIH1dO1xuICBjb25zdCBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uID0gKCkgPT4gW2lzUGVyY2VudCwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdO1xuICBjb25zdCBzY2FsZVJhZGl1cyA9ICgpID0+IFtcbiAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICcnLCAnbm9uZScsICdmdWxsJywgdGhlbWVSYWRpdXMsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdO1xuICBjb25zdCBzY2FsZUJvcmRlcldpZHRoID0gKCkgPT4gWycnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZUxlbmd0aCwgaXNBcmJpdHJhcnlMZW5ndGhdO1xuICBjb25zdCBzY2FsZUxpbmVTdHlsZSA9ICgpID0+IFsnc29saWQnLCAnZGFzaGVkJywgJ2RvdHRlZCcsICdkb3VibGUnXTtcbiAgY29uc3Qgc2NhbGVCbGVuZE1vZGUgPSAoKSA9PiBbJ25vcm1hbCcsICdtdWx0aXBseScsICdzY3JlZW4nLCAnb3ZlcmxheScsICdkYXJrZW4nLCAnbGlnaHRlbicsICdjb2xvci1kb2RnZScsICdjb2xvci1idXJuJywgJ2hhcmQtbGlnaHQnLCAnc29mdC1saWdodCcsICdkaWZmZXJlbmNlJywgJ2V4Y2x1c2lvbicsICdodWUnLCAnc2F0dXJhdGlvbicsICdjb2xvcicsICdsdW1pbm9zaXR5J107XG4gIGNvbnN0IHNjYWxlTWFza0ltYWdlUG9zaXRpb24gPSAoKSA9PiBbaXNOdW1iZXIsIGlzUGVyY2VudCwgaXNBcmJpdHJhcnlWYXJpYWJsZVBvc2l0aW9uLCBpc0FyYml0cmFyeVBvc2l0aW9uXTtcbiAgY29uc3Qgc2NhbGVCbHVyID0gKCkgPT4gW1xuICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgJycsICdub25lJywgdGhlbWVCbHVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXTtcbiAgY29uc3Qgc2NhbGVSb3RhdGUgPSAoKSA9PiBbJ25vbmUnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlU2NhbGUgPSAoKSA9PiBbJ25vbmUnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlU2tldyA9ICgpID0+IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV07XG4gIGNvbnN0IHNjYWxlVHJhbnNsYXRlID0gKCkgPT4gW2lzRnJhY3Rpb24sICdmdWxsJywgLi4uc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKV07XG4gIHJldHVybiB7XG4gICAgY2FjaGVTaXplOiA1MDAsXG4gICAgdGhlbWU6IHtcbiAgICAgIGFuaW1hdGU6IFsnc3BpbicsICdwaW5nJywgJ3B1bHNlJywgJ2JvdW5jZSddLFxuICAgICAgYXNwZWN0OiBbJ3ZpZGVvJ10sXG4gICAgICBibHVyOiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIGJyZWFrcG9pbnQ6IFtpc1RzaGlydFNpemVdLFxuICAgICAgY29sb3I6IFtpc0FueV0sXG4gICAgICBjb250YWluZXI6IFtpc1RzaGlydFNpemVdLFxuICAgICAgJ2Ryb3Atc2hhZG93JzogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBlYXNlOiBbJ2luJywgJ291dCcsICdpbi1vdXQnXSxcbiAgICAgIGZvbnQ6IFtpc0FueU5vbkFyYml0cmFyeV0sXG4gICAgICAnZm9udC13ZWlnaHQnOiBbJ3RoaW4nLCAnZXh0cmFsaWdodCcsICdsaWdodCcsICdub3JtYWwnLCAnbWVkaXVtJywgJ3NlbWlib2xkJywgJ2JvbGQnLCAnZXh0cmFib2xkJywgJ2JsYWNrJ10sXG4gICAgICAnaW5zZXQtc2hhZG93JzogW2lzVHNoaXJ0U2l6ZV0sXG4gICAgICBsZWFkaW5nOiBbJ25vbmUnLCAndGlnaHQnLCAnc251ZycsICdub3JtYWwnLCAncmVsYXhlZCcsICdsb29zZSddLFxuICAgICAgcGVyc3BlY3RpdmU6IFsnZHJhbWF0aWMnLCAnbmVhcicsICdub3JtYWwnLCAnbWlkcmFuZ2UnLCAnZGlzdGFudCcsICdub25lJ10sXG4gICAgICByYWRpdXM6IFtpc1RzaGlydFNpemVdLFxuICAgICAgc2hhZG93OiBbaXNUc2hpcnRTaXplXSxcbiAgICAgIHNwYWNpbmc6IFsncHgnLCBpc051bWJlcl0sXG4gICAgICB0ZXh0OiBbaXNUc2hpcnRTaXplXSxcbiAgICAgICd0ZXh0LXNoYWRvdyc6IFtpc1RzaGlydFNpemVdLFxuICAgICAgdHJhY2tpbmc6IFsndGlnaHRlcicsICd0aWdodCcsICdub3JtYWwnLCAnd2lkZScsICd3aWRlcicsICd3aWRlc3QnXVxuICAgIH0sXG4gICAgY2xhc3NHcm91cHM6IHtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gTGF5b3V0IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQXNwZWN0IFJhdGlvXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYXNwZWN0LXJhdGlvXG4gICAgICAgKi9cbiAgICAgIGFzcGVjdDogW3tcbiAgICAgICAgYXNwZWN0OiBbJ2F1dG8nLCAnc3F1YXJlJywgaXNGcmFjdGlvbiwgaXNBcmJpdHJhcnlWYWx1ZSwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgdGhlbWVBc3BlY3RdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQ29udGFpbmVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY29udGFpbmVyXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKi9cbiAgICAgIGNvbnRhaW5lcjogWydjb250YWluZXInXSxcbiAgICAgIC8qKlxuICAgICAgICogQ29sdW1uc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbHVtbnNcbiAgICAgICAqL1xuICAgICAgY29sdW1uczogW3tcbiAgICAgICAgY29sdW1uczogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhbHVlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCB0aGVtZUNvbnRhaW5lcl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCcmVhayBBZnRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWFmdGVyXG4gICAgICAgKi9cbiAgICAgICdicmVhay1hZnRlcic6IFt7XG4gICAgICAgICdicmVhay1hZnRlcic6IHNjYWxlQnJlYWsoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyZWFrIEJlZm9yZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWJlZm9yZVxuICAgICAgICovXG4gICAgICAnYnJlYWstYmVmb3JlJzogW3tcbiAgICAgICAgJ2JyZWFrLWJlZm9yZSc6IHNjYWxlQnJlYWsoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyZWFrIEluc2lkZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JyZWFrLWluc2lkZVxuICAgICAgICovXG4gICAgICAnYnJlYWstaW5zaWRlJzogW3tcbiAgICAgICAgJ2JyZWFrLWluc2lkZSc6IFsnYXV0bycsICdhdm9pZCcsICdhdm9pZC1wYWdlJywgJ2F2b2lkLWNvbHVtbiddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm94IERlY29yYXRpb24gQnJlYWtcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtZGVjb3JhdGlvbi1icmVha1xuICAgICAgICovXG4gICAgICAnYm94LWRlY29yYXRpb24nOiBbe1xuICAgICAgICAnYm94LWRlY29yYXRpb24nOiBbJ3NsaWNlJywgJ2Nsb25lJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3ggU2l6aW5nXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNpemluZ1xuICAgICAgICovXG4gICAgICBib3g6IFt7XG4gICAgICAgIGJveDogWydib3JkZXInLCAnY29udGVudCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGlzcGxheVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXlcbiAgICAgICAqL1xuICAgICAgZGlzcGxheTogWydibG9jaycsICdpbmxpbmUtYmxvY2snLCAnaW5saW5lJywgJ2ZsZXgnLCAnaW5saW5lLWZsZXgnLCAndGFibGUnLCAnaW5saW5lLXRhYmxlJywgJ3RhYmxlLWNhcHRpb24nLCAndGFibGUtY2VsbCcsICd0YWJsZS1jb2x1bW4nLCAndGFibGUtY29sdW1uLWdyb3VwJywgJ3RhYmxlLWZvb3Rlci1ncm91cCcsICd0YWJsZS1oZWFkZXItZ3JvdXAnLCAndGFibGUtcm93LWdyb3VwJywgJ3RhYmxlLXJvdycsICdmbG93LXJvb3QnLCAnZ3JpZCcsICdpbmxpbmUtZ3JpZCcsICdjb250ZW50cycsICdsaXN0LWl0ZW0nLCAnaGlkZGVuJ10sXG4gICAgICAvKipcbiAgICAgICAqIFNjcmVlbiBSZWFkZXIgT25seVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2Rpc3BsYXkjc2NyZWVuLXJlYWRlci1vbmx5XG4gICAgICAgKi9cbiAgICAgIHNyOiBbJ3NyLW9ubHknLCAnbm90LXNyLW9ubHknXSxcbiAgICAgIC8qKlxuICAgICAgICogRmxvYXRzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxvYXRcbiAgICAgICAqL1xuICAgICAgZmxvYXQ6IFt7XG4gICAgICAgIGZsb2F0OiBbJ3JpZ2h0JywgJ2xlZnQnLCAnbm9uZScsICdzdGFydCcsICdlbmQnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENsZWFyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvY2xlYXJcbiAgICAgICAqL1xuICAgICAgY2xlYXI6IFt7XG4gICAgICAgIGNsZWFyOiBbJ2xlZnQnLCAncmlnaHQnLCAnYm90aCcsICdub25lJywgJ3N0YXJ0JywgJ2VuZCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSXNvbGF0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaXNvbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIGlzb2xhdGlvbjogWydpc29sYXRlJywgJ2lzb2xhdGlvbi1hdXRvJ10sXG4gICAgICAvKipcbiAgICAgICAqIE9iamVjdCBGaXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vYmplY3QtZml0XG4gICAgICAgKi9cbiAgICAgICdvYmplY3QtZml0JzogW3tcbiAgICAgICAgb2JqZWN0OiBbJ2NvbnRhaW4nLCAnY292ZXInLCAnZmlsbCcsICdub25lJywgJ3NjYWxlLWRvd24nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE9iamVjdCBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29iamVjdC1wb3NpdGlvblxuICAgICAgICovXG4gICAgICAnb2JqZWN0LXBvc2l0aW9uJzogW3tcbiAgICAgICAgb2JqZWN0OiBzY2FsZVBvc2l0aW9uV2l0aEFyYml0cmFyeSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcmZsb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyZmxvd1xuICAgICAgICovXG4gICAgICBvdmVyZmxvdzogW3tcbiAgICAgICAgb3ZlcmZsb3c6IHNjYWxlT3ZlcmZsb3coKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJmbG93IFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdmVyZmxvd1xuICAgICAgICovXG4gICAgICAnb3ZlcmZsb3cteCc6IFt7XG4gICAgICAgICdvdmVyZmxvdy14Jzogc2NhbGVPdmVyZmxvdygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3ZlcmZsb3cgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJmbG93XG4gICAgICAgKi9cbiAgICAgICdvdmVyZmxvdy15JzogW3tcbiAgICAgICAgJ292ZXJmbG93LXknOiBzY2FsZU92ZXJmbG93KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyc2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcnNjcm9sbC1iZWhhdmlvclxuICAgICAgICovXG4gICAgICBvdmVyc2Nyb2xsOiBbe1xuICAgICAgICBvdmVyc2Nyb2xsOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJzY3JvbGwgQmVoYXZpb3IgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJzY3JvbGwtYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgJ292ZXJzY3JvbGwteCc6IFt7XG4gICAgICAgICdvdmVyc2Nyb2xsLXgnOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE92ZXJzY3JvbGwgQmVoYXZpb3IgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL292ZXJzY3JvbGwtYmVoYXZpb3JcbiAgICAgICAqL1xuICAgICAgJ292ZXJzY3JvbGwteSc6IFt7XG4gICAgICAgICdvdmVyc2Nyb2xsLXknOiBzY2FsZU92ZXJzY3JvbGwoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcG9zaXRpb25cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IFsnc3RhdGljJywgJ2ZpeGVkJywgJ2Fic29sdXRlJywgJ3JlbGF0aXZlJywgJ3N0aWNreSddLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3AgLyBSaWdodCAvIEJvdHRvbSAvIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgaW5zZXQ6IFt7XG4gICAgICAgIGluc2V0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaWdodCAvIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgJ2luc2V0LXgnOiBbe1xuICAgICAgICAnaW5zZXQteCc6IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvcCAvIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICAnaW5zZXQteSc6IFt7XG4gICAgICAgICdpbnNldC15Jzogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgc3RhcnQ6IFt7XG4gICAgICAgIHN0YXJ0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgZW5kOiBbe1xuICAgICAgICBlbmQ6IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvcFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvcC1yaWdodC1ib3R0b20tbGVmdFxuICAgICAgICovXG4gICAgICB0b3A6IFt7XG4gICAgICAgIHRvcDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgcmlnaHQ6IFt7XG4gICAgICAgIHJpZ2h0OiBzY2FsZUluc2V0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgYm90dG9tOiBbe1xuICAgICAgICBib3R0b206IHNjYWxlSW5zZXQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3AtcmlnaHQtYm90dG9tLWxlZnRcbiAgICAgICAqL1xuICAgICAgbGVmdDogW3tcbiAgICAgICAgbGVmdDogc2NhbGVJbnNldCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVmlzaWJpbGl0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Zpc2liaWxpdHlcbiAgICAgICAqL1xuICAgICAgdmlzaWJpbGl0eTogWyd2aXNpYmxlJywgJ2ludmlzaWJsZScsICdjb2xsYXBzZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBaLUluZGV4XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvei1pbmRleFxuICAgICAgICovXG4gICAgICB6OiBbe1xuICAgICAgICB6OiBbaXNJbnRlZ2VyLCAnYXV0bycsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIEZsZXhib3ggYW5kIEdyaWQgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogRmxleCBCYXNpc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZsZXgtYmFzaXNcbiAgICAgICAqL1xuICAgICAgYmFzaXM6IFt7XG4gICAgICAgIGJhc2lzOiBbaXNGcmFjdGlvbiwgJ2Z1bGwnLCAnYXV0bycsIHRoZW1lQ29udGFpbmVyLCAuLi5zY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZsZXggRGlyZWN0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1kaXJlY3Rpb25cbiAgICAgICAqL1xuICAgICAgJ2ZsZXgtZGlyZWN0aW9uJzogW3tcbiAgICAgICAgZmxleDogWydyb3cnLCAncm93LXJldmVyc2UnLCAnY29sJywgJ2NvbC1yZXZlcnNlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4IFdyYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LXdyYXBcbiAgICAgICAqL1xuICAgICAgJ2ZsZXgtd3JhcCc6IFt7XG4gICAgICAgIGZsZXg6IFsnbm93cmFwJywgJ3dyYXAnLCAnd3JhcC1yZXZlcnNlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGbGV4XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleFxuICAgICAgICovXG4gICAgICBmbGV4OiBbe1xuICAgICAgICBmbGV4OiBbaXNOdW1iZXIsIGlzRnJhY3Rpb24sICdhdXRvJywgJ2luaXRpYWwnLCAnbm9uZScsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmxleCBHcm93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZmxleC1ncm93XG4gICAgICAgKi9cbiAgICAgIGdyb3c6IFt7XG4gICAgICAgIGdyb3c6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRmxleCBTaHJpbmtcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mbGV4LXNocmlua1xuICAgICAgICovXG4gICAgICBzaHJpbms6IFt7XG4gICAgICAgIHNocmluazogWycnLCBpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPcmRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL29yZGVyXG4gICAgICAgKi9cbiAgICAgIG9yZGVyOiBbe1xuICAgICAgICBvcmRlcjogW2lzSW50ZWdlciwgJ2ZpcnN0JywgJ2xhc3QnLCAnbm9uZScsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBUZW1wbGF0ZSBDb2x1bW5zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zXG4gICAgICAgKi9cbiAgICAgICdncmlkLWNvbHMnOiBbe1xuICAgICAgICAnZ3JpZC1jb2xzJzogc2NhbGVHcmlkVGVtcGxhdGVDb2xzUm93cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBDb2x1bW4gU3RhcnQgLyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWNvbHVtblxuICAgICAgICovXG4gICAgICAnY29sLXN0YXJ0LWVuZCc6IFt7XG4gICAgICAgIGNvbDogc2NhbGVHcmlkQ29sUm93U3RhcnRBbmRFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgQ29sdW1uIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1jb2x1bW5cbiAgICAgICAqL1xuICAgICAgJ2NvbC1zdGFydCc6IFt7XG4gICAgICAgICdjb2wtc3RhcnQnOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIENvbHVtbiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWNvbHVtblxuICAgICAgICovXG4gICAgICAnY29sLWVuZCc6IFt7XG4gICAgICAgICdjb2wtZW5kJzogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBUZW1wbGF0ZSBSb3dzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC10ZW1wbGF0ZS1yb3dzXG4gICAgICAgKi9cbiAgICAgICdncmlkLXJvd3MnOiBbe1xuICAgICAgICAnZ3JpZC1yb3dzJzogc2NhbGVHcmlkVGVtcGxhdGVDb2xzUm93cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBSb3cgU3RhcnQgLyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICovXG4gICAgICAncm93LXN0YXJ0LWVuZCc6IFt7XG4gICAgICAgIHJvdzogc2NhbGVHcmlkQ29sUm93U3RhcnRBbmRFbmQoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyaWQgUm93IFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JpZC1yb3dcbiAgICAgICAqL1xuICAgICAgJ3Jvdy1zdGFydCc6IFt7XG4gICAgICAgICdyb3ctc3RhcnQnOiBzY2FsZUdyaWRDb2xSb3dTdGFydE9yRW5kKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIFJvdyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLXJvd1xuICAgICAgICovXG4gICAgICAncm93LWVuZCc6IFt7XG4gICAgICAgICdyb3ctZW5kJzogc2NhbGVHcmlkQ29sUm93U3RhcnRPckVuZCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JpZCBBdXRvIEZsb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmlkLWF1dG8tZmxvd1xuICAgICAgICovXG4gICAgICAnZ3JpZC1mbG93JzogW3tcbiAgICAgICAgJ2dyaWQtZmxvdyc6IFsncm93JywgJ2NvbCcsICdkZW5zZScsICdyb3ctZGVuc2UnLCAnY29sLWRlbnNlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIEF1dG8gQ29sdW1uc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtYXV0by1jb2x1bW5zXG4gICAgICAgKi9cbiAgICAgICdhdXRvLWNvbHMnOiBbe1xuICAgICAgICAnYXV0by1jb2xzJzogc2NhbGVHcmlkQXV0b0NvbHNSb3dzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmlkIEF1dG8gUm93c1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyaWQtYXV0by1yb3dzXG4gICAgICAgKi9cbiAgICAgICdhdXRvLXJvd3MnOiBbe1xuICAgICAgICAnYXV0by1yb3dzJzogc2NhbGVHcmlkQXV0b0NvbHNSb3dzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAqL1xuICAgICAgZ2FwOiBbe1xuICAgICAgICBnYXA6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHYXAgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dhcFxuICAgICAgICovXG4gICAgICAnZ2FwLXgnOiBbe1xuICAgICAgICAnZ2FwLXgnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR2FwIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9nYXBcbiAgICAgICAqL1xuICAgICAgJ2dhcC15JzogW3tcbiAgICAgICAgJ2dhcC15Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEp1c3RpZnkgQ29udGVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3RpZnktY29udGVudFxuICAgICAgICovXG4gICAgICAnanVzdGlmeS1jb250ZW50JzogW3tcbiAgICAgICAganVzdGlmeTogWy4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpLCAnbm9ybWFsJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBKdXN0aWZ5IEl0ZW1zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvanVzdGlmeS1pdGVtc1xuICAgICAgICovXG4gICAgICAnanVzdGlmeS1pdGVtcyc6IFt7XG4gICAgICAgICdqdXN0aWZ5LWl0ZW1zJzogWy4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCksICdub3JtYWwnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEp1c3RpZnkgU2VsZlxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2p1c3RpZnktc2VsZlxuICAgICAgICovXG4gICAgICAnanVzdGlmeS1zZWxmJzogW3tcbiAgICAgICAgJ2p1c3RpZnktc2VsZic6IFsnYXV0bycsIC4uLnNjYWxlQWxpZ25TZWNvbmRhcnlBeGlzKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQWxpZ24gQ29udGVudFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FsaWduLWNvbnRlbnRcbiAgICAgICAqL1xuICAgICAgJ2FsaWduLWNvbnRlbnQnOiBbe1xuICAgICAgICBjb250ZW50OiBbJ25vcm1hbCcsIC4uLnNjYWxlQWxpZ25QcmltYXJ5QXhpcygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFsaWduIEl0ZW1zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYWxpZ24taXRlbXNcbiAgICAgICAqL1xuICAgICAgJ2FsaWduLWl0ZW1zJzogW3tcbiAgICAgICAgaXRlbXM6IFsuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpLCB7XG4gICAgICAgICAgYmFzZWxpbmU6IFsnJywgJ2xhc3QnXVxuICAgICAgICB9XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFsaWduIFNlbGZcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9hbGlnbi1zZWxmXG4gICAgICAgKi9cbiAgICAgICdhbGlnbi1zZWxmJzogW3tcbiAgICAgICAgc2VsZjogWydhdXRvJywgLi4uc2NhbGVBbGlnblNlY29uZGFyeUF4aXMoKSwge1xuICAgICAgICAgIGJhc2VsaW5lOiBbJycsICdsYXN0J11cbiAgICAgICAgfV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSBDb250ZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGxhY2UtY29udGVudFxuICAgICAgICovXG4gICAgICAncGxhY2UtY29udGVudCc6IFt7XG4gICAgICAgICdwbGFjZS1jb250ZW50Jzogc2NhbGVBbGlnblByaW1hcnlBeGlzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZSBJdGVtc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlLWl0ZW1zXG4gICAgICAgKi9cbiAgICAgICdwbGFjZS1pdGVtcyc6IFt7XG4gICAgICAgICdwbGFjZS1pdGVtcyc6IFsuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpLCAnYmFzZWxpbmUnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBsYWNlIFNlbGZcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wbGFjZS1zZWxmXG4gICAgICAgKi9cbiAgICAgICdwbGFjZS1zZWxmJzogW3tcbiAgICAgICAgJ3BsYWNlLXNlbGYnOiBbJ2F1dG8nLCAuLi5zY2FsZUFsaWduU2Vjb25kYXJ5QXhpcygpXVxuICAgICAgfV0sXG4gICAgICAvLyBTcGFjaW5nXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHA6IFt7XG4gICAgICAgIHA6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHB4OiBbe1xuICAgICAgICBweDogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHk6IFt7XG4gICAgICAgIHB5OiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcHM6IFt7XG4gICAgICAgIHBzOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgIHBlOiBbe1xuICAgICAgICBwZTogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFBhZGRpbmcgVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwdDogW3tcbiAgICAgICAgcHQ6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwcjogW3tcbiAgICAgICAgcHI6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQYWRkaW5nIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BhZGRpbmdcbiAgICAgICAqL1xuICAgICAgcGI6IFt7XG4gICAgICAgIHBiOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGFkZGluZyBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGFkZGluZ1xuICAgICAgICovXG4gICAgICBwbDogW3tcbiAgICAgICAgcGw6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW5cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbTogW3tcbiAgICAgICAgbTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG14OiBbe1xuICAgICAgICBteDogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG15OiBbe1xuICAgICAgICBteTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpblxuICAgICAgICovXG4gICAgICBtczogW3tcbiAgICAgICAgbXM6IHNjYWxlTWFyZ2luKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXJnaW4gRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1lOiBbe1xuICAgICAgICBtZTogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbXQ6IFt7XG4gICAgICAgIG10OiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luXG4gICAgICAgKi9cbiAgICAgIG1yOiBbe1xuICAgICAgICBtcjogc2NhbGVNYXJnaW4oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1hcmdpbiBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbWI6IFt7XG4gICAgICAgIG1iOiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFyZ2luIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW5cbiAgICAgICAqL1xuICAgICAgbWw6IFt7XG4gICAgICAgIG1sOiBzY2FsZU1hcmdpbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3BhY2UgQmV0d2VlbiBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdzcGFjZS14JzogW3tcbiAgICAgICAgJ3NwYWNlLXgnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU3BhY2UgQmV0d2VlbiBYIFJldmVyc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXJnaW4jYWRkaW5nLXNwYWNlLWJldHdlZW4tY2hpbGRyZW5cbiAgICAgICAqL1xuICAgICAgJ3NwYWNlLXgtcmV2ZXJzZSc6IFsnc3BhY2UteC1yZXZlcnNlJ10sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hcmdpbiNhZGRpbmctc3BhY2UtYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICAnc3BhY2UteSc6IFt7XG4gICAgICAgICdzcGFjZS15Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNwYWNlIEJldHdlZW4gWSBSZXZlcnNlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFyZ2luI2FkZGluZy1zcGFjZS1iZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdzcGFjZS15LXJldmVyc2UnOiBbJ3NwYWNlLXktcmV2ZXJzZSddLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBTaXppbmcgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBTaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lkdGgjc2V0dGluZy1ib3RoLXdpZHRoLWFuZC1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgc2l6ZTogW3tcbiAgICAgICAgc2l6ZTogc2NhbGVTaXppbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdpZHRoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lkdGhcbiAgICAgICAqL1xuICAgICAgdzogW3tcbiAgICAgICAgdzogW3RoZW1lQ29udGFpbmVyLCAnc2NyZWVuJywgLi4uc2NhbGVTaXppbmcoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNaW4tV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9taW4td2lkdGhcbiAgICAgICAqL1xuICAgICAgJ21pbi13JzogW3tcbiAgICAgICAgJ21pbi13JzogW3RoZW1lQ29udGFpbmVyLCAnc2NyZWVuJywgLyoqIERlcHJlY2F0ZWQuIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy5jb20vaXNzdWVzLzIwMjcjaXNzdWVjb21tZW50LTI2MjAxNTI3NTcgKi9cbiAgICAgICAgJ25vbmUnLCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE1heC1XaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC13aWR0aFxuICAgICAgICovXG4gICAgICAnbWF4LXcnOiBbe1xuICAgICAgICAnbWF4LXcnOiBbdGhlbWVDb250YWluZXIsICdzY3JlZW4nLCAnbm9uZScsIC8qKiBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjAuIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy5jb20vaXNzdWVzLzIwMjcjaXNzdWVjb21tZW50LTI2MjAxNTI3NTcgKi9cbiAgICAgICAgJ3Byb3NlJywgLyoqIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMC4gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzLmNvbS9pc3N1ZXMvMjAyNyNpc3N1ZWNvbW1lbnQtMjYyMDE1Mjc1NyAqL1xuICAgICAgICB7XG4gICAgICAgICAgc2NyZWVuOiBbdGhlbWVCcmVha3BvaW50XVxuICAgICAgICB9LCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2hlaWdodFxuICAgICAgICovXG4gICAgICBoOiBbe1xuICAgICAgICBoOiBbJ3NjcmVlbicsICdsaCcsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWluLUhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21pbi1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgJ21pbi1oJzogW3tcbiAgICAgICAgJ21pbi1oJzogWydzY3JlZW4nLCAnbGgnLCAnbm9uZScsIC4uLnNjYWxlU2l6aW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWF4LUhlaWdodFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21heC1oZWlnaHRcbiAgICAgICAqL1xuICAgICAgJ21heC1oJzogW3tcbiAgICAgICAgJ21heC1oJzogWydzY3JlZW4nLCAnbGgnLCAuLi5zY2FsZVNpemluZygpXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBUeXBvZ3JhcGh5IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgU2l6ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc2l6ZVxuICAgICAgICovXG4gICAgICAnZm9udC1zaXplJzogW3tcbiAgICAgICAgdGV4dDogWydiYXNlJywgdGhlbWVUZXh0LCBpc0FyYml0cmFyeVZhcmlhYmxlTGVuZ3RoLCBpc0FyYml0cmFyeUxlbmd0aF1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFNtb290aGluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc21vb3RoaW5nXG4gICAgICAgKi9cbiAgICAgICdmb250LXNtb290aGluZyc6IFsnYW50aWFsaWFzZWQnLCAnc3VicGl4ZWwtYW50aWFsaWFzZWQnXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTdHlsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ2ZvbnQtc3R5bGUnOiBbJ2l0YWxpYycsICdub3QtaXRhbGljJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgV2VpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC13ZWlnaHRcbiAgICAgICAqL1xuICAgICAgJ2ZvbnQtd2VpZ2h0JzogW3tcbiAgICAgICAgZm9udDogW3RoZW1lRm9udFdlaWdodCwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBTdHJldGNoXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC1zdHJldGNoXG4gICAgICAgKi9cbiAgICAgICdmb250LXN0cmV0Y2gnOiBbe1xuICAgICAgICAnZm9udC1zdHJldGNoJzogWyd1bHRyYS1jb25kZW5zZWQnLCAnZXh0cmEtY29uZGVuc2VkJywgJ2NvbmRlbnNlZCcsICdzZW1pLWNvbmRlbnNlZCcsICdub3JtYWwnLCAnc2VtaS1leHBhbmRlZCcsICdleHBhbmRlZCcsICdleHRyYS1leHBhbmRlZCcsICd1bHRyYS1leHBhbmRlZCcsIGlzUGVyY2VudCwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IEZhbWlseVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtZmFtaWx5XG4gICAgICAgKi9cbiAgICAgICdmb250LWZhbWlseSc6IFt7XG4gICAgICAgIGZvbnQ6IFtpc0FyYml0cmFyeVZhcmlhYmxlRmFtaWx5TmFtZSwgaXNBcmJpdHJhcnlWYWx1ZSwgdGhlbWVGb250XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1ub3JtYWwnOiBbJ25vcm1hbC1udW1zJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1vcmRpbmFsJzogWydvcmRpbmFsJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1zbGFzaGVkLXplcm8nOiBbJ3NsYXNoZWQtemVybyddLFxuICAgICAgLyoqXG4gICAgICAgKiBGb250IFZhcmlhbnQgTnVtZXJpY1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZvbnQtdmFyaWFudC1udW1lcmljXG4gICAgICAgKi9cbiAgICAgICdmdm4tZmlndXJlJzogWydsaW5pbmctbnVtcycsICdvbGRzdHlsZS1udW1zJ10sXG4gICAgICAvKipcbiAgICAgICAqIEZvbnQgVmFyaWFudCBOdW1lcmljXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9udC12YXJpYW50LW51bWVyaWNcbiAgICAgICAqL1xuICAgICAgJ2Z2bi1zcGFjaW5nJzogWydwcm9wb3J0aW9uYWwtbnVtcycsICd0YWJ1bGFyLW51bXMnXSxcbiAgICAgIC8qKlxuICAgICAgICogRm9udCBWYXJpYW50IE51bWVyaWNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9mb250LXZhcmlhbnQtbnVtZXJpY1xuICAgICAgICovXG4gICAgICAnZnZuLWZyYWN0aW9uJzogWydkaWFnb25hbC1mcmFjdGlvbnMnLCAnc3RhY2tlZC1mcmFjdGlvbnMnXSxcbiAgICAgIC8qKlxuICAgICAgICogTGV0dGVyIFNwYWNpbmdcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9sZXR0ZXItc3BhY2luZ1xuICAgICAgICovXG4gICAgICB0cmFja2luZzogW3tcbiAgICAgICAgdHJhY2tpbmc6IFt0aGVtZVRyYWNraW5nLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIExpbmUgQ2xhbXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saW5lLWNsYW1wXG4gICAgICAgKi9cbiAgICAgICdsaW5lLWNsYW1wJzogW3tcbiAgICAgICAgJ2xpbmUtY2xhbXAnOiBbaXNOdW1iZXIsICdub25lJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlOdW1iZXJdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGluZSBIZWlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saW5lLWhlaWdodFxuICAgICAgICovXG4gICAgICBsZWFkaW5nOiBbe1xuICAgICAgICBsZWFkaW5nOiBbLyoqIERlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMC4gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzLmNvbS9pc3N1ZXMvMjAyNyNpc3N1ZWNvbW1lbnQtMjYyMDE1Mjc1NyAqL1xuICAgICAgICB0aGVtZUxlYWRpbmcsIC4uLnNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKCldXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGlzdCBTdHlsZSBJbWFnZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpc3Qtc3R5bGUtaW1hZ2VcbiAgICAgICAqL1xuICAgICAgJ2xpc3QtaW1hZ2UnOiBbe1xuICAgICAgICAnbGlzdC1pbWFnZSc6IFsnbm9uZScsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTGlzdCBTdHlsZSBQb3NpdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2xpc3Qtc3R5bGUtcG9zaXRpb25cbiAgICAgICAqL1xuICAgICAgJ2xpc3Qtc3R5bGUtcG9zaXRpb24nOiBbe1xuICAgICAgICBsaXN0OiBbJ2luc2lkZScsICdvdXRzaWRlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBMaXN0IFN0eWxlIFR5cGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9saXN0LXN0eWxlLXR5cGVcbiAgICAgICAqL1xuICAgICAgJ2xpc3Qtc3R5bGUtdHlwZSc6IFt7XG4gICAgICAgIGxpc3Q6IFsnZGlzYycsICdkZWNpbWFsJywgJ25vbmUnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgQWxpZ25tZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1hbGlnblxuICAgICAgICovXG4gICAgICAndGV4dC1hbGlnbm1lbnQnOiBbe1xuICAgICAgICB0ZXh0OiBbJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0JywgJ2p1c3RpZnknLCAnc3RhcnQnLCAnZW5kJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQbGFjZWhvbGRlciBDb2xvclxuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHYzLjAuMFxuICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3BsYWNlaG9sZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdwbGFjZWhvbGRlci1jb2xvcic6IFt7XG4gICAgICAgIHBsYWNlaG9sZGVyOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1jb2xvclxuICAgICAgICovXG4gICAgICAndGV4dC1jb2xvcic6IFt7XG4gICAgICAgIHRleHQ6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgRGVjb3JhdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvblxuICAgICAgICovXG4gICAgICAndGV4dC1kZWNvcmF0aW9uJzogWyd1bmRlcmxpbmUnLCAnb3ZlcmxpbmUnLCAnbGluZS10aHJvdWdoJywgJ25vLXVuZGVybGluZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IERlY29yYXRpb24gU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LWRlY29yYXRpb24tc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ3RleHQtZGVjb3JhdGlvbi1zdHlsZSc6IFt7XG4gICAgICAgIGRlY29yYXRpb246IFsuLi5zY2FsZUxpbmVTdHlsZSgpLCAnd2F2eSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBEZWNvcmF0aW9uIFRoaWNrbmVzc1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi10aGlja25lc3NcbiAgICAgICAqL1xuICAgICAgJ3RleHQtZGVjb3JhdGlvbi10aGlja25lc3MnOiBbe1xuICAgICAgICBkZWNvcmF0aW9uOiBbaXNOdW1iZXIsICdmcm9tLWZvbnQnLCAnYXV0bycsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5TGVuZ3RoXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgRGVjb3JhdGlvbiBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtZGVjb3JhdGlvbi1jb2xvclxuICAgICAgICovXG4gICAgICAndGV4dC1kZWNvcmF0aW9uLWNvbG9yJzogW3tcbiAgICAgICAgZGVjb3JhdGlvbjogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBVbmRlcmxpbmUgT2Zmc2V0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC11bmRlcmxpbmUtb2Zmc2V0XG4gICAgICAgKi9cbiAgICAgICd1bmRlcmxpbmUtb2Zmc2V0JzogW3tcbiAgICAgICAgJ3VuZGVybGluZS1vZmZzZXQnOiBbaXNOdW1iZXIsICdhdXRvJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IFRyYW5zZm9ybVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RleHQtdHJhbnNmb3JtXG4gICAgICAgKi9cbiAgICAgICd0ZXh0LXRyYW5zZm9ybSc6IFsndXBwZXJjYXNlJywgJ2xvd2VyY2FzZScsICdjYXBpdGFsaXplJywgJ25vcm1hbC1jYXNlJ10sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgT3ZlcmZsb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LW92ZXJmbG93XG4gICAgICAgKi9cbiAgICAgICd0ZXh0LW92ZXJmbG93JzogWyd0cnVuY2F0ZScsICd0ZXh0LWVsbGlwc2lzJywgJ3RleHQtY2xpcCddLFxuICAgICAgLyoqXG4gICAgICAgKiBUZXh0IFdyYXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXdyYXBcbiAgICAgICAqL1xuICAgICAgJ3RleHQtd3JhcCc6IFt7XG4gICAgICAgIHRleHQ6IFsnd3JhcCcsICdub3dyYXAnLCAnYmFsYW5jZScsICdwcmV0dHknXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgSW5kZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1pbmRlbnRcbiAgICAgICAqL1xuICAgICAgaW5kZW50OiBbe1xuICAgICAgICBpbmRlbnQ6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBWZXJ0aWNhbCBBbGlnbm1lbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy92ZXJ0aWNhbC1hbGlnblxuICAgICAgICovXG4gICAgICAndmVydGljYWwtYWxpZ24nOiBbe1xuICAgICAgICBhbGlnbjogWydiYXNlbGluZScsICd0b3AnLCAnbWlkZGxlJywgJ2JvdHRvbScsICd0ZXh0LXRvcCcsICd0ZXh0LWJvdHRvbScsICdzdWInLCAnc3VwZXInLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdoaXRlc3BhY2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy93aGl0ZXNwYWNlXG4gICAgICAgKi9cbiAgICAgIHdoaXRlc3BhY2U6IFt7XG4gICAgICAgIHdoaXRlc3BhY2U6IFsnbm9ybWFsJywgJ25vd3JhcCcsICdwcmUnLCAncHJlLWxpbmUnLCAncHJlLXdyYXAnLCAnYnJlYWstc3BhY2VzJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBXb3JkIEJyZWFrXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd29yZC1icmVha1xuICAgICAgICovXG4gICAgICBicmVhazogW3tcbiAgICAgICAgYnJlYWs6IFsnbm9ybWFsJywgJ3dvcmRzJywgJ2FsbCcsICdrZWVwJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBPdmVyZmxvdyBXcmFwXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvb3ZlcmZsb3ctd3JhcFxuICAgICAgICovXG4gICAgICB3cmFwOiBbe1xuICAgICAgICB3cmFwOiBbJ2JyZWFrLXdvcmQnLCAnYW55d2hlcmUnLCAnbm9ybWFsJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBIeXBoZW5zXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaHlwaGVuc1xuICAgICAgICovXG4gICAgICBoeXBoZW5zOiBbe1xuICAgICAgICBoeXBoZW5zOiBbJ25vbmUnLCAnbWFudWFsJywgJ2F1dG8nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENvbnRlbnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb250ZW50XG4gICAgICAgKi9cbiAgICAgIGNvbnRlbnQ6IFt7XG4gICAgICAgIGNvbnRlbnQ6IFsnbm9uZScsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBCYWNrZ3JvdW5kcyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBBdHRhY2htZW50XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1hdHRhY2htZW50XG4gICAgICAgKi9cbiAgICAgICdiZy1hdHRhY2htZW50JzogW3tcbiAgICAgICAgYmc6IFsnZml4ZWQnLCAnbG9jYWwnLCAnc2Nyb2xsJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIENsaXBcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZ3JvdW5kLWNsaXBcbiAgICAgICAqL1xuICAgICAgJ2JnLWNsaXAnOiBbe1xuICAgICAgICAnYmctY2xpcCc6IFsnYm9yZGVyJywgJ3BhZGRpbmcnLCAnY29udGVudCcsICd0ZXh0J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtb3JpZ2luXG4gICAgICAgKi9cbiAgICAgICdiZy1vcmlnaW4nOiBbe1xuICAgICAgICAnYmctb3JpZ2luJzogWydib3JkZXInLCAncGFkZGluZycsICdjb250ZW50J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1wb3NpdGlvblxuICAgICAgICovXG4gICAgICAnYmctcG9zaXRpb24nOiBbe1xuICAgICAgICBiZzogc2NhbGVCZ1Bvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIFJlcGVhdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtcmVwZWF0XG4gICAgICAgKi9cbiAgICAgICdiZy1yZXBlYXQnOiBbe1xuICAgICAgICBiZzogc2NhbGVCZ1JlcGVhdCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBTaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1zaXplXG4gICAgICAgKi9cbiAgICAgICdiZy1zaXplJzogW3tcbiAgICAgICAgYmc6IHNjYWxlQmdTaXplKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZ3JvdW5kIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2dyb3VuZC1pbWFnZVxuICAgICAgICovXG4gICAgICAnYmctaW1hZ2UnOiBbe1xuICAgICAgICBiZzogWydub25lJywge1xuICAgICAgICAgIGxpbmVhcjogW3tcbiAgICAgICAgICAgIHRvOiBbJ3QnLCAndHInLCAncicsICdicicsICdiJywgJ2JsJywgJ2wnLCAndGwnXVxuICAgICAgICAgIH0sIGlzSW50ZWdlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV0sXG4gICAgICAgICAgcmFkaWFsOiBbJycsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdLFxuICAgICAgICAgIGNvbmljOiBbaXNJbnRlZ2VyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgICB9LCBpc0FyYml0cmFyeVZhcmlhYmxlSW1hZ2UsIGlzQXJiaXRyYXJ5SW1hZ2VdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2dyb3VuZCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JnLWNvbG9yJzogW3tcbiAgICAgICAgYmc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIEZyb20gUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtZnJvbS1wb3MnOiBbe1xuICAgICAgICBmcm9tOiBzY2FsZUdyYWRpZW50U3RvcFBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBHcmFkaWVudCBDb2xvciBTdG9wcyBWaWEgUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtdmlhLXBvcyc6IFt7XG4gICAgICAgIHZpYTogc2NhbGVHcmFkaWVudFN0b3BQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JhZGllbnQgQ29sb3IgU3RvcHMgVG8gUG9zaXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtdG8tcG9zJzogW3tcbiAgICAgICAgdG86IHNjYWxlR3JhZGllbnRTdG9wUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIEZyb21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ncmFkaWVudC1jb2xvci1zdG9wc1xuICAgICAgICovXG4gICAgICAnZ3JhZGllbnQtZnJvbSc6IFt7XG4gICAgICAgIGZyb206IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFZpYVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2dyYWRpZW50LWNvbG9yLXN0b3BzXG4gICAgICAgKi9cbiAgICAgICdncmFkaWVudC12aWEnOiBbe1xuICAgICAgICB2aWE6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEdyYWRpZW50IENvbG9yIFN0b3BzIFRvXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JhZGllbnQtY29sb3Itc3RvcHNcbiAgICAgICAqL1xuICAgICAgJ2dyYWRpZW50LXRvJzogW3tcbiAgICAgICAgdG86IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBCb3JkZXJzIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgIHJvdW5kZWQ6IFt7XG4gICAgICAgIHJvdW5kZWQ6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1zJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtcyc6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgJ3JvdW5kZWQtZSc6IFt7XG4gICAgICAgICdyb3VuZGVkLWUnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXQnOiBbe1xuICAgICAgICAncm91bmRlZC10Jzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXInOiBbe1xuICAgICAgICAncm91bmRlZC1yJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1iJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtYic6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgUmFkaXVzIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLWwnOiBbe1xuICAgICAgICAncm91bmRlZC1sJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgU3RhcnQgU3RhcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXNzJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtc3MnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBTdGFydCBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXNlJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtc2UnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBFbmQgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1lZSc6IFt7XG4gICAgICAgICdyb3VuZGVkLWVlJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgRW5kIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXJhZGl1c1xuICAgICAgICovXG4gICAgICAncm91bmRlZC1lcyc6IFt7XG4gICAgICAgICdyb3VuZGVkLWVzJzogc2NhbGVSYWRpdXMoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBSYWRpdXMgVG9wIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXRsJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtdGwnOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBUb3AgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLXRyJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtdHInOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBCb3R0b20gUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItcmFkaXVzXG4gICAgICAgKi9cbiAgICAgICdyb3VuZGVkLWJyJzogW3tcbiAgICAgICAgJ3JvdW5kZWQtYnInOiBzY2FsZVJhZGl1cygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFJhZGl1cyBCb3R0b20gTGVmdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1yYWRpdXNcbiAgICAgICAqL1xuICAgICAgJ3JvdW5kZWQtYmwnOiBbe1xuICAgICAgICAncm91bmRlZC1ibCc6IHNjYWxlUmFkaXVzKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13JzogW3tcbiAgICAgICAgYm9yZGVyOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICAnYm9yZGVyLXcteCc6IFt7XG4gICAgICAgICdib3JkZXIteCc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItdy15JzogW3tcbiAgICAgICAgJ2JvcmRlci15Jzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItdy1zJzogW3tcbiAgICAgICAgJ2JvcmRlci1zJzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIEVuZFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aFxuICAgICAgICovXG4gICAgICAnYm9yZGVyLXctZSc6IFt7XG4gICAgICAgICdib3JkZXItZSc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBXaWR0aCBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13LXQnOiBbe1xuICAgICAgICAnYm9yZGVyLXQnOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13LXInOiBbe1xuICAgICAgICAnYm9yZGVyLXInOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgV2lkdGggQm90dG9tXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXdpZHRoXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItdy1iJzogW3tcbiAgICAgICAgJ2JvcmRlci1iJzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIFdpZHRoIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci13LWwnOiBbe1xuICAgICAgICAnYm9yZGVyLWwnOiBzY2FsZUJvcmRlcldpZHRoKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdkaXZpZGUteCc6IFt7XG4gICAgICAgICdkaXZpZGUteCc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERpdmlkZSBXaWR0aCBYIFJldmVyc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICAnZGl2aWRlLXgtcmV2ZXJzZSc6IFsnZGl2aWRlLXgtcmV2ZXJzZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBEaXZpZGUgV2lkdGggWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci13aWR0aCNiZXR3ZWVuLWNoaWxkcmVuXG4gICAgICAgKi9cbiAgICAgICdkaXZpZGUteSc6IFt7XG4gICAgICAgICdkaXZpZGUteSc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERpdmlkZSBXaWR0aCBZIFJldmVyc2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItd2lkdGgjYmV0d2Vlbi1jaGlsZHJlblxuICAgICAgICovXG4gICAgICAnZGl2aWRlLXktcmV2ZXJzZSc6IFsnZGl2aWRlLXktcmV2ZXJzZSddLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1zdHlsZSc6IFt7XG4gICAgICAgIGJvcmRlcjogWy4uLnNjYWxlTGluZVN0eWxlKCksICdoaWRkZW4nLCAnbm9uZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGl2aWRlIFN0eWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXN0eWxlI3NldHRpbmctdGhlLWRpdmlkZXItc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ2RpdmlkZS1zdHlsZSc6IFt7XG4gICAgICAgIGRpdmlkZTogWy4uLnNjYWxlTGluZVN0eWxlKCksICdoaWRkZW4nLCAnbm9uZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3InOiBbe1xuICAgICAgICBib3JkZXI6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3IteCc6IFt7XG4gICAgICAgICdib3JkZXIteCc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3IteSc6IFt7XG4gICAgICAgICdib3JkZXIteSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBTXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3Itcyc6IFt7XG4gICAgICAgICdib3JkZXItcyc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBFXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3ItZSc6IFt7XG4gICAgICAgICdib3JkZXItZSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBUb3BcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1jb2xvci10JzogW3tcbiAgICAgICAgJ2JvcmRlci10Jzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItY29sb3Itcic6IFt7XG4gICAgICAgICdib3JkZXItcic6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xvciBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1jb2xvci1iJzogW3tcbiAgICAgICAgJ2JvcmRlci1iJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQm9yZGVyIENvbG9yIExlZnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3JkZXItY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1jb2xvci1sJzogW3tcbiAgICAgICAgJ2JvcmRlci1sJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogRGl2aWRlIENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZGl2aWRlLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdkaXZpZGUtY29sb3InOiBbe1xuICAgICAgICBkaXZpZGU6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE91dGxpbmUgU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLXN0eWxlXG4gICAgICAgKi9cbiAgICAgICdvdXRsaW5lLXN0eWxlJzogW3tcbiAgICAgICAgb3V0bGluZTogWy4uLnNjYWxlTGluZVN0eWxlKCksICdub25lJywgJ2hpZGRlbiddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3V0bGluZSBPZmZzZXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLW9mZnNldFxuICAgICAgICovXG4gICAgICAnb3V0bGluZS1vZmZzZXQnOiBbe1xuICAgICAgICAnb3V0bGluZS1vZmZzZXQnOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogT3V0bGluZSBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL291dGxpbmUtd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ291dGxpbmUtdyc6IFt7XG4gICAgICAgIG91dGxpbmU6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE91dGxpbmUgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vdXRsaW5lLWNvbG9yXG4gICAgICAgKi9cbiAgICAgICdvdXRsaW5lLWNvbG9yJzogW3tcbiAgICAgICAgb3V0bGluZTogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIEVmZmVjdHMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQm94IFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgc2hhZG93OiBbe1xuICAgICAgICBzaGFkb3c6IFtcbiAgICAgICAgLy8gRGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgICcnLCAnbm9uZScsIHRoZW1lU2hhZG93LCBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93LCBpc0FyYml0cmFyeVNoYWRvd11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3ggU2hhZG93IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm94LXNoYWRvdyNzZXR0aW5nLXRoZS1zaGFkb3ctY29sb3JcbiAgICAgICAqL1xuICAgICAgJ3NoYWRvdy1jb2xvcic6IFt7XG4gICAgICAgIHNoYWRvdzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgQm94IFNoYWRvd1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXNoYWRvd1xuICAgICAgICovXG4gICAgICAnaW5zZXQtc2hhZG93JzogW3tcbiAgICAgICAgJ2luc2V0LXNoYWRvdyc6IFsnbm9uZScsIHRoZW1lSW5zZXRTaGFkb3csIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csIGlzQXJiaXRyYXJ5U2hhZG93XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEluc2V0IEJveCBTaGFkb3cgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLWluc2V0LXNoYWRvdy1jb2xvclxuICAgICAgICovXG4gICAgICAnaW5zZXQtc2hhZG93LWNvbG9yJzogW3tcbiAgICAgICAgJ2luc2V0LXNoYWRvdyc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I2FkZGluZy1hLXJpbmdcbiAgICAgICAqL1xuICAgICAgJ3Jpbmctdyc6IFt7XG4gICAgICAgIHJpbmc6IHNjYWxlQm9yZGVyV2lkdGgoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgV2lkdGggSW5zZXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLXdpZHRoI2luc2V0LXJpbmdzXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvYmxvYi92NC4wLjAvcGFja2FnZXMvdGFpbHdpbmRjc3Mvc3JjL3V0aWxpdGllcy50cyNMNDE1OFxuICAgICAgICovXG4gICAgICAncmluZy13LWluc2V0JzogWydyaW5nLWluc2V0J10sXG4gICAgICAvKipcbiAgICAgICAqIFJpbmcgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9ib3gtc2hhZG93I3NldHRpbmctdGhlLXJpbmctY29sb3JcbiAgICAgICAqL1xuICAgICAgJ3JpbmctY29sb3InOiBbe1xuICAgICAgICByaW5nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSaW5nIE9mZnNldCBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3YzLnRhaWx3aW5kY3NzLmNvbS9kb2NzL3Jpbmctb2Zmc2V0LXdpZHRoXG4gICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSBUYWlsd2luZCBDU1MgdjQuMC4wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGxhYnMvdGFpbHdpbmRjc3MvYmxvYi92NC4wLjAvcGFja2FnZXMvdGFpbHdpbmRjc3Mvc3JjL3V0aWxpdGllcy50cyNMNDE1OFxuICAgICAgICovXG4gICAgICAncmluZy1vZmZzZXQtdyc6IFt7XG4gICAgICAgICdyaW5nLW9mZnNldCc6IFtpc051bWJlciwgaXNBcmJpdHJhcnlMZW5ndGhdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmluZyBPZmZzZXQgQ29sb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly92My50YWlsd2luZGNzcy5jb20vZG9jcy9yaW5nLW9mZnNldC1jb2xvclxuICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgVGFpbHdpbmQgQ1NTIHY0LjAuMFxuICAgICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGFpbHdpbmRsYWJzL3RhaWx3aW5kY3NzL2Jsb2IvdjQuMC4wL3BhY2thZ2VzL3RhaWx3aW5kY3NzL3NyYy91dGlsaXRpZXMudHMjTDQxNThcbiAgICAgICAqL1xuICAgICAgJ3Jpbmctb2Zmc2V0LWNvbG9yJzogW3tcbiAgICAgICAgJ3Jpbmctb2Zmc2V0Jzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgUmluZyBXaWR0aFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjYWRkaW5nLWFuLWluc2V0LXJpbmdcbiAgICAgICAqL1xuICAgICAgJ2luc2V0LXJpbmctdyc6IFt7XG4gICAgICAgICdpbnNldC1yaW5nJzogc2NhbGVCb3JkZXJXaWR0aCgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW5zZXQgUmluZyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JveC1zaGFkb3cjc2V0dGluZy10aGUtaW5zZXQtcmluZy1jb2xvclxuICAgICAgICovXG4gICAgICAnaW5zZXQtcmluZy1jb2xvcic6IFt7XG4gICAgICAgICdpbnNldC1yaW5nJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVGV4dCBTaGFkb3dcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90ZXh0LXNoYWRvd1xuICAgICAgICovXG4gICAgICAndGV4dC1zaGFkb3cnOiBbe1xuICAgICAgICAndGV4dC1zaGFkb3cnOiBbJ25vbmUnLCB0aGVtZVRleHRTaGFkb3csIGlzQXJiaXRyYXJ5VmFyaWFibGVTaGFkb3csIGlzQXJiaXRyYXJ5U2hhZG93XVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgU2hhZG93IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdGV4dC1zaGFkb3cjc2V0dGluZy10aGUtc2hhZG93LWNvbG9yXG4gICAgICAgKi9cbiAgICAgICd0ZXh0LXNoYWRvdy1jb2xvcic6IFt7XG4gICAgICAgICd0ZXh0LXNoYWRvdyc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIE9wYWNpdHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9vcGFjaXR5XG4gICAgICAgKi9cbiAgICAgIG9wYWNpdHk6IFt7XG4gICAgICAgIG9wYWNpdHk6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNaXggQmxlbmQgTW9kZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21peC1ibGVuZC1tb2RlXG4gICAgICAgKi9cbiAgICAgICdtaXgtYmxlbmQnOiBbe1xuICAgICAgICAnbWl4LWJsZW5kJzogWy4uLnNjYWxlQmxlbmRNb2RlKCksICdwbHVzLWRhcmtlcicsICdwbHVzLWxpZ2h0ZXInXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tncm91bmQgQmxlbmQgTW9kZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tncm91bmQtYmxlbmQtbW9kZVxuICAgICAgICovXG4gICAgICAnYmctYmxlbmQnOiBbe1xuICAgICAgICAnYmctYmxlbmQnOiBzY2FsZUJsZW5kTW9kZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBDbGlwXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1jbGlwXG4gICAgICAgKi9cbiAgICAgICdtYXNrLWNsaXAnOiBbe1xuICAgICAgICAnbWFzay1jbGlwJzogWydib3JkZXInLCAncGFkZGluZycsICdjb250ZW50JywgJ2ZpbGwnLCAnc3Ryb2tlJywgJ3ZpZXcnXVxuICAgICAgfSwgJ21hc2stbm8tY2xpcCddLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIENvbXBvc2l0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stY29tcG9zaXRlXG4gICAgICAgKi9cbiAgICAgICdtYXNrLWNvbXBvc2l0ZSc6IFt7XG4gICAgICAgIG1hc2s6IFsnYWRkJywgJ3N1YnRyYWN0JywgJ2ludGVyc2VjdCcsICdleGNsdWRlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIEltYWdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1pbWFnZVxuICAgICAgICovXG4gICAgICAnbWFzay1pbWFnZS1saW5lYXItcG9zJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyJzogW2lzTnVtYmVyXVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1saW5lYXItZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1saW5lYXItZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1saW5lYXItdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWxpbmVhci1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyLWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtbGluZWFyLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stbGluZWFyLXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXQtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay10LWZyb20nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtdC10by1wb3MnOiBbe1xuICAgICAgICAnbWFzay10LXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXQtZnJvbS1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLXQtZnJvbSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS10LXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stdC10byc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yLWZyb20tcG9zJzogW3tcbiAgICAgICAgJ21hc2stci1mcm9tJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXItdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2stci10byc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yLWZyb20tY29sb3InOiBbe1xuICAgICAgICAnbWFzay1yLWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2Utci10by1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLXItdG8nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtYi1mcm9tLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLWItZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1iLXRvLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLWItdG8nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtYi1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stYi1mcm9tJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWItdG8tY29sb3InOiBbe1xuICAgICAgICAnbWFzay1iLXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWwtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1sLWZyb20nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtbC10by1wb3MnOiBbe1xuICAgICAgICAnbWFzay1sLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWwtZnJvbS1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLWwtZnJvbSc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1sLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stbC10byc6IHNjYWxlQ29sb3IoKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS14LWZyb20tcG9zJzogW3tcbiAgICAgICAgJ21hc2steC1mcm9tJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXgtdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2steC10byc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS14LWZyb20tY29sb3InOiBbe1xuICAgICAgICAnbWFzay14LWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UteC10by1jb2xvcic6IFt7XG4gICAgICAgICdtYXNrLXgtdG8nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UteS1mcm9tLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLXktZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS15LXRvLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLXktdG8nOiBzY2FsZU1hc2tJbWFnZVBvc2l0aW9uKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UteS1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2steS1mcm9tJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXktdG8tY29sb3InOiBbe1xuICAgICAgICAnbWFzay15LXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXJhZGlhbCc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbCc6IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yYWRpYWwtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1yYWRpYWwtZnJvbSc6IHNjYWxlTWFza0ltYWdlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yYWRpYWwtdG8tcG9zJzogW3tcbiAgICAgICAgJ21hc2stcmFkaWFsLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXJhZGlhbC1mcm9tLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stcmFkaWFsLWZyb20nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtcmFkaWFsLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stcmFkaWFsLXRvJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLXJhZGlhbC1zaGFwZSc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbCc6IFsnY2lyY2xlJywgJ2VsbGlwc2UnXVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1yYWRpYWwtc2l6ZSc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbCc6IFt7XG4gICAgICAgICAgY2xvc2VzdDogWydzaWRlJywgJ2Nvcm5lciddLFxuICAgICAgICAgIGZhcnRoZXN0OiBbJ3NpZGUnLCAnY29ybmVyJ11cbiAgICAgICAgfV1cbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtcmFkaWFsLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLXJhZGlhbC1hdCc6IHNjYWxlUG9zaXRpb24oKVxuICAgICAgfV0sXG4gICAgICAnbWFzay1pbWFnZS1jb25pYy1wb3MnOiBbe1xuICAgICAgICAnbWFzay1jb25pYyc6IFtpc051bWJlcl1cbiAgICAgIH1dLFxuICAgICAgJ21hc2staW1hZ2UtY29uaWMtZnJvbS1wb3MnOiBbe1xuICAgICAgICAnbWFzay1jb25pYy1mcm9tJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWNvbmljLXRvLXBvcyc6IFt7XG4gICAgICAgICdtYXNrLWNvbmljLXRvJzogc2NhbGVNYXNrSW1hZ2VQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWNvbmljLWZyb20tY29sb3InOiBbe1xuICAgICAgICAnbWFzay1jb25pYy1mcm9tJzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgICdtYXNrLWltYWdlLWNvbmljLXRvLWNvbG9yJzogW3tcbiAgICAgICAgJ21hc2stY29uaWMtdG8nOiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIE1vZGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLW1vZGVcbiAgICAgICAqL1xuICAgICAgJ21hc2stbW9kZSc6IFt7XG4gICAgICAgIG1hc2s6IFsnYWxwaGEnLCAnbHVtaW5hbmNlJywgJ21hdGNoJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2stb3JpZ2luXG4gICAgICAgKi9cbiAgICAgICdtYXNrLW9yaWdpbic6IFt7XG4gICAgICAgICdtYXNrLW9yaWdpbic6IFsnYm9yZGVyJywgJ3BhZGRpbmcnLCAnY29udGVudCcsICdmaWxsJywgJ3N0cm9rZScsICd2aWV3J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFBvc2l0aW9uXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvbWFzay1wb3NpdGlvblxuICAgICAgICovXG4gICAgICAnbWFzay1wb3NpdGlvbic6IFt7XG4gICAgICAgIG1hc2s6IHNjYWxlQmdQb3NpdGlvbigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBSZXBlYXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXJlcGVhdFxuICAgICAgICovXG4gICAgICAnbWFzay1yZXBlYXQnOiBbe1xuICAgICAgICBtYXNrOiBzY2FsZUJnUmVwZWF0KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFNpemVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXNpemVcbiAgICAgICAqL1xuICAgICAgJ21hc2stc2l6ZSc6IFt7XG4gICAgICAgIG1hc2s6IHNjYWxlQmdTaXplKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBNYXNrIFR5cGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9tYXNrLXR5cGVcbiAgICAgICAqL1xuICAgICAgJ21hc2stdHlwZSc6IFt7XG4gICAgICAgICdtYXNrLXR5cGUnOiBbJ2FscGhhJywgJ2x1bWluYW5jZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogTWFzayBJbWFnZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL21hc2staW1hZ2VcbiAgICAgICAqL1xuICAgICAgJ21hc2staW1hZ2UnOiBbe1xuICAgICAgICBtYXNrOiBbJ25vbmUnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBGaWx0ZXJzIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZpbHRlclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpbHRlclxuICAgICAgICovXG4gICAgICBmaWx0ZXI6IFt7XG4gICAgICAgIGZpbHRlcjogW1xuICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgJycsICdub25lJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCbHVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmx1clxuICAgICAgICovXG4gICAgICBibHVyOiBbe1xuICAgICAgICBibHVyOiBzY2FsZUJsdXIoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJyaWdodG5lc3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9icmlnaHRuZXNzXG4gICAgICAgKi9cbiAgICAgIGJyaWdodG5lc3M6IFt7XG4gICAgICAgIGJyaWdodG5lc3M6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb250cmFzdFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NvbnRyYXN0XG4gICAgICAgKi9cbiAgICAgIGNvbnRyYXN0OiBbe1xuICAgICAgICBjb250cmFzdDogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIERyb3AgU2hhZG93XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZHJvcC1zaGFkb3dcbiAgICAgICAqL1xuICAgICAgJ2Ryb3Atc2hhZG93JzogW3tcbiAgICAgICAgJ2Ryb3Atc2hhZG93JzogW1xuICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2NC4wLjBcbiAgICAgICAgJycsICdub25lJywgdGhlbWVEcm9wU2hhZG93LCBpc0FyYml0cmFyeVZhcmlhYmxlU2hhZG93LCBpc0FyYml0cmFyeVNoYWRvd11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBEcm9wIFNoYWRvdyBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpbHRlci1kcm9wLXNoYWRvdyNzZXR0aW5nLXRoZS1zaGFkb3ctY29sb3JcbiAgICAgICAqL1xuICAgICAgJ2Ryb3Atc2hhZG93LWNvbG9yJzogW3tcbiAgICAgICAgJ2Ryb3Atc2hhZG93Jzogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogR3JheXNjYWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZ3JheXNjYWxlXG4gICAgICAgKi9cbiAgICAgIGdyYXlzY2FsZTogW3tcbiAgICAgICAgZ3JheXNjYWxlOiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEh1ZSBSb3RhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9odWUtcm90YXRlXG4gICAgICAgKi9cbiAgICAgICdodWUtcm90YXRlJzogW3tcbiAgICAgICAgJ2h1ZS1yb3RhdGUnOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogSW52ZXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvaW52ZXJ0XG4gICAgICAgKi9cbiAgICAgIGludmVydDogW3tcbiAgICAgICAgaW52ZXJ0OiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNhdHVyYXRlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2F0dXJhdGVcbiAgICAgICAqL1xuICAgICAgc2F0dXJhdGU6IFt7XG4gICAgICAgIHNhdHVyYXRlOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2VwaWFcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zZXBpYVxuICAgICAgICovXG4gICAgICBzZXBpYTogW3tcbiAgICAgICAgc2VwaWE6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgRmlsdGVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtZmlsdGVyXG4gICAgICAgKi9cbiAgICAgICdiYWNrZHJvcC1maWx0ZXInOiBbe1xuICAgICAgICAnYmFja2Ryb3AtZmlsdGVyJzogW1xuICAgICAgICAvLyBEZXByZWNhdGVkIHNpbmNlIFRhaWx3aW5kIENTUyB2My4wLjBcbiAgICAgICAgJycsICdub25lJywgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBCbHVyXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtYmx1clxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3AtYmx1cic6IFt7XG4gICAgICAgICdiYWNrZHJvcC1ibHVyJzogc2NhbGVCbHVyKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBCcmlnaHRuZXNzXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtYnJpZ2h0bmVzc1xuICAgICAgICovXG4gICAgICAnYmFja2Ryb3AtYnJpZ2h0bmVzcyc6IFt7XG4gICAgICAgICdiYWNrZHJvcC1icmlnaHRuZXNzJzogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIENvbnRyYXN0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYmFja2Ryb3AtY29udHJhc3RcbiAgICAgICAqL1xuICAgICAgJ2JhY2tkcm9wLWNvbnRyYXN0JzogW3tcbiAgICAgICAgJ2JhY2tkcm9wLWNvbnRyYXN0JzogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIEdyYXlzY2FsZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWdyYXlzY2FsZVxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3AtZ3JheXNjYWxlJzogW3tcbiAgICAgICAgJ2JhY2tkcm9wLWdyYXlzY2FsZSc6IFsnJywgaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgSHVlIFJvdGF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tkcm9wLWh1ZS1yb3RhdGVcbiAgICAgICAqL1xuICAgICAgJ2JhY2tkcm9wLWh1ZS1yb3RhdGUnOiBbe1xuICAgICAgICAnYmFja2Ryb3AtaHVlLXJvdGF0ZSc6IFtpc051bWJlciwgaXNBcmJpdHJhcnlWYXJpYWJsZSwgaXNBcmJpdHJhcnlWYWx1ZV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCYWNrZHJvcCBJbnZlcnRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1pbnZlcnRcbiAgICAgICAqL1xuICAgICAgJ2JhY2tkcm9wLWludmVydCc6IFt7XG4gICAgICAgICdiYWNrZHJvcC1pbnZlcnQnOiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEJhY2tkcm9wIE9wYWNpdHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1vcGFjaXR5XG4gICAgICAgKi9cbiAgICAgICdiYWNrZHJvcC1vcGFjaXR5JzogW3tcbiAgICAgICAgJ2JhY2tkcm9wLW9wYWNpdHknOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgU2F0dXJhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1zYXR1cmF0ZVxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3Atc2F0dXJhdGUnOiBbe1xuICAgICAgICAnYmFja2Ryb3Atc2F0dXJhdGUnOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQmFja2Ryb3AgU2VwaWFcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9iYWNrZHJvcC1zZXBpYVxuICAgICAgICovXG4gICAgICAnYmFja2Ryb3Atc2VwaWEnOiBbe1xuICAgICAgICAnYmFja2Ryb3Atc2VwaWEnOiBbJycsIGlzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFRhYmxlcyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEJvcmRlciBDb2xsYXBzZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1jb2xsYXBzZVxuICAgICAgICovXG4gICAgICAnYm9yZGVyLWNvbGxhcHNlJzogW3tcbiAgICAgICAgYm9yZGVyOiBbJ2NvbGxhcHNlJywgJ3NlcGFyYXRlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JvcmRlci1zcGFjaW5nXG4gICAgICAgKi9cbiAgICAgICdib3JkZXItc3BhY2luZyc6IFt7XG4gICAgICAgICdib3JkZXItc3BhY2luZyc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZyBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXNwYWNpbmdcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1zcGFjaW5nLXgnOiBbe1xuICAgICAgICAnYm9yZGVyLXNwYWNpbmcteCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBCb3JkZXIgU3BhY2luZyBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvYm9yZGVyLXNwYWNpbmdcbiAgICAgICAqL1xuICAgICAgJ2JvcmRlci1zcGFjaW5nLXknOiBbe1xuICAgICAgICAnYm9yZGVyLXNwYWNpbmcteSc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUYWJsZSBMYXlvdXRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90YWJsZS1sYXlvdXRcbiAgICAgICAqL1xuICAgICAgJ3RhYmxlLWxheW91dCc6IFt7XG4gICAgICAgIHRhYmxlOiBbJ2F1dG8nLCAnZml4ZWQnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENhcHRpb24gU2lkZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2NhcHRpb24tc2lkZVxuICAgICAgICovXG4gICAgICBjYXB0aW9uOiBbe1xuICAgICAgICBjYXB0aW9uOiBbJ3RvcCcsICdib3R0b20nXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBUcmFuc2l0aW9ucyBhbmQgQW5pbWF0aW9uIC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gUHJvcGVydHlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLXByb3BlcnR5XG4gICAgICAgKi9cbiAgICAgIHRyYW5zaXRpb246IFt7XG4gICAgICAgIHRyYW5zaXRpb246IFsnJywgJ2FsbCcsICdjb2xvcnMnLCAnb3BhY2l0eScsICdzaGFkb3cnLCAndHJhbnNmb3JtJywgJ25vbmUnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gQmVoYXZpb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgICd0cmFuc2l0aW9uLWJlaGF2aW9yJzogW3tcbiAgICAgICAgdHJhbnNpdGlvbjogWydub3JtYWwnLCAnZGlzY3JldGUnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gRHVyYXRpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWR1cmF0aW9uXG4gICAgICAgKi9cbiAgICAgIGR1cmF0aW9uOiBbe1xuICAgICAgICBkdXJhdGlvbjogW2lzTnVtYmVyLCAnaW5pdGlhbCcsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNpdGlvbiBUaW1pbmcgRnVuY3Rpb25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblxuICAgICAgICovXG4gICAgICBlYXNlOiBbe1xuICAgICAgICBlYXNlOiBbJ2xpbmVhcicsICdpbml0aWFsJywgdGhlbWVFYXNlLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zaXRpb24gRGVsYXlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2l0aW9uLWRlbGF5XG4gICAgICAgKi9cbiAgICAgIGRlbGF5OiBbe1xuICAgICAgICBkZWxheTogW2lzTnVtYmVyLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEFuaW1hdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FuaW1hdGlvblxuICAgICAgICovXG4gICAgICBhbmltYXRlOiBbe1xuICAgICAgICBhbmltYXRlOiBbJ25vbmUnLCB0aGVtZUFuaW1hdGUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFRyYW5zZm9ybXMgLS0tXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8qKlxuICAgICAgICogQmFja2ZhY2UgVmlzaWJpbGl0eVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2JhY2tmYWNlLXZpc2liaWxpdHlcbiAgICAgICAqL1xuICAgICAgYmFja2ZhY2U6IFt7XG4gICAgICAgIGJhY2tmYWNlOiBbJ2hpZGRlbicsICd2aXNpYmxlJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBQZXJzcGVjdGl2ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3BlcnNwZWN0aXZlXG4gICAgICAgKi9cbiAgICAgIHBlcnNwZWN0aXZlOiBbe1xuICAgICAgICBwZXJzcGVjdGl2ZTogW3RoZW1lUGVyc3BlY3RpdmUsIGlzQXJiaXRyYXJ5VmFyaWFibGUsIGlzQXJiaXRyYXJ5VmFsdWVdXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUGVyc3BlY3RpdmUgT3JpZ2luXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcGVyc3BlY3RpdmUtb3JpZ2luXG4gICAgICAgKi9cbiAgICAgICdwZXJzcGVjdGl2ZS1vcmlnaW4nOiBbe1xuICAgICAgICAncGVyc3BlY3RpdmUtb3JpZ2luJzogc2NhbGVQb3NpdGlvbldpdGhBcmJpdHJhcnkoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJvdGF0ZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICovXG4gICAgICByb3RhdGU6IFt7XG4gICAgICAgIHJvdGF0ZTogc2NhbGVSb3RhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFJvdGF0ZSBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvcm90YXRlXG4gICAgICAgKi9cbiAgICAgICdyb3RhdGUteCc6IFt7XG4gICAgICAgICdyb3RhdGUteCc6IHNjYWxlUm90YXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBSb3RhdGUgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3JvdGF0ZVxuICAgICAgICovXG4gICAgICAncm90YXRlLXknOiBbe1xuICAgICAgICAncm90YXRlLXknOiBzY2FsZVJvdGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUm90YXRlIFpcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9yb3RhdGVcbiAgICAgICAqL1xuICAgICAgJ3JvdGF0ZS16JzogW3tcbiAgICAgICAgJ3JvdGF0ZS16Jzogc2NhbGVSb3RhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2NhbGVcbiAgICAgICAqL1xuICAgICAgc2NhbGU6IFt7XG4gICAgICAgIHNjYWxlOiBzY2FsZVNjYWxlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY2FsZSBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2NhbGVcbiAgICAgICAqL1xuICAgICAgJ3NjYWxlLXgnOiBbe1xuICAgICAgICAnc2NhbGUteCc6IHNjYWxlU2NhbGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjYWxlIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY2FsZVxuICAgICAgICovXG4gICAgICAnc2NhbGUteSc6IFt7XG4gICAgICAgICdzY2FsZS15Jzogc2NhbGVTY2FsZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2NhbGUgWlxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgICdzY2FsZS16JzogW3tcbiAgICAgICAgJ3NjYWxlLXonOiBzY2FsZVNjYWxlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY2FsZSAzRFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NjYWxlXG4gICAgICAgKi9cbiAgICAgICdzY2FsZS0zZCc6IFsnc2NhbGUtM2QnXSxcbiAgICAgIC8qKlxuICAgICAgICogU2tld1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3NrZXdcbiAgICAgICAqL1xuICAgICAgc2tldzogW3tcbiAgICAgICAgc2tldzogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTa2V3IFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9za2V3XG4gICAgICAgKi9cbiAgICAgICdza2V3LXgnOiBbe1xuICAgICAgICAnc2tldy14Jzogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTa2V3IFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9za2V3XG4gICAgICAgKi9cbiAgICAgICdza2V3LXknOiBbe1xuICAgICAgICAnc2tldy15Jzogc2NhbGVTa2V3KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2Zvcm1cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2Zvcm1cbiAgICAgICAqL1xuICAgICAgdHJhbnNmb3JtOiBbe1xuICAgICAgICB0cmFuc2Zvcm06IFtpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlLCAnJywgJ25vbmUnLCAnZ3B1JywgJ2NwdSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNmb3JtIE9yaWdpblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zZm9ybS1vcmlnaW5cbiAgICAgICAqL1xuICAgICAgJ3RyYW5zZm9ybS1vcmlnaW4nOiBbe1xuICAgICAgICBvcmlnaW46IHNjYWxlUG9zaXRpb25XaXRoQXJiaXRyYXJ5KClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2Zvcm0gU3R5bGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2Zvcm0tc3R5bGVcbiAgICAgICAqL1xuICAgICAgJ3RyYW5zZm9ybS1zdHlsZSc6IFt7XG4gICAgICAgIHRyYW5zZm9ybTogWyczZCcsICdmbGF0J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAqL1xuICAgICAgdHJhbnNsYXRlOiBbe1xuICAgICAgICB0cmFuc2xhdGU6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGUgWFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICAndHJhbnNsYXRlLXgnOiBbe1xuICAgICAgICAndHJhbnNsYXRlLXgnOiBzY2FsZVRyYW5zbGF0ZSgpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlIFlcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90cmFuc2xhdGVcbiAgICAgICAqL1xuICAgICAgJ3RyYW5zbGF0ZS15JzogW3tcbiAgICAgICAgJ3RyYW5zbGF0ZS15Jzogc2NhbGVUcmFuc2xhdGUoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRyYW5zbGF0ZSBaXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdHJhbnNsYXRlXG4gICAgICAgKi9cbiAgICAgICd0cmFuc2xhdGUteic6IFt7XG4gICAgICAgICd0cmFuc2xhdGUteic6IHNjYWxlVHJhbnNsYXRlKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUcmFuc2xhdGUgTm9uZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RyYW5zbGF0ZVxuICAgICAgICovXG4gICAgICAndHJhbnNsYXRlLW5vbmUnOiBbJ3RyYW5zbGF0ZS1ub25lJ10sXG4gICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIC0tLSBJbnRlcmFjdGl2aXR5IC0tLVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEFjY2VudCBDb2xvclxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FjY2VudC1jb2xvclxuICAgICAgICovXG4gICAgICBhY2NlbnQ6IFt7XG4gICAgICAgIGFjY2VudDogc2NhbGVDb2xvcigpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogQXBwZWFyYW5jZVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2FwcGVhcmFuY2VcbiAgICAgICAqL1xuICAgICAgYXBwZWFyYW5jZTogW3tcbiAgICAgICAgYXBwZWFyYW5jZTogWydub25lJywgJ2F1dG8nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIENhcmV0IENvbG9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvanVzdC1pbi10aW1lLW1vZGUjY2FyZXQtY29sb3ItdXRpbGl0aWVzXG4gICAgICAgKi9cbiAgICAgICdjYXJldC1jb2xvcic6IFt7XG4gICAgICAgIGNhcmV0OiBzY2FsZUNvbG9yKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDb2xvciBTY2hlbWVcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jb2xvci1zY2hlbWVcbiAgICAgICAqL1xuICAgICAgJ2NvbG9yLXNjaGVtZSc6IFt7XG4gICAgICAgIHNjaGVtZTogWydub3JtYWwnLCAnZGFyaycsICdsaWdodCcsICdsaWdodC1kYXJrJywgJ29ubHktZGFyaycsICdvbmx5LWxpZ2h0J11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBDdXJzb3JcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9jdXJzb3JcbiAgICAgICAqL1xuICAgICAgY3Vyc29yOiBbe1xuICAgICAgICBjdXJzb3I6IFsnYXV0bycsICdkZWZhdWx0JywgJ3BvaW50ZXInLCAnd2FpdCcsICd0ZXh0JywgJ21vdmUnLCAnaGVscCcsICdub3QtYWxsb3dlZCcsICdub25lJywgJ2NvbnRleHQtbWVudScsICdwcm9ncmVzcycsICdjZWxsJywgJ2Nyb3NzaGFpcicsICd2ZXJ0aWNhbC10ZXh0JywgJ2FsaWFzJywgJ2NvcHknLCAnbm8tZHJvcCcsICdncmFiJywgJ2dyYWJiaW5nJywgJ2FsbC1zY3JvbGwnLCAnY29sLXJlc2l6ZScsICdyb3ctcmVzaXplJywgJ24tcmVzaXplJywgJ2UtcmVzaXplJywgJ3MtcmVzaXplJywgJ3ctcmVzaXplJywgJ25lLXJlc2l6ZScsICdudy1yZXNpemUnLCAnc2UtcmVzaXplJywgJ3N3LXJlc2l6ZScsICdldy1yZXNpemUnLCAnbnMtcmVzaXplJywgJ25lc3ctcmVzaXplJywgJ253c2UtcmVzaXplJywgJ3pvb20taW4nLCAnem9vbS1vdXQnLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIEZpZWxkIFNpemluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL2ZpZWxkLXNpemluZ1xuICAgICAgICovXG4gICAgICAnZmllbGQtc2l6aW5nJzogW3tcbiAgICAgICAgJ2ZpZWxkLXNpemluZyc6IFsnZml4ZWQnLCAnY29udGVudCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUG9pbnRlciBFdmVudHNcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9wb2ludGVyLWV2ZW50c1xuICAgICAgICovXG4gICAgICAncG9pbnRlci1ldmVudHMnOiBbe1xuICAgICAgICAncG9pbnRlci1ldmVudHMnOiBbJ2F1dG8nLCAnbm9uZSddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogUmVzaXplXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvcmVzaXplXG4gICAgICAgKi9cbiAgICAgIHJlc2l6ZTogW3tcbiAgICAgICAgcmVzaXplOiBbJ25vbmUnLCAnJywgJ3knLCAneCddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIEJlaGF2aW9yXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLWJlaGF2aW9yXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtYmVoYXZpb3InOiBbe1xuICAgICAgICBzY3JvbGw6IFsnYXV0bycsICdzbW9vdGgnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW5cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtbSc6IFt7XG4gICAgICAgICdzY3JvbGwtbSc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtbXgnOiBbe1xuICAgICAgICAnc2Nyb2xsLW14Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW4gWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1teSc6IFt7XG4gICAgICAgICdzY3JvbGwtbXknOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBTdGFydFxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1tcyc6IFt7XG4gICAgICAgICdzY3JvbGwtbXMnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBFbmRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtbWFyZ2luXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtbWUnOiBbe1xuICAgICAgICAnc2Nyb2xsLW1lJzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBNYXJnaW4gVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICAnc2Nyb2xsLW10JzogW3tcbiAgICAgICAgJ3Njcm9sbC1tdCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIFJpZ2h0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICAnc2Nyb2xsLW1yJzogW3tcbiAgICAgICAgJ3Njcm9sbC1tcic6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgTWFyZ2luIEJvdHRvbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1tYXJnaW5cbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1tYic6IFt7XG4gICAgICAgICdzY3JvbGwtbWInOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIE1hcmdpbiBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLW1hcmdpblxuICAgICAgICovXG4gICAgICAnc2Nyb2xsLW1sJzogW3tcbiAgICAgICAgJ3Njcm9sbC1tbCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZ1xuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtcCc6IFt7XG4gICAgICAgICdzY3JvbGwtcCc6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBYXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1weCc6IFt7XG4gICAgICAgICdzY3JvbGwtcHgnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgWVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3Njcm9sbC1wYWRkaW5nXG4gICAgICAgKi9cbiAgICAgICdzY3JvbGwtcHknOiBbe1xuICAgICAgICAnc2Nyb2xsLXB5Jzogc2NhbGVVbmFtYmlndW91c1NwYWNpbmcoKVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFNjcm9sbCBQYWRkaW5nIFN0YXJ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wcyc6IFt7XG4gICAgICAgICdzY3JvbGwtcHMnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgRW5kXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wZSc6IFt7XG4gICAgICAgICdzY3JvbGwtcGUnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgVG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wdCc6IFt7XG4gICAgICAgICdzY3JvbGwtcHQnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFBhZGRpbmcgUmlnaHRcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICAnc2Nyb2xsLXByJzogW3tcbiAgICAgICAgJ3Njcm9sbC1wcic6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBCb3R0b21cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtcGFkZGluZ1xuICAgICAgICovXG4gICAgICAnc2Nyb2xsLXBiJzogW3tcbiAgICAgICAgJ3Njcm9sbC1wYic6IHNjYWxlVW5hbWJpZ3VvdXNTcGFjaW5nKClcbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgUGFkZGluZyBMZWZ0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXBhZGRpbmdcbiAgICAgICAqL1xuICAgICAgJ3Njcm9sbC1wbCc6IFt7XG4gICAgICAgICdzY3JvbGwtcGwnOiBzY2FsZVVuYW1iaWd1b3VzU3BhY2luZygpXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogU2Nyb2xsIFNuYXAgQWxpZ25cbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtc25hcC1hbGlnblxuICAgICAgICovXG4gICAgICAnc25hcC1hbGlnbic6IFt7XG4gICAgICAgIHNuYXA6IFsnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdhbGlnbi1ub25lJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBTdG9wXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtc3RvcFxuICAgICAgICovXG4gICAgICAnc25hcC1zdG9wJzogW3tcbiAgICAgICAgc25hcDogWydub3JtYWwnLCAnYWx3YXlzJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBUeXBlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvc2Nyb2xsLXNuYXAtdHlwZVxuICAgICAgICovXG4gICAgICAnc25hcC10eXBlJzogW3tcbiAgICAgICAgc25hcDogWydub25lJywgJ3gnLCAneScsICdib3RoJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTY3JvbGwgU25hcCBUeXBlIFN0cmljdG5lc3NcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zY3JvbGwtc25hcC10eXBlXG4gICAgICAgKi9cbiAgICAgICdzbmFwLXN0cmljdG5lc3MnOiBbe1xuICAgICAgICBzbmFwOiBbJ21hbmRhdG9yeScsICdwcm94aW1pdHknXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvdWNoIEFjdGlvblxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICovXG4gICAgICB0b3VjaDogW3tcbiAgICAgICAgdG91Y2g6IFsnYXV0bycsICdub25lJywgJ21hbmlwdWxhdGlvbiddXG4gICAgICB9XSxcbiAgICAgIC8qKlxuICAgICAgICogVG91Y2ggQWN0aW9uIFhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy90b3VjaC1hY3Rpb25cbiAgICAgICAqL1xuICAgICAgJ3RvdWNoLXgnOiBbe1xuICAgICAgICAndG91Y2gtcGFuJzogWyd4JywgJ2xlZnQnLCAncmlnaHQnXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFRvdWNoIEFjdGlvbiBZXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvdG91Y2gtYWN0aW9uXG4gICAgICAgKi9cbiAgICAgICd0b3VjaC15JzogW3tcbiAgICAgICAgJ3RvdWNoLXBhbic6IFsneScsICd1cCcsICdkb3duJ11cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBUb3VjaCBBY3Rpb24gUGluY2ggWm9vbVxuICAgICAgICogQHNlZSBodHRwczovL3RhaWx3aW5kY3NzLmNvbS9kb2NzL3RvdWNoLWFjdGlvblxuICAgICAgICovXG4gICAgICAndG91Y2gtcHonOiBbJ3RvdWNoLXBpbmNoLXpvb20nXSxcbiAgICAgIC8qKlxuICAgICAgICogVXNlciBTZWxlY3RcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy91c2VyLXNlbGVjdFxuICAgICAgICovXG4gICAgICBzZWxlY3Q6IFt7XG4gICAgICAgIHNlbGVjdDogWydub25lJywgJ3RleHQnLCAnYWxsJywgJ2F1dG8nXVxuICAgICAgfV0sXG4gICAgICAvKipcbiAgICAgICAqIFdpbGwgQ2hhbmdlXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3Mvd2lsbC1jaGFuZ2VcbiAgICAgICAqL1xuICAgICAgJ3dpbGwtY2hhbmdlJzogW3tcbiAgICAgICAgJ3dpbGwtY2hhbmdlJzogWydhdXRvJywgJ3Njcm9sbCcsICdjb250ZW50cycsICd0cmFuc2Zvcm0nLCBpc0FyYml0cmFyeVZhcmlhYmxlLCBpc0FyYml0cmFyeVZhbHVlXVxuICAgICAgfV0sXG4gICAgICAvLyAtLS0tLS0tLS0tLVxuICAgICAgLy8gLS0tIFNWRyAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tXG4gICAgICAvKipcbiAgICAgICAqIEZpbGxcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9maWxsXG4gICAgICAgKi9cbiAgICAgIGZpbGw6IFt7XG4gICAgICAgIGZpbGw6IFsnbm9uZScsIC4uLnNjYWxlQ29sb3IoKV1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTdHJva2UgV2lkdGhcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zdHJva2Utd2lkdGhcbiAgICAgICAqL1xuICAgICAgJ3N0cm9rZS13JzogW3tcbiAgICAgICAgc3Ryb2tlOiBbaXNOdW1iZXIsIGlzQXJiaXRyYXJ5VmFyaWFibGVMZW5ndGgsIGlzQXJiaXRyYXJ5TGVuZ3RoLCBpc0FyYml0cmFyeU51bWJlcl1cbiAgICAgIH1dLFxuICAgICAgLyoqXG4gICAgICAgKiBTdHJva2VcbiAgICAgICAqIEBzZWUgaHR0cHM6Ly90YWlsd2luZGNzcy5jb20vZG9jcy9zdHJva2VcbiAgICAgICAqL1xuICAgICAgc3Ryb2tlOiBbe1xuICAgICAgICBzdHJva2U6IFsnbm9uZScsIC4uLnNjYWxlQ29sb3IoKV1cbiAgICAgIH1dLFxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAvLyAtLS0gQWNjZXNzaWJpbGl0eSAtLS1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLyoqXG4gICAgICAgKiBGb3JjZWQgQ29sb3IgQWRqdXN0XG4gICAgICAgKiBAc2VlIGh0dHBzOi8vdGFpbHdpbmRjc3MuY29tL2RvY3MvZm9yY2VkLWNvbG9yLWFkanVzdFxuICAgICAgICovXG4gICAgICAnZm9yY2VkLWNvbG9yLWFkanVzdCc6IFt7XG4gICAgICAgICdmb3JjZWQtY29sb3ItYWRqdXN0JzogWydhdXRvJywgJ25vbmUnXVxuICAgICAgfV1cbiAgICB9LFxuICAgIGNvbmZsaWN0aW5nQ2xhc3NHcm91cHM6IHtcbiAgICAgIG92ZXJmbG93OiBbJ292ZXJmbG93LXgnLCAnb3ZlcmZsb3cteSddLFxuICAgICAgb3ZlcnNjcm9sbDogWydvdmVyc2Nyb2xsLXgnLCAnb3ZlcnNjcm9sbC15J10sXG4gICAgICBpbnNldDogWydpbnNldC14JywgJ2luc2V0LXknLCAnc3RhcnQnLCAnZW5kJywgJ3RvcCcsICdyaWdodCcsICdib3R0b20nLCAnbGVmdCddLFxuICAgICAgJ2luc2V0LXgnOiBbJ3JpZ2h0JywgJ2xlZnQnXSxcbiAgICAgICdpbnNldC15JzogWyd0b3AnLCAnYm90dG9tJ10sXG4gICAgICBmbGV4OiBbJ2Jhc2lzJywgJ2dyb3cnLCAnc2hyaW5rJ10sXG4gICAgICBnYXA6IFsnZ2FwLXgnLCAnZ2FwLXknXSxcbiAgICAgIHA6IFsncHgnLCAncHknLCAncHMnLCAncGUnLCAncHQnLCAncHInLCAncGInLCAncGwnXSxcbiAgICAgIHB4OiBbJ3ByJywgJ3BsJ10sXG4gICAgICBweTogWydwdCcsICdwYiddLFxuICAgICAgbTogWydteCcsICdteScsICdtcycsICdtZScsICdtdCcsICdtcicsICdtYicsICdtbCddLFxuICAgICAgbXg6IFsnbXInLCAnbWwnXSxcbiAgICAgIG15OiBbJ210JywgJ21iJ10sXG4gICAgICBzaXplOiBbJ3cnLCAnaCddLFxuICAgICAgJ2ZvbnQtc2l6ZSc6IFsnbGVhZGluZyddLFxuICAgICAgJ2Z2bi1ub3JtYWwnOiBbJ2Z2bi1vcmRpbmFsJywgJ2Z2bi1zbGFzaGVkLXplcm8nLCAnZnZuLWZpZ3VyZScsICdmdm4tc3BhY2luZycsICdmdm4tZnJhY3Rpb24nXSxcbiAgICAgICdmdm4tb3JkaW5hbCc6IFsnZnZuLW5vcm1hbCddLFxuICAgICAgJ2Z2bi1zbGFzaGVkLXplcm8nOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICdmdm4tZmlndXJlJzogWydmdm4tbm9ybWFsJ10sXG4gICAgICAnZnZuLXNwYWNpbmcnOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICdmdm4tZnJhY3Rpb24nOiBbJ2Z2bi1ub3JtYWwnXSxcbiAgICAgICdsaW5lLWNsYW1wJzogWydkaXNwbGF5JywgJ292ZXJmbG93J10sXG4gICAgICByb3VuZGVkOiBbJ3JvdW5kZWQtcycsICdyb3VuZGVkLWUnLCAncm91bmRlZC10JywgJ3JvdW5kZWQtcicsICdyb3VuZGVkLWInLCAncm91bmRlZC1sJywgJ3JvdW5kZWQtc3MnLCAncm91bmRlZC1zZScsICdyb3VuZGVkLWVlJywgJ3JvdW5kZWQtZXMnLCAncm91bmRlZC10bCcsICdyb3VuZGVkLXRyJywgJ3JvdW5kZWQtYnInLCAncm91bmRlZC1ibCddLFxuICAgICAgJ3JvdW5kZWQtcyc6IFsncm91bmRlZC1zcycsICdyb3VuZGVkLWVzJ10sXG4gICAgICAncm91bmRlZC1lJzogWydyb3VuZGVkLXNlJywgJ3JvdW5kZWQtZWUnXSxcbiAgICAgICdyb3VuZGVkLXQnOiBbJ3JvdW5kZWQtdGwnLCAncm91bmRlZC10ciddLFxuICAgICAgJ3JvdW5kZWQtcic6IFsncm91bmRlZC10cicsICdyb3VuZGVkLWJyJ10sXG4gICAgICAncm91bmRlZC1iJzogWydyb3VuZGVkLWJyJywgJ3JvdW5kZWQtYmwnXSxcbiAgICAgICdyb3VuZGVkLWwnOiBbJ3JvdW5kZWQtdGwnLCAncm91bmRlZC1ibCddLFxuICAgICAgJ2JvcmRlci1zcGFjaW5nJzogWydib3JkZXItc3BhY2luZy14JywgJ2JvcmRlci1zcGFjaW5nLXknXSxcbiAgICAgICdib3JkZXItdyc6IFsnYm9yZGVyLXcteCcsICdib3JkZXItdy15JywgJ2JvcmRlci13LXMnLCAnYm9yZGVyLXctZScsICdib3JkZXItdy10JywgJ2JvcmRlci13LXInLCAnYm9yZGVyLXctYicsICdib3JkZXItdy1sJ10sXG4gICAgICAnYm9yZGVyLXcteCc6IFsnYm9yZGVyLXctcicsICdib3JkZXItdy1sJ10sXG4gICAgICAnYm9yZGVyLXcteSc6IFsnYm9yZGVyLXctdCcsICdib3JkZXItdy1iJ10sXG4gICAgICAnYm9yZGVyLWNvbG9yJzogWydib3JkZXItY29sb3IteCcsICdib3JkZXItY29sb3IteScsICdib3JkZXItY29sb3ItcycsICdib3JkZXItY29sb3ItZScsICdib3JkZXItY29sb3ItdCcsICdib3JkZXItY29sb3ItcicsICdib3JkZXItY29sb3ItYicsICdib3JkZXItY29sb3ItbCddLFxuICAgICAgJ2JvcmRlci1jb2xvci14JzogWydib3JkZXItY29sb3ItcicsICdib3JkZXItY29sb3ItbCddLFxuICAgICAgJ2JvcmRlci1jb2xvci15JzogWydib3JkZXItY29sb3ItdCcsICdib3JkZXItY29sb3ItYiddLFxuICAgICAgdHJhbnNsYXRlOiBbJ3RyYW5zbGF0ZS14JywgJ3RyYW5zbGF0ZS15JywgJ3RyYW5zbGF0ZS1ub25lJ10sXG4gICAgICAndHJhbnNsYXRlLW5vbmUnOiBbJ3RyYW5zbGF0ZScsICd0cmFuc2xhdGUteCcsICd0cmFuc2xhdGUteScsICd0cmFuc2xhdGUteiddLFxuICAgICAgJ3Njcm9sbC1tJzogWydzY3JvbGwtbXgnLCAnc2Nyb2xsLW15JywgJ3Njcm9sbC1tcycsICdzY3JvbGwtbWUnLCAnc2Nyb2xsLW10JywgJ3Njcm9sbC1tcicsICdzY3JvbGwtbWInLCAnc2Nyb2xsLW1sJ10sXG4gICAgICAnc2Nyb2xsLW14JzogWydzY3JvbGwtbXInLCAnc2Nyb2xsLW1sJ10sXG4gICAgICAnc2Nyb2xsLW15JzogWydzY3JvbGwtbXQnLCAnc2Nyb2xsLW1iJ10sXG4gICAgICAnc2Nyb2xsLXAnOiBbJ3Njcm9sbC1weCcsICdzY3JvbGwtcHknLCAnc2Nyb2xsLXBzJywgJ3Njcm9sbC1wZScsICdzY3JvbGwtcHQnLCAnc2Nyb2xsLXByJywgJ3Njcm9sbC1wYicsICdzY3JvbGwtcGwnXSxcbiAgICAgICdzY3JvbGwtcHgnOiBbJ3Njcm9sbC1wcicsICdzY3JvbGwtcGwnXSxcbiAgICAgICdzY3JvbGwtcHknOiBbJ3Njcm9sbC1wdCcsICdzY3JvbGwtcGInXSxcbiAgICAgIHRvdWNoOiBbJ3RvdWNoLXgnLCAndG91Y2gteScsICd0b3VjaC1weiddLFxuICAgICAgJ3RvdWNoLXgnOiBbJ3RvdWNoJ10sXG4gICAgICAndG91Y2gteSc6IFsndG91Y2gnXSxcbiAgICAgICd0b3VjaC1weic6IFsndG91Y2gnXVxuICAgIH0sXG4gICAgY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzOiB7XG4gICAgICAnZm9udC1zaXplJzogWydsZWFkaW5nJ11cbiAgICB9LFxuICAgIG9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzOiBbJyonLCAnKionLCAnYWZ0ZXInLCAnYmFja2Ryb3AnLCAnYmVmb3JlJywgJ2RldGFpbHMtY29udGVudCcsICdmaWxlJywgJ2ZpcnN0LWxldHRlcicsICdmaXJzdC1saW5lJywgJ21hcmtlcicsICdwbGFjZWhvbGRlcicsICdzZWxlY3Rpb24nXVxuICB9O1xufTtcblxuLyoqXG4gKiBAcGFyYW0gYmFzZUNvbmZpZyBDb25maWcgd2hlcmUgb3RoZXIgY29uZmlnIHdpbGwgYmUgbWVyZ2VkIGludG8uIFRoaXMgb2JqZWN0IHdpbGwgYmUgbXV0YXRlZC5cbiAqIEBwYXJhbSBjb25maWdFeHRlbnNpb24gUGFydGlhbCBjb25maWcgdG8gbWVyZ2UgaW50byB0aGUgYGJhc2VDb25maWdgLlxuICovXG5jb25zdCBtZXJnZUNvbmZpZ3MgPSAoYmFzZUNvbmZpZywge1xuICBjYWNoZVNpemUsXG4gIHByZWZpeCxcbiAgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUsXG4gIGV4dGVuZCA9IHt9LFxuICBvdmVycmlkZSA9IHt9XG59KSA9PiB7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ2NhY2hlU2l6ZScsIGNhY2hlU2l6ZSk7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ3ByZWZpeCcsIHByZWZpeCk7XG4gIG92ZXJyaWRlUHJvcGVydHkoYmFzZUNvbmZpZywgJ2V4cGVyaW1lbnRhbFBhcnNlQ2xhc3NOYW1lJywgZXhwZXJpbWVudGFsUGFyc2VDbGFzc05hbWUpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy50aGVtZSwgb3ZlcnJpZGUudGhlbWUpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jbGFzc0dyb3Vwcywgb3ZlcnJpZGUuY2xhc3NHcm91cHMpO1xuICBvdmVycmlkZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jb25mbGljdGluZ0NsYXNzR3JvdXBzLCBvdmVycmlkZS5jb25mbGljdGluZ0NsYXNzR3JvdXBzKTtcbiAgb3ZlcnJpZGVDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcuY29uZmxpY3RpbmdDbGFzc0dyb3VwTW9kaWZpZXJzLCBvdmVycmlkZS5jb25mbGljdGluZ0NsYXNzR3JvdXBNb2RpZmllcnMpO1xuICBvdmVycmlkZVByb3BlcnR5KGJhc2VDb25maWcsICdvcmRlclNlbnNpdGl2ZU1vZGlmaWVycycsIG92ZXJyaWRlLm9yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzKTtcbiAgbWVyZ2VDb25maWdQcm9wZXJ0aWVzKGJhc2VDb25maWcudGhlbWUsIGV4dGVuZC50aGVtZSk7XG4gIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNsYXNzR3JvdXBzLCBleHRlbmQuY2xhc3NHcm91cHMpO1xuICBtZXJnZUNvbmZpZ1Byb3BlcnRpZXMoYmFzZUNvbmZpZy5jb25mbGljdGluZ0NsYXNzR3JvdXBzLCBleHRlbmQuY29uZmxpY3RpbmdDbGFzc0dyb3Vwcyk7XG4gIG1lcmdlQ29uZmlnUHJvcGVydGllcyhiYXNlQ29uZmlnLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycywgZXh0ZW5kLmNvbmZsaWN0aW5nQ2xhc3NHcm91cE1vZGlmaWVycyk7XG4gIG1lcmdlQXJyYXlQcm9wZXJ0aWVzKGJhc2VDb25maWcsIGV4dGVuZCwgJ29yZGVyU2Vuc2l0aXZlTW9kaWZpZXJzJyk7XG4gIHJldHVybiBiYXNlQ29uZmlnO1xufTtcbmNvbnN0IG92ZXJyaWRlUHJvcGVydHkgPSAoYmFzZU9iamVjdCwgb3ZlcnJpZGVLZXksIG92ZXJyaWRlVmFsdWUpID0+IHtcbiAgaWYgKG92ZXJyaWRlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGJhc2VPYmplY3Rbb3ZlcnJpZGVLZXldID0gb3ZlcnJpZGVWYWx1ZTtcbiAgfVxufTtcbmNvbnN0IG92ZXJyaWRlQ29uZmlnUHJvcGVydGllcyA9IChiYXNlT2JqZWN0LCBvdmVycmlkZU9iamVjdCkgPT4ge1xuICBpZiAob3ZlcnJpZGVPYmplY3QpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvdmVycmlkZU9iamVjdCkge1xuICAgICAgb3ZlcnJpZGVQcm9wZXJ0eShiYXNlT2JqZWN0LCBrZXksIG92ZXJyaWRlT2JqZWN0W2tleV0pO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IG1lcmdlQ29uZmlnUHJvcGVydGllcyA9IChiYXNlT2JqZWN0LCBtZXJnZU9iamVjdCkgPT4ge1xuICBpZiAobWVyZ2VPYmplY3QpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBtZXJnZU9iamVjdCkge1xuICAgICAgbWVyZ2VBcnJheVByb3BlcnRpZXMoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QsIGtleSk7XG4gICAgfVxuICB9XG59O1xuY29uc3QgbWVyZ2VBcnJheVByb3BlcnRpZXMgPSAoYmFzZU9iamVjdCwgbWVyZ2VPYmplY3QsIGtleSkgPT4ge1xuICBjb25zdCBtZXJnZVZhbHVlID0gbWVyZ2VPYmplY3Rba2V5XTtcbiAgaWYgKG1lcmdlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgIGJhc2VPYmplY3Rba2V5XSA9IGJhc2VPYmplY3Rba2V5XSA/IGJhc2VPYmplY3Rba2V5XS5jb25jYXQobWVyZ2VWYWx1ZSkgOiBtZXJnZVZhbHVlO1xuICB9XG59O1xuY29uc3QgZXh0ZW5kVGFpbHdpbmRNZXJnZSA9IChjb25maWdFeHRlbnNpb24sIC4uLmNyZWF0ZUNvbmZpZykgPT4gdHlwZW9mIGNvbmZpZ0V4dGVuc2lvbiA9PT0gJ2Z1bmN0aW9uJyA/IGNyZWF0ZVRhaWx3aW5kTWVyZ2UoZ2V0RGVmYXVsdENvbmZpZywgY29uZmlnRXh0ZW5zaW9uLCAuLi5jcmVhdGVDb25maWcpIDogY3JlYXRlVGFpbHdpbmRNZXJnZSgoKSA9PiBtZXJnZUNvbmZpZ3MoZ2V0RGVmYXVsdENvbmZpZygpLCBjb25maWdFeHRlbnNpb24pLCAuLi5jcmVhdGVDb25maWcpO1xuY29uc3QgdHdNZXJnZSA9IC8qI19fUFVSRV9fKi9jcmVhdGVUYWlsd2luZE1lcmdlKGdldERlZmF1bHRDb25maWcpO1xuZXhwb3J0IHsgY3JlYXRlVGFpbHdpbmRNZXJnZSwgZXh0ZW5kVGFpbHdpbmRNZXJnZSwgZnJvbVRoZW1lLCBnZXREZWZhdWx0Q29uZmlnLCBtZXJnZUNvbmZpZ3MsIHR3Sm9pbiwgdHdNZXJnZSwgdmFsaWRhdG9ycyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnVuZGxlLW1qcy5tanMubWFwXG4iLCJpbXBvcnQgeyB0eXBlIENsYXNzVmFsdWUsIGNsc3ggfSBmcm9tICdjbHN4J1xuaW1wb3J0IHsgdHdNZXJnZSB9IGZyb20gJ3RhaWx3aW5kLW1lcmdlJ1xuXG5leHBvcnQgZnVuY3Rpb24gY24oLi4uaW5wdXRzOiBDbGFzc1ZhbHVlW10pIHtcbiAgcmV0dXJuIHR3TWVyZ2UoY2xzeChpbnB1dHMpKVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAyMiBKb2UgQmVsbC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgbGljZW5zZWQgdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjBcbiAqICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlXG4gKiBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBSRVBSRVNFTlRBVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyXG4gKiB0aGUgTGljZW5zZS5cbiAqLyBpbXBvcnQgeyBjbHN4IH0gZnJvbSBcImNsc3hcIjtcbmNvbnN0IGZhbHN5VG9TdHJpbmcgPSAodmFsdWUpPT50eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiID8gYCR7dmFsdWV9YCA6IHZhbHVlID09PSAwID8gXCIwXCIgOiB2YWx1ZTtcbmV4cG9ydCBjb25zdCBjeCA9IGNsc3g7XG5leHBvcnQgY29uc3QgY3ZhID0gKGJhc2UsIGNvbmZpZyk9Pihwcm9wcyk9PntcbiAgICAgICAgdmFyIF9jb25maWdfY29tcG91bmRWYXJpYW50cztcbiAgICAgICAgaWYgKChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcudmFyaWFudHMpID09IG51bGwpIHJldHVybiBjeChiYXNlLCBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHMuY2xhc3MsIHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5jbGFzc05hbWUpO1xuICAgICAgICBjb25zdCB7IHZhcmlhbnRzLCBkZWZhdWx0VmFyaWFudHMgfSA9IGNvbmZpZztcbiAgICAgICAgY29uc3QgZ2V0VmFyaWFudENsYXNzTmFtZXMgPSBPYmplY3Qua2V5cyh2YXJpYW50cykubWFwKCh2YXJpYW50KT0+e1xuICAgICAgICAgICAgY29uc3QgdmFyaWFudFByb3AgPSBwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHNbdmFyaWFudF07XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFyaWFudFByb3AgPSBkZWZhdWx0VmFyaWFudHMgPT09IG51bGwgfHwgZGVmYXVsdFZhcmlhbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZhdWx0VmFyaWFudHNbdmFyaWFudF07XG4gICAgICAgICAgICBpZiAodmFyaWFudFByb3AgPT09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3QgdmFyaWFudEtleSA9IGZhbHN5VG9TdHJpbmcodmFyaWFudFByb3ApIHx8IGZhbHN5VG9TdHJpbmcoZGVmYXVsdFZhcmlhbnRQcm9wKTtcbiAgICAgICAgICAgIHJldHVybiB2YXJpYW50c1t2YXJpYW50XVt2YXJpYW50S2V5XTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHByb3BzV2l0aG91dFVuZGVmaW5lZCA9IHByb3BzICYmIE9iamVjdC5lbnRyaWVzKHByb3BzKS5yZWR1Y2UoKGFjYywgcGFyYW0pPT57XG4gICAgICAgICAgICBsZXQgW2tleSwgdmFsdWVdID0gcGFyYW07XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgICBjb25zdCBnZXRDb21wb3VuZFZhcmlhbnRDbGFzc05hbWVzID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9jb25maWdfY29tcG91bmRWYXJpYW50cyA9IGNvbmZpZy5jb21wb3VuZFZhcmlhbnRzKSA9PT0gbnVsbCB8fCBfY29uZmlnX2NvbXBvdW5kVmFyaWFudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb25maWdfY29tcG91bmRWYXJpYW50cy5yZWR1Y2UoKGFjYywgcGFyYW0pPT57XG4gICAgICAgICAgICBsZXQgeyBjbGFzczogY3ZDbGFzcywgY2xhc3NOYW1lOiBjdkNsYXNzTmFtZSwgLi4uY29tcG91bmRWYXJpYW50T3B0aW9ucyB9ID0gcGFyYW07XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMoY29tcG91bmRWYXJpYW50T3B0aW9ucykuZXZlcnkoKHBhcmFtKT0+e1xuICAgICAgICAgICAgICAgIGxldCBba2V5LCB2YWx1ZV0gPSBwYXJhbTtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5pbmNsdWRlcyh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRWYXJpYW50cyxcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHNXaXRob3V0VW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfVtrZXldKSA6ICh7XG4gICAgICAgICAgICAgICAgICAgIC4uLmRlZmF1bHRWYXJpYW50cyxcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHNXaXRob3V0VW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSlba2V5XSA9PT0gdmFsdWU7XG4gICAgICAgICAgICB9KSA/IFtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgY3ZDbGFzcyxcbiAgICAgICAgICAgICAgICBjdkNsYXNzTmFtZVxuICAgICAgICAgICAgXSA6IGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4gY3goYmFzZSwgZ2V0VmFyaWFudENsYXNzTmFtZXMsIGdldENvbXBvdW5kVmFyaWFudENsYXNzTmFtZXMsIHByb3BzID09PSBudWxsIHx8IHByb3BzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwcm9wcy5jbGFzcywgcHJvcHMgPT09IG51bGwgfHwgcHJvcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByb3BzLmNsYXNzTmFtZSk7XG4gICAgfTtcblxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBQcmltaXRpdmUsIHR5cGUgUHJpbWl0aXZlUHJvcHMgfSBmcm9tICdyZWthLXVpJ1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscydcbmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tICdjbGFzcy12YXJpYW5jZS1hdXRob3JpdHknXG5cbmNvbnN0IGJ1dHRvblZhcmlhbnRzID0gY3ZhKFxuICAnaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHdoaXRlc3BhY2Utbm93cmFwIHJvdW5kZWQtbWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWFsbCBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Zzpub3QoW2NsYXNzKj1cXCdzaXplLVxcJ10pXTpzaXplLTQgc2hyaW5rLTAgWyZfc3ZnXTpzaHJpbmstMCBvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpib3JkZXItcmluZyBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctWzNweF0gYXJpYS1pbnZhbGlkOnJpbmctZGVzdHJ1Y3RpdmUvMjAgZGFyazphcmlhLWludmFsaWQ6cmluZy1kZXN0cnVjdGl2ZS80MCBhcmlhLWludmFsaWQ6Ym9yZGVyLWRlc3RydWN0aXZlIGN1cnNvci1wb2ludGVyJyxcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgJ2JnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgc2hhZG93LXhzIGhvdmVyOmJnLXByaW1hcnkvOTAnLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICAnYmctZGVzdHJ1Y3RpdmUgdGV4dC13aGl0ZSBzaGFkb3cteHMgaG92ZXI6YmctZGVzdHJ1Y3RpdmUvOTAgZm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzIwIGRhcms6Zm9jdXMtdmlzaWJsZTpyaW5nLWRlc3RydWN0aXZlLzQwIGRhcms6YmctZGVzdHJ1Y3RpdmUvNjAnLFxuICAgICAgICBvdXRsaW5lOlxuICAgICAgICAgICdib3JkZXIgYmctYmFja2dyb3VuZCBzaGFkb3cteHMgaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGFyazpiZy1pbnB1dC8zMCBkYXJrOmJvcmRlci1pbnB1dCBkYXJrOmhvdmVyOmJnLWlucHV0LzUwJyxcbiAgICAgICAgc2Vjb25kYXJ5OlxuICAgICAgICAgICdiZy1zZWNvbmRhcnkgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCBzaGFkb3cteHMgaG92ZXI6Ymctc2Vjb25kYXJ5LzgwJyxcbiAgICAgICAgZ2hvc3Q6XG4gICAgICAgICAgJ2hvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGRhcms6aG92ZXI6YmctYWNjZW50LzUwJyxcbiAgICAgICAgbGluazogJ3RleHQtcHJpbWFyeSB1bmRlcmxpbmUtb2Zmc2V0LTQgaG92ZXI6dW5kZXJsaW5lJyxcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIGRlZmF1bHQ6ICdoLTkgcHgtNCBweS0yIGhhcy1bPnN2Z106cHgtMycsXG4gICAgICAgIHNtOiAnaC04IHJvdW5kZWQtbWQgZ2FwLTEuNSBweC0zIGhhcy1bPnN2Z106cHgtMi41JyxcbiAgICAgICAgbGc6ICdoLTEwIHJvdW5kZWQtbWQgcHgtNiBoYXMtWz5zdmddOnB4LTQnLFxuICAgICAgICBpY29uOiAnc2l6ZS05JyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkZWZhdWx0VmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6ICdkZWZhdWx0JyxcbiAgICAgIHNpemU6ICdkZWZhdWx0JyxcbiAgICB9LFxuICB9LFxuKVxuXG50eXBlIEJ1dHRvblZhcmlhbnRzID0gVmFyaWFudFByb3BzPHR5cGVvZiBidXR0b25WYXJpYW50cz5cblxuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgUHJpbWl0aXZlUHJvcHMge1xuICB2YXJpYW50PzogQnV0dG9uVmFyaWFudHNbJ3ZhcmlhbnQnXVxuICBzaXplPzogQnV0dG9uVmFyaWFudHNbJ3NpemUnXVxuICBjbGFzcz86IEhUTUxBdHRyaWJ1dGVzWydjbGFzcyddXG59XG5cbmNvbnN0IHByb3BzID0gd2l0aERlZmF1bHRzKGRlZmluZVByb3BzPFByb3BzPigpLCB7XG4gIGFzOiAnYnV0dG9uJyxcbn0pXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8UHJpbWl0aXZlIGRhdGEtc2xvdD1cImJ1dHRvblwiIDphcz1cImFzXCIgOmFzLWNoaWxkPVwiYXNDaGlsZFwiXG4gICAgOmNsYXNzPVwiY24oYnV0dG9uVmFyaWFudHMoeyB2YXJpYW50LCBzaXplIH0pLCBwcm9wcy5jbGFzcylcIj5cbiAgICA8c2xvdCAvPlxuICA8L1ByaW1pdGl2ZT5cbjwvdGVtcGxhdGU+XG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IFByaW1pdGl2ZSwgdHlwZSBQcmltaXRpdmVQcm9wcyB9IGZyb20gJ3Jla2EtdWknXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuaW1wb3J0IHsgY3ZhLCB0eXBlIFZhcmlhbnRQcm9wcyB9IGZyb20gJ2NsYXNzLXZhcmlhbmNlLWF1dGhvcml0eSdcblxuY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXG4gICdpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgd2hpdGVzcGFjZS1ub3dyYXAgcm91bmRlZC1tZCB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tYWxsIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6b3BhY2l0eS01MCBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnOm5vdChbY2xhc3MqPVxcJ3NpemUtXFwnXSldOnNpemUtNCBzaHJpbmstMCBbJl9zdmddOnNocmluay0wIG91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOmJvcmRlci1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1bM3B4XSBhcmlhLWludmFsaWQ6cmluZy1kZXN0cnVjdGl2ZS8yMCBkYXJrOmFyaWEtaW52YWxpZDpyaW5nLWRlc3RydWN0aXZlLzQwIGFyaWEtaW52YWxpZDpib3JkZXItZGVzdHJ1Y3RpdmUgY3Vyc29yLXBvaW50ZXInLFxuICB7XG4gICAgdmFyaWFudHM6IHtcbiAgICAgIHZhcmlhbnQ6IHtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAnYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBzaGFkb3cteHMgaG92ZXI6YmctcHJpbWFyeS85MCcsXG4gICAgICAgIGRlc3RydWN0aXZlOlxuICAgICAgICAgICdiZy1kZXN0cnVjdGl2ZSB0ZXh0LXdoaXRlIHNoYWRvdy14cyBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MCBmb2N1cy12aXNpYmxlOnJpbmctZGVzdHJ1Y3RpdmUvMjAgZGFyazpmb2N1cy12aXNpYmxlOnJpbmctZGVzdHJ1Y3RpdmUvNDAgZGFyazpiZy1kZXN0cnVjdGl2ZS82MCcsXG4gICAgICAgIG91dGxpbmU6XG4gICAgICAgICAgJ2JvcmRlciBiZy1iYWNrZ3JvdW5kIHNoYWRvdy14cyBob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCBkYXJrOmJnLWlucHV0LzMwIGRhcms6Ym9yZGVyLWlucHV0IGRhcms6aG92ZXI6YmctaW5wdXQvNTAnLFxuICAgICAgICBzZWNvbmRhcnk6XG4gICAgICAgICAgJ2JnLXNlY29uZGFyeSB0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIHNoYWRvdy14cyBob3ZlcjpiZy1zZWNvbmRhcnkvODAnLFxuICAgICAgICBnaG9zdDpcbiAgICAgICAgICAnaG92ZXI6YmctYWNjZW50IGhvdmVyOnRleHQtYWNjZW50LWZvcmVncm91bmQgZGFyazpob3ZlcjpiZy1hY2NlbnQvNTAnLFxuICAgICAgICBsaW5rOiAndGV4dC1wcmltYXJ5IHVuZGVybGluZS1vZmZzZXQtNCBob3Zlcjp1bmRlcmxpbmUnLFxuICAgICAgfSxcbiAgICAgIHNpemU6IHtcbiAgICAgICAgZGVmYXVsdDogJ2gtOSBweC00IHB5LTIgaGFzLVs+c3ZnXTpweC0zJyxcbiAgICAgICAgc206ICdoLTggcm91bmRlZC1tZCBnYXAtMS41IHB4LTMgaGFzLVs+c3ZnXTpweC0yLjUnLFxuICAgICAgICBsZzogJ2gtMTAgcm91bmRlZC1tZCBweC02IGhhcy1bPnN2Z106cHgtNCcsXG4gICAgICAgIGljb246ICdzaXplLTknLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGRlZmF1bHRWYXJpYW50czoge1xuICAgICAgdmFyaWFudDogJ2RlZmF1bHQnLFxuICAgICAgc2l6ZTogJ2RlZmF1bHQnLFxuICAgIH0sXG4gIH0sXG4pXG5cbnR5cGUgQnV0dG9uVmFyaWFudHMgPSBWYXJpYW50UHJvcHM8dHlwZW9mIGJ1dHRvblZhcmlhbnRzPlxuXG5pbnRlcmZhY2UgUHJvcHMgZXh0ZW5kcyBQcmltaXRpdmVQcm9wcyB7XG4gIHZhcmlhbnQ/OiBCdXR0b25WYXJpYW50c1sndmFyaWFudCddXG4gIHNpemU/OiBCdXR0b25WYXJpYW50c1snc2l6ZSddXG4gIGNsYXNzPzogSFRNTEF0dHJpYnV0ZXNbJ2NsYXNzJ11cbn1cblxuY29uc3QgcHJvcHMgPSB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8UHJvcHM+KCksIHtcbiAgYXM6ICdidXR0b24nLFxufSlcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxQcmltaXRpdmUgZGF0YS1zbG90PVwiYnV0dG9uXCIgOmFzPVwiYXNcIiA6YXMtY2hpbGQ9XCJhc0NoaWxkXCJcbiAgICA6Y2xhc3M9XCJjbihidXR0b25WYXJpYW50cyh7IHZhcmlhbnQsIHNpemUgfSksIHByb3BzLmNsYXNzKVwiPlxuICAgIDxzbG90IC8+XG4gIDwvUHJpbWl0aXZlPlxuPC90ZW1wbGF0ZT5cbiIsImltcG9ydCB7IHNoYWxsb3dSZWYsIHdhdGNoRWZmZWN0LCByZWFkb25seSwgd2F0Y2gsIGN1c3RvbVJlZiwgZ2V0Q3VycmVudFNjb3BlLCBvblNjb3BlRGlzcG9zZSwgZWZmZWN0U2NvcGUsIGdldEN1cnJlbnRJbnN0YW5jZSwgaGFzSW5qZWN0aW9uQ29udGV4dCwgaW5qZWN0LCBwcm92aWRlLCByZWYsIGlzUmVmLCB1bnJlZiwgdG9WYWx1ZSBhcyB0b1ZhbHVlJDEsIGNvbXB1dGVkLCByZWFjdGl2ZSwgdG9SZWZzIGFzIHRvUmVmcyQxLCB0b1JlZiBhcyB0b1JlZiQxLCBzaGFsbG93UmVhZG9ubHksIG9uQmVmb3JlTW91bnQsIG5leHRUaWNrLCBvbkJlZm9yZVVubW91bnQsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQsIGlzUmVhY3RpdmUgfSBmcm9tICd2dWUnO1xuXG5mdW5jdGlvbiBjb21wdXRlZEVhZ2VyKGZuLCBvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgcmVzdWx0ID0gc2hhbGxvd1JlZigpO1xuICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgcmVzdWx0LnZhbHVlID0gZm4oKTtcbiAgfSwge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgZmx1c2g6IChfYSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZmx1c2gpICE9IG51bGwgPyBfYSA6IFwic3luY1wiXG4gIH0pO1xuICByZXR1cm4gcmVhZG9ubHkocmVzdWx0KTtcbn1cblxuZnVuY3Rpb24gY29tcHV0ZWRXaXRoQ29udHJvbChzb3VyY2UsIGZuLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IHYgPSB2b2lkIDA7XG4gIGxldCB0cmFjaztcbiAgbGV0IHRyaWdnZXI7XG4gIGxldCBkaXJ0eSA9IHRydWU7XG4gIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICBkaXJ0eSA9IHRydWU7XG4gICAgdHJpZ2dlcigpO1xuICB9O1xuICB3YXRjaChzb3VyY2UsIHVwZGF0ZSwgeyBmbHVzaDogXCJzeW5jXCIsIC4uLm9wdGlvbnMgfSk7XG4gIGNvbnN0IGdldCA9IHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gZm4gOiBmbi5nZXQ7XG4gIGNvbnN0IHNldCA9IHR5cGVvZiBmbiA9PT0gXCJmdW5jdGlvblwiID8gdm9pZCAwIDogZm4uc2V0O1xuICBjb25zdCByZXN1bHQgPSBjdXN0b21SZWYoKF90cmFjaywgX3RyaWdnZXIpID0+IHtcbiAgICB0cmFjayA9IF90cmFjaztcbiAgICB0cmlnZ2VyID0gX3RyaWdnZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgdiA9IGdldCh2KTtcbiAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrKCk7XG4gICAgICAgIHJldHVybiB2O1xuICAgICAgfSxcbiAgICAgIHNldCh2Mikge1xuICAgICAgICBzZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHNldCh2Mik7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJlc3VsdC50cmlnZ2VyID0gdXBkYXRlO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiB0cnlPblNjb3BlRGlzcG9zZShmbikge1xuICBpZiAoZ2V0Q3VycmVudFNjb3BlKCkpIHtcbiAgICBvblNjb3BlRGlzcG9zZShmbik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhvb2soKSB7XG4gIGNvbnN0IGZucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IG9mZiA9IChmbikgPT4ge1xuICAgIGZucy5kZWxldGUoZm4pO1xuICB9O1xuICBjb25zdCBjbGVhciA9ICgpID0+IHtcbiAgICBmbnMuY2xlYXIoKTtcbiAgfTtcbiAgY29uc3Qgb24gPSAoZm4pID0+IHtcbiAgICBmbnMuYWRkKGZuKTtcbiAgICBjb25zdCBvZmZGbiA9ICgpID0+IG9mZihmbik7XG4gICAgdHJ5T25TY29wZURpc3Bvc2Uob2ZmRm4pO1xuICAgIHJldHVybiB7XG4gICAgICBvZmY6IG9mZkZuXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgdHJpZ2dlciA9ICguLi5hcmdzKSA9PiB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKEFycmF5LmZyb20oZm5zKS5tYXAoKGZuKSA9PiBmbiguLi5hcmdzKSkpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIG9uLFxuICAgIG9mZixcbiAgICB0cmlnZ2VyLFxuICAgIGNsZWFyXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUdsb2JhbFN0YXRlKHN0YXRlRmFjdG9yeSkge1xuICBsZXQgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBzY29wZSA9IGVmZmVjdFNjb3BlKHRydWUpO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIWluaXRpYWxpemVkKSB7XG4gICAgICBzdGF0ZSA9IHNjb3BlLnJ1bigoKSA9PiBzdGF0ZUZhY3RvcnkoLi4uYXJncykpO1xuICAgICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG59XG5cbmNvbnN0IGxvY2FsUHJvdmlkZWRTdGF0ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuXG5jb25zdCBpbmplY3RMb2NhbCA9ICguLi5hcmdzKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3Qga2V5ID0gYXJnc1swXTtcbiAgY29uc3QgaW5zdGFuY2UgPSAoX2EgPSBnZXRDdXJyZW50SW5zdGFuY2UoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnByb3h5O1xuICBpZiAoaW5zdGFuY2UgPT0gbnVsbCAmJiAhaGFzSW5qZWN0aW9uQ29udGV4dCgpKVxuICAgIHRocm93IG5ldyBFcnJvcihcImluamVjdExvY2FsIG11c3QgYmUgY2FsbGVkIGluIHNldHVwXCIpO1xuICBpZiAoaW5zdGFuY2UgJiYgbG9jYWxQcm92aWRlZFN0YXRlTWFwLmhhcyhpbnN0YW5jZSkgJiYga2V5IGluIGxvY2FsUHJvdmlkZWRTdGF0ZU1hcC5nZXQoaW5zdGFuY2UpKVxuICAgIHJldHVybiBsb2NhbFByb3ZpZGVkU3RhdGVNYXAuZ2V0KGluc3RhbmNlKVtrZXldO1xuICByZXR1cm4gaW5qZWN0KC4uLmFyZ3MpO1xufTtcblxuZnVuY3Rpb24gcHJvdmlkZUxvY2FsKGtleSwgdmFsdWUpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBpbnN0YW5jZSA9IChfYSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpKSA9PSBudWxsID8gdm9pZCAwIDogX2EucHJveHk7XG4gIGlmIChpbnN0YW5jZSA9PSBudWxsKVxuICAgIHRocm93IG5ldyBFcnJvcihcInByb3ZpZGVMb2NhbCBtdXN0IGJlIGNhbGxlZCBpbiBzZXR1cFwiKTtcbiAgaWYgKCFsb2NhbFByb3ZpZGVkU3RhdGVNYXAuaGFzKGluc3RhbmNlKSlcbiAgICBsb2NhbFByb3ZpZGVkU3RhdGVNYXAuc2V0KGluc3RhbmNlLCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gIGNvbnN0IGxvY2FsUHJvdmlkZWRTdGF0ZSA9IGxvY2FsUHJvdmlkZWRTdGF0ZU1hcC5nZXQoaW5zdGFuY2UpO1xuICBsb2NhbFByb3ZpZGVkU3RhdGVba2V5XSA9IHZhbHVlO1xuICByZXR1cm4gcHJvdmlkZShrZXksIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0aW9uU3RhdGUoY29tcG9zYWJsZSwgb3B0aW9ucykge1xuICBjb25zdCBrZXkgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbmplY3Rpb25LZXkpIHx8IFN5bWJvbChjb21wb3NhYmxlLm5hbWUgfHwgXCJJbmplY3Rpb25TdGF0ZVwiKTtcbiAgY29uc3QgZGVmYXVsdFZhbHVlID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kZWZhdWx0VmFsdWU7XG4gIGNvbnN0IHVzZVByb3ZpZGluZ1N0YXRlID0gKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IGNvbXBvc2FibGUoLi4uYXJncyk7XG4gICAgcHJvdmlkZUxvY2FsKGtleSwgc3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfTtcbiAgY29uc3QgdXNlSW5qZWN0ZWRTdGF0ZSA9ICgpID0+IGluamVjdExvY2FsKGtleSwgZGVmYXVsdFZhbHVlKTtcbiAgcmV0dXJuIFt1c2VQcm92aWRpbmdTdGF0ZSwgdXNlSW5qZWN0ZWRTdGF0ZV07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlZih2YWx1ZSwgZGVlcCkge1xuICBpZiAoZGVlcCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiByZWYodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzaGFsbG93UmVmKHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTaGFyZWRDb21wb3NhYmxlKGNvbXBvc2FibGUpIHtcbiAgbGV0IHN1YnNjcmliZXJzID0gMDtcbiAgbGV0IHN0YXRlO1xuICBsZXQgc2NvcGU7XG4gIGNvbnN0IGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgc3Vic2NyaWJlcnMgLT0gMTtcbiAgICBpZiAoc2NvcGUgJiYgc3Vic2NyaWJlcnMgPD0gMCkge1xuICAgICAgc2NvcGUuc3RvcCgpO1xuICAgICAgc3RhdGUgPSB2b2lkIDA7XG4gICAgICBzY29wZSA9IHZvaWQgMDtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHN1YnNjcmliZXJzICs9IDE7XG4gICAgaWYgKCFzY29wZSkge1xuICAgICAgc2NvcGUgPSBlZmZlY3RTY29wZSh0cnVlKTtcbiAgICAgIHN0YXRlID0gc2NvcGUucnVuKCgpID0+IGNvbXBvc2FibGUoLi4uYXJncykpO1xuICAgIH1cbiAgICB0cnlPblNjb3BlRGlzcG9zZShkaXNwb3NlKTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGV4dGVuZFJlZihyZWYsIGV4dGVuZCwgeyBlbnVtZXJhYmxlID0gZmFsc2UsIHVud3JhcCA9IHRydWUgfSA9IHt9KSB7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV4dGVuZCkpIHtcbiAgICBpZiAoa2V5ID09PSBcInZhbHVlXCIpXG4gICAgICBjb250aW51ZTtcbiAgICBpZiAoaXNSZWYodmFsdWUpICYmIHVud3JhcCkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlZiwga2V5LCB7XG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2KSB7XG4gICAgICAgICAgdmFsdWUudmFsdWUgPSB2O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlZiwga2V5LCB7IHZhbHVlLCBlbnVtZXJhYmxlIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVmO1xufVxuXG5mdW5jdGlvbiBnZXQob2JqLCBrZXkpIHtcbiAgaWYgKGtleSA9PSBudWxsKVxuICAgIHJldHVybiB1bnJlZihvYmopO1xuICByZXR1cm4gdW5yZWYob2JqKVtrZXldO1xufVxuXG5mdW5jdGlvbiBpc0RlZmluZWQodikge1xuICByZXR1cm4gdW5yZWYodikgIT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gbWFrZURlc3RydWN0dXJhYmxlKG9iaiwgYXJyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3QgY2xvbmUgPSB7IC4uLm9iaiB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjbG9uZSwgU3ltYm9sLml0ZXJhdG9yLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlKCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5leHQ6ICgpID0+ICh7XG4gICAgICAgICAgICB2YWx1ZTogYXJyW2luZGV4KytdLFxuICAgICAgICAgICAgZG9uZTogaW5kZXggPiBhcnIubGVuZ3RoXG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oWy4uLmFycl0sIG9iaik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVhY3RpZnkoZm4sIG9wdGlvbnMpIHtcbiAgY29uc3QgdW5yZWZGbiA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNvbXB1dGVkR2V0dGVyKSA9PT0gZmFsc2UgPyB1bnJlZiA6IHRvVmFsdWUkMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncy5tYXAoKGkpID0+IHVucmVmRm4oaSkpKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlYWN0aWZ5T2JqZWN0KG9iaiwgb3B0aW9uc09yS2V5cyA9IHt9KSB7XG4gIGxldCBrZXlzID0gW107XG4gIGxldCBvcHRpb25zO1xuICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zT3JLZXlzKSkge1xuICAgIGtleXMgPSBvcHRpb25zT3JLZXlzO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zT3JLZXlzO1xuICAgIGNvbnN0IHsgaW5jbHVkZU93blByb3BlcnRpZXMgPSB0cnVlIH0gPSBvcHRpb25zT3JLZXlzO1xuICAgIGtleXMucHVzaCguLi5PYmplY3Qua2V5cyhvYmopKTtcbiAgICBpZiAoaW5jbHVkZU93blByb3BlcnRpZXMpXG4gICAgICBrZXlzLnB1c2goLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSk7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBrZXlzLm1hcCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAga2V5LFxuICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IHJlYWN0aWZ5KHZhbHVlLmJpbmQob2JqKSwgb3B0aW9ucykgOiB2YWx1ZVxuICAgICAgXTtcbiAgICB9KVxuICApO1xufVxuXG5mdW5jdGlvbiB0b1JlYWN0aXZlKG9iamVjdFJlZikge1xuICBpZiAoIWlzUmVmKG9iamVjdFJlZikpXG4gICAgcmV0dXJuIHJlYWN0aXZlKG9iamVjdFJlZik7XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KHt9LCB7XG4gICAgZ2V0KF8sIHAsIHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gdW5yZWYoUmVmbGVjdC5nZXQob2JqZWN0UmVmLnZhbHVlLCBwLCByZWNlaXZlcikpO1xuICAgIH0sXG4gICAgc2V0KF8sIHAsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNSZWYob2JqZWN0UmVmLnZhbHVlW3BdKSAmJiAhaXNSZWYodmFsdWUpKVxuICAgICAgICBvYmplY3RSZWYudmFsdWVbcF0udmFsdWUgPSB2YWx1ZTtcbiAgICAgIGVsc2VcbiAgICAgICAgb2JqZWN0UmVmLnZhbHVlW3BdID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIGRlbGV0ZVByb3BlcnR5KF8sIHApIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KG9iamVjdFJlZi52YWx1ZSwgcCk7XG4gICAgfSxcbiAgICBoYXMoXywgcCkge1xuICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzKG9iamVjdFJlZi52YWx1ZSwgcCk7XG4gICAgfSxcbiAgICBvd25LZXlzKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdFJlZi52YWx1ZSk7XG4gICAgfSxcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlYWN0aXZlKHByb3h5KTtcbn1cblxuZnVuY3Rpb24gcmVhY3RpdmVDb21wdXRlZChmbikge1xuICByZXR1cm4gdG9SZWFjdGl2ZShjb21wdXRlZChmbikpO1xufVxuXG5mdW5jdGlvbiByZWFjdGl2ZU9taXQob2JqLCAuLi5rZXlzKSB7XG4gIGNvbnN0IGZsYXRLZXlzID0ga2V5cy5mbGF0KCk7XG4gIGNvbnN0IHByZWRpY2F0ZSA9IGZsYXRLZXlzWzBdO1xuICByZXR1cm4gcmVhY3RpdmVDb21wdXRlZCgoKSA9PiB0eXBlb2YgcHJlZGljYXRlID09PSBcImZ1bmN0aW9uXCIgPyBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModG9SZWZzJDEob2JqKSkuZmlsdGVyKChbaywgdl0pID0+ICFwcmVkaWNhdGUodG9WYWx1ZSQxKHYpLCBrKSkpIDogT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRvUmVmcyQxKG9iaikpLmZpbHRlcigoZSkgPT4gIWZsYXRLZXlzLmluY2x1ZGVzKGVbMF0pKSkpO1xufVxuXG5jb25zdCBpc0NsaWVudCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuY29uc3QgaXNXb3JrZXIgPSB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsVGhpcyBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlO1xuY29uc3QgaXNEZWYgPSAodmFsKSA9PiB0eXBlb2YgdmFsICE9PSBcInVuZGVmaW5lZFwiO1xuY29uc3Qgbm90TnVsbGlzaCA9ICh2YWwpID0+IHZhbCAhPSBudWxsO1xuY29uc3QgYXNzZXJ0ID0gKGNvbmRpdGlvbiwgLi4uaW5mb3MpID0+IHtcbiAgaWYgKCFjb25kaXRpb24pXG4gICAgY29uc29sZS53YXJuKC4uLmluZm9zKTtcbn07XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBpc09iamVjdCA9ICh2YWwpID0+IHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbmNvbnN0IG5vdyA9ICgpID0+IERhdGUubm93KCk7XG5jb25zdCB0aW1lc3RhbXAgPSAoKSA9PiArRGF0ZS5ub3coKTtcbmNvbnN0IGNsYW1wID0gKG4sIG1pbiwgbWF4KSA9PiBNYXRoLm1pbihtYXgsIE1hdGgubWF4KG1pbiwgbikpO1xuY29uc3Qgbm9vcCA9ICgpID0+IHtcbn07XG5jb25zdCByYW5kID0gKG1pbiwgbWF4KSA9PiB7XG4gIG1pbiA9IE1hdGguY2VpbChtaW4pO1xuICBtYXggPSBNYXRoLmZsb29yKG1heCk7XG4gIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xufTtcbmNvbnN0IGhhc093biA9ICh2YWwsIGtleSkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcbmNvbnN0IGlzSU9TID0gLyogQF9fUFVSRV9fICovIGdldElzSU9TKCk7XG5mdW5jdGlvbiBnZXRJc0lPUygpIHtcbiAgdmFyIF9hLCBfYjtcbiAgcmV0dXJuIGlzQ2xpZW50ICYmICgoX2EgPSB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5uYXZpZ2F0b3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS51c2VyQWdlbnQpICYmICgvaVAoPzphZHxob25lfG9kKS8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgKChfYiA9IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93Lm5hdmlnYXRvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLm1heFRvdWNoUG9pbnRzKSA+IDIgJiYgL2lQYWR8TWFjaW50b3NoLy50ZXN0KHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpKTtcbn1cblxuZnVuY3Rpb24gdG9SZWYoLi4uYXJncykge1xuICBpZiAoYXJncy5sZW5ndGggIT09IDEpXG4gICAgcmV0dXJuIHRvUmVmJDEoLi4uYXJncyk7XG4gIGNvbnN0IHIgPSBhcmdzWzBdO1xuICByZXR1cm4gdHlwZW9mIHIgPT09IFwiZnVuY3Rpb25cIiA/IHJlYWRvbmx5KGN1c3RvbVJlZigoKSA9PiAoeyBnZXQ6IHIsIHNldDogbm9vcCB9KSkpIDogcmVmKHIpO1xufVxuY29uc3QgcmVzb2x2ZVJlZiA9IHRvUmVmO1xuXG5mdW5jdGlvbiByZWFjdGl2ZVBpY2sob2JqLCAuLi5rZXlzKSB7XG4gIGNvbnN0IGZsYXRLZXlzID0ga2V5cy5mbGF0KCk7XG4gIGNvbnN0IHByZWRpY2F0ZSA9IGZsYXRLZXlzWzBdO1xuICByZXR1cm4gcmVhY3RpdmVDb21wdXRlZCgoKSA9PiB0eXBlb2YgcHJlZGljYXRlID09PSBcImZ1bmN0aW9uXCIgPyBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModG9SZWZzJDEob2JqKSkuZmlsdGVyKChbaywgdl0pID0+IHByZWRpY2F0ZSh0b1ZhbHVlJDEodiksIGspKSkgOiBPYmplY3QuZnJvbUVudHJpZXMoZmxhdEtleXMubWFwKChrKSA9PiBbaywgdG9SZWYob2JqLCBrKV0pKSk7XG59XG5cbmZ1bmN0aW9uIHJlZkF1dG9SZXNldChkZWZhdWx0VmFsdWUsIGFmdGVyTXMgPSAxZTQpIHtcbiAgcmV0dXJuIGN1c3RvbVJlZigodHJhY2ssIHRyaWdnZXIpID0+IHtcbiAgICBsZXQgdmFsdWUgPSB0b1ZhbHVlJDEoZGVmYXVsdFZhbHVlKTtcbiAgICBsZXQgdGltZXI7XG4gICAgY29uc3QgcmVzZXRBZnRlciA9ICgpID0+IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdmFsdWUgPSB0b1ZhbHVlJDEoZGVmYXVsdFZhbHVlKTtcbiAgICAgIHRyaWdnZXIoKTtcbiAgICB9LCB0b1ZhbHVlJDEoYWZ0ZXJNcykpO1xuICAgIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgdHJhY2soKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldChuZXdWYWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gcmVzZXRBZnRlcigpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGaWx0ZXJXcmFwcGVyKGZpbHRlciwgZm4pIHtcbiAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIFByb21pc2UucmVzb2x2ZShmaWx0ZXIoKCkgPT4gZm4uYXBwbHkodGhpcywgYXJncyksIHsgZm4sIHRoaXNBcmc6IHRoaXMsIGFyZ3MgfSkpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gd3JhcHBlcjtcbn1cbmNvbnN0IGJ5cGFzc0ZpbHRlciA9IChpbnZva2UpID0+IHtcbiAgcmV0dXJuIGludm9rZSgpO1xufTtcbmZ1bmN0aW9uIGRlYm91bmNlRmlsdGVyKG1zLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IHRpbWVyO1xuICBsZXQgbWF4VGltZXI7XG4gIGxldCBsYXN0UmVqZWN0b3IgPSBub29wO1xuICBjb25zdCBfY2xlYXJUaW1lb3V0ID0gKHRpbWVyMikgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aW1lcjIpO1xuICAgIGxhc3RSZWplY3RvcigpO1xuICAgIGxhc3RSZWplY3RvciA9IG5vb3A7XG4gIH07XG4gIGxldCBsYXN0SW52b2tlcjtcbiAgY29uc3QgZmlsdGVyID0gKGludm9rZSkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdG9WYWx1ZSQxKG1zKTtcbiAgICBjb25zdCBtYXhEdXJhdGlvbiA9IHRvVmFsdWUkMShvcHRpb25zLm1heFdhaXQpO1xuICAgIGlmICh0aW1lcilcbiAgICAgIF9jbGVhclRpbWVvdXQodGltZXIpO1xuICAgIGlmIChkdXJhdGlvbiA8PSAwIHx8IG1heER1cmF0aW9uICE9PSB2b2lkIDAgJiYgbWF4RHVyYXRpb24gPD0gMCkge1xuICAgICAgaWYgKG1heFRpbWVyKSB7XG4gICAgICAgIF9jbGVhclRpbWVvdXQobWF4VGltZXIpO1xuICAgICAgICBtYXhUaW1lciA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW52b2tlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGFzdFJlamVjdG9yID0gb3B0aW9ucy5yZWplY3RPbkNhbmNlbCA/IHJlamVjdCA6IHJlc29sdmU7XG4gICAgICBsYXN0SW52b2tlciA9IGludm9rZTtcbiAgICAgIGlmIChtYXhEdXJhdGlvbiAmJiAhbWF4VGltZXIpIHtcbiAgICAgICAgbWF4VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAodGltZXIpXG4gICAgICAgICAgICBfY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICBtYXhUaW1lciA9IHZvaWQgMDtcbiAgICAgICAgICByZXNvbHZlKGxhc3RJbnZva2VyKCkpO1xuICAgICAgICB9LCBtYXhEdXJhdGlvbik7XG4gICAgICB9XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAobWF4VGltZXIpXG4gICAgICAgICAgX2NsZWFyVGltZW91dChtYXhUaW1lcik7XG4gICAgICAgIG1heFRpbWVyID0gdm9pZCAwO1xuICAgICAgICByZXNvbHZlKGludm9rZSgpKTtcbiAgICAgIH0sIGR1cmF0aW9uKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIGZpbHRlcjtcbn1cbmZ1bmN0aW9uIHRocm90dGxlRmlsdGVyKC4uLmFyZ3MpIHtcbiAgbGV0IGxhc3RFeGVjID0gMDtcbiAgbGV0IHRpbWVyO1xuICBsZXQgaXNMZWFkaW5nID0gdHJ1ZTtcbiAgbGV0IGxhc3RSZWplY3RvciA9IG5vb3A7XG4gIGxldCBsYXN0VmFsdWU7XG4gIGxldCBtcztcbiAgbGV0IHRyYWlsaW5nO1xuICBsZXQgbGVhZGluZztcbiAgbGV0IHJlamVjdE9uQ2FuY2VsO1xuICBpZiAoIWlzUmVmKGFyZ3NbMF0pICYmIHR5cGVvZiBhcmdzWzBdID09PSBcIm9iamVjdFwiKVxuICAgICh7IGRlbGF5OiBtcywgdHJhaWxpbmcgPSB0cnVlLCBsZWFkaW5nID0gdHJ1ZSwgcmVqZWN0T25DYW5jZWwgPSBmYWxzZSB9ID0gYXJnc1swXSk7XG4gIGVsc2VcbiAgICBbbXMsIHRyYWlsaW5nID0gdHJ1ZSwgbGVhZGluZyA9IHRydWUsIHJlamVjdE9uQ2FuY2VsID0gZmFsc2VdID0gYXJncztcbiAgY29uc3QgY2xlYXIgPSAoKSA9PiB7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSB2b2lkIDA7XG4gICAgICBsYXN0UmVqZWN0b3IoKTtcbiAgICAgIGxhc3RSZWplY3RvciA9IG5vb3A7XG4gICAgfVxuICB9O1xuICBjb25zdCBmaWx0ZXIgPSAoX2ludm9rZSkgPT4ge1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdG9WYWx1ZSQxKG1zKTtcbiAgICBjb25zdCBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIGxhc3RFeGVjO1xuICAgIGNvbnN0IGludm9rZSA9ICgpID0+IHtcbiAgICAgIHJldHVybiBsYXN0VmFsdWUgPSBfaW52b2tlKCk7XG4gICAgfTtcbiAgICBjbGVhcigpO1xuICAgIGlmIChkdXJhdGlvbiA8PSAwKSB7XG4gICAgICBsYXN0RXhlYyA9IERhdGUubm93KCk7XG4gICAgICByZXR1cm4gaW52b2tlKCk7XG4gICAgfVxuICAgIGlmIChlbGFwc2VkID4gZHVyYXRpb24gJiYgKGxlYWRpbmcgfHwgIWlzTGVhZGluZykpIHtcbiAgICAgIGxhc3RFeGVjID0gRGF0ZS5ub3coKTtcbiAgICAgIGludm9rZSgpO1xuICAgIH0gZWxzZSBpZiAodHJhaWxpbmcpIHtcbiAgICAgIGxhc3RWYWx1ZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgbGFzdFJlamVjdG9yID0gcmVqZWN0T25DYW5jZWwgPyByZWplY3QgOiByZXNvbHZlO1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGxhc3RFeGVjID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICBpc0xlYWRpbmcgPSB0cnVlO1xuICAgICAgICAgIHJlc29sdmUoaW52b2tlKCkpO1xuICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgIH0sIE1hdGgubWF4KDAsIGR1cmF0aW9uIC0gZWxhcHNlZCkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghbGVhZGluZyAmJiAhdGltZXIpXG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gaXNMZWFkaW5nID0gdHJ1ZSwgZHVyYXRpb24pO1xuICAgIGlzTGVhZGluZyA9IGZhbHNlO1xuICAgIHJldHVybiBsYXN0VmFsdWU7XG4gIH07XG4gIHJldHVybiBmaWx0ZXI7XG59XG5mdW5jdGlvbiBwYXVzYWJsZUZpbHRlcihleHRlbmRGaWx0ZXIgPSBieXBhc3NGaWx0ZXIsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW5pdGlhbFN0YXRlID0gXCJhY3RpdmVcIlxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNBY3RpdmUgPSB0b1JlZihpbml0aWFsU3RhdGUgPT09IFwiYWN0aXZlXCIpO1xuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHJlc3VtZSgpIHtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gIH1cbiAgY29uc3QgZXZlbnRGaWx0ZXIgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmIChpc0FjdGl2ZS52YWx1ZSlcbiAgICAgIGV4dGVuZEZpbHRlciguLi5hcmdzKTtcbiAgfTtcbiAgcmV0dXJuIHsgaXNBY3RpdmU6IHJlYWRvbmx5KGlzQWN0aXZlKSwgcGF1c2UsIHJlc3VtZSwgZXZlbnRGaWx0ZXIgfTtcbn1cblxuZnVuY3Rpb24gcHJvbWlzZVRpbWVvdXQobXMsIHRocm93T25UaW1lb3V0ID0gZmFsc2UsIHJlYXNvbiA9IFwiVGltZW91dFwiKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHRocm93T25UaW1lb3V0KVxuICAgICAgc2V0VGltZW91dCgoKSA9PiByZWplY3QocmVhc29uKSwgbXMpO1xuICAgIGVsc2VcbiAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlkZW50aXR5KGFyZykge1xuICByZXR1cm4gYXJnO1xufVxuZnVuY3Rpb24gY3JlYXRlU2luZ2xldG9uUHJvbWlzZShmbikge1xuICBsZXQgX3Byb21pc2U7XG4gIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgaWYgKCFfcHJvbWlzZSlcbiAgICAgIF9wcm9taXNlID0gZm4oKTtcbiAgICByZXR1cm4gX3Byb21pc2U7XG4gIH1cbiAgd3JhcHBlci5yZXNldCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBfcHJldiA9IF9wcm9taXNlO1xuICAgIF9wcm9taXNlID0gdm9pZCAwO1xuICAgIGlmIChfcHJldilcbiAgICAgIGF3YWl0IF9wcmV2O1xuICB9O1xuICByZXR1cm4gd3JhcHBlcjtcbn1cbmZ1bmN0aW9uIGludm9rZShmbikge1xuICByZXR1cm4gZm4oKTtcbn1cbmZ1bmN0aW9uIGNvbnRhaW5zUHJvcChvYmosIC4uLnByb3BzKSB7XG4gIHJldHVybiBwcm9wcy5zb21lKChrKSA9PiBrIGluIG9iaik7XG59XG5mdW5jdGlvbiBpbmNyZWFzZVdpdGhVbml0KHRhcmdldCwgZGVsdGEpIHtcbiAgdmFyIF9hO1xuICBpZiAodHlwZW9mIHRhcmdldCA9PT0gXCJudW1iZXJcIilcbiAgICByZXR1cm4gdGFyZ2V0ICsgZGVsdGE7XG4gIGNvbnN0IHZhbHVlID0gKChfYSA9IHRhcmdldC5tYXRjaCgvXi0/XFxkK1xcLj9cXGQqLykpID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkgfHwgXCJcIjtcbiAgY29uc3QgdW5pdCA9IHRhcmdldC5zbGljZSh2YWx1ZS5sZW5ndGgpO1xuICBjb25zdCByZXN1bHQgPSBOdW1iZXIucGFyc2VGbG9hdCh2YWx1ZSkgKyBkZWx0YTtcbiAgaWYgKE51bWJlci5pc05hTihyZXN1bHQpKVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIHJldHVybiByZXN1bHQgKyB1bml0O1xufVxuZnVuY3Rpb24gcHhWYWx1ZShweCkge1xuICByZXR1cm4gcHguZW5kc1dpdGgoXCJyZW1cIikgPyBOdW1iZXIucGFyc2VGbG9hdChweCkgKiAxNiA6IE51bWJlci5wYXJzZUZsb2F0KHB4KTtcbn1cbmZ1bmN0aW9uIG9iamVjdFBpY2sob2JqLCBrZXlzLCBvbWl0VW5kZWZpbmVkID0gZmFsc2UpIHtcbiAgcmV0dXJuIGtleXMucmVkdWNlKChuLCBrKSA9PiB7XG4gICAgaWYgKGsgaW4gb2JqKSB7XG4gICAgICBpZiAoIW9taXRVbmRlZmluZWQgfHwgb2JqW2tdICE9PSB2b2lkIDApXG4gICAgICAgIG5ba10gPSBvYmpba107XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBvYmplY3RPbWl0KG9iaiwga2V5cywgb21pdFVuZGVmaW5lZCA9IGZhbHNlKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMob2JqKS5maWx0ZXIoKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHJldHVybiAoIW9taXRVbmRlZmluZWQgfHwgdmFsdWUgIT09IHZvaWQgMCkgJiYgIWtleXMuaW5jbHVkZXMoa2V5KTtcbiAgfSkpO1xufVxuZnVuY3Rpb24gb2JqZWN0RW50cmllcyhvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iaik7XG59XG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn1cblxuZnVuY3Rpb24gY2FjaGVTdHJpbmdGdW5jdGlvbihmbikge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICByZXR1cm4gKHN0cikgPT4ge1xuICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl07XG4gICAgcmV0dXJuIGhpdCB8fCAoY2FjaGVbc3RyXSA9IGZuKHN0cikpO1xuICB9O1xufVxuY29uc3QgaHlwaGVuYXRlUkUgPSAvXFxCKFtBLVpdKS9nO1xuY29uc3QgaHlwaGVuYXRlID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgXCItJDFcIikudG9Mb3dlckNhc2UoKSk7XG5jb25zdCBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xuY29uc3QgY2FtZWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIChfLCBjKSA9PiBjID8gYy50b1VwcGVyQ2FzZSgpIDogXCJcIik7XG59KTtcblxuZnVuY3Rpb24gZ2V0TGlmZUN5Y2xlVGFyZ2V0KHRhcmdldCkge1xuICByZXR1cm4gdGFyZ2V0IHx8IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xufVxuXG5mdW5jdGlvbiB1c2VEZWJvdW5jZUZuKGZuLCBtcyA9IDIwMCwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBjcmVhdGVGaWx0ZXJXcmFwcGVyKFxuICAgIGRlYm91bmNlRmlsdGVyKG1zLCBvcHRpb25zKSxcbiAgICBmblxuICApO1xufVxuXG5mdW5jdGlvbiByZWZEZWJvdW5jZWQodmFsdWUsIG1zID0gMjAwLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgZGVib3VuY2VkID0gcmVmKHRvVmFsdWUkMSh2YWx1ZSkpO1xuICBjb25zdCB1cGRhdGVyID0gdXNlRGVib3VuY2VGbigoKSA9PiB7XG4gICAgZGVib3VuY2VkLnZhbHVlID0gdmFsdWUudmFsdWU7XG4gIH0sIG1zLCBvcHRpb25zKTtcbiAgd2F0Y2godmFsdWUsICgpID0+IHVwZGF0ZXIoKSk7XG4gIHJldHVybiBzaGFsbG93UmVhZG9ubHkoZGVib3VuY2VkKTtcbn1cblxuZnVuY3Rpb24gcmVmRGVmYXVsdChzb3VyY2UsIGRlZmF1bHRWYWx1ZSkge1xuICByZXR1cm4gY29tcHV0ZWQoe1xuICAgIGdldCgpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoX2EgPSBzb3VyY2UudmFsdWUpICE9IG51bGwgPyBfYSA6IGRlZmF1bHRWYWx1ZTtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgc291cmNlLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlVGhyb3R0bGVGbihmbiwgbXMgPSAyMDAsIHRyYWlsaW5nID0gZmFsc2UsIGxlYWRpbmcgPSB0cnVlLCByZWplY3RPbkNhbmNlbCA9IGZhbHNlKSB7XG4gIHJldHVybiBjcmVhdGVGaWx0ZXJXcmFwcGVyKFxuICAgIHRocm90dGxlRmlsdGVyKG1zLCB0cmFpbGluZywgbGVhZGluZywgcmVqZWN0T25DYW5jZWwpLFxuICAgIGZuXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlZlRocm90dGxlZCh2YWx1ZSwgZGVsYXkgPSAyMDAsIHRyYWlsaW5nID0gdHJ1ZSwgbGVhZGluZyA9IHRydWUpIHtcbiAgaWYgKGRlbGF5IDw9IDApXG4gICAgcmV0dXJuIHZhbHVlO1xuICBjb25zdCB0aHJvdHRsZWQgPSByZWYodG9WYWx1ZSQxKHZhbHVlKSk7XG4gIGNvbnN0IHVwZGF0ZXIgPSB1c2VUaHJvdHRsZUZuKCgpID0+IHtcbiAgICB0aHJvdHRsZWQudmFsdWUgPSB2YWx1ZS52YWx1ZTtcbiAgfSwgZGVsYXksIHRyYWlsaW5nLCBsZWFkaW5nKTtcbiAgd2F0Y2godmFsdWUsICgpID0+IHVwZGF0ZXIoKSk7XG4gIHJldHVybiB0aHJvdHRsZWQ7XG59XG5cbmZ1bmN0aW9uIHJlZldpdGhDb250cm9sKGluaXRpYWwsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgc291cmNlID0gaW5pdGlhbDtcbiAgbGV0IHRyYWNrO1xuICBsZXQgdHJpZ2dlcjtcbiAgY29uc3QgcmVmID0gY3VzdG9tUmVmKChfdHJhY2ssIF90cmlnZ2VyKSA9PiB7XG4gICAgdHJhY2sgPSBfdHJhY2s7XG4gICAgdHJpZ2dlciA9IF90cmlnZ2VyO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBnZXQoKTtcbiAgICAgIH0sXG4gICAgICBzZXQodikge1xuICAgICAgICBzZXQodik7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIGZ1bmN0aW9uIGdldCh0cmFja2luZyA9IHRydWUpIHtcbiAgICBpZiAodHJhY2tpbmcpXG4gICAgICB0cmFjaygpO1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cbiAgZnVuY3Rpb24gc2V0KHZhbHVlLCB0cmlnZ2VyaW5nID0gdHJ1ZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHZhbHVlID09PSBzb3VyY2UpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgb2xkID0gc291cmNlO1xuICAgIGlmICgoKF9hID0gb3B0aW9ucy5vbkJlZm9yZUNoYW5nZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwob3B0aW9ucywgdmFsdWUsIG9sZCkpID09PSBmYWxzZSlcbiAgICAgIHJldHVybjtcbiAgICBzb3VyY2UgPSB2YWx1ZTtcbiAgICAoX2IgPSBvcHRpb25zLm9uQ2hhbmdlZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwob3B0aW9ucywgdmFsdWUsIG9sZCk7XG4gICAgaWYgKHRyaWdnZXJpbmcpXG4gICAgICB0cmlnZ2VyKCk7XG4gIH1cbiAgY29uc3QgdW50cmFja2VkR2V0ID0gKCkgPT4gZ2V0KGZhbHNlKTtcbiAgY29uc3Qgc2lsZW50U2V0ID0gKHYpID0+IHNldCh2LCBmYWxzZSk7XG4gIGNvbnN0IHBlZWsgPSAoKSA9PiBnZXQoZmFsc2UpO1xuICBjb25zdCBsYXkgPSAodikgPT4gc2V0KHYsIGZhbHNlKTtcbiAgcmV0dXJuIGV4dGVuZFJlZihcbiAgICByZWYsXG4gICAge1xuICAgICAgZ2V0LFxuICAgICAgc2V0LFxuICAgICAgdW50cmFja2VkR2V0LFxuICAgICAgc2lsZW50U2V0LFxuICAgICAgcGVlayxcbiAgICAgIGxheVxuICAgIH0sXG4gICAgeyBlbnVtZXJhYmxlOiB0cnVlIH1cbiAgKTtcbn1cbmNvbnN0IGNvbnRyb2xsZWRSZWYgPSByZWZXaXRoQ29udHJvbDtcblxuZnVuY3Rpb24gc2V0KC4uLmFyZ3MpIHtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgY29uc3QgW3JlZiwgdmFsdWVdID0gYXJncztcbiAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgfVxuICBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICBjb25zdCBbdGFyZ2V0LCBrZXksIHZhbHVlXSA9IGFyZ3M7XG4gICAgdGFyZ2V0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3YXRjaFdpdGhGaWx0ZXIoc291cmNlLCBjYiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBldmVudEZpbHRlciA9IGJ5cGFzc0ZpbHRlcixcbiAgICAuLi53YXRjaE9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIHJldHVybiB3YXRjaChcbiAgICBzb3VyY2UsXG4gICAgY3JlYXRlRmlsdGVyV3JhcHBlcihcbiAgICAgIGV2ZW50RmlsdGVyLFxuICAgICAgY2JcbiAgICApLFxuICAgIHdhdGNoT3B0aW9uc1xuICApO1xufVxuXG5mdW5jdGlvbiB3YXRjaFBhdXNhYmxlKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZXZlbnRGaWx0ZXI6IGZpbHRlcixcbiAgICBpbml0aWFsU3RhdGUgPSBcImFjdGl2ZVwiLFxuICAgIC4uLndhdGNoT3B0aW9uc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgeyBldmVudEZpbHRlciwgcGF1c2UsIHJlc3VtZSwgaXNBY3RpdmUgfSA9IHBhdXNhYmxlRmlsdGVyKGZpbHRlciwgeyBpbml0aWFsU3RhdGUgfSk7XG4gIGNvbnN0IHN0b3AgPSB3YXRjaFdpdGhGaWx0ZXIoXG4gICAgc291cmNlLFxuICAgIGNiLFxuICAgIHtcbiAgICAgIC4uLndhdGNoT3B0aW9ucyxcbiAgICAgIGV2ZW50RmlsdGVyXG4gICAgfVxuICApO1xuICByZXR1cm4geyBzdG9wLCBwYXVzZSwgcmVzdW1lLCBpc0FjdGl2ZSB9O1xufVxuXG5mdW5jdGlvbiBzeW5jUmVmKGxlZnQsIHJpZ2h0LCAuLi5bb3B0aW9uc10pIHtcbiAgY29uc3Qge1xuICAgIGZsdXNoID0gXCJzeW5jXCIsXG4gICAgZGVlcCA9IGZhbHNlLFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgZGlyZWN0aW9uID0gXCJib3RoXCIsXG4gICAgdHJhbnNmb3JtID0ge31cbiAgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHdhdGNoZXJzID0gW107XG4gIGNvbnN0IHRyYW5zZm9ybUxUUiA9IFwibHRyXCIgaW4gdHJhbnNmb3JtICYmIHRyYW5zZm9ybS5sdHIgfHwgKCh2KSA9PiB2KTtcbiAgY29uc3QgdHJhbnNmb3JtUlRMID0gXCJydGxcIiBpbiB0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtLnJ0bCB8fCAoKHYpID0+IHYpO1xuICBpZiAoZGlyZWN0aW9uID09PSBcImJvdGhcIiB8fCBkaXJlY3Rpb24gPT09IFwibHRyXCIpIHtcbiAgICB3YXRjaGVycy5wdXNoKHdhdGNoUGF1c2FibGUoXG4gICAgICBsZWZ0LFxuICAgICAgKG5ld1ZhbHVlKSA9PiB7XG4gICAgICAgIHdhdGNoZXJzLmZvckVhY2goKHcpID0+IHcucGF1c2UoKSk7XG4gICAgICAgIHJpZ2h0LnZhbHVlID0gdHJhbnNmb3JtTFRSKG5ld1ZhbHVlKTtcbiAgICAgICAgd2F0Y2hlcnMuZm9yRWFjaCgodykgPT4gdy5yZXN1bWUoKSk7XG4gICAgICB9LFxuICAgICAgeyBmbHVzaCwgZGVlcCwgaW1tZWRpYXRlIH1cbiAgICApKTtcbiAgfVxuICBpZiAoZGlyZWN0aW9uID09PSBcImJvdGhcIiB8fCBkaXJlY3Rpb24gPT09IFwicnRsXCIpIHtcbiAgICB3YXRjaGVycy5wdXNoKHdhdGNoUGF1c2FibGUoXG4gICAgICByaWdodCxcbiAgICAgIChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICB3YXRjaGVycy5mb3JFYWNoKCh3KSA9PiB3LnBhdXNlKCkpO1xuICAgICAgICBsZWZ0LnZhbHVlID0gdHJhbnNmb3JtUlRMKG5ld1ZhbHVlKTtcbiAgICAgICAgd2F0Y2hlcnMuZm9yRWFjaCgodykgPT4gdy5yZXN1bWUoKSk7XG4gICAgICB9LFxuICAgICAgeyBmbHVzaCwgZGVlcCwgaW1tZWRpYXRlIH1cbiAgICApKTtcbiAgfVxuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHdhdGNoZXJzLmZvckVhY2goKHcpID0+IHcuc3RvcCgpKTtcbiAgfTtcbiAgcmV0dXJuIHN0b3A7XG59XG5cbmZ1bmN0aW9uIHN5bmNSZWZzKHNvdXJjZSwgdGFyZ2V0cywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBmbHVzaCA9IFwic3luY1wiLFxuICAgIGRlZXAgPSBmYWxzZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0YXJnZXRzQXJyYXkgPSB0b0FycmF5KHRhcmdldHMpO1xuICByZXR1cm4gd2F0Y2goXG4gICAgc291cmNlLFxuICAgIChuZXdWYWx1ZSkgPT4gdGFyZ2V0c0FycmF5LmZvckVhY2goKHRhcmdldCkgPT4gdGFyZ2V0LnZhbHVlID0gbmV3VmFsdWUpLFxuICAgIHsgZmx1c2gsIGRlZXAsIGltbWVkaWF0ZSB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIHRvUmVmcyhvYmplY3RSZWYsIG9wdGlvbnMgPSB7fSkge1xuICBpZiAoIWlzUmVmKG9iamVjdFJlZikpXG4gICAgcmV0dXJuIHRvUmVmcyQxKG9iamVjdFJlZik7XG4gIGNvbnN0IHJlc3VsdCA9IEFycmF5LmlzQXJyYXkob2JqZWN0UmVmLnZhbHVlKSA/IEFycmF5LmZyb20oeyBsZW5ndGg6IG9iamVjdFJlZi52YWx1ZS5sZW5ndGggfSkgOiB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0UmVmLnZhbHVlKSB7XG4gICAgcmVzdWx0W2tleV0gPSBjdXN0b21SZWYoKCkgPT4gKHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIG9iamVjdFJlZi52YWx1ZVtrZXldO1xuICAgICAgfSxcbiAgICAgIHNldCh2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmVwbGFjZVJlZiA9IChfYSA9IHRvVmFsdWUkMShvcHRpb25zLnJlcGxhY2VSZWYpKSAhPSBudWxsID8gX2EgOiB0cnVlO1xuICAgICAgICBpZiAocmVwbGFjZVJlZikge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdFJlZi52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvcHkgPSBbLi4ub2JqZWN0UmVmLnZhbHVlXTtcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IHY7XG4gICAgICAgICAgICBvYmplY3RSZWYudmFsdWUgPSBjb3B5O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXdPYmplY3QgPSB7IC4uLm9iamVjdFJlZi52YWx1ZSwgW2tleV06IHYgfTtcbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihuZXdPYmplY3QsIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3RSZWYudmFsdWUpKTtcbiAgICAgICAgICAgIG9iamVjdFJlZi52YWx1ZSA9IG5ld09iamVjdDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2JqZWN0UmVmLnZhbHVlW2tleV0gPSB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IHRvVmFsdWUgPSB0b1ZhbHVlJDE7XG5jb25zdCByZXNvbHZlVW5yZWYgPSB0b1ZhbHVlJDE7XG5cbmZ1bmN0aW9uIHRyeU9uQmVmb3JlTW91bnQoZm4sIHN5bmMgPSB0cnVlLCB0YXJnZXQpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRMaWZlQ3ljbGVUYXJnZXQodGFyZ2V0KTtcbiAgaWYgKGluc3RhbmNlKVxuICAgIG9uQmVmb3JlTW91bnQoZm4sIHRhcmdldCk7XG4gIGVsc2UgaWYgKHN5bmMpXG4gICAgZm4oKTtcbiAgZWxzZVxuICAgIG5leHRUaWNrKGZuKTtcbn1cblxuZnVuY3Rpb24gdHJ5T25CZWZvcmVVbm1vdW50KGZuLCB0YXJnZXQpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRMaWZlQ3ljbGVUYXJnZXQodGFyZ2V0KTtcbiAgaWYgKGluc3RhbmNlKVxuICAgIG9uQmVmb3JlVW5tb3VudChmbiwgdGFyZ2V0KTtcbn1cblxuZnVuY3Rpb24gdHJ5T25Nb3VudGVkKGZuLCBzeW5jID0gdHJ1ZSwgdGFyZ2V0KSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0TGlmZUN5Y2xlVGFyZ2V0KHRhcmdldCk7XG4gIGlmIChpbnN0YW5jZSlcbiAgICBvbk1vdW50ZWQoZm4sIHRhcmdldCk7XG4gIGVsc2UgaWYgKHN5bmMpXG4gICAgZm4oKTtcbiAgZWxzZVxuICAgIG5leHRUaWNrKGZuKTtcbn1cblxuZnVuY3Rpb24gdHJ5T25Vbm1vdW50ZWQoZm4sIHRhcmdldCkge1xuICBjb25zdCBpbnN0YW5jZSA9IGdldExpZmVDeWNsZVRhcmdldCh0YXJnZXQpO1xuICBpZiAoaW5zdGFuY2UpXG4gICAgb25Vbm1vdW50ZWQoZm4sIHRhcmdldCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVudGlsKHIsIGlzTm90ID0gZmFsc2UpIHtcbiAgZnVuY3Rpb24gdG9NYXRjaChjb25kaXRpb24sIHsgZmx1c2ggPSBcInN5bmNcIiwgZGVlcCA9IGZhbHNlLCB0aW1lb3V0LCB0aHJvd09uVGltZW91dCB9ID0ge30pIHtcbiAgICBsZXQgc3RvcCA9IG51bGw7XG4gICAgY29uc3Qgd2F0Y2hlciA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBzdG9wID0gd2F0Y2goXG4gICAgICAgIHIsXG4gICAgICAgICh2KSA9PiB7XG4gICAgICAgICAgaWYgKGNvbmRpdGlvbih2KSAhPT0gaXNOb3QpIHtcbiAgICAgICAgICAgIGlmIChzdG9wKVxuICAgICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHN0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IHN0b3AoKSk7XG4gICAgICAgICAgICByZXNvbHZlKHYpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGZsdXNoLFxuICAgICAgICAgIGRlZXAsXG4gICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbd2F0Y2hlcl07XG4gICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgcHJvbWlzZXMucHVzaChcbiAgICAgICAgcHJvbWlzZVRpbWVvdXQodGltZW91dCwgdGhyb3dPblRpbWVvdXQpLnRoZW4oKCkgPT4gdG9WYWx1ZSQxKHIpKS5maW5hbGx5KCgpID0+IHN0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IHN0b3AoKSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJhY2UocHJvbWlzZXMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQmUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWlzUmVmKHZhbHVlKSlcbiAgICAgIHJldHVybiB0b01hdGNoKCh2KSA9PiB2ID09PSB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgY29uc3QgeyBmbHVzaCA9IFwic3luY1wiLCBkZWVwID0gZmFsc2UsIHRpbWVvdXQsIHRocm93T25UaW1lb3V0IH0gPSBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zIDoge307XG4gICAgbGV0IHN0b3AgPSBudWxsO1xuICAgIGNvbnN0IHdhdGNoZXIgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc3RvcCA9IHdhdGNoKFxuICAgICAgICBbciwgdmFsdWVdLFxuICAgICAgICAoW3YxLCB2Ml0pID0+IHtcbiAgICAgICAgICBpZiAoaXNOb3QgIT09ICh2MSA9PT0gdjIpKSB7XG4gICAgICAgICAgICBpZiAoc3RvcClcbiAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBuZXh0VGljaygoKSA9PiBzdG9wID09IG51bGwgPyB2b2lkIDAgOiBzdG9wKCkpO1xuICAgICAgICAgICAgcmVzb2x2ZSh2MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZmx1c2gsXG4gICAgICAgICAgZGVlcCxcbiAgICAgICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBjb25zdCBwcm9taXNlcyA9IFt3YXRjaGVyXTtcbiAgICBpZiAodGltZW91dCAhPSBudWxsKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgICBwcm9taXNlVGltZW91dCh0aW1lb3V0LCB0aHJvd09uVGltZW91dCkudGhlbigoKSA9PiB0b1ZhbHVlJDEocikpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHN0b3AgPT0gbnVsbCA/IHZvaWQgMCA6IHN0b3AoKTtcbiAgICAgICAgICByZXR1cm4gdG9WYWx1ZSQxKHIpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShwcm9taXNlcyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9CZVRydXRoeShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRvTWF0Y2goKHYpID0+IEJvb2xlYW4odiksIG9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQmVOdWxsKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdG9CZShudWxsLCBvcHRpb25zKTtcbiAgfVxuICBmdW5jdGlvbiB0b0JlVW5kZWZpbmVkKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdG9CZSh2b2lkIDAsIG9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIHRvQmVOYU4ob3B0aW9ucykge1xuICAgIHJldHVybiB0b01hdGNoKE51bWJlci5pc05hTiwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gdG9Db250YWlucyh2YWx1ZSwgb3B0aW9ucykge1xuICAgIHJldHVybiB0b01hdGNoKCh2KSA9PiB7XG4gICAgICBjb25zdCBhcnJheSA9IEFycmF5LmZyb20odik7XG4gICAgICByZXR1cm4gYXJyYXkuaW5jbHVkZXModmFsdWUpIHx8IGFycmF5LmluY2x1ZGVzKHRvVmFsdWUkMSh2YWx1ZSkpO1xuICAgIH0sIG9wdGlvbnMpO1xuICB9XG4gIGZ1bmN0aW9uIGNoYW5nZWQob3B0aW9ucykge1xuICAgIHJldHVybiBjaGFuZ2VkVGltZXMoMSwgb3B0aW9ucyk7XG4gIH1cbiAgZnVuY3Rpb24gY2hhbmdlZFRpbWVzKG4gPSAxLCBvcHRpb25zKSB7XG4gICAgbGV0IGNvdW50ID0gLTE7XG4gICAgcmV0dXJuIHRvTWF0Y2goKCkgPT4ge1xuICAgICAgY291bnQgKz0gMTtcbiAgICAgIHJldHVybiBjb3VudCA+PSBuO1xuICAgIH0sIG9wdGlvbnMpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHRvVmFsdWUkMShyKSkpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IHtcbiAgICAgIHRvTWF0Y2gsXG4gICAgICB0b0NvbnRhaW5zLFxuICAgICAgY2hhbmdlZCxcbiAgICAgIGNoYW5nZWRUaW1lcyxcbiAgICAgIGdldCBub3QoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVVbnRpbChyLCAhaXNOb3QpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGluc3RhbmNlID0ge1xuICAgICAgdG9NYXRjaCxcbiAgICAgIHRvQmUsXG4gICAgICB0b0JlVHJ1dGh5LFxuICAgICAgdG9CZU51bGwsXG4gICAgICB0b0JlTmFOLFxuICAgICAgdG9CZVVuZGVmaW5lZCxcbiAgICAgIGNoYW5nZWQsXG4gICAgICBjaGFuZ2VkVGltZXMsXG4gICAgICBnZXQgbm90KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlVW50aWwociwgIWlzTm90KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxufVxuZnVuY3Rpb24gdW50aWwocikge1xuICByZXR1cm4gY3JlYXRlVW50aWwocik7XG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJhdG9yKHZhbHVlLCBvdGhWYWwpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhWYWw7XG59XG5mdW5jdGlvbiB1c2VBcnJheURpZmZlcmVuY2UoLi4uYXJncykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBsaXN0ID0gYXJnc1swXTtcbiAgY29uc3QgdmFsdWVzID0gYXJnc1sxXTtcbiAgbGV0IGNvbXBhcmVGbiA9IChfYSA9IGFyZ3NbMl0pICE9IG51bGwgPyBfYSA6IGRlZmF1bHRDb21wYXJhdG9yO1xuICBjb25zdCB7XG4gICAgc3ltbWV0cmljID0gZmFsc2VcbiAgfSA9IChfYiA9IGFyZ3NbM10pICE9IG51bGwgPyBfYiA6IHt9O1xuICBpZiAodHlwZW9mIGNvbXBhcmVGbiA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IGtleSA9IGNvbXBhcmVGbjtcbiAgICBjb21wYXJlRm4gPSAodmFsdWUsIG90aFZhbCkgPT4gdmFsdWVba2V5XSA9PT0gb3RoVmFsW2tleV07XG4gIH1cbiAgY29uc3QgZGlmZjEgPSBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlJDEobGlzdCkuZmlsdGVyKCh4KSA9PiB0b1ZhbHVlJDEodmFsdWVzKS5maW5kSW5kZXgoKHkpID0+IGNvbXBhcmVGbih4LCB5KSkgPT09IC0xKSk7XG4gIGlmIChzeW1tZXRyaWMpIHtcbiAgICBjb25zdCBkaWZmMiA9IGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMSh2YWx1ZXMpLmZpbHRlcigoeCkgPT4gdG9WYWx1ZSQxKGxpc3QpLmZpbmRJbmRleCgoeSkgPT4gY29tcGFyZUZuKHgsIHkpKSA9PT0gLTEpKTtcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gc3ltbWV0cmljID8gWy4uLnRvVmFsdWUkMShkaWZmMSksIC4uLnRvVmFsdWUkMShkaWZmMildIDogdG9WYWx1ZSQxKGRpZmYxKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRpZmYxO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5RXZlcnkobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShsaXN0KS5ldmVyeSgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbih0b1ZhbHVlJDEoZWxlbWVudCksIGluZGV4LCBhcnJheSkpKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlGaWx0ZXIobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShsaXN0KS5tYXAoKGkpID0+IHRvVmFsdWUkMShpKSkuZmlsdGVyKGZuKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5RmluZChsaXN0LCBmbikge1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZSQxKFxuICAgIHRvVmFsdWUkMShsaXN0KS5maW5kKChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHRvVmFsdWUkMShlbGVtZW50KSwgaW5kZXgsIGFycmF5KSlcbiAgKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5RmluZEluZGV4KGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlJDEobGlzdCkuZmluZEluZGV4KChlbGVtZW50LCBpbmRleCwgYXJyYXkpID0+IGZuKHRvVmFsdWUkMShlbGVtZW50KSwgaW5kZXgsIGFycmF5KSkpO1xufVxuXG5mdW5jdGlvbiBmaW5kTGFzdChhcnIsIGNiKSB7XG4gIGxldCBpbmRleCA9IGFyci5sZW5ndGg7XG4gIHdoaWxlIChpbmRleC0tID4gMCkge1xuICAgIGlmIChjYihhcnJbaW5kZXhdLCBpbmRleCwgYXJyKSlcbiAgICAgIHJldHVybiBhcnJbaW5kZXhdO1xuICB9XG4gIHJldHVybiB2b2lkIDA7XG59XG5mdW5jdGlvbiB1c2VBcnJheUZpbmRMYXN0KGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlJDEoXG4gICAgIUFycmF5LnByb3RvdHlwZS5maW5kTGFzdCA/IGZpbmRMYXN0KHRvVmFsdWUkMShsaXN0KSwgKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgPT4gZm4odG9WYWx1ZSQxKGVsZW1lbnQpLCBpbmRleCwgYXJyYXkpKSA6IHRvVmFsdWUkMShsaXN0KS5maW5kTGFzdCgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbih0b1ZhbHVlJDEoZWxlbWVudCksIGluZGV4LCBhcnJheSkpXG4gICkpO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5SW5jbHVkZXNPcHRpb25zKG9iaikge1xuICByZXR1cm4gaXNPYmplY3Qob2JqKSAmJiBjb250YWluc1Byb3Aob2JqLCBcImZvcm1JbmRleFwiLCBcImNvbXBhcmF0b3JcIik7XG59XG5mdW5jdGlvbiB1c2VBcnJheUluY2x1ZGVzKC4uLmFyZ3MpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBsaXN0ID0gYXJnc1swXTtcbiAgY29uc3QgdmFsdWUgPSBhcmdzWzFdO1xuICBsZXQgY29tcGFyYXRvciA9IGFyZ3NbMl07XG4gIGxldCBmb3JtSW5kZXggPSAwO1xuICBpZiAoaXNBcnJheUluY2x1ZGVzT3B0aW9ucyhjb21wYXJhdG9yKSkge1xuICAgIGZvcm1JbmRleCA9IChfYSA9IGNvbXBhcmF0b3IuZnJvbUluZGV4KSAhPSBudWxsID8gX2EgOiAwO1xuICAgIGNvbXBhcmF0b3IgPSBjb21wYXJhdG9yLmNvbXBhcmF0b3I7XG4gIH1cbiAgaWYgKHR5cGVvZiBjb21wYXJhdG9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3Qga2V5ID0gY29tcGFyYXRvcjtcbiAgICBjb21wYXJhdG9yID0gKGVsZW1lbnQsIHZhbHVlMikgPT4gZWxlbWVudFtrZXldID09PSB0b1ZhbHVlJDEodmFsdWUyKTtcbiAgfVxuICBjb21wYXJhdG9yID0gY29tcGFyYXRvciAhPSBudWxsID8gY29tcGFyYXRvciA6IChlbGVtZW50LCB2YWx1ZTIpID0+IGVsZW1lbnQgPT09IHRvVmFsdWUkMSh2YWx1ZTIpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZSQxKGxpc3QpLnNsaWNlKGZvcm1JbmRleCkuc29tZSgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBjb21wYXJhdG9yKFxuICAgIHRvVmFsdWUkMShlbGVtZW50KSxcbiAgICB0b1ZhbHVlJDEodmFsdWUpLFxuICAgIGluZGV4LFxuICAgIHRvVmFsdWUkMShhcnJheSlcbiAgKSkpO1xufVxuXG5mdW5jdGlvbiB1c2VBcnJheUpvaW4obGlzdCwgc2VwYXJhdG9yKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlJDEobGlzdCkubWFwKChpKSA9PiB0b1ZhbHVlJDEoaSkpLmpvaW4odG9WYWx1ZSQxKHNlcGFyYXRvcikpKTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlNYXAobGlzdCwgZm4pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHRvVmFsdWUkMShsaXN0KS5tYXAoKGkpID0+IHRvVmFsdWUkMShpKSkubWFwKGZuKSk7XG59XG5cbmZ1bmN0aW9uIHVzZUFycmF5UmVkdWNlKGxpc3QsIHJlZHVjZXIsIC4uLmFyZ3MpIHtcbiAgY29uc3QgcmVkdWNlQ2FsbGJhY2sgPSAoc3VtLCB2YWx1ZSwgaW5kZXgpID0+IHJlZHVjZXIodG9WYWx1ZSQxKHN1bSksIHRvVmFsdWUkMSh2YWx1ZSksIGluZGV4KTtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCByZXNvbHZlZCA9IHRvVmFsdWUkMShsaXN0KTtcbiAgICByZXR1cm4gYXJncy5sZW5ndGggPyByZXNvbHZlZC5yZWR1Y2UocmVkdWNlQ2FsbGJhY2ssIHR5cGVvZiBhcmdzWzBdID09PSBcImZ1bmN0aW9uXCIgPyB0b1ZhbHVlJDEoYXJnc1swXSgpKSA6IHRvVmFsdWUkMShhcmdzWzBdKSkgOiByZXNvbHZlZC5yZWR1Y2UocmVkdWNlQ2FsbGJhY2spO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlQXJyYXlTb21lKGxpc3QsIGZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlJDEobGlzdCkuc29tZSgoZWxlbWVudCwgaW5kZXgsIGFycmF5KSA9PiBmbih0b1ZhbHVlJDEoZWxlbWVudCksIGluZGV4LCBhcnJheSkpKTtcbn1cblxuZnVuY3Rpb24gdW5pcShhcnJheSkge1xuICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KGFycmF5KSk7XG59XG5mdW5jdGlvbiB1bmlxdWVFbGVtZW50c0J5KGFycmF5LCBmbikge1xuICByZXR1cm4gYXJyYXkucmVkdWNlKChhY2MsIHYpID0+IHtcbiAgICBpZiAoIWFjYy5zb21lKCh4KSA9PiBmbih2LCB4LCBhcnJheSkpKVxuICAgICAgYWNjLnB1c2godik7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xufVxuZnVuY3Rpb24gdXNlQXJyYXlVbmlxdWUobGlzdCwgY29tcGFyZUZuKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZWRMaXN0ID0gdG9WYWx1ZSQxKGxpc3QpLm1hcCgoZWxlbWVudCkgPT4gdG9WYWx1ZSQxKGVsZW1lbnQpKTtcbiAgICByZXR1cm4gY29tcGFyZUZuID8gdW5pcXVlRWxlbWVudHNCeShyZXNvbHZlZExpc3QsIGNvbXBhcmVGbikgOiB1bmlxKHJlc29sdmVkTGlzdCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VDb3VudGVyKGluaXRpYWxWYWx1ZSA9IDAsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgX2luaXRpYWxWYWx1ZSA9IHVucmVmKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IGNvdW50ID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCB7XG4gICAgbWF4ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIG1pbiA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaW5jID0gKGRlbHRhID0gMSkgPT4gY291bnQudmFsdWUgPSBNYXRoLm1heChNYXRoLm1pbihtYXgsIGNvdW50LnZhbHVlICsgZGVsdGEpLCBtaW4pO1xuICBjb25zdCBkZWMgPSAoZGVsdGEgPSAxKSA9PiBjb3VudC52YWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KG1pbiwgY291bnQudmFsdWUgLSBkZWx0YSksIG1heCk7XG4gIGNvbnN0IGdldCA9ICgpID0+IGNvdW50LnZhbHVlO1xuICBjb25zdCBzZXQgPSAodmFsKSA9PiBjb3VudC52YWx1ZSA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWwpKTtcbiAgY29uc3QgcmVzZXQgPSAodmFsID0gX2luaXRpYWxWYWx1ZSkgPT4ge1xuICAgIF9pbml0aWFsVmFsdWUgPSB2YWw7XG4gICAgcmV0dXJuIHNldCh2YWwpO1xuICB9O1xuICByZXR1cm4geyBjb3VudDogc2hhbGxvd1JlYWRvbmx5KGNvdW50KSwgaW5jLCBkZWMsIGdldCwgc2V0LCByZXNldCB9O1xufVxuXG5jb25zdCBSRUdFWF9QQVJTRSA9IC9eKFxcZHs0fSlbLS9dPyhcXGR7MSwyfSk/Wy0vXT8oXFxkezAsMn0pW1RcXHNdKihcXGR7MSwyfSk/Oj8oXFxkezEsMn0pPzo/KFxcZHsxLDJ9KT9bLjpdPyhcXGQrKT8kL2k7XG5jb25zdCBSRUdFWF9GT1JNQVQgPSAvW1lNREhobXNdb3xcXFsoW15cXF1dKylcXF18WXsxLDR9fE17MSw0fXxEezEsMn18ZHsxLDR9fEh7MSwyfXxoezEsMn18YXsxLDJ9fEF7MSwyfXxtezEsMn18c3sxLDJ9fFp7MSwyfXx6ezEsNH18U1NTL2c7XG5mdW5jdGlvbiBkZWZhdWx0TWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXJjYXNlLCBoYXNQZXJpb2QpIHtcbiAgbGV0IG0gPSBob3VycyA8IDEyID8gXCJBTVwiIDogXCJQTVwiO1xuICBpZiAoaGFzUGVyaW9kKVxuICAgIG0gPSBtLnNwbGl0KFwiXCIpLnJlZHVjZSgoYWNjLCBjdXJyKSA9PiBhY2MgKz0gYCR7Y3Vycn0uYCwgXCJcIik7XG4gIHJldHVybiBpc0xvd2VyY2FzZSA/IG0udG9Mb3dlckNhc2UoKSA6IG07XG59XG5mdW5jdGlvbiBmb3JtYXRPcmRpbmFsKG51bSkge1xuICBjb25zdCBzdWZmaXhlcyA9IFtcInRoXCIsIFwic3RcIiwgXCJuZFwiLCBcInJkXCJdO1xuICBjb25zdCB2ID0gbnVtICUgMTAwO1xuICByZXR1cm4gbnVtICsgKHN1ZmZpeGVzWyh2IC0gMjApICUgMTBdIHx8IHN1ZmZpeGVzW3ZdIHx8IHN1ZmZpeGVzWzBdKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZSwgZm9ybWF0U3RyLCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hO1xuICBjb25zdCB5ZWFycyA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gIGNvbnN0IGRheXMgPSBkYXRlLmdldERhdGUoKTtcbiAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XG4gIGNvbnN0IG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgY29uc3Qgc2Vjb25kcyA9IGRhdGUuZ2V0U2Vjb25kcygpO1xuICBjb25zdCBtaWxsaXNlY29uZHMgPSBkYXRlLmdldE1pbGxpc2Vjb25kcygpO1xuICBjb25zdCBkYXkgPSBkYXRlLmdldERheSgpO1xuICBjb25zdCBtZXJpZGllbSA9IChfYSA9IG9wdGlvbnMuY3VzdG9tTWVyaWRpZW0pICE9IG51bGwgPyBfYSA6IGRlZmF1bHRNZXJpZGllbTtcbiAgY29uc3Qgc3RyaXBUaW1lWm9uZSA9IChkYXRlU3RyaW5nKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICByZXR1cm4gKF9hMiA9IGRhdGVTdHJpbmcuc3BsaXQoXCIgXCIpWzFdKSAhPSBudWxsID8gX2EyIDogXCJcIjtcbiAgfTtcbiAgY29uc3QgbWF0Y2hlcyA9IHtcbiAgICBZbzogKCkgPT4gZm9ybWF0T3JkaW5hbCh5ZWFycyksXG4gICAgWVk6ICgpID0+IFN0cmluZyh5ZWFycykuc2xpY2UoLTIpLFxuICAgIFlZWVk6ICgpID0+IHllYXJzLFxuICAgIE06ICgpID0+IG1vbnRoICsgMSxcbiAgICBNbzogKCkgPT4gZm9ybWF0T3JkaW5hbChtb250aCArIDEpLFxuICAgIE1NOiAoKSA9PiBgJHttb250aCArIDF9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgTU1NOiAoKSA9PiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0b1ZhbHVlJDEob3B0aW9ucy5sb2NhbGVzKSwgeyBtb250aDogXCJzaG9ydFwiIH0pLFxuICAgIE1NTU06ICgpID0+IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKHRvVmFsdWUkMShvcHRpb25zLmxvY2FsZXMpLCB7IG1vbnRoOiBcImxvbmdcIiB9KSxcbiAgICBEOiAoKSA9PiBTdHJpbmcoZGF5cyksXG4gICAgRG86ICgpID0+IGZvcm1hdE9yZGluYWwoZGF5cyksXG4gICAgREQ6ICgpID0+IGAke2RheXN9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgSDogKCkgPT4gU3RyaW5nKGhvdXJzKSxcbiAgICBIbzogKCkgPT4gZm9ybWF0T3JkaW5hbChob3VycyksXG4gICAgSEg6ICgpID0+IGAke2hvdXJzfWAucGFkU3RhcnQoMiwgXCIwXCIpLFxuICAgIGg6ICgpID0+IGAke2hvdXJzICUgMTIgfHwgMTJ9YC5wYWRTdGFydCgxLCBcIjBcIiksXG4gICAgaG86ICgpID0+IGZvcm1hdE9yZGluYWwoaG91cnMgJSAxMiB8fCAxMiksXG4gICAgaGg6ICgpID0+IGAke2hvdXJzICUgMTIgfHwgMTJ9YC5wYWRTdGFydCgyLCBcIjBcIiksXG4gICAgbTogKCkgPT4gU3RyaW5nKG1pbnV0ZXMpLFxuICAgIG1vOiAoKSA9PiBmb3JtYXRPcmRpbmFsKG1pbnV0ZXMpLFxuICAgIG1tOiAoKSA9PiBgJHttaW51dGVzfWAucGFkU3RhcnQoMiwgXCIwXCIpLFxuICAgIHM6ICgpID0+IFN0cmluZyhzZWNvbmRzKSxcbiAgICBzbzogKCkgPT4gZm9ybWF0T3JkaW5hbChzZWNvbmRzKSxcbiAgICBzczogKCkgPT4gYCR7c2Vjb25kc31gLnBhZFN0YXJ0KDIsIFwiMFwiKSxcbiAgICBTU1M6ICgpID0+IGAke21pbGxpc2Vjb25kc31gLnBhZFN0YXJ0KDMsIFwiMFwiKSxcbiAgICBkOiAoKSA9PiBkYXksXG4gICAgZGQ6ICgpID0+IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKHRvVmFsdWUkMShvcHRpb25zLmxvY2FsZXMpLCB7IHdlZWtkYXk6IFwibmFycm93XCIgfSksXG4gICAgZGRkOiAoKSA9PiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh0b1ZhbHVlJDEob3B0aW9ucy5sb2NhbGVzKSwgeyB3ZWVrZGF5OiBcInNob3J0XCIgfSksXG4gICAgZGRkZDogKCkgPT4gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodG9WYWx1ZSQxKG9wdGlvbnMubG9jYWxlcyksIHsgd2Vla2RheTogXCJsb25nXCIgfSksXG4gICAgQTogKCkgPT4gbWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMpLFxuICAgIEFBOiAoKSA9PiBtZXJpZGllbShob3VycywgbWludXRlcywgZmFsc2UsIHRydWUpLFxuICAgIGE6ICgpID0+IG1lcmlkaWVtKGhvdXJzLCBtaW51dGVzLCB0cnVlKSxcbiAgICBhYTogKCkgPT4gbWVyaWRpZW0oaG91cnMsIG1pbnV0ZXMsIHRydWUsIHRydWUpLFxuICAgIHo6ICgpID0+IHN0cmlwVGltZVpvbmUoZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodG9WYWx1ZSQxKG9wdGlvbnMubG9jYWxlcyksIHsgdGltZVpvbmVOYW1lOiBcInNob3J0T2Zmc2V0XCIgfSkpLFxuICAgIHp6OiAoKSA9PiBzdHJpcFRpbWVab25lKGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKHRvVmFsdWUkMShvcHRpb25zLmxvY2FsZXMpLCB7IHRpbWVab25lTmFtZTogXCJzaG9ydE9mZnNldFwiIH0pKSxcbiAgICB6eno6ICgpID0+IHN0cmlwVGltZVpvbmUoZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodG9WYWx1ZSQxKG9wdGlvbnMubG9jYWxlcyksIHsgdGltZVpvbmVOYW1lOiBcInNob3J0T2Zmc2V0XCIgfSkpLFxuICAgIHp6eno6ICgpID0+IHN0cmlwVGltZVpvbmUoZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcodG9WYWx1ZSQxKG9wdGlvbnMubG9jYWxlcyksIHsgdGltZVpvbmVOYW1lOiBcImxvbmdPZmZzZXRcIiB9KSlcbiAgfTtcbiAgcmV0dXJuIGZvcm1hdFN0ci5yZXBsYWNlKFJFR0VYX0ZPUk1BVCwgKG1hdGNoLCAkMSkgPT4ge1xuICAgIHZhciBfYTIsIF9iO1xuICAgIHJldHVybiAoX2IgPSAkMSAhPSBudWxsID8gJDEgOiAoX2EyID0gbWF0Y2hlc1ttYXRjaF0pID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChtYXRjaGVzKSkgIT0gbnVsbCA/IF9iIDogbWF0Y2g7XG4gIH0pO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplRGF0ZShkYXRlKSB7XG4gIGlmIChkYXRlID09PSBudWxsKVxuICAgIHJldHVybiBuZXcgRGF0ZShOdW1iZXIuTmFOKTtcbiAgaWYgKGRhdGUgPT09IHZvaWQgMClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7XG4gIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSlcbiAgICByZXR1cm4gbmV3IERhdGUoZGF0ZSk7XG4gIGlmICh0eXBlb2YgZGF0ZSA9PT0gXCJzdHJpbmdcIiAmJiAhL1okL2kudGVzdChkYXRlKSkge1xuICAgIGNvbnN0IGQgPSBkYXRlLm1hdGNoKFJFR0VYX1BBUlNFKTtcbiAgICBpZiAoZCkge1xuICAgICAgY29uc3QgbSA9IGRbMl0gLSAxIHx8IDA7XG4gICAgICBjb25zdCBtcyA9IChkWzddIHx8IFwiMFwiKS5zdWJzdHJpbmcoMCwgMyk7XG4gICAgICByZXR1cm4gbmV3IERhdGUoZFsxXSwgbSwgZFszXSB8fCAxLCBkWzRdIHx8IDAsIGRbNV0gfHwgMCwgZFs2XSB8fCAwLCBtcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRGF0ZShkYXRlKTtcbn1cbmZ1bmN0aW9uIHVzZURhdGVGb3JtYXQoZGF0ZSwgZm9ybWF0U3RyID0gXCJISDptbTpzc1wiLCBvcHRpb25zID0ge30pIHtcbiAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IGZvcm1hdERhdGUobm9ybWFsaXplRGF0ZSh0b1ZhbHVlJDEoZGF0ZSkpLCB0b1ZhbHVlJDEoZm9ybWF0U3RyKSwgb3B0aW9ucykpO1xufVxuXG5mdW5jdGlvbiB1c2VJbnRlcnZhbEZuKGNiLCBpbnRlcnZhbCA9IDFlMywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGltbWVkaWF0ZUNhbGxiYWNrID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGxldCB0aW1lciA9IG51bGw7XG4gIGNvbnN0IGlzQWN0aXZlID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGZ1bmN0aW9uIGNsZWFuKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gICAgY2xlYW4oKTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgY29uc3QgaW50ZXJ2YWxWYWx1ZSA9IHRvVmFsdWUkMShpbnRlcnZhbCk7XG4gICAgaWYgKGludGVydmFsVmFsdWUgPD0gMClcbiAgICAgIHJldHVybjtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gICAgaWYgKGltbWVkaWF0ZUNhbGxiYWNrKVxuICAgICAgY2IoKTtcbiAgICBjbGVhbigpO1xuICAgIGlmIChpc0FjdGl2ZS52YWx1ZSlcbiAgICAgIHRpbWVyID0gc2V0SW50ZXJ2YWwoY2IsIGludGVydmFsVmFsdWUpO1xuICB9XG4gIGlmIChpbW1lZGlhdGUgJiYgaXNDbGllbnQpXG4gICAgcmVzdW1lKCk7XG4gIGlmIChpc1JlZihpbnRlcnZhbCkgfHwgdHlwZW9mIGludGVydmFsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25zdCBzdG9wV2F0Y2ggPSB3YXRjaChpbnRlcnZhbCwgKCkgPT4ge1xuICAgICAgaWYgKGlzQWN0aXZlLnZhbHVlICYmIGlzQ2xpZW50KVxuICAgICAgICByZXN1bWUoKTtcbiAgICB9KTtcbiAgICB0cnlPblNjb3BlRGlzcG9zZShzdG9wV2F0Y2gpO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHBhdXNlKTtcbiAgcmV0dXJuIHtcbiAgICBpc0FjdGl2ZTogc2hhbGxvd1JlYWRvbmx5KGlzQWN0aXZlKSxcbiAgICBwYXVzZSxcbiAgICByZXN1bWVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlSW50ZXJ2YWwoaW50ZXJ2YWwgPSAxZTMsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY29udHJvbHM6IGV4cG9zZUNvbnRyb2xzID0gZmFsc2UsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBjYWxsYmFja1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY291bnRlciA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHVwZGF0ZSA9ICgpID0+IGNvdW50ZXIudmFsdWUgKz0gMTtcbiAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgY291bnRlci52YWx1ZSA9IDA7XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xzID0gdXNlSW50ZXJ2YWxGbihcbiAgICBjYWxsYmFjayA/ICgpID0+IHtcbiAgICAgIHVwZGF0ZSgpO1xuICAgICAgY2FsbGJhY2soY291bnRlci52YWx1ZSk7XG4gICAgfSA6IHVwZGF0ZSxcbiAgICBpbnRlcnZhbCxcbiAgICB7IGltbWVkaWF0ZSB9XG4gICk7XG4gIGlmIChleHBvc2VDb250cm9scykge1xuICAgIHJldHVybiB7XG4gICAgICBjb3VudGVyOiBzaGFsbG93UmVhZG9ubHkoY291bnRlciksXG4gICAgICByZXNldCxcbiAgICAgIC4uLmNvbnRyb2xzXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KGNvdW50ZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUxhc3RDaGFuZ2VkKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbXMgPSBzaGFsbG93UmVmKChfYSA9IG9wdGlvbnMuaW5pdGlhbFZhbHVlKSAhPSBudWxsID8gX2EgOiBudWxsKTtcbiAgd2F0Y2goXG4gICAgc291cmNlLFxuICAgICgpID0+IG1zLnZhbHVlID0gdGltZXN0YW1wKCksXG4gICAgb3B0aW9uc1xuICApO1xuICByZXR1cm4gc2hhbGxvd1JlYWRvbmx5KG1zKTtcbn1cblxuZnVuY3Rpb24gdXNlVGltZW91dEZuKGNiLCBpbnRlcnZhbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGltbWVkaWF0ZUNhbGxiYWNrID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzUGVuZGluZyA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBsZXQgdGltZXI7XG4gIGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIGlzUGVuZGluZy52YWx1ZSA9IGZhbHNlO1xuICAgIGNsZWFyKCk7XG4gIH1cbiAgZnVuY3Rpb24gc3RhcnQoLi4uYXJncykge1xuICAgIGlmIChpbW1lZGlhdGVDYWxsYmFjaylcbiAgICAgIGNiKCk7XG4gICAgY2xlYXIoKTtcbiAgICBpc1BlbmRpbmcudmFsdWUgPSB0cnVlO1xuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpc1BlbmRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgIHRpbWVyID0gdm9pZCAwO1xuICAgICAgY2IoLi4uYXJncyk7XG4gICAgfSwgdG9WYWx1ZSQxKGludGVydmFsKSk7XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSkge1xuICAgIGlzUGVuZGluZy52YWx1ZSA9IHRydWU7XG4gICAgaWYgKGlzQ2xpZW50KVxuICAgICAgc3RhcnQoKTtcbiAgfVxuICB0cnlPblNjb3BlRGlzcG9zZShzdG9wKTtcbiAgcmV0dXJuIHtcbiAgICBpc1BlbmRpbmc6IHNoYWxsb3dSZWFkb25seShpc1BlbmRpbmcpLFxuICAgIHN0YXJ0LFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlVGltZW91dChpbnRlcnZhbCA9IDFlMywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBjYWxsYmFja1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY29udHJvbHMgPSB1c2VUaW1lb3V0Rm4oXG4gICAgY2FsbGJhY2sgIT0gbnVsbCA/IGNhbGxiYWNrIDogbm9vcCxcbiAgICBpbnRlcnZhbCxcbiAgICBvcHRpb25zXG4gICk7XG4gIGNvbnN0IHJlYWR5ID0gY29tcHV0ZWQoKCkgPT4gIWNvbnRyb2xzLmlzUGVuZGluZy52YWx1ZSk7XG4gIGlmIChleHBvc2VDb250cm9scykge1xuICAgIHJldHVybiB7XG4gICAgICByZWFkeSxcbiAgICAgIC4uLmNvbnRyb2xzXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVhZHk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdXNlVG9OdW1iZXIodmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbWV0aG9kID0gXCJwYXJzZUZsb2F0XCIsXG4gICAgcmFkaXgsXG4gICAgbmFuVG9aZXJvXG4gIH0gPSBvcHRpb25zO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGxldCByZXNvbHZlZCA9IHRvVmFsdWUkMSh2YWx1ZSk7XG4gICAgaWYgKHR5cGVvZiBtZXRob2QgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIHJlc29sdmVkID0gbWV0aG9kKHJlc29sdmVkKTtcbiAgICBlbHNlIGlmICh0eXBlb2YgcmVzb2x2ZWQgPT09IFwic3RyaW5nXCIpXG4gICAgICByZXNvbHZlZCA9IE51bWJlclttZXRob2RdKHJlc29sdmVkLCByYWRpeCk7XG4gICAgaWYgKG5hblRvWmVybyAmJiBOdW1iZXIuaXNOYU4ocmVzb2x2ZWQpKVxuICAgICAgcmVzb2x2ZWQgPSAwO1xuICAgIHJldHVybiByZXNvbHZlZDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiBgJHt0b1ZhbHVlJDEodmFsdWUpfWApO1xufVxuXG5mdW5jdGlvbiB1c2VUb2dnbGUoaW5pdGlhbFZhbHVlID0gZmFsc2UsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdHJ1dGh5VmFsdWUgPSB0cnVlLFxuICAgIGZhbHN5VmFsdWUgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgdmFsdWVJc1JlZiA9IGlzUmVmKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IF92YWx1ZSA9IHNoYWxsb3dSZWYoaW5pdGlhbFZhbHVlKTtcbiAgZnVuY3Rpb24gdG9nZ2xlKHZhbHVlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIF92YWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIF92YWx1ZS52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdHJ1dGh5ID0gdG9WYWx1ZSQxKHRydXRoeVZhbHVlKTtcbiAgICAgIF92YWx1ZS52YWx1ZSA9IF92YWx1ZS52YWx1ZSA9PT0gdHJ1dGh5ID8gdG9WYWx1ZSQxKGZhbHN5VmFsdWUpIDogdHJ1dGh5O1xuICAgICAgcmV0dXJuIF92YWx1ZS52YWx1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKHZhbHVlSXNSZWYpXG4gICAgcmV0dXJuIHRvZ2dsZTtcbiAgZWxzZVxuICAgIHJldHVybiBbX3ZhbHVlLCB0b2dnbGVdO1xufVxuXG5mdW5jdGlvbiB3YXRjaEFycmF5KHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgbGV0IG9sZExpc3QgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbW1lZGlhdGUpID8gW10gOiBbLi4udHlwZW9mIHNvdXJjZSA9PT0gXCJmdW5jdGlvblwiID8gc291cmNlKCkgOiBBcnJheS5pc0FycmF5KHNvdXJjZSkgPyBzb3VyY2UgOiB0b1ZhbHVlJDEoc291cmNlKV07XG4gIHJldHVybiB3YXRjaChzb3VyY2UsIChuZXdMaXN0LCBfLCBvbkNsZWFudXApID0+IHtcbiAgICBjb25zdCBvbGRMaXN0UmVtYWlucyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IG9sZExpc3QubGVuZ3RoIH0pO1xuICAgIGNvbnN0IGFkZGVkID0gW107XG4gICAgZm9yIChjb25zdCBvYmogb2YgbmV3TGlzdCkge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZExpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCFvbGRMaXN0UmVtYWluc1tpXSAmJiBvYmogPT09IG9sZExpc3RbaV0pIHtcbiAgICAgICAgICBvbGRMaXN0UmVtYWluc1tpXSA9IHRydWU7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWZvdW5kKVxuICAgICAgICBhZGRlZC5wdXNoKG9iaik7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZWQgPSBvbGRMaXN0LmZpbHRlcigoXzIsIGkpID0+ICFvbGRMaXN0UmVtYWluc1tpXSk7XG4gICAgY2IobmV3TGlzdCwgb2xkTGlzdCwgYWRkZWQsIHJlbW92ZWQsIG9uQ2xlYW51cCk7XG4gICAgb2xkTGlzdCA9IFsuLi5uZXdMaXN0XTtcbiAgfSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHdhdGNoQXRNb3N0KHNvdXJjZSwgY2IsIG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGNvdW50LFxuICAgIC4uLndhdGNoT3B0aW9uc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY3VycmVudCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHN0b3AgPSB3YXRjaFdpdGhGaWx0ZXIoXG4gICAgc291cmNlLFxuICAgICguLi5hcmdzKSA9PiB7XG4gICAgICBjdXJyZW50LnZhbHVlICs9IDE7XG4gICAgICBpZiAoY3VycmVudC52YWx1ZSA+PSB0b1ZhbHVlJDEoY291bnQpKVxuICAgICAgICBuZXh0VGljaygoKSA9PiBzdG9wKCkpO1xuICAgICAgY2IoLi4uYXJncyk7XG4gICAgfSxcbiAgICB3YXRjaE9wdGlvbnNcbiAgKTtcbiAgcmV0dXJuIHsgY291bnQ6IGN1cnJlbnQsIHN0b3AgfTtcbn1cblxuZnVuY3Rpb24gd2F0Y2hEZWJvdW5jZWQoc291cmNlLCBjYiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkZWJvdW5jZSA9IDAsXG4gICAgbWF4V2FpdCA9IHZvaWQgMCxcbiAgICAuLi53YXRjaE9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIHJldHVybiB3YXRjaFdpdGhGaWx0ZXIoXG4gICAgc291cmNlLFxuICAgIGNiLFxuICAgIHtcbiAgICAgIC4uLndhdGNoT3B0aW9ucyxcbiAgICAgIGV2ZW50RmlsdGVyOiBkZWJvdW5jZUZpbHRlcihkZWJvdW5jZSwgeyBtYXhXYWl0IH0pXG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiB3YXRjaERlZXAoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICByZXR1cm4gd2F0Y2goXG4gICAgc291cmNlLFxuICAgIGNiLFxuICAgIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBkZWVwOiB0cnVlXG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiB3YXRjaElnbm9yYWJsZShzb3VyY2UsIGNiLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGV2ZW50RmlsdGVyID0gYnlwYXNzRmlsdGVyLFxuICAgIC4uLndhdGNoT3B0aW9uc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZmlsdGVyZWRDYiA9IGNyZWF0ZUZpbHRlcldyYXBwZXIoXG4gICAgZXZlbnRGaWx0ZXIsXG4gICAgY2JcbiAgKTtcbiAgbGV0IGlnbm9yZVVwZGF0ZXM7XG4gIGxldCBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzO1xuICBsZXQgc3RvcDtcbiAgaWYgKHdhdGNoT3B0aW9ucy5mbHVzaCA9PT0gXCJzeW5jXCIpIHtcbiAgICBsZXQgaWdub3JlID0gZmFsc2U7XG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcyA9ICgpID0+IHtcbiAgICB9O1xuICAgIGlnbm9yZVVwZGF0ZXMgPSAodXBkYXRlcikgPT4ge1xuICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICAgIHVwZGF0ZXIoKTtcbiAgICAgIGlnbm9yZSA9IGZhbHNlO1xuICAgIH07XG4gICAgc3RvcCA9IHdhdGNoKFxuICAgICAgc291cmNlLFxuICAgICAgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKCFpZ25vcmUpXG4gICAgICAgICAgZmlsdGVyZWRDYiguLi5hcmdzKTtcbiAgICAgIH0sXG4gICAgICB3YXRjaE9wdGlvbnNcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRpc3Bvc2FibGVzID0gW107XG4gICAgbGV0IGlnbm9yZUNvdW50ZXIgPSAwO1xuICAgIGxldCBzeW5jQ291bnRlciA9IDA7XG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcyA9ICgpID0+IHtcbiAgICAgIGlnbm9yZUNvdW50ZXIgPSBzeW5jQ291bnRlcjtcbiAgICB9O1xuICAgIGRpc3Bvc2FibGVzLnB1c2goXG4gICAgICB3YXRjaChcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgc3luY0NvdW50ZXIrKztcbiAgICAgICAgfSxcbiAgICAgICAgeyAuLi53YXRjaE9wdGlvbnMsIGZsdXNoOiBcInN5bmNcIiB9XG4gICAgICApXG4gICAgKTtcbiAgICBpZ25vcmVVcGRhdGVzID0gKHVwZGF0ZXIpID0+IHtcbiAgICAgIGNvbnN0IHN5bmNDb3VudGVyUHJldiA9IHN5bmNDb3VudGVyO1xuICAgICAgdXBkYXRlcigpO1xuICAgICAgaWdub3JlQ291bnRlciArPSBzeW5jQ291bnRlciAtIHN5bmNDb3VudGVyUHJldjtcbiAgICB9O1xuICAgIGRpc3Bvc2FibGVzLnB1c2goXG4gICAgICB3YXRjaChcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIGNvbnN0IGlnbm9yZSA9IGlnbm9yZUNvdW50ZXIgPiAwICYmIGlnbm9yZUNvdW50ZXIgPT09IHN5bmNDb3VudGVyO1xuICAgICAgICAgIGlnbm9yZUNvdW50ZXIgPSAwO1xuICAgICAgICAgIHN5bmNDb3VudGVyID0gMDtcbiAgICAgICAgICBpZiAoaWdub3JlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGZpbHRlcmVkQ2IoLi4uYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIHdhdGNoT3B0aW9uc1xuICAgICAgKVxuICAgICk7XG4gICAgc3RvcCA9ICgpID0+IHtcbiAgICAgIGRpc3Bvc2FibGVzLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiB7IHN0b3AsIGlnbm9yZVVwZGF0ZXMsIGlnbm9yZVByZXZBc3luY1VwZGF0ZXMgfTtcbn1cblxuZnVuY3Rpb24gd2F0Y2hJbW1lZGlhdGUoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICByZXR1cm4gd2F0Y2goXG4gICAgc291cmNlLFxuICAgIGNiLFxuICAgIHtcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgICBpbW1lZGlhdGU6IHRydWVcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIHdhdGNoT25jZShzb3VyY2UsIGNiLCBvcHRpb25zKSB7XG4gIHJldHVybiB3YXRjaChcbiAgICBzb3VyY2UsXG4gICAgY2IsXG4gICAge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIG9uY2U6IHRydWVcbiAgICB9XG4gICk7XG59XG5cbmZ1bmN0aW9uIHdhdGNoVGhyb3R0bGVkKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGhyb3R0bGUgPSAwLFxuICAgIHRyYWlsaW5nID0gdHJ1ZSxcbiAgICBsZWFkaW5nID0gdHJ1ZSxcbiAgICAuLi53YXRjaE9wdGlvbnNcbiAgfSA9IG9wdGlvbnM7XG4gIHJldHVybiB3YXRjaFdpdGhGaWx0ZXIoXG4gICAgc291cmNlLFxuICAgIGNiLFxuICAgIHtcbiAgICAgIC4uLndhdGNoT3B0aW9ucyxcbiAgICAgIGV2ZW50RmlsdGVyOiB0aHJvdHRsZUZpbHRlcih0aHJvdHRsZSwgdHJhaWxpbmcsIGxlYWRpbmcpXG4gICAgfVxuICApO1xufVxuXG5mdW5jdGlvbiB3YXRjaFRyaWdnZXJhYmxlKHNvdXJjZSwgY2IsIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgY2xlYW51cEZuO1xuICBmdW5jdGlvbiBvbkVmZmVjdCgpIHtcbiAgICBpZiAoIWNsZWFudXBGbilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBmbiA9IGNsZWFudXBGbjtcbiAgICBjbGVhbnVwRm4gPSB2b2lkIDA7XG4gICAgZm4oKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNsZWFudXAoY2FsbGJhY2spIHtcbiAgICBjbGVhbnVwRm4gPSBjYWxsYmFjaztcbiAgfVxuICBjb25zdCBfY2IgPSAodmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgb25FZmZlY3QoKTtcbiAgICByZXR1cm4gY2IodmFsdWUsIG9sZFZhbHVlLCBvbkNsZWFudXApO1xuICB9O1xuICBjb25zdCByZXMgPSB3YXRjaElnbm9yYWJsZShzb3VyY2UsIF9jYiwgb3B0aW9ucyk7XG4gIGNvbnN0IHsgaWdub3JlVXBkYXRlcyB9ID0gcmVzO1xuICBjb25zdCB0cmlnZ2VyID0gKCkgPT4ge1xuICAgIGxldCByZXMyO1xuICAgIGlnbm9yZVVwZGF0ZXMoKCkgPT4ge1xuICAgICAgcmVzMiA9IF9jYihnZXRXYXRjaFNvdXJjZXMoc291cmNlKSwgZ2V0T2xkVmFsdWUoc291cmNlKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlczI7XG4gIH07XG4gIHJldHVybiB7XG4gICAgLi4ucmVzLFxuICAgIHRyaWdnZXJcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFdhdGNoU291cmNlcyhzb3VyY2VzKSB7XG4gIGlmIChpc1JlYWN0aXZlKHNvdXJjZXMpKVxuICAgIHJldHVybiBzb3VyY2VzO1xuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VzKSlcbiAgICByZXR1cm4gc291cmNlcy5tYXAoKGl0ZW0pID0+IHRvVmFsdWUkMShpdGVtKSk7XG4gIHJldHVybiB0b1ZhbHVlJDEoc291cmNlcyk7XG59XG5mdW5jdGlvbiBnZXRPbGRWYWx1ZShzb3VyY2UpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoc291cmNlKSA/IHNvdXJjZS5tYXAoKCkgPT4gdm9pZCAwKSA6IHZvaWQgMDtcbn1cblxuZnVuY3Rpb24gd2hlbmV2ZXIoc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBjb25zdCBzdG9wID0gd2F0Y2goXG4gICAgc291cmNlLFxuICAgICh2LCBvdiwgb25JbnZhbGlkYXRlKSA9PiB7XG4gICAgICBpZiAodikge1xuICAgICAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vbmNlKVxuICAgICAgICAgIG5leHRUaWNrKCgpID0+IHN0b3AoKSk7XG4gICAgICAgIGNiKHYsIG92LCBvbkludmFsaWRhdGUpO1xuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIG9uY2U6IGZhbHNlXG4gICAgfVxuICApO1xuICByZXR1cm4gc3RvcDtcbn1cblxuZXhwb3J0IHsgYXNzZXJ0LCByZWZBdXRvUmVzZXQgYXMgYXV0b1Jlc2V0UmVmLCBieXBhc3NGaWx0ZXIsIGNhbWVsaXplLCBjbGFtcCwgY29tcHV0ZWRFYWdlciwgY29tcHV0ZWRXaXRoQ29udHJvbCwgY29udGFpbnNQcm9wLCBjb21wdXRlZFdpdGhDb250cm9sIGFzIGNvbnRyb2xsZWRDb21wdXRlZCwgY29udHJvbGxlZFJlZiwgY3JlYXRlRXZlbnRIb29rLCBjcmVhdGVGaWx0ZXJXcmFwcGVyLCBjcmVhdGVHbG9iYWxTdGF0ZSwgY3JlYXRlSW5qZWN0aW9uU3RhdGUsIHJlYWN0aWZ5IGFzIGNyZWF0ZVJlYWN0aXZlRm4sIGNyZWF0ZVJlZiwgY3JlYXRlU2hhcmVkQ29tcG9zYWJsZSwgY3JlYXRlU2luZ2xldG9uUHJvbWlzZSwgZGVib3VuY2VGaWx0ZXIsIHJlZkRlYm91bmNlZCBhcyBkZWJvdW5jZWRSZWYsIHdhdGNoRGVib3VuY2VkIGFzIGRlYm91bmNlZFdhdGNoLCBjb21wdXRlZEVhZ2VyIGFzIGVhZ2VyQ29tcHV0ZWQsIGV4dGVuZFJlZiwgZm9ybWF0RGF0ZSwgZ2V0LCBnZXRMaWZlQ3ljbGVUYXJnZXQsIGhhc093biwgaHlwaGVuYXRlLCBpZGVudGl0eSwgd2F0Y2hJZ25vcmFibGUgYXMgaWdub3JhYmxlV2F0Y2gsIGluY3JlYXNlV2l0aFVuaXQsIGluamVjdExvY2FsLCBpbnZva2UsIGlzQ2xpZW50LCBpc0RlZiwgaXNEZWZpbmVkLCBpc0lPUywgaXNPYmplY3QsIGlzV29ya2VyLCBtYWtlRGVzdHJ1Y3R1cmFibGUsIG5vb3AsIG5vcm1hbGl6ZURhdGUsIG5vdE51bGxpc2gsIG5vdywgb2JqZWN0RW50cmllcywgb2JqZWN0T21pdCwgb2JqZWN0UGljaywgcGF1c2FibGVGaWx0ZXIsIHdhdGNoUGF1c2FibGUgYXMgcGF1c2FibGVXYXRjaCwgcHJvbWlzZVRpbWVvdXQsIHByb3ZpZGVMb2NhbCwgcHhWYWx1ZSwgcmFuZCwgcmVhY3RpZnksIHJlYWN0aWZ5T2JqZWN0LCByZWFjdGl2ZUNvbXB1dGVkLCByZWFjdGl2ZU9taXQsIHJlYWN0aXZlUGljaywgcmVmQXV0b1Jlc2V0LCByZWZEZWJvdW5jZWQsIHJlZkRlZmF1bHQsIHJlZlRocm90dGxlZCwgcmVmV2l0aENvbnRyb2wsIHJlc29sdmVSZWYsIHJlc29sdmVVbnJlZiwgc2V0LCBzeW5jUmVmLCBzeW5jUmVmcywgdGhyb3R0bGVGaWx0ZXIsIHJlZlRocm90dGxlZCBhcyB0aHJvdHRsZWRSZWYsIHdhdGNoVGhyb3R0bGVkIGFzIHRocm90dGxlZFdhdGNoLCB0aW1lc3RhbXAsIHRvQXJyYXksIHRvUmVhY3RpdmUsIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyeU9uQmVmb3JlTW91bnQsIHRyeU9uQmVmb3JlVW5tb3VudCwgdHJ5T25Nb3VudGVkLCB0cnlPblNjb3BlRGlzcG9zZSwgdHJ5T25Vbm1vdW50ZWQsIHVudGlsLCB1c2VBcnJheURpZmZlcmVuY2UsIHVzZUFycmF5RXZlcnksIHVzZUFycmF5RmlsdGVyLCB1c2VBcnJheUZpbmQsIHVzZUFycmF5RmluZEluZGV4LCB1c2VBcnJheUZpbmRMYXN0LCB1c2VBcnJheUluY2x1ZGVzLCB1c2VBcnJheUpvaW4sIHVzZUFycmF5TWFwLCB1c2VBcnJheVJlZHVjZSwgdXNlQXJyYXlTb21lLCB1c2VBcnJheVVuaXF1ZSwgdXNlQ291bnRlciwgdXNlRGF0ZUZvcm1hdCwgcmVmRGVib3VuY2VkIGFzIHVzZURlYm91bmNlLCB1c2VEZWJvdW5jZUZuLCB1c2VJbnRlcnZhbCwgdXNlSW50ZXJ2YWxGbiwgdXNlTGFzdENoYW5nZWQsIHJlZlRocm90dGxlZCBhcyB1c2VUaHJvdHRsZSwgdXNlVGhyb3R0bGVGbiwgdXNlVGltZW91dCwgdXNlVGltZW91dEZuLCB1c2VUb051bWJlciwgdXNlVG9TdHJpbmcsIHVzZVRvZ2dsZSwgd2F0Y2hBcnJheSwgd2F0Y2hBdE1vc3QsIHdhdGNoRGVib3VuY2VkLCB3YXRjaERlZXAsIHdhdGNoSWdub3JhYmxlLCB3YXRjaEltbWVkaWF0ZSwgd2F0Y2hPbmNlLCB3YXRjaFBhdXNhYmxlLCB3YXRjaFRocm90dGxlZCwgd2F0Y2hUcmlnZ2VyYWJsZSwgd2F0Y2hXaXRoRmlsdGVyLCB3aGVuZXZlciB9O1xuIiwiaW1wb3J0IHsgbm9vcCwgbWFrZURlc3RydWN0dXJhYmxlLCBjYW1lbGl6ZSwgaXNDbGllbnQsIHRvQXJyYXksIHdhdGNoSW1tZWRpYXRlLCBpc09iamVjdCwgdHJ5T25TY29wZURpc3Bvc2UsIGlzSU9TLCBub3ROdWxsaXNoLCB0cnlPbk1vdW50ZWQsIG9iamVjdE9taXQsIHByb21pc2VUaW1lb3V0LCB1bnRpbCwgaW5qZWN0TG9jYWwsIHByb3ZpZGVMb2NhbCwgcHhWYWx1ZSwgaW5jcmVhc2VXaXRoVW5pdCwgb2JqZWN0RW50cmllcywgY3JlYXRlUmVmLCBjcmVhdGVTaW5nbGV0b25Qcm9taXNlLCB1c2VUaW1lb3V0Rm4sIHBhdXNhYmxlV2F0Y2gsIHRvUmVmLCBjcmVhdGVFdmVudEhvb2ssIHVzZUludGVydmFsRm4sIGNvbXB1dGVkV2l0aENvbnRyb2wsIHRpbWVzdGFtcCwgcGF1c2FibGVGaWx0ZXIsIHdhdGNoSWdub3JhYmxlLCBkZWJvdW5jZUZpbHRlciwgYnlwYXNzRmlsdGVyLCBjcmVhdGVGaWx0ZXJXcmFwcGVyLCB0b1JlZnMsIHdhdGNoT25jZSwgY29udGFpbnNQcm9wLCBoYXNPd24sIHRocm90dGxlRmlsdGVyLCB1c2VEZWJvdW5jZUZuLCB1c2VUaHJvdHRsZUZuLCB0cnlPblVubW91bnRlZCwgY2xhbXAsIHN5bmNSZWYsIG9iamVjdFBpY2ssIHdhdGNoV2l0aEZpbHRlciwgaWRlbnRpdHksIGlzRGVmLCB3aGVuZXZlciwgaXNXb3JrZXIgfSBmcm9tICdAdnVldXNlL3NoYXJlZCc7XG5leHBvcnQgKiBmcm9tICdAdnVldXNlL3NoYXJlZCc7XG5pbXBvcnQgeyBpc1JlZiwgc2hhbGxvd1JlZiwgcmVmLCB3YXRjaEVmZmVjdCwgY29tcHV0ZWQsIGluamVjdCwgZGVmaW5lQ29tcG9uZW50LCBoLCBUcmFuc2l0aW9uR3JvdXAsIEZyYWdtZW50LCBzaGFsbG93UmVhY3RpdmUsIHRvVmFsdWUsIHVucmVmLCBnZXRDdXJyZW50SW5zdGFuY2UsIG9uTW91bnRlZCwgd2F0Y2gsIGN1c3RvbVJlZiwgb25VcGRhdGVkLCByZWFkb25seSwgcmVhY3RpdmUsIGhhc0luamVjdGlvbkNvbnRleHQsIHRvUmF3LCBuZXh0VGljaywgbWFya1JhdywgZ2V0Q3VycmVudFNjb3BlLCBpc1JlYWRvbmx5LCBvbkJlZm9yZVVwZGF0ZSB9IGZyb20gJ3Z1ZSc7XG5cbmZ1bmN0aW9uIGNvbXB1dGVkQXN5bmMoZXZhbHVhdGlvbkNhbGxiYWNrLCBpbml0aWFsU3RhdGUsIG9wdGlvbnNPclJlZikge1xuICBsZXQgb3B0aW9ucztcbiAgaWYgKGlzUmVmKG9wdGlvbnNPclJlZikpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgZXZhbHVhdGluZzogb3B0aW9uc09yUmVmXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gb3B0aW9uc09yUmVmIHx8IHt9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsYXp5ID0gZmFsc2UsXG4gICAgZmx1c2ggPSBcInByZVwiLFxuICAgIGV2YWx1YXRpbmcgPSB2b2lkIDAsXG4gICAgc2hhbGxvdyA9IHRydWUsXG4gICAgb25FcnJvciA9IG5vb3BcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHN0YXJ0ZWQgPSBzaGFsbG93UmVmKCFsYXp5KTtcbiAgY29uc3QgY3VycmVudCA9IHNoYWxsb3cgPyBzaGFsbG93UmVmKGluaXRpYWxTdGF0ZSkgOiByZWYoaW5pdGlhbFN0YXRlKTtcbiAgbGV0IGNvdW50ZXIgPSAwO1xuICB3YXRjaEVmZmVjdChhc3luYyAob25JbnZhbGlkYXRlKSA9PiB7XG4gICAgaWYgKCFzdGFydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvdW50ZXIrKztcbiAgICBjb25zdCBjb3VudGVyQXRCZWdpbm5pbmcgPSBjb3VudGVyO1xuICAgIGxldCBoYXNGaW5pc2hlZCA9IGZhbHNlO1xuICAgIGlmIChldmFsdWF0aW5nKSB7XG4gICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgZXZhbHVhdGluZy52YWx1ZSA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV2YWx1YXRpb25DYWxsYmFjaygoY2FuY2VsQ2FsbGJhY2spID0+IHtcbiAgICAgICAgb25JbnZhbGlkYXRlKCgpID0+IHtcbiAgICAgICAgICBpZiAoZXZhbHVhdGluZylcbiAgICAgICAgICAgIGV2YWx1YXRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoIWhhc0ZpbmlzaGVkKVxuICAgICAgICAgICAgY2FuY2VsQ2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChjb3VudGVyQXRCZWdpbm5pbmcgPT09IGNvdW50ZXIpXG4gICAgICAgIGN1cnJlbnQudmFsdWUgPSByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGV2YWx1YXRpbmcgJiYgY291bnRlckF0QmVnaW5uaW5nID09PSBjb3VudGVyKVxuICAgICAgICBldmFsdWF0aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICBoYXNGaW5pc2hlZCA9IHRydWU7XG4gICAgfVxuICB9LCB7IGZsdXNoIH0pO1xuICBpZiAobGF6eSkge1xuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgICBzdGFydGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBjdXJyZW50LnZhbHVlO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVkSW5qZWN0KGtleSwgb3B0aW9ucywgZGVmYXVsdFNvdXJjZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5KSB7XG4gIGxldCBzb3VyY2UgPSBpbmplY3Qoa2V5KTtcbiAgaWYgKGRlZmF1bHRTb3VyY2UpXG4gICAgc291cmNlID0gaW5qZWN0KGtleSwgZGVmYXVsdFNvdXJjZSk7XG4gIGlmICh0cmVhdERlZmF1bHRBc0ZhY3RvcnkpXG4gICAgc291cmNlID0gaW5qZWN0KGtleSwgZGVmYXVsdFNvdXJjZSwgdHJlYXREZWZhdWx0QXNGYWN0b3J5KTtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoKGN0eCkgPT4gb3B0aW9ucyhzb3VyY2UsIGN0eCkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBjb21wdXRlZCh7XG4gICAgICBnZXQ6IChjdHgpID0+IG9wdGlvbnMuZ2V0KHNvdXJjZSwgY3R4KSxcbiAgICAgIHNldDogb3B0aW9ucy5zZXRcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVSZXVzYWJsZVRlbXBsYXRlKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW5oZXJpdEF0dHJzID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcmVuZGVyID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBkZWZpbmUgPSAvKkBfX1BVUkVfXyovIGRlZmluZUNvbXBvbmVudCh7XG4gICAgc2V0dXAoXywgeyBzbG90cyB9KSB7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZW5kZXIudmFsdWUgPSBzbG90cy5kZWZhdWx0O1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCByZXVzZSA9IC8qQF9fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBpbmhlcml0QXR0cnMsXG4gICAgcHJvcHM6IG9wdGlvbnMucHJvcHMsXG4gICAgc2V0dXAocHJvcHMsIHsgYXR0cnMsIHNsb3RzIH0pIHtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFyZW5kZXIudmFsdWUgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltWdWVVc2VdIEZhaWxlZCB0byBmaW5kIHRoZSBkZWZpbml0aW9uIG9mIHJldXNhYmxlIHRlbXBsYXRlXCIpO1xuICAgICAgICBjb25zdCB2bm9kZSA9IChfYSA9IHJlbmRlci52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7XG4gICAgICAgICAgLi4ub3B0aW9ucy5wcm9wcyA9PSBudWxsID8ga2V5c1RvQ2FtZWxLZWJhYkNhc2UoYXR0cnMpIDogcHJvcHMsXG4gICAgICAgICAgJHNsb3RzOiBzbG90c1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGluaGVyaXRBdHRycyAmJiAodm5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IHZub2RlLmxlbmd0aCkgPT09IDEgPyB2bm9kZVswXSA6IHZub2RlO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWFrZURlc3RydWN0dXJhYmxlKFxuICAgIHsgZGVmaW5lLCByZXVzZSB9LFxuICAgIFtkZWZpbmUsIHJldXNlXVxuICApO1xufVxuZnVuY3Rpb24ga2V5c1RvQ2FtZWxLZWJhYkNhc2Uob2JqKSB7XG4gIGNvbnN0IG5ld09iaiA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopXG4gICAgbmV3T2JqW2NhbWVsaXplKGtleSldID0gb2JqW2tleV07XG4gIHJldHVybiBuZXdPYmo7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRlUHJvbWlzZShvcHRpb25zID0ge30pIHtcbiAgbGV0IGluZGV4ID0gMDtcbiAgY29uc3QgaW5zdGFuY2VzID0gcmVmKFtdKTtcbiAgZnVuY3Rpb24gY3JlYXRlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBwcm9wcyA9IHNoYWxsb3dSZWFjdGl2ZSh7XG4gICAgICBrZXk6IGluZGV4KyssXG4gICAgICBhcmdzLFxuICAgICAgcHJvbWlzZTogdm9pZCAwLFxuICAgICAgcmVzb2x2ZTogKCkgPT4ge1xuICAgICAgfSxcbiAgICAgIHJlamVjdDogKCkgPT4ge1xuICAgICAgfSxcbiAgICAgIGlzUmVzb2x2aW5nOiBmYWxzZSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgICBpbnN0YW5jZXMudmFsdWUucHVzaChwcm9wcyk7XG4gICAgcHJvcHMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChfcmVzb2x2ZSwgX3JlamVjdCkgPT4ge1xuICAgICAgcHJvcHMucmVzb2x2ZSA9ICh2KSA9PiB7XG4gICAgICAgIHByb3BzLmlzUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIF9yZXNvbHZlKHYpO1xuICAgICAgfTtcbiAgICAgIHByb3BzLnJlamVjdCA9IF9yZWplY3Q7XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICBwcm9wcy5wcm9taXNlID0gdm9pZCAwO1xuICAgICAgY29uc3QgaW5kZXgyID0gaW5zdGFuY2VzLnZhbHVlLmluZGV4T2YocHJvcHMpO1xuICAgICAgaWYgKGluZGV4MiAhPT0gLTEpXG4gICAgICAgIGluc3RhbmNlcy52YWx1ZS5zcGxpY2UoaW5kZXgyLCAxKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcHJvcHMucHJvbWlzZTtcbiAgfVxuICBmdW5jdGlvbiBzdGFydCguLi5hcmdzKSB7XG4gICAgaWYgKG9wdGlvbnMuc2luZ2xldG9uICYmIGluc3RhbmNlcy52YWx1ZS5sZW5ndGggPiAwKVxuICAgICAgcmV0dXJuIGluc3RhbmNlcy52YWx1ZVswXS5wcm9taXNlO1xuICAgIHJldHVybiBjcmVhdGUoLi4uYXJncyk7XG4gIH1cbiAgY29uc3QgY29tcG9uZW50ID0gLypAX19QVVJFX18qLyBkZWZpbmVDb21wb25lbnQoKF8sIHsgc2xvdHMgfSkgPT4ge1xuICAgIGNvbnN0IHJlbmRlckxpc3QgPSAoKSA9PiBpbnN0YW5jZXMudmFsdWUubWFwKChwcm9wcykgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgcmV0dXJuIGgoRnJhZ21lbnQsIHsga2V5OiBwcm9wcy5rZXkgfSwgKF9hID0gc2xvdHMuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoc2xvdHMsIHByb3BzKSk7XG4gICAgfSk7XG4gICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbilcbiAgICAgIHJldHVybiAoKSA9PiBoKFRyYW5zaXRpb25Hcm91cCwgb3B0aW9ucy50cmFuc2l0aW9uLCByZW5kZXJMaXN0KTtcbiAgICByZXR1cm4gcmVuZGVyTGlzdDtcbiAgfSk7XG4gIGNvbXBvbmVudC5zdGFydCA9IHN0YXJ0O1xuICByZXR1cm4gY29tcG9uZW50O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVbnJlZkZuKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3MubWFwKChpKSA9PiB0b1ZhbHVlKGkpKSk7XG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRXaW5kb3cgPSBpc0NsaWVudCA/IHdpbmRvdyA6IHZvaWQgMDtcbmNvbnN0IGRlZmF1bHREb2N1bWVudCA9IGlzQ2xpZW50ID8gd2luZG93LmRvY3VtZW50IDogdm9pZCAwO1xuY29uc3QgZGVmYXVsdE5hdmlnYXRvciA9IGlzQ2xpZW50ID8gd2luZG93Lm5hdmlnYXRvciA6IHZvaWQgMDtcbmNvbnN0IGRlZmF1bHRMb2NhdGlvbiA9IGlzQ2xpZW50ID8gd2luZG93LmxvY2F0aW9uIDogdm9pZCAwO1xuXG5mdW5jdGlvbiB1bnJlZkVsZW1lbnQoZWxSZWYpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBwbGFpbiA9IHRvVmFsdWUoZWxSZWYpO1xuICByZXR1cm4gKF9hID0gcGxhaW4gPT0gbnVsbCA/IHZvaWQgMCA6IHBsYWluLiRlbCkgIT0gbnVsbCA/IF9hIDogcGxhaW47XG59XG5cbmZ1bmN0aW9uIHVzZUV2ZW50TGlzdGVuZXIoLi4uYXJncykge1xuICBjb25zdCBjbGVhbnVwcyA9IFtdO1xuICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgICBjbGVhbnVwcy5sZW5ndGggPSAwO1xuICB9O1xuICBjb25zdCByZWdpc3RlciA9IChlbCwgZXZlbnQsIGxpc3RlbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gIH07XG4gIGNvbnN0IGZpcnN0UGFyYW1UYXJnZXRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IHRlc3QgPSB0b0FycmF5KHRvVmFsdWUoYXJnc1swXSkpLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKTtcbiAgICByZXR1cm4gdGVzdC5ldmVyeSgoZSkgPT4gdHlwZW9mIGUgIT09IFwic3RyaW5nXCIpID8gdGVzdCA6IHZvaWQgMDtcbiAgfSk7XG4gIGNvbnN0IHN0b3BXYXRjaCA9IHdhdGNoSW1tZWRpYXRlKFxuICAgICgpID0+IHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAoX2IgPSAoX2EgPSBmaXJzdFBhcmFtVGFyZ2V0cy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1hcCgoZSkgPT4gdW5yZWZFbGVtZW50KGUpKSkgIT0gbnVsbCA/IF9iIDogW2RlZmF1bHRXaW5kb3ddLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKSxcbiAgICAgICAgdG9BcnJheSh0b1ZhbHVlKGZpcnN0UGFyYW1UYXJnZXRzLnZhbHVlID8gYXJnc1sxXSA6IGFyZ3NbMF0pKSxcbiAgICAgICAgdG9BcnJheSh1bnJlZihmaXJzdFBhcmFtVGFyZ2V0cy52YWx1ZSA/IGFyZ3NbMl0gOiBhcmdzWzFdKSksXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBUeXBlU2NyaXB0IGdldHMgdGhlIGNvcnJlY3QgdHlwZXMsIGJ1dCBzb21laG93IHN0aWxsIGNvbXBsYWluc1xuICAgICAgICB0b1ZhbHVlKGZpcnN0UGFyYW1UYXJnZXRzLnZhbHVlID8gYXJnc1szXSA6IGFyZ3NbMl0pXG4gICAgICBdO1xuICAgIH0sXG4gICAgKFtyYXdfdGFyZ2V0cywgcmF3X2V2ZW50cywgcmF3X2xpc3RlbmVycywgcmF3X29wdGlvbnNdKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBpZiAoIShyYXdfdGFyZ2V0cyA9PSBudWxsID8gdm9pZCAwIDogcmF3X3RhcmdldHMubGVuZ3RoKSB8fCAhKHJhd19ldmVudHMgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd19ldmVudHMubGVuZ3RoKSB8fCAhKHJhd19saXN0ZW5lcnMgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd19saXN0ZW5lcnMubGVuZ3RoKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3Qgb3B0aW9uc0Nsb25lID0gaXNPYmplY3QocmF3X29wdGlvbnMpID8geyAuLi5yYXdfb3B0aW9ucyB9IDogcmF3X29wdGlvbnM7XG4gICAgICBjbGVhbnVwcy5wdXNoKFxuICAgICAgICAuLi5yYXdfdGFyZ2V0cy5mbGF0TWFwKFxuICAgICAgICAgIChlbCkgPT4gcmF3X2V2ZW50cy5mbGF0TWFwKFxuICAgICAgICAgICAgKGV2ZW50KSA9PiByYXdfbGlzdGVuZXJzLm1hcCgobGlzdGVuZXIpID0+IHJlZ2lzdGVyKGVsLCBldmVudCwgbGlzdGVuZXIsIG9wdGlvbnNDbG9uZSkpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG4gICAgeyBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN0b3BXYXRjaCgpO1xuICAgIGNsZWFudXAoKTtcbiAgfTtcbiAgdHJ5T25TY29wZURpc3Bvc2UoY2xlYW51cCk7XG4gIHJldHVybiBzdG9wO1xufVxuXG5sZXQgX2lPU1dvcmthcm91bmQgPSBmYWxzZTtcbmZ1bmN0aW9uIG9uQ2xpY2tPdXRzaWRlKHRhcmdldCwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgaWdub3JlID0gW10sIGNhcHR1cmUgPSB0cnVlLCBkZXRlY3RJZnJhbWUgPSBmYWxzZSwgY29udHJvbHMgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpIHtcbiAgICByZXR1cm4gY29udHJvbHMgPyB7IHN0b3A6IG5vb3AsIGNhbmNlbDogbm9vcCwgdHJpZ2dlcjogbm9vcCB9IDogbm9vcDtcbiAgfVxuICBpZiAoaXNJT1MgJiYgIV9pT1NXb3JrYXJvdW5kKSB7XG4gICAgX2lPU1dvcmthcm91bmQgPSB0cnVlO1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIEFycmF5LmZyb20od2luZG93LmRvY3VtZW50LmJvZHkuY2hpbGRyZW4pLmZvckVhY2goKGVsKSA9PiBlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbm9vcCwgbGlzdGVuZXJPcHRpb25zKSk7XG4gICAgd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgbm9vcCwgbGlzdGVuZXJPcHRpb25zKTtcbiAgfVxuICBsZXQgc2hvdWxkTGlzdGVuID0gdHJ1ZTtcbiAgY29uc3Qgc2hvdWxkSWdub3JlID0gKGV2ZW50KSA9PiB7XG4gICAgcmV0dXJuIHRvVmFsdWUoaWdub3JlKS5zb21lKCh0YXJnZXQyKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRhcmdldDIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20od2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFyZ2V0MikpLnNvbWUoKGVsKSA9PiBlbCA9PT0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGVsKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQyKTtcbiAgICAgICAgcmV0dXJuIGVsICYmIChldmVudC50YXJnZXQgPT09IGVsIHx8IGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGVsKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZ1bmN0aW9uIGhhc011bHRpcGxlUm9vdHModGFyZ2V0Mikge1xuICAgIGNvbnN0IHZtID0gdG9WYWx1ZSh0YXJnZXQyKTtcbiAgICByZXR1cm4gdm0gJiYgdm0uJC5zdWJUcmVlLnNoYXBlRmxhZyA9PT0gMTY7XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tNdWx0aXBsZVJvb3RzKHRhcmdldDIsIGV2ZW50KSB7XG4gICAgY29uc3Qgdm0gPSB0b1ZhbHVlKHRhcmdldDIpO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdm0uJC5zdWJUcmVlICYmIHZtLiQuc3ViVHJlZS5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4gPT0gbnVsbCB8fCAhQXJyYXkuaXNBcnJheShjaGlsZHJlbikpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGNoaWxkcmVuLnNvbWUoKGNoaWxkKSA9PiBjaGlsZC5lbCA9PT0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGNoaWxkLmVsKSk7XG4gIH1cbiAgY29uc3QgbGlzdGVuZXIgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgIGlmIChldmVudC50YXJnZXQgPT0gbnVsbClcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIShlbCBpbnN0YW5jZW9mIEVsZW1lbnQpICYmIGhhc011bHRpcGxlUm9vdHModGFyZ2V0KSAmJiBjaGVja011bHRpcGxlUm9vdHModGFyZ2V0LCBldmVudCkpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFlbCB8fCBlbCA9PT0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LmNvbXBvc2VkUGF0aCgpLmluY2x1ZGVzKGVsKSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoXCJkZXRhaWxcIiBpbiBldmVudCAmJiBldmVudC5kZXRhaWwgPT09IDApXG4gICAgICBzaG91bGRMaXN0ZW4gPSAhc2hvdWxkSWdub3JlKGV2ZW50KTtcbiAgICBpZiAoIXNob3VsZExpc3Rlbikge1xuICAgICAgc2hvdWxkTGlzdGVuID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaGFuZGxlcihldmVudCk7XG4gIH07XG4gIGxldCBpc1Byb2Nlc3NpbmdDbGljayA9IGZhbHNlO1xuICBjb25zdCBjbGVhbnVwID0gW1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImNsaWNrXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKCFpc1Byb2Nlc3NpbmdDbGljaykge1xuICAgICAgICBpc1Byb2Nlc3NpbmdDbGljayA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlzUHJvY2Vzc2luZ0NsaWNrID0gZmFsc2U7XG4gICAgICAgIH0sIDApO1xuICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICB9XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlLCBjYXB0dXJlIH0pLFxuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInBvaW50ZXJkb3duXCIsIChlKSA9PiB7XG4gICAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgICAgc2hvdWxkTGlzdGVuID0gIXNob3VsZElnbm9yZShlKSAmJiAhIShlbCAmJiAhZS5jb21wb3NlZFBhdGgoKS5pbmNsdWRlcyhlbCkpO1xuICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KSxcbiAgICBkZXRlY3RJZnJhbWUgJiYgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiYmx1clwiLCAoZXZlbnQpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGVsID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgICAgIGlmICgoKF9hID0gd2luZG93LmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50YWdOYW1lKSA9PT0gXCJJRlJBTUVcIiAmJiAhKGVsID09IG51bGwgPyB2b2lkIDAgOiBlbC5jb250YWlucyh3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpKSB7XG4gICAgICAgICAgaGFuZGxlcihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDApO1xuICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KVxuICBdLmZpbHRlcihCb29sZWFuKTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IGNsZWFudXAuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICBpZiAoY29udHJvbHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RvcCxcbiAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICBzaG91bGRMaXN0ZW4gPSBmYWxzZTtcbiAgICAgIH0sXG4gICAgICB0cmlnZ2VyOiAoZXZlbnQpID0+IHtcbiAgICAgICAgc2hvdWxkTGlzdGVuID0gdHJ1ZTtcbiAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICBzaG91bGRMaXN0ZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiBzdG9wO1xufVxuXG5mdW5jdGlvbiB1c2VNb3VudGVkKCkge1xuICBjb25zdCBpc01vdW50ZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgb25Nb3VudGVkKCgpID0+IHtcbiAgICAgIGlzTW91bnRlZC52YWx1ZSA9IHRydWU7XG4gICAgfSwgaW5zdGFuY2UpO1xuICB9XG4gIHJldHVybiBpc01vdW50ZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZVN1cHBvcnRlZChjYWxsYmFjaykge1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VNb3VudGVkKCk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaXNNb3VudGVkLnZhbHVlO1xuICAgIHJldHVybiBCb29sZWFuKGNhbGxiYWNrKCkpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlTXV0YXRpb25PYnNlcnZlcih0YXJnZXQsIGNhbGxiYWNrLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93LCAuLi5tdXRhdGlvbk9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gIGxldCBvYnNlcnZlcjtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwiTXV0YXRpb25PYnNlcnZlclwiIGluIHdpbmRvdyk7XG4gIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgaWYgKG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICBvYnNlcnZlciA9IHZvaWQgMDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRhcmdldHMgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgY29uc3QgaXRlbXMgPSB0b0FycmF5KHZhbHVlKS5tYXAodW5yZWZFbGVtZW50KS5maWx0ZXIobm90TnVsbGlzaCk7XG4gICAgcmV0dXJuIG5ldyBTZXQoaXRlbXMpO1xuICB9KTtcbiAgY29uc3Qgc3RvcFdhdGNoID0gd2F0Y2goXG4gICAgKCkgPT4gdGFyZ2V0cy52YWx1ZSxcbiAgICAodGFyZ2V0czIpID0+IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSAmJiB0YXJnZXRzMi5zaXplKSB7XG4gICAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spO1xuICAgICAgICB0YXJnZXRzMi5mb3JFYWNoKChlbCkgPT4gb2JzZXJ2ZXIub2JzZXJ2ZShlbCwgbXV0YXRpb25PcHRpb25zKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7IGltbWVkaWF0ZTogdHJ1ZSwgZmx1c2g6IFwicG9zdFwiIH1cbiAgKTtcbiAgY29uc3QgdGFrZVJlY29yZHMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG9ic2VydmVyID09IG51bGwgPyB2b2lkIDAgOiBvYnNlcnZlci50YWtlUmVjb3JkcygpO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHN0b3BXYXRjaCgpO1xuICAgIGNsZWFudXAoKTtcbiAgfTtcbiAgdHJ5T25TY29wZURpc3Bvc2Uoc3RvcCk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgc3RvcCxcbiAgICB0YWtlUmVjb3Jkc1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbkVsZW1lbnRSZW1vdmFsKHRhcmdldCwgY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBkb2N1bWVudCA9IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmRvY3VtZW50LFxuICAgIGZsdXNoID0gXCJzeW5jXCJcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICghd2luZG93IHx8ICFkb2N1bWVudClcbiAgICByZXR1cm4gbm9vcDtcbiAgbGV0IHN0b3BGbjtcbiAgY29uc3QgY2xlYW51cEFuZFVwZGF0ZSA9IChmbikgPT4ge1xuICAgIHN0b3BGbiA9PSBudWxsID8gdm9pZCAwIDogc3RvcEZuKCk7XG4gICAgc3RvcEZuID0gZm47XG4gIH07XG4gIGNvbnN0IHN0b3BXYXRjaCA9IHdhdGNoRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgIGlmIChlbCkge1xuICAgICAgY29uc3QgeyBzdG9wIH0gPSB1c2VNdXRhdGlvbk9ic2VydmVyKFxuICAgICAgICBkb2N1bWVudCxcbiAgICAgICAgKG11dGF0aW9uc0xpc3QpID0+IHtcbiAgICAgICAgICBjb25zdCB0YXJnZXRSZW1vdmVkID0gbXV0YXRpb25zTGlzdC5tYXAoKG11dGF0aW9uKSA9PiBbLi4ubXV0YXRpb24ucmVtb3ZlZE5vZGVzXSkuZmxhdCgpLnNvbWUoKG5vZGUpID0+IG5vZGUgPT09IGVsIHx8IG5vZGUuY29udGFpbnMoZWwpKTtcbiAgICAgICAgICBpZiAodGFyZ2V0UmVtb3ZlZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sobXV0YXRpb25zTGlzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgd2luZG93LFxuICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjbGVhbnVwQW5kVXBkYXRlKHN0b3ApO1xuICAgIH1cbiAgfSwgeyBmbHVzaCB9KTtcbiAgY29uc3Qgc3RvcEhhbmRsZSA9ICgpID0+IHtcbiAgICBzdG9wV2F0Y2goKTtcbiAgICBjbGVhbnVwQW5kVXBkYXRlKCk7XG4gIH07XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHN0b3BIYW5kbGUpO1xuICByZXR1cm4gc3RvcEhhbmRsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5UHJlZGljYXRlKGtleUZpbHRlcikge1xuICBpZiAodHlwZW9mIGtleUZpbHRlciA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBrZXlGaWx0ZXI7XG4gIGVsc2UgaWYgKHR5cGVvZiBrZXlGaWx0ZXIgPT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIChldmVudCkgPT4gZXZlbnQua2V5ID09PSBrZXlGaWx0ZXI7XG4gIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoa2V5RmlsdGVyKSlcbiAgICByZXR1cm4gKGV2ZW50KSA9PiBrZXlGaWx0ZXIuaW5jbHVkZXMoZXZlbnQua2V5KTtcbiAgcmV0dXJuICgpID0+IHRydWU7XG59XG5mdW5jdGlvbiBvbktleVN0cm9rZSguLi5hcmdzKSB7XG4gIGxldCBrZXk7XG4gIGxldCBoYW5kbGVyO1xuICBsZXQgb3B0aW9ucyA9IHt9O1xuICBpZiAoYXJncy5sZW5ndGggPT09IDMpIHtcbiAgICBrZXkgPSBhcmdzWzBdO1xuICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuICAgIG9wdGlvbnMgPSBhcmdzWzJdO1xuICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBrZXkgPSB0cnVlO1xuICAgICAgaGFuZGxlciA9IGFyZ3NbMF07XG4gICAgICBvcHRpb25zID0gYXJnc1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gYXJnc1swXTtcbiAgICAgIGhhbmRsZXIgPSBhcmdzWzFdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBrZXkgPSB0cnVlO1xuICAgIGhhbmRsZXIgPSBhcmdzWzBdO1xuICB9XG4gIGNvbnN0IHtcbiAgICB0YXJnZXQgPSBkZWZhdWx0V2luZG93LFxuICAgIGV2ZW50TmFtZSA9IFwia2V5ZG93blwiLFxuICAgIHBhc3NpdmUgPSBmYWxzZSxcbiAgICBkZWR1cGUgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcHJlZGljYXRlID0gY3JlYXRlS2V5UHJlZGljYXRlKGtleSk7XG4gIGNvbnN0IGxpc3RlbmVyID0gKGUpID0+IHtcbiAgICBpZiAoZS5yZXBlYXQgJiYgdG9WYWx1ZShkZWR1cGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChwcmVkaWNhdGUoZSkpXG4gICAgICBoYW5kbGVyKGUpO1xuICB9O1xuICByZXR1cm4gdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIHBhc3NpdmUpO1xufVxuZnVuY3Rpb24gb25LZXlEb3duKGtleSwgaGFuZGxlciwgb3B0aW9ucyA9IHt9KSB7XG4gIHJldHVybiBvbktleVN0cm9rZShrZXksIGhhbmRsZXIsIHsgLi4ub3B0aW9ucywgZXZlbnROYW1lOiBcImtleWRvd25cIiB9KTtcbn1cbmZ1bmN0aW9uIG9uS2V5UHJlc3NlZChrZXksIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gb25LZXlTdHJva2Uoa2V5LCBoYW5kbGVyLCB7IC4uLm9wdGlvbnMsIGV2ZW50TmFtZTogXCJrZXlwcmVzc1wiIH0pO1xufVxuZnVuY3Rpb24gb25LZXlVcChrZXksIGhhbmRsZXIsIG9wdGlvbnMgPSB7fSkge1xuICByZXR1cm4gb25LZXlTdHJva2Uoa2V5LCBoYW5kbGVyLCB7IC4uLm9wdGlvbnMsIGV2ZW50TmFtZTogXCJrZXl1cFwiIH0pO1xufVxuXG5jb25zdCBERUZBVUxUX0RFTEFZID0gNTAwO1xuY29uc3QgREVGQVVMVF9USFJFU0hPTEQgPSAxMDtcbmZ1bmN0aW9uIG9uTG9uZ1ByZXNzKHRhcmdldCwgaGFuZGxlciwgb3B0aW9ucykge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBlbGVtZW50UmVmID0gY29tcHV0ZWQoKCkgPT4gdW5yZWZFbGVtZW50KHRhcmdldCkpO1xuICBsZXQgdGltZW91dDtcbiAgbGV0IHBvc1N0YXJ0O1xuICBsZXQgc3RhcnRUaW1lc3RhbXA7XG4gIGxldCBoYXNMb25nUHJlc3NlZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBpZiAodGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHZvaWQgMDtcbiAgICB9XG4gICAgcG9zU3RhcnQgPSB2b2lkIDA7XG4gICAgc3RhcnRUaW1lc3RhbXAgPSB2b2lkIDA7XG4gICAgaGFzTG9uZ1ByZXNzZWQgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBvblJlbGVhc2UoZXYpIHtcbiAgICB2YXIgX2EyLCBfYjIsIF9jO1xuICAgIGNvbnN0IFtfc3RhcnRUaW1lc3RhbXAsIF9wb3NTdGFydCwgX2hhc0xvbmdQcmVzc2VkXSA9IFtzdGFydFRpbWVzdGFtcCwgcG9zU3RhcnQsIGhhc0xvbmdQcmVzc2VkXTtcbiAgICBjbGVhcigpO1xuICAgIGlmICghKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25Nb3VzZVVwKSB8fCAhX3Bvc1N0YXJ0IHx8ICFfc3RhcnRUaW1lc3RhbXApXG4gICAgICByZXR1cm47XG4gICAgaWYgKCgoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuc2VsZikgJiYgZXYudGFyZ2V0ICE9PSBlbGVtZW50UmVmLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICgoX2IyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYjIucHJldmVudClcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKChfYyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kaWZpZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc3RvcClcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGNvbnN0IGR4ID0gZXYueCAtIF9wb3NTdGFydC54O1xuICAgIGNvbnN0IGR5ID0gZXYueSAtIF9wb3NTdGFydC55O1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICBvcHRpb25zLm9uTW91c2VVcChldi50aW1lU3RhbXAgLSBfc3RhcnRUaW1lc3RhbXAsIGRpc3RhbmNlLCBfaGFzTG9uZ1ByZXNzZWQpO1xuICB9XG4gIGZ1bmN0aW9uIG9uRG93bihldikge1xuICAgIHZhciBfYTIsIF9iMiwgX2MsIF9kO1xuICAgIGlmICgoKF9hMiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kaWZpZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnNlbGYpICYmIGV2LnRhcmdldCAhPT0gZWxlbWVudFJlZi52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBjbGVhcigpO1xuICAgIGlmICgoX2IyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYjIucHJldmVudClcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKChfYyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kaWZpZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2Muc3RvcClcbiAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIHBvc1N0YXJ0ID0ge1xuICAgICAgeDogZXYueCxcbiAgICAgIHk6IGV2LnlcbiAgICB9O1xuICAgIHN0YXJ0VGltZXN0YW1wID0gZXYudGltZVN0YW1wO1xuICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgKCkgPT4ge1xuICAgICAgICBoYXNMb25nUHJlc3NlZCA9IHRydWU7XG4gICAgICAgIGhhbmRsZXIoZXYpO1xuICAgICAgfSxcbiAgICAgIChfZCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGVsYXkpICE9IG51bGwgPyBfZCA6IERFRkFVTFRfREVMQVlcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIG9uTW92ZShldikge1xuICAgIHZhciBfYTIsIF9iMiwgX2MsIF9kO1xuICAgIGlmICgoKF9hMiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kaWZpZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnNlbGYpICYmIGV2LnRhcmdldCAhPT0gZWxlbWVudFJlZi52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXBvc1N0YXJ0IHx8IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmRpc3RhbmNlVGhyZXNob2xkKSA9PT0gZmFsc2UpXG4gICAgICByZXR1cm47XG4gICAgaWYgKChfYjIgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi5wcmV2ZW50KVxuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoKF9jID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RpZmllcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zdG9wKVxuICAgICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgZHggPSBldi54IC0gcG9zU3RhcnQueDtcbiAgICBjb25zdCBkeSA9IGV2LnkgLSBwb3NTdGFydC55O1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcbiAgICBpZiAoZGlzdGFuY2UgPj0gKChfZCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGlzdGFuY2VUaHJlc2hvbGQpICE9IG51bGwgPyBfZCA6IERFRkFVTFRfVEhSRVNIT0xEKSlcbiAgICAgIGNsZWFyKCk7XG4gIH1cbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0ge1xuICAgIGNhcHR1cmU6IChfYSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kaWZpZXJzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FwdHVyZSxcbiAgICBvbmNlOiAoX2IgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGlmaWVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLm9uY2VcbiAgfTtcbiAgY29uc3QgY2xlYW51cCA9IFtcbiAgICB1c2VFdmVudExpc3RlbmVyKGVsZW1lbnRSZWYsIFwicG9pbnRlcmRvd25cIiwgb25Eb3duLCBsaXN0ZW5lck9wdGlvbnMpLFxuICAgIHVzZUV2ZW50TGlzdGVuZXIoZWxlbWVudFJlZiwgXCJwb2ludGVybW92ZVwiLCBvbk1vdmUsIGxpc3RlbmVyT3B0aW9ucyksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcihlbGVtZW50UmVmLCBbXCJwb2ludGVydXBcIiwgXCJwb2ludGVybGVhdmVcIl0sIG9uUmVsZWFzZSwgbGlzdGVuZXJPcHRpb25zKVxuICBdO1xuICBjb25zdCBzdG9wID0gKCkgPT4gY2xlYW51cC5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gIHJldHVybiBzdG9wO1xufVxuXG5mdW5jdGlvbiBpc0ZvY3VzZWRFbGVtZW50RWRpdGFibGUoKSB7XG4gIGNvbnN0IHsgYWN0aXZlRWxlbWVudCwgYm9keSB9ID0gZG9jdW1lbnQ7XG4gIGlmICghYWN0aXZlRWxlbWVudClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChhY3RpdmVFbGVtZW50ID09PSBib2R5KVxuICAgIHJldHVybiBmYWxzZTtcbiAgc3dpdGNoIChhY3RpdmVFbGVtZW50LnRhZ05hbWUpIHtcbiAgICBjYXNlIFwiSU5QVVRcIjpcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBhY3RpdmVFbGVtZW50Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKTtcbn1cbmZ1bmN0aW9uIGlzVHlwZWRDaGFyVmFsaWQoe1xuICBrZXlDb2RlLFxuICBtZXRhS2V5LFxuICBjdHJsS2V5LFxuICBhbHRLZXlcbn0pIHtcbiAgaWYgKG1ldGFLZXkgfHwgY3RybEtleSB8fCBhbHRLZXkpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoa2V5Q29kZSA+PSA0OCAmJiBrZXlDb2RlIDw9IDU3IHx8IGtleUNvZGUgPj0gOTYgJiYga2V5Q29kZSA8PSAxMDUpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmIChrZXlDb2RlID49IDY1ICYmIGtleUNvZGUgPD0gOTApXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIG9uU3RhcnRUeXBpbmcoY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGRvY3VtZW50OiBkb2N1bWVudDIgPSBkZWZhdWx0RG9jdW1lbnQgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGtleWRvd24gPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoIWlzRm9jdXNlZEVsZW1lbnRFZGl0YWJsZSgpICYmIGlzVHlwZWRDaGFyVmFsaWQoZXZlbnQpKSB7XG4gICAgICBjYWxsYmFjayhldmVudCk7XG4gICAgfVxuICB9O1xuICBpZiAoZG9jdW1lbnQyKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQyLCBcImtleWRvd25cIiwga2V5ZG93biwgeyBwYXNzaXZlOiB0cnVlIH0pO1xufVxuXG5mdW5jdGlvbiB0ZW1wbGF0ZVJlZihrZXksIGluaXRpYWxWYWx1ZSA9IG51bGwpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgbGV0IF90cmlnZ2VyID0gKCkgPT4ge1xuICB9O1xuICBjb25zdCBlbGVtZW50ID0gY3VzdG9tUmVmKCh0cmFjaywgdHJpZ2dlcikgPT4ge1xuICAgIF90cmlnZ2VyID0gdHJpZ2dlcjtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0cmFjaygpO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLnByb3h5KSA9PSBudWxsID8gdm9pZCAwIDogX2EuJHJlZnNba2V5XSkgIT0gbnVsbCA/IF9iIDogaW5pdGlhbFZhbHVlO1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgdHJ5T25Nb3VudGVkKF90cmlnZ2VyKTtcbiAgb25VcGRhdGVkKF90cmlnZ2VyKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHVzZUFjdGl2ZUVsZW1lbnQob3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgZGVlcCA9IHRydWUsXG4gICAgdHJpZ2dlck9uUmVtb3ZhbCA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBkb2N1bWVudCA9IChfYSA9IG9wdGlvbnMuZG9jdW1lbnQpICE9IG51bGwgPyBfYSA6IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmRvY3VtZW50O1xuICBjb25zdCBnZXREZWVwQWN0aXZlRWxlbWVudCA9ICgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGRlZXApIHtcbiAgICAgIHdoaWxlIChlbGVtZW50ID09IG51bGwgPyB2b2lkIDAgOiBlbGVtZW50LnNoYWRvd1Jvb3QpXG4gICAgICAgIGVsZW1lbnQgPSAoX2EyID0gZWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogZWxlbWVudC5zaGFkb3dSb290KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmFjdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xuICB9O1xuICBjb25zdCBhY3RpdmVFbGVtZW50ID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCB0cmlnZ2VyID0gKCkgPT4ge1xuICAgIGFjdGl2ZUVsZW1lbnQudmFsdWUgPSBnZXREZWVwQWN0aXZlRWxlbWVudCgpO1xuICB9O1xuICBpZiAod2luZG93KSB7XG4gICAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0ge1xuICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgIHBhc3NpdmU6IHRydWVcbiAgICB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgICB3aW5kb3csXG4gICAgICBcImJsdXJcIixcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQucmVsYXRlZFRhcmdldCAhPT0gbnVsbClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRyaWdnZXIoKTtcbiAgICAgIH0sXG4gICAgICBsaXN0ZW5lck9wdGlvbnNcbiAgICApO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgICB3aW5kb3csXG4gICAgICBcImZvY3VzXCIsXG4gICAgICB0cmlnZ2VyLFxuICAgICAgbGlzdGVuZXJPcHRpb25zXG4gICAgKTtcbiAgfVxuICBpZiAodHJpZ2dlck9uUmVtb3ZhbCkge1xuICAgIG9uRWxlbWVudFJlbW92YWwoYWN0aXZlRWxlbWVudCwgdHJpZ2dlciwgeyBkb2N1bWVudCB9KTtcbiAgfVxuICB0cmlnZ2VyKCk7XG4gIHJldHVybiBhY3RpdmVFbGVtZW50O1xufVxuXG5mdW5jdGlvbiB1c2VSYWZGbihmbiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGZwc0xpbWl0ID0gdm9pZCAwLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgb25jZSA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0FjdGl2ZSA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBpbnRlcnZhbExpbWl0ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBmcHNMaW1pdCA/IDFlMyAvIHRvVmFsdWUoZnBzTGltaXQpIDogbnVsbDtcbiAgfSk7XG4gIGxldCBwcmV2aW91c0ZyYW1lVGltZXN0YW1wID0gMDtcbiAgbGV0IHJhZklkID0gbnVsbDtcbiAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXApIHtcbiAgICBpZiAoIWlzQWN0aXZlLnZhbHVlIHx8ICF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFwcmV2aW91c0ZyYW1lVGltZXN0YW1wKVxuICAgICAgcHJldmlvdXNGcmFtZVRpbWVzdGFtcCA9IHRpbWVzdGFtcDtcbiAgICBjb25zdCBkZWx0YSA9IHRpbWVzdGFtcCAtIHByZXZpb3VzRnJhbWVUaW1lc3RhbXA7XG4gICAgaWYgKGludGVydmFsTGltaXQudmFsdWUgJiYgZGVsdGEgPCBpbnRlcnZhbExpbWl0LnZhbHVlKSB7XG4gICAgICByYWZJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZXZpb3VzRnJhbWVUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgZm4oeyBkZWx0YSwgdGltZXN0YW1wIH0pO1xuICAgIGlmIChvbmNlKSB7XG4gICAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlO1xuICAgICAgcmFmSWQgPSBudWxsO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByYWZJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUobG9vcCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgIGlmICghaXNBY3RpdmUudmFsdWUgJiYgd2luZG93KSB7XG4gICAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gICAgICBwcmV2aW91c0ZyYW1lVGltZXN0YW1wID0gMDtcbiAgICAgIHJhZklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaXNBY3RpdmUudmFsdWUgPSBmYWxzZTtcbiAgICBpZiAocmFmSWQgIT0gbnVsbCAmJiB3aW5kb3cpIHtcbiAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShyYWZJZCk7XG4gICAgICByYWZJZCA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChpbW1lZGlhdGUpXG4gICAgcmVzdW1lKCk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHBhdXNlKTtcbiAgcmV0dXJuIHtcbiAgICBpc0FjdGl2ZTogcmVhZG9ubHkoaXNBY3RpdmUpLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VBbmltYXRlKHRhcmdldCwga2V5ZnJhbWVzLCBvcHRpb25zKSB7XG4gIGxldCBjb25maWc7XG4gIGxldCBhbmltYXRlT3B0aW9ucztcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgY29uZmlnID0gb3B0aW9ucztcbiAgICBhbmltYXRlT3B0aW9ucyA9IG9iamVjdE9taXQob3B0aW9ucywgW1wid2luZG93XCIsIFwiaW1tZWRpYXRlXCIsIFwiY29tbWl0U3R5bGVzXCIsIFwicGVyc2lzdFwiLCBcIm9uUmVhZHlcIiwgXCJvbkVycm9yXCJdKTtcbiAgfSBlbHNlIHtcbiAgICBjb25maWcgPSB7IGR1cmF0aW9uOiBvcHRpb25zIH07XG4gICAgYW5pbWF0ZU9wdGlvbnMgPSBvcHRpb25zO1xuICB9XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgY29tbWl0U3R5bGVzLFxuICAgIHBlcnNpc3QsXG4gICAgcGxheWJhY2tSYXRlOiBfcGxheWJhY2tSYXRlID0gMSxcbiAgICBvblJlYWR5LFxuICAgIG9uRXJyb3IgPSAoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHdpbmRvdyAmJiBIVE1MRWxlbWVudCAmJiBcImFuaW1hdGVcIiBpbiBIVE1MRWxlbWVudC5wcm90b3R5cGUpO1xuICBjb25zdCBhbmltYXRlID0gc2hhbGxvd1JlZih2b2lkIDApO1xuICBjb25zdCBzdG9yZSA9IHNoYWxsb3dSZWFjdGl2ZSh7XG4gICAgc3RhcnRUaW1lOiBudWxsLFxuICAgIGN1cnJlbnRUaW1lOiBudWxsLFxuICAgIHRpbWVsaW5lOiBudWxsLFxuICAgIHBsYXliYWNrUmF0ZTogX3BsYXliYWNrUmF0ZSxcbiAgICBwZW5kaW5nOiBmYWxzZSxcbiAgICBwbGF5U3RhdGU6IGltbWVkaWF0ZSA/IFwiaWRsZVwiIDogXCJwYXVzZWRcIixcbiAgICByZXBsYWNlU3RhdGU6IFwiYWN0aXZlXCJcbiAgfSk7XG4gIGNvbnN0IHBlbmRpbmcgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5wZW5kaW5nKTtcbiAgY29uc3QgcGxheVN0YXRlID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUucGxheVN0YXRlKTtcbiAgY29uc3QgcmVwbGFjZVN0YXRlID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUucmVwbGFjZVN0YXRlKTtcbiAgY29uc3Qgc3RhcnRUaW1lID0gY29tcHV0ZWQoe1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBzdG9yZS5zdGFydFRpbWU7XG4gICAgfSxcbiAgICBzZXQodmFsdWUpIHtcbiAgICAgIHN0b3JlLnN0YXJ0VGltZSA9IHZhbHVlO1xuICAgICAgaWYgKGFuaW1hdGUudmFsdWUpXG4gICAgICAgIGFuaW1hdGUudmFsdWUuc3RhcnRUaW1lID0gdmFsdWU7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgY3VycmVudFRpbWUgPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHN0b3JlLmN1cnJlbnRUaW1lO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBzdG9yZS5jdXJyZW50VGltZSA9IHZhbHVlO1xuICAgICAgaWYgKGFuaW1hdGUudmFsdWUpIHtcbiAgICAgICAgYW5pbWF0ZS52YWx1ZS5jdXJyZW50VGltZSA9IHZhbHVlO1xuICAgICAgICBzeW5jUmVzdW1lKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3QgdGltZWxpbmUgPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHN0b3JlLnRpbWVsaW5lO1xuICAgIH0sXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBzdG9yZS50aW1lbGluZSA9IHZhbHVlO1xuICAgICAgaWYgKGFuaW1hdGUudmFsdWUpXG4gICAgICAgIGFuaW1hdGUudmFsdWUudGltZWxpbmUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBwbGF5YmFja1JhdGUgPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIHN0b3JlLnBsYXliYWNrUmF0ZTtcbiAgICB9LFxuICAgIHNldCh2YWx1ZSkge1xuICAgICAgc3RvcmUucGxheWJhY2tSYXRlID0gdmFsdWU7XG4gICAgICBpZiAoYW5pbWF0ZS52YWx1ZSlcbiAgICAgICAgYW5pbWF0ZS52YWx1ZS5wbGF5YmFja1JhdGUgPSB2YWx1ZTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBwbGF5ID0gKCkgPT4ge1xuICAgIGlmIChhbmltYXRlLnZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhbmltYXRlLnZhbHVlLnBsYXkoKTtcbiAgICAgICAgc3luY1Jlc3VtZSgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzeW5jUGF1c2UoKTtcbiAgICAgICAgb25FcnJvcihlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBwYXVzZSA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgdHJ5IHtcbiAgICAgIChfYSA9IGFuaW1hdGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wYXVzZSgpO1xuICAgICAgc3luY1BhdXNlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJldmVyc2UgPSAoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghYW5pbWF0ZS52YWx1ZSlcbiAgICAgIHVwZGF0ZSgpO1xuICAgIHRyeSB7XG4gICAgICAoX2EgPSBhbmltYXRlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EucmV2ZXJzZSgpO1xuICAgICAgc3luY1Jlc3VtZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN5bmNQYXVzZSgpO1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGZpbmlzaCA9ICgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgdHJ5IHtcbiAgICAgIChfYSA9IGFuaW1hdGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5maW5pc2goKTtcbiAgICAgIHN5bmNQYXVzZSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHRyeSB7XG4gICAgICAoX2EgPSBhbmltYXRlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICBzeW5jUGF1c2UoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH1cbiAgfTtcbiAgd2F0Y2goKCkgPT4gdW5yZWZFbGVtZW50KHRhcmdldCksIChlbCkgPT4ge1xuICAgIGlmIChlbCkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFuaW1hdGUudmFsdWUgPSB2b2lkIDA7XG4gICAgfVxuICB9KTtcbiAgd2F0Y2goKCkgPT4ga2V5ZnJhbWVzLCAodmFsdWUpID0+IHtcbiAgICBpZiAoYW5pbWF0ZS52YWx1ZSkge1xuICAgICAgdXBkYXRlKCk7XG4gICAgICBjb25zdCB0YXJnZXRFbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgICAgaWYgKHRhcmdldEVsKSB7XG4gICAgICAgIGFuaW1hdGUudmFsdWUuZWZmZWN0ID0gbmV3IEtleWZyYW1lRWZmZWN0KFxuICAgICAgICAgIHRhcmdldEVsLFxuICAgICAgICAgIHRvVmFsdWUodmFsdWUpLFxuICAgICAgICAgIGFuaW1hdGVPcHRpb25zXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7IGRlZXA6IHRydWUgfSk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiB1cGRhdGUodHJ1ZSksIGZhbHNlKTtcbiAgdHJ5T25TY29wZURpc3Bvc2UoY2FuY2VsKTtcbiAgZnVuY3Rpb24gdXBkYXRlKGluaXQpIHtcbiAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUgfHwgIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghYW5pbWF0ZS52YWx1ZSlcbiAgICAgIGFuaW1hdGUudmFsdWUgPSBlbC5hbmltYXRlKHRvVmFsdWUoa2V5ZnJhbWVzKSwgYW5pbWF0ZU9wdGlvbnMpO1xuICAgIGlmIChwZXJzaXN0KVxuICAgICAgYW5pbWF0ZS52YWx1ZS5wZXJzaXN0KCk7XG4gICAgaWYgKF9wbGF5YmFja1JhdGUgIT09IDEpXG4gICAgICBhbmltYXRlLnZhbHVlLnBsYXliYWNrUmF0ZSA9IF9wbGF5YmFja1JhdGU7XG4gICAgaWYgKGluaXQgJiYgIWltbWVkaWF0ZSlcbiAgICAgIGFuaW1hdGUudmFsdWUucGF1c2UoKTtcbiAgICBlbHNlXG4gICAgICBzeW5jUmVzdW1lKCk7XG4gICAgb25SZWFkeSA9PSBudWxsID8gdm9pZCAwIDogb25SZWFkeShhbmltYXRlLnZhbHVlKTtcbiAgfVxuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihhbmltYXRlLCBbXCJjYW5jZWxcIiwgXCJmaW5pc2hcIiwgXCJyZW1vdmVcIl0sIHN5bmNQYXVzZSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihhbmltYXRlLCBcImZpbmlzaFwiLCAoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChjb21taXRTdHlsZXMpXG4gICAgICAoX2EgPSBhbmltYXRlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29tbWl0U3R5bGVzKCk7XG4gIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGNvbnN0IHsgcmVzdW1lOiByZXN1bWVSZWYsIHBhdXNlOiBwYXVzZVJlZiB9ID0gdXNlUmFmRm4oKCkgPT4ge1xuICAgIGlmICghYW5pbWF0ZS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdG9yZS5wZW5kaW5nID0gYW5pbWF0ZS52YWx1ZS5wZW5kaW5nO1xuICAgIHN0b3JlLnBsYXlTdGF0ZSA9IGFuaW1hdGUudmFsdWUucGxheVN0YXRlO1xuICAgIHN0b3JlLnJlcGxhY2VTdGF0ZSA9IGFuaW1hdGUudmFsdWUucmVwbGFjZVN0YXRlO1xuICAgIHN0b3JlLnN0YXJ0VGltZSA9IGFuaW1hdGUudmFsdWUuc3RhcnRUaW1lO1xuICAgIHN0b3JlLmN1cnJlbnRUaW1lID0gYW5pbWF0ZS52YWx1ZS5jdXJyZW50VGltZTtcbiAgICBzdG9yZS50aW1lbGluZSA9IGFuaW1hdGUudmFsdWUudGltZWxpbmU7XG4gICAgc3RvcmUucGxheWJhY2tSYXRlID0gYW5pbWF0ZS52YWx1ZS5wbGF5YmFja1JhdGU7XG4gIH0sIHsgaW1tZWRpYXRlOiBmYWxzZSB9KTtcbiAgZnVuY3Rpb24gc3luY1Jlc3VtZSgpIHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXN1bWVSZWYoKTtcbiAgfVxuICBmdW5jdGlvbiBzeW5jUGF1c2UoKSB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHdpbmRvdylcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocGF1c2VSZWYpO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgYW5pbWF0ZSxcbiAgICAvLyBhY3Rpb25zXG4gICAgcGxheSxcbiAgICBwYXVzZSxcbiAgICByZXZlcnNlLFxuICAgIGZpbmlzaCxcbiAgICBjYW5jZWwsXG4gICAgLy8gc3RhdGVcbiAgICBwZW5kaW5nLFxuICAgIHBsYXlTdGF0ZSxcbiAgICByZXBsYWNlU3RhdGUsXG4gICAgc3RhcnRUaW1lLFxuICAgIGN1cnJlbnRUaW1lLFxuICAgIHRpbWVsaW5lLFxuICAgIHBsYXliYWNrUmF0ZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VBc3luY1F1ZXVlKHRhc2tzLCBvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBpbnRlcnJ1cHQgPSB0cnVlLFxuICAgIG9uRXJyb3IgPSBub29wLFxuICAgIG9uRmluaXNoZWQgPSBub29wLFxuICAgIHNpZ25hbFxuICB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgcHJvbWlzZVN0YXRlID0ge1xuICAgIGFib3J0ZWQ6IFwiYWJvcnRlZFwiLFxuICAgIGZ1bGZpbGxlZDogXCJmdWxmaWxsZWRcIixcbiAgICBwZW5kaW5nOiBcInBlbmRpbmdcIixcbiAgICByZWplY3RlZDogXCJyZWplY3RlZFwiXG4gIH07XG4gIGNvbnN0IGluaXRpYWxSZXN1bHQgPSBBcnJheS5mcm9tKEFycmF5LmZyb20oeyBsZW5ndGg6IHRhc2tzLmxlbmd0aCB9KSwgKCkgPT4gKHsgc3RhdGU6IHByb21pc2VTdGF0ZS5wZW5kaW5nLCBkYXRhOiBudWxsIH0pKTtcbiAgY29uc3QgcmVzdWx0ID0gcmVhY3RpdmUoaW5pdGlhbFJlc3VsdCk7XG4gIGNvbnN0IGFjdGl2ZUluZGV4ID0gc2hhbGxvd1JlZigtMSk7XG4gIGlmICghdGFza3MgfHwgdGFza3MubGVuZ3RoID09PSAwKSB7XG4gICAgb25GaW5pc2hlZCgpO1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVJbmRleCxcbiAgICAgIHJlc3VsdFxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlUmVzdWx0KHN0YXRlLCByZXMpIHtcbiAgICBhY3RpdmVJbmRleC52YWx1ZSsrO1xuICAgIHJlc3VsdFthY3RpdmVJbmRleC52YWx1ZV0uZGF0YSA9IHJlcztcbiAgICByZXN1bHRbYWN0aXZlSW5kZXgudmFsdWVdLnN0YXRlID0gc3RhdGU7XG4gIH1cbiAgdGFza3MucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgcmV0dXJuIHByZXYudGhlbigocHJldlJlcykgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgdXBkYXRlUmVzdWx0KHByb21pc2VTdGF0ZS5hYm9ydGVkLCBuZXcgRXJyb3IoXCJhYm9ydGVkXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCgoX2EgPSByZXN1bHRbYWN0aXZlSW5kZXgudmFsdWVdKSA9PSBudWxsID8gdm9pZCAwIDogX2Euc3RhdGUpID09PSBwcm9taXNlU3RhdGUucmVqZWN0ZWQgJiYgaW50ZXJydXB0KSB7XG4gICAgICAgIG9uRmluaXNoZWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZG9uZSA9IGN1cnIocHJldlJlcykudGhlbigoY3VycmVudFJlcykgPT4ge1xuICAgICAgICB1cGRhdGVSZXN1bHQocHJvbWlzZVN0YXRlLmZ1bGZpbGxlZCwgY3VycmVudFJlcyk7XG4gICAgICAgIGlmIChhY3RpdmVJbmRleC52YWx1ZSA9PT0gdGFza3MubGVuZ3RoIC0gMSlcbiAgICAgICAgICBvbkZpbmlzaGVkKCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50UmVzO1xuICAgICAgfSk7XG4gICAgICBpZiAoIXNpZ25hbClcbiAgICAgICAgcmV0dXJuIGRvbmU7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtkb25lLCB3aGVuQWJvcnRlZChzaWduYWwpXSk7XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIGlmIChzaWduYWwgPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHVwZGF0ZVJlc3VsdChwcm9taXNlU3RhdGUuYWJvcnRlZCwgZSk7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgICAgdXBkYXRlUmVzdWx0KHByb21pc2VTdGF0ZS5yZWplY3RlZCwgZSk7XG4gICAgICBvbkVycm9yKCk7XG4gICAgICByZXR1cm4gZTtcbiAgICB9KTtcbiAgfSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICByZXR1cm4ge1xuICAgIGFjdGl2ZUluZGV4LFxuICAgIHJlc3VsdFxuICB9O1xufVxuZnVuY3Rpb24gd2hlbkFib3J0ZWQoc2lnbmFsKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoXCJhYm9ydGVkXCIpO1xuICAgIGlmIChzaWduYWwuYWJvcnRlZClcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgZWxzZVxuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiByZWplY3QoZXJyb3IpLCB7IG9uY2U6IHRydWUgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VBc3luY1N0YXRlKHByb21pc2UsIGluaXRpYWxTdGF0ZSwgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgaW1tZWRpYXRlID0gdHJ1ZSxcbiAgICBkZWxheSA9IDAsXG4gICAgb25FcnJvciA9IG5vb3AsXG4gICAgb25TdWNjZXNzID0gbm9vcCxcbiAgICByZXNldE9uRXhlY3V0ZSA9IHRydWUsXG4gICAgc2hhbGxvdyA9IHRydWUsXG4gICAgdGhyb3dFcnJvclxuICB9ID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICBjb25zdCBzdGF0ZSA9IHNoYWxsb3cgPyBzaGFsbG93UmVmKGluaXRpYWxTdGF0ZSkgOiByZWYoaW5pdGlhbFN0YXRlKTtcbiAgY29uc3QgaXNSZWFkeSA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBpc0xvYWRpbmcgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGUoZGVsYXkyID0gMCwgLi4uYXJncykge1xuICAgIGlmIChyZXNldE9uRXhlY3V0ZSlcbiAgICAgIHN0YXRlLnZhbHVlID0gaW5pdGlhbFN0YXRlO1xuICAgIGVycm9yLnZhbHVlID0gdm9pZCAwO1xuICAgIGlzUmVhZHkudmFsdWUgPSBmYWxzZTtcbiAgICBpc0xvYWRpbmcudmFsdWUgPSB0cnVlO1xuICAgIGlmIChkZWxheTIgPiAwKVxuICAgICAgYXdhaXQgcHJvbWlzZVRpbWVvdXQoZGVsYXkyKTtcbiAgICBjb25zdCBfcHJvbWlzZSA9IHR5cGVvZiBwcm9taXNlID09PSBcImZ1bmN0aW9uXCIgPyBwcm9taXNlKC4uLmFyZ3MpIDogcHJvbWlzZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IF9wcm9taXNlO1xuICAgICAgc3RhdGUudmFsdWUgPSBkYXRhO1xuICAgICAgaXNSZWFkeS52YWx1ZSA9IHRydWU7XG4gICAgICBvblN1Y2Nlc3MoZGF0YSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3IudmFsdWUgPSBlO1xuICAgICAgb25FcnJvcihlKTtcbiAgICAgIGlmICh0aHJvd0Vycm9yKVxuICAgICAgICB0aHJvdyBlO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0xvYWRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLnZhbHVlO1xuICB9XG4gIGlmIChpbW1lZGlhdGUpIHtcbiAgICBleGVjdXRlKGRlbGF5KTtcbiAgfVxuICBjb25zdCBzaGVsbCA9IHtcbiAgICBzdGF0ZSxcbiAgICBpc1JlYWR5LFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBleGVjdXRlLFxuICAgIGV4ZWN1dGVJbW1lZGlhdGU6ICguLi5hcmdzKSA9PiBleGVjdXRlKDAsIC4uLmFyZ3MpXG4gIH07XG4gIGZ1bmN0aW9uIHdhaXRVbnRpbElzTG9hZGVkKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB1bnRpbChpc0xvYWRpbmcpLnRvQmUoZmFsc2UpLnRoZW4oKCkgPT4gcmVzb2x2ZShzaGVsbCkpLmNhdGNoKHJlamVjdCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi5zaGVsbCxcbiAgICB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gd2FpdFVudGlsSXNMb2FkZWQoKS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICBhcnJheTogKHYpID0+IEpTT04uc3RyaW5naWZ5KHYpLFxuICBvYmplY3Q6ICh2KSA9PiBKU09OLnN0cmluZ2lmeSh2KSxcbiAgc2V0OiAodikgPT4gSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbSh2KSksXG4gIG1hcDogKHYpID0+IEpTT04uc3RyaW5naWZ5KE9iamVjdC5mcm9tRW50cmllcyh2KSksXG4gIG51bGw6ICgpID0+IFwiXCJcbn07XG5mdW5jdGlvbiBnZXREZWZhdWx0U2VyaWFsaXphdGlvbih0YXJnZXQpIHtcbiAgaWYgKCF0YXJnZXQpXG4gICAgcmV0dXJuIGRlZmF1bHRzLm51bGw7XG4gIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBNYXApXG4gICAgcmV0dXJuIGRlZmF1bHRzLm1hcDtcbiAgZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgU2V0KVxuICAgIHJldHVybiBkZWZhdWx0cy5zZXQ7XG4gIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSlcbiAgICByZXR1cm4gZGVmYXVsdHMuYXJyYXk7XG4gIGVsc2VcbiAgICByZXR1cm4gZGVmYXVsdHMub2JqZWN0O1xufVxuXG5mdW5jdGlvbiB1c2VCYXNlNjQodGFyZ2V0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGJhc2U2NCA9IHNoYWxsb3dSZWYoXCJcIik7XG4gIGNvbnN0IHByb21pc2UgPSBzaGFsbG93UmVmKCk7XG4gIGZ1bmN0aW9uIGV4ZWN1dGUoKSB7XG4gICAgaWYgKCFpc0NsaWVudClcbiAgICAgIHJldHVybjtcbiAgICBwcm9taXNlLnZhbHVlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgX3RhcmdldCA9IHRvVmFsdWUodGFyZ2V0KTtcbiAgICAgICAgaWYgKF90YXJnZXQgPT0gbnVsbCkge1xuICAgICAgICAgIHJlc29sdmUoXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIF90YXJnZXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICByZXNvbHZlKGJsb2JUb0Jhc2U2NChuZXcgQmxvYihbX3RhcmdldF0sIHsgdHlwZTogXCJ0ZXh0L3BsYWluXCIgfSkpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfdGFyZ2V0IGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgIHJlc29sdmUoYmxvYlRvQmFzZTY0KF90YXJnZXQpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfdGFyZ2V0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXNvbHZlKHdpbmRvdy5idG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubmV3IFVpbnQ4QXJyYXkoX3RhcmdldCkpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX3RhcmdldCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XG4gICAgICAgICAgcmVzb2x2ZShfdGFyZ2V0LnRvRGF0YVVSTChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnR5cGUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucXVhbGl0eSkpO1xuICAgICAgICB9IGVsc2UgaWYgKF90YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgY29uc3QgaW1nID0gX3RhcmdldC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9IFwiQW5vbnltb3VzXCI7XG4gICAgICAgICAgaW1nTG9hZGVkKGltZykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcuaGVpZ2h0O1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShpbWcsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICByZXNvbHZlKGNhbnZhcy50b0RhdGFVUkwob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy50eXBlLCBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnF1YWxpdHkpKTtcbiAgICAgICAgICB9KS5jYXRjaChyZWplY3QpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGFyZ2V0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgY29uc3QgX3NlcmlhbGl6ZUZuID0gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc2VyaWFsaXplcikgfHwgZ2V0RGVmYXVsdFNlcmlhbGl6YXRpb24oX3RhcmdldCk7XG4gICAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IF9zZXJpYWxpemVGbihfdGFyZ2V0KTtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShibG9iVG9CYXNlNjQobmV3IEJsb2IoW3NlcmlhbGl6ZWRdLCB7IHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiIH0pKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcInRhcmdldCBpcyB1bnN1cHBvcnRlZCB0eXBlc1wiKSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHJvbWlzZS52YWx1ZS50aGVuKChyZXMpID0+IHtcbiAgICAgIGJhc2U2NC52YWx1ZSA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmRhdGFVcmwpID09PSBmYWxzZSA/IHJlcy5yZXBsYWNlKC9eZGF0YTouKj87YmFzZTY0LC8sIFwiXCIpIDogcmVzO1xuICAgIH0pO1xuICAgIHJldHVybiBwcm9taXNlLnZhbHVlO1xuICB9XG4gIGlmIChpc1JlZih0YXJnZXQpIHx8IHR5cGVvZiB0YXJnZXQgPT09IFwiZnVuY3Rpb25cIilcbiAgICB3YXRjaCh0YXJnZXQsIGV4ZWN1dGUsIHsgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICBlbHNlXG4gICAgZXhlY3V0ZSgpO1xuICByZXR1cm4ge1xuICAgIGJhc2U2NCxcbiAgICBwcm9taXNlLFxuICAgIGV4ZWN1dGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGltZ0xvYWRlZChpbWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIWltZy5jb21wbGV0ZSkge1xuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfTtcbiAgICAgIGltZy5vbmVycm9yID0gcmVqZWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChibG9iKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgZnIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGZyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICByZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgfTtcbiAgICBmci5vbmVycm9yID0gcmVqZWN0O1xuICAgIGZyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VCYXR0ZXJ5KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGV2ZW50cyA9IFtcImNoYXJnaW5nY2hhbmdlXCIsIFwiY2hhcmdpbmd0aW1lY2hhbmdlXCIsIFwiZGlzY2hhcmdpbmd0aW1lY2hhbmdlXCIsIFwibGV2ZWxjaGFuZ2VcIl07XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcImdldEJhdHRlcnlcIiBpbiBuYXZpZ2F0b3IgJiYgdHlwZW9mIG5hdmlnYXRvci5nZXRCYXR0ZXJ5ID09PSBcImZ1bmN0aW9uXCIpO1xuICBjb25zdCBjaGFyZ2luZyA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBjaGFyZ2luZ1RpbWUgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBkaXNjaGFyZ2luZ1RpbWUgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBsZXZlbCA9IHNoYWxsb3dSZWYoMSk7XG4gIGxldCBiYXR0ZXJ5O1xuICBmdW5jdGlvbiB1cGRhdGVCYXR0ZXJ5SW5mbygpIHtcbiAgICBjaGFyZ2luZy52YWx1ZSA9IHRoaXMuY2hhcmdpbmc7XG4gICAgY2hhcmdpbmdUaW1lLnZhbHVlID0gdGhpcy5jaGFyZ2luZ1RpbWUgfHwgMDtcbiAgICBkaXNjaGFyZ2luZ1RpbWUudmFsdWUgPSB0aGlzLmRpc2NoYXJnaW5nVGltZSB8fCAwO1xuICAgIGxldmVsLnZhbHVlID0gdGhpcy5sZXZlbDtcbiAgfVxuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICBuYXZpZ2F0b3IuZ2V0QmF0dGVyeSgpLnRoZW4oKF9iYXR0ZXJ5KSA9PiB7XG4gICAgICBiYXR0ZXJ5ID0gX2JhdHRlcnk7XG4gICAgICB1cGRhdGVCYXR0ZXJ5SW5mby5jYWxsKGJhdHRlcnkpO1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihiYXR0ZXJ5LCBldmVudHMsIHVwZGF0ZUJhdHRlcnlJbmZvLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBjaGFyZ2luZyxcbiAgICBjaGFyZ2luZ1RpbWUsXG4gICAgZGlzY2hhcmdpbmdUaW1lLFxuICAgIGxldmVsXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUJsdWV0b290aChvcHRpb25zKSB7XG4gIGxldCB7XG4gICAgYWNjZXB0QWxsRGV2aWNlcyA9IGZhbHNlXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCB7XG4gICAgZmlsdGVycyA9IHZvaWQgMCxcbiAgICBvcHRpb25hbFNlcnZpY2VzID0gdm9pZCAwLFxuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3JcbiAgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcImJsdWV0b290aFwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGRldmljZSA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKG51bGwpO1xuICB3YXRjaChkZXZpY2UsICgpID0+IHtcbiAgICBjb25uZWN0VG9CbHVldG9vdGhHQVRUU2VydmVyKCk7XG4gIH0pO1xuICBhc3luYyBmdW5jdGlvbiByZXF1ZXN0RGV2aWNlKCkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICAgIGlmIChmaWx0ZXJzICYmIGZpbHRlcnMubGVuZ3RoID4gMClcbiAgICAgIGFjY2VwdEFsbERldmljZXMgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgZGV2aWNlLnZhbHVlID0gYXdhaXQgKG5hdmlnYXRvciA9PSBudWxsID8gdm9pZCAwIDogbmF2aWdhdG9yLmJsdWV0b290aC5yZXF1ZXN0RGV2aWNlKHtcbiAgICAgICAgYWNjZXB0QWxsRGV2aWNlcyxcbiAgICAgICAgZmlsdGVycyxcbiAgICAgICAgb3B0aW9uYWxTZXJ2aWNlc1xuICAgICAgfSkpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyb3IudmFsdWUgPSBlcnI7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNlcnZlciA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgaXNDb25uZWN0ZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgaXNDb25uZWN0ZWQudmFsdWUgPSBmYWxzZTtcbiAgICBkZXZpY2UudmFsdWUgPSB2b2lkIDA7XG4gICAgc2VydmVyLnZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0JsdWV0b290aEdBVFRTZXJ2ZXIoKSB7XG4gICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICAgIGlmIChkZXZpY2UudmFsdWUgJiYgZGV2aWNlLnZhbHVlLmdhdHQpIHtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIoZGV2aWNlLCBcImdhdHRzZXJ2ZXJkaXNjb25uZWN0ZWRcIiwgcmVzZXQsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNlcnZlci52YWx1ZSA9IGF3YWl0IGRldmljZS52YWx1ZS5nYXR0LmNvbm5lY3QoKTtcbiAgICAgICAgaXNDb25uZWN0ZWQudmFsdWUgPSBzZXJ2ZXIudmFsdWUuY29ubmVjdGVkO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB0cnlPbk1vdW50ZWQoKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoZGV2aWNlLnZhbHVlKVxuICAgICAgKF9hID0gZGV2aWNlLnZhbHVlLmdhdHQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb25uZWN0KCk7XG4gIH0pO1xuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChkZXZpY2UudmFsdWUpXG4gICAgICAoX2EgPSBkZXZpY2UudmFsdWUuZ2F0dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRpc2Nvbm5lY3QoKTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaXNDb25uZWN0ZWQ6IHJlYWRvbmx5KGlzQ29ubmVjdGVkKSxcbiAgICAvLyBEZXZpY2U6XG4gICAgZGV2aWNlLFxuICAgIHJlcXVlc3REZXZpY2UsXG4gICAgLy8gU2VydmVyOlxuICAgIHNlcnZlcixcbiAgICAvLyBFcnJvcnM6XG4gICAgZXJyb3JcbiAgfTtcbn1cblxuY29uc3Qgc3NyV2lkdGhTeW1ib2wgPSBTeW1ib2woXCJ2dWV1c2Utc3NyLXdpZHRoXCIpO1xuZnVuY3Rpb24gdXNlU1NSV2lkdGgoKSB7XG4gIGNvbnN0IHNzcldpZHRoID0gaGFzSW5qZWN0aW9uQ29udGV4dCgpID8gaW5qZWN0TG9jYWwoc3NyV2lkdGhTeW1ib2wsIG51bGwpIDogbnVsbDtcbiAgcmV0dXJuIHR5cGVvZiBzc3JXaWR0aCA9PT0gXCJudW1iZXJcIiA/IHNzcldpZHRoIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gcHJvdmlkZVNTUldpZHRoKHdpZHRoLCBhcHApIHtcbiAgaWYgKGFwcCAhPT0gdm9pZCAwKSB7XG4gICAgYXBwLnByb3ZpZGUoc3NyV2lkdGhTeW1ib2wsIHdpZHRoKTtcbiAgfSBlbHNlIHtcbiAgICBwcm92aWRlTG9jYWwoc3NyV2lkdGhTeW1ib2wsIHdpZHRoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VNZWRpYVF1ZXJ5KHF1ZXJ5LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93LCBzc3JXaWR0aCA9IHVzZVNTUldpZHRoKCkgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHdpbmRvdyAmJiBcIm1hdGNoTWVkaWFcIiBpbiB3aW5kb3cgJiYgdHlwZW9mIHdpbmRvdy5tYXRjaE1lZGlhID09PSBcImZ1bmN0aW9uXCIpO1xuICBjb25zdCBzc3JTdXBwb3J0ID0gc2hhbGxvd1JlZih0eXBlb2Ygc3NyV2lkdGggPT09IFwibnVtYmVyXCIpO1xuICBjb25zdCBtZWRpYVF1ZXJ5ID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCBtYXRjaGVzID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICBtYXRjaGVzLnZhbHVlID0gZXZlbnQubWF0Y2hlcztcbiAgfTtcbiAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzc3JTdXBwb3J0LnZhbHVlKSB7XG4gICAgICBzc3JTdXBwb3J0LnZhbHVlID0gIWlzU3VwcG9ydGVkLnZhbHVlO1xuICAgICAgY29uc3QgcXVlcnlTdHJpbmdzID0gdG9WYWx1ZShxdWVyeSkuc3BsaXQoXCIsXCIpO1xuICAgICAgbWF0Y2hlcy52YWx1ZSA9IHF1ZXJ5U3RyaW5ncy5zb21lKChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBub3QgPSBxdWVyeVN0cmluZy5pbmNsdWRlcyhcIm5vdCBhbGxcIik7XG4gICAgICAgIGNvbnN0IG1pbldpZHRoID0gcXVlcnlTdHJpbmcubWF0Y2goL1xcKFxccyptaW4td2lkdGg6XFxzKigtP1xcZCsoPzpcXC5cXGQqKT9bYS16XStcXHMqKVxcKS8pO1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IHF1ZXJ5U3RyaW5nLm1hdGNoKC9cXChcXHMqbWF4LXdpZHRoOlxccyooLT9cXGQrKD86XFwuXFxkKik/W2Etel0rXFxzKilcXCkvKTtcbiAgICAgICAgbGV0IHJlcyA9IEJvb2xlYW4obWluV2lkdGggfHwgbWF4V2lkdGgpO1xuICAgICAgICBpZiAobWluV2lkdGggJiYgcmVzKSB7XG4gICAgICAgICAgcmVzID0gc3NyV2lkdGggPj0gcHhWYWx1ZShtaW5XaWR0aFsxXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heFdpZHRoICYmIHJlcykge1xuICAgICAgICAgIHJlcyA9IHNzcldpZHRoIDw9IHB4VmFsdWUobWF4V2lkdGhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3QgPyAhcmVzIDogcmVzO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgbWVkaWFRdWVyeS52YWx1ZSA9IHdpbmRvdy5tYXRjaE1lZGlhKHRvVmFsdWUocXVlcnkpKTtcbiAgICBtYXRjaGVzLnZhbHVlID0gbWVkaWFRdWVyeS52YWx1ZS5tYXRjaGVzO1xuICB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihtZWRpYVF1ZXJ5LCBcImNoYW5nZVwiLCBoYW5kbGVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiBtYXRjaGVzLnZhbHVlKTtcbn1cblxuY29uc3QgYnJlYWtwb2ludHNUYWlsd2luZCA9IHtcbiAgXCJzbVwiOiA2NDAsXG4gIFwibWRcIjogNzY4LFxuICBcImxnXCI6IDEwMjQsXG4gIFwieGxcIjogMTI4MCxcbiAgXCIyeGxcIjogMTUzNlxufTtcbmNvbnN0IGJyZWFrcG9pbnRzQm9vdHN0cmFwVjUgPSB7XG4gIHhzOiAwLFxuICBzbTogNTc2LFxuICBtZDogNzY4LFxuICBsZzogOTkyLFxuICB4bDogMTIwMCxcbiAgeHhsOiAxNDAwXG59O1xuY29uc3QgYnJlYWtwb2ludHNWdWV0aWZ5VjIgPSB7XG4gIHhzOiAwLFxuICBzbTogNjAwLFxuICBtZDogOTYwLFxuICBsZzogMTI2NCxcbiAgeGw6IDE5MDRcbn07XG5jb25zdCBicmVha3BvaW50c1Z1ZXRpZnlWMyA9IHtcbiAgeHM6IDAsXG4gIHNtOiA2MDAsXG4gIG1kOiA5NjAsXG4gIGxnOiAxMjgwLFxuICB4bDogMTkyMCxcbiAgeHhsOiAyNTYwXG59O1xuY29uc3QgYnJlYWtwb2ludHNWdWV0aWZ5ID0gYnJlYWtwb2ludHNWdWV0aWZ5VjI7XG5jb25zdCBicmVha3BvaW50c0FudERlc2lnbiA9IHtcbiAgeHM6IDQ4MCxcbiAgc206IDU3NixcbiAgbWQ6IDc2OCxcbiAgbGc6IDk5MixcbiAgeGw6IDEyMDAsXG4gIHh4bDogMTYwMFxufTtcbmNvbnN0IGJyZWFrcG9pbnRzUXVhc2FyID0ge1xuICB4czogMCxcbiAgc206IDYwMCxcbiAgbWQ6IDEwMjQsXG4gIGxnOiAxNDQwLFxuICB4bDogMTkyMFxufTtcbmNvbnN0IGJyZWFrcG9pbnRzU2VtYXRpYyA9IHtcbiAgbW9iaWxlUzogMzIwLFxuICBtb2JpbGVNOiAzNzUsXG4gIG1vYmlsZUw6IDQyNSxcbiAgdGFibGV0OiA3NjgsXG4gIGxhcHRvcDogMTAyNCxcbiAgbGFwdG9wTDogMTQ0MCxcbiAgZGVza3RvcDRLOiAyNTYwXG59O1xuY29uc3QgYnJlYWtwb2ludHNNYXN0ZXJDc3MgPSB7XG4gIFwiM3hzXCI6IDM2MCxcbiAgXCIyeHNcIjogNDgwLFxuICBcInhzXCI6IDYwMCxcbiAgXCJzbVwiOiA3NjgsXG4gIFwibWRcIjogMTAyNCxcbiAgXCJsZ1wiOiAxMjgwLFxuICBcInhsXCI6IDE0NDAsXG4gIFwiMnhsXCI6IDE2MDAsXG4gIFwiM3hsXCI6IDE5MjAsXG4gIFwiNHhsXCI6IDI1NjBcbn07XG5jb25zdCBicmVha3BvaW50c1ByaW1lRmxleCA9IHtcbiAgc206IDU3NixcbiAgbWQ6IDc2OCxcbiAgbGc6IDk5MixcbiAgeGw6IDEyMDBcbn07XG5jb25zdCBicmVha3BvaW50c0VsZW1lbnQgPSB7XG4gIHhzOiAwLFxuICBzbTogNzY4LFxuICBtZDogOTkyLFxuICBsZzogMTIwMCxcbiAgeGw6IDE5MjBcbn07XG5cbmZ1bmN0aW9uIHVzZUJyZWFrcG9pbnRzKGJyZWFrcG9pbnRzLCBvcHRpb25zID0ge30pIHtcbiAgZnVuY3Rpb24gZ2V0VmFsdWUoaywgZGVsdGEpIHtcbiAgICBsZXQgdiA9IHRvVmFsdWUoYnJlYWtwb2ludHNbdG9WYWx1ZShrKV0pO1xuICAgIGlmIChkZWx0YSAhPSBudWxsKVxuICAgICAgdiA9IGluY3JlYXNlV2l0aFVuaXQodiwgZGVsdGEpO1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJudW1iZXJcIilcbiAgICAgIHYgPSBgJHt2fXB4YDtcbiAgICByZXR1cm4gdjtcbiAgfVxuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csIHN0cmF0ZWd5ID0gXCJtaW4td2lkdGhcIiwgc3NyV2lkdGggPSB1c2VTU1JXaWR0aCgpIH0gPSBvcHRpb25zO1xuICBjb25zdCBzc3JTdXBwb3J0ID0gdHlwZW9mIHNzcldpZHRoID09PSBcIm51bWJlclwiO1xuICBjb25zdCBtb3VudGVkID0gc3NyU3VwcG9ydCA/IHNoYWxsb3dSZWYoZmFsc2UpIDogeyB2YWx1ZTogdHJ1ZSB9O1xuICBpZiAoc3NyU3VwcG9ydCkge1xuICAgIHRyeU9uTW91bnRlZCgoKSA9PiBtb3VudGVkLnZhbHVlID0gISF3aW5kb3cpO1xuICB9XG4gIGZ1bmN0aW9uIG1hdGNoKHF1ZXJ5LCBzaXplKSB7XG4gICAgaWYgKCFtb3VudGVkLnZhbHVlICYmIHNzclN1cHBvcnQpIHtcbiAgICAgIHJldHVybiBxdWVyeSA9PT0gXCJtaW5cIiA/IHNzcldpZHRoID49IHB4VmFsdWUoc2l6ZSkgOiBzc3JXaWR0aCA8PSBweFZhbHVlKHNpemUpO1xuICAgIH1cbiAgICBpZiAoIXdpbmRvdylcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoYCgke3F1ZXJ5fS13aWR0aDogJHtzaXplfSlgKS5tYXRjaGVzO1xuICB9XG4gIGNvbnN0IGdyZWF0ZXJPckVxdWFsID0gKGspID0+IHtcbiAgICByZXR1cm4gdXNlTWVkaWFRdWVyeSgoKSA9PiBgKG1pbi13aWR0aDogJHtnZXRWYWx1ZShrKX0pYCwgb3B0aW9ucyk7XG4gIH07XG4gIGNvbnN0IHNtYWxsZXJPckVxdWFsID0gKGspID0+IHtcbiAgICByZXR1cm4gdXNlTWVkaWFRdWVyeSgoKSA9PiBgKG1heC13aWR0aDogJHtnZXRWYWx1ZShrKX0pYCwgb3B0aW9ucyk7XG4gIH07XG4gIGNvbnN0IHNob3J0Y3V0TWV0aG9kcyA9IE9iamVjdC5rZXlzKGJyZWFrcG9pbnRzKS5yZWR1Y2UoKHNob3J0Y3V0cywgaykgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzaG9ydGN1dHMsIGssIHtcbiAgICAgIGdldDogKCkgPT4gc3RyYXRlZ3kgPT09IFwibWluLXdpZHRoXCIgPyBncmVhdGVyT3JFcXVhbChrKSA6IHNtYWxsZXJPckVxdWFsKGspLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBzaG9ydGN1dHM7XG4gIH0sIHt9KTtcbiAgZnVuY3Rpb24gY3VycmVudCgpIHtcbiAgICBjb25zdCBwb2ludHMgPSBPYmplY3Qua2V5cyhicmVha3BvaW50cykubWFwKChrKSA9PiBbaywgc2hvcnRjdXRNZXRob2RzW2tdLCBweFZhbHVlKGdldFZhbHVlKGspKV0pLnNvcnQoKGEsIGIpID0+IGFbMl0gLSBiWzJdKTtcbiAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gcG9pbnRzLmZpbHRlcigoWywgdl0pID0+IHYudmFsdWUpLm1hcCgoW2tdKSA9PiBrKSk7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oc2hvcnRjdXRNZXRob2RzLCB7XG4gICAgZ3JlYXRlck9yRXF1YWwsXG4gICAgc21hbGxlck9yRXF1YWwsXG4gICAgZ3JlYXRlcihrKSB7XG4gICAgICByZXR1cm4gdXNlTWVkaWFRdWVyeSgoKSA9PiBgKG1pbi13aWR0aDogJHtnZXRWYWx1ZShrLCAwLjEpfSlgLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIHNtYWxsZXIoaykge1xuICAgICAgcmV0dXJuIHVzZU1lZGlhUXVlcnkoKCkgPT4gYChtYXgtd2lkdGg6ICR7Z2V0VmFsdWUoaywgLTAuMSl9KWAsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgYmV0d2VlbihhLCBiKSB7XG4gICAgICByZXR1cm4gdXNlTWVkaWFRdWVyeSgoKSA9PiBgKG1pbi13aWR0aDogJHtnZXRWYWx1ZShhKX0pIGFuZCAobWF4LXdpZHRoOiAke2dldFZhbHVlKGIsIC0wLjEpfSlgLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGlzR3JlYXRlcihrKSB7XG4gICAgICByZXR1cm4gbWF0Y2goXCJtaW5cIiwgZ2V0VmFsdWUoaywgMC4xKSk7XG4gICAgfSxcbiAgICBpc0dyZWF0ZXJPckVxdWFsKGspIHtcbiAgICAgIHJldHVybiBtYXRjaChcIm1pblwiLCBnZXRWYWx1ZShrKSk7XG4gICAgfSxcbiAgICBpc1NtYWxsZXIoaykge1xuICAgICAgcmV0dXJuIG1hdGNoKFwibWF4XCIsIGdldFZhbHVlKGssIC0wLjEpKTtcbiAgICB9LFxuICAgIGlzU21hbGxlck9yRXF1YWwoaykge1xuICAgICAgcmV0dXJuIG1hdGNoKFwibWF4XCIsIGdldFZhbHVlKGspKTtcbiAgICB9LFxuICAgIGlzSW5CZXR3ZWVuKGEsIGIpIHtcbiAgICAgIHJldHVybiBtYXRjaChcIm1pblwiLCBnZXRWYWx1ZShhKSkgJiYgbWF0Y2goXCJtYXhcIiwgZ2V0VmFsdWUoYiwgLTAuMSkpO1xuICAgIH0sXG4gICAgY3VycmVudCxcbiAgICBhY3RpdmUoKSB7XG4gICAgICBjb25zdCBicHMgPSBjdXJyZW50KCk7XG4gICAgICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gYnBzLnZhbHVlLmxlbmd0aCA9PT0gMCA/IFwiXCIgOiBicHMudmFsdWUuYXQoc3RyYXRlZ3kgPT09IFwibWluLXdpZHRoXCIgPyAtMSA6IDApKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VCcm9hZGNhc3RDaGFubmVsKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIG5hbWUsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwiQnJvYWRjYXN0Q2hhbm5lbFwiIGluIHdpbmRvdyk7XG4gIGNvbnN0IGlzQ2xvc2VkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGNoYW5uZWwgPSByZWYoKTtcbiAgY29uc3QgZGF0YSA9IHJlZigpO1xuICBjb25zdCBlcnJvciA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IHBvc3QgPSAoZGF0YTIpID0+IHtcbiAgICBpZiAoY2hhbm5lbC52YWx1ZSlcbiAgICAgIGNoYW5uZWwudmFsdWUucG9zdE1lc3NhZ2UoZGF0YTIpO1xuICB9O1xuICBjb25zdCBjbG9zZSA9ICgpID0+IHtcbiAgICBpZiAoY2hhbm5lbC52YWx1ZSlcbiAgICAgIGNoYW5uZWwudmFsdWUuY2xvc2UoKTtcbiAgICBpc0Nsb3NlZC52YWx1ZSA9IHRydWU7XG4gIH07XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgICBlcnJvci52YWx1ZSA9IG51bGw7XG4gICAgICBjaGFubmVsLnZhbHVlID0gbmV3IEJyb2FkY2FzdENoYW5uZWwobmFtZSk7XG4gICAgICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7XG4gICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgIH07XG4gICAgICB1c2VFdmVudExpc3RlbmVyKGNoYW5uZWwsIFwibWVzc2FnZVwiLCAoZSkgPT4ge1xuICAgICAgICBkYXRhLnZhbHVlID0gZS5kYXRhO1xuICAgICAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIoY2hhbm5lbCwgXCJtZXNzYWdlZXJyb3JcIiwgKGUpID0+IHtcbiAgICAgICAgZXJyb3IudmFsdWUgPSBlO1xuICAgICAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIoY2hhbm5lbCwgXCJjbG9zZVwiLCAoKSA9PiB7XG4gICAgICAgIGlzQ2xvc2VkLnZhbHVlID0gdHJ1ZTtcbiAgICAgIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgIGNsb3NlKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGNoYW5uZWwsXG4gICAgZGF0YSxcbiAgICBwb3N0LFxuICAgIGNsb3NlLFxuICAgIGVycm9yLFxuICAgIGlzQ2xvc2VkXG4gIH07XG59XG5cbmNvbnN0IFdSSVRBQkxFX1BST1BFUlRJRVMgPSBbXG4gIFwiaGFzaFwiLFxuICBcImhvc3RcIixcbiAgXCJob3N0bmFtZVwiLFxuICBcImhyZWZcIixcbiAgXCJwYXRobmFtZVwiLFxuICBcInBvcnRcIixcbiAgXCJwcm90b2NvbFwiLFxuICBcInNlYXJjaFwiXG5dO1xuZnVuY3Rpb24gdXNlQnJvd3NlckxvY2F0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlZnMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgV1JJVEFCTEVfUFJPUEVSVElFUy5tYXAoKGtleSkgPT4gW2tleSwgcmVmKCldKVxuICApO1xuICBmb3IgKGNvbnN0IFtrZXksIHJlZl0gb2Ygb2JqZWN0RW50cmllcyhyZWZzKSkge1xuICAgIHdhdGNoKHJlZiwgKHZhbHVlKSA9PiB7XG4gICAgICBpZiAoISh3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhdGlvbikgfHwgd2luZG93LmxvY2F0aW9uW2tleV0gPT09IHZhbHVlKVxuICAgICAgICByZXR1cm47XG4gICAgICB3aW5kb3cubG9jYXRpb25ba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IGJ1aWxkU3RhdGUgPSAodHJpZ2dlcikgPT4ge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IHN0YXRlOiBzdGF0ZTIsIGxlbmd0aCB9ID0gKHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93Lmhpc3RvcnkpIHx8IHt9O1xuICAgIGNvbnN0IHsgb3JpZ2luIH0gPSAod2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubG9jYXRpb24pIHx8IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IG9mIFdSSVRBQkxFX1BST1BFUlRJRVMpXG4gICAgICByZWZzW2tleV0udmFsdWUgPSAoX2EgPSB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hW2tleV07XG4gICAgcmV0dXJuIHJlYWN0aXZlKHtcbiAgICAgIHRyaWdnZXIsXG4gICAgICBzdGF0ZTogc3RhdGUyLFxuICAgICAgbGVuZ3RoLFxuICAgICAgb3JpZ2luLFxuICAgICAgLi4ucmVmc1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBzdGF0ZSA9IHJlZihidWlsZFN0YXRlKFwibG9hZFwiKSk7XG4gIGlmICh3aW5kb3cpIHtcbiAgICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJwb3BzdGF0ZVwiLCAoKSA9PiBzdGF0ZS52YWx1ZSA9IGJ1aWxkU3RhdGUoXCJwb3BzdGF0ZVwiKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJoYXNoY2hhbmdlXCIsICgpID0+IHN0YXRlLnZhbHVlID0gYnVpbGRTdGF0ZShcImhhc2hjaGFuZ2VcIiksIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiB1c2VDYWNoZWQocmVmVmFsdWUsIGNvbXBhcmF0b3IgPSAoYSwgYikgPT4gYSA9PT0gYiwgb3B0aW9ucykge1xuICBjb25zdCB7IGRlZXBSZWZzID0gdHJ1ZSwgLi4ud2F0Y2hPcHRpb25zIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBjYWNoZWRWYWx1ZSA9IGNyZWF0ZVJlZihyZWZWYWx1ZS52YWx1ZSwgZGVlcFJlZnMpO1xuICB3YXRjaCgoKSA9PiByZWZWYWx1ZS52YWx1ZSwgKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFjb21wYXJhdG9yKHZhbHVlLCBjYWNoZWRWYWx1ZS52YWx1ZSkpXG4gICAgICBjYWNoZWRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICB9LCB3YXRjaE9wdGlvbnMpO1xuICByZXR1cm4gY2FjaGVkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVzZVBlcm1pc3Npb24ocGVybWlzc2lvbkRlc2MsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY29udHJvbHMgPSBmYWxzZSxcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJwZXJtaXNzaW9uc1wiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IHBlcm1pc3Npb25TdGF0dXMgPSBzaGFsbG93UmVmKCk7XG4gIGNvbnN0IGRlc2MgPSB0eXBlb2YgcGVybWlzc2lvbkRlc2MgPT09IFwic3RyaW5nXCIgPyB7IG5hbWU6IHBlcm1pc3Npb25EZXNjIH0gOiBwZXJtaXNzaW9uRGVzYztcbiAgY29uc3Qgc3RhdGUgPSBzaGFsbG93UmVmKCk7XG4gIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHN0YXRlLnZhbHVlID0gKF9iID0gKF9hID0gcGVybWlzc2lvblN0YXR1cy52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0YXRlKSAhPSBudWxsID8gX2IgOiBcInByb21wdFwiO1xuICB9O1xuICB1c2VFdmVudExpc3RlbmVyKHBlcm1pc3Npb25TdGF0dXMsIFwiY2hhbmdlXCIsIHVwZGF0ZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICBjb25zdCBxdWVyeSA9IGNyZWF0ZVNpbmdsZXRvblByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFwZXJtaXNzaW9uU3RhdHVzLnZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBwZXJtaXNzaW9uU3RhdHVzLnZhbHVlID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KGRlc2MpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBwZXJtaXNzaW9uU3RhdHVzLnZhbHVlID0gdm9pZCAwO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb250cm9scylcbiAgICAgIHJldHVybiB0b1JhdyhwZXJtaXNzaW9uU3RhdHVzLnZhbHVlKTtcbiAgfSk7XG4gIHF1ZXJ5KCk7XG4gIGlmIChjb250cm9scykge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0ZSxcbiAgICAgIGlzU3VwcG9ydGVkLFxuICAgICAgcXVlcnlcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1c2VDbGlwYm9hcmQob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yLFxuICAgIHJlYWQgPSBmYWxzZSxcbiAgICBzb3VyY2UsXG4gICAgY29waWVkRHVyaW5nID0gMTUwMCxcbiAgICBsZWdhY3kgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNDbGlwYm9hcmRBcGlTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiY2xpcGJvYXJkXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgcGVybWlzc2lvblJlYWQgPSB1c2VQZXJtaXNzaW9uKFwiY2xpcGJvYXJkLXJlYWRcIik7XG4gIGNvbnN0IHBlcm1pc3Npb25Xcml0ZSA9IHVzZVBlcm1pc3Npb24oXCJjbGlwYm9hcmQtd3JpdGVcIik7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gY29tcHV0ZWQoKCkgPT4gaXNDbGlwYm9hcmRBcGlTdXBwb3J0ZWQudmFsdWUgfHwgbGVnYWN5KTtcbiAgY29uc3QgdGV4dCA9IHNoYWxsb3dSZWYoXCJcIik7XG4gIGNvbnN0IGNvcGllZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCB0aW1lb3V0ID0gdXNlVGltZW91dEZuKCgpID0+IGNvcGllZC52YWx1ZSA9IGZhbHNlLCBjb3BpZWREdXJpbmcsIHsgaW1tZWRpYXRlOiBmYWxzZSB9KTtcbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVGV4dCgpIHtcbiAgICBsZXQgdXNlTGVnYWN5ID0gIShpc0NsaXBib2FyZEFwaVN1cHBvcnRlZC52YWx1ZSAmJiBpc0FsbG93ZWQocGVybWlzc2lvblJlYWQudmFsdWUpKTtcbiAgICBpZiAoIXVzZUxlZ2FjeSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGV4dC52YWx1ZSA9IGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdXNlTGVnYWN5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVzZUxlZ2FjeSkge1xuICAgICAgdGV4dC52YWx1ZSA9IGxlZ2FjeVJlYWQoKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHJlYWQpXG4gICAgdXNlRXZlbnRMaXN0ZW5lcihbXCJjb3B5XCIsIFwiY3V0XCJdLCB1cGRhdGVUZXh0LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIGFzeW5jIGZ1bmN0aW9uIGNvcHkodmFsdWUgPSB0b1ZhbHVlKHNvdXJjZSkpIHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgdmFsdWUgIT0gbnVsbCkge1xuICAgICAgbGV0IHVzZUxlZ2FjeSA9ICEoaXNDbGlwYm9hcmRBcGlTdXBwb3J0ZWQudmFsdWUgJiYgaXNBbGxvd2VkKHBlcm1pc3Npb25Xcml0ZS52YWx1ZSkpO1xuICAgICAgaWYgKCF1c2VMZWdhY3kpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh2YWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB1c2VMZWdhY3kgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodXNlTGVnYWN5KVxuICAgICAgICBsZWdhY3lDb3B5KHZhbHVlKTtcbiAgICAgIHRleHQudmFsdWUgPSB2YWx1ZTtcbiAgICAgIGNvcGllZC52YWx1ZSA9IHRydWU7XG4gICAgICB0aW1lb3V0LnN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGxlZ2FjeUNvcHkodmFsdWUpIHtcbiAgICBjb25zdCB0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICB0YS52YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IFwiXCI7XG4gICAgdGEuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGEuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGEpO1xuICAgIHRhLnNlbGVjdCgpO1xuICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcbiAgICB0YS5yZW1vdmUoKTtcbiAgfVxuICBmdW5jdGlvbiBsZWdhY3lSZWFkKCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiAoX2MgPSAoX2IgPSAoX2EgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChkb2N1bWVudCkpID09IG51bGwgPyB2b2lkIDAgOiBfYi50b1N0cmluZygpKSAhPSBudWxsID8gX2MgOiBcIlwiO1xuICB9XG4gIGZ1bmN0aW9uIGlzQWxsb3dlZChzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID09PSBcImdyYW50ZWRcIiB8fCBzdGF0dXMgPT09IFwicHJvbXB0XCI7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICB0ZXh0LFxuICAgIGNvcGllZCxcbiAgICBjb3B5XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUNsaXBib2FyZEl0ZW1zKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgbmF2aWdhdG9yID0gZGVmYXVsdE5hdmlnYXRvcixcbiAgICByZWFkID0gZmFsc2UsXG4gICAgc291cmNlLFxuICAgIGNvcGllZER1cmluZyA9IDE1MDBcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcImNsaXBib2FyZFwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGNvbnRlbnQgPSByZWYoW10pO1xuICBjb25zdCBjb3BpZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgdGltZW91dCA9IHVzZVRpbWVvdXRGbigoKSA9PiBjb3BpZWQudmFsdWUgPSBmYWxzZSwgY29waWVkRHVyaW5nLCB7IGltbWVkaWF0ZTogZmFsc2UgfSk7XG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnQoKSB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWQoKS50aGVuKChpdGVtcykgPT4ge1xuICAgICAgICBjb250ZW50LnZhbHVlID0gaXRlbXM7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHJlYWQpXG4gICAgdXNlRXZlbnRMaXN0ZW5lcihbXCJjb3B5XCIsIFwiY3V0XCJdLCB1cGRhdGVDb250ZW50LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIGFzeW5jIGZ1bmN0aW9uIGNvcHkodmFsdWUgPSB0b1ZhbHVlKHNvdXJjZSkpIHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgdmFsdWUgIT0gbnVsbCkge1xuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZSh2YWx1ZSk7XG4gICAgICBjb250ZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICBjb3BpZWQudmFsdWUgPSB0cnVlO1xuICAgICAgdGltZW91dC5zdGFydCgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGNvbnRlbnQsXG4gICAgY29waWVkLFxuICAgIGNvcHlcbiAgfTtcbn1cblxuZnVuY3Rpb24gY2xvbmVGbkpTT04oc291cmNlKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNvdXJjZSkpO1xufVxuZnVuY3Rpb24gdXNlQ2xvbmVkKHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGNsb25lZCA9IHJlZih7fSk7XG4gIGNvbnN0IGlzTW9kaWZpZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgbGV0IF9sYXN0U3luYyA9IGZhbHNlO1xuICBjb25zdCB7XG4gICAgbWFudWFsLFxuICAgIGNsb25lID0gY2xvbmVGbkpTT04sXG4gICAgLy8gd2F0Y2ggb3B0aW9uc1xuICAgIGRlZXAgPSB0cnVlLFxuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIHdhdGNoKGNsb25lZCwgKCkgPT4ge1xuICAgIGlmIChfbGFzdFN5bmMpIHtcbiAgICAgIF9sYXN0U3luYyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpc01vZGlmaWVkLnZhbHVlID0gdHJ1ZTtcbiAgfSwge1xuICAgIGRlZXA6IHRydWUsXG4gICAgZmx1c2g6IFwic3luY1wiXG4gIH0pO1xuICBmdW5jdGlvbiBzeW5jKCkge1xuICAgIF9sYXN0U3luYyA9IHRydWU7XG4gICAgaXNNb2RpZmllZC52YWx1ZSA9IGZhbHNlO1xuICAgIGNsb25lZC52YWx1ZSA9IGNsb25lKHRvVmFsdWUoc291cmNlKSk7XG4gIH1cbiAgaWYgKCFtYW51YWwgJiYgKGlzUmVmKHNvdXJjZSkgfHwgdHlwZW9mIHNvdXJjZSA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHdhdGNoKHNvdXJjZSwgc3luYywge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGRlZXAsXG4gICAgICBpbW1lZGlhdGVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzeW5jKCk7XG4gIH1cbiAgcmV0dXJuIHsgY2xvbmVkLCBpc01vZGlmaWVkLCBzeW5jIH07XG59XG5cbmNvbnN0IF9nbG9iYWwgPSB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHt9O1xuY29uc3QgZ2xvYmFsS2V5ID0gXCJfX3Z1ZXVzZV9zc3JfaGFuZGxlcnNfX1wiO1xuY29uc3QgaGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gZ2V0SGFuZGxlcnMoKTtcbmZ1bmN0aW9uIGdldEhhbmRsZXJzKCkge1xuICBpZiAoIShnbG9iYWxLZXkgaW4gX2dsb2JhbCkpXG4gICAgX2dsb2JhbFtnbG9iYWxLZXldID0gX2dsb2JhbFtnbG9iYWxLZXldIHx8IHt9O1xuICByZXR1cm4gX2dsb2JhbFtnbG9iYWxLZXldO1xufVxuZnVuY3Rpb24gZ2V0U1NSSGFuZGxlcihrZXksIGZhbGxiYWNrKSB7XG4gIHJldHVybiBoYW5kbGVyc1trZXldIHx8IGZhbGxiYWNrO1xufVxuZnVuY3Rpb24gc2V0U1NSSGFuZGxlcihrZXksIGZuKSB7XG4gIGhhbmRsZXJzW2tleV0gPSBmbjtcbn1cblxuZnVuY3Rpb24gdXNlUHJlZmVycmVkRGFyayhvcHRpb25zKSB7XG4gIHJldHVybiB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiLCBvcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gZ3Vlc3NTZXJpYWxpemVyVHlwZShyYXdJbml0KSB7XG4gIHJldHVybiByYXdJbml0ID09IG51bGwgPyBcImFueVwiIDogcmF3SW5pdCBpbnN0YW5jZW9mIFNldCA/IFwic2V0XCIgOiByYXdJbml0IGluc3RhbmNlb2YgTWFwID8gXCJtYXBcIiA6IHJhd0luaXQgaW5zdGFuY2VvZiBEYXRlID8gXCJkYXRlXCIgOiB0eXBlb2YgcmF3SW5pdCA9PT0gXCJib29sZWFuXCIgPyBcImJvb2xlYW5cIiA6IHR5cGVvZiByYXdJbml0ID09PSBcInN0cmluZ1wiID8gXCJzdHJpbmdcIiA6IHR5cGVvZiByYXdJbml0ID09PSBcIm9iamVjdFwiID8gXCJvYmplY3RcIiA6ICFOdW1iZXIuaXNOYU4ocmF3SW5pdCkgPyBcIm51bWJlclwiIDogXCJhbnlcIjtcbn1cblxuY29uc3QgU3RvcmFnZVNlcmlhbGl6ZXJzID0ge1xuICBib29sZWFuOiB7XG4gICAgcmVhZDogKHYpID0+IHYgPT09IFwidHJ1ZVwiLFxuICAgIHdyaXRlOiAodikgPT4gU3RyaW5nKHYpXG4gIH0sXG4gIG9iamVjdDoge1xuICAgIHJlYWQ6ICh2KSA9PiBKU09OLnBhcnNlKHYpLFxuICAgIHdyaXRlOiAodikgPT4gSlNPTi5zdHJpbmdpZnkodilcbiAgfSxcbiAgbnVtYmVyOiB7XG4gICAgcmVhZDogKHYpID0+IE51bWJlci5wYXJzZUZsb2F0KHYpLFxuICAgIHdyaXRlOiAodikgPT4gU3RyaW5nKHYpXG4gIH0sXG4gIGFueToge1xuICAgIHJlYWQ6ICh2KSA9PiB2LFxuICAgIHdyaXRlOiAodikgPT4gU3RyaW5nKHYpXG4gIH0sXG4gIHN0cmluZzoge1xuICAgIHJlYWQ6ICh2KSA9PiB2LFxuICAgIHdyaXRlOiAodikgPT4gU3RyaW5nKHYpXG4gIH0sXG4gIG1hcDoge1xuICAgIHJlYWQ6ICh2KSA9PiBuZXcgTWFwKEpTT04ucGFyc2UodikpLFxuICAgIHdyaXRlOiAodikgPT4gSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbSh2LmVudHJpZXMoKSkpXG4gIH0sXG4gIHNldDoge1xuICAgIHJlYWQ6ICh2KSA9PiBuZXcgU2V0KEpTT04ucGFyc2UodikpLFxuICAgIHdyaXRlOiAodikgPT4gSlNPTi5zdHJpbmdpZnkoQXJyYXkuZnJvbSh2KSlcbiAgfSxcbiAgZGF0ZToge1xuICAgIHJlYWQ6ICh2KSA9PiBuZXcgRGF0ZSh2KSxcbiAgICB3cml0ZTogKHYpID0+IHYudG9JU09TdHJpbmcoKVxuICB9XG59O1xuY29uc3QgY3VzdG9tU3RvcmFnZUV2ZW50TmFtZSA9IFwidnVldXNlLXN0b3JhZ2VcIjtcbmZ1bmN0aW9uIHVzZVN0b3JhZ2Uoa2V5LCBkZWZhdWx0cywgc3RvcmFnZSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIGZsdXNoID0gXCJwcmVcIixcbiAgICBkZWVwID0gdHJ1ZSxcbiAgICBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzID0gdHJ1ZSxcbiAgICB3cml0ZURlZmF1bHRzID0gdHJ1ZSxcbiAgICBtZXJnZURlZmF1bHRzID0gZmFsc2UsXG4gICAgc2hhbGxvdyxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGV2ZW50RmlsdGVyLFxuICAgIG9uRXJyb3IgPSAoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9LFxuICAgIGluaXRPbk1vdW50ZWRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRhdGEgPSAoc2hhbGxvdyA/IHNoYWxsb3dSZWYgOiByZWYpKHR5cGVvZiBkZWZhdWx0cyA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdHMoKSA6IGRlZmF1bHRzKTtcbiAgY29uc3Qga2V5Q29tcHV0ZWQgPSBjb21wdXRlZCgoKSA9PiB0b1ZhbHVlKGtleSkpO1xuICBpZiAoIXN0b3JhZ2UpIHtcbiAgICB0cnkge1xuICAgICAgc3RvcmFnZSA9IGdldFNTUkhhbmRsZXIoXCJnZXREZWZhdWx0U3RvcmFnZVwiLCAoKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiAoX2EyID0gZGVmYXVsdFdpbmRvdykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5sb2NhbFN0b3JhZ2U7XG4gICAgICB9KSgpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIGlmICghc3RvcmFnZSlcbiAgICByZXR1cm4gZGF0YTtcbiAgY29uc3QgcmF3SW5pdCA9IHRvVmFsdWUoZGVmYXVsdHMpO1xuICBjb25zdCB0eXBlID0gZ3Vlc3NTZXJpYWxpemVyVHlwZShyYXdJbml0KTtcbiAgY29uc3Qgc2VyaWFsaXplciA9IChfYSA9IG9wdGlvbnMuc2VyaWFsaXplcikgIT0gbnVsbCA/IF9hIDogU3RvcmFnZVNlcmlhbGl6ZXJzW3R5cGVdO1xuICBjb25zdCB7IHBhdXNlOiBwYXVzZVdhdGNoLCByZXN1bWU6IHJlc3VtZVdhdGNoIH0gPSBwYXVzYWJsZVdhdGNoKFxuICAgIGRhdGEsXG4gICAgKCkgPT4gd3JpdGUoZGF0YS52YWx1ZSksXG4gICAgeyBmbHVzaCwgZGVlcCwgZXZlbnRGaWx0ZXIgfVxuICApO1xuICB3YXRjaChrZXlDb21wdXRlZCwgKCkgPT4gdXBkYXRlKCksIHsgZmx1c2ggfSk7XG4gIGxldCBmaXJzdE1vdW50ZWQgPSBmYWxzZTtcbiAgY29uc3Qgb25TdG9yYWdlRXZlbnQgPSAoZXYpID0+IHtcbiAgICBpZiAoaW5pdE9uTW91bnRlZCAmJiAhZmlyc3RNb3VudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZShldik7XG4gIH07XG4gIGNvbnN0IG9uU3RvcmFnZUN1c3RvbUV2ZW50ID0gKGV2KSA9PiB7XG4gICAgaWYgKGluaXRPbk1vdW50ZWQgJiYgIWZpcnN0TW91bnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVGcm9tQ3VzdG9tRXZlbnQoZXYpO1xuICB9O1xuICBpZiAod2luZG93ICYmIGxpc3RlblRvU3RvcmFnZUNoYW5nZXMpIHtcbiAgICBpZiAoc3RvcmFnZSBpbnN0YW5jZW9mIFN0b3JhZ2UpXG4gICAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJzdG9yYWdlXCIsIG9uU3RvcmFnZUV2ZW50LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgZWxzZVxuICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIGN1c3RvbVN0b3JhZ2VFdmVudE5hbWUsIG9uU3RvcmFnZUN1c3RvbUV2ZW50KTtcbiAgfVxuICBpZiAoaW5pdE9uTW91bnRlZCkge1xuICAgIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgICBmaXJzdE1vdW50ZWQgPSB0cnVlO1xuICAgICAgdXBkYXRlKCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlKCk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGF0Y2hXcml0ZUV2ZW50KG9sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIGtleToga2V5Q29tcHV0ZWQudmFsdWUsXG4gICAgICAgIG9sZFZhbHVlLFxuICAgICAgICBuZXdWYWx1ZSxcbiAgICAgICAgc3RvcmFnZUFyZWE6IHN0b3JhZ2VcbiAgICAgIH07XG4gICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChzdG9yYWdlIGluc3RhbmNlb2YgU3RvcmFnZSA/IG5ldyBTdG9yYWdlRXZlbnQoXCJzdG9yYWdlXCIsIHBheWxvYWQpIDogbmV3IEN1c3RvbUV2ZW50KGN1c3RvbVN0b3JhZ2VFdmVudE5hbWUsIHtcbiAgICAgICAgZGV0YWlsOiBwYXlsb2FkXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHdyaXRlKHYpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgb2xkVmFsdWUgPSBzdG9yYWdlLmdldEl0ZW0oa2V5Q29tcHV0ZWQudmFsdWUpO1xuICAgICAgaWYgKHYgPT0gbnVsbCkge1xuICAgICAgICBkaXNwYXRjaFdyaXRlRXZlbnQob2xkVmFsdWUsIG51bGwpO1xuICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5Q29tcHV0ZWQudmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IHNlcmlhbGl6ZXIud3JpdGUodik7XG4gICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gc2VyaWFsaXplZCkge1xuICAgICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXlDb21wdXRlZC52YWx1ZSwgc2VyaWFsaXplZCk7XG4gICAgICAgICAgZGlzcGF0Y2hXcml0ZUV2ZW50KG9sZFZhbHVlLCBzZXJpYWxpemVkKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlYWQoZXZlbnQpIHtcbiAgICBjb25zdCByYXdWYWx1ZSA9IGV2ZW50ID8gZXZlbnQubmV3VmFsdWUgOiBzdG9yYWdlLmdldEl0ZW0oa2V5Q29tcHV0ZWQudmFsdWUpO1xuICAgIGlmIChyYXdWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBpZiAod3JpdGVEZWZhdWx0cyAmJiByYXdJbml0ICE9IG51bGwpXG4gICAgICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXlDb21wdXRlZC52YWx1ZSwgc2VyaWFsaXplci53cml0ZShyYXdJbml0KSk7XG4gICAgICByZXR1cm4gcmF3SW5pdDtcbiAgICB9IGVsc2UgaWYgKCFldmVudCAmJiBtZXJnZURlZmF1bHRzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHNlcmlhbGl6ZXIucmVhZChyYXdWYWx1ZSk7XG4gICAgICBpZiAodHlwZW9mIG1lcmdlRGVmYXVsdHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIG1lcmdlRGVmYXVsdHModmFsdWUsIHJhd0luaXQpO1xuICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB7IC4uLnJhd0luaXQsIC4uLnZhbHVlIH07XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmF3VmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiByYXdWYWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNlcmlhbGl6ZXIucmVhZChyYXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZShldmVudCkge1xuICAgIGlmIChldmVudCAmJiBldmVudC5zdG9yYWdlQXJlYSAhPT0gc3RvcmFnZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ID09IG51bGwpIHtcbiAgICAgIGRhdGEudmFsdWUgPSByYXdJbml0O1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5ICE9PSBrZXlDb21wdXRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBwYXVzZVdhdGNoKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICgoZXZlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGV2ZW50Lm5ld1ZhbHVlKSAhPT0gc2VyaWFsaXplci53cml0ZShkYXRhLnZhbHVlKSlcbiAgICAgICAgZGF0YS52YWx1ZSA9IHJlYWQoZXZlbnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChldmVudClcbiAgICAgICAgbmV4dFRpY2socmVzdW1lV2F0Y2gpO1xuICAgICAgZWxzZVxuICAgICAgICByZXN1bWVXYXRjaCgpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVGcm9tQ3VzdG9tRXZlbnQoZXZlbnQpIHtcbiAgICB1cGRhdGUoZXZlbnQuZGV0YWlsKTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuY29uc3QgQ1NTX0RJU0FCTEVfVFJBTlMgPSBcIiosKjo6YmVmb3JlLCo6OmFmdGVyey13ZWJraXQtdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDstbW96LXRyYW5zaXRpb246bm9uZSFpbXBvcnRhbnQ7LW8tdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDstbXMtdHJhbnNpdGlvbjpub25lIWltcG9ydGFudDt0cmFuc2l0aW9uOm5vbmUhaW1wb3J0YW50fVwiO1xuZnVuY3Rpb24gdXNlQ29sb3JNb2RlKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgc2VsZWN0b3IgPSBcImh0bWxcIixcbiAgICBhdHRyaWJ1dGUgPSBcImNsYXNzXCIsXG4gICAgaW5pdGlhbFZhbHVlID0gXCJhdXRvXCIsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBzdG9yYWdlLFxuICAgIHN0b3JhZ2VLZXkgPSBcInZ1ZXVzZS1jb2xvci1zY2hlbWVcIixcbiAgICBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzID0gdHJ1ZSxcbiAgICBzdG9yYWdlUmVmLFxuICAgIGVtaXRBdXRvLFxuICAgIGRpc2FibGVUcmFuc2l0aW9uID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgbW9kZXMgPSB7XG4gICAgYXV0bzogXCJcIixcbiAgICBsaWdodDogXCJsaWdodFwiLFxuICAgIGRhcms6IFwiZGFya1wiLFxuICAgIC4uLm9wdGlvbnMubW9kZXMgfHwge31cbiAgfTtcbiAgY29uc3QgcHJlZmVycmVkRGFyayA9IHVzZVByZWZlcnJlZERhcmsoeyB3aW5kb3cgfSk7XG4gIGNvbnN0IHN5c3RlbSA9IGNvbXB1dGVkKCgpID0+IHByZWZlcnJlZERhcmsudmFsdWUgPyBcImRhcmtcIiA6IFwibGlnaHRcIik7XG4gIGNvbnN0IHN0b3JlID0gc3RvcmFnZVJlZiB8fCAoc3RvcmFnZUtleSA9PSBudWxsID8gdG9SZWYoaW5pdGlhbFZhbHVlKSA6IHVzZVN0b3JhZ2Uoc3RvcmFnZUtleSwgaW5pdGlhbFZhbHVlLCBzdG9yYWdlLCB7IHdpbmRvdywgbGlzdGVuVG9TdG9yYWdlQ2hhbmdlcyB9KSk7XG4gIGNvbnN0IHN0YXRlID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUudmFsdWUgPT09IFwiYXV0b1wiID8gc3lzdGVtLnZhbHVlIDogc3RvcmUudmFsdWUpO1xuICBjb25zdCB1cGRhdGVIVE1MQXR0cnMgPSBnZXRTU1JIYW5kbGVyKFxuICAgIFwidXBkYXRlSFRNTEF0dHJzXCIsXG4gICAgKHNlbGVjdG9yMiwgYXR0cmlidXRlMiwgdmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gdHlwZW9mIHNlbGVjdG9yMiA9PT0gXCJzdHJpbmdcIiA/IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IyKSA6IHVucmVmRWxlbWVudChzZWxlY3RvcjIpO1xuICAgICAgaWYgKCFlbClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgY2xhc3Nlc1RvQWRkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGNvbnN0IGNsYXNzZXNUb1JlbW92ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICBsZXQgYXR0cmlidXRlVG9DaGFuZ2UgPSBudWxsO1xuICAgICAgaWYgKGF0dHJpYnV0ZTIgPT09IFwiY2xhc3NcIikge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gdmFsdWUuc3BsaXQoL1xccy9nKTtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhtb2RlcykuZmxhdE1hcCgoaSkgPT4gKGkgfHwgXCJcIikuc3BsaXQoL1xccy9nKSkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICBpZiAoY3VycmVudC5pbmNsdWRlcyh2KSlcbiAgICAgICAgICAgIGNsYXNzZXNUb0FkZC5hZGQodik7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2xhc3Nlc1RvUmVtb3ZlLmFkZCh2KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdHRyaWJ1dGVUb0NoYW5nZSA9IHsga2V5OiBhdHRyaWJ1dGUyLCB2YWx1ZSB9O1xuICAgICAgfVxuICAgICAgaWYgKGNsYXNzZXNUb0FkZC5zaXplID09PSAwICYmIGNsYXNzZXNUb1JlbW92ZS5zaXplID09PSAwICYmIGF0dHJpYnV0ZVRvQ2hhbmdlID09PSBudWxsKVxuICAgICAgICByZXR1cm47XG4gICAgICBsZXQgc3R5bGU7XG4gICAgICBpZiAoZGlzYWJsZVRyYW5zaXRpb24pIHtcbiAgICAgICAgc3R5bGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShDU1NfRElTQUJMRV9UUkFOUykpO1xuICAgICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGMgb2YgY2xhc3Nlc1RvQWRkKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYyk7XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGMgb2YgY2xhc3Nlc1RvUmVtb3ZlKSB7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYyk7XG4gICAgICB9XG4gICAgICBpZiAoYXR0cmlidXRlVG9DaGFuZ2UpIHtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZVRvQ2hhbmdlLmtleSwgYXR0cmlidXRlVG9DaGFuZ2UudmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKGRpc2FibGVUcmFuc2l0aW9uKSB7XG4gICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHN0eWxlKS5vcGFjaXR5O1xuICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGZ1bmN0aW9uIGRlZmF1bHRPbkNoYW5nZWQobW9kZSkge1xuICAgIHZhciBfYTtcbiAgICB1cGRhdGVIVE1MQXR0cnMoc2VsZWN0b3IsIGF0dHJpYnV0ZSwgKF9hID0gbW9kZXNbbW9kZV0pICE9IG51bGwgPyBfYSA6IG1vZGUpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ2hhbmdlZChtb2RlKSB7XG4gICAgaWYgKG9wdGlvbnMub25DaGFuZ2VkKVxuICAgICAgb3B0aW9ucy5vbkNoYW5nZWQobW9kZSwgZGVmYXVsdE9uQ2hhbmdlZCk7XG4gICAgZWxzZVxuICAgICAgZGVmYXVsdE9uQ2hhbmdlZChtb2RlKTtcbiAgfVxuICB3YXRjaChzdGF0ZSwgb25DaGFuZ2VkLCB7IGZsdXNoOiBcInBvc3RcIiwgaW1tZWRpYXRlOiB0cnVlIH0pO1xuICB0cnlPbk1vdW50ZWQoKCkgPT4gb25DaGFuZ2VkKHN0YXRlLnZhbHVlKSk7XG4gIGNvbnN0IGF1dG8gPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIGVtaXRBdXRvID8gc3RvcmUudmFsdWUgOiBzdGF0ZS52YWx1ZTtcbiAgICB9LFxuICAgIHNldCh2KSB7XG4gICAgICBzdG9yZS52YWx1ZSA9IHY7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYXV0bywgeyBzdG9yZSwgc3lzdGVtLCBzdGF0ZSB9KTtcbn1cblxuZnVuY3Rpb24gdXNlQ29uZmlybURpYWxvZyhyZXZlYWxlZCA9IHNoYWxsb3dSZWYoZmFsc2UpKSB7XG4gIGNvbnN0IGNvbmZpcm1Ib29rID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IGNhbmNlbEhvb2sgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgcmV2ZWFsSG9vayA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBsZXQgX3Jlc29sdmUgPSBub29wO1xuICBjb25zdCByZXZlYWwgPSAoZGF0YSkgPT4ge1xuICAgIHJldmVhbEhvb2sudHJpZ2dlcihkYXRhKTtcbiAgICByZXZlYWxlZC52YWx1ZSA9IHRydWU7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGNvbmZpcm0gPSAoZGF0YSkgPT4ge1xuICAgIHJldmVhbGVkLnZhbHVlID0gZmFsc2U7XG4gICAgY29uZmlybUhvb2sudHJpZ2dlcihkYXRhKTtcbiAgICBfcmVzb2x2ZSh7IGRhdGEsIGlzQ2FuY2VsZWQ6IGZhbHNlIH0pO1xuICB9O1xuICBjb25zdCBjYW5jZWwgPSAoZGF0YSkgPT4ge1xuICAgIHJldmVhbGVkLnZhbHVlID0gZmFsc2U7XG4gICAgY2FuY2VsSG9vay50cmlnZ2VyKGRhdGEpO1xuICAgIF9yZXNvbHZlKHsgZGF0YSwgaXNDYW5jZWxlZDogdHJ1ZSB9KTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBpc1JldmVhbGVkOiBjb21wdXRlZCgoKSA9PiByZXZlYWxlZC52YWx1ZSksXG4gICAgcmV2ZWFsLFxuICAgIGNvbmZpcm0sXG4gICAgY2FuY2VsLFxuICAgIG9uUmV2ZWFsOiByZXZlYWxIb29rLm9uLFxuICAgIG9uQ29uZmlybTogY29uZmlybUhvb2sub24sXG4gICAgb25DYW5jZWw6IGNhbmNlbEhvb2sub25cbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlQ291bnRkb3duKGluaXRpYWxDb3VudGRvd24sIG9wdGlvbnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcmVtYWluaW5nID0gc2hhbGxvd1JlZih0b1ZhbHVlKGluaXRpYWxDb3VudGRvd24pKTtcbiAgY29uc3QgaW50ZXJ2YWxDb250cm9sbGVyID0gdXNlSW50ZXJ2YWxGbigoKSA9PiB7XG4gICAgdmFyIF9hMiwgX2IyO1xuICAgIGNvbnN0IHZhbHVlID0gcmVtYWluaW5nLnZhbHVlIC0gMTtcbiAgICByZW1haW5pbmcudmFsdWUgPSB2YWx1ZSA8IDAgPyAwIDogdmFsdWU7XG4gICAgKF9hMiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25UaWNrKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmNhbGwob3B0aW9ucyk7XG4gICAgaWYgKHJlbWFpbmluZy52YWx1ZSA8PSAwKSB7XG4gICAgICBpbnRlcnZhbENvbnRyb2xsZXIucGF1c2UoKTtcbiAgICAgIChfYjIgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm9uQ29tcGxldGUpID09IG51bGwgPyB2b2lkIDAgOiBfYjIuY2FsbChvcHRpb25zKTtcbiAgICB9XG4gIH0sIChfYSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW50ZXJ2YWwpICE9IG51bGwgPyBfYSA6IDFlMywgeyBpbW1lZGlhdGU6IChfYiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW1tZWRpYXRlKSAhPSBudWxsID8gX2IgOiBmYWxzZSB9KTtcbiAgY29uc3QgcmVzZXQgPSAoY291bnRkb3duKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICByZW1haW5pbmcudmFsdWUgPSAoX2EyID0gdG9WYWx1ZShjb3VudGRvd24pKSAhPSBudWxsID8gX2EyIDogdG9WYWx1ZShpbml0aWFsQ291bnRkb3duKTtcbiAgfTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBpbnRlcnZhbENvbnRyb2xsZXIucGF1c2UoKTtcbiAgICByZXNldCgpO1xuICB9O1xuICBjb25zdCByZXN1bWUgPSAoKSA9PiB7XG4gICAgaWYgKCFpbnRlcnZhbENvbnRyb2xsZXIuaXNBY3RpdmUudmFsdWUpIHtcbiAgICAgIGlmIChyZW1haW5pbmcudmFsdWUgPiAwKSB7XG4gICAgICAgIGludGVydmFsQ29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHN0YXJ0ID0gKGNvdW50ZG93bikgPT4ge1xuICAgIHJlc2V0KGNvdW50ZG93bik7XG4gICAgaW50ZXJ2YWxDb250cm9sbGVyLnJlc3VtZSgpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHJlbWFpbmluZyxcbiAgICByZXNldCxcbiAgICBzdG9wLFxuICAgIHN0YXJ0LFxuICAgIHBhdXNlOiBpbnRlcnZhbENvbnRyb2xsZXIucGF1c2UsXG4gICAgcmVzdW1lLFxuICAgIGlzQWN0aXZlOiBpbnRlcnZhbENvbnRyb2xsZXIuaXNBY3RpdmVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlQ3NzVmFyKHByb3AsIHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgaW5pdGlhbFZhbHVlLCBvYnNlcnZlID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHZhcmlhYmxlID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCBlbFJlZiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHVucmVmRWxlbWVudCh0YXJnZXQpIHx8ICgoX2EgPSB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5kb2N1bWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmRvY3VtZW50RWxlbWVudCk7XG4gIH0pO1xuICBmdW5jdGlvbiB1cGRhdGVDc3NWYXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGtleSA9IHRvVmFsdWUocHJvcCk7XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKGVsUmVmKTtcbiAgICBpZiAoZWwgJiYgd2luZG93ICYmIGtleSkge1xuICAgICAgY29uc3QgdmFsdWUgPSAoX2EgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZ2V0UHJvcGVydHlWYWx1ZShrZXkpKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHJpbSgpO1xuICAgICAgdmFyaWFibGUudmFsdWUgPSB2YWx1ZSB8fCB2YXJpYWJsZS52YWx1ZSB8fCBpbml0aWFsVmFsdWU7XG4gICAgfVxuICB9XG4gIGlmIChvYnNlcnZlKSB7XG4gICAgdXNlTXV0YXRpb25PYnNlcnZlcihlbFJlZiwgdXBkYXRlQ3NzVmFyLCB7XG4gICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtcInN0eWxlXCIsIFwiY2xhc3NcIl0sXG4gICAgICB3aW5kb3dcbiAgICB9KTtcbiAgfVxuICB3YXRjaChcbiAgICBbZWxSZWYsICgpID0+IHRvVmFsdWUocHJvcCldLFxuICAgIChfLCBvbGQpID0+IHtcbiAgICAgIGlmIChvbGRbMF0gJiYgb2xkWzFdKVxuICAgICAgICBvbGRbMF0uc3R5bGUucmVtb3ZlUHJvcGVydHkob2xkWzFdKTtcbiAgICAgIHVwZGF0ZUNzc1ZhcigpO1xuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUgfVxuICApO1xuICB3YXRjaChcbiAgICBbdmFyaWFibGUsIGVsUmVmXSxcbiAgICAoW3ZhbCwgZWxdKSA9PiB7XG4gICAgICBjb25zdCByYXdfcHJvcCA9IHRvVmFsdWUocHJvcCk7XG4gICAgICBpZiAoKGVsID09IG51bGwgPyB2b2lkIDAgOiBlbC5zdHlsZSkgJiYgcmF3X3Byb3ApIHtcbiAgICAgICAgaWYgKHZhbCA9PSBudWxsKVxuICAgICAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KHJhd19wcm9wKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KHJhd19wcm9wLCB2YWwpO1xuICAgICAgfVxuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUgfVxuICApO1xuICByZXR1cm4gdmFyaWFibGU7XG59XG5cbmZ1bmN0aW9uIHVzZUN1cnJlbnRFbGVtZW50KHJvb3RDb21wb25lbnQpIHtcbiAgY29uc3Qgdm0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgY29uc3QgY3VycmVudEVsZW1lbnQgPSBjb21wdXRlZFdpdGhDb250cm9sKFxuICAgICgpID0+IG51bGwsXG4gICAgKCkgPT4gcm9vdENvbXBvbmVudCA/IHVucmVmRWxlbWVudChyb290Q29tcG9uZW50KSA6IHZtLnByb3h5LiRlbFxuICApO1xuICBvblVwZGF0ZWQoY3VycmVudEVsZW1lbnQudHJpZ2dlcik7XG4gIG9uTW91bnRlZChjdXJyZW50RWxlbWVudC50cmlnZ2VyKTtcbiAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiB1c2VDeWNsZUxpc3QobGlzdCwgb3B0aW9ucykge1xuICBjb25zdCBzdGF0ZSA9IHNoYWxsb3dSZWYoZ2V0SW5pdGlhbFZhbHVlKCkpO1xuICBjb25zdCBsaXN0UmVmID0gdG9SZWYobGlzdCk7XG4gIGNvbnN0IGluZGV4ID0gY29tcHV0ZWQoe1xuICAgIGdldCgpIHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IHRhcmdldExpc3QgPSBsaXN0UmVmLnZhbHVlO1xuICAgICAgbGV0IGluZGV4MiA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmdldEluZGV4T2YpID8gb3B0aW9ucy5nZXRJbmRleE9mKHN0YXRlLnZhbHVlLCB0YXJnZXRMaXN0KSA6IHRhcmdldExpc3QuaW5kZXhPZihzdGF0ZS52YWx1ZSk7XG4gICAgICBpZiAoaW5kZXgyIDwgMClcbiAgICAgICAgaW5kZXgyID0gKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5mYWxsYmFja0luZGV4KSAhPSBudWxsID8gX2EgOiAwO1xuICAgICAgcmV0dXJuIGluZGV4MjtcbiAgICB9LFxuICAgIHNldCh2KSB7XG4gICAgICBzZXQodik7XG4gICAgfVxuICB9KTtcbiAgZnVuY3Rpb24gc2V0KGkpIHtcbiAgICBjb25zdCB0YXJnZXRMaXN0ID0gbGlzdFJlZi52YWx1ZTtcbiAgICBjb25zdCBsZW5ndGggPSB0YXJnZXRMaXN0Lmxlbmd0aDtcbiAgICBjb25zdCBpbmRleDIgPSAoaSAlIGxlbmd0aCArIGxlbmd0aCkgJSBsZW5ndGg7XG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXRMaXN0W2luZGV4Ml07XG4gICAgc3RhdGUudmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgZnVuY3Rpb24gc2hpZnQoZGVsdGEgPSAxKSB7XG4gICAgcmV0dXJuIHNldChpbmRleC52YWx1ZSArIGRlbHRhKTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KG4gPSAxKSB7XG4gICAgcmV0dXJuIHNoaWZ0KG4pO1xuICB9XG4gIGZ1bmN0aW9uIHByZXYobiA9IDEpIHtcbiAgICByZXR1cm4gc2hpZnQoLW4pO1xuICB9XG4gIGZ1bmN0aW9uIGdldEluaXRpYWxWYWx1ZSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSB0b1ZhbHVlKChfYSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5pdGlhbFZhbHVlKSAhPSBudWxsID8gX2EgOiB0b1ZhbHVlKGxpc3QpWzBdKSkgIT0gbnVsbCA/IF9iIDogdm9pZCAwO1xuICB9XG4gIHdhdGNoKGxpc3RSZWYsICgpID0+IHNldChpbmRleC52YWx1ZSkpO1xuICByZXR1cm4ge1xuICAgIHN0YXRlLFxuICAgIGluZGV4LFxuICAgIG5leHQsXG4gICAgcHJldixcbiAgICBnbzogc2V0XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURhcmsob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZURhcmsgPSBcImRhcmtcIixcbiAgICB2YWx1ZUxpZ2h0ID0gXCJcIlxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgbW9kZSA9IHVzZUNvbG9yTW9kZSh7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBvbkNoYW5nZWQ6IChtb2RlMiwgZGVmYXVsdEhhbmRsZXIpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGlmIChvcHRpb25zLm9uQ2hhbmdlZClcbiAgICAgICAgKF9hID0gb3B0aW9ucy5vbkNoYW5nZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMsIG1vZGUyID09PSBcImRhcmtcIiwgZGVmYXVsdEhhbmRsZXIsIG1vZGUyKTtcbiAgICAgIGVsc2VcbiAgICAgICAgZGVmYXVsdEhhbmRsZXIobW9kZTIpO1xuICAgIH0sXG4gICAgbW9kZXM6IHtcbiAgICAgIGRhcms6IHZhbHVlRGFyayxcbiAgICAgIGxpZ2h0OiB2YWx1ZUxpZ2h0XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc3lzdGVtID0gY29tcHV0ZWQoKCkgPT4gbW9kZS5zeXN0ZW0udmFsdWUpO1xuICBjb25zdCBpc0RhcmsgPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIG1vZGUudmFsdWUgPT09IFwiZGFya1wiO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIGNvbnN0IG1vZGVWYWwgPSB2ID8gXCJkYXJrXCIgOiBcImxpZ2h0XCI7XG4gICAgICBpZiAoc3lzdGVtLnZhbHVlID09PSBtb2RlVmFsKVxuICAgICAgICBtb2RlLnZhbHVlID0gXCJhdXRvXCI7XG4gICAgICBlbHNlXG4gICAgICAgIG1vZGUudmFsdWUgPSBtb2RlVmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBpc0Rhcms7XG59XG5cbmZ1bmN0aW9uIGZuQnlwYXNzKHYpIHtcbiAgcmV0dXJuIHY7XG59XG5mdW5jdGlvbiBmblNldFNvdXJjZShzb3VyY2UsIHZhbHVlKSB7XG4gIHJldHVybiBzb3VyY2UudmFsdWUgPSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHREdW1wKGNsb25lKSB7XG4gIHJldHVybiBjbG9uZSA/IHR5cGVvZiBjbG9uZSA9PT0gXCJmdW5jdGlvblwiID8gY2xvbmUgOiBjbG9uZUZuSlNPTiA6IGZuQnlwYXNzO1xufVxuZnVuY3Rpb24gZGVmYXVsdFBhcnNlKGNsb25lKSB7XG4gIHJldHVybiBjbG9uZSA/IHR5cGVvZiBjbG9uZSA9PT0gXCJmdW5jdGlvblwiID8gY2xvbmUgOiBjbG9uZUZuSlNPTiA6IGZuQnlwYXNzO1xufVxuZnVuY3Rpb24gdXNlTWFudWFsUmVmSGlzdG9yeShzb3VyY2UsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgY2xvbmUgPSBmYWxzZSxcbiAgICBkdW1wID0gZGVmYXVsdER1bXAoY2xvbmUpLFxuICAgIHBhcnNlID0gZGVmYXVsdFBhcnNlKGNsb25lKSxcbiAgICBzZXRTb3VyY2UgPSBmblNldFNvdXJjZVxuICB9ID0gb3B0aW9ucztcbiAgZnVuY3Rpb24gX2NyZWF0ZUhpc3RvcnlSZWNvcmQoKSB7XG4gICAgcmV0dXJuIG1hcmtSYXcoe1xuICAgICAgc25hcHNob3Q6IGR1bXAoc291cmNlLnZhbHVlKSxcbiAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wKClcbiAgICB9KTtcbiAgfVxuICBjb25zdCBsYXN0ID0gcmVmKF9jcmVhdGVIaXN0b3J5UmVjb3JkKCkpO1xuICBjb25zdCB1bmRvU3RhY2sgPSByZWYoW10pO1xuICBjb25zdCByZWRvU3RhY2sgPSByZWYoW10pO1xuICBjb25zdCBfc2V0U291cmNlID0gKHJlY29yZCkgPT4ge1xuICAgIHNldFNvdXJjZShzb3VyY2UsIHBhcnNlKHJlY29yZC5zbmFwc2hvdCkpO1xuICAgIGxhc3QudmFsdWUgPSByZWNvcmQ7XG4gIH07XG4gIGNvbnN0IGNvbW1pdCA9ICgpID0+IHtcbiAgICB1bmRvU3RhY2sudmFsdWUudW5zaGlmdChsYXN0LnZhbHVlKTtcbiAgICBsYXN0LnZhbHVlID0gX2NyZWF0ZUhpc3RvcnlSZWNvcmQoKTtcbiAgICBpZiAob3B0aW9ucy5jYXBhY2l0eSAmJiB1bmRvU3RhY2sudmFsdWUubGVuZ3RoID4gb3B0aW9ucy5jYXBhY2l0eSlcbiAgICAgIHVuZG9TdGFjay52YWx1ZS5zcGxpY2Uob3B0aW9ucy5jYXBhY2l0eSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICBpZiAocmVkb1N0YWNrLnZhbHVlLmxlbmd0aClcbiAgICAgIHJlZG9TdGFjay52YWx1ZS5zcGxpY2UoMCwgcmVkb1N0YWNrLnZhbHVlLmxlbmd0aCk7XG4gIH07XG4gIGNvbnN0IGNsZWFyID0gKCkgPT4ge1xuICAgIHVuZG9TdGFjay52YWx1ZS5zcGxpY2UoMCwgdW5kb1N0YWNrLnZhbHVlLmxlbmd0aCk7XG4gICAgcmVkb1N0YWNrLnZhbHVlLnNwbGljZSgwLCByZWRvU3RhY2sudmFsdWUubGVuZ3RoKTtcbiAgfTtcbiAgY29uc3QgdW5kbyA9ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVuZG9TdGFjay52YWx1ZS5zaGlmdCgpO1xuICAgIGlmIChzdGF0ZSkge1xuICAgICAgcmVkb1N0YWNrLnZhbHVlLnVuc2hpZnQobGFzdC52YWx1ZSk7XG4gICAgICBfc2V0U291cmNlKHN0YXRlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlZG8gPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSByZWRvU3RhY2sudmFsdWUuc2hpZnQoKTtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgIHVuZG9TdGFjay52YWx1ZS51bnNoaWZ0KGxhc3QudmFsdWUpO1xuICAgICAgX3NldFNvdXJjZShzdGF0ZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBfc2V0U291cmNlKGxhc3QudmFsdWUpO1xuICB9O1xuICBjb25zdCBoaXN0b3J5ID0gY29tcHV0ZWQoKCkgPT4gW2xhc3QudmFsdWUsIC4uLnVuZG9TdGFjay52YWx1ZV0pO1xuICBjb25zdCBjYW5VbmRvID0gY29tcHV0ZWQoKCkgPT4gdW5kb1N0YWNrLnZhbHVlLmxlbmd0aCA+IDApO1xuICBjb25zdCBjYW5SZWRvID0gY29tcHV0ZWQoKCkgPT4gcmVkb1N0YWNrLnZhbHVlLmxlbmd0aCA+IDApO1xuICByZXR1cm4ge1xuICAgIHNvdXJjZSxcbiAgICB1bmRvU3RhY2ssXG4gICAgcmVkb1N0YWNrLFxuICAgIGxhc3QsXG4gICAgaGlzdG9yeSxcbiAgICBjYW5VbmRvLFxuICAgIGNhblJlZG8sXG4gICAgY2xlYXIsXG4gICAgY29tbWl0LFxuICAgIHJlc2V0LFxuICAgIHVuZG8sXG4gICAgcmVkb1xuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VSZWZIaXN0b3J5KHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkZWVwID0gZmFsc2UsXG4gICAgZmx1c2ggPSBcInByZVwiLFxuICAgIGV2ZW50RmlsdGVyLFxuICAgIHNob3VsZENvbW1pdCA9ICgpID0+IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHtcbiAgICBldmVudEZpbHRlcjogY29tcG9zZWRGaWx0ZXIsXG4gICAgcGF1c2UsXG4gICAgcmVzdW1lOiByZXN1bWVUcmFja2luZyxcbiAgICBpc0FjdGl2ZTogaXNUcmFja2luZ1xuICB9ID0gcGF1c2FibGVGaWx0ZXIoZXZlbnRGaWx0ZXIpO1xuICBsZXQgbGFzdFJhd1ZhbHVlID0gc291cmNlLnZhbHVlO1xuICBjb25zdCB7XG4gICAgaWdub3JlVXBkYXRlcyxcbiAgICBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzLFxuICAgIHN0b3BcbiAgfSA9IHdhdGNoSWdub3JhYmxlKFxuICAgIHNvdXJjZSxcbiAgICBjb21taXQsXG4gICAgeyBkZWVwLCBmbHVzaCwgZXZlbnRGaWx0ZXI6IGNvbXBvc2VkRmlsdGVyIH1cbiAgKTtcbiAgZnVuY3Rpb24gc2V0U291cmNlKHNvdXJjZTIsIHZhbHVlKSB7XG4gICAgaWdub3JlUHJldkFzeW5jVXBkYXRlcygpO1xuICAgIGlnbm9yZVVwZGF0ZXMoKCkgPT4ge1xuICAgICAgc291cmNlMi52YWx1ZSA9IHZhbHVlO1xuICAgICAgbGFzdFJhd1ZhbHVlID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgbWFudWFsSGlzdG9yeSA9IHVzZU1hbnVhbFJlZkhpc3Rvcnkoc291cmNlLCB7IC4uLm9wdGlvbnMsIGNsb25lOiBvcHRpb25zLmNsb25lIHx8IGRlZXAsIHNldFNvdXJjZSB9KTtcbiAgY29uc3QgeyBjbGVhciwgY29tbWl0OiBtYW51YWxDb21taXQgfSA9IG1hbnVhbEhpc3Rvcnk7XG4gIGZ1bmN0aW9uIGNvbW1pdCgpIHtcbiAgICBpZ25vcmVQcmV2QXN5bmNVcGRhdGVzKCk7XG4gICAgaWYgKCFzaG91bGRDb21taXQobGFzdFJhd1ZhbHVlLCBzb3VyY2UudmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGxhc3RSYXdWYWx1ZSA9IHNvdXJjZS52YWx1ZTtcbiAgICBtYW51YWxDb21taXQoKTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUoY29tbWl0Tm93KSB7XG4gICAgcmVzdW1lVHJhY2tpbmcoKTtcbiAgICBpZiAoY29tbWl0Tm93KVxuICAgICAgY29tbWl0KCk7XG4gIH1cbiAgZnVuY3Rpb24gYmF0Y2goZm4pIHtcbiAgICBsZXQgY2FuY2VsZWQgPSBmYWxzZTtcbiAgICBjb25zdCBjYW5jZWwgPSAoKSA9PiBjYW5jZWxlZCA9IHRydWU7XG4gICAgaWdub3JlVXBkYXRlcygoKSA9PiB7XG4gICAgICBmbihjYW5jZWwpO1xuICAgIH0pO1xuICAgIGlmICghY2FuY2VsZWQpXG4gICAgICBjb21taXQoKTtcbiAgfVxuICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIHN0b3AoKTtcbiAgICBjbGVhcigpO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4ubWFudWFsSGlzdG9yeSxcbiAgICBpc1RyYWNraW5nLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZSxcbiAgICBjb21taXQsXG4gICAgYmF0Y2gsXG4gICAgZGlzcG9zZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VEZWJvdW5jZWRSZWZIaXN0b3J5KHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGZpbHRlciA9IG9wdGlvbnMuZGVib3VuY2UgPyBkZWJvdW5jZUZpbHRlcihvcHRpb25zLmRlYm91bmNlKSA6IHZvaWQgMDtcbiAgY29uc3QgaGlzdG9yeSA9IHVzZVJlZkhpc3Rvcnkoc291cmNlLCB7IC4uLm9wdGlvbnMsIGV2ZW50RmlsdGVyOiBmaWx0ZXIgfSk7XG4gIHJldHVybiB7XG4gICAgLi4uaGlzdG9yeVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VEZXZpY2VNb3Rpb24ob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIHJlcXVlc3RQZXJtaXNzaW9ucyA9IGZhbHNlLFxuICAgIGV2ZW50RmlsdGVyID0gYnlwYXNzRmlsdGVyXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB0eXBlb2YgRGV2aWNlTW90aW9uRXZlbnQgIT09IFwidW5kZWZpbmVkXCIpO1xuICBjb25zdCByZXF1aXJlUGVybWlzc2lvbnMgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gaXNTdXBwb3J0ZWQudmFsdWUgJiYgXCJyZXF1ZXN0UGVybWlzc2lvblwiIGluIERldmljZU1vdGlvbkV2ZW50ICYmIHR5cGVvZiBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbiA9PT0gXCJmdW5jdGlvblwiKTtcbiAgY29uc3QgcGVybWlzc2lvbkdyYW50ZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgYWNjZWxlcmF0aW9uID0gcmVmKHsgeDogbnVsbCwgeTogbnVsbCwgejogbnVsbCB9KTtcbiAgY29uc3Qgcm90YXRpb25SYXRlID0gcmVmKHsgYWxwaGE6IG51bGwsIGJldGE6IG51bGwsIGdhbW1hOiBudWxsIH0pO1xuICBjb25zdCBpbnRlcnZhbCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkgPSByZWYoe1xuICAgIHg6IG51bGwsXG4gICAgeTogbnVsbCxcbiAgICB6OiBudWxsXG4gIH0pO1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgIGNvbnN0IG9uRGV2aWNlTW90aW9uID0gY3JlYXRlRmlsdGVyV3JhcHBlcihcbiAgICAgICAgZXZlbnRGaWx0ZXIsXG4gICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pO1xuICAgICAgICAgIGFjY2VsZXJhdGlvbi52YWx1ZSA9IHtcbiAgICAgICAgICAgIHg6ICgoX2EgPSBldmVudC5hY2NlbGVyYXRpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYS54KSB8fCBudWxsLFxuICAgICAgICAgICAgeTogKChfYiA9IGV2ZW50LmFjY2VsZXJhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnkpIHx8IG51bGwsXG4gICAgICAgICAgICB6OiAoKF9jID0gZXZlbnQuYWNjZWxlcmF0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2MueikgfHwgbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgICAgYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS52YWx1ZSA9IHtcbiAgICAgICAgICAgIHg6ICgoX2QgPSBldmVudC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2QueCkgfHwgbnVsbCxcbiAgICAgICAgICAgIHk6ICgoX2UgPSBldmVudC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2UueSkgfHwgbnVsbCxcbiAgICAgICAgICAgIHo6ICgoX2YgPSBldmVudC5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2YueikgfHwgbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgICAgcm90YXRpb25SYXRlLnZhbHVlID0ge1xuICAgICAgICAgICAgYWxwaGE6ICgoX2cgPSBldmVudC5yb3RhdGlvblJhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfZy5hbHBoYSkgfHwgbnVsbCxcbiAgICAgICAgICAgIGJldGE6ICgoX2ggPSBldmVudC5yb3RhdGlvblJhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfaC5iZXRhKSB8fCBudWxsLFxuICAgICAgICAgICAgZ2FtbWE6ICgoX2kgPSBldmVudC5yb3RhdGlvblJhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfaS5nYW1tYSkgfHwgbnVsbFxuICAgICAgICAgIH07XG4gICAgICAgICAgaW50ZXJ2YWwudmFsdWUgPSBldmVudC5pbnRlcnZhbDtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImRldmljZW1vdGlvblwiLCBvbkRldmljZU1vdGlvbiwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBlbnN1cmVQZXJtaXNzaW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXJlcXVpcmVQZXJtaXNzaW9ucy52YWx1ZSlcbiAgICAgIHBlcm1pc3Npb25HcmFudGVkLnZhbHVlID0gdHJ1ZTtcbiAgICBpZiAocGVybWlzc2lvbkdyYW50ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHJlcXVpcmVQZXJtaXNzaW9ucy52YWx1ZSkge1xuICAgICAgY29uc3QgcmVxdWVzdFBlcm1pc3Npb24gPSBEZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlID09PSBcImdyYW50ZWRcIikge1xuICAgICAgICAgIHBlcm1pc3Npb25HcmFudGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICBpbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgaWYgKHJlcXVlc3RQZXJtaXNzaW9ucyAmJiByZXF1aXJlUGVybWlzc2lvbnMudmFsdWUpIHtcbiAgICAgIGVuc3VyZVBlcm1pc3Npb25zKCkudGhlbigoKSA9PiBpbml0KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0KCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgYWNjZWxlcmF0aW9uLFxuICAgIGFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHksXG4gICAgcm90YXRpb25SYXRlLFxuICAgIGludGVydmFsLFxuICAgIGlzU3VwcG9ydGVkLFxuICAgIHJlcXVpcmVQZXJtaXNzaW9ucyxcbiAgICBlbnN1cmVQZXJtaXNzaW9ucyxcbiAgICBwZXJtaXNzaW9uR3JhbnRlZFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VEZXZpY2VPcmllbnRhdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJEZXZpY2VPcmllbnRhdGlvbkV2ZW50XCIgaW4gd2luZG93KTtcbiAgY29uc3QgaXNBYnNvbHV0ZSA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBhbHBoYSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IGJldGEgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBnYW1tYSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGlmICh3aW5kb3cgJiYgaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJkZXZpY2VvcmllbnRhdGlvblwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGlzQWJzb2x1dGUudmFsdWUgPSBldmVudC5hYnNvbHV0ZTtcbiAgICAgIGFscGhhLnZhbHVlID0gZXZlbnQuYWxwaGE7XG4gICAgICBiZXRhLnZhbHVlID0gZXZlbnQuYmV0YTtcbiAgICAgIGdhbW1hLnZhbHVlID0gZXZlbnQuZ2FtbWE7XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaXNBYnNvbHV0ZSxcbiAgICBhbHBoYSxcbiAgICBiZXRhLFxuICAgIGdhbW1hXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURldmljZVBpeGVsUmF0aW8ob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwaXhlbFJhdGlvID0gc2hhbGxvd1JlZigxKTtcbiAgY29uc3QgcXVlcnkgPSB1c2VNZWRpYVF1ZXJ5KCgpID0+IGAocmVzb2x1dGlvbjogJHtwaXhlbFJhdGlvLnZhbHVlfWRwcHgpYCwgb3B0aW9ucyk7XG4gIGxldCBzdG9wID0gbm9vcDtcbiAgaWYgKHdpbmRvdykge1xuICAgIHN0b3AgPSB3YXRjaEltbWVkaWF0ZShxdWVyeSwgKCkgPT4gcGl4ZWxSYXRpby52YWx1ZSA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHBpeGVsUmF0aW86IHJlYWRvbmx5KHBpeGVsUmF0aW8pLFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRGV2aWNlc0xpc3Qob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9ucyA9IGZhbHNlLFxuICAgIGNvbnN0cmFpbnRzID0geyBhdWRpbzogdHJ1ZSwgdmlkZW86IHRydWUgfSxcbiAgICBvblVwZGF0ZWRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGRldmljZXMgPSByZWYoW10pO1xuICBjb25zdCB2aWRlb0lucHV0cyA9IGNvbXB1dGVkKCgpID0+IGRldmljZXMudmFsdWUuZmlsdGVyKChpKSA9PiBpLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiKSk7XG4gIGNvbnN0IGF1ZGlvSW5wdXRzID0gY29tcHV0ZWQoKCkgPT4gZGV2aWNlcy52YWx1ZS5maWx0ZXIoKGkpID0+IGkua2luZCA9PT0gXCJhdWRpb2lucHV0XCIpKTtcbiAgY29uc3QgYXVkaW9PdXRwdXRzID0gY29tcHV0ZWQoKCkgPT4gZGV2aWNlcy52YWx1ZS5maWx0ZXIoKGkpID0+IGkua2luZCA9PT0gXCJhdWRpb291dHB1dFwiKSk7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyk7XG4gIGNvbnN0IHBlcm1pc3Npb25HcmFudGVkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGxldCBzdHJlYW07XG4gIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGRldmljZXMudmFsdWUgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICBvblVwZGF0ZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVXBkYXRlZChkZXZpY2VzLnZhbHVlKTtcbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4gdC5zdG9wKCkpO1xuICAgICAgc3RyZWFtID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZW5zdXJlUGVybWlzc2lvbnMoKSB7XG4gICAgY29uc3QgZGV2aWNlTmFtZSA9IGNvbnN0cmFpbnRzLnZpZGVvID8gXCJjYW1lcmFcIiA6IFwibWljcm9waG9uZVwiO1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHBlcm1pc3Npb25HcmFudGVkLnZhbHVlKVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgeyBzdGF0ZSwgcXVlcnkgfSA9IHVzZVBlcm1pc3Npb24oZGV2aWNlTmFtZSwgeyBjb250cm9sczogdHJ1ZSB9KTtcbiAgICBhd2FpdCBxdWVyeSgpO1xuICAgIGlmIChzdGF0ZS52YWx1ZSAhPT0gXCJncmFudGVkXCIpIHtcbiAgICAgIGxldCBncmFudGVkID0gdHJ1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFsbERldmljZXMgPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtcbiAgICAgICAgY29uc3QgaGFzQ2FtZXJhID0gYWxsRGV2aWNlcy5zb21lKChkZXZpY2UpID0+IGRldmljZS5raW5kID09PSBcInZpZGVvaW5wdXRcIik7XG4gICAgICAgIGNvbnN0IGhhc01pY3JvcGhvbmUgPSBhbGxEZXZpY2VzLnNvbWUoKGRldmljZSkgPT4gZGV2aWNlLmtpbmQgPT09IFwiYXVkaW9pbnB1dFwiIHx8IGRldmljZS5raW5kID09PSBcImF1ZGlvb3V0cHV0XCIpO1xuICAgICAgICBjb25zdHJhaW50cy52aWRlbyA9IGhhc0NhbWVyYSA/IGNvbnN0cmFpbnRzLnZpZGVvIDogZmFsc2U7XG4gICAgICAgIGNvbnN0cmFpbnRzLmF1ZGlvID0gaGFzTWljcm9waG9uZSA/IGNvbnN0cmFpbnRzLmF1ZGlvIDogZmFsc2U7XG4gICAgICAgIHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGNvbnN0cmFpbnRzKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgc3RyZWFtID0gbnVsbDtcbiAgICAgICAgZ3JhbnRlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgdXBkYXRlKCk7XG4gICAgICBwZXJtaXNzaW9uR3JhbnRlZC52YWx1ZSA9IGdyYW50ZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcm1pc3Npb25HcmFudGVkLnZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBlcm1pc3Npb25HcmFudGVkLnZhbHVlO1xuICB9XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIGlmIChyZXF1ZXN0UGVybWlzc2lvbnMpXG4gICAgICBlbnN1cmVQZXJtaXNzaW9ucygpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIobmF2aWdhdG9yLm1lZGlhRGV2aWNlcywgXCJkZXZpY2VjaGFuZ2VcIiwgdXBkYXRlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgdXBkYXRlKCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkZXZpY2VzLFxuICAgIGVuc3VyZVBlcm1pc3Npb25zLFxuICAgIHBlcm1pc3Npb25HcmFudGVkLFxuICAgIHZpZGVvSW5wdXRzLFxuICAgIGF1ZGlvSW5wdXRzLFxuICAgIGF1ZGlvT3V0cHV0cyxcbiAgICBpc1N1cHBvcnRlZFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VEaXNwbGF5TWVkaWEob3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgZW5hYmxlZCA9IHNoYWxsb3dSZWYoKF9hID0gb3B0aW9ucy5lbmFibGVkKSAhPSBudWxsID8gX2EgOiBmYWxzZSk7XG4gIGNvbnN0IHZpZGVvID0gb3B0aW9ucy52aWRlbztcbiAgY29uc3QgYXVkaW8gPSBvcHRpb25zLmF1ZGlvO1xuICBjb25zdCB7IG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gbmF2aWdhdG9yID09IG51bGwgPyB2b2lkIDAgOiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmdldERpc3BsYXlNZWRpYTtcbiAgfSk7XG4gIGNvbnN0IGNvbnN0cmFpbnQgPSB7IGF1ZGlvLCB2aWRlbyB9O1xuICBjb25zdCBzdHJlYW0gPSBzaGFsbG93UmVmKCk7XG4gIGFzeW5jIGZ1bmN0aW9uIF9zdGFydCgpIHtcbiAgICB2YXIgX2EyO1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUgfHwgc3RyZWFtLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHN0cmVhbS52YWx1ZSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0RGlzcGxheU1lZGlhKGNvbnN0cmFpbnQpO1xuICAgIChfYTIgPSBzdHJlYW0udmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4gdXNlRXZlbnRMaXN0ZW5lcih0LCBcImVuZGVkXCIsIHN0b3AsIHsgcGFzc2l2ZTogdHJ1ZSB9KSk7XG4gICAgcmV0dXJuIHN0cmVhbS52YWx1ZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBfc3RvcCgpIHtcbiAgICB2YXIgX2EyO1xuICAgIChfYTIgPSBzdHJlYW0udmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4gdC5zdG9wKCkpO1xuICAgIHN0cmVhbS52YWx1ZSA9IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIF9zdG9wKCk7XG4gICAgZW5hYmxlZC52YWx1ZSA9IGZhbHNlO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGF3YWl0IF9zdGFydCgpO1xuICAgIGlmIChzdHJlYW0udmFsdWUpXG4gICAgICBlbmFibGVkLnZhbHVlID0gdHJ1ZTtcbiAgICByZXR1cm4gc3RyZWFtLnZhbHVlO1xuICB9XG4gIHdhdGNoKFxuICAgIGVuYWJsZWQsXG4gICAgKHYpID0+IHtcbiAgICAgIGlmICh2KVxuICAgICAgICBfc3RhcnQoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgX3N0b3AoKTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBzdHJlYW0sXG4gICAgc3RhcnQsXG4gICAgc3RvcCxcbiAgICBlbmFibGVkXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURvY3VtZW50VmlzaWJpbGl0eShvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCB9ID0gb3B0aW9ucztcbiAgaWYgKCFkb2N1bWVudClcbiAgICByZXR1cm4gc2hhbGxvd1JlZihcInZpc2libGVcIik7XG4gIGNvbnN0IHZpc2liaWxpdHkgPSBzaGFsbG93UmVmKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoKSA9PiB7XG4gICAgdmlzaWJpbGl0eS52YWx1ZSA9IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZTtcbiAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICByZXR1cm4gdmlzaWJpbGl0eTtcbn1cblxuZnVuY3Rpb24gdXNlRHJhZ2dhYmxlKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIHBvaW50ZXJUeXBlcyxcbiAgICBwcmV2ZW50RGVmYXVsdCxcbiAgICBzdG9wUHJvcGFnYXRpb24sXG4gICAgZXhhY3QsXG4gICAgb25Nb3ZlLFxuICAgIG9uRW5kLFxuICAgIG9uU3RhcnQsXG4gICAgaW5pdGlhbFZhbHVlLFxuICAgIGF4aXMgPSBcImJvdGhcIixcbiAgICBkcmFnZ2luZ0VsZW1lbnQgPSBkZWZhdWx0V2luZG93LFxuICAgIGNvbnRhaW5lckVsZW1lbnQsXG4gICAgaGFuZGxlOiBkcmFnZ2luZ0hhbmRsZSA9IHRhcmdldCxcbiAgICBidXR0b25zID0gWzBdXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwb3NpdGlvbiA9IHJlZihcbiAgICAoX2EgPSB0b1ZhbHVlKGluaXRpYWxWYWx1ZSkpICE9IG51bGwgPyBfYSA6IHsgeDogMCwgeTogMCB9XG4gICk7XG4gIGNvbnN0IHByZXNzZWREZWx0YSA9IHJlZigpO1xuICBjb25zdCBmaWx0ZXJFdmVudCA9IChlKSA9PiB7XG4gICAgaWYgKHBvaW50ZXJUeXBlcylcbiAgICAgIHJldHVybiBwb2ludGVyVHlwZXMuaW5jbHVkZXMoZS5wb2ludGVyVHlwZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUV2ZW50ID0gKGUpID0+IHtcbiAgICBpZiAodG9WYWx1ZShwcmV2ZW50RGVmYXVsdCkpXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKHRvVmFsdWUoc3RvcFByb3BhZ2F0aW9uKSlcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH07XG4gIGNvbnN0IHN0YXJ0ID0gKGUpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGlmICghdG9WYWx1ZShidXR0b25zKS5pbmNsdWRlcyhlLmJ1dHRvbikpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHRvVmFsdWUob3B0aW9ucy5kaXNhYmxlZCkgfHwgIWZpbHRlckV2ZW50KGUpKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh0b1ZhbHVlKGV4YWN0KSAmJiBlLnRhcmdldCAhPT0gdG9WYWx1ZSh0YXJnZXQpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IHRvVmFsdWUoY29udGFpbmVyRWxlbWVudCk7XG4gICAgY29uc3QgY29udGFpbmVyUmVjdCA9IChfYTIgPSBjb250YWluZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChjb250YWluZXIpO1xuICAgIGNvbnN0IHRhcmdldFJlY3QgPSB0b1ZhbHVlKHRhcmdldCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgcG9zID0ge1xuICAgICAgeDogZS5jbGllbnRYIC0gKGNvbnRhaW5lciA/IHRhcmdldFJlY3QubGVmdCAtIGNvbnRhaW5lclJlY3QubGVmdCArIGNvbnRhaW5lci5zY3JvbGxMZWZ0IDogdGFyZ2V0UmVjdC5sZWZ0KSxcbiAgICAgIHk6IGUuY2xpZW50WSAtIChjb250YWluZXIgPyB0YXJnZXRSZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wICsgY29udGFpbmVyLnNjcm9sbFRvcCA6IHRhcmdldFJlY3QudG9wKVxuICAgIH07XG4gICAgaWYgKChvblN0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblN0YXJ0KHBvcywgZSkpID09PSBmYWxzZSlcbiAgICAgIHJldHVybjtcbiAgICBwcmVzc2VkRGVsdGEudmFsdWUgPSBwb3M7XG4gICAgaGFuZGxlRXZlbnQoZSk7XG4gIH07XG4gIGNvbnN0IG1vdmUgPSAoZSkgPT4ge1xuICAgIGlmICh0b1ZhbHVlKG9wdGlvbnMuZGlzYWJsZWQpIHx8ICFmaWx0ZXJFdmVudChlKSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXByZXNzZWREZWx0YS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBjb250YWluZXIgPSB0b1ZhbHVlKGNvbnRhaW5lckVsZW1lbnQpO1xuICAgIGNvbnN0IHRhcmdldFJlY3QgPSB0b1ZhbHVlKHRhcmdldCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHsgeCwgeSB9ID0gcG9zaXRpb24udmFsdWU7XG4gICAgaWYgKGF4aXMgPT09IFwieFwiIHx8IGF4aXMgPT09IFwiYm90aFwiKSB7XG4gICAgICB4ID0gZS5jbGllbnRYIC0gcHJlc3NlZERlbHRhLnZhbHVlLng7XG4gICAgICBpZiAoY29udGFpbmVyKVxuICAgICAgICB4ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgeCksIGNvbnRhaW5lci5zY3JvbGxXaWR0aCAtIHRhcmdldFJlY3Qud2lkdGgpO1xuICAgIH1cbiAgICBpZiAoYXhpcyA9PT0gXCJ5XCIgfHwgYXhpcyA9PT0gXCJib3RoXCIpIHtcbiAgICAgIHkgPSBlLmNsaWVudFkgLSBwcmVzc2VkRGVsdGEudmFsdWUueTtcbiAgICAgIGlmIChjb250YWluZXIpXG4gICAgICAgIHkgPSBNYXRoLm1pbihNYXRoLm1heCgwLCB5KSwgY29udGFpbmVyLnNjcm9sbEhlaWdodCAtIHRhcmdldFJlY3QuaGVpZ2h0KTtcbiAgICB9XG4gICAgcG9zaXRpb24udmFsdWUgPSB7XG4gICAgICB4LFxuICAgICAgeVxuICAgIH07XG4gICAgb25Nb3ZlID09IG51bGwgPyB2b2lkIDAgOiBvbk1vdmUocG9zaXRpb24udmFsdWUsIGUpO1xuICAgIGhhbmRsZUV2ZW50KGUpO1xuICB9O1xuICBjb25zdCBlbmQgPSAoZSkgPT4ge1xuICAgIGlmICh0b1ZhbHVlKG9wdGlvbnMuZGlzYWJsZWQpIHx8ICFmaWx0ZXJFdmVudChlKSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXByZXNzZWREZWx0YS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBwcmVzc2VkRGVsdGEudmFsdWUgPSB2b2lkIDA7XG4gICAgb25FbmQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRW5kKHBvc2l0aW9uLnZhbHVlLCBlKTtcbiAgICBoYW5kbGVFdmVudChlKTtcbiAgfTtcbiAgaWYgKGlzQ2xpZW50KSB7XG4gICAgY29uc3QgY29uZmlnID0gKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhcHR1cmU6IChfYTIgPSBvcHRpb25zLmNhcHR1cmUpICE9IG51bGwgPyBfYTIgOiB0cnVlLFxuICAgICAgICBwYXNzaXZlOiAhdG9WYWx1ZShwcmV2ZW50RGVmYXVsdClcbiAgICAgIH07XG4gICAgfTtcbiAgICB1c2VFdmVudExpc3RlbmVyKGRyYWdnaW5nSGFuZGxlLCBcInBvaW50ZXJkb3duXCIsIHN0YXJ0LCBjb25maWcpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZHJhZ2dpbmdFbGVtZW50LCBcInBvaW50ZXJtb3ZlXCIsIG1vdmUsIGNvbmZpZyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihkcmFnZ2luZ0VsZW1lbnQsIFwicG9pbnRlcnVwXCIsIGVuZCwgY29uZmlnKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLnRvUmVmcyhwb3NpdGlvbiksXG4gICAgcG9zaXRpb24sXG4gICAgaXNEcmFnZ2luZzogY29tcHV0ZWQoKCkgPT4gISFwcmVzc2VkRGVsdGEudmFsdWUpLFxuICAgIHN0eWxlOiBjb21wdXRlZChcbiAgICAgICgpID0+IGBsZWZ0OiR7cG9zaXRpb24udmFsdWUueH1weDt0b3A6JHtwb3NpdGlvbi52YWx1ZS55fXB4O2BcbiAgICApXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZURyb3Bab25lKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGlzT3ZlckRyb3Bab25lID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGZpbGVzID0gc2hhbGxvd1JlZihudWxsKTtcbiAgbGV0IGNvdW50ZXIgPSAwO1xuICBsZXQgaXNWYWxpZCA9IHRydWU7XG4gIGlmIChpc0NsaWVudCkge1xuICAgIGNvbnN0IF9vcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFwiZnVuY3Rpb25cIiA/IHsgb25Ecm9wOiBvcHRpb25zIH0gOiBvcHRpb25zO1xuICAgIGNvbnN0IG11bHRpcGxlID0gKF9hID0gX29wdGlvbnMubXVsdGlwbGUpICE9IG51bGwgPyBfYSA6IHRydWU7XG4gICAgY29uc3QgcHJldmVudERlZmF1bHRGb3JVbmhhbmRsZWQgPSAoX2IgPSBfb3B0aW9ucy5wcmV2ZW50RGVmYXVsdEZvclVuaGFuZGxlZCkgIT0gbnVsbCA/IF9iIDogZmFsc2U7XG4gICAgY29uc3QgZ2V0RmlsZXMgPSAoZXZlbnQpID0+IHtcbiAgICAgIHZhciBfYTIsIF9iMjtcbiAgICAgIGNvbnN0IGxpc3QgPSBBcnJheS5mcm9tKChfYjIgPSAoX2EyID0gZXZlbnQuZGF0YVRyYW5zZmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZpbGVzKSAhPSBudWxsID8gX2IyIDogW10pO1xuICAgICAgcmV0dXJuIGxpc3QubGVuZ3RoID09PSAwID8gbnVsbCA6IG11bHRpcGxlID8gbGlzdCA6IFtsaXN0WzBdXTtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrRGF0YVR5cGVzID0gKHR5cGVzKSA9PiB7XG4gICAgICBjb25zdCBkYXRhVHlwZXMgPSB1bnJlZihfb3B0aW9ucy5kYXRhVHlwZXMpO1xuICAgICAgaWYgKHR5cGVvZiBkYXRhVHlwZXMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIGRhdGFUeXBlcyh0eXBlcyk7XG4gICAgICBpZiAoIShkYXRhVHlwZXMgPT0gbnVsbCA/IHZvaWQgMCA6IGRhdGFUeXBlcy5sZW5ndGgpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmICh0eXBlcy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0eXBlcy5ldmVyeShcbiAgICAgICAgKHR5cGUpID0+IGRhdGFUeXBlcy5zb21lKChhbGxvd2VkVHlwZSkgPT4gdHlwZS5pbmNsdWRlcyhhbGxvd2VkVHlwZSkpXG4gICAgICApO1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tWYWxpZGl0eSA9IChpdGVtcykgPT4ge1xuICAgICAgY29uc3QgdHlwZXMgPSBBcnJheS5mcm9tKGl0ZW1zICE9IG51bGwgPyBpdGVtcyA6IFtdKS5tYXAoKGl0ZW0pID0+IGl0ZW0udHlwZSk7XG4gICAgICBjb25zdCBkYXRhVHlwZXNWYWxpZCA9IGNoZWNrRGF0YVR5cGVzKHR5cGVzKTtcbiAgICAgIGNvbnN0IG11bHRpcGxlRmlsZXNWYWxpZCA9IG11bHRpcGxlIHx8IGl0ZW1zLmxlbmd0aCA8PSAxO1xuICAgICAgcmV0dXJuIGRhdGFUeXBlc1ZhbGlkICYmIG11bHRpcGxlRmlsZXNWYWxpZDtcbiAgICB9O1xuICAgIGNvbnN0IGlzU2FmYXJpID0gKCkgPT4gL14oPzooPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEoXCJjaHJvbWVcIiBpbiB3aW5kb3cpO1xuICAgIGNvbnN0IGhhbmRsZURyYWdFdmVudCA9IChldmVudCwgZXZlbnRUeXBlKSA9PiB7XG4gICAgICB2YXIgX2EyLCBfYjIsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgY29uc3QgZGF0YVRyYW5zZmVySXRlbUxpc3QgPSAoX2EyID0gZXZlbnQuZGF0YVRyYW5zZmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLml0ZW1zO1xuICAgICAgaXNWYWxpZCA9IChfYjIgPSBkYXRhVHJhbnNmZXJJdGVtTGlzdCAmJiBjaGVja1ZhbGlkaXR5KGRhdGFUcmFuc2Zlckl0ZW1MaXN0KSkgIT0gbnVsbCA/IF9iMiA6IGZhbHNlO1xuICAgICAgaWYgKHByZXZlbnREZWZhdWx0Rm9yVW5oYW5kbGVkKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzU2FmYXJpKCkgJiYgIWlzVmFsaWQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBcImNvcHlcIjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGN1cnJlbnRGaWxlcyA9IGdldEZpbGVzKGV2ZW50KTtcbiAgICAgIHN3aXRjaCAoZXZlbnRUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJlbnRlclwiOlxuICAgICAgICAgIGNvdW50ZXIgKz0gMTtcbiAgICAgICAgICBpc092ZXJEcm9wWm9uZS52YWx1ZSA9IHRydWU7XG4gICAgICAgICAgKF9jID0gX29wdGlvbnMub25FbnRlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmNhbGwoX29wdGlvbnMsIG51bGwsIGV2ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm92ZXJcIjpcbiAgICAgICAgICAoX2QgPSBfb3B0aW9ucy5vbk92ZXIpID09IG51bGwgPyB2b2lkIDAgOiBfZC5jYWxsKF9vcHRpb25zLCBudWxsLCBldmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJsZWF2ZVwiOlxuICAgICAgICAgIGNvdW50ZXIgLT0gMTtcbiAgICAgICAgICBpZiAoY291bnRlciA9PT0gMClcbiAgICAgICAgICAgIGlzT3ZlckRyb3Bab25lLnZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgKF9lID0gX29wdGlvbnMub25MZWF2ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmNhbGwoX29wdGlvbnMsIG51bGwsIGV2ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRyb3BcIjpcbiAgICAgICAgICBjb3VudGVyID0gMDtcbiAgICAgICAgICBpc092ZXJEcm9wWm9uZS52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICBmaWxlcy52YWx1ZSA9IGN1cnJlbnRGaWxlcztcbiAgICAgICAgICAgIChfZiA9IF9vcHRpb25zLm9uRHJvcCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNhbGwoX29wdGlvbnMsIGN1cnJlbnRGaWxlcywgZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcImRyYWdlbnRlclwiLCAoZXZlbnQpID0+IGhhbmRsZURyYWdFdmVudChldmVudCwgXCJlbnRlclwiKSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwiZHJhZ292ZXJcIiwgKGV2ZW50KSA9PiBoYW5kbGVEcmFnRXZlbnQoZXZlbnQsIFwib3ZlclwiKSk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwiZHJhZ2xlYXZlXCIsIChldmVudCkgPT4gaGFuZGxlRHJhZ0V2ZW50KGV2ZW50LCBcImxlYXZlXCIpKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJkcm9wXCIsIChldmVudCkgPT4gaGFuZGxlRHJhZ0V2ZW50KGV2ZW50LCBcImRyb3BcIikpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZmlsZXMsXG4gICAgaXNPdmVyRHJvcFpvbmVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlUmVzaXplT2JzZXJ2ZXIodGFyZ2V0LCBjYWxsYmFjaywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdywgLi4ub2JzZXJ2ZXJPcHRpb25zIH0gPSBvcHRpb25zO1xuICBsZXQgb2JzZXJ2ZXI7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHdpbmRvdyAmJiBcIlJlc2l6ZU9ic2VydmVyXCIgaW4gd2luZG93KTtcbiAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICBpZiAob2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIG9ic2VydmVyID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdGFyZ2V0cyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBjb25zdCBfdGFyZ2V0cyA9IHRvVmFsdWUodGFyZ2V0KTtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShfdGFyZ2V0cykgPyBfdGFyZ2V0cy5tYXAoKGVsKSA9PiB1bnJlZkVsZW1lbnQoZWwpKSA6IFt1bnJlZkVsZW1lbnQoX3RhcmdldHMpXTtcbiAgfSk7XG4gIGNvbnN0IHN0b3BXYXRjaCA9IHdhdGNoKFxuICAgIHRhcmdldHMsXG4gICAgKGVscykgPT4ge1xuICAgICAgY2xlYW51cCgpO1xuICAgICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHdpbmRvdykge1xuICAgICAgICBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihjYWxsYmFjayk7XG4gICAgICAgIGZvciAoY29uc3QgX2VsIG9mIGVscykge1xuICAgICAgICAgIGlmIChfZWwpXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKF9lbCwgb2JzZXJ2ZXJPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUsIGZsdXNoOiBcInBvc3RcIiB9XG4gICk7XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgY2xlYW51cCgpO1xuICAgIHN0b3BXYXRjaCgpO1xuICB9O1xuICB0cnlPblNjb3BlRGlzcG9zZShzdG9wKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBzdG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUVsZW1lbnRCb3VuZGluZyh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcmVzZXQgPSB0cnVlLFxuICAgIHdpbmRvd1Jlc2l6ZSA9IHRydWUsXG4gICAgd2luZG93U2Nyb2xsID0gdHJ1ZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIHVwZGF0ZVRpbWluZyA9IFwic3luY1wiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBoZWlnaHQgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBib3R0b20gPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBsZWZ0ID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgcmlnaHQgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCB0b3AgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCB3aWR0aCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHggPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCB5ID0gc2hhbGxvd1JlZigwKTtcbiAgZnVuY3Rpb24gcmVjYWxjdWxhdGUoKSB7XG4gICAgY29uc3QgZWwgPSB1bnJlZkVsZW1lbnQodGFyZ2V0KTtcbiAgICBpZiAoIWVsKSB7XG4gICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgaGVpZ2h0LnZhbHVlID0gMDtcbiAgICAgICAgYm90dG9tLnZhbHVlID0gMDtcbiAgICAgICAgbGVmdC52YWx1ZSA9IDA7XG4gICAgICAgIHJpZ2h0LnZhbHVlID0gMDtcbiAgICAgICAgdG9wLnZhbHVlID0gMDtcbiAgICAgICAgd2lkdGgudmFsdWUgPSAwO1xuICAgICAgICB4LnZhbHVlID0gMDtcbiAgICAgICAgeS52YWx1ZSA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoZWlnaHQudmFsdWUgPSByZWN0LmhlaWdodDtcbiAgICBib3R0b20udmFsdWUgPSByZWN0LmJvdHRvbTtcbiAgICBsZWZ0LnZhbHVlID0gcmVjdC5sZWZ0O1xuICAgIHJpZ2h0LnZhbHVlID0gcmVjdC5yaWdodDtcbiAgICB0b3AudmFsdWUgPSByZWN0LnRvcDtcbiAgICB3aWR0aC52YWx1ZSA9IHJlY3Qud2lkdGg7XG4gICAgeC52YWx1ZSA9IHJlY3QueDtcbiAgICB5LnZhbHVlID0gcmVjdC55O1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBpZiAodXBkYXRlVGltaW5nID09PSBcInN5bmNcIilcbiAgICAgIHJlY2FsY3VsYXRlKCk7XG4gICAgZWxzZSBpZiAodXBkYXRlVGltaW5nID09PSBcIm5leHQtZnJhbWVcIilcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZWNhbGN1bGF0ZSgpKTtcbiAgfVxuICB1c2VSZXNpemVPYnNlcnZlcih0YXJnZXQsIHVwZGF0ZSk7XG4gIHdhdGNoKCgpID0+IHVucmVmRWxlbWVudCh0YXJnZXQpLCAoZWxlKSA9PiAhZWxlICYmIHVwZGF0ZSgpKTtcbiAgdXNlTXV0YXRpb25PYnNlcnZlcih0YXJnZXQsIHVwZGF0ZSwge1xuICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wic3R5bGVcIiwgXCJjbGFzc1wiXVxuICB9KTtcbiAgaWYgKHdpbmRvd1Njcm9sbClcbiAgICB1c2VFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHVwZGF0ZSwgeyBjYXB0dXJlOiB0cnVlLCBwYXNzaXZlOiB0cnVlIH0pO1xuICBpZiAod2luZG93UmVzaXplKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgaWYgKGltbWVkaWF0ZSlcbiAgICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQsXG4gICAgYm90dG9tLFxuICAgIGxlZnQsXG4gICAgcmlnaHQsXG4gICAgdG9wLFxuICAgIHdpZHRoLFxuICAgIHgsXG4gICAgeSxcbiAgICB1cGRhdGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRWxlbWVudEJ5UG9pbnQob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgeCxcbiAgICB5LFxuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50LFxuICAgIG11bHRpcGxlLFxuICAgIGludGVydmFsID0gXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIixcbiAgICBpbW1lZGlhdGUgPSB0cnVlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB7XG4gICAgaWYgKHRvVmFsdWUobXVsdGlwbGUpKVxuICAgICAgcmV0dXJuIGRvY3VtZW50ICYmIFwiZWxlbWVudHNGcm9tUG9pbnRcIiBpbiBkb2N1bWVudDtcbiAgICByZXR1cm4gZG9jdW1lbnQgJiYgXCJlbGVtZW50RnJvbVBvaW50XCIgaW4gZG9jdW1lbnQ7XG4gIH0pO1xuICBjb25zdCBlbGVtZW50ID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgY2IgPSAoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBlbGVtZW50LnZhbHVlID0gdG9WYWx1ZShtdWx0aXBsZSkgPyAoX2EgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuZWxlbWVudHNGcm9tUG9pbnQodG9WYWx1ZSh4KSwgdG9WYWx1ZSh5KSkpICE9IG51bGwgPyBfYSA6IFtdIDogKF9iID0gZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG9WYWx1ZSh4KSwgdG9WYWx1ZSh5KSkpICE9IG51bGwgPyBfYiA6IG51bGw7XG4gIH07XG4gIGNvbnN0IGNvbnRyb2xzID0gaW50ZXJ2YWwgPT09IFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIgPyB1c2VSYWZGbihjYiwgeyBpbW1lZGlhdGUgfSkgOiB1c2VJbnRlcnZhbEZuKGNiLCBpbnRlcnZhbCwgeyBpbW1lZGlhdGUgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgZWxlbWVudCxcbiAgICAuLi5jb250cm9sc1xuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VFbGVtZW50SG92ZXIoZWwsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZGVsYXlFbnRlciA9IDAsXG4gICAgZGVsYXlMZWF2ZSA9IDAsXG4gICAgdHJpZ2dlck9uUmVtb3ZhbCA9IGZhbHNlLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzSG92ZXJlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBsZXQgdGltZXI7XG4gIGNvbnN0IHRvZ2dsZSA9IChlbnRlcmluZykgPT4ge1xuICAgIGNvbnN0IGRlbGF5ID0gZW50ZXJpbmcgPyBkZWxheUVudGVyIDogZGVsYXlMZWF2ZTtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGRlbGF5KVxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IGlzSG92ZXJlZC52YWx1ZSA9IGVudGVyaW5nLCBkZWxheSk7XG4gICAgZWxzZVxuICAgICAgaXNIb3ZlcmVkLnZhbHVlID0gZW50ZXJpbmc7XG4gIH07XG4gIGlmICghd2luZG93KVxuICAgIHJldHVybiBpc0hvdmVyZWQ7XG4gIHVzZUV2ZW50TGlzdGVuZXIoZWwsIFwibW91c2VlbnRlclwiLCAoKSA9PiB0b2dnbGUodHJ1ZSksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihlbCwgXCJtb3VzZWxlYXZlXCIsICgpID0+IHRvZ2dsZShmYWxzZSksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgaWYgKHRyaWdnZXJPblJlbW92YWwpIHtcbiAgICBvbkVsZW1lbnRSZW1vdmFsKFxuICAgICAgY29tcHV0ZWQoKCkgPT4gdW5yZWZFbGVtZW50KGVsKSksXG4gICAgICAoKSA9PiB0b2dnbGUoZmFsc2UpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gaXNIb3ZlcmVkO1xufVxuXG5mdW5jdGlvbiB1c2VFbGVtZW50U2l6ZSh0YXJnZXQsIGluaXRpYWxTaXplID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH0sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csIGJveCA9IFwiY29udGVudC1ib3hcIiB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTVkcgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gdW5yZWZFbGVtZW50KHRhcmdldCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5uYW1lc3BhY2VVUkkpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbmNsdWRlcyhcInN2Z1wiKTtcbiAgfSk7XG4gIGNvbnN0IHdpZHRoID0gc2hhbGxvd1JlZihpbml0aWFsU2l6ZS53aWR0aCk7XG4gIGNvbnN0IGhlaWdodCA9IHNoYWxsb3dSZWYoaW5pdGlhbFNpemUuaGVpZ2h0KTtcbiAgY29uc3QgeyBzdG9wOiBzdG9wMSB9ID0gdXNlUmVzaXplT2JzZXJ2ZXIoXG4gICAgdGFyZ2V0LFxuICAgIChbZW50cnldKSA9PiB7XG4gICAgICBjb25zdCBib3hTaXplID0gYm94ID09PSBcImJvcmRlci1ib3hcIiA/IGVudHJ5LmJvcmRlckJveFNpemUgOiBib3ggPT09IFwiY29udGVudC1ib3hcIiA/IGVudHJ5LmNvbnRlbnRCb3hTaXplIDogZW50cnkuZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgIGlmICh3aW5kb3cgJiYgaXNTVkcudmFsdWUpIHtcbiAgICAgICAgY29uc3QgJGVsZW0gPSB1bnJlZkVsZW1lbnQodGFyZ2V0KTtcbiAgICAgICAgaWYgKCRlbGVtKSB7XG4gICAgICAgICAgY29uc3QgcmVjdCA9ICRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHdpZHRoLnZhbHVlID0gcmVjdC53aWR0aDtcbiAgICAgICAgICBoZWlnaHQudmFsdWUgPSByZWN0LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJveFNpemUpIHtcbiAgICAgICAgICBjb25zdCBmb3JtYXRCb3hTaXplID0gdG9BcnJheShib3hTaXplKTtcbiAgICAgICAgICB3aWR0aC52YWx1ZSA9IGZvcm1hdEJveFNpemUucmVkdWNlKChhY2MsIHsgaW5saW5lU2l6ZSB9KSA9PiBhY2MgKyBpbmxpbmVTaXplLCAwKTtcbiAgICAgICAgICBoZWlnaHQudmFsdWUgPSBmb3JtYXRCb3hTaXplLnJlZHVjZSgoYWNjLCB7IGJsb2NrU2l6ZSB9KSA9PiBhY2MgKyBibG9ja1NpemUsIDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpZHRoLnZhbHVlID0gZW50cnkuY29udGVudFJlY3Qud2lkdGg7XG4gICAgICAgICAgaGVpZ2h0LnZhbHVlID0gZW50cnkuY29udGVudFJlY3QuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvcHRpb25zXG4gICk7XG4gIHRyeU9uTW91bnRlZCgoKSA9PiB7XG4gICAgY29uc3QgZWxlID0gdW5yZWZFbGVtZW50KHRhcmdldCk7XG4gICAgaWYgKGVsZSkge1xuICAgICAgd2lkdGgudmFsdWUgPSBcIm9mZnNldFdpZHRoXCIgaW4gZWxlID8gZWxlLm9mZnNldFdpZHRoIDogaW5pdGlhbFNpemUud2lkdGg7XG4gICAgICBoZWlnaHQudmFsdWUgPSBcIm9mZnNldEhlaWdodFwiIGluIGVsZSA/IGVsZS5vZmZzZXRIZWlnaHQgOiBpbml0aWFsU2l6ZS5oZWlnaHQ7XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgc3RvcDIgPSB3YXRjaChcbiAgICAoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSxcbiAgICAoZWxlKSA9PiB7XG4gICAgICB3aWR0aC52YWx1ZSA9IGVsZSA/IGluaXRpYWxTaXplLndpZHRoIDogMDtcbiAgICAgIGhlaWdodC52YWx1ZSA9IGVsZSA/IGluaXRpYWxTaXplLmhlaWdodCA6IDA7XG4gICAgfVxuICApO1xuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHN0b3AxKCk7XG4gICAgc3RvcDIoKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHdpZHRoLFxuICAgIGhlaWdodCxcbiAgICBzdG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUludGVyc2VjdGlvbk9ic2VydmVyKHRhcmdldCwgY2FsbGJhY2ssIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcm9vdCxcbiAgICByb290TWFyZ2luID0gXCIwcHhcIixcbiAgICB0aHJlc2hvbGQgPSAwLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgaW1tZWRpYXRlID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcIiBpbiB3aW5kb3cpO1xuICBjb25zdCB0YXJnZXRzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGNvbnN0IF90YXJnZXQgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgcmV0dXJuIHRvQXJyYXkoX3RhcmdldCkubWFwKHVucmVmRWxlbWVudCkuZmlsdGVyKG5vdE51bGxpc2gpO1xuICB9KTtcbiAgbGV0IGNsZWFudXAgPSBub29wO1xuICBjb25zdCBpc0FjdGl2ZSA9IHNoYWxsb3dSZWYoaW1tZWRpYXRlKTtcbiAgY29uc3Qgc3RvcFdhdGNoID0gaXNTdXBwb3J0ZWQudmFsdWUgPyB3YXRjaChcbiAgICAoKSA9PiBbdGFyZ2V0cy52YWx1ZSwgdW5yZWZFbGVtZW50KHJvb3QpLCBpc0FjdGl2ZS52YWx1ZV0sXG4gICAgKFt0YXJnZXRzMiwgcm9vdDJdKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICBpZiAoIWlzQWN0aXZlLnZhbHVlKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoIXRhcmdldHMyLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAgIGNhbGxiYWNrLFxuICAgICAgICB7XG4gICAgICAgICAgcm9vdDogdW5yZWZFbGVtZW50KHJvb3QyKSxcbiAgICAgICAgICByb290TWFyZ2luLFxuICAgICAgICAgIHRocmVzaG9sZFxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdGFyZ2V0czIuZm9yRWFjaCgoZWwpID0+IGVsICYmIG9ic2VydmVyLm9ic2VydmUoZWwpKTtcbiAgICAgIGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgY2xlYW51cCA9IG5vb3A7XG4gICAgICB9O1xuICAgIH0sXG4gICAgeyBpbW1lZGlhdGUsIGZsdXNoOiBcInBvc3RcIiB9XG4gICkgOiBub29wO1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGNsZWFudXAoKTtcbiAgICBzdG9wV2F0Y2goKTtcbiAgICBpc0FjdGl2ZS52YWx1ZSA9IGZhbHNlO1xuICB9O1xuICB0cnlPblNjb3BlRGlzcG9zZShzdG9wKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBpc0FjdGl2ZSxcbiAgICBwYXVzZSgpIHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gICAgfSxcbiAgICByZXN1bWUoKSB7XG4gICAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7XG4gICAgfSxcbiAgICBzdG9wXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUVsZW1lbnRWaXNpYmlsaXR5KGVsZW1lbnQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBzY3JvbGxUYXJnZXQsXG4gICAgdGhyZXNob2xkID0gMCxcbiAgICByb290TWFyZ2luLFxuICAgIG9uY2UgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZWxlbWVudElzVmlzaWJsZSA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCB7IHN0b3AgfSA9IHVzZUludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgIGVsZW1lbnQsXG4gICAgKGludGVyc2VjdGlvbk9ic2VydmVyRW50cmllcykgPT4ge1xuICAgICAgbGV0IGlzSW50ZXJzZWN0aW5nID0gZWxlbWVudElzVmlzaWJsZS52YWx1ZTtcbiAgICAgIGxldCBsYXRlc3RUaW1lID0gMDtcbiAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgaW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyaWVzKSB7XG4gICAgICAgIGlmIChlbnRyeS50aW1lID49IGxhdGVzdFRpbWUpIHtcbiAgICAgICAgICBsYXRlc3RUaW1lID0gZW50cnkudGltZTtcbiAgICAgICAgICBpc0ludGVyc2VjdGluZyA9IGVudHJ5LmlzSW50ZXJzZWN0aW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbGVtZW50SXNWaXNpYmxlLnZhbHVlID0gaXNJbnRlcnNlY3Rpbmc7XG4gICAgICBpZiAob25jZSkge1xuICAgICAgICB3YXRjaE9uY2UoZWxlbWVudElzVmlzaWJsZSwgKCkgPT4ge1xuICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICByb290OiBzY3JvbGxUYXJnZXQsXG4gICAgICB3aW5kb3csXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICByb290TWFyZ2luOiB0b1ZhbHVlKHJvb3RNYXJnaW4pXG4gICAgfVxuICApO1xuICByZXR1cm4gZWxlbWVudElzVmlzaWJsZTtcbn1cblxuY29uc3QgZXZlbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcblxuZnVuY3Rpb24gdXNlRXZlbnRCdXMoa2V5KSB7XG4gIGNvbnN0IHNjb3BlID0gZ2V0Q3VycmVudFNjb3BlKCk7XG4gIGZ1bmN0aW9uIG9uKGxpc3RlbmVyKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IGV2ZW50cy5nZXQoa2V5KSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIGV2ZW50cy5zZXQoa2V5LCBsaXN0ZW5lcnMpO1xuICAgIGNvbnN0IF9vZmYgPSAoKSA9PiBvZmYobGlzdGVuZXIpO1xuICAgIChfYSA9IHNjb3BlID09IG51bGwgPyB2b2lkIDAgOiBzY29wZS5jbGVhbnVwcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnB1c2goX29mZik7XG4gICAgcmV0dXJuIF9vZmY7XG4gIH1cbiAgZnVuY3Rpb24gb25jZShsaXN0ZW5lcikge1xuICAgIGZ1bmN0aW9uIF9saXN0ZW5lciguLi5hcmdzKSB7XG4gICAgICBvZmYoX2xpc3RlbmVyKTtcbiAgICAgIGxpc3RlbmVyKC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gb24oX2xpc3RlbmVyKTtcbiAgfVxuICBmdW5jdGlvbiBvZmYobGlzdGVuZXIpIHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBldmVudHMuZ2V0KGtleSk7XG4gICAgaWYgKCFsaXN0ZW5lcnMpXG4gICAgICByZXR1cm47XG4gICAgbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgaWYgKCFsaXN0ZW5lcnMuc2l6ZSlcbiAgICAgIHJlc2V0KCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgZXZlbnRzLmRlbGV0ZShrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIGVtaXQoZXZlbnQsIHBheWxvYWQpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gZXZlbnRzLmdldChrZXkpKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZm9yRWFjaCgodikgPT4gdihldmVudCwgcGF5bG9hZCkpO1xuICB9XG4gIHJldHVybiB7IG9uLCBvbmNlLCBvZmYsIGVtaXQsIHJlc2V0IH07XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVOZXN0ZWRPcHRpb25zJDEob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSlcbiAgICByZXR1cm4ge307XG4gIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gdXNlRXZlbnRTb3VyY2UodXJsLCBldmVudHMgPSBbXSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGV2ZW50ID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgZGF0YSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IHN0YXR1cyA9IHNoYWxsb3dSZWYoXCJDT05ORUNUSU5HXCIpO1xuICBjb25zdCBldmVudFNvdXJjZSA9IHJlZihudWxsKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCB1cmxSZWYgPSB0b1JlZih1cmwpO1xuICBjb25zdCBsYXN0RXZlbnRJZCA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGxldCBleHBsaWNpdGx5Q2xvc2VkID0gZmFsc2U7XG4gIGxldCByZXRyaWVkID0gMDtcbiAgY29uc3Qge1xuICAgIHdpdGhDcmVkZW50aWFscyA9IGZhbHNlLFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgYXV0b0Nvbm5lY3QgPSB0cnVlLFxuICAgIGF1dG9SZWNvbm5lY3RcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgIGlmIChpc0NsaWVudCAmJiBldmVudFNvdXJjZS52YWx1ZSkge1xuICAgICAgZXZlbnRTb3VyY2UudmFsdWUuY2xvc2UoKTtcbiAgICAgIGV2ZW50U291cmNlLnZhbHVlID0gbnVsbDtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwiQ0xPU0VEXCI7XG4gICAgICBleHBsaWNpdGx5Q2xvc2VkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IF9pbml0ID0gKCkgPT4ge1xuICAgIGlmIChleHBsaWNpdGx5Q2xvc2VkIHx8IHR5cGVvZiB1cmxSZWYudmFsdWUgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZXMgPSBuZXcgRXZlbnRTb3VyY2UodXJsUmVmLnZhbHVlLCB7IHdpdGhDcmVkZW50aWFscyB9KTtcbiAgICBzdGF0dXMudmFsdWUgPSBcIkNPTk5FQ1RJTkdcIjtcbiAgICBldmVudFNvdXJjZS52YWx1ZSA9IGVzO1xuICAgIGVzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwiT1BFTlwiO1xuICAgICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICAgIH07XG4gICAgZXMub25lcnJvciA9IChlKSA9PiB7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcIkNMT1NFRFwiO1xuICAgICAgZXJyb3IudmFsdWUgPSBlO1xuICAgICAgaWYgKGVzLnJlYWR5U3RhdGUgPT09IDIgJiYgIWV4cGxpY2l0bHlDbG9zZWQgJiYgYXV0b1JlY29ubmVjdCkge1xuICAgICAgICBlcy5jbG9zZSgpO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgcmV0cmllcyA9IC0xLFxuICAgICAgICAgIGRlbGF5ID0gMWUzLFxuICAgICAgICAgIG9uRmFpbGVkXG4gICAgICAgIH0gPSByZXNvbHZlTmVzdGVkT3B0aW9ucyQxKGF1dG9SZWNvbm5lY3QpO1xuICAgICAgICByZXRyaWVkICs9IDE7XG4gICAgICAgIGlmICh0eXBlb2YgcmV0cmllcyA9PT0gXCJudW1iZXJcIiAmJiAocmV0cmllcyA8IDAgfHwgcmV0cmllZCA8IHJldHJpZXMpKVxuICAgICAgICAgIHNldFRpbWVvdXQoX2luaXQsIGRlbGF5KTtcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHJldHJpZXMgPT09IFwiZnVuY3Rpb25cIiAmJiByZXRyaWVzKCkpXG4gICAgICAgICAgc2V0VGltZW91dChfaW5pdCwgZGVsYXkpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgb25GYWlsZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmFpbGVkKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBlcy5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgZXZlbnQudmFsdWUgPSBudWxsO1xuICAgICAgZGF0YS52YWx1ZSA9IGUuZGF0YTtcbiAgICAgIGxhc3RFdmVudElkLnZhbHVlID0gZS5sYXN0RXZlbnRJZDtcbiAgICB9O1xuICAgIGZvciAoY29uc3QgZXZlbnRfbmFtZSBvZiBldmVudHMpIHtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIoZXMsIGV2ZW50X25hbWUsIChlKSA9PiB7XG4gICAgICAgIGV2ZW50LnZhbHVlID0gZXZlbnRfbmFtZTtcbiAgICAgICAgZGF0YS52YWx1ZSA9IGUuZGF0YSB8fCBudWxsO1xuICAgICAgICBsYXN0RXZlbnRJZC52YWx1ZSA9IGUubGFzdEV2ZW50SWQgfHwgbnVsbDtcbiAgICAgIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG9wZW4gPSAoKSA9PiB7XG4gICAgaWYgKCFpc0NsaWVudClcbiAgICAgIHJldHVybjtcbiAgICBjbG9zZSgpO1xuICAgIGV4cGxpY2l0bHlDbG9zZWQgPSBmYWxzZTtcbiAgICByZXRyaWVkID0gMDtcbiAgICBfaW5pdCgpO1xuICB9O1xuICBpZiAoaW1tZWRpYXRlKVxuICAgIG9wZW4oKTtcbiAgaWYgKGF1dG9Db25uZWN0KVxuICAgIHdhdGNoKHVybFJlZiwgb3Blbik7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKGNsb3NlKTtcbiAgcmV0dXJuIHtcbiAgICBldmVudFNvdXJjZSxcbiAgICBldmVudCxcbiAgICBkYXRhLFxuICAgIHN0YXR1cyxcbiAgICBlcnJvcixcbiAgICBvcGVuLFxuICAgIGNsb3NlLFxuICAgIGxhc3RFdmVudElkXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUV5ZURyb3BwZXIob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgaW5pdGlhbFZhbHVlID0gXCJcIiB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBcIkV5ZURyb3BwZXJcIiBpbiB3aW5kb3cpO1xuICBjb25zdCBzUkdCSGV4ID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUpO1xuICBhc3luYyBmdW5jdGlvbiBvcGVuKG9wZW5PcHRpb25zKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBleWVEcm9wcGVyID0gbmV3IHdpbmRvdy5FeWVEcm9wcGVyKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZXllRHJvcHBlci5vcGVuKG9wZW5PcHRpb25zKTtcbiAgICBzUkdCSGV4LnZhbHVlID0gcmVzdWx0LnNSR0JIZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4geyBpc1N1cHBvcnRlZCwgc1JHQkhleCwgb3BlbiB9O1xufVxuXG5mdW5jdGlvbiB1c2VGYXZpY29uKG5ld0ljb24gPSBudWxsLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGJhc2VVcmwgPSBcIlwiLFxuICAgIHJlbCA9IFwiaWNvblwiLFxuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBmYXZpY29uID0gdG9SZWYobmV3SWNvbik7XG4gIGNvbnN0IGFwcGx5SWNvbiA9IChpY29uKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yQWxsKGBsaW5rW3JlbCo9XCIke3JlbH1cIl1gKTtcbiAgICBpZiAoIWVsZW1lbnRzIHx8IGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgIGxpbmsucmVsID0gcmVsO1xuICAgICAgICBsaW5rLmhyZWYgPSBgJHtiYXNlVXJsfSR7aWNvbn1gO1xuICAgICAgICBsaW5rLnR5cGUgPSBgaW1hZ2UvJHtpY29uLnNwbGl0KFwiLlwiKS5wb3AoKX1gO1xuICAgICAgICBkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnQuaGVhZC5hcHBlbmQobGluayk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnRzID09IG51bGwgPyB2b2lkIDAgOiBlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gZWwuaHJlZiA9IGAke2Jhc2VVcmx9JHtpY29ufWApO1xuICB9O1xuICB3YXRjaChcbiAgICBmYXZpY29uLFxuICAgIChpLCBvKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGkgPT09IFwic3RyaW5nXCIgJiYgaSAhPT0gbylcbiAgICAgICAgYXBwbHlJY29uKGkpO1xuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUgfVxuICApO1xuICByZXR1cm4gZmF2aWNvbjtcbn1cblxuY29uc3QgcGF5bG9hZE1hcHBpbmcgPSB7XG4gIGpzb246IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB0ZXh0OiBcInRleHQvcGxhaW5cIlxufTtcbmZ1bmN0aW9uIGlzRmV0Y2hPcHRpb25zKG9iaikge1xuICByZXR1cm4gb2JqICYmIGNvbnRhaW5zUHJvcChvYmosIFwiaW1tZWRpYXRlXCIsIFwicmVmZXRjaFwiLCBcImluaXRpYWxEYXRhXCIsIFwidGltZW91dFwiLCBcImJlZm9yZUZldGNoXCIsIFwiYWZ0ZXJGZXRjaFwiLCBcIm9uRmV0Y2hFcnJvclwiLCBcImZldGNoXCIsIFwidXBkYXRlRGF0YU9uRXJyb3JcIik7XG59XG5jb25zdCByZUFic29sdXRlID0gL14oPzpbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2k7XG5mdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICByZXR1cm4gcmVBYnNvbHV0ZS50ZXN0KHVybCk7XG59XG5mdW5jdGlvbiBoZWFkZXJzVG9PYmplY3QoaGVhZGVycykge1xuICBpZiAodHlwZW9mIEhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIgJiYgaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpXG4gICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhoZWFkZXJzLmVudHJpZXMoKSk7XG4gIHJldHVybiBoZWFkZXJzO1xufVxuZnVuY3Rpb24gY29tYmluZUNhbGxiYWNrcyhjb21iaW5hdGlvbiwgLi4uY2FsbGJhY2tzKSB7XG4gIGlmIChjb21iaW5hdGlvbiA9PT0gXCJvdmVyd3JpdGVcIikge1xuICAgIHJldHVybiBhc3luYyAoY3R4KSA9PiB7XG4gICAgICBsZXQgY2FsbGJhY2s7XG4gICAgICBmb3IgKGxldCBpID0gY2FsbGJhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChjYWxsYmFja3NbaV0gIT0gbnVsbCkge1xuICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2tzW2ldO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB7IC4uLmN0eCwgLi4uYXdhaXQgY2FsbGJhY2soY3R4KSB9O1xuICAgICAgcmV0dXJuIGN0eDtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBhc3luYyAoY3R4KSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgY3R4ID0geyAuLi5jdHgsIC4uLmF3YWl0IGNhbGxiYWNrKGN0eCkgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdHg7XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRmV0Y2goY29uZmlnID0ge30pIHtcbiAgY29uc3QgX2NvbWJpbmF0aW9uID0gY29uZmlnLmNvbWJpbmF0aW9uIHx8IFwiY2hhaW5cIjtcbiAgY29uc3QgX29wdGlvbnMgPSBjb25maWcub3B0aW9ucyB8fCB7fTtcbiAgY29uc3QgX2ZldGNoT3B0aW9ucyA9IGNvbmZpZy5mZXRjaE9wdGlvbnMgfHwge307XG4gIGZ1bmN0aW9uIHVzZUZhY3RvcnlGZXRjaCh1cmwsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBjb21wdXRlZFVybCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGNvbnN0IGJhc2VVcmwgPSB0b1ZhbHVlKGNvbmZpZy5iYXNlVXJsKTtcbiAgICAgIGNvbnN0IHRhcmdldFVybCA9IHRvVmFsdWUodXJsKTtcbiAgICAgIHJldHVybiBiYXNlVXJsICYmICFpc0Fic29sdXRlVVJMKHRhcmdldFVybCkgPyBqb2luUGF0aHMoYmFzZVVybCwgdGFyZ2V0VXJsKSA6IHRhcmdldFVybDtcbiAgICB9KTtcbiAgICBsZXQgb3B0aW9ucyA9IF9vcHRpb25zO1xuICAgIGxldCBmZXRjaE9wdGlvbnMgPSBfZmV0Y2hPcHRpb25zO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChpc0ZldGNoT3B0aW9ucyhhcmdzWzBdKSkge1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgLi4uYXJnc1swXSxcbiAgICAgICAgICBiZWZvcmVGZXRjaDogY29tYmluZUNhbGxiYWNrcyhfY29tYmluYXRpb24sIF9vcHRpb25zLmJlZm9yZUZldGNoLCBhcmdzWzBdLmJlZm9yZUZldGNoKSxcbiAgICAgICAgICBhZnRlckZldGNoOiBjb21iaW5lQ2FsbGJhY2tzKF9jb21iaW5hdGlvbiwgX29wdGlvbnMuYWZ0ZXJGZXRjaCwgYXJnc1swXS5hZnRlckZldGNoKSxcbiAgICAgICAgICBvbkZldGNoRXJyb3I6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5vbkZldGNoRXJyb3IsIGFyZ3NbMF0ub25GZXRjaEVycm9yKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hPcHRpb25zID0ge1xuICAgICAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgICAgICAuLi5hcmdzWzBdLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLmhlYWRlcnNUb09iamVjdChmZXRjaE9wdGlvbnMuaGVhZGVycykgfHwge30sXG4gICAgICAgICAgICAuLi5oZWFkZXJzVG9PYmplY3QoYXJnc1swXS5oZWFkZXJzKSB8fCB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMSAmJiBpc0ZldGNoT3B0aW9ucyhhcmdzWzFdKSkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgLi4uYXJnc1sxXSxcbiAgICAgICAgYmVmb3JlRmV0Y2g6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5iZWZvcmVGZXRjaCwgYXJnc1sxXS5iZWZvcmVGZXRjaCksXG4gICAgICAgIGFmdGVyRmV0Y2g6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5hZnRlckZldGNoLCBhcmdzWzFdLmFmdGVyRmV0Y2gpLFxuICAgICAgICBvbkZldGNoRXJyb3I6IGNvbWJpbmVDYWxsYmFja3MoX2NvbWJpbmF0aW9uLCBfb3B0aW9ucy5vbkZldGNoRXJyb3IsIGFyZ3NbMV0ub25GZXRjaEVycm9yKVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZUZldGNoKGNvbXB1dGVkVXJsLCBmZXRjaE9wdGlvbnMsIG9wdGlvbnMpO1xuICB9XG4gIHJldHVybiB1c2VGYWN0b3J5RmV0Y2g7XG59XG5mdW5jdGlvbiB1c2VGZXRjaCh1cmwsIC4uLmFyZ3MpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3Qgc3VwcG9ydHNBYm9ydCA9IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgPT09IFwiZnVuY3Rpb25cIjtcbiAgbGV0IGZldGNoT3B0aW9ucyA9IHt9O1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICBpbW1lZGlhdGU6IHRydWUsXG4gICAgcmVmZXRjaDogZmFsc2UsXG4gICAgdGltZW91dDogMCxcbiAgICB1cGRhdGVEYXRhT25FcnJvcjogZmFsc2VcbiAgfTtcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICB0eXBlOiBcInRleHRcIixcbiAgICBwYXlsb2FkOiB2b2lkIDBcbiAgfTtcbiAgaWYgKGFyZ3MubGVuZ3RoID4gMCkge1xuICAgIGlmIChpc0ZldGNoT3B0aW9ucyhhcmdzWzBdKSlcbiAgICAgIG9wdGlvbnMgPSB7IC4uLm9wdGlvbnMsIC4uLmFyZ3NbMF0gfTtcbiAgICBlbHNlXG4gICAgICBmZXRjaE9wdGlvbnMgPSBhcmdzWzBdO1xuICB9XG4gIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICBpZiAoaXNGZXRjaE9wdGlvbnMoYXJnc1sxXSkpXG4gICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCAuLi5hcmdzWzFdIH07XG4gIH1cbiAgY29uc3Qge1xuICAgIGZldGNoID0gKF9iID0gKF9hID0gZGVmYXVsdFdpbmRvdykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZldGNoKSAhPSBudWxsID8gX2IgOiBnbG9iYWxUaGlzID09IG51bGwgPyB2b2lkIDAgOiBnbG9iYWxUaGlzLmZldGNoLFxuICAgIGluaXRpYWxEYXRhLFxuICAgIHRpbWVvdXRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlc3BvbnNlRXZlbnQgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgZXJyb3JFdmVudCA9IGNyZWF0ZUV2ZW50SG9vaygpO1xuICBjb25zdCBmaW5hbGx5RXZlbnQgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgaXNGaW5pc2hlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBpc0ZldGNoaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGFib3J0ZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgc3RhdHVzQ29kZSA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IHJlc3BvbnNlID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBkYXRhID0gc2hhbGxvd1JlZihpbml0aWFsRGF0YSB8fCBudWxsKTtcbiAgY29uc3QgY2FuQWJvcnQgPSBjb21wdXRlZCgoKSA9PiBzdXBwb3J0c0Fib3J0ICYmIGlzRmV0Y2hpbmcudmFsdWUpO1xuICBsZXQgY29udHJvbGxlcjtcbiAgbGV0IHRpbWVyO1xuICBjb25zdCBhYm9ydCA9IChyZWFzb24pID0+IHtcbiAgICBpZiAoc3VwcG9ydHNBYm9ydCkge1xuICAgICAgY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5hYm9ydChyZWFzb24pO1xuICAgICAgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLm9uYWJvcnQgPSAoKSA9PiBhYm9ydGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGZldGNoT3B0aW9ucyA9IHtcbiAgICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbG9hZGluZyA9IChpc0xvYWRpbmcpID0+IHtcbiAgICBpc0ZldGNoaW5nLnZhbHVlID0gaXNMb2FkaW5nO1xuICAgIGlzRmluaXNoZWQudmFsdWUgPSAhaXNMb2FkaW5nO1xuICB9O1xuICBpZiAodGltZW91dClcbiAgICB0aW1lciA9IHVzZVRpbWVvdXRGbihhYm9ydCwgdGltZW91dCwgeyBpbW1lZGlhdGU6IGZhbHNlIH0pO1xuICBsZXQgZXhlY3V0ZUNvdW50ZXIgPSAwO1xuICBjb25zdCBleGVjdXRlID0gYXN5bmMgKHRocm93T25GYWlsZWQgPSBmYWxzZSkgPT4ge1xuICAgIHZhciBfYTIsIF9iMjtcbiAgICBhYm9ydCgpO1xuICAgIGxvYWRpbmcodHJ1ZSk7XG4gICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICAgIHN0YXR1c0NvZGUudmFsdWUgPSBudWxsO1xuICAgIGFib3J0ZWQudmFsdWUgPSBmYWxzZTtcbiAgICBleGVjdXRlQ291bnRlciArPSAxO1xuICAgIGNvbnN0IGN1cnJlbnRFeGVjdXRlQ291bnRlciA9IGV4ZWN1dGVDb3VudGVyO1xuICAgIGNvbnN0IGRlZmF1bHRGZXRjaE9wdGlvbnMgPSB7XG4gICAgICBtZXRob2Q6IGNvbmZpZy5tZXRob2QsXG4gICAgICBoZWFkZXJzOiB7fVxuICAgIH07XG4gICAgY29uc3QgcGF5bG9hZCA9IHRvVmFsdWUoY29uZmlnLnBheWxvYWQpO1xuICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICBjb25zdCBoZWFkZXJzID0gaGVhZGVyc1RvT2JqZWN0KGRlZmF1bHRGZXRjaE9wdGlvbnMuaGVhZGVycyk7XG4gICAgICBjb25zdCBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwYXlsb2FkKTtcbiAgICAgIGlmICghY29uZmlnLnBheWxvYWRUeXBlICYmIHBheWxvYWQgJiYgKHByb3RvID09PSBPYmplY3QucHJvdG90eXBlIHx8IEFycmF5LmlzQXJyYXkocHJvdG8pKSAmJiAhKHBheWxvYWQgaW5zdGFuY2VvZiBGb3JtRGF0YSkpXG4gICAgICAgIGNvbmZpZy5wYXlsb2FkVHlwZSA9IFwianNvblwiO1xuICAgICAgaWYgKGNvbmZpZy5wYXlsb2FkVHlwZSlcbiAgICAgICAgaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXSA9IChfYTIgPSBwYXlsb2FkTWFwcGluZ1tjb25maWcucGF5bG9hZFR5cGVdKSAhPSBudWxsID8gX2EyIDogY29uZmlnLnBheWxvYWRUeXBlO1xuICAgICAgZGVmYXVsdEZldGNoT3B0aW9ucy5ib2R5ID0gY29uZmlnLnBheWxvYWRUeXBlID09PSBcImpzb25cIiA/IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpIDogcGF5bG9hZDtcbiAgICB9XG4gICAgbGV0IGlzQ2FuY2VsZWQgPSBmYWxzZTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgdXJsOiB0b1ZhbHVlKHVybCksXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIC4uLmRlZmF1bHRGZXRjaE9wdGlvbnMsXG4gICAgICAgIC4uLmZldGNoT3B0aW9uc1xuICAgICAgfSxcbiAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICBpc0NhbmNlbGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChvcHRpb25zLmJlZm9yZUZldGNoKVxuICAgICAgT2JqZWN0LmFzc2lnbihjb250ZXh0LCBhd2FpdCBvcHRpb25zLmJlZm9yZUZldGNoKGNvbnRleHQpKTtcbiAgICBpZiAoaXNDYW5jZWxlZCB8fCAhZmV0Y2gpIHtcbiAgICAgIGxvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IG51bGw7XG4gICAgaWYgKHRpbWVyKVxuICAgICAgdGltZXIuc3RhcnQoKTtcbiAgICByZXR1cm4gZmV0Y2goXG4gICAgICBjb250ZXh0LnVybCxcbiAgICAgIHtcbiAgICAgICAgLi4uZGVmYXVsdEZldGNoT3B0aW9ucyxcbiAgICAgICAgLi4uY29udGV4dC5vcHRpb25zLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4uaGVhZGVyc1RvT2JqZWN0KGRlZmF1bHRGZXRjaE9wdGlvbnMuaGVhZGVycyksXG4gICAgICAgICAgLi4uaGVhZGVyc1RvT2JqZWN0KChfYjIgPSBjb250ZXh0Lm9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYjIuaGVhZGVycylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICkudGhlbihhc3luYyAoZmV0Y2hSZXNwb25zZSkgPT4ge1xuICAgICAgcmVzcG9uc2UudmFsdWUgPSBmZXRjaFJlc3BvbnNlO1xuICAgICAgc3RhdHVzQ29kZS52YWx1ZSA9IGZldGNoUmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmVzcG9uc2VEYXRhID0gYXdhaXQgZmV0Y2hSZXNwb25zZS5jbG9uZSgpW2NvbmZpZy50eXBlXSgpO1xuICAgICAgaWYgKCFmZXRjaFJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGRhdGEudmFsdWUgPSBpbml0aWFsRGF0YSB8fCBudWxsO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZmV0Y2hSZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmFmdGVyRmV0Y2gpIHtcbiAgICAgICAgKHsgZGF0YTogcmVzcG9uc2VEYXRhIH0gPSBhd2FpdCBvcHRpb25zLmFmdGVyRmV0Y2goe1xuICAgICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICByZXNwb25zZTogZmV0Y2hSZXNwb25zZSxcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGV4ZWN1dGVcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgZGF0YS52YWx1ZSA9IHJlc3BvbnNlRGF0YTtcbiAgICAgIHJlc3BvbnNlRXZlbnQudHJpZ2dlcihmZXRjaFJlc3BvbnNlKTtcbiAgICAgIHJldHVybiBmZXRjaFJlc3BvbnNlO1xuICAgIH0pLmNhdGNoKGFzeW5jIChmZXRjaEVycm9yKSA9PiB7XG4gICAgICBsZXQgZXJyb3JEYXRhID0gZmV0Y2hFcnJvci5tZXNzYWdlIHx8IGZldGNoRXJyb3IubmFtZTtcbiAgICAgIGlmIChvcHRpb25zLm9uRmV0Y2hFcnJvcikge1xuICAgICAgICAoeyBlcnJvcjogZXJyb3JEYXRhLCBkYXRhOiByZXNwb25zZURhdGEgfSA9IGF3YWl0IG9wdGlvbnMub25GZXRjaEVycm9yKHtcbiAgICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgICAgZXJyb3I6IGZldGNoRXJyb3IsXG4gICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLnZhbHVlLFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgZXhlY3V0ZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICBlcnJvci52YWx1ZSA9IGVycm9yRGF0YTtcbiAgICAgIGlmIChvcHRpb25zLnVwZGF0ZURhdGFPbkVycm9yKVxuICAgICAgICBkYXRhLnZhbHVlID0gcmVzcG9uc2VEYXRhO1xuICAgICAgZXJyb3JFdmVudC50cmlnZ2VyKGZldGNoRXJyb3IpO1xuICAgICAgaWYgKHRocm93T25GYWlsZWQpXG4gICAgICAgIHRocm93IGZldGNoRXJyb3I7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmIChjdXJyZW50RXhlY3V0ZUNvdW50ZXIgPT09IGV4ZWN1dGVDb3VudGVyKVxuICAgICAgICBsb2FkaW5nKGZhbHNlKTtcbiAgICAgIGlmICh0aW1lcilcbiAgICAgICAgdGltZXIuc3RvcCgpO1xuICAgICAgZmluYWxseUV2ZW50LnRyaWdnZXIobnVsbCk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHJlZmV0Y2ggPSB0b1JlZihvcHRpb25zLnJlZmV0Y2gpO1xuICB3YXRjaChcbiAgICBbXG4gICAgICByZWZldGNoLFxuICAgICAgdG9SZWYodXJsKVxuICAgIF0sXG4gICAgKFtyZWZldGNoMl0pID0+IHJlZmV0Y2gyICYmIGV4ZWN1dGUoKSxcbiAgICB7IGRlZXA6IHRydWUgfVxuICApO1xuICBjb25zdCBzaGVsbCA9IHtcbiAgICBpc0ZpbmlzaGVkOiByZWFkb25seShpc0ZpbmlzaGVkKSxcbiAgICBpc0ZldGNoaW5nOiByZWFkb25seShpc0ZldGNoaW5nKSxcbiAgICBzdGF0dXNDb2RlLFxuICAgIHJlc3BvbnNlLFxuICAgIGVycm9yLFxuICAgIGRhdGEsXG4gICAgY2FuQWJvcnQsXG4gICAgYWJvcnRlZCxcbiAgICBhYm9ydCxcbiAgICBleGVjdXRlLFxuICAgIG9uRmV0Y2hSZXNwb25zZTogcmVzcG9uc2VFdmVudC5vbixcbiAgICBvbkZldGNoRXJyb3I6IGVycm9yRXZlbnQub24sXG4gICAgb25GZXRjaEZpbmFsbHk6IGZpbmFsbHlFdmVudC5vbixcbiAgICAvLyBtZXRob2RcbiAgICBnZXQ6IHNldE1ldGhvZChcIkdFVFwiKSxcbiAgICBwdXQ6IHNldE1ldGhvZChcIlBVVFwiKSxcbiAgICBwb3N0OiBzZXRNZXRob2QoXCJQT1NUXCIpLFxuICAgIGRlbGV0ZTogc2V0TWV0aG9kKFwiREVMRVRFXCIpLFxuICAgIHBhdGNoOiBzZXRNZXRob2QoXCJQQVRDSFwiKSxcbiAgICBoZWFkOiBzZXRNZXRob2QoXCJIRUFEXCIpLFxuICAgIG9wdGlvbnM6IHNldE1ldGhvZChcIk9QVElPTlNcIiksXG4gICAgLy8gdHlwZVxuICAgIGpzb246IHNldFR5cGUoXCJqc29uXCIpLFxuICAgIHRleHQ6IHNldFR5cGUoXCJ0ZXh0XCIpLFxuICAgIGJsb2I6IHNldFR5cGUoXCJibG9iXCIpLFxuICAgIGFycmF5QnVmZmVyOiBzZXRUeXBlKFwiYXJyYXlCdWZmZXJcIiksXG4gICAgZm9ybURhdGE6IHNldFR5cGUoXCJmb3JtRGF0YVwiKVxuICB9O1xuICBmdW5jdGlvbiBzZXRNZXRob2QobWV0aG9kKSB7XG4gICAgcmV0dXJuIChwYXlsb2FkLCBwYXlsb2FkVHlwZSkgPT4ge1xuICAgICAgaWYgKCFpc0ZldGNoaW5nLnZhbHVlKSB7XG4gICAgICAgIGNvbmZpZy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIGNvbmZpZy5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgY29uZmlnLnBheWxvYWRUeXBlID0gcGF5bG9hZFR5cGU7XG4gICAgICAgIGlmIChpc1JlZihjb25maWcucGF5bG9hZCkpIHtcbiAgICAgICAgICB3YXRjaChcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgcmVmZXRjaCxcbiAgICAgICAgICAgICAgdG9SZWYoY29uZmlnLnBheWxvYWQpXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgKFtyZWZldGNoMl0pID0+IHJlZmV0Y2gyICYmIGV4ZWN1dGUoKSxcbiAgICAgICAgICAgIHsgZGVlcDogdHJ1ZSB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNoZWxsLFxuICAgICAgICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWl0VW50aWxGaW5pc2hlZCgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB3YWl0VW50aWxGaW5pc2hlZCgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdW50aWwoaXNGaW5pc2hlZCkudG9CZSh0cnVlKS50aGVuKCgpID0+IHJlc29sdmUoc2hlbGwpKS5jYXRjaChyZWplY3QpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHNldFR5cGUodHlwZSkge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoIWlzRmV0Y2hpbmcudmFsdWUpIHtcbiAgICAgICAgY29uZmlnLnR5cGUgPSB0eXBlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNoZWxsLFxuICAgICAgICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB3YWl0VW50aWxGaW5pc2hlZCgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfTtcbiAgfVxuICBpZiAob3B0aW9ucy5pbW1lZGlhdGUpXG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiBleGVjdXRlKCkpO1xuICByZXR1cm4ge1xuICAgIC4uLnNoZWxsLFxuICAgIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiB3YWl0VW50aWxGaW5pc2hlZCgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGpvaW5QYXRocyhzdGFydCwgZW5kKSB7XG4gIGlmICghc3RhcnQuZW5kc1dpdGgoXCIvXCIpICYmICFlbmQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICByZXR1cm4gYCR7c3RhcnR9LyR7ZW5kfWA7XG4gIH1cbiAgaWYgKHN0YXJ0LmVuZHNXaXRoKFwiL1wiKSAmJiBlbmQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICByZXR1cm4gYCR7c3RhcnQuc2xpY2UoMCwgLTEpfSR7ZW5kfWA7XG4gIH1cbiAgcmV0dXJuIGAke3N0YXJ0fSR7ZW5kfWA7XG59XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgbXVsdGlwbGU6IHRydWUsXG4gIGFjY2VwdDogXCIqXCIsXG4gIHJlc2V0OiBmYWxzZSxcbiAgZGlyZWN0b3J5OiBmYWxzZVxufTtcbmZ1bmN0aW9uIHByZXBhcmVJbml0aWFsRmlsZXMoZmlsZXMpIHtcbiAgaWYgKCFmaWxlcylcbiAgICByZXR1cm4gbnVsbDtcbiAgaWYgKGZpbGVzIGluc3RhbmNlb2YgRmlsZUxpc3QpXG4gICAgcmV0dXJuIGZpbGVzO1xuICBjb25zdCBkdCA9IG5ldyBEYXRhVHJhbnNmZXIoKTtcbiAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgZHQuaXRlbXMuYWRkKGZpbGUpO1xuICB9XG4gIHJldHVybiBkdC5maWxlcztcbn1cbmZ1bmN0aW9uIHVzZUZpbGVEaWFsb2cob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZmlsZXMgPSByZWYocHJlcGFyZUluaXRpYWxGaWxlcyhvcHRpb25zLmluaXRpYWxGaWxlcykpO1xuICBjb25zdCB7IG9uOiBvbkNoYW5nZSwgdHJpZ2dlcjogY2hhbmdlVHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHsgb246IG9uQ2FuY2VsLCB0cmlnZ2VyOiBjYW5jZWxUcmlnZ2VyIH0gPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgbGV0IGlucHV0O1xuICBpZiAoZG9jdW1lbnQpIHtcbiAgICBpbnB1dCA9IHVucmVmRWxlbWVudChvcHRpb25zLmlucHV0KSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW5wdXQudHlwZSA9IFwiZmlsZVwiO1xuICAgIGlucHV0Lm9uY2hhbmdlID0gKGV2ZW50KSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBldmVudC50YXJnZXQ7XG4gICAgICBmaWxlcy52YWx1ZSA9IHJlc3VsdC5maWxlcztcbiAgICAgIGNoYW5nZVRyaWdnZXIoZmlsZXMudmFsdWUpO1xuICAgIH07XG4gICAgaW5wdXQub25jYW5jZWwgPSAoKSA9PiB7XG4gICAgICBjYW5jZWxUcmlnZ2VyKCk7XG4gICAgfTtcbiAgfVxuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBmaWxlcy52YWx1ZSA9IG51bGw7XG4gICAgaWYgKGlucHV0ICYmIGlucHV0LnZhbHVlKSB7XG4gICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICBjaGFuZ2VUcmlnZ2VyKG51bGwpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgb3BlbiA9IChsb2NhbE9wdGlvbnMpID0+IHtcbiAgICBpZiAoIWlucHV0KVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IF9vcHRpb25zID0ge1xuICAgICAgLi4uREVGQVVMVF9PUFRJT05TLFxuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIC4uLmxvY2FsT3B0aW9uc1xuICAgIH07XG4gICAgaW5wdXQubXVsdGlwbGUgPSBfb3B0aW9ucy5tdWx0aXBsZTtcbiAgICBpbnB1dC5hY2NlcHQgPSBfb3B0aW9ucy5hY2NlcHQ7XG4gICAgaW5wdXQud2Via2l0ZGlyZWN0b3J5ID0gX29wdGlvbnMuZGlyZWN0b3J5O1xuICAgIGlmIChoYXNPd24oX29wdGlvbnMsIFwiY2FwdHVyZVwiKSlcbiAgICAgIGlucHV0LmNhcHR1cmUgPSBfb3B0aW9ucy5jYXB0dXJlO1xuICAgIGlmIChfb3B0aW9ucy5yZXNldClcbiAgICAgIHJlc2V0KCk7XG4gICAgaW5wdXQuY2xpY2soKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBmaWxlczogcmVhZG9ubHkoZmlsZXMpLFxuICAgIG9wZW4sXG4gICAgcmVzZXQsXG4gICAgb25DYW5jZWwsXG4gICAgb25DaGFuZ2VcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlRmlsZVN5c3RlbUFjY2VzcyhvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdzogX3dpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgZGF0YVR5cGUgPSBcIlRleHRcIlxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgd2luZG93ID0gX3dpbmRvdztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwic2hvd1NhdmVGaWxlUGlja2VyXCIgaW4gd2luZG93ICYmIFwic2hvd09wZW5GaWxlUGlja2VyXCIgaW4gd2luZG93KTtcbiAgY29uc3QgZmlsZUhhbmRsZSA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgZGF0YSA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgZmlsZSA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3QgZmlsZU5hbWUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gZmlsZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5hbWUpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gIH0pO1xuICBjb25zdCBmaWxlTUlNRSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSBmaWxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHlwZSkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgfSk7XG4gIGNvbnN0IGZpbGVTaXplID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IGZpbGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaXplKSAhPSBudWxsID8gX2IgOiAwO1xuICB9KTtcbiAgY29uc3QgZmlsZUxhc3RNb2RpZmllZCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHJldHVybiAoX2IgPSAoX2EgPSBmaWxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGFzdE1vZGlmaWVkKSAhPSBudWxsID8gX2IgOiAwO1xuICB9KTtcbiAgYXN5bmMgZnVuY3Rpb24gb3Blbihfb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBbaGFuZGxlXSA9IGF3YWl0IHdpbmRvdy5zaG93T3BlbkZpbGVQaWNrZXIoeyAuLi50b1ZhbHVlKG9wdGlvbnMpLCAuLi5fb3B0aW9ucyB9KTtcbiAgICBmaWxlSGFuZGxlLnZhbHVlID0gaGFuZGxlO1xuICAgIGF3YWl0IHVwZGF0ZURhdGEoKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjcmVhdGUoX29wdGlvbnMgPSB7fSkge1xuICAgIGlmICghaXNTdXBwb3J0ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgZmlsZUhhbmRsZS52YWx1ZSA9IGF3YWl0IHdpbmRvdy5zaG93U2F2ZUZpbGVQaWNrZXIoeyAuLi5vcHRpb25zLCAuLi5fb3B0aW9ucyB9KTtcbiAgICBkYXRhLnZhbHVlID0gdm9pZCAwO1xuICAgIGF3YWl0IHVwZGF0ZURhdGEoKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBzYXZlKF9vcHRpb25zID0ge30pIHtcbiAgICBpZiAoIWlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICghZmlsZUhhbmRsZS52YWx1ZSlcbiAgICAgIHJldHVybiBzYXZlQXMoX29wdGlvbnMpO1xuICAgIGlmIChkYXRhLnZhbHVlKSB7XG4gICAgICBjb25zdCB3cml0YWJsZVN0cmVhbSA9IGF3YWl0IGZpbGVIYW5kbGUudmFsdWUuY3JlYXRlV3JpdGFibGUoKTtcbiAgICAgIGF3YWl0IHdyaXRhYmxlU3RyZWFtLndyaXRlKGRhdGEudmFsdWUpO1xuICAgICAgYXdhaXQgd3JpdGFibGVTdHJlYW0uY2xvc2UoKTtcbiAgICB9XG4gICAgYXdhaXQgdXBkYXRlRmlsZSgpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHNhdmVBcyhfb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBmaWxlSGFuZGxlLnZhbHVlID0gYXdhaXQgd2luZG93LnNob3dTYXZlRmlsZVBpY2tlcih7IC4uLm9wdGlvbnMsIC4uLl9vcHRpb25zIH0pO1xuICAgIGlmIChkYXRhLnZhbHVlKSB7XG4gICAgICBjb25zdCB3cml0YWJsZVN0cmVhbSA9IGF3YWl0IGZpbGVIYW5kbGUudmFsdWUuY3JlYXRlV3JpdGFibGUoKTtcbiAgICAgIGF3YWl0IHdyaXRhYmxlU3RyZWFtLndyaXRlKGRhdGEudmFsdWUpO1xuICAgICAgYXdhaXQgd3JpdGFibGVTdHJlYW0uY2xvc2UoKTtcbiAgICB9XG4gICAgYXdhaXQgdXBkYXRlRmlsZSgpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUZpbGUoKSB7XG4gICAgdmFyIF9hO1xuICAgIGZpbGUudmFsdWUgPSBhd2FpdCAoKF9hID0gZmlsZUhhbmRsZS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmdldEZpbGUoKSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRGF0YSgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGF3YWl0IHVwZGF0ZUZpbGUoKTtcbiAgICBjb25zdCB0eXBlID0gdG9WYWx1ZShkYXRhVHlwZSk7XG4gICAgaWYgKHR5cGUgPT09IFwiVGV4dFwiKVxuICAgICAgZGF0YS52YWx1ZSA9IGF3YWl0ICgoX2EgPSBmaWxlLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudGV4dCgpKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSBcIkFycmF5QnVmZmVyXCIpXG4gICAgICBkYXRhLnZhbHVlID0gYXdhaXQgKChfYiA9IGZpbGUudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5hcnJheUJ1ZmZlcigpKTtcbiAgICBlbHNlIGlmICh0eXBlID09PSBcIkJsb2JcIilcbiAgICAgIGRhdGEudmFsdWUgPSBmaWxlLnZhbHVlO1xuICB9XG4gIHdhdGNoKCgpID0+IHRvVmFsdWUoZGF0YVR5cGUpLCB1cGRhdGVEYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBkYXRhLFxuICAgIGZpbGUsXG4gICAgZmlsZU5hbWUsXG4gICAgZmlsZU1JTUUsXG4gICAgZmlsZVNpemUsXG4gICAgZmlsZUxhc3RNb2RpZmllZCxcbiAgICBvcGVuLFxuICAgIGNyZWF0ZSxcbiAgICBzYXZlLFxuICAgIHNhdmVBcyxcbiAgICB1cGRhdGVEYXRhXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUZvY3VzKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgaW5pdGlhbFZhbHVlID0gZmFsc2UsIGZvY3VzVmlzaWJsZSA9IGZhbHNlLCBwcmV2ZW50U2Nyb2xsID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlubmVyRm9jdXNlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCB0YXJnZXRFbGVtZW50ID0gY29tcHV0ZWQoKCkgPT4gdW5yZWZFbGVtZW50KHRhcmdldCkpO1xuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXRFbGVtZW50LCBcImZvY3VzXCIsIChldmVudCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKCFmb2N1c1Zpc2libGUgfHwgKChfYiA9IChfYSA9IGV2ZW50LnRhcmdldCkubWF0Y2hlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIFwiOmZvY3VzLXZpc2libGVcIikpKVxuICAgICAgaW5uZXJGb2N1c2VkLnZhbHVlID0gdHJ1ZTtcbiAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXRFbGVtZW50LCBcImJsdXJcIiwgKCkgPT4gaW5uZXJGb2N1c2VkLnZhbHVlID0gZmFsc2UsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGNvbnN0IGZvY3VzZWQgPSBjb21wdXRlZCh7XG4gICAgZ2V0OiAoKSA9PiBpbm5lckZvY3VzZWQudmFsdWUsXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgaWYgKCF2YWx1ZSAmJiBpbm5lckZvY3VzZWQudmFsdWUpXG4gICAgICAgIChfYSA9IHRhcmdldEVsZW1lbnQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5ibHVyKCk7XG4gICAgICBlbHNlIGlmICh2YWx1ZSAmJiAhaW5uZXJGb2N1c2VkLnZhbHVlKVxuICAgICAgICAoX2IgPSB0YXJnZXRFbGVtZW50LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsIH0pO1xuICAgIH1cbiAgfSk7XG4gIHdhdGNoKFxuICAgIHRhcmdldEVsZW1lbnQsXG4gICAgKCkgPT4ge1xuICAgICAgZm9jdXNlZC52YWx1ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlLCBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xuICByZXR1cm4geyBmb2N1c2VkIH07XG59XG5cbmNvbnN0IEVWRU5UX0ZPQ1VTX0lOID0gXCJmb2N1c2luXCI7XG5jb25zdCBFVkVOVF9GT0NVU19PVVQgPSBcImZvY3Vzb3V0XCI7XG5jb25zdCBQU0VVRE9fQ0xBU1NfRk9DVVNfV0lUSElOID0gXCI6Zm9jdXMtd2l0aGluXCI7XG5mdW5jdGlvbiB1c2VGb2N1c1dpdGhpbih0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSBjb21wdXRlZCgoKSA9PiB1bnJlZkVsZW1lbnQodGFyZ2V0KSk7XG4gIGNvbnN0IF9mb2N1c2VkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGZvY3VzZWQgPSBjb21wdXRlZCgoKSA9PiBfZm9jdXNlZC52YWx1ZSk7XG4gIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB1c2VBY3RpdmVFbGVtZW50KG9wdGlvbnMpO1xuICBpZiAoIXdpbmRvdyB8fCAhYWN0aXZlRWxlbWVudC52YWx1ZSkge1xuICAgIHJldHVybiB7IGZvY3VzZWQgfTtcbiAgfVxuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXRFbGVtZW50LCBFVkVOVF9GT0NVU19JTiwgKCkgPT4gX2ZvY3VzZWQudmFsdWUgPSB0cnVlLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldEVsZW1lbnQsIEVWRU5UX0ZPQ1VTX09VVCwgKCkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHJldHVybiBfZm9jdXNlZC52YWx1ZSA9IChfYyA9IChfYiA9IChfYSA9IHRhcmdldEVsZW1lbnQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tYXRjaGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChfYSwgUFNFVURPX0NMQVNTX0ZPQ1VTX1dJVEhJTikpICE9IG51bGwgPyBfYyA6IGZhbHNlO1xuICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICByZXR1cm4geyBmb2N1c2VkIH07XG59XG5cbmZ1bmN0aW9uIHVzZUZwcyhvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgZnBzID0gc2hhbGxvd1JlZigwKTtcbiAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICByZXR1cm4gZnBzO1xuICBjb25zdCBldmVyeSA9IChfYSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZXZlcnkpICE9IG51bGwgPyBfYSA6IDEwO1xuICBsZXQgbGFzdCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICBsZXQgdGlja3MgPSAwO1xuICB1c2VSYWZGbigoKSA9PiB7XG4gICAgdGlja3MgKz0gMTtcbiAgICBpZiAodGlja3MgPj0gZXZlcnkpIHtcbiAgICAgIGNvbnN0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgZGlmZiA9IG5vdyAtIGxhc3Q7XG4gICAgICBmcHMudmFsdWUgPSBNYXRoLnJvdW5kKDFlMyAvIChkaWZmIC8gdGlja3MpKTtcbiAgICAgIGxhc3QgPSBub3c7XG4gICAgICB0aWNrcyA9IDA7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZwcztcbn1cblxuY29uc3QgZXZlbnRIYW5kbGVycyA9IFtcbiAgXCJmdWxsc2NyZWVuY2hhbmdlXCIsXG4gIFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLFxuICBcIndlYmtpdGVuZGZ1bGxzY3JlZW5cIixcbiAgXCJtb3pmdWxsc2NyZWVuY2hhbmdlXCIsXG4gIFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCJcbl07XG5mdW5jdGlvbiB1c2VGdWxsc2NyZWVuKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBhdXRvRXhpdCA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0YXJnZXRSZWYgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSB1bnJlZkVsZW1lbnQodGFyZ2V0KSkgIT0gbnVsbCA/IF9hIDogZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgfSk7XG4gIGNvbnN0IGlzRnVsbHNjcmVlbiA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCByZXF1ZXN0TWV0aG9kID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBcInJlcXVlc3RGdWxsc2NyZWVuXCIsXG4gICAgICBcIndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuXCIsXG4gICAgICBcIndlYmtpdEVudGVyRnVsbHNjcmVlblwiLFxuICAgICAgXCJ3ZWJraXRFbnRlckZ1bGxTY3JlZW5cIixcbiAgICAgIFwid2Via2l0UmVxdWVzdEZ1bGxTY3JlZW5cIixcbiAgICAgIFwibW96UmVxdWVzdEZ1bGxTY3JlZW5cIixcbiAgICAgIFwibXNSZXF1ZXN0RnVsbHNjcmVlblwiXG4gICAgXS5maW5kKChtKSA9PiBkb2N1bWVudCAmJiBtIGluIGRvY3VtZW50IHx8IHRhcmdldFJlZi52YWx1ZSAmJiBtIGluIHRhcmdldFJlZi52YWx1ZSk7XG4gIH0pO1xuICBjb25zdCBleGl0TWV0aG9kID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBcImV4aXRGdWxsc2NyZWVuXCIsXG4gICAgICBcIndlYmtpdEV4aXRGdWxsc2NyZWVuXCIsXG4gICAgICBcIndlYmtpdEV4aXRGdWxsU2NyZWVuXCIsXG4gICAgICBcIndlYmtpdENhbmNlbEZ1bGxTY3JlZW5cIixcbiAgICAgIFwibW96Q2FuY2VsRnVsbFNjcmVlblwiLFxuICAgICAgXCJtc0V4aXRGdWxsc2NyZWVuXCJcbiAgICBdLmZpbmQoKG0pID0+IGRvY3VtZW50ICYmIG0gaW4gZG9jdW1lbnQgfHwgdGFyZ2V0UmVmLnZhbHVlICYmIG0gaW4gdGFyZ2V0UmVmLnZhbHVlKTtcbiAgfSk7XG4gIGNvbnN0IGZ1bGxzY3JlZW5FbmFibGVkID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBcImZ1bGxTY3JlZW5cIixcbiAgICAgIFwid2Via2l0SXNGdWxsU2NyZWVuXCIsXG4gICAgICBcIndlYmtpdERpc3BsYXlpbmdGdWxsc2NyZWVuXCIsXG4gICAgICBcIm1vekZ1bGxTY3JlZW5cIixcbiAgICAgIFwibXNGdWxsc2NyZWVuRWxlbWVudFwiXG4gICAgXS5maW5kKChtKSA9PiBkb2N1bWVudCAmJiBtIGluIGRvY3VtZW50IHx8IHRhcmdldFJlZi52YWx1ZSAmJiBtIGluIHRhcmdldFJlZi52YWx1ZSk7XG4gIH0pO1xuICBjb25zdCBmdWxsc2NyZWVuRWxlbWVudE1ldGhvZCA9IFtcbiAgICBcImZ1bGxzY3JlZW5FbGVtZW50XCIsXG4gICAgXCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudFwiLFxuICAgIFwibW96RnVsbFNjcmVlbkVsZW1lbnRcIixcbiAgICBcIm1zRnVsbHNjcmVlbkVsZW1lbnRcIlxuICBdLmZpbmQoKG0pID0+IGRvY3VtZW50ICYmIG0gaW4gZG9jdW1lbnQpO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB0YXJnZXRSZWYudmFsdWUgJiYgZG9jdW1lbnQgJiYgcmVxdWVzdE1ldGhvZC52YWx1ZSAhPT0gdm9pZCAwICYmIGV4aXRNZXRob2QudmFsdWUgIT09IHZvaWQgMCAmJiBmdWxsc2NyZWVuRW5hYmxlZC52YWx1ZSAhPT0gdm9pZCAwKTtcbiAgY29uc3QgaXNDdXJyZW50RWxlbWVudEZ1bGxTY3JlZW4gPSAoKSA9PiB7XG4gICAgaWYgKGZ1bGxzY3JlZW5FbGVtZW50TWV0aG9kKVxuICAgICAgcmV0dXJuIChkb2N1bWVudCA9PSBudWxsID8gdm9pZCAwIDogZG9jdW1lbnRbZnVsbHNjcmVlbkVsZW1lbnRNZXRob2RdKSA9PT0gdGFyZ2V0UmVmLnZhbHVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgY29uc3QgaXNFbGVtZW50RnVsbFNjcmVlbiA9ICgpID0+IHtcbiAgICBpZiAoZnVsbHNjcmVlbkVuYWJsZWQudmFsdWUpIHtcbiAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudFtmdWxsc2NyZWVuRW5hYmxlZC52YWx1ZV0gIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnRbZnVsbHNjcmVlbkVuYWJsZWQudmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0MiA9IHRhcmdldFJlZi52YWx1ZTtcbiAgICAgICAgaWYgKCh0YXJnZXQyID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXQyW2Z1bGxzY3JlZW5FbmFibGVkLnZhbHVlXSkgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBCb29sZWFuKHRhcmdldDJbZnVsbHNjcmVlbkVuYWJsZWQudmFsdWVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGFzeW5jIGZ1bmN0aW9uIGV4aXQoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCAhaXNGdWxsc2NyZWVuLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChleGl0TWV0aG9kLnZhbHVlKSB7XG4gICAgICBpZiAoKGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudFtleGl0TWV0aG9kLnZhbHVlXSkgIT0gbnVsbCkge1xuICAgICAgICBhd2FpdCBkb2N1bWVudFtleGl0TWV0aG9kLnZhbHVlXSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0MiA9IHRhcmdldFJlZi52YWx1ZTtcbiAgICAgICAgaWYgKCh0YXJnZXQyID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXQyW2V4aXRNZXRob2QudmFsdWVdKSAhPSBudWxsKVxuICAgICAgICAgIGF3YWl0IHRhcmdldDJbZXhpdE1ldGhvZC52YWx1ZV0oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaXNGdWxsc2NyZWVuLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZW50ZXIoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCBpc0Z1bGxzY3JlZW4udmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGlzRWxlbWVudEZ1bGxTY3JlZW4oKSlcbiAgICAgIGF3YWl0IGV4aXQoKTtcbiAgICBjb25zdCB0YXJnZXQyID0gdGFyZ2V0UmVmLnZhbHVlO1xuICAgIGlmIChyZXF1ZXN0TWV0aG9kLnZhbHVlICYmICh0YXJnZXQyID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXQyW3JlcXVlc3RNZXRob2QudmFsdWVdKSAhPSBudWxsKSB7XG4gICAgICBhd2FpdCB0YXJnZXQyW3JlcXVlc3RNZXRob2QudmFsdWVdKCk7XG4gICAgICBpc0Z1bGxzY3JlZW4udmFsdWUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiB0b2dnbGUoKSB7XG4gICAgYXdhaXQgKGlzRnVsbHNjcmVlbi52YWx1ZSA/IGV4aXQoKSA6IGVudGVyKCkpO1xuICB9XG4gIGNvbnN0IGhhbmRsZXJDYWxsYmFjayA9ICgpID0+IHtcbiAgICBjb25zdCBpc0VsZW1lbnRGdWxsU2NyZWVuVmFsdWUgPSBpc0VsZW1lbnRGdWxsU2NyZWVuKCk7XG4gICAgaWYgKCFpc0VsZW1lbnRGdWxsU2NyZWVuVmFsdWUgfHwgaXNFbGVtZW50RnVsbFNjcmVlblZhbHVlICYmIGlzQ3VycmVudEVsZW1lbnRGdWxsU2NyZWVuKCkpXG4gICAgICBpc0Z1bGxzY3JlZW4udmFsdWUgPSBpc0VsZW1lbnRGdWxsU2NyZWVuVmFsdWU7XG4gIH07XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgY2FwdHVyZTogZmFsc2UsIHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgZXZlbnRIYW5kbGVycywgaGFuZGxlckNhbGxiYWNrLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1c2VFdmVudExpc3RlbmVyKCgpID0+IHVucmVmRWxlbWVudCh0YXJnZXRSZWYpLCBldmVudEhhbmRsZXJzLCBoYW5kbGVyQ2FsbGJhY2ssIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHRyeU9uTW91bnRlZChoYW5kbGVyQ2FsbGJhY2ssIGZhbHNlKTtcbiAgaWYgKGF1dG9FeGl0KVxuICAgIHRyeU9uU2NvcGVEaXNwb3NlKGV4aXQpO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGlzRnVsbHNjcmVlbixcbiAgICBlbnRlcixcbiAgICBleGl0LFxuICAgIHRvZ2dsZVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXBHYW1lcGFkVG9YYm94MzYwQ29udHJvbGxlcihnYW1lcGFkKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGdhbWVwYWQudmFsdWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbnM6IHtcbiAgICAgICAgICBhOiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMF0sXG4gICAgICAgICAgYjogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzFdLFxuICAgICAgICAgIHg6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1syXSxcbiAgICAgICAgICB5OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbM11cbiAgICAgICAgfSxcbiAgICAgICAgYnVtcGVyOiB7XG4gICAgICAgICAgbGVmdDogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzRdLFxuICAgICAgICAgIHJpZ2h0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbNV1cbiAgICAgICAgfSxcbiAgICAgICAgdHJpZ2dlcnM6IHtcbiAgICAgICAgICBsZWZ0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbNl0sXG4gICAgICAgICAgcmlnaHQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s3XVxuICAgICAgICB9LFxuICAgICAgICBzdGljazoge1xuICAgICAgICAgIGxlZnQ6IHtcbiAgICAgICAgICAgIGhvcml6b250YWw6IGdhbWVwYWQudmFsdWUuYXhlc1swXSxcbiAgICAgICAgICAgIHZlcnRpY2FsOiBnYW1lcGFkLnZhbHVlLmF4ZXNbMV0sXG4gICAgICAgICAgICBidXR0b246IGdhbWVwYWQudmFsdWUuYnV0dG9uc1sxMF1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHJpZ2h0OiB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiBnYW1lcGFkLnZhbHVlLmF4ZXNbMl0sXG4gICAgICAgICAgICB2ZXJ0aWNhbDogZ2FtZXBhZC52YWx1ZS5heGVzWzNdLFxuICAgICAgICAgICAgYnV0dG9uOiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMTFdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkcGFkOiB7XG4gICAgICAgICAgdXA6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1sxMl0sXG4gICAgICAgICAgZG93bjogZ2FtZXBhZC52YWx1ZS5idXR0b25zWzEzXSxcbiAgICAgICAgICBsZWZ0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMTRdLFxuICAgICAgICAgIHJpZ2h0OiBnYW1lcGFkLnZhbHVlLmJ1dHRvbnNbMTVdXG4gICAgICAgIH0sXG4gICAgICAgIGJhY2s6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s4XSxcbiAgICAgICAgc3RhcnQ6IGdhbWVwYWQudmFsdWUuYnV0dG9uc1s5XVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXNlR2FtZXBhZChvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3JcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcImdldEdhbWVwYWRzXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgZ2FtZXBhZHMgPSByZWYoW10pO1xuICBjb25zdCBvbkNvbm5lY3RlZEhvb2sgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3Qgb25EaXNjb25uZWN0ZWRIb29rID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHN0YXRlRnJvbUdhbWVwYWQgPSAoZ2FtZXBhZCkgPT4ge1xuICAgIGNvbnN0IGhhcHRpY0FjdHVhdG9ycyA9IFtdO1xuICAgIGNvbnN0IHZpYnJhdGlvbkFjdHVhdG9yID0gXCJ2aWJyYXRpb25BY3R1YXRvclwiIGluIGdhbWVwYWQgPyBnYW1lcGFkLnZpYnJhdGlvbkFjdHVhdG9yIDogbnVsbDtcbiAgICBpZiAodmlicmF0aW9uQWN0dWF0b3IpXG4gICAgICBoYXB0aWNBY3R1YXRvcnMucHVzaCh2aWJyYXRpb25BY3R1YXRvcik7XG4gICAgaWYgKGdhbWVwYWQuaGFwdGljQWN0dWF0b3JzKVxuICAgICAgaGFwdGljQWN0dWF0b3JzLnB1c2goLi4uZ2FtZXBhZC5oYXB0aWNBY3R1YXRvcnMpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogZ2FtZXBhZC5pZCxcbiAgICAgIGluZGV4OiBnYW1lcGFkLmluZGV4LFxuICAgICAgY29ubmVjdGVkOiBnYW1lcGFkLmNvbm5lY3RlZCxcbiAgICAgIG1hcHBpbmc6IGdhbWVwYWQubWFwcGluZyxcbiAgICAgIHRpbWVzdGFtcDogZ2FtZXBhZC50aW1lc3RhbXAsXG4gICAgICB2aWJyYXRpb25BY3R1YXRvcjogZ2FtZXBhZC52aWJyYXRpb25BY3R1YXRvcixcbiAgICAgIGhhcHRpY0FjdHVhdG9ycyxcbiAgICAgIGF4ZXM6IGdhbWVwYWQuYXhlcy5tYXAoKGF4ZXMpID0+IGF4ZXMpLFxuICAgICAgYnV0dG9uczogZ2FtZXBhZC5idXR0b25zLm1hcCgoYnV0dG9uKSA9PiAoeyBwcmVzc2VkOiBidXR0b24ucHJlc3NlZCwgdG91Y2hlZDogYnV0dG9uLnRvdWNoZWQsIHZhbHVlOiBidXR0b24udmFsdWUgfSkpXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlR2FtZXBhZFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IF9nYW1lcGFkcyA9IChuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpKSB8fCBbXTtcbiAgICBmb3IgKGNvbnN0IGdhbWVwYWQgb2YgX2dhbWVwYWRzKSB7XG4gICAgICBpZiAoZ2FtZXBhZCAmJiBnYW1lcGFkcy52YWx1ZVtnYW1lcGFkLmluZGV4XSlcbiAgICAgICAgZ2FtZXBhZHMudmFsdWVbZ2FtZXBhZC5pbmRleF0gPSBzdGF0ZUZyb21HYW1lcGFkKGdhbWVwYWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgeyBpc0FjdGl2ZSwgcGF1c2UsIHJlc3VtZSB9ID0gdXNlUmFmRm4odXBkYXRlR2FtZXBhZFN0YXRlKTtcbiAgY29uc3Qgb25HYW1lcGFkQ29ubmVjdGVkID0gKGdhbWVwYWQpID0+IHtcbiAgICBpZiAoIWdhbWVwYWRzLnZhbHVlLnNvbWUoKHsgaW5kZXggfSkgPT4gaW5kZXggPT09IGdhbWVwYWQuaW5kZXgpKSB7XG4gICAgICBnYW1lcGFkcy52YWx1ZS5wdXNoKHN0YXRlRnJvbUdhbWVwYWQoZ2FtZXBhZCkpO1xuICAgICAgb25Db25uZWN0ZWRIb29rLnRyaWdnZXIoZ2FtZXBhZC5pbmRleCk7XG4gICAgfVxuICAgIHJlc3VtZSgpO1xuICB9O1xuICBjb25zdCBvbkdhbWVwYWREaXNjb25uZWN0ZWQgPSAoZ2FtZXBhZCkgPT4ge1xuICAgIGdhbWVwYWRzLnZhbHVlID0gZ2FtZXBhZHMudmFsdWUuZmlsdGVyKCh4KSA9PiB4LmluZGV4ICE9PSBnYW1lcGFkLmluZGV4KTtcbiAgICBvbkRpc2Nvbm5lY3RlZEhvb2sudHJpZ2dlcihnYW1lcGFkLmluZGV4KTtcbiAgfTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIoXCJnYW1lcGFkY29ubmVjdGVkXCIsIChlKSA9PiBvbkdhbWVwYWRDb25uZWN0ZWQoZS5nYW1lcGFkKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcImdhbWVwYWRkaXNjb25uZWN0ZWRcIiwgKGUpID0+IG9uR2FtZXBhZERpc2Nvbm5lY3RlZChlLmdhbWVwYWQpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB0cnlPbk1vdW50ZWQoKCkgPT4ge1xuICAgIGNvbnN0IF9nYW1lcGFkcyA9IChuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpKSB8fCBbXTtcbiAgICBmb3IgKGNvbnN0IGdhbWVwYWQgb2YgX2dhbWVwYWRzKSB7XG4gICAgICBpZiAoZ2FtZXBhZCAmJiBnYW1lcGFkcy52YWx1ZVtnYW1lcGFkLmluZGV4XSlcbiAgICAgICAgb25HYW1lcGFkQ29ubmVjdGVkKGdhbWVwYWQpO1xuICAgIH1cbiAgfSk7XG4gIHBhdXNlKCk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgb25Db25uZWN0ZWQ6IG9uQ29ubmVjdGVkSG9vay5vbixcbiAgICBvbkRpc2Nvbm5lY3RlZDogb25EaXNjb25uZWN0ZWRIb29rLm9uLFxuICAgIGdhbWVwYWRzLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZSxcbiAgICBpc0FjdGl2ZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VHZW9sb2NhdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGVuYWJsZUhpZ2hBY2N1cmFjeSA9IHRydWUsXG4gICAgbWF4aW11bUFnZSA9IDNlNCxcbiAgICB0aW1lb3V0ID0gMjdlMyxcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yLFxuICAgIGltbWVkaWF0ZSA9IHRydWVcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IG5hdmlnYXRvciAmJiBcImdlb2xvY2F0aW9uXCIgaW4gbmF2aWdhdG9yKTtcbiAgY29uc3QgbG9jYXRlZEF0ID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgZXJyb3IgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBjb29yZHMgPSByZWYoe1xuICAgIGFjY3VyYWN5OiAwLFxuICAgIGxhdGl0dWRlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgbG9uZ2l0dWRlOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgYWx0aXR1ZGU6IG51bGwsXG4gICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCxcbiAgICBoZWFkaW5nOiBudWxsLFxuICAgIHNwZWVkOiBudWxsXG4gIH0pO1xuICBmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGxvY2F0ZWRBdC52YWx1ZSA9IHBvc2l0aW9uLnRpbWVzdGFtcDtcbiAgICBjb29yZHMudmFsdWUgPSBwb3NpdGlvbi5jb29yZHM7XG4gICAgZXJyb3IudmFsdWUgPSBudWxsO1xuICB9XG4gIGxldCB3YXRjaGVyO1xuICBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgICB3YXRjaGVyID0gbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24oXG4gICAgICAgIHVwZGF0ZVBvc2l0aW9uLFxuICAgICAgICAoZXJyKSA9PiBlcnJvci52YWx1ZSA9IGVycixcbiAgICAgICAge1xuICAgICAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeSxcbiAgICAgICAgICBtYXhpbXVtQWdlLFxuICAgICAgICAgIHRpbWVvdXRcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSlcbiAgICByZXN1bWUoKTtcbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaWYgKHdhdGNoZXIgJiYgbmF2aWdhdG9yKVxuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2god2F0Y2hlcik7XG4gIH1cbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgIHBhdXNlKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIGNvb3JkcyxcbiAgICBsb2NhdGVkQXQsXG4gICAgZXJyb3IsXG4gICAgcmVzdW1lLFxuICAgIHBhdXNlXG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRFdmVudHMkMSA9IFtcIm1vdXNlbW92ZVwiLCBcIm1vdXNlZG93blwiLCBcInJlc2l6ZVwiLCBcImtleWRvd25cIiwgXCJ0b3VjaHN0YXJ0XCIsIFwid2hlZWxcIl07XG5jb25zdCBvbmVNaW51dGUgPSA2ZTQ7XG5mdW5jdGlvbiB1c2VJZGxlKHRpbWVvdXQgPSBvbmVNaW51dGUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgaW5pdGlhbFN0YXRlID0gZmFsc2UsXG4gICAgbGlzdGVuRm9yVmlzaWJpbGl0eUNoYW5nZSA9IHRydWUsXG4gICAgZXZlbnRzID0gZGVmYXVsdEV2ZW50cyQxLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgZXZlbnRGaWx0ZXIgPSB0aHJvdHRsZUZpbHRlcig1MClcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlkbGUgPSBzaGFsbG93UmVmKGluaXRpYWxTdGF0ZSk7XG4gIGNvbnN0IGxhc3RBY3RpdmUgPSBzaGFsbG93UmVmKHRpbWVzdGFtcCgpKTtcbiAgbGV0IHRpbWVyO1xuICBjb25zdCByZXNldCA9ICgpID0+IHtcbiAgICBpZGxlLnZhbHVlID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gaWRsZS52YWx1ZSA9IHRydWUsIHRpbWVvdXQpO1xuICB9O1xuICBjb25zdCBvbkV2ZW50ID0gY3JlYXRlRmlsdGVyV3JhcHBlcihcbiAgICBldmVudEZpbHRlcixcbiAgICAoKSA9PiB7XG4gICAgICBsYXN0QWN0aXZlLnZhbHVlID0gdGltZXN0YW1wKCk7XG4gICAgICByZXNldCgpO1xuICAgIH1cbiAgKTtcbiAgaWYgKHdpbmRvdykge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIGZvciAoY29uc3QgZXZlbnQgb2YgZXZlbnRzKVxuICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIGV2ZW50LCBvbkV2ZW50LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIGlmIChsaXN0ZW5Gb3JWaXNpYmlsaXR5Q2hhbmdlKSB7XG4gICAgICB1c2VFdmVudExpc3RlbmVyKGRvY3VtZW50LCBcInZpc2liaWxpdHljaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbilcbiAgICAgICAgICBvbkV2ZW50KCk7XG4gICAgICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIWluaXRpYWxTdGF0ZSlcbiAgICAgIHJlc2V0KCk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpZGxlLFxuICAgIGxhc3RBY3RpdmUsXG4gICAgcmVzZXRcbiAgfTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gbG9hZEltYWdlKG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBjb25zdCB7IHNyYywgc3Jjc2V0LCBzaXplcywgY2xhc3M6IGNsYXp6LCBsb2FkaW5nLCBjcm9zc29yaWdpbiwgcmVmZXJyZXJQb2xpY3ksIHdpZHRoLCBoZWlnaHQsIGRlY29kaW5nLCBmZXRjaFByaW9yaXR5LCBpc21hcCwgdXNlbWFwIH0gPSBvcHRpb25zO1xuICAgIGltZy5zcmMgPSBzcmM7XG4gICAgaWYgKHNyY3NldCAhPSBudWxsKVxuICAgICAgaW1nLnNyY3NldCA9IHNyY3NldDtcbiAgICBpZiAoc2l6ZXMgIT0gbnVsbClcbiAgICAgIGltZy5zaXplcyA9IHNpemVzO1xuICAgIGlmIChjbGF6eiAhPSBudWxsKVxuICAgICAgaW1nLmNsYXNzTmFtZSA9IGNsYXp6O1xuICAgIGlmIChsb2FkaW5nICE9IG51bGwpXG4gICAgICBpbWcubG9hZGluZyA9IGxvYWRpbmc7XG4gICAgaWYgKGNyb3Nzb3JpZ2luICE9IG51bGwpXG4gICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBjcm9zc29yaWdpbjtcbiAgICBpZiAocmVmZXJyZXJQb2xpY3kgIT0gbnVsbClcbiAgICAgIGltZy5yZWZlcnJlclBvbGljeSA9IHJlZmVycmVyUG9saWN5O1xuICAgIGlmICh3aWR0aCAhPSBudWxsKVxuICAgICAgaW1nLndpZHRoID0gd2lkdGg7XG4gICAgaWYgKGhlaWdodCAhPSBudWxsKVxuICAgICAgaW1nLmhlaWdodCA9IGhlaWdodDtcbiAgICBpZiAoZGVjb2RpbmcgIT0gbnVsbClcbiAgICAgIGltZy5kZWNvZGluZyA9IGRlY29kaW5nO1xuICAgIGlmIChmZXRjaFByaW9yaXR5ICE9IG51bGwpXG4gICAgICBpbWcuZmV0Y2hQcmlvcml0eSA9IGZldGNoUHJpb3JpdHk7XG4gICAgaWYgKGlzbWFwICE9IG51bGwpXG4gICAgICBpbWcuaXNNYXAgPSBpc21hcDtcbiAgICBpZiAodXNlbWFwICE9IG51bGwpXG4gICAgICBpbWcudXNlTWFwID0gdXNlbWFwO1xuICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltZyk7XG4gICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gIH0pO1xufVxuZnVuY3Rpb24gdXNlSW1hZ2Uob3B0aW9ucywgYXN5bmNTdGF0ZU9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBzdGF0ZSA9IHVzZUFzeW5jU3RhdGUoXG4gICAgKCkgPT4gbG9hZEltYWdlKHRvVmFsdWUob3B0aW9ucykpLFxuICAgIHZvaWQgMCxcbiAgICB7XG4gICAgICByZXNldE9uRXhlY3V0ZTogdHJ1ZSxcbiAgICAgIC4uLmFzeW5jU3RhdGVPcHRpb25zXG4gICAgfVxuICApO1xuICB3YXRjaChcbiAgICAoKSA9PiB0b1ZhbHVlKG9wdGlvbnMpLFxuICAgICgpID0+IHN0YXRlLmV4ZWN1dGUoYXN5bmNTdGF0ZU9wdGlvbnMuZGVsYXkpLFxuICAgIHsgZGVlcDogdHJ1ZSB9XG4gICk7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUVsZW1lbnQoZWwpIHtcbiAgaWYgKHR5cGVvZiBXaW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgZWwgaW5zdGFuY2VvZiBXaW5kb3cpXG4gICAgcmV0dXJuIGVsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgaWYgKHR5cGVvZiBEb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbCBpbnN0YW5jZW9mIERvY3VtZW50KVxuICAgIHJldHVybiBlbC5kb2N1bWVudEVsZW1lbnQ7XG4gIHJldHVybiBlbDtcbn1cblxuY29uc3QgQVJSSVZFRF9TVEFURV9USFJFU0hPTERfUElYRUxTID0gMTtcbmZ1bmN0aW9uIHVzZVNjcm9sbChlbGVtZW50LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHRocm90dGxlID0gMCxcbiAgICBpZGxlID0gMjAwLFxuICAgIG9uU3RvcCA9IG5vb3AsXG4gICAgb25TY3JvbGwgPSBub29wLFxuICAgIG9mZnNldCA9IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogMFxuICAgIH0sXG4gICAgb2JzZXJ2ZTogX29ic2VydmUgPSB7XG4gICAgICBtdXRhdGlvbjogZmFsc2VcbiAgICB9LFxuICAgIGV2ZW50TGlzdGVuZXJPcHRpb25zID0ge1xuICAgICAgY2FwdHVyZTogZmFsc2UsXG4gICAgICBwYXNzaXZlOiB0cnVlXG4gICAgfSxcbiAgICBiZWhhdmlvciA9IFwiYXV0b1wiLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgb25FcnJvciA9IChlKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG9ic2VydmUgPSB0eXBlb2YgX29ic2VydmUgPT09IFwiYm9vbGVhblwiID8ge1xuICAgIG11dGF0aW9uOiBfb2JzZXJ2ZVxuICB9IDogX29ic2VydmU7XG4gIGNvbnN0IGludGVybmFsWCA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGludGVybmFsWSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IHggPSBjb21wdXRlZCh7XG4gICAgZ2V0KCkge1xuICAgICAgcmV0dXJuIGludGVybmFsWC52YWx1ZTtcbiAgICB9LFxuICAgIHNldCh4Mikge1xuICAgICAgc2Nyb2xsVG8oeDIsIHZvaWQgMCk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgeSA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxZLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHkyKSB7XG4gICAgICBzY3JvbGxUbyh2b2lkIDAsIHkyKTtcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiBzY3JvbGxUbyhfeCwgX3kpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgaWYgKCF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgX2VsZW1lbnQgPSB0b1ZhbHVlKGVsZW1lbnQpO1xuICAgIGlmICghX2VsZW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgKF9jID0gX2VsZW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudCA/IHdpbmRvdy5kb2N1bWVudC5ib2R5IDogX2VsZW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zY3JvbGxUbyh7XG4gICAgICB0b3A6IChfYSA9IHRvVmFsdWUoX3kpKSAhPSBudWxsID8gX2EgOiB5LnZhbHVlLFxuICAgICAgbGVmdDogKF9iID0gdG9WYWx1ZShfeCkpICE9IG51bGwgPyBfYiA6IHgudmFsdWUsXG4gICAgICBiZWhhdmlvcjogdG9WYWx1ZShiZWhhdmlvcilcbiAgICB9KTtcbiAgICBjb25zdCBzY3JvbGxDb250YWluZXIgPSAoKF9kID0gX2VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IF9lbGVtZW50LmRvY3VtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2QuZG9jdW1lbnRFbGVtZW50KSB8fCAoX2VsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IF9lbGVtZW50LmRvY3VtZW50RWxlbWVudCkgfHwgX2VsZW1lbnQ7XG4gICAgaWYgKHggIT0gbnVsbClcbiAgICAgIGludGVybmFsWC52YWx1ZSA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgIGlmICh5ICE9IG51bGwpXG4gICAgICBpbnRlcm5hbFkudmFsdWUgPSBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wO1xuICB9XG4gIGNvbnN0IGlzU2Nyb2xsaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGFycml2ZWRTdGF0ZSA9IHJlYWN0aXZlKHtcbiAgICBsZWZ0OiB0cnVlLFxuICAgIHJpZ2h0OiBmYWxzZSxcbiAgICB0b3A6IHRydWUsXG4gICAgYm90dG9tOiBmYWxzZVxuICB9KTtcbiAgY29uc3QgZGlyZWN0aW9ucyA9IHJlYWN0aXZlKHtcbiAgICBsZWZ0OiBmYWxzZSxcbiAgICByaWdodDogZmFsc2UsXG4gICAgdG9wOiBmYWxzZSxcbiAgICBib3R0b206IGZhbHNlXG4gIH0pO1xuICBjb25zdCBvblNjcm9sbEVuZCA9IChlKSA9PiB7XG4gICAgaWYgKCFpc1Njcm9sbGluZy52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpc1Njcm9sbGluZy52YWx1ZSA9IGZhbHNlO1xuICAgIGRpcmVjdGlvbnMubGVmdCA9IGZhbHNlO1xuICAgIGRpcmVjdGlvbnMucmlnaHQgPSBmYWxzZTtcbiAgICBkaXJlY3Rpb25zLnRvcCA9IGZhbHNlO1xuICAgIGRpcmVjdGlvbnMuYm90dG9tID0gZmFsc2U7XG4gICAgb25TdG9wKGUpO1xuICB9O1xuICBjb25zdCBvblNjcm9sbEVuZERlYm91bmNlZCA9IHVzZURlYm91bmNlRm4ob25TY3JvbGxFbmQsIHRocm90dGxlICsgaWRsZSk7XG4gIGNvbnN0IHNldEFycml2ZWRTdGF0ZSA9ICh0YXJnZXQpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZWwgPSAoKF9hID0gdGFyZ2V0ID09IG51bGwgPyB2b2lkIDAgOiB0YXJnZXQuZG9jdW1lbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kb2N1bWVudEVsZW1lbnQpIHx8ICh0YXJnZXQgPT0gbnVsbCA/IHZvaWQgMCA6IHRhcmdldC5kb2N1bWVudEVsZW1lbnQpIHx8IHVucmVmRWxlbWVudCh0YXJnZXQpO1xuICAgIGNvbnN0IHsgZGlzcGxheSwgZmxleERpcmVjdGlvbiwgZGlyZWN0aW9uIH0gPSBnZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICBjb25zdCBkaXJlY3Rpb25NdWx0aXBsZXIgPSBkaXJlY3Rpb24gPT09IFwicnRsXCIgPyAtMSA6IDE7XG4gICAgY29uc3Qgc2Nyb2xsTGVmdCA9IGVsLnNjcm9sbExlZnQ7XG4gICAgZGlyZWN0aW9ucy5sZWZ0ID0gc2Nyb2xsTGVmdCA8IGludGVybmFsWC52YWx1ZTtcbiAgICBkaXJlY3Rpb25zLnJpZ2h0ID0gc2Nyb2xsTGVmdCA+IGludGVybmFsWC52YWx1ZTtcbiAgICBjb25zdCBsZWZ0ID0gTWF0aC5hYnMoc2Nyb2xsTGVmdCAqIGRpcmVjdGlvbk11bHRpcGxlcikgPD0gKG9mZnNldC5sZWZ0IHx8IDApO1xuICAgIGNvbnN0IHJpZ2h0ID0gTWF0aC5hYnMoc2Nyb2xsTGVmdCAqIGRpcmVjdGlvbk11bHRpcGxlcikgKyBlbC5jbGllbnRXaWR0aCA+PSBlbC5zY3JvbGxXaWR0aCAtIChvZmZzZXQucmlnaHQgfHwgMCkgLSBBUlJJVkVEX1NUQVRFX1RIUkVTSE9MRF9QSVhFTFM7XG4gICAgaWYgKGRpc3BsYXkgPT09IFwiZmxleFwiICYmIGZsZXhEaXJlY3Rpb24gPT09IFwicm93LXJldmVyc2VcIikge1xuICAgICAgYXJyaXZlZFN0YXRlLmxlZnQgPSByaWdodDtcbiAgICAgIGFycml2ZWRTdGF0ZS5yaWdodCA9IGxlZnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFycml2ZWRTdGF0ZS5sZWZ0ID0gbGVmdDtcbiAgICAgIGFycml2ZWRTdGF0ZS5yaWdodCA9IHJpZ2h0O1xuICAgIH1cbiAgICBpbnRlcm5hbFgudmFsdWUgPSBzY3JvbGxMZWZ0O1xuICAgIGxldCBzY3JvbGxUb3AgPSBlbC5zY3JvbGxUb3A7XG4gICAgaWYgKHRhcmdldCA9PT0gd2luZG93LmRvY3VtZW50ICYmICFzY3JvbGxUb3ApXG4gICAgICBzY3JvbGxUb3AgPSB3aW5kb3cuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgZGlyZWN0aW9ucy50b3AgPSBzY3JvbGxUb3AgPCBpbnRlcm5hbFkudmFsdWU7XG4gICAgZGlyZWN0aW9ucy5ib3R0b20gPSBzY3JvbGxUb3AgPiBpbnRlcm5hbFkudmFsdWU7XG4gICAgY29uc3QgdG9wID0gTWF0aC5hYnMoc2Nyb2xsVG9wKSA8PSAob2Zmc2V0LnRvcCB8fCAwKTtcbiAgICBjb25zdCBib3R0b20gPSBNYXRoLmFicyhzY3JvbGxUb3ApICsgZWwuY2xpZW50SGVpZ2h0ID49IGVsLnNjcm9sbEhlaWdodCAtIChvZmZzZXQuYm90dG9tIHx8IDApIC0gQVJSSVZFRF9TVEFURV9USFJFU0hPTERfUElYRUxTO1xuICAgIGlmIChkaXNwbGF5ID09PSBcImZsZXhcIiAmJiBmbGV4RGlyZWN0aW9uID09PSBcImNvbHVtbi1yZXZlcnNlXCIpIHtcbiAgICAgIGFycml2ZWRTdGF0ZS50b3AgPSBib3R0b207XG4gICAgICBhcnJpdmVkU3RhdGUuYm90dG9tID0gdG9wO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJpdmVkU3RhdGUudG9wID0gdG9wO1xuICAgICAgYXJyaXZlZFN0YXRlLmJvdHRvbSA9IGJvdHRvbTtcbiAgICB9XG4gICAgaW50ZXJuYWxZLnZhbHVlID0gc2Nyb2xsVG9wO1xuICB9O1xuICBjb25zdCBvblNjcm9sbEhhbmRsZXIgPSAoZSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAoIXdpbmRvdylcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBldmVudFRhcmdldCA9IChfYSA9IGUudGFyZ2V0LmRvY3VtZW50RWxlbWVudCkgIT0gbnVsbCA/IF9hIDogZS50YXJnZXQ7XG4gICAgc2V0QXJyaXZlZFN0YXRlKGV2ZW50VGFyZ2V0KTtcbiAgICBpc1Njcm9sbGluZy52YWx1ZSA9IHRydWU7XG4gICAgb25TY3JvbGxFbmREZWJvdW5jZWQoZSk7XG4gICAgb25TY3JvbGwoZSk7XG4gIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgZWxlbWVudCxcbiAgICBcInNjcm9sbFwiLFxuICAgIHRocm90dGxlID8gdXNlVGhyb3R0bGVGbihvblNjcm9sbEhhbmRsZXIsIHRocm90dGxlLCB0cnVlLCBmYWxzZSkgOiBvblNjcm9sbEhhbmRsZXIsXG4gICAgZXZlbnRMaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgX2VsZW1lbnQgPSB0b1ZhbHVlKGVsZW1lbnQpO1xuICAgICAgaWYgKCFfZWxlbWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgc2V0QXJyaXZlZFN0YXRlKF9lbGVtZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH1cbiAgfSk7XG4gIGlmICgob2JzZXJ2ZSA9PSBudWxsID8gdm9pZCAwIDogb2JzZXJ2ZS5tdXRhdGlvbikgJiYgZWxlbWVudCAhPSBudWxsICYmIGVsZW1lbnQgIT09IHdpbmRvdyAmJiBlbGVtZW50ICE9PSBkb2N1bWVudCkge1xuICAgIHVzZU11dGF0aW9uT2JzZXJ2ZXIoXG4gICAgICBlbGVtZW50LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBfZWxlbWVudCA9IHRvVmFsdWUoZWxlbWVudCk7XG4gICAgICAgIGlmICghX2VsZW1lbnQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzZXRBcnJpdmVkU3RhdGUoX2VsZW1lbnQpO1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIGVsZW1lbnQsXG4gICAgXCJzY3JvbGxlbmRcIixcbiAgICBvblNjcm9sbEVuZCxcbiAgICBldmVudExpc3RlbmVyT3B0aW9uc1xuICApO1xuICByZXR1cm4ge1xuICAgIHgsXG4gICAgeSxcbiAgICBpc1Njcm9sbGluZyxcbiAgICBhcnJpdmVkU3RhdGUsXG4gICAgZGlyZWN0aW9ucyxcbiAgICBtZWFzdXJlKCkge1xuICAgICAgY29uc3QgX2VsZW1lbnQgPSB0b1ZhbHVlKGVsZW1lbnQpO1xuICAgICAgaWYgKHdpbmRvdyAmJiBfZWxlbWVudClcbiAgICAgICAgc2V0QXJyaXZlZFN0YXRlKF9lbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZUluZmluaXRlU2Nyb2xsKGVsZW1lbnQsIG9uTG9hZE1vcmUsIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHtcbiAgICBkaXJlY3Rpb24gPSBcImJvdHRvbVwiLFxuICAgIGludGVydmFsID0gMTAwLFxuICAgIGNhbkxvYWRNb3JlID0gKCkgPT4gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc3RhdGUgPSByZWFjdGl2ZSh1c2VTY3JvbGwoXG4gICAgZWxlbWVudCxcbiAgICB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgb2Zmc2V0OiB7XG4gICAgICAgIFtkaXJlY3Rpb25dOiAoX2EgPSBvcHRpb25zLmRpc3RhbmNlKSAhPSBudWxsID8gX2EgOiAwLFxuICAgICAgICAuLi5vcHRpb25zLm9mZnNldFxuICAgICAgfVxuICAgIH1cbiAgKSk7XG4gIGNvbnN0IHByb21pc2UgPSByZWYoKTtcbiAgY29uc3QgaXNMb2FkaW5nID0gY29tcHV0ZWQoKCkgPT4gISFwcm9taXNlLnZhbHVlKTtcbiAgY29uc3Qgb2JzZXJ2ZWRFbGVtZW50ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiByZXNvbHZlRWxlbWVudCh0b1ZhbHVlKGVsZW1lbnQpKTtcbiAgfSk7XG4gIGNvbnN0IGlzRWxlbWVudFZpc2libGUgPSB1c2VFbGVtZW50VmlzaWJpbGl0eShvYnNlcnZlZEVsZW1lbnQpO1xuICBmdW5jdGlvbiBjaGVja0FuZExvYWQoKSB7XG4gICAgc3RhdGUubWVhc3VyZSgpO1xuICAgIGlmICghb2JzZXJ2ZWRFbGVtZW50LnZhbHVlIHx8ICFpc0VsZW1lbnRWaXNpYmxlLnZhbHVlIHx8ICFjYW5Mb2FkTW9yZShvYnNlcnZlZEVsZW1lbnQudmFsdWUpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQsIHNjcm9sbFdpZHRoLCBjbGllbnRXaWR0aCB9ID0gb2JzZXJ2ZWRFbGVtZW50LnZhbHVlO1xuICAgIGNvbnN0IGlzTmFycm93ZXIgPSBkaXJlY3Rpb24gPT09IFwiYm90dG9tXCIgfHwgZGlyZWN0aW9uID09PSBcInRvcFwiID8gc2Nyb2xsSGVpZ2h0IDw9IGNsaWVudEhlaWdodCA6IHNjcm9sbFdpZHRoIDw9IGNsaWVudFdpZHRoO1xuICAgIGlmIChzdGF0ZS5hcnJpdmVkU3RhdGVbZGlyZWN0aW9uXSB8fCBpc05hcnJvd2VyKSB7XG4gICAgICBpZiAoIXByb21pc2UudmFsdWUpIHtcbiAgICAgICAgcHJvbWlzZS52YWx1ZSA9IFByb21pc2UuYWxsKFtcbiAgICAgICAgICBvbkxvYWRNb3JlKHN0YXRlKSxcbiAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBpbnRlcnZhbCkpXG4gICAgICAgIF0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHByb21pc2UudmFsdWUgPSBudWxsO1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IGNoZWNrQW5kTG9hZCgpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHN0b3AgPSB3YXRjaChcbiAgICAoKSA9PiBbc3RhdGUuYXJyaXZlZFN0YXRlW2RpcmVjdGlvbl0sIGlzRWxlbWVudFZpc2libGUudmFsdWVdLFxuICAgIGNoZWNrQW5kTG9hZCxcbiAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICk7XG4gIHRyeU9uVW5tb3VudGVkKHN0b3ApO1xuICByZXR1cm4ge1xuICAgIGlzTG9hZGluZyxcbiAgICByZXNldCgpIHtcbiAgICAgIG5leHRUaWNrKCgpID0+IGNoZWNrQW5kTG9hZCgpKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IGRlZmF1bHRFdmVudHMgPSBbXCJtb3VzZWRvd25cIiwgXCJtb3VzZXVwXCIsIFwia2V5ZG93blwiLCBcImtleXVwXCJdO1xuZnVuY3Rpb24gdXNlS2V5TW9kaWZpZXIobW9kaWZpZXIsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZXZlbnRzID0gZGVmYXVsdEV2ZW50cyxcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBpbml0aWFsID0gbnVsbFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc3RhdGUgPSBzaGFsbG93UmVmKGluaXRpYWwpO1xuICBpZiAoZG9jdW1lbnQpIHtcbiAgICBldmVudHMuZm9yRWFjaCgobGlzdGVuZXJFdmVudCkgPT4ge1xuICAgICAgdXNlRXZlbnRMaXN0ZW5lcihkb2N1bWVudCwgbGlzdGVuZXJFdmVudCwgKGV2dCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGV2dC5nZXRNb2RpZmllclN0YXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgc3RhdGUudmFsdWUgPSBldnQuZ2V0TW9kaWZpZXJTdGF0ZShtb2RpZmllcik7XG4gICAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuXG5mdW5jdGlvbiB1c2VMb2NhbFN0b3JhZ2Uoa2V5LCBpbml0aWFsVmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIHJldHVybiB1c2VTdG9yYWdlKGtleSwgaW5pdGlhbFZhbHVlLCB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5sb2NhbFN0b3JhZ2UsIG9wdGlvbnMpO1xufVxuXG5jb25zdCBEZWZhdWx0TWFnaWNLZXlzQWxpYXNNYXAgPSB7XG4gIGN0cmw6IFwiY29udHJvbFwiLFxuICBjb21tYW5kOiBcIm1ldGFcIixcbiAgY21kOiBcIm1ldGFcIixcbiAgb3B0aW9uOiBcImFsdFwiLFxuICB1cDogXCJhcnJvd3VwXCIsXG4gIGRvd246IFwiYXJyb3dkb3duXCIsXG4gIGxlZnQ6IFwiYXJyb3dsZWZ0XCIsXG4gIHJpZ2h0OiBcImFycm93cmlnaHRcIlxufTtcblxuZnVuY3Rpb24gdXNlTWFnaWNLZXlzKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcmVhY3RpdmU6IHVzZVJlYWN0aXZlID0gZmFsc2UsXG4gICAgdGFyZ2V0ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBhbGlhc01hcCA9IERlZmF1bHRNYWdpY0tleXNBbGlhc01hcCxcbiAgICBwYXNzaXZlID0gdHJ1ZSxcbiAgICBvbkV2ZW50RmlyZWQgPSBub29wXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBjdXJyZW50ID0gcmVhY3RpdmUoLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gIGNvbnN0IG9iaiA9IHtcbiAgICB0b0pTT04oKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBjdXJyZW50XG4gIH07XG4gIGNvbnN0IHJlZnMgPSB1c2VSZWFjdGl2ZSA/IHJlYWN0aXZlKG9iaikgOiBvYmo7XG4gIGNvbnN0IG1ldGFEZXBzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3Qgc2hpZnREZXBzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgY29uc3QgdXNlZEtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBmdW5jdGlvbiBzZXRSZWZzKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoa2V5IGluIHJlZnMpIHtcbiAgICAgIGlmICh1c2VSZWFjdGl2ZSlcbiAgICAgICAgcmVmc1trZXldID0gdmFsdWU7XG4gICAgICBlbHNlXG4gICAgICAgIHJlZnNba2V5XS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICBjdXJyZW50LmNsZWFyKCk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgdXNlZEtleXMpXG4gICAgICBzZXRSZWZzKGtleSwgZmFsc2UpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZVJlZnMoZSwgdmFsdWUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IGtleSA9IChfYSA9IGUua2V5KSA9PSBudWxsID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBjb2RlID0gKF9iID0gZS5jb2RlKSA9PSBudWxsID8gdm9pZCAwIDogX2IudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbY29kZSwga2V5XS5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKGtleSkge1xuICAgICAgaWYgKHZhbHVlKVxuICAgICAgICBjdXJyZW50LmFkZChrZXkpO1xuICAgICAgZWxzZVxuICAgICAgICBjdXJyZW50LmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleTIgb2YgdmFsdWVzKSB7XG4gICAgICB1c2VkS2V5cy5hZGQoa2V5Mik7XG4gICAgICBzZXRSZWZzKGtleTIsIHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gXCJzaGlmdFwiICYmICF2YWx1ZSkge1xuICAgICAgc2hpZnREZXBzLmZvckVhY2goKGtleTIpID0+IHtcbiAgICAgICAgY3VycmVudC5kZWxldGUoa2V5Mik7XG4gICAgICAgIHNldFJlZnMoa2V5MiwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgICBzaGlmdERlcHMuY2xlYXIoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlLmdldE1vZGlmaWVyU3RhdGUgPT09IFwiZnVuY3Rpb25cIiAmJiBlLmdldE1vZGlmaWVyU3RhdGUoXCJTaGlmdFwiKSAmJiB2YWx1ZSkge1xuICAgICAgWy4uLmN1cnJlbnQsIC4uLnZhbHVlc10uZm9yRWFjaCgoa2V5MikgPT4gc2hpZnREZXBzLmFkZChrZXkyKSk7XG4gICAgfVxuICAgIGlmIChrZXkgPT09IFwibWV0YVwiICYmICF2YWx1ZSkge1xuICAgICAgbWV0YURlcHMuZm9yRWFjaCgoa2V5MikgPT4ge1xuICAgICAgICBjdXJyZW50LmRlbGV0ZShrZXkyKTtcbiAgICAgICAgc2V0UmVmcyhrZXkyLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICAgIG1ldGFEZXBzLmNsZWFyKCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZS5nZXRNb2RpZmllclN0YXRlID09PSBcImZ1bmN0aW9uXCIgJiYgZS5nZXRNb2RpZmllclN0YXRlKFwiTWV0YVwiKSAmJiB2YWx1ZSkge1xuICAgICAgWy4uLmN1cnJlbnQsIC4uLnZhbHVlc10uZm9yRWFjaCgoa2V5MikgPT4gbWV0YURlcHMuYWRkKGtleTIpKTtcbiAgICB9XG4gIH1cbiAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwia2V5ZG93blwiLCAoZSkgPT4ge1xuICAgIHVwZGF0ZVJlZnMoZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIG9uRXZlbnRGaXJlZChlKTtcbiAgfSwgeyBwYXNzaXZlIH0pO1xuICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJrZXl1cFwiLCAoZSkgPT4ge1xuICAgIHVwZGF0ZVJlZnMoZSwgZmFsc2UpO1xuICAgIHJldHVybiBvbkV2ZW50RmlyZWQoZSk7XG4gIH0sIHsgcGFzc2l2ZSB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgcmVzZXQsIHsgcGFzc2l2ZSB9KTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsIHJlc2V0LCB7IHBhc3NpdmUgfSk7XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KFxuICAgIHJlZnMsXG4gICAge1xuICAgICAgZ2V0KHRhcmdldDIsIHByb3AsIHJlYykge1xuICAgICAgICBpZiAodHlwZW9mIHByb3AgIT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldDIsIHByb3AsIHJlYyk7XG4gICAgICAgIHByb3AgPSBwcm9wLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChwcm9wIGluIGFsaWFzTWFwKVxuICAgICAgICAgIHByb3AgPSBhbGlhc01hcFtwcm9wXTtcbiAgICAgICAgaWYgKCEocHJvcCBpbiByZWZzKSkge1xuICAgICAgICAgIGlmICgvWytfLV0vLnRlc3QocHJvcCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBwcm9wLnNwbGl0KC9bK18tXS9nKS5tYXAoKGkpID0+IGkudHJpbSgpKTtcbiAgICAgICAgICAgIHJlZnNbcHJvcF0gPSBjb21wdXRlZCgoKSA9PiBrZXlzLm1hcCgoa2V5KSA9PiB0b1ZhbHVlKHByb3h5W2tleV0pKS5ldmVyeShCb29sZWFuKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlZnNbcHJvcF0gPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IFJlZmxlY3QuZ2V0KHRhcmdldDIsIHByb3AsIHJlYyk7XG4gICAgICAgIHJldHVybiB1c2VSZWFjdGl2ZSA/IHRvVmFsdWUocikgOiByO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgcmV0dXJuIHByb3h5O1xufVxuXG5mdW5jdGlvbiB1c2luZ0VsUmVmKHNvdXJjZSwgY2IpIHtcbiAgaWYgKHRvVmFsdWUoc291cmNlKSlcbiAgICBjYih0b1ZhbHVlKHNvdXJjZSkpO1xufVxuZnVuY3Rpb24gdGltZVJhbmdlVG9BcnJheSh0aW1lUmFuZ2VzKSB7XG4gIGxldCByYW5nZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aW1lUmFuZ2VzLmxlbmd0aDsgKytpKVxuICAgIHJhbmdlcyA9IFsuLi5yYW5nZXMsIFt0aW1lUmFuZ2VzLnN0YXJ0KGkpLCB0aW1lUmFuZ2VzLmVuZChpKV1dO1xuICByZXR1cm4gcmFuZ2VzO1xufVxuZnVuY3Rpb24gdHJhY2tzVG9BcnJheSh0cmFja3MpIHtcbiAgcmV0dXJuIEFycmF5LmZyb20odHJhY2tzKS5tYXAoKHsgbGFiZWwsIGtpbmQsIGxhbmd1YWdlLCBtb2RlLCBhY3RpdmVDdWVzLCBjdWVzLCBpbkJhbmRNZXRhZGF0YVRyYWNrRGlzcGF0Y2hUeXBlIH0sIGlkKSA9PiAoeyBpZCwgbGFiZWwsIGtpbmQsIGxhbmd1YWdlLCBtb2RlLCBhY3RpdmVDdWVzLCBjdWVzLCBpbkJhbmRNZXRhZGF0YVRyYWNrRGlzcGF0Y2hUeXBlIH0pKTtcbn1cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICBzcmM6IFwiXCIsXG4gIHRyYWNrczogW11cbn07XG5mdW5jdGlvbiB1c2VNZWRpYUNvbnRyb2xzKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIHRhcmdldCA9IHRvUmVmKHRhcmdldCk7XG4gIG9wdGlvbnMgPSB7XG4gICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuICBjb25zdCB7XG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICBjb25zdCBjdXJyZW50VGltZSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGR1cmF0aW9uID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3Qgc2Vla2luZyA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCB2b2x1bWUgPSBzaGFsbG93UmVmKDEpO1xuICBjb25zdCB3YWl0aW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGVuZGVkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHBsYXlpbmcgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgcmF0ZSA9IHNoYWxsb3dSZWYoMSk7XG4gIGNvbnN0IHN0YWxsZWQgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgYnVmZmVyZWQgPSByZWYoW10pO1xuICBjb25zdCB0cmFja3MgPSByZWYoW10pO1xuICBjb25zdCBzZWxlY3RlZFRyYWNrID0gc2hhbGxvd1JlZigtMSk7XG4gIGNvbnN0IGlzUGljdHVyZUluUGljdHVyZSA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBtdXRlZCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBzdXBwb3J0c1BpY3R1cmVJblBpY3R1cmUgPSBkb2N1bWVudCAmJiBcInBpY3R1cmVJblBpY3R1cmVFbmFibGVkXCIgaW4gZG9jdW1lbnQ7XG4gIGNvbnN0IHNvdXJjZUVycm9yRXZlbnQgPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgcGxheWJhY2tFcnJvckV2ZW50ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IGRpc2FibGVUcmFjayA9ICh0cmFjaykgPT4ge1xuICAgIHVzaW5nRWxSZWYodGFyZ2V0LCAoZWwpID0+IHtcbiAgICAgIGlmICh0cmFjaykge1xuICAgICAgICBjb25zdCBpZCA9IHR5cGVvZiB0cmFjayA9PT0gXCJudW1iZXJcIiA/IHRyYWNrIDogdHJhY2suaWQ7XG4gICAgICAgIGVsLnRleHRUcmFja3NbaWRdLm1vZGUgPSBcImRpc2FibGVkXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsLnRleHRUcmFja3MubGVuZ3RoOyArK2kpXG4gICAgICAgICAgZWwudGV4dFRyYWNrc1tpXS5tb2RlID0gXCJkaXNhYmxlZFwiO1xuICAgICAgfVxuICAgICAgc2VsZWN0ZWRUcmFjay52YWx1ZSA9IC0xO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBlbmFibGVUcmFjayA9ICh0cmFjaywgZGlzYWJsZVRyYWNrcyA9IHRydWUpID0+IHtcbiAgICB1c2luZ0VsUmVmKHRhcmdldCwgKGVsKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IHR5cGVvZiB0cmFjayA9PT0gXCJudW1iZXJcIiA/IHRyYWNrIDogdHJhY2suaWQ7XG4gICAgICBpZiAoZGlzYWJsZVRyYWNrcylcbiAgICAgICAgZGlzYWJsZVRyYWNrKCk7XG4gICAgICBlbC50ZXh0VHJhY2tzW2lkXS5tb2RlID0gXCJzaG93aW5nXCI7XG4gICAgICBzZWxlY3RlZFRyYWNrLnZhbHVlID0gaWQ7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IHRvZ2dsZVBpY3R1cmVJblBpY3R1cmUgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHVzaW5nRWxSZWYodGFyZ2V0LCBhc3luYyAoZWwpID0+IHtcbiAgICAgICAgaWYgKHN1cHBvcnRzUGljdHVyZUluUGljdHVyZSkge1xuICAgICAgICAgIGlmICghaXNQaWN0dXJlSW5QaWN0dXJlLnZhbHVlKSB7XG4gICAgICAgICAgICBlbC5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpLnRoZW4ocmVzb2x2ZSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZXhpdFBpY3R1cmVJblBpY3R1cmUoKS50aGVuKHJlc29sdmUpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZG9jdW1lbnQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBzcmMgPSB0b1ZhbHVlKG9wdGlvbnMuc3JjKTtcbiAgICBsZXQgc291cmNlcyA9IFtdO1xuICAgIGlmICghc3JjKVxuICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlb2Ygc3JjID09PSBcInN0cmluZ1wiKVxuICAgICAgc291cmNlcyA9IFt7IHNyYyB9XTtcbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNyYykpXG4gICAgICBzb3VyY2VzID0gc3JjO1xuICAgIGVsc2UgaWYgKGlzT2JqZWN0KHNyYykpXG4gICAgICBzb3VyY2VzID0gW3NyY107XG4gICAgZWwucXVlcnlTZWxlY3RvckFsbChcInNvdXJjZVwiKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgICBlLnJlbW92ZSgpO1xuICAgIH0pO1xuICAgIHNvdXJjZXMuZm9yRWFjaCgoeyBzcmM6IHNyYzIsIHR5cGUsIG1lZGlhIH0pID0+IHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7XG4gICAgICBzb3VyY2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIHNyYzIpO1xuICAgICAgc291cmNlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgdHlwZSB8fCBcIlwiKTtcbiAgICAgIHNvdXJjZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSB8fCBcIlwiKTtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIoc291cmNlLCBcImVycm9yXCIsIHNvdXJjZUVycm9yRXZlbnQudHJpZ2dlciwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICAgIGVsLmFwcGVuZENoaWxkKHNvdXJjZSk7XG4gICAgfSk7XG4gICAgZWwubG9hZCgpO1xuICB9KTtcbiAgd2F0Y2goW3RhcmdldCwgdm9sdW1lXSwgKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gdG9WYWx1ZSh0YXJnZXQpO1xuICAgIGlmICghZWwpXG4gICAgICByZXR1cm47XG4gICAgZWwudm9sdW1lID0gdm9sdW1lLnZhbHVlO1xuICB9KTtcbiAgd2F0Y2goW3RhcmdldCwgbXV0ZWRdLCAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBlbC5tdXRlZCA9IG11dGVkLnZhbHVlO1xuICB9KTtcbiAgd2F0Y2goW3RhcmdldCwgcmF0ZV0sICgpID0+IHtcbiAgICBjb25zdCBlbCA9IHRvVmFsdWUodGFyZ2V0KTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIGVsLnBsYXliYWNrUmF0ZSA9IHJhdGUudmFsdWU7XG4gIH0pO1xuICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFkb2N1bWVudClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0ZXh0VHJhY2tzID0gdG9WYWx1ZShvcHRpb25zLnRyYWNrcyk7XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgaWYgKCF0ZXh0VHJhY2tzIHx8ICF0ZXh0VHJhY2tzLmxlbmd0aCB8fCAhZWwpXG4gICAgICByZXR1cm47XG4gICAgZWwucXVlcnlTZWxlY3RvckFsbChcInRyYWNrXCIpLmZvckVhY2goKGUpID0+IGUucmVtb3ZlKCkpO1xuICAgIHRleHRUcmFja3MuZm9yRWFjaCgoeyBkZWZhdWx0OiBpc0RlZmF1bHQsIGtpbmQsIGxhYmVsLCBzcmMsIHNyY0xhbmcgfSwgaSkgPT4ge1xuICAgICAgY29uc3QgdHJhY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJhY2tcIik7XG4gICAgICB0cmFjay5kZWZhdWx0ID0gaXNEZWZhdWx0IHx8IGZhbHNlO1xuICAgICAgdHJhY2sua2luZCA9IGtpbmQ7XG4gICAgICB0cmFjay5sYWJlbCA9IGxhYmVsO1xuICAgICAgdHJhY2suc3JjID0gc3JjO1xuICAgICAgdHJhY2suc3JjbGFuZyA9IHNyY0xhbmc7XG4gICAgICBpZiAodHJhY2suZGVmYXVsdClcbiAgICAgICAgc2VsZWN0ZWRUcmFjay52YWx1ZSA9IGk7XG4gICAgICBlbC5hcHBlbmRDaGlsZCh0cmFjayk7XG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCB7IGlnbm9yZVVwZGF0ZXM6IGlnbm9yZUN1cnJlbnRUaW1lVXBkYXRlcyB9ID0gd2F0Y2hJZ25vcmFibGUoY3VycmVudFRpbWUsICh0aW1lKSA9PiB7XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBlbC5jdXJyZW50VGltZSA9IHRpbWU7XG4gIH0pO1xuICBjb25zdCB7IGlnbm9yZVVwZGF0ZXM6IGlnbm9yZVBsYXlpbmdVcGRhdGVzIH0gPSB3YXRjaElnbm9yYWJsZShwbGF5aW5nLCAoaXNQbGF5aW5nKSA9PiB7XG4gICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgaWYgKCFlbClcbiAgICAgIHJldHVybjtcbiAgICBpZiAoaXNQbGF5aW5nKSB7XG4gICAgICBlbC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgcGxheWJhY2tFcnJvckV2ZW50LnRyaWdnZXIoZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwucGF1c2UoKTtcbiAgICB9XG4gIH0pO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcInRpbWV1cGRhdGVcIixcbiAgICAoKSA9PiBpZ25vcmVDdXJyZW50VGltZVVwZGF0ZXMoKCkgPT4gY3VycmVudFRpbWUudmFsdWUgPSB0b1ZhbHVlKHRhcmdldCkuY3VycmVudFRpbWUpLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcImR1cmF0aW9uY2hhbmdlXCIsXG4gICAgKCkgPT4gZHVyYXRpb24udmFsdWUgPSB0b1ZhbHVlKHRhcmdldCkuZHVyYXRpb24sXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwicHJvZ3Jlc3NcIixcbiAgICAoKSA9PiBidWZmZXJlZC52YWx1ZSA9IHRpbWVSYW5nZVRvQXJyYXkodG9WYWx1ZSh0YXJnZXQpLmJ1ZmZlcmVkKSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJzZWVraW5nXCIsXG4gICAgKCkgPT4gc2Vla2luZy52YWx1ZSA9IHRydWUsXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwic2Vla2VkXCIsXG4gICAgKCkgPT4gc2Vla2luZy52YWx1ZSA9IGZhbHNlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBbXCJ3YWl0aW5nXCIsIFwibG9hZHN0YXJ0XCJdLFxuICAgICgpID0+IHtcbiAgICAgIHdhaXRpbmcudmFsdWUgPSB0cnVlO1xuICAgICAgaWdub3JlUGxheWluZ1VwZGF0ZXMoKCkgPT4gcGxheWluZy52YWx1ZSA9IGZhbHNlKTtcbiAgICB9LFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcImxvYWRlZGRhdGFcIixcbiAgICAoKSA9PiB3YWl0aW5nLnZhbHVlID0gZmFsc2UsXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwicGxheWluZ1wiLFxuICAgICgpID0+IHtcbiAgICAgIHdhaXRpbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgIGVuZGVkLnZhbHVlID0gZmFsc2U7XG4gICAgICBpZ25vcmVQbGF5aW5nVXBkYXRlcygoKSA9PiBwbGF5aW5nLnZhbHVlID0gdHJ1ZSk7XG4gICAgfSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJyYXRlY2hhbmdlXCIsXG4gICAgKCkgPT4gcmF0ZS52YWx1ZSA9IHRvVmFsdWUodGFyZ2V0KS5wbGF5YmFja1JhdGUsXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwic3RhbGxlZFwiLFxuICAgICgpID0+IHN0YWxsZWQudmFsdWUgPSB0cnVlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcImVuZGVkXCIsXG4gICAgKCkgPT4gZW5kZWQudmFsdWUgPSB0cnVlLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcInBhdXNlXCIsXG4gICAgKCkgPT4gaWdub3JlUGxheWluZ1VwZGF0ZXMoKCkgPT4gcGxheWluZy52YWx1ZSA9IGZhbHNlKSxcbiAgICBsaXN0ZW5lck9wdGlvbnNcbiAgKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcbiAgICB0YXJnZXQsXG4gICAgXCJwbGF5XCIsXG4gICAgKCkgPT4gaWdub3JlUGxheWluZ1VwZGF0ZXMoKCkgPT4gcGxheWluZy52YWx1ZSA9IHRydWUpLFxuICAgIGxpc3RlbmVyT3B0aW9uc1xuICApO1xuICB1c2VFdmVudExpc3RlbmVyKFxuICAgIHRhcmdldCxcbiAgICBcImVudGVycGljdHVyZWlucGljdHVyZVwiLFxuICAgICgpID0+IGlzUGljdHVyZUluUGljdHVyZS52YWx1ZSA9IHRydWUsXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwibGVhdmVwaWN0dXJlaW5waWN0dXJlXCIsXG4gICAgKCkgPT4gaXNQaWN0dXJlSW5QaWN0dXJlLnZhbHVlID0gZmFsc2UsXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgdGFyZ2V0LFxuICAgIFwidm9sdW1lY2hhbmdlXCIsXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgZWwgPSB0b1ZhbHVlKHRhcmdldCk7XG4gICAgICBpZiAoIWVsKVxuICAgICAgICByZXR1cm47XG4gICAgICB2b2x1bWUudmFsdWUgPSBlbC52b2x1bWU7XG4gICAgICBtdXRlZC52YWx1ZSA9IGVsLm11dGVkO1xuICAgIH0sXG4gICAgbGlzdGVuZXJPcHRpb25zXG4gICk7XG4gIGNvbnN0IGxpc3RlbmVycyA9IFtdO1xuICBjb25zdCBzdG9wID0gd2F0Y2goW3RhcmdldF0sICgpID0+IHtcbiAgICBjb25zdCBlbCA9IHRvVmFsdWUodGFyZ2V0KTtcbiAgICBpZiAoIWVsKVxuICAgICAgcmV0dXJuO1xuICAgIHN0b3AoKTtcbiAgICBsaXN0ZW5lcnNbMF0gPSB1c2VFdmVudExpc3RlbmVyKGVsLnRleHRUcmFja3MsIFwiYWRkdHJhY2tcIiwgKCkgPT4gdHJhY2tzLnZhbHVlID0gdHJhY2tzVG9BcnJheShlbC50ZXh0VHJhY2tzKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICBsaXN0ZW5lcnNbMV0gPSB1c2VFdmVudExpc3RlbmVyKGVsLnRleHRUcmFja3MsIFwicmVtb3ZldHJhY2tcIiwgKCkgPT4gdHJhY2tzLnZhbHVlID0gdHJhY2tzVG9BcnJheShlbC50ZXh0VHJhY2tzKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICBsaXN0ZW5lcnNbMl0gPSB1c2VFdmVudExpc3RlbmVyKGVsLnRleHRUcmFja3MsIFwiY2hhbmdlXCIsICgpID0+IHRyYWNrcy52YWx1ZSA9IHRyYWNrc1RvQXJyYXkoZWwudGV4dFRyYWNrcyksIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH0pO1xuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKCkpKTtcbiAgcmV0dXJuIHtcbiAgICBjdXJyZW50VGltZSxcbiAgICBkdXJhdGlvbixcbiAgICB3YWl0aW5nLFxuICAgIHNlZWtpbmcsXG4gICAgZW5kZWQsXG4gICAgc3RhbGxlZCxcbiAgICBidWZmZXJlZCxcbiAgICBwbGF5aW5nLFxuICAgIHJhdGUsXG4gICAgLy8gVm9sdW1lXG4gICAgdm9sdW1lLFxuICAgIG11dGVkLFxuICAgIC8vIFRyYWNrc1xuICAgIHRyYWNrcyxcbiAgICBzZWxlY3RlZFRyYWNrLFxuICAgIGVuYWJsZVRyYWNrLFxuICAgIGRpc2FibGVUcmFjayxcbiAgICAvLyBQaWN0dXJlIGluIFBpY3R1cmVcbiAgICBzdXBwb3J0c1BpY3R1cmVJblBpY3R1cmUsXG4gICAgdG9nZ2xlUGljdHVyZUluUGljdHVyZSxcbiAgICBpc1BpY3R1cmVJblBpY3R1cmUsXG4gICAgLy8gRXZlbnRzXG4gICAgb25Tb3VyY2VFcnJvcjogc291cmNlRXJyb3JFdmVudC5vbixcbiAgICBvblBsYXliYWNrRXJyb3I6IHBsYXliYWNrRXJyb3JFdmVudC5vblxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VNZW1vaXplKHJlc29sdmVyLCBvcHRpb25zKSB7XG4gIGNvbnN0IGluaXRDYWNoZSA9ICgpID0+IHtcbiAgICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jYWNoZSlcbiAgICAgIHJldHVybiBzaGFsbG93UmVhY3RpdmUob3B0aW9ucy5jYWNoZSk7XG4gICAgcmV0dXJuIHNoYWxsb3dSZWFjdGl2ZSgvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgfTtcbiAgY29uc3QgY2FjaGUgPSBpbml0Q2FjaGUoKTtcbiAgY29uc3QgZ2VuZXJhdGVLZXkgPSAoLi4uYXJncykgPT4gKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZ2V0S2V5KSA/IG9wdGlvbnMuZ2V0S2V5KC4uLmFyZ3MpIDogSlNPTi5zdHJpbmdpZnkoYXJncyk7XG4gIGNvbnN0IF9sb2FkRGF0YSA9IChrZXksIC4uLmFyZ3MpID0+IHtcbiAgICBjYWNoZS5zZXQoa2V5LCByZXNvbHZlciguLi5hcmdzKSk7XG4gICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICB9O1xuICBjb25zdCBsb2FkRGF0YSA9ICguLi5hcmdzKSA9PiBfbG9hZERhdGEoZ2VuZXJhdGVLZXkoLi4uYXJncyksIC4uLmFyZ3MpO1xuICBjb25zdCBkZWxldGVEYXRhID0gKC4uLmFyZ3MpID0+IHtcbiAgICBjYWNoZS5kZWxldGUoZ2VuZXJhdGVLZXkoLi4uYXJncykpO1xuICB9O1xuICBjb25zdCBjbGVhckRhdGEgPSAoKSA9PiB7XG4gICAgY2FjaGUuY2xlYXIoKTtcbiAgfTtcbiAgY29uc3QgbWVtb2l6ZWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGtleSA9IGdlbmVyYXRlS2V5KC4uLmFyZ3MpO1xuICAgIGlmIChjYWNoZS5oYXMoa2V5KSlcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICByZXR1cm4gX2xvYWREYXRhKGtleSwgLi4uYXJncyk7XG4gIH07XG4gIG1lbW9pemVkLmxvYWQgPSBsb2FkRGF0YTtcbiAgbWVtb2l6ZWQuZGVsZXRlID0gZGVsZXRlRGF0YTtcbiAgbWVtb2l6ZWQuY2xlYXIgPSBjbGVhckRhdGE7XG4gIG1lbW9pemVkLmdlbmVyYXRlS2V5ID0gZ2VuZXJhdGVLZXk7XG4gIG1lbW9pemVkLmNhY2hlID0gY2FjaGU7XG4gIHJldHVybiBtZW1vaXplZDtcbn1cblxuZnVuY3Rpb24gdXNlTWVtb3J5KG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBtZW1vcnkgPSByZWYoKTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIFwibWVtb3J5XCIgaW4gcGVyZm9ybWFuY2UpO1xuICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICBjb25zdCB7IGludGVydmFsID0gMWUzIH0gPSBvcHRpb25zO1xuICAgIHVzZUludGVydmFsRm4oKCkgPT4ge1xuICAgICAgbWVtb3J5LnZhbHVlID0gcGVyZm9ybWFuY2UubWVtb3J5O1xuICAgIH0sIGludGVydmFsLCB7IGltbWVkaWF0ZTogb3B0aW9ucy5pbW1lZGlhdGUsIGltbWVkaWF0ZUNhbGxiYWNrOiBvcHRpb25zLmltbWVkaWF0ZUNhbGxiYWNrIH0pO1xuICB9XG4gIHJldHVybiB7IGlzU3VwcG9ydGVkLCBtZW1vcnkgfTtcbn1cblxuY29uc3QgVXNlTW91c2VCdWlsdGluRXh0cmFjdG9ycyA9IHtcbiAgcGFnZTogKGV2ZW50KSA9PiBbZXZlbnQucGFnZVgsIGV2ZW50LnBhZ2VZXSxcbiAgY2xpZW50OiAoZXZlbnQpID0+IFtldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZXSxcbiAgc2NyZWVuOiAoZXZlbnQpID0+IFtldmVudC5zY3JlZW5YLCBldmVudC5zY3JlZW5ZXSxcbiAgbW92ZW1lbnQ6IChldmVudCkgPT4gZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50ID8gW2V2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZXSA6IG51bGxcbn07XG5mdW5jdGlvbiB1c2VNb3VzZShvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHR5cGUgPSBcInBhZ2VcIixcbiAgICB0b3VjaCA9IHRydWUsXG4gICAgcmVzZXRPblRvdWNoRW5kcyA9IGZhbHNlLFxuICAgIGluaXRpYWxWYWx1ZSA9IHsgeDogMCwgeTogMCB9LFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgdGFyZ2V0ID0gd2luZG93LFxuICAgIHNjcm9sbCA9IHRydWUsXG4gICAgZXZlbnRGaWx0ZXJcbiAgfSA9IG9wdGlvbnM7XG4gIGxldCBfcHJldk1vdXNlRXZlbnQgPSBudWxsO1xuICBsZXQgX3ByZXZTY3JvbGxYID0gMDtcbiAgbGV0IF9wcmV2U2Nyb2xsWSA9IDA7XG4gIGNvbnN0IHggPSBzaGFsbG93UmVmKGluaXRpYWxWYWx1ZS54KTtcbiAgY29uc3QgeSA9IHNoYWxsb3dSZWYoaW5pdGlhbFZhbHVlLnkpO1xuICBjb25zdCBzb3VyY2VUeXBlID0gc2hhbGxvd1JlZihudWxsKTtcbiAgY29uc3QgZXh0cmFjdG9yID0gdHlwZW9mIHR5cGUgPT09IFwiZnVuY3Rpb25cIiA/IHR5cGUgOiBVc2VNb3VzZUJ1aWx0aW5FeHRyYWN0b3JzW3R5cGVdO1xuICBjb25zdCBtb3VzZUhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBleHRyYWN0b3IoZXZlbnQpO1xuICAgIF9wcmV2TW91c2VFdmVudCA9IGV2ZW50O1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIFt4LnZhbHVlLCB5LnZhbHVlXSA9IHJlc3VsdDtcbiAgICAgIHNvdXJjZVR5cGUudmFsdWUgPSBcIm1vdXNlXCI7XG4gICAgfVxuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgIF9wcmV2U2Nyb2xsWCA9IHdpbmRvdy5zY3JvbGxYO1xuICAgICAgX3ByZXZTY3JvbGxZID0gd2luZG93LnNjcm9sbFk7XG4gICAgfVxuICB9O1xuICBjb25zdCB0b3VjaEhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBleHRyYWN0b3IoZXZlbnQudG91Y2hlc1swXSk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIFt4LnZhbHVlLCB5LnZhbHVlXSA9IHJlc3VsdDtcbiAgICAgICAgc291cmNlVHlwZS52YWx1ZSA9IFwidG91Y2hcIjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHNjcm9sbEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgaWYgKCFfcHJldk1vdXNlRXZlbnQgfHwgIXdpbmRvdylcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBwb3MgPSBleHRyYWN0b3IoX3ByZXZNb3VzZUV2ZW50KTtcbiAgICBpZiAoX3ByZXZNb3VzZUV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCAmJiBwb3MpIHtcbiAgICAgIHgudmFsdWUgPSBwb3NbMF0gKyB3aW5kb3cuc2Nyb2xsWCAtIF9wcmV2U2Nyb2xsWDtcbiAgICAgIHkudmFsdWUgPSBwb3NbMV0gKyB3aW5kb3cuc2Nyb2xsWSAtIF9wcmV2U2Nyb2xsWTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlc2V0ID0gKCkgPT4ge1xuICAgIHgudmFsdWUgPSBpbml0aWFsVmFsdWUueDtcbiAgICB5LnZhbHVlID0gaW5pdGlhbFZhbHVlLnk7XG4gIH07XG4gIGNvbnN0IG1vdXNlSGFuZGxlcldyYXBwZXIgPSBldmVudEZpbHRlciA/IChldmVudCkgPT4gZXZlbnRGaWx0ZXIoKCkgPT4gbW91c2VIYW5kbGVyKGV2ZW50KSwge30pIDogKGV2ZW50KSA9PiBtb3VzZUhhbmRsZXIoZXZlbnQpO1xuICBjb25zdCB0b3VjaEhhbmRsZXJXcmFwcGVyID0gZXZlbnRGaWx0ZXIgPyAoZXZlbnQpID0+IGV2ZW50RmlsdGVyKCgpID0+IHRvdWNoSGFuZGxlcihldmVudCksIHt9KSA6IChldmVudCkgPT4gdG91Y2hIYW5kbGVyKGV2ZW50KTtcbiAgY29uc3Qgc2Nyb2xsSGFuZGxlcldyYXBwZXIgPSBldmVudEZpbHRlciA/ICgpID0+IGV2ZW50RmlsdGVyKCgpID0+IHNjcm9sbEhhbmRsZXIoKSwge30pIDogKCkgPT4gc2Nyb2xsSGFuZGxlcigpO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFtcIm1vdXNlbW92ZVwiLCBcImRyYWdvdmVyXCJdLCBtb3VzZUhhbmRsZXJXcmFwcGVyLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIGlmICh0b3VjaCAmJiB0eXBlICE9PSBcIm1vdmVtZW50XCIpIHtcbiAgICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBbXCJ0b3VjaHN0YXJ0XCIsIFwidG91Y2htb3ZlXCJdLCB0b3VjaEhhbmRsZXJXcmFwcGVyLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgICAgaWYgKHJlc2V0T25Ub3VjaEVuZHMpXG4gICAgICAgIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcInRvdWNoZW5kXCIsIHJlc2V0LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoc2Nyb2xsICYmIHR5cGUgPT09IFwicGFnZVwiKVxuICAgICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwic2Nyb2xsXCIsIHNjcm9sbEhhbmRsZXJXcmFwcGVyLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIHJldHVybiB7XG4gICAgeCxcbiAgICB5LFxuICAgIHNvdXJjZVR5cGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW91c2VJbkVsZW1lbnQodGFyZ2V0LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvd1Jlc2l6ZSA9IHRydWUsXG4gICAgd2luZG93U2Nyb2xsID0gdHJ1ZSxcbiAgICBoYW5kbGVPdXRzaWRlID0gdHJ1ZSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlIHx8IFwicGFnZVwiO1xuICBjb25zdCB7IHgsIHksIHNvdXJjZVR5cGUgfSA9IHVzZU1vdXNlKG9wdGlvbnMpO1xuICBjb25zdCB0YXJnZXRSZWYgPSBzaGFsbG93UmVmKHRhcmdldCAhPSBudWxsID8gdGFyZ2V0IDogd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQuYm9keSk7XG4gIGNvbnN0IGVsZW1lbnRYID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgZWxlbWVudFkgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBlbGVtZW50UG9zaXRpb25YID0gc2hhbGxvd1JlZigwKTtcbiAgY29uc3QgZWxlbWVudFBvc2l0aW9uWSA9IHNoYWxsb3dSZWYoMCk7XG4gIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBlbGVtZW50V2lkdGggPSBzaGFsbG93UmVmKDApO1xuICBjb25zdCBpc091dHNpZGUgPSBzaGFsbG93UmVmKHRydWUpO1xuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgaWYgKCF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZWwgPSB1bnJlZkVsZW1lbnQodGFyZ2V0UmVmKTtcbiAgICBpZiAoIWVsIHx8ICEoZWwgaW5zdGFuY2VvZiBFbGVtZW50KSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7XG4gICAgICBsZWZ0LFxuICAgICAgdG9wLFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHRcbiAgICB9ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZWxlbWVudFBvc2l0aW9uWC52YWx1ZSA9IGxlZnQgKyAodHlwZSA9PT0gXCJwYWdlXCIgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiAwKTtcbiAgICBlbGVtZW50UG9zaXRpb25ZLnZhbHVlID0gdG9wICsgKHR5cGUgPT09IFwicGFnZVwiID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogMCk7XG4gICAgZWxlbWVudEhlaWdodC52YWx1ZSA9IGhlaWdodDtcbiAgICBlbGVtZW50V2lkdGgudmFsdWUgPSB3aWR0aDtcbiAgICBjb25zdCBlbFggPSB4LnZhbHVlIC0gZWxlbWVudFBvc2l0aW9uWC52YWx1ZTtcbiAgICBjb25zdCBlbFkgPSB5LnZhbHVlIC0gZWxlbWVudFBvc2l0aW9uWS52YWx1ZTtcbiAgICBpc091dHNpZGUudmFsdWUgPSB3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDAgfHwgZWxYIDwgMCB8fCBlbFkgPCAwIHx8IGVsWCA+IHdpZHRoIHx8IGVsWSA+IGhlaWdodDtcbiAgICBpZiAoaGFuZGxlT3V0c2lkZSkge1xuICAgICAgZWxlbWVudFgudmFsdWUgPSBlbFg7XG4gICAgICBlbGVtZW50WS52YWx1ZSA9IGVsWTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc3RvcEZuTGlzdCA9IFtdO1xuICBmdW5jdGlvbiBzdG9wKCkge1xuICAgIHN0b3BGbkxpc3QuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICAgIHN0b3BGbkxpc3QubGVuZ3RoID0gMDtcbiAgfVxuICB0cnlPbk1vdW50ZWQoKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICB9KTtcbiAgaWYgKHdpbmRvdykge1xuICAgIGNvbnN0IHtcbiAgICAgIHN0b3A6IHN0b3BSZXNpemVPYnNlcnZlclxuICAgIH0gPSB1c2VSZXNpemVPYnNlcnZlcih0YXJnZXRSZWYsIHVwZGF0ZSk7XG4gICAgY29uc3Qge1xuICAgICAgc3RvcDogc3RvcE11dGF0aW9uT2JzZXJ2ZXJcbiAgICB9ID0gdXNlTXV0YXRpb25PYnNlcnZlcih0YXJnZXRSZWYsIHVwZGF0ZSwge1xuICAgICAgYXR0cmlidXRlRmlsdGVyOiBbXCJzdHlsZVwiLCBcImNsYXNzXCJdXG4gICAgfSk7XG4gICAgY29uc3Qgc3RvcFdhdGNoID0gd2F0Y2goXG4gICAgICBbdGFyZ2V0UmVmLCB4LCB5XSxcbiAgICAgIHVwZGF0ZVxuICAgICk7XG4gICAgc3RvcEZuTGlzdC5wdXNoKFxuICAgICAgc3RvcFJlc2l6ZU9ic2VydmVyLFxuICAgICAgc3RvcE11dGF0aW9uT2JzZXJ2ZXIsXG4gICAgICBzdG9wV2F0Y2hcbiAgICApO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoXG4gICAgICBkb2N1bWVudCxcbiAgICAgIFwibW91c2VsZWF2ZVwiLFxuICAgICAgKCkgPT4gaXNPdXRzaWRlLnZhbHVlID0gdHJ1ZSxcbiAgICAgIHsgcGFzc2l2ZTogdHJ1ZSB9XG4gICAgKTtcbiAgICBpZiAod2luZG93U2Nyb2xsKSB7XG4gICAgICBzdG9wRm5MaXN0LnB1c2goXG4gICAgICAgIHVzZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdXBkYXRlLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IHRydWUgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh3aW5kb3dSZXNpemUpIHtcbiAgICAgIHN0b3BGbkxpc3QucHVzaChcbiAgICAgICAgdXNlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGUsIHsgcGFzc2l2ZTogdHJ1ZSB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gICAgc291cmNlVHlwZSxcbiAgICBlbGVtZW50WCxcbiAgICBlbGVtZW50WSxcbiAgICBlbGVtZW50UG9zaXRpb25YLFxuICAgIGVsZW1lbnRQb3NpdGlvblksXG4gICAgZWxlbWVudEhlaWdodCxcbiAgICBlbGVtZW50V2lkdGgsXG4gICAgaXNPdXRzaWRlLFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTW91c2VQcmVzc2VkKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdG91Y2ggPSB0cnVlLFxuICAgIGRyYWcgPSB0cnVlLFxuICAgIGNhcHR1cmUgPSBmYWxzZSxcbiAgICBpbml0aWFsVmFsdWUgPSBmYWxzZSxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwcmVzc2VkID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUpO1xuICBjb25zdCBzb3VyY2VUeXBlID0gc2hhbGxvd1JlZihudWxsKTtcbiAgaWYgKCF3aW5kb3cpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJlc3NlZCxcbiAgICAgIHNvdXJjZVR5cGVcbiAgICB9O1xuICB9XG4gIGNvbnN0IG9uUHJlc3NlZCA9IChzcmNUeXBlKSA9PiAoZXZlbnQpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcHJlc3NlZC52YWx1ZSA9IHRydWU7XG4gICAgc291cmNlVHlwZS52YWx1ZSA9IHNyY1R5cGU7XG4gICAgKF9hID0gb3B0aW9ucy5vblByZXNzZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMsIGV2ZW50KTtcbiAgfTtcbiAgY29uc3Qgb25SZWxlYXNlZCA9IChldmVudCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBwcmVzc2VkLnZhbHVlID0gZmFsc2U7XG4gICAgc291cmNlVHlwZS52YWx1ZSA9IG51bGw7XG4gICAgKF9hID0gb3B0aW9ucy5vblJlbGVhc2VkKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChvcHRpb25zLCBldmVudCk7XG4gIH07XG4gIGNvbnN0IHRhcmdldCA9IGNvbXB1dGVkKCgpID0+IHVucmVmRWxlbWVudChvcHRpb25zLnRhcmdldCkgfHwgd2luZG93KTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlLCBjYXB0dXJlIH07XG4gIHVzZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCBcIm1vdXNlZG93blwiLCBvblByZXNzZWQoXCJtb3VzZVwiKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwibW91c2VsZWF2ZVwiLCBvblJlbGVhc2VkLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJtb3VzZXVwXCIsIG9uUmVsZWFzZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGlmIChkcmFnKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwiZHJhZ3N0YXJ0XCIsIG9uUHJlc3NlZChcIm1vdXNlXCIpLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImRyb3BcIiwgb25SZWxlYXNlZCwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJkcmFnZW5kXCIsIG9uUmVsZWFzZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH1cbiAgaWYgKHRvdWNoKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwidG91Y2hzdGFydFwiLCBvblByZXNzZWQoXCJ0b3VjaFwiKSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJ0b3VjaGVuZFwiLCBvblJlbGVhc2VkLCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcInRvdWNoY2FuY2VsXCIsIG9uUmVsZWFzZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBwcmVzc2VkLFxuICAgIHNvdXJjZVR5cGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlTmF2aWdhdG9yTGFuZ3VhZ2Uob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93ID09IG51bGwgPyB2b2lkIDAgOiB3aW5kb3cubmF2aWdhdG9yO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBuYXZpZ2F0b3IgJiYgXCJsYW5ndWFnZVwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGxhbmd1YWdlID0gc2hhbGxvd1JlZihuYXZpZ2F0b3IgPT0gbnVsbCA/IHZvaWQgMCA6IG5hdmlnYXRvci5sYW5ndWFnZSk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImxhbmd1YWdlY2hhbmdlXCIsICgpID0+IHtcbiAgICBpZiAobmF2aWdhdG9yKVxuICAgICAgbGFuZ3VhZ2UudmFsdWUgPSBuYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBsYW5ndWFnZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VOZXR3b3JrKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IG5hdmlnYXRvciA9IHdpbmRvdyA9PSBudWxsID8gdm9pZCAwIDogd2luZG93Lm5hdmlnYXRvcjtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwiY29ubmVjdGlvblwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IGlzT25saW5lID0gc2hhbGxvd1JlZih0cnVlKTtcbiAgY29uc3Qgc2F2ZURhdGEgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgb2ZmbGluZUF0ID0gc2hhbGxvd1JlZih2b2lkIDApO1xuICBjb25zdCBvbmxpbmVBdCA9IHNoYWxsb3dSZWYodm9pZCAwKTtcbiAgY29uc3QgZG93bmxpbmsgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IGRvd25saW5rTWF4ID0gc2hhbGxvd1JlZih2b2lkIDApO1xuICBjb25zdCBydHQgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IGVmZmVjdGl2ZVR5cGUgPSBzaGFsbG93UmVmKHZvaWQgMCk7XG4gIGNvbnN0IHR5cGUgPSBzaGFsbG93UmVmKFwidW5rbm93blwiKTtcbiAgY29uc3QgY29ubmVjdGlvbiA9IGlzU3VwcG9ydGVkLnZhbHVlICYmIG5hdmlnYXRvci5jb25uZWN0aW9uO1xuICBmdW5jdGlvbiB1cGRhdGVOZXR3b3JrSW5mb3JtYXRpb24oKSB7XG4gICAgaWYgKCFuYXZpZ2F0b3IpXG4gICAgICByZXR1cm47XG4gICAgaXNPbmxpbmUudmFsdWUgPSBuYXZpZ2F0b3Iub25MaW5lO1xuICAgIG9mZmxpbmVBdC52YWx1ZSA9IGlzT25saW5lLnZhbHVlID8gdm9pZCAwIDogRGF0ZS5ub3coKTtcbiAgICBvbmxpbmVBdC52YWx1ZSA9IGlzT25saW5lLnZhbHVlID8gRGF0ZS5ub3coKSA6IHZvaWQgMDtcbiAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgZG93bmxpbmsudmFsdWUgPSBjb25uZWN0aW9uLmRvd25saW5rO1xuICAgICAgZG93bmxpbmtNYXgudmFsdWUgPSBjb25uZWN0aW9uLmRvd25saW5rTWF4O1xuICAgICAgZWZmZWN0aXZlVHlwZS52YWx1ZSA9IGNvbm5lY3Rpb24uZWZmZWN0aXZlVHlwZTtcbiAgICAgIHJ0dC52YWx1ZSA9IGNvbm5lY3Rpb24ucnR0O1xuICAgICAgc2F2ZURhdGEudmFsdWUgPSBjb25uZWN0aW9uLnNhdmVEYXRhO1xuICAgICAgdHlwZS52YWx1ZSA9IGNvbm5lY3Rpb24udHlwZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gIGlmICh3aW5kb3cpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJvZmZsaW5lXCIsICgpID0+IHtcbiAgICAgIGlzT25saW5lLnZhbHVlID0gZmFsc2U7XG4gICAgICBvZmZsaW5lQXQudmFsdWUgPSBEYXRlLm5vdygpO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwib25saW5lXCIsICgpID0+IHtcbiAgICAgIGlzT25saW5lLnZhbHVlID0gdHJ1ZTtcbiAgICAgIG9ubGluZUF0LnZhbHVlID0gRGF0ZS5ub3coKTtcbiAgICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIGlmIChjb25uZWN0aW9uKVxuICAgIHVzZUV2ZW50TGlzdGVuZXIoY29ubmVjdGlvbiwgXCJjaGFuZ2VcIiwgdXBkYXRlTmV0d29ya0luZm9ybWF0aW9uLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB1cGRhdGVOZXR3b3JrSW5mb3JtYXRpb24oKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBpc09ubGluZTogcmVhZG9ubHkoaXNPbmxpbmUpLFxuICAgIHNhdmVEYXRhOiByZWFkb25seShzYXZlRGF0YSksXG4gICAgb2ZmbGluZUF0OiByZWFkb25seShvZmZsaW5lQXQpLFxuICAgIG9ubGluZUF0OiByZWFkb25seShvbmxpbmVBdCksXG4gICAgZG93bmxpbms6IHJlYWRvbmx5KGRvd25saW5rKSxcbiAgICBkb3dubGlua01heDogcmVhZG9ubHkoZG93bmxpbmtNYXgpLFxuICAgIGVmZmVjdGl2ZVR5cGU6IHJlYWRvbmx5KGVmZmVjdGl2ZVR5cGUpLFxuICAgIHJ0dDogcmVhZG9ubHkocnR0KSxcbiAgICB0eXBlOiByZWFkb25seSh0eXBlKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VOb3cob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBpbnRlcnZhbCA9IFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIsXG4gICAgaW1tZWRpYXRlID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgbm93ID0gcmVmKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4gbm93LnZhbHVlID0gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCk7XG4gIGNvbnN0IGNvbnRyb2xzID0gaW50ZXJ2YWwgPT09IFwicmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIgPyB1c2VSYWZGbih1cGRhdGUsIHsgaW1tZWRpYXRlIH0pIDogdXNlSW50ZXJ2YWxGbih1cGRhdGUsIGludGVydmFsLCB7IGltbWVkaWF0ZSB9KTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vdyxcbiAgICAgIC4uLmNvbnRyb2xzXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm93O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZU9iamVjdFVybChvYmplY3QpIHtcbiAgY29uc3QgdXJsID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCByZWxlYXNlID0gKCkgPT4ge1xuICAgIGlmICh1cmwudmFsdWUpXG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybC52YWx1ZSk7XG4gICAgdXJsLnZhbHVlID0gdm9pZCAwO1xuICB9O1xuICB3YXRjaChcbiAgICAoKSA9PiB0b1ZhbHVlKG9iamVjdCksXG4gICAgKG5ld09iamVjdCkgPT4ge1xuICAgICAgcmVsZWFzZSgpO1xuICAgICAgaWYgKG5ld09iamVjdClcbiAgICAgICAgdXJsLnZhbHVlID0gVVJMLmNyZWF0ZU9iamVjdFVSTChuZXdPYmplY3QpO1xuICAgIH0sXG4gICAgeyBpbW1lZGlhdGU6IHRydWUgfVxuICApO1xuICB0cnlPblNjb3BlRGlzcG9zZShyZWxlYXNlKTtcbiAgcmV0dXJuIHJlYWRvbmx5KHVybCk7XG59XG5cbmZ1bmN0aW9uIHVzZUNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHwgaXNSZWFkb25seSh2YWx1ZSkpXG4gICAgcmV0dXJuIGNvbXB1dGVkKCgpID0+IGNsYW1wKHRvVmFsdWUodmFsdWUpLCB0b1ZhbHVlKG1pbiksIHRvVmFsdWUobWF4KSkpO1xuICBjb25zdCBfdmFsdWUgPSByZWYodmFsdWUpO1xuICByZXR1cm4gY29tcHV0ZWQoe1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBfdmFsdWUudmFsdWUgPSBjbGFtcChfdmFsdWUudmFsdWUsIHRvVmFsdWUobWluKSwgdG9WYWx1ZShtYXgpKTtcbiAgICB9LFxuICAgIHNldCh2YWx1ZTIpIHtcbiAgICAgIF92YWx1ZS52YWx1ZSA9IGNsYW1wKHZhbHVlMiwgdG9WYWx1ZShtaW4pLCB0b1ZhbHVlKG1heCkpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZU9mZnNldFBhZ2luYXRpb24ob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgdG90YWwgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgcGFnZVNpemUgPSAxMCxcbiAgICBwYWdlID0gMSxcbiAgICBvblBhZ2VDaGFuZ2UgPSBub29wLFxuICAgIG9uUGFnZVNpemVDaGFuZ2UgPSBub29wLFxuICAgIG9uUGFnZUNvdW50Q2hhbmdlID0gbm9vcFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY3VycmVudFBhZ2VTaXplID0gdXNlQ2xhbXAocGFnZVNpemUsIDEsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gIGNvbnN0IHBhZ2VDb3VudCA9IGNvbXB1dGVkKCgpID0+IE1hdGgubWF4KFxuICAgIDEsXG4gICAgTWF0aC5jZWlsKHRvVmFsdWUodG90YWwpIC8gdG9WYWx1ZShjdXJyZW50UGFnZVNpemUpKVxuICApKTtcbiAgY29uc3QgY3VycmVudFBhZ2UgPSB1c2VDbGFtcChwYWdlLCAxLCBwYWdlQ291bnQpO1xuICBjb25zdCBpc0ZpcnN0UGFnZSA9IGNvbXB1dGVkKCgpID0+IGN1cnJlbnRQYWdlLnZhbHVlID09PSAxKTtcbiAgY29uc3QgaXNMYXN0UGFnZSA9IGNvbXB1dGVkKCgpID0+IGN1cnJlbnRQYWdlLnZhbHVlID09PSBwYWdlQ291bnQudmFsdWUpO1xuICBpZiAoaXNSZWYocGFnZSkpIHtcbiAgICBzeW5jUmVmKHBhZ2UsIGN1cnJlbnRQYWdlLCB7XG4gICAgICBkaXJlY3Rpb246IGlzUmVhZG9ubHkocGFnZSkgPyBcImx0clwiIDogXCJib3RoXCJcbiAgICB9KTtcbiAgfVxuICBpZiAoaXNSZWYocGFnZVNpemUpKSB7XG4gICAgc3luY1JlZihwYWdlU2l6ZSwgY3VycmVudFBhZ2VTaXplLCB7XG4gICAgICBkaXJlY3Rpb246IGlzUmVhZG9ubHkocGFnZVNpemUpID8gXCJsdHJcIiA6IFwiYm90aFwiXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHJldigpIHtcbiAgICBjdXJyZW50UGFnZS52YWx1ZS0tO1xuICB9XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgY3VycmVudFBhZ2UudmFsdWUrKztcbiAgfVxuICBjb25zdCByZXR1cm5WYWx1ZSA9IHtcbiAgICBjdXJyZW50UGFnZSxcbiAgICBjdXJyZW50UGFnZVNpemUsXG4gICAgcGFnZUNvdW50LFxuICAgIGlzRmlyc3RQYWdlLFxuICAgIGlzTGFzdFBhZ2UsXG4gICAgcHJldixcbiAgICBuZXh0XG4gIH07XG4gIHdhdGNoKGN1cnJlbnRQYWdlLCAoKSA9PiB7XG4gICAgb25QYWdlQ2hhbmdlKHJlYWN0aXZlKHJldHVyblZhbHVlKSk7XG4gIH0pO1xuICB3YXRjaChjdXJyZW50UGFnZVNpemUsICgpID0+IHtcbiAgICBvblBhZ2VTaXplQ2hhbmdlKHJlYWN0aXZlKHJldHVyblZhbHVlKSk7XG4gIH0pO1xuICB3YXRjaChwYWdlQ291bnQsICgpID0+IHtcbiAgICBvblBhZ2VDb3VudENoYW5nZShyZWFjdGl2ZShyZXR1cm5WYWx1ZSkpO1xuICB9KTtcbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufVxuXG5mdW5jdGlvbiB1c2VPbmxpbmUob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgaXNPbmxpbmUgfSA9IHVzZU5ldHdvcmsob3B0aW9ucyk7XG4gIHJldHVybiBpc09ubGluZTtcbn1cblxuZnVuY3Rpb24gdXNlUGFnZUxlYXZlKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzTGVmdCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBoYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cpXG4gICAgICByZXR1cm47XG4gICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgY29uc3QgZnJvbSA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgZXZlbnQudG9FbGVtZW50O1xuICAgIGlzTGVmdC52YWx1ZSA9ICFmcm9tO1xuICB9O1xuICBpZiAod2luZG93KSB7XG4gICAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwibW91c2VvdXRcIiwgaGFuZGxlciwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdy5kb2N1bWVudCwgXCJtb3VzZWxlYXZlXCIsIGhhbmRsZXIsIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3cuZG9jdW1lbnQsIFwibW91c2VlbnRlclwiLCBoYW5kbGVyLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIHJldHVybiBpc0xlZnQ7XG59XG5cbmZ1bmN0aW9uIHVzZVNjcmVlbk9yaWVudGF0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gd2luZG93ICYmIFwic2NyZWVuXCIgaW4gd2luZG93ICYmIFwib3JpZW50YXRpb25cIiBpbiB3aW5kb3cuc2NyZWVuKTtcbiAgY29uc3Qgc2NyZWVuT3JpZW50YXRpb24gPSBpc1N1cHBvcnRlZC52YWx1ZSA/IHdpbmRvdy5zY3JlZW4ub3JpZW50YXRpb24gOiB7fTtcbiAgY29uc3Qgb3JpZW50YXRpb24gPSByZWYoc2NyZWVuT3JpZW50YXRpb24udHlwZSk7XG4gIGNvbnN0IGFuZ2xlID0gc2hhbGxvd1JlZihzY3JlZW5PcmllbnRhdGlvbi5hbmdsZSB8fCAwKTtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwib3JpZW50YXRpb25jaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgb3JpZW50YXRpb24udmFsdWUgPSBzY3JlZW5PcmllbnRhdGlvbi50eXBlO1xuICAgICAgYW5nbGUudmFsdWUgPSBzY3JlZW5PcmllbnRhdGlvbi5hbmdsZTtcbiAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cbiAgY29uc3QgbG9ja09yaWVudGF0aW9uID0gKHR5cGUpID0+IHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUgJiYgdHlwZW9mIHNjcmVlbk9yaWVudGF0aW9uLmxvY2sgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIHJldHVybiBzY3JlZW5PcmllbnRhdGlvbi5sb2NrKHR5cGUpO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkXCIpKTtcbiAgfTtcbiAgY29uc3QgdW5sb2NrT3JpZW50YXRpb24gPSAoKSA9PiB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHR5cGVvZiBzY3JlZW5PcmllbnRhdGlvbi51bmxvY2sgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIHNjcmVlbk9yaWVudGF0aW9uLnVubG9jaygpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIG9yaWVudGF0aW9uLFxuICAgIGFuZ2xlLFxuICAgIGxvY2tPcmllbnRhdGlvbixcbiAgICB1bmxvY2tPcmllbnRhdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VQYXJhbGxheCh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZGV2aWNlT3JpZW50YXRpb25UaWx0QWRqdXN0ID0gKGkpID0+IGksXG4gICAgZGV2aWNlT3JpZW50YXRpb25Sb2xsQWRqdXN0ID0gKGkpID0+IGksXG4gICAgbW91c2VUaWx0QWRqdXN0ID0gKGkpID0+IGksXG4gICAgbW91c2VSb2xsQWRqdXN0ID0gKGkpID0+IGksXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgb3JpZW50YXRpb24gPSByZWFjdGl2ZSh1c2VEZXZpY2VPcmllbnRhdGlvbih7IHdpbmRvdyB9KSk7XG4gIGNvbnN0IHNjcmVlbk9yaWVudGF0aW9uID0gcmVhY3RpdmUodXNlU2NyZWVuT3JpZW50YXRpb24oeyB3aW5kb3cgfSkpO1xuICBjb25zdCB7XG4gICAgZWxlbWVudFg6IHgsXG4gICAgZWxlbWVudFk6IHksXG4gICAgZWxlbWVudFdpZHRoOiB3aWR0aCxcbiAgICBlbGVtZW50SGVpZ2h0OiBoZWlnaHRcbiAgfSA9IHVzZU1vdXNlSW5FbGVtZW50KHRhcmdldCwgeyBoYW5kbGVPdXRzaWRlOiBmYWxzZSwgd2luZG93IH0pO1xuICBjb25zdCBzb3VyY2UgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKG9yaWVudGF0aW9uLmlzU3VwcG9ydGVkICYmIChvcmllbnRhdGlvbi5hbHBoYSAhPSBudWxsICYmIG9yaWVudGF0aW9uLmFscGhhICE9PSAwIHx8IG9yaWVudGF0aW9uLmdhbW1hICE9IG51bGwgJiYgb3JpZW50YXRpb24uZ2FtbWEgIT09IDApKSB7XG4gICAgICByZXR1cm4gXCJkZXZpY2VPcmllbnRhdGlvblwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJtb3VzZVwiO1xuICB9KTtcbiAgY29uc3Qgcm9sbCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoc291cmNlLnZhbHVlID09PSBcImRldmljZU9yaWVudGF0aW9uXCIpIHtcbiAgICAgIGxldCB2YWx1ZTtcbiAgICAgIHN3aXRjaCAoc2NyZWVuT3JpZW50YXRpb24ub3JpZW50YXRpb24pIHtcbiAgICAgICAgY2FzZSBcImxhbmRzY2FwZS1wcmltYXJ5XCI6XG4gICAgICAgICAgdmFsdWUgPSBvcmllbnRhdGlvbi5nYW1tYSAvIDkwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibGFuZHNjYXBlLXNlY29uZGFyeVwiOlxuICAgICAgICAgIHZhbHVlID0gLW9yaWVudGF0aW9uLmdhbW1hIC8gOTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3J0cmFpdC1wcmltYXJ5XCI6XG4gICAgICAgICAgdmFsdWUgPSAtb3JpZW50YXRpb24uYmV0YSAvIDkwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9ydHJhaXQtc2Vjb25kYXJ5XCI6XG4gICAgICAgICAgdmFsdWUgPSBvcmllbnRhdGlvbi5iZXRhIC8gOTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdmFsdWUgPSAtb3JpZW50YXRpb24uYmV0YSAvIDkwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRldmljZU9yaWVudGF0aW9uUm9sbEFkanVzdCh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gLSh5LnZhbHVlIC0gaGVpZ2h0LnZhbHVlIC8gMikgLyBoZWlnaHQudmFsdWU7XG4gICAgICByZXR1cm4gbW91c2VSb2xsQWRqdXN0KHZhbHVlKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCB0aWx0ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChzb3VyY2UudmFsdWUgPT09IFwiZGV2aWNlT3JpZW50YXRpb25cIikge1xuICAgICAgbGV0IHZhbHVlO1xuICAgICAgc3dpdGNoIChzY3JlZW5PcmllbnRhdGlvbi5vcmllbnRhdGlvbikge1xuICAgICAgICBjYXNlIFwibGFuZHNjYXBlLXByaW1hcnlcIjpcbiAgICAgICAgICB2YWx1ZSA9IG9yaWVudGF0aW9uLmJldGEgLyA5MDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxhbmRzY2FwZS1zZWNvbmRhcnlcIjpcbiAgICAgICAgICB2YWx1ZSA9IC1vcmllbnRhdGlvbi5iZXRhIC8gOTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3J0cmFpdC1wcmltYXJ5XCI6XG4gICAgICAgICAgdmFsdWUgPSBvcmllbnRhdGlvbi5nYW1tYSAvIDkwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9ydHJhaXQtc2Vjb25kYXJ5XCI6XG4gICAgICAgICAgdmFsdWUgPSAtb3JpZW50YXRpb24uZ2FtbWEgLyA5MDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB2YWx1ZSA9IG9yaWVudGF0aW9uLmdhbW1hIC8gOTA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGV2aWNlT3JpZW50YXRpb25UaWx0QWRqdXN0KHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdmFsdWUgPSAoeC52YWx1ZSAtIHdpZHRoLnZhbHVlIC8gMikgLyB3aWR0aC52YWx1ZTtcbiAgICAgIHJldHVybiBtb3VzZVRpbHRBZGp1c3QodmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7IHJvbGwsIHRpbHQsIHNvdXJjZSB9O1xufVxuXG5mdW5jdGlvbiB1c2VQYXJlbnRFbGVtZW50KGVsZW1lbnQgPSB1c2VDdXJyZW50RWxlbWVudCgpKSB7XG4gIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBzaGFsbG93UmVmKCk7XG4gIGNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBlbCA9IHVucmVmRWxlbWVudChlbGVtZW50KTtcbiAgICBpZiAoZWwpXG4gICAgICBwYXJlbnRFbGVtZW50LnZhbHVlID0gZWwucGFyZW50RWxlbWVudDtcbiAgfTtcbiAgdHJ5T25Nb3VudGVkKHVwZGF0ZSk7XG4gIHdhdGNoKCgpID0+IHRvVmFsdWUoZWxlbWVudCksIHVwZGF0ZSk7XG4gIHJldHVybiBwYXJlbnRFbGVtZW50O1xufVxuXG5mdW5jdGlvbiB1c2VQZXJmb3JtYW5jZU9ic2VydmVyKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgLi4ucGVyZm9ybWFuY2VPcHRpb25zXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB3aW5kb3cgJiYgXCJQZXJmb3JtYW5jZU9ic2VydmVyXCIgaW4gd2luZG93KTtcbiAgbGV0IG9ic2VydmVyO1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIG9ic2VydmVyID09IG51bGwgPyB2b2lkIDAgOiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH07XG4gIGNvbnN0IHN0YXJ0ID0gKCkgPT4ge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgICAgc3RvcCgpO1xuICAgICAgb2JzZXJ2ZXIgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihjYWxsYmFjayk7XG4gICAgICBvYnNlcnZlci5vYnNlcnZlKHBlcmZvcm1hbmNlT3B0aW9ucyk7XG4gICAgfVxuICB9O1xuICB0cnlPblNjb3BlRGlzcG9zZShzdG9wKTtcbiAgaWYgKGltbWVkaWF0ZSlcbiAgICBzdGFydCgpO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0YXJ0LFxuICAgIHN0b3BcbiAgfTtcbn1cblxuY29uc3QgZGVmYXVsdFN0YXRlID0ge1xuICB4OiAwLFxuICB5OiAwLFxuICBwb2ludGVySWQ6IDAsXG4gIHByZXNzdXJlOiAwLFxuICB0aWx0WDogMCxcbiAgdGlsdFk6IDAsXG4gIHdpZHRoOiAwLFxuICBoZWlnaHQ6IDAsXG4gIHR3aXN0OiAwLFxuICBwb2ludGVyVHlwZTogbnVsbFxufTtcbmNvbnN0IGtleXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmtleXMoZGVmYXVsdFN0YXRlKTtcbmZ1bmN0aW9uIHVzZVBvaW50ZXIob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB0YXJnZXQgPSBkZWZhdWx0V2luZG93XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBpc0luc2lkZSA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBzdGF0ZSA9IHJlZihvcHRpb25zLmluaXRpYWxWYWx1ZSB8fCB7fSk7XG4gIE9iamVjdC5hc3NpZ24oc3RhdGUudmFsdWUsIGRlZmF1bHRTdGF0ZSwgc3RhdGUudmFsdWUpO1xuICBjb25zdCBoYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgaXNJbnNpZGUudmFsdWUgPSB0cnVlO1xuICAgIGlmIChvcHRpb25zLnBvaW50ZXJUeXBlcyAmJiAhb3B0aW9ucy5wb2ludGVyVHlwZXMuaW5jbHVkZXMoZXZlbnQucG9pbnRlclR5cGUpKVxuICAgICAgcmV0dXJuO1xuICAgIHN0YXRlLnZhbHVlID0gb2JqZWN0UGljayhldmVudCwga2V5cywgZmFsc2UpO1xuICB9O1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlOiB0cnVlIH07XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFtcInBvaW50ZXJkb3duXCIsIFwicG9pbnRlcm1vdmVcIiwgXCJwb2ludGVydXBcIl0sIGhhbmRsZXIsIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicG9pbnRlcmxlYXZlXCIsICgpID0+IGlzSW5zaWRlLnZhbHVlID0gZmFsc2UsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICAuLi50b1JlZnMoc3RhdGUpLFxuICAgIGlzSW5zaWRlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVBvaW50ZXJMb2NrKHRhcmdldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnQgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IGRvY3VtZW50ICYmIFwicG9pbnRlckxvY2tFbGVtZW50XCIgaW4gZG9jdW1lbnQpO1xuICBjb25zdCBlbGVtZW50ID0gc2hhbGxvd1JlZigpO1xuICBjb25zdCB0cmlnZ2VyRWxlbWVudCA9IHNoYWxsb3dSZWYoKTtcbiAgbGV0IHRhcmdldEVsZW1lbnQ7XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwicG9pbnRlcmxvY2tjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgY29uc3QgY3VycmVudEVsZW1lbnQgPSAoX2EgPSBkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQpICE9IG51bGwgPyBfYSA6IGVsZW1lbnQudmFsdWU7XG4gICAgICBpZiAodGFyZ2V0RWxlbWVudCAmJiBjdXJyZW50RWxlbWVudCA9PT0gdGFyZ2V0RWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnZhbHVlID0gZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50O1xuICAgICAgICBpZiAoIWVsZW1lbnQudmFsdWUpXG4gICAgICAgICAgdGFyZ2V0RWxlbWVudCA9IHRyaWdnZXJFbGVtZW50LnZhbHVlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9LCBsaXN0ZW5lck9wdGlvbnMpO1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwicG9pbnRlcmxvY2tlcnJvclwiLCAoKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBjdXJyZW50RWxlbWVudCA9IChfYSA9IGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCkgIT0gbnVsbCA/IF9hIDogZWxlbWVudC52YWx1ZTtcbiAgICAgIGlmICh0YXJnZXRFbGVtZW50ICYmIGN1cnJlbnRFbGVtZW50ID09PSB0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCA/IFwicmVsZWFzZVwiIDogXCJhY3F1aXJlXCI7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvICR7YWN0aW9ufSBwb2ludGVyIGxvY2suYCk7XG4gICAgICB9XG4gICAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBsb2NrKGUpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBvaW50ZXIgTG9jayBBUEkgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIuXCIpO1xuICAgIHRyaWdnZXJFbGVtZW50LnZhbHVlID0gZSBpbnN0YW5jZW9mIEV2ZW50ID8gZS5jdXJyZW50VGFyZ2V0IDogbnVsbDtcbiAgICB0YXJnZXRFbGVtZW50ID0gZSBpbnN0YW5jZW9mIEV2ZW50ID8gKF9hID0gdW5yZWZFbGVtZW50KHRhcmdldCkpICE9IG51bGwgPyBfYSA6IHRyaWdnZXJFbGVtZW50LnZhbHVlIDogdW5yZWZFbGVtZW50KGUpO1xuICAgIGlmICghdGFyZ2V0RWxlbWVudClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRhcmdldCBlbGVtZW50IHVuZGVmaW5lZC5cIik7XG4gICAgdGFyZ2V0RWxlbWVudC5yZXF1ZXN0UG9pbnRlckxvY2soKTtcbiAgICByZXR1cm4gYXdhaXQgdW50aWwoZWxlbWVudCkudG9CZSh0YXJnZXRFbGVtZW50KTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiB1bmxvY2soKSB7XG4gICAgaWYgKCFlbGVtZW50LnZhbHVlKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRvY3VtZW50LmV4aXRQb2ludGVyTG9jaygpO1xuICAgIGF3YWl0IHVudGlsKGVsZW1lbnQpLnRvQmVOdWxsKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBlbGVtZW50LFxuICAgIHRyaWdnZXJFbGVtZW50LFxuICAgIGxvY2ssXG4gICAgdW5sb2NrXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVBvaW50ZXJTd2lwZSh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB0YXJnZXRSZWYgPSB0b1JlZih0YXJnZXQpO1xuICBjb25zdCB7XG4gICAgdGhyZXNob2xkID0gNTAsXG4gICAgb25Td2lwZSxcbiAgICBvblN3aXBlRW5kLFxuICAgIG9uU3dpcGVTdGFydCxcbiAgICBkaXNhYmxlVGV4dFNlbGVjdCA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwb3NTdGFydCA9IHJlYWN0aXZlKHsgeDogMCwgeTogMCB9KTtcbiAgY29uc3QgdXBkYXRlUG9zU3RhcnQgPSAoeCwgeSkgPT4ge1xuICAgIHBvc1N0YXJ0LnggPSB4O1xuICAgIHBvc1N0YXJ0LnkgPSB5O1xuICB9O1xuICBjb25zdCBwb3NFbmQgPSByZWFjdGl2ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IHVwZGF0ZVBvc0VuZCA9ICh4LCB5KSA9PiB7XG4gICAgcG9zRW5kLnggPSB4O1xuICAgIHBvc0VuZC55ID0geTtcbiAgfTtcbiAgY29uc3QgZGlzdGFuY2VYID0gY29tcHV0ZWQoKCkgPT4gcG9zU3RhcnQueCAtIHBvc0VuZC54KTtcbiAgY29uc3QgZGlzdGFuY2VZID0gY29tcHV0ZWQoKCkgPT4gcG9zU3RhcnQueSAtIHBvc0VuZC55KTtcbiAgY29uc3QgeyBtYXgsIGFicyB9ID0gTWF0aDtcbiAgY29uc3QgaXNUaHJlc2hvbGRFeGNlZWRlZCA9IGNvbXB1dGVkKCgpID0+IG1heChhYnMoZGlzdGFuY2VYLnZhbHVlKSwgYWJzKGRpc3RhbmNlWS52YWx1ZSkpID49IHRocmVzaG9sZCk7XG4gIGNvbnN0IGlzU3dpcGluZyA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBpc1BvaW50ZXJEb3duID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGRpcmVjdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoIWlzVGhyZXNob2xkRXhjZWVkZWQudmFsdWUpXG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgaWYgKGFicyhkaXN0YW5jZVgudmFsdWUpID4gYWJzKGRpc3RhbmNlWS52YWx1ZSkpIHtcbiAgICAgIHJldHVybiBkaXN0YW5jZVgudmFsdWUgPiAwID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaXN0YW5jZVkudmFsdWUgPiAwID8gXCJ1cFwiIDogXCJkb3duXCI7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZXZlbnRJc0FsbG93ZWQgPSAoZSkgPT4ge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IGlzUmVsZWFzaW5nQnV0dG9uID0gZS5idXR0b25zID09PSAwO1xuICAgIGNvbnN0IGlzUHJpbWFyeUJ1dHRvbiA9IGUuYnV0dG9ucyA9PT0gMTtcbiAgICByZXR1cm4gKF9jID0gKF9iID0gKF9hID0gb3B0aW9ucy5wb2ludGVyVHlwZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhlLnBvaW50ZXJUeXBlKSkgIT0gbnVsbCA/IF9iIDogaXNSZWxlYXNpbmdCdXR0b24gfHwgaXNQcmltYXJ5QnV0dG9uKSAhPSBudWxsID8gX2MgOiB0cnVlO1xuICB9O1xuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgY29uc3Qgc3RvcHMgPSBbXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicG9pbnRlcmRvd25cIiwgKGUpID0+IHtcbiAgICAgIGlmICghZXZlbnRJc0FsbG93ZWQoZSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlzUG9pbnRlckRvd24udmFsdWUgPSB0cnVlO1xuICAgICAgY29uc3QgZXZlbnRUYXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIGV2ZW50VGFyZ2V0ID09IG51bGwgPyB2b2lkIDAgOiBldmVudFRhcmdldC5zZXRQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZCk7XG4gICAgICBjb25zdCB7IGNsaWVudFg6IHgsIGNsaWVudFk6IHkgfSA9IGU7XG4gICAgICB1cGRhdGVQb3NTdGFydCh4LCB5KTtcbiAgICAgIHVwZGF0ZVBvc0VuZCh4LCB5KTtcbiAgICAgIG9uU3dpcGVTdGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Td2lwZVN0YXJ0KGUpO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFwicG9pbnRlcm1vdmVcIiwgKGUpID0+IHtcbiAgICAgIGlmICghZXZlbnRJc0FsbG93ZWQoZSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICghaXNQb2ludGVyRG93bi52YWx1ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgeyBjbGllbnRYOiB4LCBjbGllbnRZOiB5IH0gPSBlO1xuICAgICAgdXBkYXRlUG9zRW5kKHgsIHkpO1xuICAgICAgaWYgKCFpc1N3aXBpbmcudmFsdWUgJiYgaXNUaHJlc2hvbGRFeGNlZWRlZC52YWx1ZSlcbiAgICAgICAgaXNTd2lwaW5nLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGlmIChpc1N3aXBpbmcudmFsdWUpXG4gICAgICAgIG9uU3dpcGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3dpcGUoZSk7XG4gICAgfSwgbGlzdGVuZXJPcHRpb25zKSxcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJwb2ludGVydXBcIiwgKGUpID0+IHtcbiAgICAgIGlmICghZXZlbnRJc0FsbG93ZWQoZSkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmIChpc1N3aXBpbmcudmFsdWUpXG4gICAgICAgIG9uU3dpcGVFbmQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3dpcGVFbmQoZSwgZGlyZWN0aW9uLnZhbHVlKTtcbiAgICAgIGlzUG9pbnRlckRvd24udmFsdWUgPSBmYWxzZTtcbiAgICAgIGlzU3dpcGluZy52YWx1ZSA9IGZhbHNlO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucylcbiAgXTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgIChfYiA9IChfYSA9IHRhcmdldFJlZi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnN0eWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Iuc2V0UHJvcGVydHkoXCJ0b3VjaC1hY3Rpb25cIiwgXCJwYW4teVwiKTtcbiAgICBpZiAoZGlzYWJsZVRleHRTZWxlY3QpIHtcbiAgICAgIChfZCA9IChfYyA9IHRhcmdldFJlZi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnN0eWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Quc2V0UHJvcGVydHkoXCItd2Via2l0LXVzZXItc2VsZWN0XCIsIFwibm9uZVwiKTtcbiAgICAgIChfZiA9IChfZSA9IHRhcmdldFJlZi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLnN0eWxlKSA9PSBudWxsID8gdm9pZCAwIDogX2Yuc2V0UHJvcGVydHkoXCItbXMtdXNlci1zZWxlY3RcIiwgXCJub25lXCIpO1xuICAgICAgKF9oID0gKF9nID0gdGFyZ2V0UmVmLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2cuc3R5bGUpID09IG51bGwgPyB2b2lkIDAgOiBfaC5zZXRQcm9wZXJ0eShcInVzZXItc2VsZWN0XCIsIFwibm9uZVwiKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzdG9wID0gKCkgPT4gc3RvcHMuZm9yRWFjaCgocykgPT4gcygpKTtcbiAgcmV0dXJuIHtcbiAgICBpc1N3aXBpbmc6IHJlYWRvbmx5KGlzU3dpcGluZyksXG4gICAgZGlyZWN0aW9uOiByZWFkb25seShkaXJlY3Rpb24pLFxuICAgIHBvc1N0YXJ0OiByZWFkb25seShwb3NTdGFydCksXG4gICAgcG9zRW5kOiByZWFkb25seShwb3NFbmQpLFxuICAgIGRpc3RhbmNlWCxcbiAgICBkaXN0YW5jZVksXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWRDb2xvclNjaGVtZShvcHRpb25zKSB7XG4gIGNvbnN0IGlzTGlnaHQgPSB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIiwgb3B0aW9ucyk7XG4gIGNvbnN0IGlzRGFyayA9IHVzZU1lZGlhUXVlcnkoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIsIG9wdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChpc0RhcmsudmFsdWUpXG4gICAgICByZXR1cm4gXCJkYXJrXCI7XG4gICAgaWYgKGlzTGlnaHQudmFsdWUpXG4gICAgICByZXR1cm4gXCJsaWdodFwiO1xuICAgIHJldHVybiBcIm5vLXByZWZlcmVuY2VcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZWZlcnJlZENvbnRyYXN0KG9wdGlvbnMpIHtcbiAgY29uc3QgaXNNb3JlID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLWNvbnRyYXN0OiBtb3JlKVwiLCBvcHRpb25zKTtcbiAgY29uc3QgaXNMZXNzID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLWNvbnRyYXN0OiBsZXNzKVwiLCBvcHRpb25zKTtcbiAgY29uc3QgaXNDdXN0b20gPSB1c2VNZWRpYVF1ZXJ5KFwiKHByZWZlcnMtY29udHJhc3Q6IGN1c3RvbSlcIiwgb3B0aW9ucyk7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKGlzTW9yZS52YWx1ZSlcbiAgICAgIHJldHVybiBcIm1vcmVcIjtcbiAgICBpZiAoaXNMZXNzLnZhbHVlKVxuICAgICAgcmV0dXJuIFwibGVzc1wiO1xuICAgIGlmIChpc0N1c3RvbS52YWx1ZSlcbiAgICAgIHJldHVybiBcImN1c3RvbVwiO1xuICAgIHJldHVybiBcIm5vLXByZWZlcmVuY2VcIjtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVzZVByZWZlcnJlZExhbmd1YWdlcyhvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBpZiAoIXdpbmRvdylcbiAgICByZXR1cm4gcmVmKFtcImVuXCJdKTtcbiAgY29uc3QgbmF2aWdhdG9yID0gd2luZG93Lm5hdmlnYXRvcjtcbiAgY29uc3QgdmFsdWUgPSByZWYobmF2aWdhdG9yLmxhbmd1YWdlcyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImxhbmd1YWdlY2hhbmdlXCIsICgpID0+IHtcbiAgICB2YWx1ZS52YWx1ZSA9IG5hdmlnYXRvci5sYW5ndWFnZXM7XG4gIH0sIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWRSZWR1Y2VkTW90aW9uKG9wdGlvbnMpIHtcbiAgY29uc3QgaXNSZWR1Y2VkID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIsIG9wdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChpc1JlZHVjZWQudmFsdWUpXG4gICAgICByZXR1cm4gXCJyZWR1Y2VcIjtcbiAgICByZXR1cm4gXCJuby1wcmVmZXJlbmNlXCI7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VQcmVmZXJyZWRSZWR1Y2VkVHJhbnNwYXJlbmN5KG9wdGlvbnMpIHtcbiAgY29uc3QgaXNSZWR1Y2VkID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLXJlZHVjZWQtdHJhbnNwYXJlbmN5OiByZWR1Y2UpXCIsIG9wdGlvbnMpO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4ge1xuICAgIGlmIChpc1JlZHVjZWQudmFsdWUpXG4gICAgICByZXR1cm4gXCJyZWR1Y2VcIjtcbiAgICByZXR1cm4gXCJuby1wcmVmZXJlbmNlXCI7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gIGNvbnN0IHByZXZpb3VzID0gc2hhbGxvd1JlZihpbml0aWFsVmFsdWUpO1xuICB3YXRjaChcbiAgICB0b1JlZih2YWx1ZSksXG4gICAgKF8sIG9sZFZhbHVlKSA9PiB7XG4gICAgICBwcmV2aW91cy52YWx1ZSA9IG9sZFZhbHVlO1xuICAgIH0sXG4gICAgeyBmbHVzaDogXCJzeW5jXCIgfVxuICApO1xuICByZXR1cm4gcmVhZG9ubHkocHJldmlvdXMpO1xufVxuXG5jb25zdCB0b3BWYXJOYW1lID0gXCItLXZ1ZXVzZS1zYWZlLWFyZWEtdG9wXCI7XG5jb25zdCByaWdodFZhck5hbWUgPSBcIi0tdnVldXNlLXNhZmUtYXJlYS1yaWdodFwiO1xuY29uc3QgYm90dG9tVmFyTmFtZSA9IFwiLS12dWV1c2Utc2FmZS1hcmVhLWJvdHRvbVwiO1xuY29uc3QgbGVmdFZhck5hbWUgPSBcIi0tdnVldXNlLXNhZmUtYXJlYS1sZWZ0XCI7XG5mdW5jdGlvbiB1c2VTY3JlZW5TYWZlQXJlYSgpIHtcbiAgY29uc3QgdG9wID0gc2hhbGxvd1JlZihcIlwiKTtcbiAgY29uc3QgcmlnaHQgPSBzaGFsbG93UmVmKFwiXCIpO1xuICBjb25zdCBib3R0b20gPSBzaGFsbG93UmVmKFwiXCIpO1xuICBjb25zdCBsZWZ0ID0gc2hhbGxvd1JlZihcIlwiKTtcbiAgaWYgKGlzQ2xpZW50KSB7XG4gICAgY29uc3QgdG9wQ3NzVmFyID0gdXNlQ3NzVmFyKHRvcFZhck5hbWUpO1xuICAgIGNvbnN0IHJpZ2h0Q3NzVmFyID0gdXNlQ3NzVmFyKHJpZ2h0VmFyTmFtZSk7XG4gICAgY29uc3QgYm90dG9tQ3NzVmFyID0gdXNlQ3NzVmFyKGJvdHRvbVZhck5hbWUpO1xuICAgIGNvbnN0IGxlZnRDc3NWYXIgPSB1c2VDc3NWYXIobGVmdFZhck5hbWUpO1xuICAgIHRvcENzc1Zhci52YWx1ZSA9IFwiZW52KHNhZmUtYXJlYS1pbnNldC10b3AsIDBweClcIjtcbiAgICByaWdodENzc1Zhci52YWx1ZSA9IFwiZW52KHNhZmUtYXJlYS1pbnNldC1yaWdodCwgMHB4KVwiO1xuICAgIGJvdHRvbUNzc1Zhci52YWx1ZSA9IFwiZW52KHNhZmUtYXJlYS1pbnNldC1ib3R0b20sIDBweClcIjtcbiAgICBsZWZ0Q3NzVmFyLnZhbHVlID0gXCJlbnYoc2FmZS1hcmVhLWluc2V0LWxlZnQsIDBweClcIjtcbiAgICB0cnlPbk1vdW50ZWQodXBkYXRlKTtcbiAgICB1c2VFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVzZURlYm91bmNlRm4odXBkYXRlKSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICB0b3AudmFsdWUgPSBnZXRWYWx1ZSh0b3BWYXJOYW1lKTtcbiAgICByaWdodC52YWx1ZSA9IGdldFZhbHVlKHJpZ2h0VmFyTmFtZSk7XG4gICAgYm90dG9tLnZhbHVlID0gZ2V0VmFsdWUoYm90dG9tVmFyTmFtZSk7XG4gICAgbGVmdC52YWx1ZSA9IGdldFZhbHVlKGxlZnRWYXJOYW1lKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHRvcCxcbiAgICByaWdodCxcbiAgICBib3R0b20sXG4gICAgbGVmdCxcbiAgICB1cGRhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFZhbHVlKHBvc2l0aW9uKSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShwb3NpdGlvbik7XG59XG5cbmZ1bmN0aW9uIHVzZVNjcmlwdFRhZyhzcmMsIG9uTG9hZGVkID0gbm9vcCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIG1hbnVhbCA9IGZhbHNlLFxuICAgIHR5cGUgPSBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgIGFzeW5jID0gdHJ1ZSxcbiAgICBjcm9zc09yaWdpbixcbiAgICByZWZlcnJlclBvbGljeSxcbiAgICBub01vZHVsZSxcbiAgICBkZWZlcixcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBhdHRycyA9IHt9LFxuICAgIG5vbmNlID0gdm9pZCAwXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBzY3JpcHRUYWcgPSBzaGFsbG93UmVmKG51bGwpO1xuICBsZXQgX3Byb21pc2UgPSBudWxsO1xuICBjb25zdCBsb2FkU2NyaXB0ID0gKHdhaXRGb3JTY3JpcHRMb2FkKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgY29uc3QgcmVzb2x2ZVdpdGhFbGVtZW50ID0gKGVsMikgPT4ge1xuICAgICAgc2NyaXB0VGFnLnZhbHVlID0gZWwyO1xuICAgICAgcmVzb2x2ZShlbDIpO1xuICAgICAgcmV0dXJuIGVsMjtcbiAgICB9O1xuICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgc2hvdWxkQXBwZW5kID0gZmFsc2U7XG4gICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2NyaXB0W3NyYz1cIiR7dG9WYWx1ZShzcmMpfVwiXWApO1xuICAgIGlmICghZWwpIHtcbiAgICAgIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgIGVsLnR5cGUgPSB0eXBlO1xuICAgICAgZWwuYXN5bmMgPSBhc3luYztcbiAgICAgIGVsLnNyYyA9IHRvVmFsdWUoc3JjKTtcbiAgICAgIGlmIChkZWZlcilcbiAgICAgICAgZWwuZGVmZXIgPSBkZWZlcjtcbiAgICAgIGlmIChjcm9zc09yaWdpbilcbiAgICAgICAgZWwuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgIGlmIChub01vZHVsZSlcbiAgICAgICAgZWwubm9Nb2R1bGUgPSBub01vZHVsZTtcbiAgICAgIGlmIChyZWZlcnJlclBvbGljeSlcbiAgICAgICAgZWwucmVmZXJyZXJQb2xpY3kgPSByZWZlcnJlclBvbGljeTtcbiAgICAgIGlmIChub25jZSkge1xuICAgICAgICBlbC5ub25jZSA9IG5vbmNlO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmVudHJpZXMoYXR0cnMpLmZvckVhY2goKFtuYW1lLCB2YWx1ZV0pID0+IGVsID09IG51bGwgPyB2b2lkIDAgOiBlbC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpKTtcbiAgICAgIHNob3VsZEFwcGVuZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChlbC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWxvYWRlZFwiKSkge1xuICAgICAgcmVzb2x2ZVdpdGhFbGVtZW50KGVsKTtcbiAgICB9XG4gICAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0ge1xuICAgICAgcGFzc2l2ZTogdHJ1ZVxuICAgIH07XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihlbCwgXCJlcnJvclwiLCAoZXZlbnQpID0+IHJlamVjdChldmVudCksIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihlbCwgXCJhYm9ydFwiLCAoZXZlbnQpID0+IHJlamVjdChldmVudCksIGxpc3RlbmVyT3B0aW9ucyk7XG4gICAgdXNlRXZlbnRMaXN0ZW5lcihlbCwgXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcImRhdGEtbG9hZGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgIG9uTG9hZGVkKGVsKTtcbiAgICAgIHJlc29sdmVXaXRoRWxlbWVudChlbCk7XG4gICAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgICBpZiAoc2hvdWxkQXBwZW5kKVxuICAgICAgZWwgPSBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsKTtcbiAgICBpZiAoIXdhaXRGb3JTY3JpcHRMb2FkKVxuICAgICAgcmVzb2x2ZVdpdGhFbGVtZW50KGVsKTtcbiAgfSk7XG4gIGNvbnN0IGxvYWQgPSAod2FpdEZvclNjcmlwdExvYWQgPSB0cnVlKSA9PiB7XG4gICAgaWYgKCFfcHJvbWlzZSlcbiAgICAgIF9wcm9taXNlID0gbG9hZFNjcmlwdCh3YWl0Rm9yU2NyaXB0TG9hZCk7XG4gICAgcmV0dXJuIF9wcm9taXNlO1xuICB9O1xuICBjb25zdCB1bmxvYWQgPSAoKSA9PiB7XG4gICAgaWYgKCFkb2N1bWVudClcbiAgICAgIHJldHVybjtcbiAgICBfcHJvbWlzZSA9IG51bGw7XG4gICAgaWYgKHNjcmlwdFRhZy52YWx1ZSlcbiAgICAgIHNjcmlwdFRhZy52YWx1ZSA9IG51bGw7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzY3JpcHRbc3JjPVwiJHt0b1ZhbHVlKHNyYyl9XCJdYCk7XG4gICAgaWYgKGVsKVxuICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChlbCk7XG4gIH07XG4gIGlmIChpbW1lZGlhdGUgJiYgIW1hbnVhbClcbiAgICB0cnlPbk1vdW50ZWQobG9hZCk7XG4gIGlmICghbWFudWFsKVxuICAgIHRyeU9uVW5tb3VudGVkKHVubG9hZCk7XG4gIHJldHVybiB7IHNjcmlwdFRhZywgbG9hZCwgdW5sb2FkIH07XG59XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3dTY3JvbGwoZWxlKSB7XG4gIGNvbnN0IHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlKTtcbiAgaWYgKHN0eWxlLm92ZXJmbG93WCA9PT0gXCJzY3JvbGxcIiB8fCBzdHlsZS5vdmVyZmxvd1kgPT09IFwic2Nyb2xsXCIgfHwgc3R5bGUub3ZlcmZsb3dYID09PSBcImF1dG9cIiAmJiBlbGUuY2xpZW50V2lkdGggPCBlbGUuc2Nyb2xsV2lkdGggfHwgc3R5bGUub3ZlcmZsb3dZID09PSBcImF1dG9cIiAmJiBlbGUuY2xpZW50SGVpZ2h0IDwgZWxlLnNjcm9sbEhlaWdodCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsZS5wYXJlbnROb2RlO1xuICAgIGlmICghcGFyZW50IHx8IHBhcmVudC50YWdOYW1lID09PSBcIkJPRFlcIilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gY2hlY2tPdmVyZmxvd1Njcm9sbChwYXJlbnQpO1xuICB9XG59XG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChyYXdFdmVudCkge1xuICBjb25zdCBlID0gcmF3RXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICBjb25zdCBfdGFyZ2V0ID0gZS50YXJnZXQ7XG4gIGlmIChjaGVja092ZXJmbG93U2Nyb2xsKF90YXJnZXQpKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKGUudG91Y2hlcy5sZW5ndGggPiAxKVxuICAgIHJldHVybiB0cnVlO1xuICBpZiAoZS5wcmV2ZW50RGVmYXVsdClcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIHJldHVybiBmYWxzZTtcbn1cbmNvbnN0IGVsSW5pdGlhbE92ZXJmbG93ID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiB1c2VTY3JvbGxMb2NrKGVsZW1lbnQsIGluaXRpYWxTdGF0ZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGlzTG9ja2VkID0gc2hhbGxvd1JlZihpbml0aWFsU3RhdGUpO1xuICBsZXQgc3RvcFRvdWNoTW92ZUxpc3RlbmVyID0gbnVsbDtcbiAgbGV0IGluaXRpYWxPdmVyZmxvdyA9IFwiXCI7XG4gIHdhdGNoKHRvUmVmKGVsZW1lbnQpLCAoZWwpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSByZXNvbHZlRWxlbWVudCh0b1ZhbHVlKGVsKSk7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgY29uc3QgZWxlID0gdGFyZ2V0O1xuICAgICAgaWYgKCFlbEluaXRpYWxPdmVyZmxvdy5nZXQoZWxlKSlcbiAgICAgICAgZWxJbml0aWFsT3ZlcmZsb3cuc2V0KGVsZSwgZWxlLnN0eWxlLm92ZXJmbG93KTtcbiAgICAgIGlmIChlbGUuc3R5bGUub3ZlcmZsb3cgIT09IFwiaGlkZGVuXCIpXG4gICAgICAgIGluaXRpYWxPdmVyZmxvdyA9IGVsZS5zdHlsZS5vdmVyZmxvdztcbiAgICAgIGlmIChlbGUuc3R5bGUub3ZlcmZsb3cgPT09IFwiaGlkZGVuXCIpXG4gICAgICAgIHJldHVybiBpc0xvY2tlZC52YWx1ZSA9IHRydWU7XG4gICAgICBpZiAoaXNMb2NrZWQudmFsdWUpXG4gICAgICAgIHJldHVybiBlbGUuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIH1cbiAgfSwge1xuICAgIGltbWVkaWF0ZTogdHJ1ZVxuICB9KTtcbiAgY29uc3QgbG9jayA9ICgpID0+IHtcbiAgICBjb25zdCBlbCA9IHJlc29sdmVFbGVtZW50KHRvVmFsdWUoZWxlbWVudCkpO1xuICAgIGlmICghZWwgfHwgaXNMb2NrZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKGlzSU9TKSB7XG4gICAgICBzdG9wVG91Y2hNb3ZlTGlzdGVuZXIgPSB1c2VFdmVudExpc3RlbmVyKFxuICAgICAgICBlbCxcbiAgICAgICAgXCJ0b3VjaG1vdmVcIixcbiAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgfSxcbiAgICAgICAgeyBwYXNzaXZlOiBmYWxzZSB9XG4gICAgICApO1xuICAgIH1cbiAgICBlbC5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG4gICAgaXNMb2NrZWQudmFsdWUgPSB0cnVlO1xuICB9O1xuICBjb25zdCB1bmxvY2sgPSAoKSA9PiB7XG4gICAgY29uc3QgZWwgPSByZXNvbHZlRWxlbWVudCh0b1ZhbHVlKGVsZW1lbnQpKTtcbiAgICBpZiAoIWVsIHx8ICFpc0xvY2tlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoaXNJT1MpXG4gICAgICBzdG9wVG91Y2hNb3ZlTGlzdGVuZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHN0b3BUb3VjaE1vdmVMaXN0ZW5lcigpO1xuICAgIGVsLnN0eWxlLm92ZXJmbG93ID0gaW5pdGlhbE92ZXJmbG93O1xuICAgIGVsSW5pdGlhbE92ZXJmbG93LmRlbGV0ZShlbCk7XG4gICAgaXNMb2NrZWQudmFsdWUgPSBmYWxzZTtcbiAgfTtcbiAgdHJ5T25TY29wZURpc3Bvc2UodW5sb2NrKTtcbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gaXNMb2NrZWQudmFsdWU7XG4gICAgfSxcbiAgICBzZXQodikge1xuICAgICAgaWYgKHYpXG4gICAgICAgIGxvY2soKTtcbiAgICAgIGVsc2UgdW5sb2NrKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdXNlU2Vzc2lvblN0b3JhZ2Uoa2V5LCBpbml0aWFsVmFsdWUsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IHdpbmRvdyA9IGRlZmF1bHRXaW5kb3cgfSA9IG9wdGlvbnM7XG4gIHJldHVybiB1c2VTdG9yYWdlKGtleSwgaW5pdGlhbFZhbHVlLCB3aW5kb3cgPT0gbnVsbCA/IHZvaWQgMCA6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZSwgb3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHVzZVNoYXJlKHNoYXJlT3B0aW9ucyA9IHt9LCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yIH0gPSBvcHRpb25zO1xuICBjb25zdCBfbmF2aWdhdG9yID0gbmF2aWdhdG9yO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiBfbmF2aWdhdG9yICYmIFwiY2FuU2hhcmVcIiBpbiBfbmF2aWdhdG9yKTtcbiAgY29uc3Qgc2hhcmUgPSBhc3luYyAob3ZlcnJpZGVPcHRpb25zID0ge30pID0+IHtcbiAgICBpZiAoaXNTdXBwb3J0ZWQudmFsdWUpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIC4uLnRvVmFsdWUoc2hhcmVPcHRpb25zKSxcbiAgICAgICAgLi4udG9WYWx1ZShvdmVycmlkZU9wdGlvbnMpXG4gICAgICB9O1xuICAgICAgbGV0IGdyYW50ZWQgPSB0cnVlO1xuICAgICAgaWYgKGRhdGEuZmlsZXMgJiYgX25hdmlnYXRvci5jYW5TaGFyZSlcbiAgICAgICAgZ3JhbnRlZCA9IF9uYXZpZ2F0b3IuY2FuU2hhcmUoeyBmaWxlczogZGF0YS5maWxlcyB9KTtcbiAgICAgIGlmIChncmFudGVkKVxuICAgICAgICByZXR1cm4gX25hdmlnYXRvci5zaGFyZShkYXRhKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgc2hhcmVcbiAgfTtcbn1cblxuY29uc3QgZGVmYXVsdFNvcnRGbiA9IChzb3VyY2UsIGNvbXBhcmVGbikgPT4gc291cmNlLnNvcnQoY29tcGFyZUZuKTtcbmNvbnN0IGRlZmF1bHRDb21wYXJlID0gKGEsIGIpID0+IGEgLSBiO1xuZnVuY3Rpb24gdXNlU29ydGVkKC4uLmFyZ3MpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCBbc291cmNlXSA9IGFyZ3M7XG4gIGxldCBjb21wYXJlRm4gPSBkZWZhdWx0Q29tcGFyZTtcbiAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAyKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBvcHRpb25zID0gYXJnc1sxXTtcbiAgICAgIGNvbXBhcmVGbiA9IChfYSA9IG9wdGlvbnMuY29tcGFyZUZuKSAhPSBudWxsID8gX2EgOiBkZWZhdWx0Q29tcGFyZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tcGFyZUZuID0gKF9iID0gYXJnc1sxXSkgIT0gbnVsbCA/IF9iIDogZGVmYXVsdENvbXBhcmU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGFyZ3MubGVuZ3RoID4gMikge1xuICAgIGNvbXBhcmVGbiA9IChfYyA9IGFyZ3NbMV0pICE9IG51bGwgPyBfYyA6IGRlZmF1bHRDb21wYXJlO1xuICAgIG9wdGlvbnMgPSAoX2QgPSBhcmdzWzJdKSAhPSBudWxsID8gX2QgOiB7fTtcbiAgfVxuICBjb25zdCB7XG4gICAgZGlydHkgPSBmYWxzZSxcbiAgICBzb3J0Rm4gPSBkZWZhdWx0U29ydEZuXG4gIH0gPSBvcHRpb25zO1xuICBpZiAoIWRpcnR5KVxuICAgIHJldHVybiBjb21wdXRlZCgoKSA9PiBzb3J0Rm4oWy4uLnRvVmFsdWUoc291cmNlKV0sIGNvbXBhcmVGbikpO1xuICB3YXRjaEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gc29ydEZuKHRvVmFsdWUoc291cmNlKSwgY29tcGFyZUZuKTtcbiAgICBpZiAoaXNSZWYoc291cmNlKSlcbiAgICAgIHNvdXJjZS52YWx1ZSA9IHJlc3VsdDtcbiAgICBlbHNlXG4gICAgICBzb3VyY2Uuc3BsaWNlKDAsIHNvdXJjZS5sZW5ndGgsIC4uLnJlc3VsdCk7XG4gIH0pO1xuICByZXR1cm4gc291cmNlO1xufVxuXG5mdW5jdGlvbiB1c2VTcGVlY2hSZWNvZ25pdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGludGVyaW1SZXN1bHRzID0gdHJ1ZSxcbiAgICBjb250aW51b3VzID0gdHJ1ZSxcbiAgICBtYXhBbHRlcm5hdGl2ZXMgPSAxLFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGxhbmcgPSB0b1JlZihvcHRpb25zLmxhbmcgfHwgXCJlbi1VU1wiKTtcbiAgY29uc3QgaXNMaXN0ZW5pbmcgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3QgaXNGaW5hbCA9IHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCByZXN1bHQgPSBzaGFsbG93UmVmKFwiXCIpO1xuICBjb25zdCBlcnJvciA9IHNoYWxsb3dSZWYodm9pZCAwKTtcbiAgbGV0IHJlY29nbml0aW9uO1xuICBjb25zdCBzdGFydCA9ICgpID0+IHtcbiAgICBpc0xpc3RlbmluZy52YWx1ZSA9IHRydWU7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgaXNMaXN0ZW5pbmcudmFsdWUgPSBmYWxzZTtcbiAgfTtcbiAgY29uc3QgdG9nZ2xlID0gKHZhbHVlID0gIWlzTGlzdGVuaW5nLnZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBzdGFydCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBTcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdyAmJiAod2luZG93LlNwZWVjaFJlY29nbml0aW9uIHx8IHdpbmRvdy53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbik7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IFNwZWVjaFJlY29nbml0aW9uKTtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKSB7XG4gICAgcmVjb2duaXRpb24gPSBuZXcgU3BlZWNoUmVjb2duaXRpb24oKTtcbiAgICByZWNvZ25pdGlvbi5jb250aW51b3VzID0gY29udGludW91cztcbiAgICByZWNvZ25pdGlvbi5pbnRlcmltUmVzdWx0cyA9IGludGVyaW1SZXN1bHRzO1xuICAgIHJlY29nbml0aW9uLmxhbmcgPSB0b1ZhbHVlKGxhbmcpO1xuICAgIHJlY29nbml0aW9uLm1heEFsdGVybmF0aXZlcyA9IG1heEFsdGVybmF0aXZlcztcbiAgICByZWNvZ25pdGlvbi5vbnN0YXJ0ID0gKCkgPT4ge1xuICAgICAgaXNMaXN0ZW5pbmcudmFsdWUgPSB0cnVlO1xuICAgICAgaXNGaW5hbC52YWx1ZSA9IGZhbHNlO1xuICAgIH07XG4gICAgd2F0Y2gobGFuZywgKGxhbmcyKSA9PiB7XG4gICAgICBpZiAocmVjb2duaXRpb24gJiYgIWlzTGlzdGVuaW5nLnZhbHVlKVxuICAgICAgICByZWNvZ25pdGlvbi5sYW5nID0gbGFuZzI7XG4gICAgfSk7XG4gICAgcmVjb2duaXRpb24ub25yZXN1bHQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRSZXN1bHQgPSBldmVudC5yZXN1bHRzW2V2ZW50LnJlc3VsdEluZGV4XTtcbiAgICAgIGNvbnN0IHsgdHJhbnNjcmlwdCB9ID0gY3VycmVudFJlc3VsdFswXTtcbiAgICAgIGlzRmluYWwudmFsdWUgPSBjdXJyZW50UmVzdWx0LmlzRmluYWw7XG4gICAgICByZXN1bHQudmFsdWUgPSB0cmFuc2NyaXB0O1xuICAgICAgZXJyb3IudmFsdWUgPSB2b2lkIDA7XG4gICAgfTtcbiAgICByZWNvZ25pdGlvbi5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICBlcnJvci52YWx1ZSA9IGV2ZW50O1xuICAgIH07XG4gICAgcmVjb2duaXRpb24ub25lbmQgPSAoKSA9PiB7XG4gICAgICBpc0xpc3RlbmluZy52YWx1ZSA9IGZhbHNlO1xuICAgICAgcmVjb2duaXRpb24ubGFuZyA9IHRvVmFsdWUobGFuZyk7XG4gICAgfTtcbiAgICB3YXRjaChpc0xpc3RlbmluZywgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKG5ld1ZhbHVlKVxuICAgICAgICByZWNvZ25pdGlvbi5zdGFydCgpO1xuICAgICAgZWxzZVxuICAgICAgICByZWNvZ25pdGlvbi5zdG9wKCk7XG4gICAgfSk7XG4gIH1cbiAgdHJ5T25TY29wZURpc3Bvc2UoKCkgPT4ge1xuICAgIHN0b3AoKTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaXNMaXN0ZW5pbmcsXG4gICAgaXNGaW5hbCxcbiAgICByZWNvZ25pdGlvbixcbiAgICByZXN1bHQsXG4gICAgZXJyb3IsXG4gICAgdG9nZ2xlLFxuICAgIHN0YXJ0LFxuICAgIHN0b3BcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU3BlZWNoU3ludGhlc2lzKHRleHQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgcGl0Y2ggPSAxLFxuICAgIHJhdGUgPSAxLFxuICAgIHZvbHVtZSA9IDEsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc3ludGggPSB3aW5kb3cgJiYgd2luZG93LnNwZWVjaFN5bnRoZXNpcztcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gc3ludGgpO1xuICBjb25zdCBpc1BsYXlpbmcgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgc3RhdHVzID0gc2hhbGxvd1JlZihcImluaXRcIik7XG4gIGNvbnN0IHNwb2tlblRleHQgPSB0b1JlZih0ZXh0IHx8IFwiXCIpO1xuICBjb25zdCBsYW5nID0gdG9SZWYob3B0aW9ucy5sYW5nIHx8IFwiZW4tVVNcIik7XG4gIGNvbnN0IGVycm9yID0gc2hhbGxvd1JlZih2b2lkIDApO1xuICBjb25zdCB0b2dnbGUgPSAodmFsdWUgPSAhaXNQbGF5aW5nLnZhbHVlKSA9PiB7XG4gICAgaXNQbGF5aW5nLnZhbHVlID0gdmFsdWU7XG4gIH07XG4gIGNvbnN0IGJpbmRFdmVudHNGb3JVdHRlcmFuY2UgPSAodXR0ZXJhbmNlMikgPT4ge1xuICAgIHV0dGVyYW5jZTIubGFuZyA9IHRvVmFsdWUobGFuZyk7XG4gICAgdXR0ZXJhbmNlMi52b2ljZSA9IHRvVmFsdWUob3B0aW9ucy52b2ljZSkgfHwgbnVsbDtcbiAgICB1dHRlcmFuY2UyLnBpdGNoID0gdG9WYWx1ZShwaXRjaCk7XG4gICAgdXR0ZXJhbmNlMi5yYXRlID0gdG9WYWx1ZShyYXRlKTtcbiAgICB1dHRlcmFuY2UyLnZvbHVtZSA9IHZvbHVtZTtcbiAgICB1dHRlcmFuY2UyLm9uc3RhcnQgPSAoKSA9PiB7XG4gICAgICBpc1BsYXlpbmcudmFsdWUgPSB0cnVlO1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJwbGF5XCI7XG4gICAgfTtcbiAgICB1dHRlcmFuY2UyLm9ucGF1c2UgPSAoKSA9PiB7XG4gICAgICBpc1BsYXlpbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgIHN0YXR1cy52YWx1ZSA9IFwicGF1c2VcIjtcbiAgICB9O1xuICAgIHV0dGVyYW5jZTIub25yZXN1bWUgPSAoKSA9PiB7XG4gICAgICBpc1BsYXlpbmcudmFsdWUgPSB0cnVlO1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJwbGF5XCI7XG4gICAgfTtcbiAgICB1dHRlcmFuY2UyLm9uZW5kID0gKCkgPT4ge1xuICAgICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcImVuZFwiO1xuICAgIH07XG4gICAgdXR0ZXJhbmNlMi5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICBlcnJvci52YWx1ZSA9IGV2ZW50O1xuICAgIH07XG4gIH07XG4gIGNvbnN0IHV0dGVyYW5jZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpc1BsYXlpbmcudmFsdWUgPSBmYWxzZTtcbiAgICBzdGF0dXMudmFsdWUgPSBcImluaXRcIjtcbiAgICBjb25zdCBuZXdVdHRlcmFuY2UgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHNwb2tlblRleHQudmFsdWUpO1xuICAgIGJpbmRFdmVudHNGb3JVdHRlcmFuY2UobmV3VXR0ZXJhbmNlKTtcbiAgICByZXR1cm4gbmV3VXR0ZXJhbmNlO1xuICB9KTtcbiAgY29uc3Qgc3BlYWsgPSAoKSA9PiB7XG4gICAgc3ludGguY2FuY2VsKCk7XG4gICAgaWYgKHV0dGVyYW5jZSlcbiAgICAgIHN5bnRoLnNwZWFrKHV0dGVyYW5jZS52YWx1ZSk7XG4gIH07XG4gIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgc3ludGguY2FuY2VsKCk7XG4gICAgaXNQbGF5aW5nLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIGJpbmRFdmVudHNGb3JVdHRlcmFuY2UodXR0ZXJhbmNlLnZhbHVlKTtcbiAgICB3YXRjaChsYW5nLCAobGFuZzIpID0+IHtcbiAgICAgIGlmICh1dHRlcmFuY2UudmFsdWUgJiYgIWlzUGxheWluZy52YWx1ZSlcbiAgICAgICAgdXR0ZXJhbmNlLnZhbHVlLmxhbmcgPSBsYW5nMjtcbiAgICB9KTtcbiAgICBpZiAob3B0aW9ucy52b2ljZSkge1xuICAgICAgd2F0Y2gob3B0aW9ucy52b2ljZSwgKCkgPT4ge1xuICAgICAgICBzeW50aC5jYW5jZWwoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB3YXRjaChpc1BsYXlpbmcsICgpID0+IHtcbiAgICAgIGlmIChpc1BsYXlpbmcudmFsdWUpXG4gICAgICAgIHN5bnRoLnJlc3VtZSgpO1xuICAgICAgZWxzZVxuICAgICAgICBzeW50aC5wYXVzZSgpO1xuICAgIH0pO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBpc1BsYXlpbmcudmFsdWUgPSBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgaXNQbGF5aW5nLFxuICAgIHN0YXR1cyxcbiAgICB1dHRlcmFuY2UsXG4gICAgZXJyb3IsXG4gICAgc3RvcCxcbiAgICB0b2dnbGUsXG4gICAgc3BlYWtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU3RlcHBlcihzdGVwcywgaW5pdGlhbFN0ZXApIHtcbiAgY29uc3Qgc3RlcHNSZWYgPSByZWYoc3RlcHMpO1xuICBjb25zdCBzdGVwTmFtZXMgPSBjb21wdXRlZCgoKSA9PiBBcnJheS5pc0FycmF5KHN0ZXBzUmVmLnZhbHVlKSA/IHN0ZXBzUmVmLnZhbHVlIDogT2JqZWN0LmtleXMoc3RlcHNSZWYudmFsdWUpKTtcbiAgY29uc3QgaW5kZXggPSByZWYoc3RlcE5hbWVzLnZhbHVlLmluZGV4T2YoaW5pdGlhbFN0ZXAgIT0gbnVsbCA/IGluaXRpYWxTdGVwIDogc3RlcE5hbWVzLnZhbHVlWzBdKSk7XG4gIGNvbnN0IGN1cnJlbnQgPSBjb21wdXRlZCgoKSA9PiBhdChpbmRleC52YWx1ZSkpO1xuICBjb25zdCBpc0ZpcnN0ID0gY29tcHV0ZWQoKCkgPT4gaW5kZXgudmFsdWUgPT09IDApO1xuICBjb25zdCBpc0xhc3QgPSBjb21wdXRlZCgoKSA9PiBpbmRleC52YWx1ZSA9PT0gc3RlcE5hbWVzLnZhbHVlLmxlbmd0aCAtIDEpO1xuICBjb25zdCBuZXh0ID0gY29tcHV0ZWQoKCkgPT4gc3RlcE5hbWVzLnZhbHVlW2luZGV4LnZhbHVlICsgMV0pO1xuICBjb25zdCBwcmV2aW91cyA9IGNvbXB1dGVkKCgpID0+IHN0ZXBOYW1lcy52YWx1ZVtpbmRleC52YWx1ZSAtIDFdKTtcbiAgZnVuY3Rpb24gYXQoaW5kZXgyKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3RlcHNSZWYudmFsdWUpKVxuICAgICAgcmV0dXJuIHN0ZXBzUmVmLnZhbHVlW2luZGV4Ml07XG4gICAgcmV0dXJuIHN0ZXBzUmVmLnZhbHVlW3N0ZXBOYW1lcy52YWx1ZVtpbmRleDJdXTtcbiAgfVxuICBmdW5jdGlvbiBnZXQoc3RlcCkge1xuICAgIGlmICghc3RlcE5hbWVzLnZhbHVlLmluY2x1ZGVzKHN0ZXApKVxuICAgICAgcmV0dXJuO1xuICAgIHJldHVybiBhdChzdGVwTmFtZXMudmFsdWUuaW5kZXhPZihzdGVwKSk7XG4gIH1cbiAgZnVuY3Rpb24gZ29UbyhzdGVwKSB7XG4gICAgaWYgKHN0ZXBOYW1lcy52YWx1ZS5pbmNsdWRlcyhzdGVwKSlcbiAgICAgIGluZGV4LnZhbHVlID0gc3RlcE5hbWVzLnZhbHVlLmluZGV4T2Yoc3RlcCk7XG4gIH1cbiAgZnVuY3Rpb24gZ29Ub05leHQoKSB7XG4gICAgaWYgKGlzTGFzdC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpbmRleC52YWx1ZSsrO1xuICB9XG4gIGZ1bmN0aW9uIGdvVG9QcmV2aW91cygpIHtcbiAgICBpZiAoaXNGaXJzdC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpbmRleC52YWx1ZS0tO1xuICB9XG4gIGZ1bmN0aW9uIGdvQmFja1RvKHN0ZXApIHtcbiAgICBpZiAoaXNBZnRlcihzdGVwKSlcbiAgICAgIGdvVG8oc3RlcCk7XG4gIH1cbiAgZnVuY3Rpb24gaXNOZXh0KHN0ZXApIHtcbiAgICByZXR1cm4gc3RlcE5hbWVzLnZhbHVlLmluZGV4T2Yoc3RlcCkgPT09IGluZGV4LnZhbHVlICsgMTtcbiAgfVxuICBmdW5jdGlvbiBpc1ByZXZpb3VzKHN0ZXApIHtcbiAgICByZXR1cm4gc3RlcE5hbWVzLnZhbHVlLmluZGV4T2Yoc3RlcCkgPT09IGluZGV4LnZhbHVlIC0gMTtcbiAgfVxuICBmdW5jdGlvbiBpc0N1cnJlbnQoc3RlcCkge1xuICAgIHJldHVybiBzdGVwTmFtZXMudmFsdWUuaW5kZXhPZihzdGVwKSA9PT0gaW5kZXgudmFsdWU7XG4gIH1cbiAgZnVuY3Rpb24gaXNCZWZvcmUoc3RlcCkge1xuICAgIHJldHVybiBpbmRleC52YWx1ZSA8IHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApO1xuICB9XG4gIGZ1bmN0aW9uIGlzQWZ0ZXIoc3RlcCkge1xuICAgIHJldHVybiBpbmRleC52YWx1ZSA+IHN0ZXBOYW1lcy52YWx1ZS5pbmRleE9mKHN0ZXApO1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RlcHM6IHN0ZXBzUmVmLFxuICAgIHN0ZXBOYW1lcyxcbiAgICBpbmRleCxcbiAgICBjdXJyZW50LFxuICAgIG5leHQsXG4gICAgcHJldmlvdXMsXG4gICAgaXNGaXJzdCxcbiAgICBpc0xhc3QsXG4gICAgYXQsXG4gICAgZ2V0LFxuICAgIGdvVG8sXG4gICAgZ29Ub05leHQsXG4gICAgZ29Ub1ByZXZpb3VzLFxuICAgIGdvQmFja1RvLFxuICAgIGlzTmV4dCxcbiAgICBpc1ByZXZpb3VzLFxuICAgIGlzQ3VycmVudCxcbiAgICBpc0JlZm9yZSxcbiAgICBpc0FmdGVyXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVN0b3JhZ2VBc3luYyhrZXksIGluaXRpYWxWYWx1ZSwgc3RvcmFnZSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIGZsdXNoID0gXCJwcmVcIixcbiAgICBkZWVwID0gdHJ1ZSxcbiAgICBsaXN0ZW5Ub1N0b3JhZ2VDaGFuZ2VzID0gdHJ1ZSxcbiAgICB3cml0ZURlZmF1bHRzID0gdHJ1ZSxcbiAgICBtZXJnZURlZmF1bHRzID0gZmFsc2UsXG4gICAgc2hhbGxvdyxcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGV2ZW50RmlsdGVyLFxuICAgIG9uRXJyb3IgPSAoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByYXdJbml0ID0gdG9WYWx1ZShpbml0aWFsVmFsdWUpO1xuICBjb25zdCB0eXBlID0gZ3Vlc3NTZXJpYWxpemVyVHlwZShyYXdJbml0KTtcbiAgY29uc3QgZGF0YSA9IChzaGFsbG93ID8gc2hhbGxvd1JlZiA6IHJlZikodG9WYWx1ZShpbml0aWFsVmFsdWUpKTtcbiAgY29uc3Qgc2VyaWFsaXplciA9IChfYSA9IG9wdGlvbnMuc2VyaWFsaXplcikgIT0gbnVsbCA/IF9hIDogU3RvcmFnZVNlcmlhbGl6ZXJzW3R5cGVdO1xuICBpZiAoIXN0b3JhZ2UpIHtcbiAgICB0cnkge1xuICAgICAgc3RvcmFnZSA9IGdldFNTUkhhbmRsZXIoXCJnZXREZWZhdWx0U3RvcmFnZUFzeW5jXCIsICgpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgcmV0dXJuIChfYTIgPSBkZWZhdWx0V2luZG93KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmxvY2FsU3RvcmFnZTtcbiAgICAgIH0pKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgb25FcnJvcihlKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcmVhZChldmVudCkge1xuICAgIGlmICghc3RvcmFnZSB8fCBldmVudCAmJiBldmVudC5rZXkgIT09IGtleSlcbiAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmF3VmFsdWUgPSBldmVudCA/IGV2ZW50Lm5ld1ZhbHVlIDogYXdhaXQgc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAocmF3VmFsdWUgPT0gbnVsbCkge1xuICAgICAgICBkYXRhLnZhbHVlID0gcmF3SW5pdDtcbiAgICAgICAgaWYgKHdyaXRlRGVmYXVsdHMgJiYgcmF3SW5pdCAhPT0gbnVsbClcbiAgICAgICAgICBhd2FpdCBzdG9yYWdlLnNldEl0ZW0oa2V5LCBhd2FpdCBzZXJpYWxpemVyLndyaXRlKHJhd0luaXQpKTtcbiAgICAgIH0gZWxzZSBpZiAobWVyZ2VEZWZhdWx0cykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHNlcmlhbGl6ZXIucmVhZChyYXdWYWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgbWVyZ2VEZWZhdWx0cyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgIGRhdGEudmFsdWUgPSBtZXJnZURlZmF1bHRzKHZhbHVlLCByYXdJbml0KTtcbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAgICAgICAgZGF0YS52YWx1ZSA9IHsgLi4ucmF3SW5pdCwgLi4udmFsdWUgfTtcbiAgICAgICAgZWxzZSBkYXRhLnZhbHVlID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhLnZhbHVlID0gYXdhaXQgc2VyaWFsaXplci5yZWFkKHJhd1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvbkVycm9yKGUpO1xuICAgIH1cbiAgfVxuICByZWFkKCk7XG4gIGlmICh3aW5kb3cgJiYgbGlzdGVuVG9TdG9yYWdlQ2hhbmdlcylcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJzdG9yYWdlXCIsIChlKSA9PiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHJlYWQoZSkpLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIGlmIChzdG9yYWdlKSB7XG4gICAgd2F0Y2hXaXRoRmlsdGVyKFxuICAgICAgZGF0YSxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoZGF0YS52YWx1ZSA9PSBudWxsKVxuICAgICAgICAgICAgYXdhaXQgc3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYXdhaXQgc3RvcmFnZS5zZXRJdGVtKGtleSwgYXdhaXQgc2VyaWFsaXplci53cml0ZShkYXRhLnZhbHVlKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBmbHVzaCxcbiAgICAgICAgZGVlcCxcbiAgICAgICAgZXZlbnRGaWx0ZXJcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5sZXQgX2lkID0gMDtcbmZ1bmN0aW9uIHVzZVN0eWxlVGFnKGNzcywgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IGlzTG9hZGVkID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IHtcbiAgICBkb2N1bWVudCA9IGRlZmF1bHREb2N1bWVudCxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIG1hbnVhbCA9IGZhbHNlLFxuICAgIGlkID0gYHZ1ZXVzZV9zdHlsZXRhZ18keysrX2lkfWBcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGNzc1JlZiA9IHNoYWxsb3dSZWYoY3NzKTtcbiAgbGV0IHN0b3AgPSAoKSA9PiB7XG4gIH07XG4gIGNvbnN0IGxvYWQgPSAoKSA9PiB7XG4gICAgaWYgKCFkb2N1bWVudClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgaWYgKCFlbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgZWwuaWQgPSBpZDtcbiAgICAgIGlmIChvcHRpb25zLm5vbmNlKVxuICAgICAgICBlbC5ub25jZSA9IG9wdGlvbnMubm9uY2U7XG4gICAgICBpZiAob3B0aW9ucy5tZWRpYSlcbiAgICAgICAgZWwubWVkaWEgPSBvcHRpb25zLm1lZGlhO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICAgIGlmIChpc0xvYWRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdG9wID0gd2F0Y2goXG4gICAgICBjc3NSZWYsXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgIH0sXG4gICAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICAgKTtcbiAgICBpc0xvYWRlZC52YWx1ZSA9IHRydWU7XG4gIH07XG4gIGNvbnN0IHVubG9hZCA9ICgpID0+IHtcbiAgICBpZiAoIWRvY3VtZW50IHx8ICFpc0xvYWRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBzdG9wKCk7XG4gICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpO1xuICAgIGlzTG9hZGVkLnZhbHVlID0gZmFsc2U7XG4gIH07XG4gIGlmIChpbW1lZGlhdGUgJiYgIW1hbnVhbClcbiAgICB0cnlPbk1vdW50ZWQobG9hZCk7XG4gIGlmICghbWFudWFsKVxuICAgIHRyeU9uU2NvcGVEaXNwb3NlKHVubG9hZCk7XG4gIHJldHVybiB7XG4gICAgaWQsXG4gICAgY3NzOiBjc3NSZWYsXG4gICAgdW5sb2FkLFxuICAgIGxvYWQsXG4gICAgaXNMb2FkZWQ6IHJlYWRvbmx5KGlzTG9hZGVkKVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VTd2lwZSh0YXJnZXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgdGhyZXNob2xkID0gNTAsXG4gICAgb25Td2lwZSxcbiAgICBvblN3aXBlRW5kLFxuICAgIG9uU3dpcGVTdGFydCxcbiAgICBwYXNzaXZlID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY29vcmRzU3RhcnQgPSByZWFjdGl2ZSh7IHg6IDAsIHk6IDAgfSk7XG4gIGNvbnN0IGNvb3Jkc0VuZCA9IHJlYWN0aXZlKHsgeDogMCwgeTogMCB9KTtcbiAgY29uc3QgZGlmZlggPSBjb21wdXRlZCgoKSA9PiBjb29yZHNTdGFydC54IC0gY29vcmRzRW5kLngpO1xuICBjb25zdCBkaWZmWSA9IGNvbXB1dGVkKCgpID0+IGNvb3Jkc1N0YXJ0LnkgLSBjb29yZHNFbmQueSk7XG4gIGNvbnN0IHsgbWF4LCBhYnMgfSA9IE1hdGg7XG4gIGNvbnN0IGlzVGhyZXNob2xkRXhjZWVkZWQgPSBjb21wdXRlZCgoKSA9PiBtYXgoYWJzKGRpZmZYLnZhbHVlKSwgYWJzKGRpZmZZLnZhbHVlKSkgPj0gdGhyZXNob2xkKTtcbiAgY29uc3QgaXNTd2lwaW5nID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGNvbnN0IGRpcmVjdGlvbiA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICBpZiAoIWlzVGhyZXNob2xkRXhjZWVkZWQudmFsdWUpXG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgaWYgKGFicyhkaWZmWC52YWx1ZSkgPiBhYnMoZGlmZlkudmFsdWUpKSB7XG4gICAgICByZXR1cm4gZGlmZlgudmFsdWUgPiAwID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkaWZmWS52YWx1ZSA+IDAgPyBcInVwXCIgOiBcImRvd25cIjtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBnZXRUb3VjaEV2ZW50Q29vcmRzID0gKGUpID0+IFtlLnRvdWNoZXNbMF0uY2xpZW50WCwgZS50b3VjaGVzWzBdLmNsaWVudFldO1xuICBjb25zdCB1cGRhdGVDb29yZHNTdGFydCA9ICh4LCB5KSA9PiB7XG4gICAgY29vcmRzU3RhcnQueCA9IHg7XG4gICAgY29vcmRzU3RhcnQueSA9IHk7XG4gIH07XG4gIGNvbnN0IHVwZGF0ZUNvb3Jkc0VuZCA9ICh4LCB5KSA9PiB7XG4gICAgY29vcmRzRW5kLnggPSB4O1xuICAgIGNvb3Jkc0VuZC55ID0geTtcbiAgfTtcbiAgY29uc3QgbGlzdGVuZXJPcHRpb25zID0geyBwYXNzaXZlLCBjYXB0dXJlOiAhcGFzc2l2ZSB9O1xuICBjb25zdCBvblRvdWNoRW5kID0gKGUpID0+IHtcbiAgICBpZiAoaXNTd2lwaW5nLnZhbHVlKVxuICAgICAgb25Td2lwZUVuZCA9PSBudWxsID8gdm9pZCAwIDogb25Td2lwZUVuZChlLCBkaXJlY3Rpb24udmFsdWUpO1xuICAgIGlzU3dpcGluZy52YWx1ZSA9IGZhbHNlO1xuICB9O1xuICBjb25zdCBzdG9wcyA9IFtcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJ0b3VjaHN0YXJ0XCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCAhPT0gMSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgW3gsIHldID0gZ2V0VG91Y2hFdmVudENvb3JkcyhlKTtcbiAgICAgIHVwZGF0ZUNvb3Jkc1N0YXJ0KHgsIHkpO1xuICAgICAgdXBkYXRlQ29vcmRzRW5kKHgsIHkpO1xuICAgICAgb25Td2lwZVN0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlU3RhcnQoZSk7XG4gICAgfSwgbGlzdGVuZXJPcHRpb25zKSxcbiAgICB1c2VFdmVudExpc3RlbmVyKHRhcmdldCwgXCJ0b3VjaG1vdmVcIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9PSAxKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBbeCwgeV0gPSBnZXRUb3VjaEV2ZW50Q29vcmRzKGUpO1xuICAgICAgdXBkYXRlQ29vcmRzRW5kKHgsIHkpO1xuICAgICAgaWYgKGxpc3RlbmVyT3B0aW9ucy5jYXB0dXJlICYmICFsaXN0ZW5lck9wdGlvbnMucGFzc2l2ZSAmJiBNYXRoLmFicyhkaWZmWC52YWx1ZSkgPiBNYXRoLmFicyhkaWZmWS52YWx1ZSkpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghaXNTd2lwaW5nLnZhbHVlICYmIGlzVGhyZXNob2xkRXhjZWVkZWQudmFsdWUpXG4gICAgICAgIGlzU3dpcGluZy52YWx1ZSA9IHRydWU7XG4gICAgICBpZiAoaXNTd2lwaW5nLnZhbHVlKVxuICAgICAgICBvblN3aXBlID09IG51bGwgPyB2b2lkIDAgOiBvblN3aXBlKGUpO1xuICAgIH0sIGxpc3RlbmVyT3B0aW9ucyksXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih0YXJnZXQsIFtcInRvdWNoZW5kXCIsIFwidG91Y2hjYW5jZWxcIl0sIG9uVG91Y2hFbmQsIGxpc3RlbmVyT3B0aW9ucylcbiAgXTtcbiAgY29uc3Qgc3RvcCA9ICgpID0+IHN0b3BzLmZvckVhY2goKHMpID0+IHMoKSk7XG4gIHJldHVybiB7XG4gICAgaXNTd2lwaW5nLFxuICAgIGRpcmVjdGlvbixcbiAgICBjb29yZHNTdGFydCxcbiAgICBjb29yZHNFbmQsXG4gICAgbGVuZ3RoWDogZGlmZlgsXG4gICAgbGVuZ3RoWTogZGlmZlksXG4gICAgc3RvcCxcbiAgICAvLyBUT0RPOiBSZW1vdmUgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvblxuICAgIGlzUGFzc2l2ZUV2ZW50U3VwcG9ydGVkOiB0cnVlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRlbXBsYXRlUmVmc0xpc3QoKSB7XG4gIGNvbnN0IHJlZnMgPSByZWYoW10pO1xuICByZWZzLnZhbHVlLnNldCA9IChlbCkgPT4ge1xuICAgIGlmIChlbClcbiAgICAgIHJlZnMudmFsdWUucHVzaChlbCk7XG4gIH07XG4gIG9uQmVmb3JlVXBkYXRlKCgpID0+IHtcbiAgICByZWZzLnZhbHVlLmxlbmd0aCA9IDA7XG4gIH0pO1xuICByZXR1cm4gcmVmcztcbn1cblxuZnVuY3Rpb24gdXNlVGV4dERpcmVjdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGRvY3VtZW50ID0gZGVmYXVsdERvY3VtZW50LFxuICAgIHNlbGVjdG9yID0gXCJodG1sXCIsXG4gICAgb2JzZXJ2ZSA9IGZhbHNlLFxuICAgIGluaXRpYWxWYWx1ZSA9IFwibHRyXCJcbiAgfSA9IG9wdGlvbnM7XG4gIGZ1bmN0aW9uIGdldFZhbHVlKCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmdldEF0dHJpYnV0ZShcImRpclwiKSkgIT0gbnVsbCA/IF9iIDogaW5pdGlhbFZhbHVlO1xuICB9XG4gIGNvbnN0IGRpciA9IHJlZihnZXRWYWx1ZSgpKTtcbiAgdHJ5T25Nb3VudGVkKCgpID0+IGRpci52YWx1ZSA9IGdldFZhbHVlKCkpO1xuICBpZiAob2JzZXJ2ZSAmJiBkb2N1bWVudCkge1xuICAgIHVzZU11dGF0aW9uT2JzZXJ2ZXIoXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSxcbiAgICAgICgpID0+IGRpci52YWx1ZSA9IGdldFZhbHVlKCksXG4gICAgICB7IGF0dHJpYnV0ZXM6IHRydWUgfVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gZGlyLnZhbHVlO1xuICAgIH0sXG4gICAgc2V0KHYpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBkaXIudmFsdWUgPSB2O1xuICAgICAgaWYgKCFkb2N1bWVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKGRpci52YWx1ZSlcbiAgICAgICAgKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zZXRBdHRyaWJ1dGUoXCJkaXJcIiwgZGlyLnZhbHVlKTtcbiAgICAgIGVsc2VcbiAgICAgICAgKF9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpID09IG51bGwgPyB2b2lkIDAgOiBfYi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIik7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZ2VzRnJvbVNlbGVjdGlvbihzZWxlY3Rpb24pIHtcbiAgdmFyIF9hO1xuICBjb25zdCByYW5nZUNvdW50ID0gKF9hID0gc2VsZWN0aW9uLnJhbmdlQ291bnQpICE9IG51bGwgPyBfYSA6IDA7XG4gIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiByYW5nZUNvdW50IH0sIChfLCBpKSA9PiBzZWxlY3Rpb24uZ2V0UmFuZ2VBdChpKSk7XG59XG5mdW5jdGlvbiB1c2VUZXh0U2VsZWN0aW9uKG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3Qgc2VsZWN0aW9uID0gcmVmKG51bGwpO1xuICBjb25zdCB0ZXh0ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IHNlbGVjdGlvbi52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRvU3RyaW5nKCkpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gIH0pO1xuICBjb25zdCByYW5nZXMgPSBjb21wdXRlZCgoKSA9PiBzZWxlY3Rpb24udmFsdWUgPyBnZXRSYW5nZXNGcm9tU2VsZWN0aW9uKHNlbGVjdGlvbi52YWx1ZSkgOiBbXSk7XG4gIGNvbnN0IHJlY3RzID0gY29tcHV0ZWQoKCkgPT4gcmFuZ2VzLnZhbHVlLm1hcCgocmFuZ2UpID0+IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSk7XG4gIGZ1bmN0aW9uIG9uU2VsZWN0aW9uQ2hhbmdlKCkge1xuICAgIHNlbGVjdGlvbi52YWx1ZSA9IG51bGw7XG4gICAgaWYgKHdpbmRvdylcbiAgICAgIHNlbGVjdGlvbi52YWx1ZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgfVxuICBpZiAod2luZG93KVxuICAgIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LmRvY3VtZW50LCBcInNlbGVjdGlvbmNoYW5nZVwiLCBvblNlbGVjdGlvbkNoYW5nZSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICByZXR1cm4ge1xuICAgIHRleHQsXG4gICAgcmVjdHMsXG4gICAgcmFuZ2VzLFxuICAgIHNlbGVjdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiB0cnlSZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2luZG93ID0gZGVmYXVsdFdpbmRvdywgZm4pIHtcbiAgaWYgKHdpbmRvdyAmJiB0eXBlb2Ygd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gIH0gZWxzZSB7XG4gICAgZm4oKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlVGV4dGFyZWFBdXRvc2l6ZShvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93IH0gPSBvcHRpb25zO1xuICBjb25zdCB0ZXh0YXJlYSA9IHRvUmVmKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZWxlbWVudCk7XG4gIGNvbnN0IGlucHV0ID0gdG9SZWYoKF9hID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbnB1dCkgIT0gbnVsbCA/IF9hIDogXCJcIik7XG4gIGNvbnN0IHN0eWxlUHJvcCA9IChfYiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc3R5bGVQcm9wKSAhPSBudWxsID8gX2IgOiBcImhlaWdodFwiO1xuICBjb25zdCB0ZXh0YXJlYVNjcm9sbEhlaWdodCA9IHNoYWxsb3dSZWYoMSk7XG4gIGNvbnN0IHRleHRhcmVhT2xkV2lkdGggPSBzaGFsbG93UmVmKDApO1xuICBmdW5jdGlvbiB0cmlnZ2VyUmVzaXplKCkge1xuICAgIHZhciBfYTI7XG4gICAgaWYgKCF0ZXh0YXJlYS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBsZXQgaGVpZ2h0ID0gXCJcIjtcbiAgICB0ZXh0YXJlYS52YWx1ZS5zdHlsZVtzdHlsZVByb3BdID0gXCIxcHhcIjtcbiAgICB0ZXh0YXJlYVNjcm9sbEhlaWdodC52YWx1ZSA9IChfYTIgPSB0ZXh0YXJlYS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5zY3JvbGxIZWlnaHQ7XG4gICAgY29uc3QgX3N0eWxlVGFyZ2V0ID0gdG9WYWx1ZShvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnN0eWxlVGFyZ2V0KTtcbiAgICBpZiAoX3N0eWxlVGFyZ2V0KVxuICAgICAgX3N0eWxlVGFyZ2V0LnN0eWxlW3N0eWxlUHJvcF0gPSBgJHt0ZXh0YXJlYVNjcm9sbEhlaWdodC52YWx1ZX1weGA7XG4gICAgZWxzZVxuICAgICAgaGVpZ2h0ID0gYCR7dGV4dGFyZWFTY3JvbGxIZWlnaHQudmFsdWV9cHhgO1xuICAgIHRleHRhcmVhLnZhbHVlLnN0eWxlW3N0eWxlUHJvcF0gPSBoZWlnaHQ7XG4gIH1cbiAgd2F0Y2goW2lucHV0LCB0ZXh0YXJlYV0sICgpID0+IG5leHRUaWNrKHRyaWdnZXJSZXNpemUpLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KTtcbiAgd2F0Y2godGV4dGFyZWFTY3JvbGxIZWlnaHQsICgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5vblJlc2l6ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG9wdGlvbnMpO1xuICB9KTtcbiAgdXNlUmVzaXplT2JzZXJ2ZXIodGV4dGFyZWEsIChbeyBjb250ZW50UmVjdCB9XSkgPT4ge1xuICAgIGlmICh0ZXh0YXJlYU9sZFdpZHRoLnZhbHVlID09PSBjb250ZW50UmVjdC53aWR0aClcbiAgICAgIHJldHVybjtcbiAgICB0cnlSZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2luZG93LCAoKSA9PiB7XG4gICAgICB0ZXh0YXJlYU9sZFdpZHRoLnZhbHVlID0gY29udGVudFJlY3Qud2lkdGg7XG4gICAgICB0cmlnZ2VyUmVzaXplKCk7XG4gICAgfSk7XG4gIH0pO1xuICBpZiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy53YXRjaClcbiAgICB3YXRjaChvcHRpb25zLndhdGNoLCB0cmlnZ2VyUmVzaXplLCB7IGltbWVkaWF0ZTogdHJ1ZSwgZGVlcDogdHJ1ZSB9KTtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0YXJlYSxcbiAgICBpbnB1dCxcbiAgICB0cmlnZ2VyUmVzaXplXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVRocm90dGxlZFJlZkhpc3Rvcnkoc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB0aHJvdHRsZSA9IDIwMCwgdHJhaWxpbmcgPSB0cnVlIH0gPSBvcHRpb25zO1xuICBjb25zdCBmaWx0ZXIgPSB0aHJvdHRsZUZpbHRlcih0aHJvdHRsZSwgdHJhaWxpbmcpO1xuICBjb25zdCBoaXN0b3J5ID0gdXNlUmVmSGlzdG9yeShzb3VyY2UsIHsgLi4ub3B0aW9ucywgZXZlbnRGaWx0ZXI6IGZpbHRlciB9KTtcbiAgcmV0dXJuIHtcbiAgICAuLi5oaXN0b3J5XG4gIH07XG59XG5cbmNvbnN0IERFRkFVTFRfVU5JVFMgPSBbXG4gIHsgbWF4OiA2ZTQsIHZhbHVlOiAxZTMsIG5hbWU6IFwic2Vjb25kXCIgfSxcbiAgeyBtYXg6IDI3NmU0LCB2YWx1ZTogNmU0LCBuYW1lOiBcIm1pbnV0ZVwiIH0sXG4gIHsgbWF4OiA3MmU2LCB2YWx1ZTogMzZlNSwgbmFtZTogXCJob3VyXCIgfSxcbiAgeyBtYXg6IDUxODRlNSwgdmFsdWU6IDg2NGU1LCBuYW1lOiBcImRheVwiIH0sXG4gIHsgbWF4OiAyNDE5MmU1LCB2YWx1ZTogNjA0OGU1LCBuYW1lOiBcIndlZWtcIiB9LFxuICB7IG1heDogMjg1MTJlNiwgdmFsdWU6IDI1OTJlNiwgbmFtZTogXCJtb250aFwiIH0sXG4gIHsgbWF4OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHZhbHVlOiAzMTUzNmU2LCBuYW1lOiBcInllYXJcIiB9XG5dO1xuY29uc3QgREVGQVVMVF9NRVNTQUdFUyA9IHtcbiAganVzdE5vdzogXCJqdXN0IG5vd1wiLFxuICBwYXN0OiAobikgPT4gbi5tYXRjaCgvXFxkLykgPyBgJHtufSBhZ29gIDogbixcbiAgZnV0dXJlOiAobikgPT4gbi5tYXRjaCgvXFxkLykgPyBgaW4gJHtufWAgOiBuLFxuICBtb250aDogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJsYXN0IG1vbnRoXCIgOiBcIm5leHQgbW9udGhcIiA6IGAke259IG1vbnRoJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICB5ZWFyOiAobiwgcGFzdCkgPT4gbiA9PT0gMSA/IHBhc3QgPyBcImxhc3QgeWVhclwiIDogXCJuZXh0IHllYXJcIiA6IGAke259IHllYXIke24gPiAxID8gXCJzXCIgOiBcIlwifWAsXG4gIGRheTogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJ5ZXN0ZXJkYXlcIiA6IFwidG9tb3Jyb3dcIiA6IGAke259IGRheSR7biA+IDEgPyBcInNcIiA6IFwiXCJ9YCxcbiAgd2VlazogKG4sIHBhc3QpID0+IG4gPT09IDEgPyBwYXN0ID8gXCJsYXN0IHdlZWtcIiA6IFwibmV4dCB3ZWVrXCIgOiBgJHtufSB3ZWVrJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICBob3VyOiAobikgPT4gYCR7bn0gaG91ciR7biA+IDEgPyBcInNcIiA6IFwiXCJ9YCxcbiAgbWludXRlOiAobikgPT4gYCR7bn0gbWludXRlJHtuID4gMSA/IFwic1wiIDogXCJcIn1gLFxuICBzZWNvbmQ6IChuKSA9PiBgJHtufSBzZWNvbmQke24gPiAxID8gXCJzXCIgOiBcIlwifWAsXG4gIGludmFsaWQ6IFwiXCJcbn07XG5mdW5jdGlvbiBERUZBVUxUX0ZPUk1BVFRFUihkYXRlKSB7XG4gIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApO1xufVxuZnVuY3Rpb24gdXNlVGltZUFnbyh0aW1lLCBvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIGNvbnRyb2xzOiBleHBvc2VDb250cm9scyA9IGZhbHNlLFxuICAgIHVwZGF0ZUludGVydmFsID0gM2U0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB7IG5vdywgLi4uY29udHJvbHMgfSA9IHVzZU5vdyh7IGludGVydmFsOiB1cGRhdGVJbnRlcnZhbCwgY29udHJvbHM6IHRydWUgfSk7XG4gIGNvbnN0IHRpbWVBZ28gPSBjb21wdXRlZCgoKSA9PiBmb3JtYXRUaW1lQWdvKG5ldyBEYXRlKHRvVmFsdWUodGltZSkpLCBvcHRpb25zLCB0b1ZhbHVlKG5vdykpKTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVBZ28sXG4gICAgICAuLi5jb250cm9sc1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRpbWVBZ287XG4gIH1cbn1cbmZ1bmN0aW9uIGZvcm1hdFRpbWVBZ28oZnJvbSwgb3B0aW9ucyA9IHt9LCBub3cgPSBEYXRlLm5vdygpKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIG1heCxcbiAgICBtZXNzYWdlcyA9IERFRkFVTFRfTUVTU0FHRVMsXG4gICAgZnVsbERhdGVGb3JtYXR0ZXIgPSBERUZBVUxUX0ZPUk1BVFRFUixcbiAgICB1bml0cyA9IERFRkFVTFRfVU5JVFMsXG4gICAgc2hvd1NlY29uZCA9IGZhbHNlLFxuICAgIHJvdW5kaW5nID0gXCJyb3VuZFwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCByb3VuZEZuID0gdHlwZW9mIHJvdW5kaW5nID09PSBcIm51bWJlclwiID8gKG4pID0+ICtuLnRvRml4ZWQocm91bmRpbmcpIDogTWF0aFtyb3VuZGluZ107XG4gIGNvbnN0IGRpZmYgPSArbm93IC0gK2Zyb207XG4gIGNvbnN0IGFic0RpZmYgPSBNYXRoLmFicyhkaWZmKTtcbiAgZnVuY3Rpb24gZ2V0VmFsdWUoZGlmZjIsIHVuaXQpIHtcbiAgICByZXR1cm4gcm91bmRGbihNYXRoLmFicyhkaWZmMikgLyB1bml0LnZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBmb3JtYXQoZGlmZjIsIHVuaXQpIHtcbiAgICBjb25zdCB2YWwgPSBnZXRWYWx1ZShkaWZmMiwgdW5pdCk7XG4gICAgY29uc3QgcGFzdCA9IGRpZmYyID4gMDtcbiAgICBjb25zdCBzdHIgPSBhcHBseUZvcm1hdCh1bml0Lm5hbWUsIHZhbCwgcGFzdCk7XG4gICAgcmV0dXJuIGFwcGx5Rm9ybWF0KHBhc3QgPyBcInBhc3RcIiA6IFwiZnV0dXJlXCIsIHN0ciwgcGFzdCk7XG4gIH1cbiAgZnVuY3Rpb24gYXBwbHlGb3JtYXQobmFtZSwgdmFsLCBpc1Bhc3QpIHtcbiAgICBjb25zdCBmb3JtYXR0ZXIgPSBtZXNzYWdlc1tuYW1lXTtcbiAgICBpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgcmV0dXJuIGZvcm1hdHRlcih2YWwsIGlzUGFzdCk7XG4gICAgcmV0dXJuIGZvcm1hdHRlci5yZXBsYWNlKFwiezB9XCIsIHZhbC50b1N0cmluZygpKTtcbiAgfVxuICBpZiAoYWJzRGlmZiA8IDZlNCAmJiAhc2hvd1NlY29uZClcbiAgICByZXR1cm4gbWVzc2FnZXMuanVzdE5vdztcbiAgaWYgKHR5cGVvZiBtYXggPT09IFwibnVtYmVyXCIgJiYgYWJzRGlmZiA+IG1heClcbiAgICByZXR1cm4gZnVsbERhdGVGb3JtYXR0ZXIobmV3IERhdGUoZnJvbSkpO1xuICBpZiAodHlwZW9mIG1heCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHVuaXRNYXggPSAoX2EgPSB1bml0cy5maW5kKChpKSA9PiBpLm5hbWUgPT09IG1heCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tYXg7XG4gICAgaWYgKHVuaXRNYXggJiYgYWJzRGlmZiA+IHVuaXRNYXgpXG4gICAgICByZXR1cm4gZnVsbERhdGVGb3JtYXR0ZXIobmV3IERhdGUoZnJvbSkpO1xuICB9XG4gIGZvciAoY29uc3QgW2lkeCwgdW5pdF0gb2YgdW5pdHMuZW50cmllcygpKSB7XG4gICAgY29uc3QgdmFsID0gZ2V0VmFsdWUoZGlmZiwgdW5pdCk7XG4gICAgaWYgKHZhbCA8PSAwICYmIHVuaXRzW2lkeCAtIDFdKVxuICAgICAgcmV0dXJuIGZvcm1hdChkaWZmLCB1bml0c1tpZHggLSAxXSk7XG4gICAgaWYgKGFic0RpZmYgPCB1bml0Lm1heClcbiAgICAgIHJldHVybiBmb3JtYXQoZGlmZiwgdW5pdCk7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2VzLmludmFsaWQ7XG59XG5cbmZ1bmN0aW9uIHVzZVRpbWVvdXRQb2xsKGZuLCBpbnRlcnZhbCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGltbWVkaWF0ZUNhbGxiYWNrID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHsgc3RhcnQgfSA9IHVzZVRpbWVvdXRGbihsb29wLCBpbnRlcnZhbCwgeyBpbW1lZGlhdGUgfSk7XG4gIGNvbnN0IGlzQWN0aXZlID0gc2hhbGxvd1JlZihmYWxzZSk7XG4gIGFzeW5jIGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgaWYgKCFpc0FjdGl2ZS52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBhd2FpdCBmbigpO1xuICAgIHN0YXJ0KCk7XG4gIH1cbiAgZnVuY3Rpb24gcmVzdW1lKCkge1xuICAgIGlmICghaXNBY3RpdmUudmFsdWUpIHtcbiAgICAgIGlzQWN0aXZlLnZhbHVlID0gdHJ1ZTtcbiAgICAgIGlmIChpbW1lZGlhdGVDYWxsYmFjaylcbiAgICAgICAgZm4oKTtcbiAgICAgIHN0YXJ0KCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlzQWN0aXZlLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgaWYgKGltbWVkaWF0ZSAmJiBpc0NsaWVudClcbiAgICByZXN1bWUoKTtcbiAgdHJ5T25TY29wZURpc3Bvc2UocGF1c2UpO1xuICByZXR1cm4ge1xuICAgIGlzQWN0aXZlLFxuICAgIHBhdXNlLFxuICAgIHJlc3VtZVxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VUaW1lc3RhbXAob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBjb250cm9sczogZXhwb3NlQ29udHJvbHMgPSBmYWxzZSxcbiAgICBvZmZzZXQgPSAwLFxuICAgIGltbWVkaWF0ZSA9IHRydWUsXG4gICAgaW50ZXJ2YWwgPSBcInJlcXVlc3RBbmltYXRpb25GcmFtZVwiLFxuICAgIGNhbGxiYWNrXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB0cyA9IHNoYWxsb3dSZWYodGltZXN0YW1wKCkgKyBvZmZzZXQpO1xuICBjb25zdCB1cGRhdGUgPSAoKSA9PiB0cy52YWx1ZSA9IHRpbWVzdGFtcCgpICsgb2Zmc2V0O1xuICBjb25zdCBjYiA9IGNhbGxiYWNrID8gKCkgPT4ge1xuICAgIHVwZGF0ZSgpO1xuICAgIGNhbGxiYWNrKHRzLnZhbHVlKTtcbiAgfSA6IHVwZGF0ZTtcbiAgY29uc3QgY29udHJvbHMgPSBpbnRlcnZhbCA9PT0gXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIiA/IHVzZVJhZkZuKGNiLCB7IGltbWVkaWF0ZSB9KSA6IHVzZUludGVydmFsRm4oY2IsIGludGVydmFsLCB7IGltbWVkaWF0ZSB9KTtcbiAgaWYgKGV4cG9zZUNvbnRyb2xzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWVzdGFtcDogdHMsXG4gICAgICAuLi5jb250cm9sc1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRzO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVRpdGxlKG5ld1RpdGxlID0gbnVsbCwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCB7XG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnQsXG4gICAgcmVzdG9yZU9uVW5tb3VudCA9ICh0KSA9PiB0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBvcmlnaW5hbFRpdGxlID0gKF9hID0gZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LnRpdGxlKSAhPSBudWxsID8gX2EgOiBcIlwiO1xuICBjb25zdCB0aXRsZSA9IHRvUmVmKChfYiA9IG5ld1RpdGxlICE9IG51bGwgPyBuZXdUaXRsZSA6IGRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBkb2N1bWVudC50aXRsZSkgIT0gbnVsbCA/IF9iIDogbnVsbCk7XG4gIGNvbnN0IGlzUmVhZG9ubHkgPSAhIShuZXdUaXRsZSAmJiB0eXBlb2YgbmV3VGl0bGUgPT09IFwiZnVuY3Rpb25cIik7XG4gIGZ1bmN0aW9uIGZvcm1hdCh0KSB7XG4gICAgaWYgKCEoXCJ0aXRsZVRlbXBsYXRlXCIgaW4gb3B0aW9ucykpXG4gICAgICByZXR1cm4gdDtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IG9wdGlvbnMudGl0bGVUZW1wbGF0ZSB8fCBcIiVzXCI7XG4gICAgcmV0dXJuIHR5cGVvZiB0ZW1wbGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gdGVtcGxhdGUodCkgOiB0b1ZhbHVlKHRlbXBsYXRlKS5yZXBsYWNlKC8lcy9nLCB0KTtcbiAgfVxuICB3YXRjaChcbiAgICB0aXRsZSxcbiAgICAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmIGRvY3VtZW50KVxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IGZvcm1hdChuZXdWYWx1ZSAhPSBudWxsID8gbmV3VmFsdWUgOiBcIlwiKTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgaWYgKG9wdGlvbnMub2JzZXJ2ZSAmJiAhb3B0aW9ucy50aXRsZVRlbXBsYXRlICYmIGRvY3VtZW50ICYmICFpc1JlYWRvbmx5KSB7XG4gICAgdXNlTXV0YXRpb25PYnNlcnZlcihcbiAgICAgIChfYyA9IGRvY3VtZW50LmhlYWQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5xdWVyeVNlbGVjdG9yKFwidGl0bGVcIiksXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudCAmJiBkb2N1bWVudC50aXRsZSAhPT0gdGl0bGUudmFsdWUpXG4gICAgICAgICAgdGl0bGUudmFsdWUgPSBmb3JtYXQoZG9jdW1lbnQudGl0bGUpO1xuICAgICAgfSxcbiAgICAgIHsgY2hpbGRMaXN0OiB0cnVlIH1cbiAgICApO1xuICB9XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBpZiAocmVzdG9yZU9uVW5tb3VudCkge1xuICAgICAgY29uc3QgcmVzdG9yZWRUaXRsZSA9IHJlc3RvcmVPblVubW91bnQob3JpZ2luYWxUaXRsZSwgdGl0bGUudmFsdWUgfHwgXCJcIik7XG4gICAgICBpZiAocmVzdG9yZWRUaXRsZSAhPSBudWxsICYmIGRvY3VtZW50KVxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IHJlc3RvcmVkVGl0bGU7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRpdGxlO1xufVxuXG5jb25zdCBfVHJhbnNpdGlvblByZXNldHMgPSB7XG4gIGVhc2VJblNpbmU6IFswLjEyLCAwLCAwLjM5LCAwXSxcbiAgZWFzZU91dFNpbmU6IFswLjYxLCAxLCAwLjg4LCAxXSxcbiAgZWFzZUluT3V0U2luZTogWzAuMzcsIDAsIDAuNjMsIDFdLFxuICBlYXNlSW5RdWFkOiBbMC4xMSwgMCwgMC41LCAwXSxcbiAgZWFzZU91dFF1YWQ6IFswLjUsIDEsIDAuODksIDFdLFxuICBlYXNlSW5PdXRRdWFkOiBbMC40NSwgMCwgMC41NSwgMV0sXG4gIGVhc2VJbkN1YmljOiBbMC4zMiwgMCwgMC42NywgMF0sXG4gIGVhc2VPdXRDdWJpYzogWzAuMzMsIDEsIDAuNjgsIDFdLFxuICBlYXNlSW5PdXRDdWJpYzogWzAuNjUsIDAsIDAuMzUsIDFdLFxuICBlYXNlSW5RdWFydDogWzAuNSwgMCwgMC43NSwgMF0sXG4gIGVhc2VPdXRRdWFydDogWzAuMjUsIDEsIDAuNSwgMV0sXG4gIGVhc2VJbk91dFF1YXJ0OiBbMC43NiwgMCwgMC4yNCwgMV0sXG4gIGVhc2VJblF1aW50OiBbMC42NCwgMCwgMC43OCwgMF0sXG4gIGVhc2VPdXRRdWludDogWzAuMjIsIDEsIDAuMzYsIDFdLFxuICBlYXNlSW5PdXRRdWludDogWzAuODMsIDAsIDAuMTcsIDFdLFxuICBlYXNlSW5FeHBvOiBbMC43LCAwLCAwLjg0LCAwXSxcbiAgZWFzZU91dEV4cG86IFswLjE2LCAxLCAwLjMsIDFdLFxuICBlYXNlSW5PdXRFeHBvOiBbMC44NywgMCwgMC4xMywgMV0sXG4gIGVhc2VJbkNpcmM6IFswLjU1LCAwLCAxLCAwLjQ1XSxcbiAgZWFzZU91dENpcmM6IFswLCAwLjU1LCAwLjQ1LCAxXSxcbiAgZWFzZUluT3V0Q2lyYzogWzAuODUsIDAsIDAuMTUsIDFdLFxuICBlYXNlSW5CYWNrOiBbMC4zNiwgMCwgMC42NiwgLTAuNTZdLFxuICBlYXNlT3V0QmFjazogWzAuMzQsIDEuNTYsIDAuNjQsIDFdLFxuICBlYXNlSW5PdXRCYWNrOiBbMC42OCwgLTAuNiwgMC4zMiwgMS42XVxufTtcbmNvbnN0IFRyYW5zaXRpb25QcmVzZXRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5hc3NpZ24oe30sIHsgbGluZWFyOiBpZGVudGl0eSB9LCBfVHJhbnNpdGlvblByZXNldHMpO1xuZnVuY3Rpb24gY3JlYXRlRWFzaW5nRnVuY3Rpb24oW3AwLCBwMSwgcDIsIHAzXSkge1xuICBjb25zdCBhID0gKGExLCBhMikgPT4gMSAtIDMgKiBhMiArIDMgKiBhMTtcbiAgY29uc3QgYiA9IChhMSwgYTIpID0+IDMgKiBhMiAtIDYgKiBhMTtcbiAgY29uc3QgYyA9IChhMSkgPT4gMyAqIGExO1xuICBjb25zdCBjYWxjQmV6aWVyID0gKHQsIGExLCBhMikgPT4gKChhKGExLCBhMikgKiB0ICsgYihhMSwgYTIpKSAqIHQgKyBjKGExKSkgKiB0O1xuICBjb25zdCBnZXRTbG9wZSA9ICh0LCBhMSwgYTIpID0+IDMgKiBhKGExLCBhMikgKiB0ICogdCArIDIgKiBiKGExLCBhMikgKiB0ICsgYyhhMSk7XG4gIGNvbnN0IGdldFRmb3JYID0gKHgpID0+IHtcbiAgICBsZXQgYUd1ZXNzVCA9IHg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTbG9wZSA9IGdldFNsb3BlKGFHdWVzc1QsIHAwLCBwMik7XG4gICAgICBpZiAoY3VycmVudFNsb3BlID09PSAwKVxuICAgICAgICByZXR1cm4gYUd1ZXNzVDtcbiAgICAgIGNvbnN0IGN1cnJlbnRYID0gY2FsY0JlemllcihhR3Vlc3NULCBwMCwgcDIpIC0geDtcbiAgICAgIGFHdWVzc1QgLT0gY3VycmVudFggLyBjdXJyZW50U2xvcGU7XG4gICAgfVxuICAgIHJldHVybiBhR3Vlc3NUO1xuICB9O1xuICByZXR1cm4gKHgpID0+IHAwID09PSBwMSAmJiBwMiA9PT0gcDMgPyB4IDogY2FsY0JlemllcihnZXRUZm9yWCh4KSwgcDEsIHAzKTtcbn1cbmZ1bmN0aW9uIGxlcnAoYSwgYiwgYWxwaGEpIHtcbiAgcmV0dXJuIGEgKyBhbHBoYSAqIChiIC0gYSk7XG59XG5mdW5jdGlvbiB0b1ZlYyh0KSB7XG4gIHJldHVybiAodHlwZW9mIHQgPT09IFwibnVtYmVyXCIgPyBbdF0gOiB0KSB8fCBbXTtcbn1cbmZ1bmN0aW9uIGV4ZWN1dGVUcmFuc2l0aW9uKHNvdXJjZSwgZnJvbSwgdG8sIG9wdGlvbnMgPSB7fSkge1xuICB2YXIgX2EsIF9iO1xuICBjb25zdCBmcm9tVmFsID0gdG9WYWx1ZShmcm9tKTtcbiAgY29uc3QgdG9WYWwgPSB0b1ZhbHVlKHRvKTtcbiAgY29uc3QgdjEgPSB0b1ZlYyhmcm9tVmFsKTtcbiAgY29uc3QgdjIgPSB0b1ZlYyh0b1ZhbCk7XG4gIGNvbnN0IGR1cmF0aW9uID0gKF9hID0gdG9WYWx1ZShvcHRpb25zLmR1cmF0aW9uKSkgIT0gbnVsbCA/IF9hIDogMWUzO1xuICBjb25zdCBzdGFydGVkQXQgPSBEYXRlLm5vdygpO1xuICBjb25zdCBlbmRBdCA9IERhdGUubm93KCkgKyBkdXJhdGlvbjtcbiAgY29uc3QgdHJhbnMgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2l0aW9uID09PSBcImZ1bmN0aW9uXCIgPyBvcHRpb25zLnRyYW5zaXRpb24gOiAoX2IgPSB0b1ZhbHVlKG9wdGlvbnMudHJhbnNpdGlvbikpICE9IG51bGwgPyBfYiA6IGlkZW50aXR5O1xuICBjb25zdCBlYXNlID0gdHlwZW9mIHRyYW5zID09PSBcImZ1bmN0aW9uXCIgPyB0cmFucyA6IGNyZWF0ZUVhc2luZ0Z1bmN0aW9uKHRyYW5zKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc291cmNlLnZhbHVlID0gZnJvbVZhbDtcbiAgICBjb25zdCB0aWNrID0gKCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGlmICgoX2EyID0gb3B0aW9ucy5hYm9ydCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IGFscGhhID0gZWFzZSgobm93IC0gc3RhcnRlZEF0KSAvIGR1cmF0aW9uKTtcbiAgICAgIGNvbnN0IGFyciA9IHRvVmVjKHNvdXJjZS52YWx1ZSkubWFwKChuLCBpKSA9PiBsZXJwKHYxW2ldLCB2MltpXSwgYWxwaGEpKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNvdXJjZS52YWx1ZSkpXG4gICAgICAgIHNvdXJjZS52YWx1ZSA9IGFyci5tYXAoKG4sIGkpID0+IHtcbiAgICAgICAgICB2YXIgX2EzLCBfYjI7XG4gICAgICAgICAgcmV0dXJuIGxlcnAoKF9hMyA9IHYxW2ldKSAhPSBudWxsID8gX2EzIDogMCwgKF9iMiA9IHYyW2ldKSAhPSBudWxsID8gX2IyIDogMCwgYWxwaGEpO1xuICAgICAgICB9KTtcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UudmFsdWUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgIHNvdXJjZS52YWx1ZSA9IGFyclswXTtcbiAgICAgIGlmIChub3cgPCBlbmRBdCkge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzb3VyY2UudmFsdWUgPSB0b1ZhbDtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdGljaygpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oc291cmNlLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IGN1cnJlbnRJZCA9IDA7XG4gIGNvbnN0IHNvdXJjZVZhbCA9ICgpID0+IHtcbiAgICBjb25zdCB2ID0gdG9WYWx1ZShzb3VyY2UpO1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJudW1iZXJcIiA/IHYgOiB2Lm1hcCh0b1ZhbHVlKTtcbiAgfTtcbiAgY29uc3Qgb3V0cHV0UmVmID0gcmVmKHNvdXJjZVZhbCgpKTtcbiAgd2F0Y2goc291cmNlVmFsLCBhc3luYyAodG8pID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGlmICh0b1ZhbHVlKG9wdGlvbnMuZGlzYWJsZWQpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gKytjdXJyZW50SWQ7XG4gICAgaWYgKG9wdGlvbnMuZGVsYXkpXG4gICAgICBhd2FpdCBwcm9taXNlVGltZW91dCh0b1ZhbHVlKG9wdGlvbnMuZGVsYXkpKTtcbiAgICBpZiAoaWQgIT09IGN1cnJlbnRJZClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB0b1ZhbCA9IEFycmF5LmlzQXJyYXkodG8pID8gdG8ubWFwKHRvVmFsdWUpIDogdG9WYWx1ZSh0byk7XG4gICAgKF9hID0gb3B0aW9ucy5vblN0YXJ0ZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKG9wdGlvbnMpO1xuICAgIGF3YWl0IGV4ZWN1dGVUcmFuc2l0aW9uKG91dHB1dFJlZiwgb3V0cHV0UmVmLnZhbHVlLCB0b1ZhbCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGFib3J0OiAoKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIHJldHVybiBpZCAhPT0gY3VycmVudElkIHx8ICgoX2EyID0gb3B0aW9ucy5hYm9ydCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAoX2IgPSBvcHRpb25zLm9uRmluaXNoZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKG9wdGlvbnMpO1xuICB9LCB7IGRlZXA6IHRydWUgfSk7XG4gIHdhdGNoKCgpID0+IHRvVmFsdWUob3B0aW9ucy5kaXNhYmxlZCksIChkaXNhYmxlZCkgPT4ge1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgY3VycmVudElkKys7XG4gICAgICBvdXRwdXRSZWYudmFsdWUgPSBzb3VyY2VWYWwoKTtcbiAgICB9XG4gIH0pO1xuICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgY3VycmVudElkKys7XG4gIH0pO1xuICByZXR1cm4gY29tcHV0ZWQoKCkgPT4gdG9WYWx1ZShvcHRpb25zLmRpc2FibGVkKSA/IHNvdXJjZVZhbCgpIDogb3V0cHV0UmVmLnZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdXNlVXJsU2VhcmNoUGFyYW1zKG1vZGUgPSBcImhpc3RvcnlcIiwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBpbml0aWFsVmFsdWUgPSB7fSxcbiAgICByZW1vdmVOdWxsaXNoVmFsdWVzID0gdHJ1ZSxcbiAgICByZW1vdmVGYWxzeVZhbHVlcyA9IGZhbHNlLFxuICAgIHdyaXRlOiBlbmFibGVXcml0ZSA9IHRydWUsXG4gICAgd3JpdGVNb2RlID0gXCJyZXBsYWNlXCIsXG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvdyxcbiAgICBzdHJpbmdpZnkgPSAocGFyYW1zKSA9PiBwYXJhbXMudG9TdHJpbmcoKVxuICB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuIHJlYWN0aXZlKGluaXRpYWxWYWx1ZSk7XG4gIGNvbnN0IHN0YXRlID0gcmVhY3RpdmUoe30pO1xuICBmdW5jdGlvbiBnZXRSYXdQYXJhbXMoKSB7XG4gICAgaWYgKG1vZGUgPT09IFwiaGlzdG9yeVwiKSB7XG4gICAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCBcIlwiO1xuICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJoYXNoXCIpIHtcbiAgICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaCB8fCBcIlwiO1xuICAgICAgY29uc3QgaW5kZXggPSBoYXNoLmluZGV4T2YoXCI/XCIpO1xuICAgICAgcmV0dXJuIGluZGV4ID4gMCA/IGhhc2guc2xpY2UoaW5kZXgpIDogXCJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICh3aW5kb3cubG9jYXRpb24uaGFzaCB8fCBcIlwiKS5yZXBsYWNlKC9eIy8sIFwiXCIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjb25zdHJ1Y3RRdWVyeShwYXJhbXMpIHtcbiAgICBjb25zdCBzdHJpbmdpZmllZCA9IHN0cmluZ2lmeShwYXJhbXMpO1xuICAgIGlmIChtb2RlID09PSBcImhpc3RvcnlcIilcbiAgICAgIHJldHVybiBgJHtzdHJpbmdpZmllZCA/IGA/JHtzdHJpbmdpZmllZH1gIDogXCJcIn0ke3dpbmRvdy5sb2NhdGlvbi5oYXNoIHx8IFwiXCJ9YDtcbiAgICBpZiAobW9kZSA9PT0gXCJoYXNoLXBhcmFtc1wiKVxuICAgICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5zZWFyY2ggfHwgXCJcIn0ke3N0cmluZ2lmaWVkID8gYCMke3N0cmluZ2lmaWVkfWAgOiBcIlwifWA7XG4gICAgY29uc3QgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoIHx8IFwiI1wiO1xuICAgIGNvbnN0IGluZGV4ID0gaGFzaC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoaW5kZXggPiAwKVxuICAgICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5zZWFyY2ggfHwgXCJcIn0ke2hhc2guc2xpY2UoMCwgaW5kZXgpfSR7c3RyaW5naWZpZWQgPyBgPyR7c3RyaW5naWZpZWR9YCA6IFwiXCJ9YDtcbiAgICByZXR1cm4gYCR7d2luZG93LmxvY2F0aW9uLnNlYXJjaCB8fCBcIlwifSR7aGFzaH0ke3N0cmluZ2lmaWVkID8gYD8ke3N0cmluZ2lmaWVkfWAgOiBcIlwifWA7XG4gIH1cbiAgZnVuY3Rpb24gcmVhZCgpIHtcbiAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhnZXRSYXdQYXJhbXMoKSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlU3RhdGUocGFyYW1zKSB7XG4gICAgY29uc3QgdW51c2VkS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMoc3RhdGUpKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBwYXJhbXMua2V5cygpKSB7XG4gICAgICBjb25zdCBwYXJhbXNGb3JLZXkgPSBwYXJhbXMuZ2V0QWxsKGtleSk7XG4gICAgICBzdGF0ZVtrZXldID0gcGFyYW1zRm9yS2V5Lmxlbmd0aCA+IDEgPyBwYXJhbXNGb3JLZXkgOiBwYXJhbXMuZ2V0KGtleSkgfHwgXCJcIjtcbiAgICAgIHVudXNlZEtleXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIEFycmF5LmZyb20odW51c2VkS2V5cykuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGUgc3RhdGVba2V5XSk7XG4gIH1cbiAgY29uc3QgeyBwYXVzZSwgcmVzdW1lIH0gPSBwYXVzYWJsZVdhdGNoKFxuICAgIHN0YXRlLFxuICAgICgpID0+IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoXCJcIik7XG4gICAgICBPYmplY3Qua2V5cyhzdGF0ZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcEVudHJ5ID0gc3RhdGVba2V5XTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWFwRW50cnkpKVxuICAgICAgICAgIG1hcEVudHJ5LmZvckVhY2goKHZhbHVlKSA9PiBwYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpKTtcbiAgICAgICAgZWxzZSBpZiAocmVtb3ZlTnVsbGlzaFZhbHVlcyAmJiBtYXBFbnRyeSA9PSBudWxsKVxuICAgICAgICAgIHBhcmFtcy5kZWxldGUoa2V5KTtcbiAgICAgICAgZWxzZSBpZiAocmVtb3ZlRmFsc3lWYWx1ZXMgJiYgIW1hcEVudHJ5KVxuICAgICAgICAgIHBhcmFtcy5kZWxldGUoa2V5KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHBhcmFtcy5zZXQoa2V5LCBtYXBFbnRyeSk7XG4gICAgICB9KTtcbiAgICAgIHdyaXRlKHBhcmFtcywgZmFsc2UpO1xuICAgIH0sXG4gICAgeyBkZWVwOiB0cnVlIH1cbiAgKTtcbiAgZnVuY3Rpb24gd3JpdGUocGFyYW1zLCBzaG91bGRVcGRhdGUpIHtcbiAgICBwYXVzZSgpO1xuICAgIGlmIChzaG91bGRVcGRhdGUpXG4gICAgICB1cGRhdGVTdGF0ZShwYXJhbXMpO1xuICAgIGlmICh3cml0ZU1vZGUgPT09IFwicmVwbGFjZVwiKSB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoXG4gICAgICAgIHdpbmRvdy5oaXN0b3J5LnN0YXRlLFxuICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUsXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIGNvbnN0cnVjdFF1ZXJ5KHBhcmFtcylcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShcbiAgICAgICAgd2luZG93Lmhpc3Rvcnkuc3RhdGUsXG4gICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSxcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgY29uc3RydWN0UXVlcnkocGFyYW1zKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmVzdW1lKCk7XG4gIH1cbiAgZnVuY3Rpb24gb25DaGFuZ2VkKCkge1xuICAgIGlmICghZW5hYmxlV3JpdGUpXG4gICAgICByZXR1cm47XG4gICAgd3JpdGUocmVhZCgpLCB0cnVlKTtcbiAgfVxuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwicG9wc3RhdGVcIiwgb25DaGFuZ2VkLCBsaXN0ZW5lck9wdGlvbnMpO1xuICBpZiAobW9kZSAhPT0gXCJoaXN0b3J5XCIpXG4gICAgdXNlRXZlbnRMaXN0ZW5lcih3aW5kb3csIFwiaGFzaGNoYW5nZVwiLCBvbkNoYW5nZWQsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGNvbnN0IGluaXRpYWwgPSByZWFkKCk7XG4gIGlmIChpbml0aWFsLmtleXMoKS5uZXh0KCkudmFsdWUpXG4gICAgdXBkYXRlU3RhdGUoaW5pdGlhbCk7XG4gIGVsc2VcbiAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBpbml0aWFsVmFsdWUpO1xuICByZXR1cm4gc3RhdGU7XG59XG5cbmZ1bmN0aW9uIHVzZVVzZXJNZWRpYShvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgZW5hYmxlZCA9IHNoYWxsb3dSZWYoKF9hID0gb3B0aW9ucy5lbmFibGVkKSAhPSBudWxsID8gX2EgOiBmYWxzZSk7XG4gIGNvbnN0IGF1dG9Td2l0Y2ggPSBzaGFsbG93UmVmKChfYiA9IG9wdGlvbnMuYXV0b1N3aXRjaCkgIT0gbnVsbCA/IF9iIDogdHJ1ZSk7XG4gIGNvbnN0IGNvbnN0cmFpbnRzID0gcmVmKG9wdGlvbnMuY29uc3RyYWludHMpO1xuICBjb25zdCB7IG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGlzU3VwcG9ydGVkID0gdXNlU3VwcG9ydGVkKCgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gbmF2aWdhdG9yID09IG51bGwgPyB2b2lkIDAgOiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmdldFVzZXJNZWRpYTtcbiAgfSk7XG4gIGNvbnN0IHN0cmVhbSA9IHNoYWxsb3dSZWYoKTtcbiAgZnVuY3Rpb24gZ2V0RGV2aWNlT3B0aW9ucyh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidmlkZW9cIjoge1xuICAgICAgICBpZiAoY29uc3RyYWludHMudmFsdWUpXG4gICAgICAgICAgcmV0dXJuIGNvbnN0cmFpbnRzLnZhbHVlLnZpZGVvIHx8IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJhdWRpb1wiOiB7XG4gICAgICAgIGlmIChjb25zdHJhaW50cy52YWx1ZSlcbiAgICAgICAgICByZXR1cm4gY29uc3RyYWludHMudmFsdWUuYXVkaW8gfHwgZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBfc3RhcnQoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCBzdHJlYW0udmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgc3RyZWFtLnZhbHVlID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgdmlkZW86IGdldERldmljZU9wdGlvbnMoXCJ2aWRlb1wiKSxcbiAgICAgIGF1ZGlvOiBnZXREZXZpY2VPcHRpb25zKFwiYXVkaW9cIilcbiAgICB9KTtcbiAgICByZXR1cm4gc3RyZWFtLnZhbHVlO1xuICB9XG4gIGZ1bmN0aW9uIF9zdG9wKCkge1xuICAgIHZhciBfYTI7XG4gICAgKF9hMiA9IHN0cmVhbS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB0LnN0b3AoKSk7XG4gICAgc3RyZWFtLnZhbHVlID0gdm9pZCAwO1xuICB9XG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgX3N0b3AoKTtcbiAgICBlbmFibGVkLnZhbHVlID0gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgYXdhaXQgX3N0YXJ0KCk7XG4gICAgaWYgKHN0cmVhbS52YWx1ZSlcbiAgICAgIGVuYWJsZWQudmFsdWUgPSB0cnVlO1xuICAgIHJldHVybiBzdHJlYW0udmFsdWU7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcmVzdGFydCgpIHtcbiAgICBfc3RvcCgpO1xuICAgIHJldHVybiBhd2FpdCBzdGFydCgpO1xuICB9XG4gIHdhdGNoKFxuICAgIGVuYWJsZWQsXG4gICAgKHYpID0+IHtcbiAgICAgIGlmICh2KVxuICAgICAgICBfc3RhcnQoKTtcbiAgICAgIGVsc2UgX3N0b3AoKTtcbiAgICB9LFxuICAgIHsgaW1tZWRpYXRlOiB0cnVlIH1cbiAgKTtcbiAgd2F0Y2goXG4gICAgY29uc3RyYWludHMsXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKGF1dG9Td2l0Y2gudmFsdWUgJiYgc3RyZWFtLnZhbHVlKVxuICAgICAgICByZXN0YXJ0KCk7XG4gICAgfSxcbiAgICB7IGltbWVkaWF0ZTogdHJ1ZSB9XG4gICk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKCgpID0+IHtcbiAgICBzdG9wKCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIHN0cmVhbSxcbiAgICBzdGFydCxcbiAgICBzdG9wLFxuICAgIHJlc3RhcnQsXG4gICAgY29uc3RyYWludHMsXG4gICAgZW5hYmxlZCxcbiAgICBhdXRvU3dpdGNoXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVZNb2RlbChwcm9wcywga2V5LCBlbWl0LCBvcHRpb25zID0ge30pIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIGNvbnN0IHtcbiAgICBjbG9uZSA9IGZhbHNlLFxuICAgIHBhc3NpdmUgPSBmYWxzZSxcbiAgICBldmVudE5hbWUsXG4gICAgZGVlcCA9IGZhbHNlLFxuICAgIGRlZmF1bHRWYWx1ZSxcbiAgICBzaG91bGRFbWl0XG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB2bSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBjb25zdCBfZW1pdCA9IGVtaXQgfHwgKHZtID09IG51bGwgPyB2b2lkIDAgOiB2bS5lbWl0KSB8fCAoKF9hID0gdm0gPT0gbnVsbCA/IHZvaWQgMCA6IHZtLiRlbWl0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuYmluZCh2bSkpIHx8ICgoX2MgPSAoX2IgPSB2bSA9PSBudWxsID8gdm9pZCAwIDogdm0ucHJveHkpID09IG51bGwgPyB2b2lkIDAgOiBfYi4kZW1pdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmJpbmQodm0gPT0gbnVsbCA/IHZvaWQgMCA6IHZtLnByb3h5KSk7XG4gIGxldCBldmVudCA9IGV2ZW50TmFtZTtcbiAgaWYgKCFrZXkpIHtcbiAgICBrZXkgPSBcIm1vZGVsVmFsdWVcIjtcbiAgfVxuICBldmVudCA9IGV2ZW50IHx8IGB1cGRhdGU6JHtrZXkudG9TdHJpbmcoKX1gO1xuICBjb25zdCBjbG9uZUZuID0gKHZhbCkgPT4gIWNsb25lID8gdmFsIDogdHlwZW9mIGNsb25lID09PSBcImZ1bmN0aW9uXCIgPyBjbG9uZSh2YWwpIDogY2xvbmVGbkpTT04odmFsKTtcbiAgY29uc3QgZ2V0VmFsdWUgPSAoKSA9PiBpc0RlZihwcm9wc1trZXldKSA/IGNsb25lRm4ocHJvcHNba2V5XSkgOiBkZWZhdWx0VmFsdWU7XG4gIGNvbnN0IHRyaWdnZXJFbWl0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHNob3VsZEVtaXQpIHtcbiAgICAgIGlmIChzaG91bGRFbWl0KHZhbHVlKSlcbiAgICAgICAgX2VtaXQoZXZlbnQsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2VtaXQoZXZlbnQsIHZhbHVlKTtcbiAgICB9XG4gIH07XG4gIGlmIChwYXNzaXZlKSB7XG4gICAgY29uc3QgaW5pdGlhbFZhbHVlID0gZ2V0VmFsdWUoKTtcbiAgICBjb25zdCBwcm94eSA9IHJlZihpbml0aWFsVmFsdWUpO1xuICAgIGxldCBpc1VwZGF0aW5nID0gZmFsc2U7XG4gICAgd2F0Y2goXG4gICAgICAoKSA9PiBwcm9wc1trZXldLFxuICAgICAgKHYpID0+IHtcbiAgICAgICAgaWYgKCFpc1VwZGF0aW5nKSB7XG4gICAgICAgICAgaXNVcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgcHJveHkudmFsdWUgPSBjbG9uZUZuKHYpO1xuICAgICAgICAgIG5leHRUaWNrKCgpID0+IGlzVXBkYXRpbmcgPSBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHdhdGNoKFxuICAgICAgcHJveHksXG4gICAgICAodikgPT4ge1xuICAgICAgICBpZiAoIWlzVXBkYXRpbmcgJiYgKHYgIT09IHByb3BzW2tleV0gfHwgZGVlcCkpXG4gICAgICAgICAgdHJpZ2dlckVtaXQodik7XG4gICAgICB9LFxuICAgICAgeyBkZWVwIH1cbiAgICApO1xuICAgIHJldHVybiBwcm94eTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY29tcHV0ZWQoe1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gZ2V0VmFsdWUoKTtcbiAgICAgIH0sXG4gICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgdHJpZ2dlckVtaXQodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVzZVZNb2RlbHMocHJvcHMsIGVtaXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICByZXRba2V5XSA9IHVzZVZNb2RlbChcbiAgICAgIHByb3BzLFxuICAgICAga2V5LFxuICAgICAgZW1pdCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHVzZVZpYnJhdGUob3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgcGF0dGVybiA9IFtdLFxuICAgIGludGVydmFsID0gMCxcbiAgICBuYXZpZ2F0b3IgPSBkZWZhdWx0TmF2aWdhdG9yXG4gIH0gPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIFwidmlicmF0ZVwiIGluIG5hdmlnYXRvcik7XG4gIGNvbnN0IHBhdHRlcm5SZWYgPSB0b1JlZihwYXR0ZXJuKTtcbiAgbGV0IGludGVydmFsQ29udHJvbHM7XG4gIGNvbnN0IHZpYnJhdGUgPSAocGF0dGVybjIgPSBwYXR0ZXJuUmVmLnZhbHVlKSA9PiB7XG4gICAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlKVxuICAgICAgbmF2aWdhdG9yLnZpYnJhdGUocGF0dGVybjIpO1xuICB9O1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIGlmIChpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIG5hdmlnYXRvci52aWJyYXRlKDApO1xuICAgIGludGVydmFsQ29udHJvbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVydmFsQ29udHJvbHMucGF1c2UoKTtcbiAgfTtcbiAgaWYgKGludGVydmFsID4gMCkge1xuICAgIGludGVydmFsQ29udHJvbHMgPSB1c2VJbnRlcnZhbEZuKFxuICAgICAgdmlicmF0ZSxcbiAgICAgIGludGVydmFsLFxuICAgICAge1xuICAgICAgICBpbW1lZGlhdGU6IGZhbHNlLFxuICAgICAgICBpbW1lZGlhdGVDYWxsYmFjazogZmFsc2VcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQsXG4gICAgcGF0dGVybixcbiAgICBpbnRlcnZhbENvbnRyb2xzLFxuICAgIHZpYnJhdGUsXG4gICAgc3RvcFxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VWaXJ0dWFsTGlzdChsaXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IHsgY29udGFpbmVyU3R5bGUsIHdyYXBwZXJQcm9wcywgc2Nyb2xsVG8sIGNhbGN1bGF0ZVJhbmdlLCBjdXJyZW50TGlzdCwgY29udGFpbmVyUmVmIH0gPSBcIml0ZW1IZWlnaHRcIiBpbiBvcHRpb25zID8gdXNlVmVydGljYWxWaXJ0dWFsTGlzdChvcHRpb25zLCBsaXN0KSA6IHVzZUhvcml6b250YWxWaXJ0dWFsTGlzdChvcHRpb25zLCBsaXN0KTtcbiAgcmV0dXJuIHtcbiAgICBsaXN0OiBjdXJyZW50TGlzdCxcbiAgICBzY3JvbGxUbyxcbiAgICBjb250YWluZXJQcm9wczoge1xuICAgICAgcmVmOiBjb250YWluZXJSZWYsXG4gICAgICBvblNjcm9sbDogKCkgPT4ge1xuICAgICAgICBjYWxjdWxhdGVSYW5nZSgpO1xuICAgICAgfSxcbiAgICAgIHN0eWxlOiBjb250YWluZXJTdHlsZVxuICAgIH0sXG4gICAgd3JhcHBlclByb3BzXG4gIH07XG59XG5mdW5jdGlvbiB1c2VWaXJ0dWFsTGlzdFJlc291cmNlcyhsaXN0KSB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHNoYWxsb3dSZWYobnVsbCk7XG4gIGNvbnN0IHNpemUgPSB1c2VFbGVtZW50U2l6ZShjb250YWluZXJSZWYpO1xuICBjb25zdCBjdXJyZW50TGlzdCA9IHJlZihbXSk7XG4gIGNvbnN0IHNvdXJjZSA9IHNoYWxsb3dSZWYobGlzdCk7XG4gIGNvbnN0IHN0YXRlID0gcmVmKHsgc3RhcnQ6IDAsIGVuZDogMTAgfSk7XG4gIHJldHVybiB7IHN0YXRlLCBzb3VyY2UsIGN1cnJlbnRMaXN0LCBzaXplLCBjb250YWluZXJSZWYgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUdldFZpZXdDYXBhY2l0eShzdGF0ZSwgc291cmNlLCBpdGVtU2l6ZSkge1xuICByZXR1cm4gKGNvbnRhaW5lclNpemUpID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW1TaXplID09PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIE1hdGguY2VpbChjb250YWluZXJTaXplIC8gaXRlbVNpemUpO1xuICAgIGNvbnN0IHsgc3RhcnQgPSAwIH0gPSBzdGF0ZS52YWx1ZTtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBsZXQgY2FwYWNpdHkgPSAwO1xuICAgIGZvciAobGV0IGkgPSBzdGFydDsgaSA8IHNvdXJjZS52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2l6ZSA9IGl0ZW1TaXplKGkpO1xuICAgICAgc3VtICs9IHNpemU7XG4gICAgICBjYXBhY2l0eSA9IGk7XG4gICAgICBpZiAoc3VtID4gY29udGFpbmVyU2l6ZSlcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBjYXBhY2l0eSAtIHN0YXJ0O1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlR2V0T2Zmc2V0KHNvdXJjZSwgaXRlbVNpemUpIHtcbiAgcmV0dXJuIChzY3JvbGxEaXJlY3Rpb24pID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW1TaXplID09PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIE1hdGguZmxvb3Ioc2Nyb2xsRGlyZWN0aW9uIC8gaXRlbVNpemUpICsgMTtcbiAgICBsZXQgc3VtID0gMDtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS52YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2l6ZSA9IGl0ZW1TaXplKGkpO1xuICAgICAgc3VtICs9IHNpemU7XG4gICAgICBpZiAoc3VtID49IHNjcm9sbERpcmVjdGlvbikge1xuICAgICAgICBvZmZzZXQgPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldCArIDE7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDYWxjdWxhdGVSYW5nZSh0eXBlLCBvdmVyc2NhbiwgZ2V0T2Zmc2V0LCBnZXRWaWV3Q2FwYWNpdHksIHsgY29udGFpbmVyUmVmLCBzdGF0ZSwgY3VycmVudExpc3QsIHNvdXJjZSB9KSB7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IGNvbnRhaW5lclJlZi52YWx1ZTtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gZ2V0T2Zmc2V0KHR5cGUgPT09IFwidmVydGljYWxcIiA/IGVsZW1lbnQuc2Nyb2xsVG9wIDogZWxlbWVudC5zY3JvbGxMZWZ0KTtcbiAgICAgIGNvbnN0IHZpZXdDYXBhY2l0eSA9IGdldFZpZXdDYXBhY2l0eSh0eXBlID09PSBcInZlcnRpY2FsXCIgPyBlbGVtZW50LmNsaWVudEhlaWdodCA6IGVsZW1lbnQuY2xpZW50V2lkdGgpO1xuICAgICAgY29uc3QgZnJvbSA9IG9mZnNldCAtIG92ZXJzY2FuO1xuICAgICAgY29uc3QgdG8gPSBvZmZzZXQgKyB2aWV3Q2FwYWNpdHkgKyBvdmVyc2NhbjtcbiAgICAgIHN0YXRlLnZhbHVlID0ge1xuICAgICAgICBzdGFydDogZnJvbSA8IDAgPyAwIDogZnJvbSxcbiAgICAgICAgZW5kOiB0byA+IHNvdXJjZS52YWx1ZS5sZW5ndGggPyBzb3VyY2UudmFsdWUubGVuZ3RoIDogdG9cbiAgICAgIH07XG4gICAgICBjdXJyZW50TGlzdC52YWx1ZSA9IHNvdXJjZS52YWx1ZS5zbGljZShzdGF0ZS52YWx1ZS5zdGFydCwgc3RhdGUudmFsdWUuZW5kKS5tYXAoKGVsZSwgaW5kZXgpID0+ICh7XG4gICAgICAgIGRhdGE6IGVsZSxcbiAgICAgICAgaW5kZXg6IGluZGV4ICsgc3RhdGUudmFsdWUuc3RhcnRcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVHZXREaXN0YW5jZShpdGVtU2l6ZSwgc291cmNlKSB7XG4gIHJldHVybiAoaW5kZXgpID0+IHtcbiAgICBpZiAodHlwZW9mIGl0ZW1TaXplID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCBzaXplMiA9IGluZGV4ICogaXRlbVNpemU7XG4gICAgICByZXR1cm4gc2l6ZTI7XG4gICAgfVxuICAgIGNvbnN0IHNpemUgPSBzb3VyY2UudmFsdWUuc2xpY2UoMCwgaW5kZXgpLnJlZHVjZSgoc3VtLCBfLCBpKSA9PiBzdW0gKyBpdGVtU2l6ZShpKSwgMCk7XG4gICAgcmV0dXJuIHNpemU7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VXYXRjaEZvclNpemVzKHNpemUsIGxpc3QsIGNvbnRhaW5lclJlZiwgY2FsY3VsYXRlUmFuZ2UpIHtcbiAgd2F0Y2goW3NpemUud2lkdGgsIHNpemUuaGVpZ2h0LCBsaXN0LCBjb250YWluZXJSZWZdLCAoKSA9PiB7XG4gICAgY2FsY3VsYXRlUmFuZ2UoKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVDb21wdXRlZFRvdGFsU2l6ZShpdGVtU2l6ZSwgc291cmNlKSB7XG4gIHJldHVybiBjb21wdXRlZCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBpdGVtU2l6ZSA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzb3VyY2UudmFsdWUubGVuZ3RoICogaXRlbVNpemU7XG4gICAgcmV0dXJuIHNvdXJjZS52YWx1ZS5yZWR1Y2UoKHN1bSwgXywgaW5kZXgpID0+IHN1bSArIGl0ZW1TaXplKGluZGV4KSwgMCk7XG4gIH0pO1xufVxuY29uc3Qgc2Nyb2xsVG9EaWN0aW9uYXJ5Rm9yRWxlbWVudFNjcm9sbEtleSA9IHtcbiAgaG9yaXpvbnRhbDogXCJzY3JvbGxMZWZ0XCIsXG4gIHZlcnRpY2FsOiBcInNjcm9sbFRvcFwiXG59O1xuZnVuY3Rpb24gY3JlYXRlU2Nyb2xsVG8odHlwZSwgY2FsY3VsYXRlUmFuZ2UsIGdldERpc3RhbmNlLCBjb250YWluZXJSZWYpIHtcbiAgcmV0dXJuIChpbmRleCkgPT4ge1xuICAgIGlmIChjb250YWluZXJSZWYudmFsdWUpIHtcbiAgICAgIGNvbnRhaW5lclJlZi52YWx1ZVtzY3JvbGxUb0RpY3Rpb25hcnlGb3JFbGVtZW50U2Nyb2xsS2V5W3R5cGVdXSA9IGdldERpc3RhbmNlKGluZGV4KTtcbiAgICAgIGNhbGN1bGF0ZVJhbmdlKCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gdXNlSG9yaXpvbnRhbFZpcnR1YWxMaXN0KG9wdGlvbnMsIGxpc3QpIHtcbiAgY29uc3QgcmVzb3VyY2VzID0gdXNlVmlydHVhbExpc3RSZXNvdXJjZXMobGlzdCk7XG4gIGNvbnN0IHsgc3RhdGUsIHNvdXJjZSwgY3VycmVudExpc3QsIHNpemUsIGNvbnRhaW5lclJlZiB9ID0gcmVzb3VyY2VzO1xuICBjb25zdCBjb250YWluZXJTdHlsZSA9IHsgb3ZlcmZsb3dYOiBcImF1dG9cIiB9O1xuICBjb25zdCB7IGl0ZW1XaWR0aCwgb3ZlcnNjYW4gPSA1IH0gPSBvcHRpb25zO1xuICBjb25zdCBnZXRWaWV3Q2FwYWNpdHkgPSBjcmVhdGVHZXRWaWV3Q2FwYWNpdHkoc3RhdGUsIHNvdXJjZSwgaXRlbVdpZHRoKTtcbiAgY29uc3QgZ2V0T2Zmc2V0ID0gY3JlYXRlR2V0T2Zmc2V0KHNvdXJjZSwgaXRlbVdpZHRoKTtcbiAgY29uc3QgY2FsY3VsYXRlUmFuZ2UgPSBjcmVhdGVDYWxjdWxhdGVSYW5nZShcImhvcml6b250YWxcIiwgb3ZlcnNjYW4sIGdldE9mZnNldCwgZ2V0Vmlld0NhcGFjaXR5LCByZXNvdXJjZXMpO1xuICBjb25zdCBnZXREaXN0YW5jZUxlZnQgPSBjcmVhdGVHZXREaXN0YW5jZShpdGVtV2lkdGgsIHNvdXJjZSk7XG4gIGNvbnN0IG9mZnNldExlZnQgPSBjb21wdXRlZCgoKSA9PiBnZXREaXN0YW5jZUxlZnQoc3RhdGUudmFsdWUuc3RhcnQpKTtcbiAgY29uc3QgdG90YWxXaWR0aCA9IGNyZWF0ZUNvbXB1dGVkVG90YWxTaXplKGl0ZW1XaWR0aCwgc291cmNlKTtcbiAgdXNlV2F0Y2hGb3JTaXplcyhzaXplLCBsaXN0LCBjb250YWluZXJSZWYsIGNhbGN1bGF0ZVJhbmdlKTtcbiAgY29uc3Qgc2Nyb2xsVG8gPSBjcmVhdGVTY3JvbGxUbyhcImhvcml6b250YWxcIiwgY2FsY3VsYXRlUmFuZ2UsIGdldERpc3RhbmNlTGVmdCwgY29udGFpbmVyUmVmKTtcbiAgY29uc3Qgd3JhcHBlclByb3BzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICB3aWR0aDogYCR7dG90YWxXaWR0aC52YWx1ZSAtIG9mZnNldExlZnQudmFsdWV9cHhgLFxuICAgICAgICBtYXJnaW5MZWZ0OiBgJHtvZmZzZXRMZWZ0LnZhbHVlfXB4YCxcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCJcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBzY3JvbGxUbyxcbiAgICBjYWxjdWxhdGVSYW5nZSxcbiAgICB3cmFwcGVyUHJvcHMsXG4gICAgY29udGFpbmVyU3R5bGUsXG4gICAgY3VycmVudExpc3QsXG4gICAgY29udGFpbmVyUmVmXG4gIH07XG59XG5mdW5jdGlvbiB1c2VWZXJ0aWNhbFZpcnR1YWxMaXN0KG9wdGlvbnMsIGxpc3QpIHtcbiAgY29uc3QgcmVzb3VyY2VzID0gdXNlVmlydHVhbExpc3RSZXNvdXJjZXMobGlzdCk7XG4gIGNvbnN0IHsgc3RhdGUsIHNvdXJjZSwgY3VycmVudExpc3QsIHNpemUsIGNvbnRhaW5lclJlZiB9ID0gcmVzb3VyY2VzO1xuICBjb25zdCBjb250YWluZXJTdHlsZSA9IHsgb3ZlcmZsb3dZOiBcImF1dG9cIiB9O1xuICBjb25zdCB7IGl0ZW1IZWlnaHQsIG92ZXJzY2FuID0gNSB9ID0gb3B0aW9ucztcbiAgY29uc3QgZ2V0Vmlld0NhcGFjaXR5ID0gY3JlYXRlR2V0Vmlld0NhcGFjaXR5KHN0YXRlLCBzb3VyY2UsIGl0ZW1IZWlnaHQpO1xuICBjb25zdCBnZXRPZmZzZXQgPSBjcmVhdGVHZXRPZmZzZXQoc291cmNlLCBpdGVtSGVpZ2h0KTtcbiAgY29uc3QgY2FsY3VsYXRlUmFuZ2UgPSBjcmVhdGVDYWxjdWxhdGVSYW5nZShcInZlcnRpY2FsXCIsIG92ZXJzY2FuLCBnZXRPZmZzZXQsIGdldFZpZXdDYXBhY2l0eSwgcmVzb3VyY2VzKTtcbiAgY29uc3QgZ2V0RGlzdGFuY2VUb3AgPSBjcmVhdGVHZXREaXN0YW5jZShpdGVtSGVpZ2h0LCBzb3VyY2UpO1xuICBjb25zdCBvZmZzZXRUb3AgPSBjb21wdXRlZCgoKSA9PiBnZXREaXN0YW5jZVRvcChzdGF0ZS52YWx1ZS5zdGFydCkpO1xuICBjb25zdCB0b3RhbEhlaWdodCA9IGNyZWF0ZUNvbXB1dGVkVG90YWxTaXplKGl0ZW1IZWlnaHQsIHNvdXJjZSk7XG4gIHVzZVdhdGNoRm9yU2l6ZXMoc2l6ZSwgbGlzdCwgY29udGFpbmVyUmVmLCBjYWxjdWxhdGVSYW5nZSk7XG4gIGNvbnN0IHNjcm9sbFRvID0gY3JlYXRlU2Nyb2xsVG8oXCJ2ZXJ0aWNhbFwiLCBjYWxjdWxhdGVSYW5nZSwgZ2V0RGlzdGFuY2VUb3AsIGNvbnRhaW5lclJlZik7XG4gIGNvbnN0IHdyYXBwZXJQcm9wcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBoZWlnaHQ6IGAke3RvdGFsSGVpZ2h0LnZhbHVlIC0gb2Zmc2V0VG9wLnZhbHVlfXB4YCxcbiAgICAgICAgbWFyZ2luVG9wOiBgJHtvZmZzZXRUb3AudmFsdWV9cHhgXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgY2FsY3VsYXRlUmFuZ2UsXG4gICAgc2Nyb2xsVG8sXG4gICAgY29udGFpbmVyU3R5bGUsXG4gICAgd3JhcHBlclByb3BzLFxuICAgIGN1cnJlbnRMaXN0LFxuICAgIGNvbnRhaW5lclJlZlxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VXYWtlTG9jayhvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIG5hdmlnYXRvciA9IGRlZmF1bHROYXZpZ2F0b3IsXG4gICAgZG9jdW1lbnQgPSBkZWZhdWx0RG9jdW1lbnRcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHJlcXVlc3RlZFR5cGUgPSBzaGFsbG93UmVmKGZhbHNlKTtcbiAgY29uc3Qgc2VudGluZWwgPSBzaGFsbG93UmVmKG51bGwpO1xuICBjb25zdCBkb2N1bWVudFZpc2liaWxpdHkgPSB1c2VEb2N1bWVudFZpc2liaWxpdHkoeyBkb2N1bWVudCB9KTtcbiAgY29uc3QgaXNTdXBwb3J0ZWQgPSB1c2VTdXBwb3J0ZWQoKCkgPT4gbmF2aWdhdG9yICYmIFwid2FrZUxvY2tcIiBpbiBuYXZpZ2F0b3IpO1xuICBjb25zdCBpc0FjdGl2ZSA9IGNvbXB1dGVkKCgpID0+ICEhc2VudGluZWwudmFsdWUgJiYgZG9jdW1lbnRWaXNpYmlsaXR5LnZhbHVlID09PSBcInZpc2libGVcIik7XG4gIGlmIChpc1N1cHBvcnRlZC52YWx1ZSkge1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoc2VudGluZWwsIFwicmVsZWFzZVwiLCAoKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgcmVxdWVzdGVkVHlwZS52YWx1ZSA9IChfYiA9IChfYSA9IHNlbnRpbmVsLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EudHlwZSkgIT0gbnVsbCA/IF9iIDogZmFsc2U7XG4gICAgfSwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIHdoZW5ldmVyKFxuICAgICAgKCkgPT4gZG9jdW1lbnRWaXNpYmlsaXR5LnZhbHVlID09PSBcInZpc2libGVcIiAmJiAoZG9jdW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkgPT09IFwidmlzaWJsZVwiICYmIHJlcXVlc3RlZFR5cGUudmFsdWUsXG4gICAgICAodHlwZSkgPT4ge1xuICAgICAgICByZXF1ZXN0ZWRUeXBlLnZhbHVlID0gZmFsc2U7XG4gICAgICAgIGZvcmNlUmVxdWVzdCh0eXBlKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGZvcmNlUmVxdWVzdCh0eXBlKSB7XG4gICAgdmFyIF9hO1xuICAgIGF3YWl0ICgoX2EgPSBzZW50aW5lbC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlbGVhc2UoKSk7XG4gICAgc2VudGluZWwudmFsdWUgPSBpc1N1cHBvcnRlZC52YWx1ZSA/IGF3YWl0IG5hdmlnYXRvci53YWtlTG9jay5yZXF1ZXN0KHR5cGUpIDogbnVsbDtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiByZXF1ZXN0KHR5cGUpIHtcbiAgICBpZiAoZG9jdW1lbnRWaXNpYmlsaXR5LnZhbHVlID09PSBcInZpc2libGVcIilcbiAgICAgIGF3YWl0IGZvcmNlUmVxdWVzdCh0eXBlKTtcbiAgICBlbHNlXG4gICAgICByZXF1ZXN0ZWRUeXBlLnZhbHVlID0gdHlwZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiByZWxlYXNlKCkge1xuICAgIHJlcXVlc3RlZFR5cGUudmFsdWUgPSBmYWxzZTtcbiAgICBjb25zdCBzID0gc2VudGluZWwudmFsdWU7XG4gICAgc2VudGluZWwudmFsdWUgPSBudWxsO1xuICAgIGF3YWl0IChzID09IG51bGwgPyB2b2lkIDAgOiBzLnJlbGVhc2UoKSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzZW50aW5lbCxcbiAgICBpc1N1cHBvcnRlZCxcbiAgICBpc0FjdGl2ZSxcbiAgICByZXF1ZXN0LFxuICAgIGZvcmNlUmVxdWVzdCxcbiAgICByZWxlYXNlXG4gIH07XG59XG5cbmZ1bmN0aW9uIHVzZVdlYk5vdGlmaWNhdGlvbihvcHRpb25zID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3csXG4gICAgcmVxdWVzdFBlcm1pc3Npb25zOiBfcmVxdWVzdEZvclBlcm1pc3Npb25zID0gdHJ1ZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgZGVmYXVsdFdlYk5vdGlmaWNhdGlvbk9wdGlvbnMgPSBvcHRpb25zO1xuICBjb25zdCBpc1N1cHBvcnRlZCA9IHVzZVN1cHBvcnRlZCgoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cgfHwgIShcIk5vdGlmaWNhdGlvblwiIGluIHdpbmRvdykpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImdyYW50ZWRcIilcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBub3RpZmljYXRpb24yID0gbmV3IE5vdGlmaWNhdGlvbihcIlwiKTtcbiAgICAgIG5vdGlmaWNhdGlvbjIub25zaG93ID0gKCkgPT4ge1xuICAgICAgICBub3RpZmljYXRpb24yLmNsb3NlKCk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgPT09IFwiVHlwZUVycm9yXCIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuICBjb25zdCBwZXJtaXNzaW9uR3JhbnRlZCA9IHNoYWxsb3dSZWYoaXNTdXBwb3J0ZWQudmFsdWUgJiYgXCJwZXJtaXNzaW9uXCIgaW4gTm90aWZpY2F0aW9uICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uID09PSBcImdyYW50ZWRcIik7XG4gIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHJlZihudWxsKTtcbiAgY29uc3QgZW5zdXJlUGVybWlzc2lvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIXBlcm1pc3Npb25HcmFudGVkLnZhbHVlICYmIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uICE9PSBcImRlbmllZFwiKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgIGlmIChyZXN1bHQgPT09IFwiZ3JhbnRlZFwiKVxuICAgICAgICBwZXJtaXNzaW9uR3JhbnRlZC52YWx1ZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBwZXJtaXNzaW9uR3JhbnRlZC52YWx1ZTtcbiAgfTtcbiAgY29uc3QgeyBvbjogb25DbGljaywgdHJpZ2dlcjogY2xpY2tUcmlnZ2VyIH0gPSBjcmVhdGVFdmVudEhvb2soKTtcbiAgY29uc3QgeyBvbjogb25TaG93LCB0cmlnZ2VyOiBzaG93VHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHsgb246IG9uRXJyb3IsIHRyaWdnZXI6IGVycm9yVHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHsgb246IG9uQ2xvc2UsIHRyaWdnZXI6IGNsb3NlVHJpZ2dlciB9ID0gY3JlYXRlRXZlbnRIb29rKCk7XG4gIGNvbnN0IHNob3cgPSBhc3luYyAob3ZlcnJpZGVzKSA9PiB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZC52YWx1ZSB8fCAhcGVybWlzc2lvbkdyYW50ZWQudmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3Qgb3B0aW9uczIgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0V2ViTm90aWZpY2F0aW9uT3B0aW9ucywgb3ZlcnJpZGVzKTtcbiAgICBub3RpZmljYXRpb24udmFsdWUgPSBuZXcgTm90aWZpY2F0aW9uKG9wdGlvbnMyLnRpdGxlIHx8IFwiXCIsIG9wdGlvbnMyKTtcbiAgICBub3RpZmljYXRpb24udmFsdWUub25jbGljayA9IGNsaWNrVHJpZ2dlcjtcbiAgICBub3RpZmljYXRpb24udmFsdWUub25zaG93ID0gc2hvd1RyaWdnZXI7XG4gICAgbm90aWZpY2F0aW9uLnZhbHVlLm9uZXJyb3IgPSBlcnJvclRyaWdnZXI7XG4gICAgbm90aWZpY2F0aW9uLnZhbHVlLm9uY2xvc2UgPSBjbG9zZVRyaWdnZXI7XG4gICAgcmV0dXJuIG5vdGlmaWNhdGlvbi52YWx1ZTtcbiAgfTtcbiAgY29uc3QgY2xvc2UgPSAoKSA9PiB7XG4gICAgaWYgKG5vdGlmaWNhdGlvbi52YWx1ZSlcbiAgICAgIG5vdGlmaWNhdGlvbi52YWx1ZS5jbG9zZSgpO1xuICAgIG5vdGlmaWNhdGlvbi52YWx1ZSA9IG51bGw7XG4gIH07XG4gIGlmIChfcmVxdWVzdEZvclBlcm1pc3Npb25zKVxuICAgIHRyeU9uTW91bnRlZChlbnN1cmVQZXJtaXNzaW9ucyk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKGNsb3NlKTtcbiAgaWYgKGlzU3VwcG9ydGVkLnZhbHVlICYmIHdpbmRvdykge1xuICAgIGNvbnN0IGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIHVzZUV2ZW50TGlzdGVuZXIoZG9jdW1lbnQsIFwidmlzaWJpbGl0eWNoYW5nZVwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGlzU3VwcG9ydGVkLFxuICAgIG5vdGlmaWNhdGlvbixcbiAgICBlbnN1cmVQZXJtaXNzaW9ucyxcbiAgICBwZXJtaXNzaW9uR3JhbnRlZCxcbiAgICBzaG93LFxuICAgIGNsb3NlLFxuICAgIG9uQ2xpY2ssXG4gICAgb25TaG93LFxuICAgIG9uRXJyb3IsXG4gICAgb25DbG9zZVxuICB9O1xufVxuXG5jb25zdCBERUZBVUxUX1BJTkdfTUVTU0FHRSA9IFwicGluZ1wiO1xuZnVuY3Rpb24gcmVzb2x2ZU5lc3RlZE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSlcbiAgICByZXR1cm4ge307XG4gIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gdXNlV2ViU29ja2V0KHVybCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBvbkNvbm5lY3RlZCxcbiAgICBvbkRpc2Nvbm5lY3RlZCxcbiAgICBvbkVycm9yLFxuICAgIG9uTWVzc2FnZSxcbiAgICBpbW1lZGlhdGUgPSB0cnVlLFxuICAgIGF1dG9Db25uZWN0ID0gdHJ1ZSxcbiAgICBhdXRvQ2xvc2UgPSB0cnVlLFxuICAgIHByb3RvY29scyA9IFtdXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBkYXRhID0gcmVmKG51bGwpO1xuICBjb25zdCBzdGF0dXMgPSBzaGFsbG93UmVmKFwiQ0xPU0VEXCIpO1xuICBjb25zdCB3c1JlZiA9IHJlZigpO1xuICBjb25zdCB1cmxSZWYgPSB0b1JlZih1cmwpO1xuICBsZXQgaGVhcnRiZWF0UGF1c2U7XG4gIGxldCBoZWFydGJlYXRSZXN1bWU7XG4gIGxldCBleHBsaWNpdGx5Q2xvc2VkID0gZmFsc2U7XG4gIGxldCByZXRyaWVkID0gMDtcbiAgbGV0IGJ1ZmZlcmVkRGF0YSA9IFtdO1xuICBsZXQgcmV0cnlUaW1lb3V0O1xuICBsZXQgcG9uZ1RpbWVvdXRXYWl0O1xuICBjb25zdCBfc2VuZEJ1ZmZlciA9ICgpID0+IHtcbiAgICBpZiAoYnVmZmVyZWREYXRhLmxlbmd0aCAmJiB3c1JlZi52YWx1ZSAmJiBzdGF0dXMudmFsdWUgPT09IFwiT1BFTlwiKSB7XG4gICAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJlZERhdGEpXG4gICAgICAgIHdzUmVmLnZhbHVlLnNlbmQoYnVmZmVyKTtcbiAgICAgIGJ1ZmZlcmVkRGF0YSA9IFtdO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVzZXRSZXRyeSA9ICgpID0+IHtcbiAgICBpZiAocmV0cnlUaW1lb3V0ICE9IG51bGwpIHtcbiAgICAgIGNsZWFyVGltZW91dChyZXRyeVRpbWVvdXQpO1xuICAgICAgcmV0cnlUaW1lb3V0ID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVzZXRIZWFydGJlYXQgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHBvbmdUaW1lb3V0V2FpdCk7XG4gICAgcG9uZ1RpbWVvdXRXYWl0ID0gdm9pZCAwO1xuICB9O1xuICBjb25zdCBjbG9zZSA9IChjb2RlID0gMWUzLCByZWFzb24pID0+IHtcbiAgICByZXNldFJldHJ5KCk7XG4gICAgaWYgKCFpc0NsaWVudCAmJiAhaXNXb3JrZXIgfHwgIXdzUmVmLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIGV4cGxpY2l0bHlDbG9zZWQgPSB0cnVlO1xuICAgIHJlc2V0SGVhcnRiZWF0KCk7XG4gICAgaGVhcnRiZWF0UGF1c2UgPT0gbnVsbCA/IHZvaWQgMCA6IGhlYXJ0YmVhdFBhdXNlKCk7XG4gICAgd3NSZWYudmFsdWUuY2xvc2UoY29kZSwgcmVhc29uKTtcbiAgICB3c1JlZi52YWx1ZSA9IHZvaWQgMDtcbiAgfTtcbiAgY29uc3Qgc2VuZCA9IChkYXRhMiwgdXNlQnVmZmVyID0gdHJ1ZSkgPT4ge1xuICAgIGlmICghd3NSZWYudmFsdWUgfHwgc3RhdHVzLnZhbHVlICE9PSBcIk9QRU5cIikge1xuICAgICAgaWYgKHVzZUJ1ZmZlcilcbiAgICAgICAgYnVmZmVyZWREYXRhLnB1c2goZGF0YTIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfc2VuZEJ1ZmZlcigpO1xuICAgIHdzUmVmLnZhbHVlLnNlbmQoZGF0YTIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBjb25zdCBfaW5pdCA9ICgpID0+IHtcbiAgICBpZiAoZXhwbGljaXRseUNsb3NlZCB8fCB0eXBlb2YgdXJsUmVmLnZhbHVlID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldCh1cmxSZWYudmFsdWUsIHByb3RvY29scyk7XG4gICAgd3NSZWYudmFsdWUgPSB3cztcbiAgICBzdGF0dXMudmFsdWUgPSBcIkNPTk5FQ1RJTkdcIjtcbiAgICB3cy5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICBzdGF0dXMudmFsdWUgPSBcIk9QRU5cIjtcbiAgICAgIHJldHJpZWQgPSAwO1xuICAgICAgb25Db25uZWN0ZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ29ubmVjdGVkKHdzKTtcbiAgICAgIGhlYXJ0YmVhdFJlc3VtZSA9PSBudWxsID8gdm9pZCAwIDogaGVhcnRiZWF0UmVzdW1lKCk7XG4gICAgICBfc2VuZEJ1ZmZlcigpO1xuICAgIH07XG4gICAgd3Mub25jbG9zZSA9IChldikgPT4ge1xuICAgICAgc3RhdHVzLnZhbHVlID0gXCJDTE9TRURcIjtcbiAgICAgIHJlc2V0SGVhcnRiZWF0KCk7XG4gICAgICBoZWFydGJlYXRQYXVzZSA9PSBudWxsID8gdm9pZCAwIDogaGVhcnRiZWF0UGF1c2UoKTtcbiAgICAgIG9uRGlzY29ubmVjdGVkID09IG51bGwgPyB2b2lkIDAgOiBvbkRpc2Nvbm5lY3RlZCh3cywgZXYpO1xuICAgICAgaWYgKCFleHBsaWNpdGx5Q2xvc2VkICYmIG9wdGlvbnMuYXV0b1JlY29ubmVjdCAmJiAod3NSZWYudmFsdWUgPT0gbnVsbCB8fCB3cyA9PT0gd3NSZWYudmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZXRyaWVzID0gLTEsXG4gICAgICAgICAgZGVsYXkgPSAxZTMsXG4gICAgICAgICAgb25GYWlsZWRcbiAgICAgICAgfSA9IHJlc29sdmVOZXN0ZWRPcHRpb25zKG9wdGlvbnMuYXV0b1JlY29ubmVjdCk7XG4gICAgICAgIGNvbnN0IGNoZWNrUmV0aXJlcyA9IHR5cGVvZiByZXRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyByZXRyaWVzIDogKCkgPT4gdHlwZW9mIHJldHJpZXMgPT09IFwibnVtYmVyXCIgJiYgKHJldHJpZXMgPCAwIHx8IHJldHJpZWQgPCByZXRyaWVzKTtcbiAgICAgICAgaWYgKGNoZWNrUmV0aXJlcyhyZXRyaWVkKSkge1xuICAgICAgICAgIHJldHJpZWQgKz0gMTtcbiAgICAgICAgICByZXRyeVRpbWVvdXQgPSBzZXRUaW1lb3V0KF9pbml0LCBkZWxheSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25GYWlsZWQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmFpbGVkKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHdzLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgb25FcnJvciA9PSBudWxsID8gdm9pZCAwIDogb25FcnJvcih3cywgZSk7XG4gICAgfTtcbiAgICB3cy5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgICAgaWYgKG9wdGlvbnMuaGVhcnRiZWF0KSB7XG4gICAgICAgIHJlc2V0SGVhcnRiZWF0KCk7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICBtZXNzYWdlID0gREVGQVVMVF9QSU5HX01FU1NBR0UsXG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlID0gbWVzc2FnZVxuICAgICAgICB9ID0gcmVzb2x2ZU5lc3RlZE9wdGlvbnMob3B0aW9ucy5oZWFydGJlYXQpO1xuICAgICAgICBpZiAoZS5kYXRhID09PSB0b1ZhbHVlKHJlc3BvbnNlTWVzc2FnZSkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGF0YS52YWx1ZSA9IGUuZGF0YTtcbiAgICAgIG9uTWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogb25NZXNzYWdlKHdzLCBlKTtcbiAgICB9O1xuICB9O1xuICBpZiAob3B0aW9ucy5oZWFydGJlYXQpIHtcbiAgICBjb25zdCB7XG4gICAgICBtZXNzYWdlID0gREVGQVVMVF9QSU5HX01FU1NBR0UsXG4gICAgICBpbnRlcnZhbCA9IDFlMyxcbiAgICAgIHBvbmdUaW1lb3V0ID0gMWUzXG4gICAgfSA9IHJlc29sdmVOZXN0ZWRPcHRpb25zKG9wdGlvbnMuaGVhcnRiZWF0KTtcbiAgICBjb25zdCB7IHBhdXNlLCByZXN1bWUgfSA9IHVzZUludGVydmFsRm4oXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHNlbmQodG9WYWx1ZShtZXNzYWdlKSwgZmFsc2UpO1xuICAgICAgICBpZiAocG9uZ1RpbWVvdXRXYWl0ICE9IG51bGwpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwb25nVGltZW91dFdhaXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICAgIGV4cGxpY2l0bHlDbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgcG9uZ1RpbWVvdXQpO1xuICAgICAgfSxcbiAgICAgIGludGVydmFsLFxuICAgICAgeyBpbW1lZGlhdGU6IGZhbHNlIH1cbiAgICApO1xuICAgIGhlYXJ0YmVhdFBhdXNlID0gcGF1c2U7XG4gICAgaGVhcnRiZWF0UmVzdW1lID0gcmVzdW1lO1xuICB9XG4gIGlmIChhdXRvQ2xvc2UpIHtcbiAgICBpZiAoaXNDbGllbnQpXG4gICAgICB1c2VFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsICgpID0+IGNsb3NlKCksIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICB0cnlPblNjb3BlRGlzcG9zZShjbG9zZSk7XG4gIH1cbiAgY29uc3Qgb3BlbiA9ICgpID0+IHtcbiAgICBpZiAoIWlzQ2xpZW50ICYmICFpc1dvcmtlcilcbiAgICAgIHJldHVybjtcbiAgICBjbG9zZSgpO1xuICAgIGV4cGxpY2l0bHlDbG9zZWQgPSBmYWxzZTtcbiAgICByZXRyaWVkID0gMDtcbiAgICBfaW5pdCgpO1xuICB9O1xuICBpZiAoaW1tZWRpYXRlKVxuICAgIG9wZW4oKTtcbiAgaWYgKGF1dG9Db25uZWN0KVxuICAgIHdhdGNoKHVybFJlZiwgb3Blbik7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBzdGF0dXMsXG4gICAgY2xvc2UsXG4gICAgc2VuZCxcbiAgICBvcGVuLFxuICAgIHdzOiB3c1JlZlxuICB9O1xufVxuXG5mdW5jdGlvbiB1c2VXZWJXb3JrZXIoYXJnMCwgd29ya2VyT3B0aW9ucywgb3B0aW9ucykge1xuICBjb25zdCB7XG4gICAgd2luZG93ID0gZGVmYXVsdFdpbmRvd1xuICB9ID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuICBjb25zdCBkYXRhID0gcmVmKG51bGwpO1xuICBjb25zdCB3b3JrZXIgPSBzaGFsbG93UmVmKCk7XG4gIGNvbnN0IHBvc3QgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmICghd29ya2VyLnZhbHVlKVxuICAgICAgcmV0dXJuO1xuICAgIHdvcmtlci52YWx1ZS5wb3N0TWVzc2FnZSguLi5hcmdzKTtcbiAgfTtcbiAgY29uc3QgdGVybWluYXRlID0gZnVuY3Rpb24gdGVybWluYXRlMigpIHtcbiAgICBpZiAoIXdvcmtlci52YWx1ZSlcbiAgICAgIHJldHVybjtcbiAgICB3b3JrZXIudmFsdWUudGVybWluYXRlKCk7XG4gIH07XG4gIGlmICh3aW5kb3cpIHtcbiAgICBpZiAodHlwZW9mIGFyZzAgPT09IFwic3RyaW5nXCIpXG4gICAgICB3b3JrZXIudmFsdWUgPSBuZXcgV29ya2VyKGFyZzAsIHdvcmtlck9wdGlvbnMpO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcwID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICB3b3JrZXIudmFsdWUgPSBhcmcwKCk7XG4gICAgZWxzZVxuICAgICAgd29ya2VyLnZhbHVlID0gYXJnMDtcbiAgICB3b3JrZXIudmFsdWUub25tZXNzYWdlID0gKGUpID0+IHtcbiAgICAgIGRhdGEudmFsdWUgPSBlLmRhdGE7XG4gICAgfTtcbiAgICB0cnlPblNjb3BlRGlzcG9zZSgoKSA9PiB7XG4gICAgICBpZiAod29ya2VyLnZhbHVlKVxuICAgICAgICB3b3JrZXIudmFsdWUudGVybWluYXRlKCk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIHBvc3QsXG4gICAgdGVybWluYXRlLFxuICAgIHdvcmtlclxuICB9O1xufVxuXG5mdW5jdGlvbiBkZXBzUGFyc2VyKGRlcHMsIGxvY2FsRGVwcykge1xuICBpZiAoZGVwcy5sZW5ndGggPT09IDAgJiYgbG9jYWxEZXBzLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gXCJcIjtcbiAgY29uc3QgZGVwc1N0cmluZyA9IGRlcHMubWFwKChkZXApID0+IGAnJHtkZXB9J2ApLnRvU3RyaW5nKCk7XG4gIGNvbnN0IGRlcHNGdW5jdGlvblN0cmluZyA9IGxvY2FsRGVwcy5maWx0ZXIoKGRlcCkgPT4gdHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKS5tYXAoKGZuKSA9PiB7XG4gICAgY29uc3Qgc3RyID0gZm4udG9TdHJpbmcoKTtcbiAgICBpZiAoc3RyLnRyaW0oKS5zdGFydHNXaXRoKFwiZnVuY3Rpb25cIikpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBmbi5uYW1lO1xuICAgICAgcmV0dXJuIGBjb25zdCAke25hbWV9ID0gJHtzdHJ9YDtcbiAgICB9XG4gIH0pLmpvaW4oXCI7XCIpO1xuICBjb25zdCBpbXBvcnRTdHJpbmcgPSBgaW1wb3J0U2NyaXB0cygke2RlcHNTdHJpbmd9KTtgO1xuICByZXR1cm4gYCR7ZGVwc1N0cmluZy50cmltKCkgPT09IFwiXCIgPyBcIlwiIDogaW1wb3J0U3RyaW5nfSAke2RlcHNGdW5jdGlvblN0cmluZ31gO1xufVxuXG5mdW5jdGlvbiBqb2JSdW5uZXIodXNlckZ1bmMpIHtcbiAgcmV0dXJuIChlKSA9PiB7XG4gICAgY29uc3QgdXNlckZ1bmNBcmdzID0gZS5kYXRhWzBdO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXNlckZ1bmMuYXBwbHkodm9pZCAwLCB1c2VyRnVuY0FyZ3MpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHBvc3RNZXNzYWdlKFtcIlNVQ0NFU1NcIiwgcmVzdWx0XSk7XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBwb3N0TWVzc2FnZShbXCJFUlJPUlwiLCBlcnJvcl0pO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVXb3JrZXJCbG9iVXJsKGZuLCBkZXBzLCBsb2NhbERlcHMpIHtcbiAgY29uc3QgYmxvYkNvZGUgPSBgJHtkZXBzUGFyc2VyKGRlcHMsIGxvY2FsRGVwcyl9OyBvbm1lc3NhZ2U9KCR7am9iUnVubmVyfSkoJHtmbn0pYDtcbiAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtibG9iQ29kZV0sIHsgdHlwZTogXCJ0ZXh0L2phdmFzY3JpcHRcIiB9KTtcbiAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgcmV0dXJuIHVybDtcbn1cblxuZnVuY3Rpb24gdXNlV2ViV29ya2VyRm4oZm4sIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7XG4gICAgZGVwZW5kZW5jaWVzID0gW10sXG4gICAgbG9jYWxEZXBlbmRlbmNpZXMgPSBbXSxcbiAgICB0aW1lb3V0LFxuICAgIHdpbmRvdyA9IGRlZmF1bHRXaW5kb3dcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHdvcmtlciA9IHJlZigpO1xuICBjb25zdCB3b3JrZXJTdGF0dXMgPSBzaGFsbG93UmVmKFwiUEVORElOR1wiKTtcbiAgY29uc3QgcHJvbWlzZSA9IHJlZih7fSk7XG4gIGNvbnN0IHRpbWVvdXRJZCA9IHNoYWxsb3dSZWYoKTtcbiAgY29uc3Qgd29ya2VyVGVybWluYXRlID0gKHN0YXR1cyA9IFwiUEVORElOR1wiKSA9PiB7XG4gICAgaWYgKHdvcmtlci52YWx1ZSAmJiB3b3JrZXIudmFsdWUuX3VybCAmJiB3aW5kb3cpIHtcbiAgICAgIHdvcmtlci52YWx1ZS50ZXJtaW5hdGUoKTtcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwod29ya2VyLnZhbHVlLl91cmwpO1xuICAgICAgcHJvbWlzZS52YWx1ZSA9IHt9O1xuICAgICAgd29ya2VyLnZhbHVlID0gdm9pZCAwO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQudmFsdWUpO1xuICAgICAgd29ya2VyU3RhdHVzLnZhbHVlID0gc3RhdHVzO1xuICAgIH1cbiAgfTtcbiAgd29ya2VyVGVybWluYXRlKCk7XG4gIHRyeU9uU2NvcGVEaXNwb3NlKHdvcmtlclRlcm1pbmF0ZSk7XG4gIGNvbnN0IGdlbmVyYXRlV29ya2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IGJsb2JVcmwgPSBjcmVhdGVXb3JrZXJCbG9iVXJsKGZuLCBkZXBlbmRlbmNpZXMsIGxvY2FsRGVwZW5kZW5jaWVzKTtcbiAgICBjb25zdCBuZXdXb3JrZXIgPSBuZXcgV29ya2VyKGJsb2JVcmwpO1xuICAgIG5ld1dvcmtlci5fdXJsID0gYmxvYlVybDtcbiAgICBuZXdXb3JrZXIub25tZXNzYWdlID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzb2x2ZSA9ICgpID0+IHtcbiAgICAgIH0sIHJlamVjdCA9ICgpID0+IHtcbiAgICAgIH0gfSA9IHByb21pc2UudmFsdWU7XG4gICAgICBjb25zdCBbc3RhdHVzLCByZXN1bHRdID0gZS5kYXRhO1xuICAgICAgc3dpdGNoIChzdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcIlNVQ0NFU1NcIjpcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgd29ya2VyVGVybWluYXRlKHN0YXR1cyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgd29ya2VyVGVybWluYXRlKFwiRVJST1JcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfTtcbiAgICBuZXdXb3JrZXIub25lcnJvciA9IChlKSA9PiB7XG4gICAgICBjb25zdCB7IHJlamVjdCA9ICgpID0+IHtcbiAgICAgIH0gfSA9IHByb21pc2UudmFsdWU7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZWplY3QoZSk7XG4gICAgICB3b3JrZXJUZXJtaW5hdGUoXCJFUlJPUlwiKTtcbiAgICB9O1xuICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICB0aW1lb3V0SWQudmFsdWUgPSBzZXRUaW1lb3V0KFxuICAgICAgICAoKSA9PiB3b3JrZXJUZXJtaW5hdGUoXCJUSU1FT1VUX0VYUElSRURcIiksXG4gICAgICAgIHRpbWVvdXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBuZXdXb3JrZXI7XG4gIH07XG4gIGNvbnN0IGNhbGxXb3JrZXIgPSAoLi4uZm5BcmdzKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHByb21pc2UudmFsdWUgPSB7XG4gICAgICByZXNvbHZlLFxuICAgICAgcmVqZWN0XG4gICAgfTtcbiAgICAoX2EgPSB3b3JrZXIudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wb3N0TWVzc2FnZShbWy4uLmZuQXJnc11dKTtcbiAgICB3b3JrZXJTdGF0dXMudmFsdWUgPSBcIlJVTk5JTkdcIjtcbiAgfSk7XG4gIGNvbnN0IHdvcmtlckZuID0gKC4uLmZuQXJncykgPT4ge1xuICAgIGlmICh3b3JrZXJTdGF0dXMudmFsdWUgPT09IFwiUlVOTklOR1wiKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlt1c2VXZWJXb3JrZXJGbl0gWW91IGNhbiBvbmx5IHJ1biBvbmUgaW5zdGFuY2Ugb2YgdGhlIHdvcmtlciBhdCBhIHRpbWUuXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICB9XG4gICAgd29ya2VyLnZhbHVlID0gZ2VuZXJhdGVXb3JrZXIoKTtcbiAgICByZXR1cm4gY2FsbFdvcmtlciguLi5mbkFyZ3MpO1xuICB9O1xuICByZXR1cm4ge1xuICAgIHdvcmtlckZuLFxuICAgIHdvcmtlclN0YXR1cyxcbiAgICB3b3JrZXJUZXJtaW5hdGVcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlV2luZG93Rm9jdXMob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgd2luZG93ID0gZGVmYXVsdFdpbmRvdyB9ID0gb3B0aW9ucztcbiAgaWYgKCF3aW5kb3cpXG4gICAgcmV0dXJuIHNoYWxsb3dSZWYoZmFsc2UpO1xuICBjb25zdCBmb2N1c2VkID0gc2hhbGxvd1JlZih3aW5kb3cuZG9jdW1lbnQuaGFzRm9jdXMoKSk7XG4gIGNvbnN0IGxpc3RlbmVyT3B0aW9ucyA9IHsgcGFzc2l2ZTogdHJ1ZSB9O1xuICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdywgXCJibHVyXCIsICgpID0+IHtcbiAgICBmb2N1c2VkLnZhbHVlID0gZmFsc2U7XG4gIH0sIGxpc3RlbmVyT3B0aW9ucyk7XG4gIHVzZUV2ZW50TGlzdGVuZXIod2luZG93LCBcImZvY3VzXCIsICgpID0+IHtcbiAgICBmb2N1c2VkLnZhbHVlID0gdHJ1ZTtcbiAgfSwgbGlzdGVuZXJPcHRpb25zKTtcbiAgcmV0dXJuIGZvY3VzZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd1Njcm9sbChvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyB3aW5kb3cgPSBkZWZhdWx0V2luZG93LCAuLi5yZXN0IH0gPSBvcHRpb25zO1xuICByZXR1cm4gdXNlU2Nyb2xsKHdpbmRvdywgcmVzdCk7XG59XG5cbmZ1bmN0aW9uIHVzZVdpbmRvd1NpemUob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB3aW5kb3cgPSBkZWZhdWx0V2luZG93LFxuICAgIGluaXRpYWxXaWR0aCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICBpbml0aWFsSGVpZ2h0ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgIGxpc3Rlbk9yaWVudGF0aW9uID0gdHJ1ZSxcbiAgICBpbmNsdWRlU2Nyb2xsYmFyID0gdHJ1ZSxcbiAgICB0eXBlID0gXCJpbm5lclwiXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCB3aWR0aCA9IHNoYWxsb3dSZWYoaW5pdGlhbFdpZHRoKTtcbiAgY29uc3QgaGVpZ2h0ID0gc2hhbGxvd1JlZihpbml0aWFsSGVpZ2h0KTtcbiAgY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cpIHtcbiAgICAgIGlmICh0eXBlID09PSBcIm91dGVyXCIpIHtcbiAgICAgICAgd2lkdGgudmFsdWUgPSB3aW5kb3cub3V0ZXJXaWR0aDtcbiAgICAgICAgaGVpZ2h0LnZhbHVlID0gd2luZG93Lm91dGVySGVpZ2h0O1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcInZpc3VhbFwiICYmIHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoOiB2aXN1YWxWaWV3cG9ydFdpZHRoLCBoZWlnaHQ6IHZpc3VhbFZpZXdwb3J0SGVpZ2h0LCBzY2FsZSB9ID0gd2luZG93LnZpc3VhbFZpZXdwb3J0O1xuICAgICAgICB3aWR0aC52YWx1ZSA9IE1hdGgucm91bmQodmlzdWFsVmlld3BvcnRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgaGVpZ2h0LnZhbHVlID0gTWF0aC5yb3VuZCh2aXN1YWxWaWV3cG9ydEhlaWdodCAqIHNjYWxlKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5jbHVkZVNjcm9sbGJhcikge1xuICAgICAgICB3aWR0aC52YWx1ZSA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICBoZWlnaHQudmFsdWUgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3aWR0aC52YWx1ZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIGhlaWdodC52YWx1ZSA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdXBkYXRlKCk7XG4gIHRyeU9uTW91bnRlZCh1cGRhdGUpO1xuICBjb25zdCBsaXN0ZW5lck9wdGlvbnMgPSB7IHBhc3NpdmU6IHRydWUgfTtcbiAgdXNlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGUsIGxpc3RlbmVyT3B0aW9ucyk7XG4gIGlmICh3aW5kb3cgJiYgdHlwZSA9PT0gXCJ2aXN1YWxcIiAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcbiAgICB1c2VFdmVudExpc3RlbmVyKHdpbmRvdy52aXN1YWxWaWV3cG9ydCwgXCJyZXNpemVcIiwgdXBkYXRlLCBsaXN0ZW5lck9wdGlvbnMpO1xuICB9XG4gIGlmIChsaXN0ZW5PcmllbnRhdGlvbikge1xuICAgIGNvbnN0IG1hdGNoZXMgPSB1c2VNZWRpYVF1ZXJ5KFwiKG9yaWVudGF0aW9uOiBwb3J0cmFpdClcIik7XG4gICAgd2F0Y2gobWF0Y2hlcywgKCkgPT4gdXBkYXRlKCkpO1xuICB9XG4gIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbn1cblxuZXhwb3J0IHsgRGVmYXVsdE1hZ2ljS2V5c0FsaWFzTWFwLCBTdG9yYWdlU2VyaWFsaXplcnMsIFRyYW5zaXRpb25QcmVzZXRzLCBjb21wdXRlZEFzeW5jIGFzIGFzeW5jQ29tcHV0ZWQsIGJyZWFrcG9pbnRzQW50RGVzaWduLCBicmVha3BvaW50c0Jvb3RzdHJhcFY1LCBicmVha3BvaW50c0VsZW1lbnQsIGJyZWFrcG9pbnRzTWFzdGVyQ3NzLCBicmVha3BvaW50c1ByaW1lRmxleCwgYnJlYWtwb2ludHNRdWFzYXIsIGJyZWFrcG9pbnRzU2VtYXRpYywgYnJlYWtwb2ludHNUYWlsd2luZCwgYnJlYWtwb2ludHNWdWV0aWZ5LCBicmVha3BvaW50c1Z1ZXRpZnlWMiwgYnJlYWtwb2ludHNWdWV0aWZ5VjMsIGNsb25lRm5KU09OLCBjb21wdXRlZEFzeW5jLCBjb21wdXRlZEluamVjdCwgY3JlYXRlRmV0Y2gsIGNyZWF0ZVJldXNhYmxlVGVtcGxhdGUsIGNyZWF0ZVRlbXBsYXRlUHJvbWlzZSwgY3JlYXRlVW5yZWZGbiwgY3VzdG9tU3RvcmFnZUV2ZW50TmFtZSwgZGVmYXVsdERvY3VtZW50LCBkZWZhdWx0TG9jYXRpb24sIGRlZmF1bHROYXZpZ2F0b3IsIGRlZmF1bHRXaW5kb3csIGV4ZWN1dGVUcmFuc2l0aW9uLCBmb3JtYXRUaW1lQWdvLCBnZXRTU1JIYW5kbGVyLCBtYXBHYW1lcGFkVG9YYm94MzYwQ29udHJvbGxlciwgb25DbGlja091dHNpZGUsIG9uRWxlbWVudFJlbW92YWwsIG9uS2V5RG93biwgb25LZXlQcmVzc2VkLCBvbktleVN0cm9rZSwgb25LZXlVcCwgb25Mb25nUHJlc3MsIG9uU3RhcnRUeXBpbmcsIHByb3ZpZGVTU1JXaWR0aCwgc2V0U1NSSGFuZGxlciwgdGVtcGxhdGVSZWYsIHVucmVmRWxlbWVudCwgdXNlQWN0aXZlRWxlbWVudCwgdXNlQW5pbWF0ZSwgdXNlQXN5bmNRdWV1ZSwgdXNlQXN5bmNTdGF0ZSwgdXNlQmFzZTY0LCB1c2VCYXR0ZXJ5LCB1c2VCbHVldG9vdGgsIHVzZUJyZWFrcG9pbnRzLCB1c2VCcm9hZGNhc3RDaGFubmVsLCB1c2VCcm93c2VyTG9jYXRpb24sIHVzZUNhY2hlZCwgdXNlQ2xpcGJvYXJkLCB1c2VDbGlwYm9hcmRJdGVtcywgdXNlQ2xvbmVkLCB1c2VDb2xvck1vZGUsIHVzZUNvbmZpcm1EaWFsb2csIHVzZUNvdW50ZG93biwgdXNlQ3NzVmFyLCB1c2VDdXJyZW50RWxlbWVudCwgdXNlQ3ljbGVMaXN0LCB1c2VEYXJrLCB1c2VEZWJvdW5jZWRSZWZIaXN0b3J5LCB1c2VEZXZpY2VNb3Rpb24sIHVzZURldmljZU9yaWVudGF0aW9uLCB1c2VEZXZpY2VQaXhlbFJhdGlvLCB1c2VEZXZpY2VzTGlzdCwgdXNlRGlzcGxheU1lZGlhLCB1c2VEb2N1bWVudFZpc2liaWxpdHksIHVzZURyYWdnYWJsZSwgdXNlRHJvcFpvbmUsIHVzZUVsZW1lbnRCb3VuZGluZywgdXNlRWxlbWVudEJ5UG9pbnQsIHVzZUVsZW1lbnRIb3ZlciwgdXNlRWxlbWVudFNpemUsIHVzZUVsZW1lbnRWaXNpYmlsaXR5LCB1c2VFdmVudEJ1cywgdXNlRXZlbnRMaXN0ZW5lciwgdXNlRXZlbnRTb3VyY2UsIHVzZUV5ZURyb3BwZXIsIHVzZUZhdmljb24sIHVzZUZldGNoLCB1c2VGaWxlRGlhbG9nLCB1c2VGaWxlU3lzdGVtQWNjZXNzLCB1c2VGb2N1cywgdXNlRm9jdXNXaXRoaW4sIHVzZUZwcywgdXNlRnVsbHNjcmVlbiwgdXNlR2FtZXBhZCwgdXNlR2VvbG9jYXRpb24sIHVzZUlkbGUsIHVzZUltYWdlLCB1c2VJbmZpbml0ZVNjcm9sbCwgdXNlSW50ZXJzZWN0aW9uT2JzZXJ2ZXIsIHVzZUtleU1vZGlmaWVyLCB1c2VMb2NhbFN0b3JhZ2UsIHVzZU1hZ2ljS2V5cywgdXNlTWFudWFsUmVmSGlzdG9yeSwgdXNlTWVkaWFDb250cm9scywgdXNlTWVkaWFRdWVyeSwgdXNlTWVtb2l6ZSwgdXNlTWVtb3J5LCB1c2VNb3VudGVkLCB1c2VNb3VzZSwgdXNlTW91c2VJbkVsZW1lbnQsIHVzZU1vdXNlUHJlc3NlZCwgdXNlTXV0YXRpb25PYnNlcnZlciwgdXNlTmF2aWdhdG9yTGFuZ3VhZ2UsIHVzZU5ldHdvcmssIHVzZU5vdywgdXNlT2JqZWN0VXJsLCB1c2VPZmZzZXRQYWdpbmF0aW9uLCB1c2VPbmxpbmUsIHVzZVBhZ2VMZWF2ZSwgdXNlUGFyYWxsYXgsIHVzZVBhcmVudEVsZW1lbnQsIHVzZVBlcmZvcm1hbmNlT2JzZXJ2ZXIsIHVzZVBlcm1pc3Npb24sIHVzZVBvaW50ZXIsIHVzZVBvaW50ZXJMb2NrLCB1c2VQb2ludGVyU3dpcGUsIHVzZVByZWZlcnJlZENvbG9yU2NoZW1lLCB1c2VQcmVmZXJyZWRDb250cmFzdCwgdXNlUHJlZmVycmVkRGFyaywgdXNlUHJlZmVycmVkTGFuZ3VhZ2VzLCB1c2VQcmVmZXJyZWRSZWR1Y2VkTW90aW9uLCB1c2VQcmVmZXJyZWRSZWR1Y2VkVHJhbnNwYXJlbmN5LCB1c2VQcmV2aW91cywgdXNlUmFmRm4sIHVzZVJlZkhpc3RvcnksIHVzZVJlc2l6ZU9ic2VydmVyLCB1c2VTU1JXaWR0aCwgdXNlU2NyZWVuT3JpZW50YXRpb24sIHVzZVNjcmVlblNhZmVBcmVhLCB1c2VTY3JpcHRUYWcsIHVzZVNjcm9sbCwgdXNlU2Nyb2xsTG9jaywgdXNlU2Vzc2lvblN0b3JhZ2UsIHVzZVNoYXJlLCB1c2VTb3J0ZWQsIHVzZVNwZWVjaFJlY29nbml0aW9uLCB1c2VTcGVlY2hTeW50aGVzaXMsIHVzZVN0ZXBwZXIsIHVzZVN0b3JhZ2UsIHVzZVN0b3JhZ2VBc3luYywgdXNlU3R5bGVUYWcsIHVzZVN1cHBvcnRlZCwgdXNlU3dpcGUsIHVzZVRlbXBsYXRlUmVmc0xpc3QsIHVzZVRleHREaXJlY3Rpb24sIHVzZVRleHRTZWxlY3Rpb24sIHVzZVRleHRhcmVhQXV0b3NpemUsIHVzZVRocm90dGxlZFJlZkhpc3RvcnksIHVzZVRpbWVBZ28sIHVzZVRpbWVvdXRQb2xsLCB1c2VUaW1lc3RhbXAsIHVzZVRpdGxlLCB1c2VUcmFuc2l0aW9uLCB1c2VVcmxTZWFyY2hQYXJhbXMsIHVzZVVzZXJNZWRpYSwgdXNlVk1vZGVsLCB1c2VWTW9kZWxzLCB1c2VWaWJyYXRlLCB1c2VWaXJ0dWFsTGlzdCwgdXNlV2FrZUxvY2ssIHVzZVdlYk5vdGlmaWNhdGlvbiwgdXNlV2ViU29ja2V0LCB1c2VXZWJXb3JrZXIsIHVzZVdlYldvcmtlckZuLCB1c2VXaW5kb3dGb2N1cywgdXNlV2luZG93U2Nyb2xsLCB1c2VXaW5kb3dTaXplIH07XG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHVzZVZNb2RlbCB9IGZyb20gJ0B2dWV1c2UvY29yZSdcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnXG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8e1xuICBkZWZhdWx0VmFsdWU/OiBzdHJpbmcgfCBudW1iZXJcbiAgbW9kZWxWYWx1ZT86IHN0cmluZyB8IG51bWJlclxuICBjbGFzcz86IEhUTUxBdHRyaWJ1dGVzWydjbGFzcyddXG59PigpXG5cbmNvbnN0IGVtaXRzID0gZGVmaW5lRW1pdHM8e1xuICAoZTogJ3VwZGF0ZTptb2RlbFZhbHVlJywgcGF5bG9hZDogc3RyaW5nIHwgbnVtYmVyKTogdm9pZFxufT4oKVxuXG5jb25zdCBtb2RlbFZhbHVlID0gdXNlVk1vZGVsKHByb3BzLCAnbW9kZWxWYWx1ZScsIGVtaXRzLCB7XG4gIHBhc3NpdmU6IHRydWUsXG4gIGRlZmF1bHRWYWx1ZTogcHJvcHMuZGVmYXVsdFZhbHVlLFxufSlcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxpbnB1dFxuICAgIHYtbW9kZWw9XCJtb2RlbFZhbHVlXCJcbiAgICBkYXRhLXNsb3Q9XCJpbnB1dFwiXG4gICAgOmNsYXNzPVwiY24oXG4gICAgICAnZmlsZTp0ZXh0LWZvcmVncm91bmQgcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHNlbGVjdGlvbjpiZy1wcmltYXJ5IHNlbGVjdGlvbjp0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBkYXJrOmJnLWlucHV0LzMwIGJvcmRlci1pbnB1dCBmbGV4IGgtOSB3LWZ1bGwgbWluLXctMCByb3VuZGVkLW1kIGJvcmRlciBiZy10cmFuc3BhcmVudCBweC0zIHB5LTEgdGV4dC1iYXNlIHNoYWRvdy14cyB0cmFuc2l0aW9uLVtjb2xvcixib3gtc2hhZG93XSBvdXRsaW5lLW5vbmUgZmlsZTppbmxpbmUtZmxleCBmaWxlOmgtNyBmaWxlOmJvcmRlci0wIGZpbGU6YmctdHJhbnNwYXJlbnQgZmlsZTp0ZXh0LXNtIGZpbGU6Zm9udC1tZWRpdW0gZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBtZDp0ZXh0LXNtJyxcbiAgICAgICdmb2N1cy12aXNpYmxlOmJvcmRlci1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6cmluZy1bM3B4XScsXG4gICAgICAnYXJpYS1pbnZhbGlkOnJpbmctZGVzdHJ1Y3RpdmUvMjAgZGFyazphcmlhLWludmFsaWQ6cmluZy1kZXN0cnVjdGl2ZS80MCBhcmlhLWludmFsaWQ6Ym9yZGVyLWRlc3RydWN0aXZlJyxcbiAgICAgIHByb3BzLmNsYXNzLFxuICAgIClcIlxuICA+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyB1c2VWTW9kZWwgfSBmcm9tICdAdnVldXNlL2NvcmUnXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcbiAgZGVmYXVsdFZhbHVlPzogc3RyaW5nIHwgbnVtYmVyXG4gIG1vZGVsVmFsdWU/OiBzdHJpbmcgfCBudW1iZXJcbiAgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXVxufT4oKVxuXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzPHtcbiAgKGU6ICd1cGRhdGU6bW9kZWxWYWx1ZScsIHBheWxvYWQ6IHN0cmluZyB8IG51bWJlcik6IHZvaWRcbn0+KClcblxuY29uc3QgbW9kZWxWYWx1ZSA9IHVzZVZNb2RlbChwcm9wcywgJ21vZGVsVmFsdWUnLCBlbWl0cywge1xuICBwYXNzaXZlOiB0cnVlLFxuICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRWYWx1ZSxcbn0pXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8aW5wdXRcbiAgICB2LW1vZGVsPVwibW9kZWxWYWx1ZVwiXG4gICAgZGF0YS1zbG90PVwiaW5wdXRcIlxuICAgIDpjbGFzcz1cImNuKFxuICAgICAgJ2ZpbGU6dGV4dC1mb3JlZ3JvdW5kIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBzZWxlY3Rpb246YmctcHJpbWFyeSBzZWxlY3Rpb246dGV4dC1wcmltYXJ5LWZvcmVncm91bmQgZGFyazpiZy1pbnB1dC8zMCBib3JkZXItaW5wdXQgZmxleCBoLTkgdy1mdWxsIG1pbi13LTAgcm91bmRlZC1tZCBib3JkZXIgYmctdHJhbnNwYXJlbnQgcHgtMyBweS0xIHRleHQtYmFzZSBzaGFkb3cteHMgdHJhbnNpdGlvbi1bY29sb3IsYm94LXNoYWRvd10gb3V0bGluZS1ub25lIGZpbGU6aW5saW5lLWZsZXggZmlsZTpoLTcgZmlsZTpib3JkZXItMCBmaWxlOmJnLXRyYW5zcGFyZW50IGZpbGU6dGV4dC1zbSBmaWxlOmZvbnQtbWVkaXVtIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTAgbWQ6dGV4dC1zbScsXG4gICAgICAnZm9jdXMtdmlzaWJsZTpib3JkZXItcmluZyBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOnJpbmctWzNweF0nLFxuICAgICAgJ2FyaWEtaW52YWxpZDpyaW5nLWRlc3RydWN0aXZlLzIwIGRhcms6YXJpYS1pbnZhbGlkOnJpbmctZGVzdHJ1Y3RpdmUvNDAgYXJpYS1pbnZhbGlkOmJvcmRlci1kZXN0cnVjdGl2ZScsXG4gICAgICBwcm9wcy5jbGFzcyxcbiAgICApXCJcbiAgPlxuPC90ZW1wbGF0ZT5cbiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgdHlwZSB7IEhUTUxBdHRyaWJ1dGVzIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgcmVhY3RpdmVPbWl0IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJ1xuaW1wb3J0IHsgTGFiZWwsIHR5cGUgTGFiZWxQcm9wcyB9IGZyb20gJ3Jla2EtdWknXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPExhYmVsUHJvcHMgJiB7IGNsYXNzPzogSFRNTEF0dHJpYnV0ZXNbJ2NsYXNzJ10gfT4oKVxuXG5jb25zdCBkZWxlZ2F0ZWRQcm9wcyA9IHJlYWN0aXZlT21pdChwcm9wcywgJ2NsYXNzJylcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxMYWJlbFxuICAgIGRhdGEtc2xvdD1cImxhYmVsXCJcbiAgICB2LWJpbmQ9XCJkZWxlZ2F0ZWRQcm9wc1wiXG4gICAgOmNsYXNzPVwiXG4gICAgICBjbihcbiAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gbGVhZGluZy1ub25lIGZvbnQtbWVkaXVtIHNlbGVjdC1ub25lIGdyb3VwLWRhdGEtW2Rpc2FibGVkPXRydWVdOnBvaW50ZXItZXZlbnRzLW5vbmUgZ3JvdXAtZGF0YS1bZGlzYWJsZWQ9dHJ1ZV06b3BhY2l0eS01MCBwZWVyLWRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBwZWVyLWRpc2FibGVkOm9wYWNpdHktNTAnLFxuICAgICAgICBwcm9wcy5jbGFzcyxcbiAgICAgIClcbiAgICBcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9MYWJlbD5cbjwvdGVtcGxhdGU+XG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHJlYWN0aXZlT21pdCB9IGZyb20gJ0B2dWV1c2UvY29yZSdcbmltcG9ydCB7IExhYmVsLCB0eXBlIExhYmVsUHJvcHMgfSBmcm9tICdyZWthLXVpJ1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscydcblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxMYWJlbFByb3BzICYgeyBjbGFzcz86IEhUTUxBdHRyaWJ1dGVzWydjbGFzcyddIH0+KClcblxuY29uc3QgZGVsZWdhdGVkUHJvcHMgPSByZWFjdGl2ZU9taXQocHJvcHMsICdjbGFzcycpXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8TGFiZWxcbiAgICBkYXRhLXNsb3Q9XCJsYWJlbFwiXG4gICAgdi1iaW5kPVwiZGVsZWdhdGVkUHJvcHNcIlxuICAgIDpjbGFzcz1cIlxuICAgICAgY24oXG4gICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIGxlYWRpbmctbm9uZSBmb250LW1lZGl1bSBzZWxlY3Qtbm9uZSBncm91cC1kYXRhLVtkaXNhYmxlZD10cnVlXTpwb2ludGVyLWV2ZW50cy1ub25lIGdyb3VwLWRhdGEtW2Rpc2FibGVkPXRydWVdOm9wYWNpdHktNTAgcGVlci1kaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgcGVlci1kaXNhYmxlZDpvcGFjaXR5LTUwJyxcbiAgICAgICAgcHJvcHMuY2xhc3MsXG4gICAgICApXG4gICAgXCJcbiAgPlxuICAgIDxzbG90IC8+XG4gIDwvTGFiZWw+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyB1c2VWTW9kZWwgfSBmcm9tICdAdnVldXNlL2NvcmUnXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcbiAgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXVxuICBkZWZhdWx0VmFsdWU/OiBzdHJpbmcgfCBudW1iZXJcbiAgbW9kZWxWYWx1ZT86IHN0cmluZyB8IG51bWJlclxufT4oKVxuXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzPHtcbiAgKGU6ICd1cGRhdGU6bW9kZWxWYWx1ZScsIHBheWxvYWQ6IHN0cmluZyB8IG51bWJlcik6IHZvaWRcbn0+KClcblxuY29uc3QgbW9kZWxWYWx1ZSA9IHVzZVZNb2RlbChwcm9wcywgJ21vZGVsVmFsdWUnLCBlbWl0cywge1xuICBwYXNzaXZlOiB0cnVlLFxuICBkZWZhdWx0VmFsdWU6IHByb3BzLmRlZmF1bHRWYWx1ZSxcbn0pXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8dGV4dGFyZWFcbiAgICB2LW1vZGVsPVwibW9kZWxWYWx1ZVwiXG4gICAgZGF0YS1zbG90PVwidGV4dGFyZWFcIlxuICAgIDpjbGFzcz1cImNuKCdib3JkZXItaW5wdXQgcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZvY3VzLXZpc2libGU6Ym9yZGVyLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcvNTAgYXJpYS1pbnZhbGlkOnJpbmctZGVzdHJ1Y3RpdmUvMjAgZGFyazphcmlhLWludmFsaWQ6cmluZy1kZXN0cnVjdGl2ZS80MCBhcmlhLWludmFsaWQ6Ym9yZGVyLWRlc3RydWN0aXZlIGRhcms6YmctaW5wdXQvMzAgZmxleCBmaWVsZC1zaXppbmctY29udGVudCBtaW4taC0xNiB3LWZ1bGwgcm91bmRlZC1tZCBib3JkZXIgYmctdHJhbnNwYXJlbnQgcHgtMyBweS0yIHRleHQtYmFzZSBzaGFkb3cteHMgdHJhbnNpdGlvbi1bY29sb3IsYm94LXNoYWRvd10gb3V0bGluZS1ub25lIGZvY3VzLXZpc2libGU6cmluZy1bM3B4XSBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBtZDp0ZXh0LXNtJywgcHJvcHMuY2xhc3MpXCJcbiAgLz5cbjwvdGVtcGxhdGU+XG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHVzZVZNb2RlbCB9IGZyb20gJ0B2dWV1c2UvY29yZSdcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnXG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8e1xuICBjbGFzcz86IEhUTUxBdHRyaWJ1dGVzWydjbGFzcyddXG4gIGRlZmF1bHRWYWx1ZT86IHN0cmluZyB8IG51bWJlclxuICBtb2RlbFZhbHVlPzogc3RyaW5nIHwgbnVtYmVyXG59PigpXG5cbmNvbnN0IGVtaXRzID0gZGVmaW5lRW1pdHM8e1xuICAoZTogJ3VwZGF0ZTptb2RlbFZhbHVlJywgcGF5bG9hZDogc3RyaW5nIHwgbnVtYmVyKTogdm9pZFxufT4oKVxuXG5jb25zdCBtb2RlbFZhbHVlID0gdXNlVk1vZGVsKHByb3BzLCAnbW9kZWxWYWx1ZScsIGVtaXRzLCB7XG4gIHBhc3NpdmU6IHRydWUsXG4gIGRlZmF1bHRWYWx1ZTogcHJvcHMuZGVmYXVsdFZhbHVlLFxufSlcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDx0ZXh0YXJlYVxuICAgIHYtbW9kZWw9XCJtb2RlbFZhbHVlXCJcbiAgICBkYXRhLXNsb3Q9XCJ0ZXh0YXJlYVwiXG4gICAgOmNsYXNzPVwiY24oJ2JvcmRlci1pbnB1dCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpib3JkZXItcmluZyBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBhcmlhLWludmFsaWQ6cmluZy1kZXN0cnVjdGl2ZS8yMCBkYXJrOmFyaWEtaW52YWxpZDpyaW5nLWRlc3RydWN0aXZlLzQwIGFyaWEtaW52YWxpZDpib3JkZXItZGVzdHJ1Y3RpdmUgZGFyazpiZy1pbnB1dC8zMCBmbGV4IGZpZWxkLXNpemluZy1jb250ZW50IG1pbi1oLTE2IHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBiZy10cmFuc3BhcmVudCBweC0zIHB5LTIgdGV4dC1iYXNlIHNoYWRvdy14cyB0cmFuc2l0aW9uLVtjb2xvcixib3gtc2hhZG93XSBvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLVszcHhdIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCBkaXNhYmxlZDpvcGFjaXR5LTUwIG1kOnRleHQtc20nLCBwcm9wcy5jbGFzcylcIlxuICAvPlxuPC90ZW1wbGF0ZT5cbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5jb25zdCB0b0tlYmFiQ2FzZSA9IChzdHJpbmcpID0+IHN0cmluZy5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XG5jb25zdCB0b0NhbWVsQ2FzZSA9IChzdHJpbmcpID0+IHN0cmluZy5yZXBsYWNlKFxuICAvXihbQS1aXSl8W1xccy1fXSsoXFx3KS9nLFxuICAobWF0Y2gsIHAxLCBwMikgPT4gcDIgPyBwMi50b1VwcGVyQ2FzZSgpIDogcDEudG9Mb3dlckNhc2UoKVxuKTtcbmNvbnN0IHRvUGFzY2FsQ2FzZSA9IChzdHJpbmcpID0+IHtcbiAgY29uc3QgY2FtZWxDYXNlID0gdG9DYW1lbENhc2Uoc3RyaW5nKTtcbiAgcmV0dXJuIGNhbWVsQ2FzZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGNhbWVsQ2FzZS5zbGljZSgxKTtcbn07XG5jb25zdCBtZXJnZUNsYXNzZXMgPSAoLi4uY2xhc3NlcykgPT4gY2xhc3Nlcy5maWx0ZXIoKGNsYXNzTmFtZSwgaW5kZXgsIGFycmF5KSA9PiB7XG4gIHJldHVybiBCb29sZWFuKGNsYXNzTmFtZSkgJiYgY2xhc3NOYW1lLnRyaW0oKSAhPT0gXCJcIiAmJiBhcnJheS5pbmRleE9mKGNsYXNzTmFtZSkgPT09IGluZGV4O1xufSkuam9pbihcIiBcIikudHJpbSgpO1xuXG5leHBvcnQgeyBtZXJnZUNsYXNzZXMsIHRvQ2FtZWxDYXNlLCB0b0tlYmFiQ2FzZSwgdG9QYXNjYWxDYXNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG52YXIgZGVmYXVsdEF0dHJpYnV0ZXMgPSB7XG4gIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gIHdpZHRoOiAyNCxcbiAgaGVpZ2h0OiAyNCxcbiAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgZmlsbDogXCJub25lXCIsXG4gIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgXCJzdHJva2Utd2lkdGhcIjogMixcbiAgXCJzdHJva2UtbGluZWNhcFwiOiBcInJvdW5kXCIsXG4gIFwic3Ryb2tlLWxpbmVqb2luXCI6IFwicm91bmRcIlxufTtcblxuZXhwb3J0IHsgZGVmYXVsdEF0dHJpYnV0ZXMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVmYXVsdEF0dHJpYnV0ZXMuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHsgaCB9IGZyb20gJ3Z1ZSc7XG5pbXBvcnQgeyBtZXJnZUNsYXNzZXMsIHRvS2ViYWJDYXNlLCB0b1Bhc2NhbENhc2UgfSBmcm9tICcuL3NoYXJlZC9zcmMvdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRBdHRyaWJ1dGVzIGZyb20gJy4vZGVmYXVsdEF0dHJpYnV0ZXMuanMnO1xuXG5jb25zdCBJY29uID0gKHsgc2l6ZSwgc3Ryb2tlV2lkdGggPSAyLCBhYnNvbHV0ZVN0cm9rZVdpZHRoLCBjb2xvciwgaWNvbk5vZGUsIG5hbWUsIGNsYXNzOiBjbGFzc2VzLCAuLi5wcm9wcyB9LCB7IHNsb3RzIH0pID0+IHtcbiAgcmV0dXJuIGgoXG4gICAgXCJzdmdcIixcbiAgICB7XG4gICAgICAuLi5kZWZhdWx0QXR0cmlidXRlcyxcbiAgICAgIHdpZHRoOiBzaXplIHx8IGRlZmF1bHRBdHRyaWJ1dGVzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBzaXplIHx8IGRlZmF1bHRBdHRyaWJ1dGVzLmhlaWdodCxcbiAgICAgIHN0cm9rZTogY29sb3IgfHwgZGVmYXVsdEF0dHJpYnV0ZXMuc3Ryb2tlLFxuICAgICAgXCJzdHJva2Utd2lkdGhcIjogYWJzb2x1dGVTdHJva2VXaWR0aCA/IE51bWJlcihzdHJva2VXaWR0aCkgKiAyNCAvIE51bWJlcihzaXplKSA6IHN0cm9rZVdpZHRoLFxuICAgICAgY2xhc3M6IG1lcmdlQ2xhc3NlcyhcbiAgICAgICAgXCJsdWNpZGVcIixcbiAgICAgICAgLi4ubmFtZSA/IFtgbHVjaWRlLSR7dG9LZWJhYkNhc2UodG9QYXNjYWxDYXNlKG5hbWUpKX0taWNvbmAsIGBsdWNpZGUtJHt0b0tlYmFiQ2FzZShuYW1lKX1gXSA6IFtcImx1Y2lkZS1pY29uXCJdXG4gICAgICApLFxuICAgICAgLi4ucHJvcHNcbiAgICB9LFxuICAgIFsuLi5pY29uTm9kZS5tYXAoKGNoaWxkKSA9PiBoKC4uLmNoaWxkKSksIC4uLnNsb3RzLmRlZmF1bHQgPyBbc2xvdHMuZGVmYXVsdCgpXSA6IFtdXVxuICApO1xufTtcblxuZXhwb3J0IHsgSWNvbiBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JY29uLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7IGggfSBmcm9tICd2dWUnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9JY29uLmpzJztcblxuY29uc3QgY3JlYXRlTHVjaWRlSWNvbiA9IChpY29uTmFtZSwgaWNvbk5vZGUpID0+IChwcm9wcywgeyBzbG90cyB9KSA9PiBoKFxuICBJY29uLFxuICB7XG4gICAgLi4ucHJvcHMsXG4gICAgaWNvbk5vZGUsXG4gICAgbmFtZTogaWNvbk5hbWVcbiAgfSxcbiAgc2xvdHNcbik7XG5cbmV4cG9ydCB7IGNyZWF0ZUx1Y2lkZUljb24gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlTHVjaWRlSWNvbi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgQm90ID0gY3JlYXRlTHVjaWRlSWNvbihcImJvdFwiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiA4VjRIOFwiLCBrZXk6IFwiaGI4dWxhXCIgfV0sXG4gIFtcInJlY3RcIiwgeyB3aWR0aDogXCIxNlwiLCBoZWlnaHQ6IFwiMTJcIiwgeDogXCI0XCIsIHk6IFwiOFwiLCByeDogXCIyXCIsIGtleTogXCJlbnplMHJcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTIgMTRoMlwiLCBrZXk6IFwidmZ0OHJlXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yMCAxNGgyXCIsIGtleTogXCI0Y3M2MGFcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE1IDEzdjJcIiwga2V5OiBcIjF4dXJzdFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOSAxM3YyXCIsIGtleTogXCJycTZ4MmdcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IEJvdCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib3QuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IEJyYWluID0gY3JlYXRlTHVjaWRlSWNvbihcImJyYWluXCIsIFtcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTEyIDVhMyAzIDAgMSAwLTUuOTk3LjEyNSA0IDQgMCAwIDAtMi41MjYgNS43NyA0IDQgMCAwIDAgLjU1NiA2LjU4OEE0IDQgMCAxIDAgMTIgMThaXCIsXG4gICAgICBrZXk6IFwibDV4amFcIlxuICAgIH1cbiAgXSxcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTEyIDVhMyAzIDAgMSAxIDUuOTk3LjEyNSA0IDQgMCAwIDEgMi41MjYgNS43NyA0IDQgMCAwIDEtLjU1NiA2LjU4OEE0IDQgMCAxIDEgMTIgMThaXCIsXG4gICAgICBrZXk6IFwiZXAzZjhyXCJcbiAgICB9XG4gIF0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNSAxM2E0LjUgNC41IDAgMCAxLTMtNCA0LjUgNC41IDAgMCAxLTMgNFwiLCBrZXk6IFwiMXA0YzRxXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNy41OTkgNi41YTMgMyAwIDAgMCAuMzk5LTEuMzc1XCIsIGtleTogXCJ0bWVpcXdcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTYuMDAzIDUuMTI1QTMgMyAwIDAgMCA2LjQwMSA2LjVcIiwga2V5OiBcIjEwNXNxeVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMy40NzcgMTAuODk2YTQgNCAwIDAgMSAuNTg1LS4zOTZcIiwga2V5OiBcInFsM3lpblwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTkuOTM4IDEwLjVhNCA0IDAgMCAxIC41ODUuMzk2XCIsIGtleTogXCIxcWZvZGVcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTYgMThhNCA0IDAgMCAxLTEuOTY3LS41MTZcIiwga2V5OiBcIjJlNGxvalwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTkuOTY3IDE3LjQ4NEE0IDQgMCAwIDEgMTggMThcIiwga2V5OiBcIjE1OWV6NlwiIH1dXG5dKTtcblxuZXhwb3J0IHsgQnJhaW4gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJhaW4uanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IENoZWNrID0gY3JlYXRlTHVjaWRlSWNvbihcImNoZWNrXCIsIFtbXCJwYXRoXCIsIHsgZDogXCJNMjAgNiA5IDE3bC01LTVcIiwga2V5OiBcIjFnbWYyY1wiIH1dXSk7XG5cbmV4cG9ydCB7IENoZWNrIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBDaGV2cm9uRG93biA9IGNyZWF0ZUx1Y2lkZUljb24oXCJjaGV2cm9uLWRvd25cIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJtNiA5IDYgNiA2LTZcIiwga2V5OiBcInFydW5zbFwiIH1dXG5dKTtcblxuZXhwb3J0IHsgQ2hldnJvbkRvd24gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hldnJvbi1kb3duLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBDaGV2cm9uUmlnaHQgPSBjcmVhdGVMdWNpZGVJY29uKFwiY2hldnJvbi1yaWdodFwiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIm05IDE4IDYtNi02LTZcIiwga2V5OiBcIm10aGh3cVwiIH1dXG5dKTtcblxuZXhwb3J0IHsgQ2hldnJvblJpZ2h0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZXZyb24tcmlnaHQuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IENpcmNsZUNoZWNrQmlnID0gY3JlYXRlTHVjaWRlSWNvbihcImNpcmNsZS1jaGVjay1iaWdcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMjEuODAxIDEwQTEwIDEwIDAgMSAxIDE3IDMuMzM1XCIsIGtleTogXCJ5cHMzY3RcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTkgMTEgMyAzTDIyIDRcIiwga2V5OiBcIjFwZmx6bFwiIH1dXG5dKTtcblxuZXhwb3J0IHsgQ2lyY2xlQ2hlY2tCaWcgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2lyY2xlLWNoZWNrLWJpZy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgQ2lyY2xlQ2hlY2sgPSBjcmVhdGVMdWNpZGVJY29uKFwiY2lyY2xlLWNoZWNrXCIsIFtcbiAgW1wiY2lyY2xlXCIsIHsgY3g6IFwiMTJcIiwgY3k6IFwiMTJcIiwgcjogXCIxMFwiLCBrZXk6IFwiMW1nbGF5XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm05IDEyIDIgMiA0LTRcIiwga2V5OiBcImR6bW03NFwiIH1dXG5dKTtcblxuZXhwb3J0IHsgQ2lyY2xlQ2hlY2sgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2lyY2xlLWNoZWNrLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBDaXJjbGVYID0gY3JlYXRlTHVjaWRlSWNvbihcImNpcmNsZS14XCIsIFtcbiAgW1wiY2lyY2xlXCIsIHsgY3g6IFwiMTJcIiwgY3k6IFwiMTJcIiwgcjogXCIxMFwiLCBrZXk6IFwiMW1nbGF5XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm0xNSA5LTYgNlwiLCBrZXk6IFwiMXV6aHZyXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm05IDkgNiA2XCIsIGtleTogXCJ6MGJpcWZcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IENpcmNsZVggYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2lyY2xlLXguanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IENpcmNsZSA9IGNyZWF0ZUx1Y2lkZUljb24oXCJjaXJjbGVcIiwgW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjEwXCIsIGtleTogXCIxbWdsYXlcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IENpcmNsZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaXJjbGUuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IENsb2NrID0gY3JlYXRlTHVjaWRlSWNvbihcImNsb2NrXCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDZ2Nmw0IDJcIiwga2V5OiBcIm1tazd5Z1wiIH1dLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjEwXCIsIGtleTogXCIxbWdsYXlcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IENsb2NrIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsb2NrLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBDb2RlID0gY3JlYXRlTHVjaWRlSWNvbihcImNvZGVcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJtMTYgMTggNi02LTYtNlwiLCBrZXk6IFwiZWc4ajhcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTggNi02IDYgNiA2XCIsIGtleTogXCJwcGZ0M29cIiB9XVxuXSk7XG5cbmV4cG9ydCB7IENvZGUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29kZS5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgRG93bmxvYWQgPSBjcmVhdGVMdWNpZGVJY29uKFwiZG93bmxvYWRcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgMTVWM1wiLCBrZXk6IFwibTlnMXgxXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yMSAxNXY0YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0ydi00XCIsIGtleTogXCJpaDduM2hcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTcgMTAgNSA1IDUtNVwiLCBrZXk6IFwiYnJzbjcwXCIgfV1cbl0pO1xuXG5leHBvcnQgeyBEb3dubG9hZCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb3dubG9hZC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgRXllT2ZmID0gY3JlYXRlTHVjaWRlSWNvbihcImV5ZS1vZmZcIiwgW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5XCIsXG4gICAgICBrZXk6IFwiY3Q4ZTFmXCJcbiAgICB9XG4gIF0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MlwiLCBrZXk6IFwiMTUxcnhoXCIgfV0sXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0xNy40NzkgMTcuNDk5YTEwLjc1IDEwLjc1IDAgMCAxLTE1LjQxNy01LjE1MSAxIDEgMCAwIDEgMC0uNjk2IDEwLjc1IDEwLjc1IDAgMCAxIDQuNDQ2LTUuMTQzXCIsXG4gICAgICBrZXk6IFwiMTNiajlhXCJcbiAgICB9XG4gIF0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm0yIDIgMjAgMjBcIiwga2V5OiBcIjFvb2V3eVwiIH1dXG5dKTtcblxuZXhwb3J0IHsgRXllT2ZmIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV5ZS1vZmYuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IEV5ZSA9IGNyZWF0ZUx1Y2lkZUljb24oXCJleWVcIiwgW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMFwiLFxuICAgICAga2V5OiBcIjFuY2xjMFwiXG4gICAgfVxuICBdLFxuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjNcIiwga2V5OiBcIjF2N3pyZFwiIH1dXG5dKTtcblxuZXhwb3J0IHsgRXllIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV5ZS5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgR2xvYmUgPSBjcmVhdGVMdWNpZGVJY29uKFwiZ2xvYmVcIiwgW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjEwXCIsIGtleTogXCIxbWdsYXlcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDJhMTQuNSAxNC41IDAgMCAwIDAgMjAgMTQuNSAxNC41IDAgMCAwIDAtMjBcIiwga2V5OiBcIjEzbzF6bFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMiAxMmgyMFwiLCBrZXk6IFwiOWk0cHU0XCIgfV1cbl0pO1xuXG5leHBvcnQgeyBHbG9iZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iZS5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgSGlzdG9yeSA9IGNyZWF0ZUx1Y2lkZUljb24oXCJoaXN0b3J5XCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTMgMTJhOSA5IDAgMSAwIDktOSA5Ljc1IDkuNzUgMCAwIDAtNi43NCAyLjc0TDMgOFwiLCBrZXk6IFwiMTM1N2UzXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0zIDN2NWg1XCIsIGtleTogXCIxeGhxOGFcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDd2NWw0IDJcIiwga2V5OiBcIjFmZHYyaFwiIH1dXG5dKTtcblxuZXhwb3J0IHsgSGlzdG9yeSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oaXN0b3J5LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBIb3VzZSA9IGNyZWF0ZUx1Y2lkZUljb24oXCJob3VzZVwiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNSAyMXYtOGExIDEgMCAwIDAtMS0xaC00YTEgMSAwIDAgMC0xIDF2OFwiLCBrZXk6IFwiNXd3bHI1XCIgfV0sXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0zIDEwYTIgMiAwIDAgMSAuNzA5LTEuNTI4bDctNS45OTlhMiAyIDAgMCAxIDIuNTgyIDBsNyA1Ljk5OUEyIDIgMCAwIDEgMjEgMTB2OWEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnpcIixcbiAgICAgIGtleTogXCIxZDBrZ3RcIlxuICAgIH1cbiAgXVxuXSk7XG5cbmV4cG9ydCB7IEhvdXNlIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvdXNlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBJbmZvID0gY3JlYXRlTHVjaWRlSWNvbihcImluZm9cIiwgW1xuICBbXCJjaXJjbGVcIiwgeyBjeDogXCIxMlwiLCBjeTogXCIxMlwiLCByOiBcIjEwXCIsIGtleTogXCIxbWdsYXlcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDE2di00XCIsIGtleTogXCIxZHRpZnVcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDhoLjAxXCIsIGtleTogXCJlOWJvaTNcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IEluZm8gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5mby5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgS2V5ID0gY3JlYXRlTHVjaWRlSWNvbihcImtleVwiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIm0xNS41IDcuNSAyLjMgMi4zYTEgMSAwIDAgMCAxLjQgMGwyLjEtMi4xYTEgMSAwIDAgMCAwLTEuNEwxOSA0XCIsIGtleTogXCJnMGZsZGtcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwibTIxIDItOS42IDkuNlwiLCBrZXk6IFwiMWowaG84XCIgfV0sXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjcuNVwiLCBjeTogXCIxNS41XCIsIHI6IFwiNS41XCIsIGtleTogXCJ5cWIzaHJcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IEtleSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1rZXkuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IExvYWRlckNpcmNsZSA9IGNyZWF0ZUx1Y2lkZUljb24oXCJsb2FkZXItY2lyY2xlXCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTIxIDEyYTkgOSAwIDEgMS02LjIxOS04LjU2XCIsIGtleTogXCIxM3phbGRcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IExvYWRlckNpcmNsZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkZXItY2lyY2xlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBNZXNzYWdlU3F1YXJlID0gY3JlYXRlTHVjaWRlSWNvbihcIm1lc3NhZ2Utc3F1YXJlXCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTIxIDE1YTIgMiAwIDAgMS0yIDJIN2wtNCA0VjVhMiAyIDAgMCAxIDItMmgxNGEyIDIgMCAwIDEgMiAyelwiLCBrZXk6IFwiMWxpZWx6XCIgfV1cbl0pO1xuXG5leHBvcnQgeyBNZXNzYWdlU3F1YXJlIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2Utc3F1YXJlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBQbGF5ID0gY3JlYXRlTHVjaWRlSWNvbihcInBsYXlcIiwgW1xuICBbXCJwb2x5Z29uXCIsIHsgcG9pbnRzOiBcIjYgMyAyMCAxMiA2IDIxIDYgM1wiLCBrZXk6IFwiMW9hOGhiXCIgfV1cbl0pO1xuXG5leHBvcnQgeyBQbGF5IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsYXkuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IFBsdXMgPSBjcmVhdGVMdWNpZGVJY29uKFwicGx1c1wiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk01IDEyaDE0XCIsIGtleTogXCIxYXlzMGhcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDV2MTRcIiwga2V5OiBcInM2OTlsZVwiIH1dXG5dKTtcblxuZXhwb3J0IHsgUGx1cyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wbHVzLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBQb3dlciA9IGNyZWF0ZUx1Y2lkZUljb24oXCJwb3dlclwiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiAydjEwXCIsIGtleTogXCJtbmZibFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTguNCA2LjZhOSA5IDAgMSAxLTEyLjc3LjA0XCIsIGtleTogXCJvYm9mdTlcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IFBvd2VyIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvd2VyLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBSb3RhdGVDY3cgPSBjcmVhdGVMdWNpZGVJY29uKFwicm90YXRlLWNjd1wiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0zIDEyYTkgOSAwIDEgMCA5LTkgOS43NSA5Ljc1IDAgMCAwLTYuNzQgMi43NEwzIDhcIiwga2V5OiBcIjEzNTdlM1wiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMyAzdjVoNVwiLCBrZXk6IFwiMXhocThhXCIgfV1cbl0pO1xuXG5leHBvcnQgeyBSb3RhdGVDY3cgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm90YXRlLWNjdy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgU2V0dGluZ3MgPSBjcmVhdGVMdWNpZGVJY29uKFwic2V0dGluZ3NcIiwgW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6XCIsXG4gICAgICBrZXk6IFwiMXFtZTJmXCJcbiAgICB9XG4gIF0sXG4gIFtcImNpcmNsZVwiLCB7IGN4OiBcIjEyXCIsIGN5OiBcIjEyXCIsIHI6IFwiM1wiLCBrZXk6IFwiMXY3enJkXCIgfV1cbl0pO1xuXG5leHBvcnQgeyBTZXR0aW5ncyBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXR0aW5ncy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgU2hpZWxkID0gY3JlYXRlTHVjaWRlSWNvbihcInNoaWVsZFwiLCBbXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0yMCAxM2MwIDUtMy41IDcuNS03LjY2IDguOTVhMSAxIDAgMCAxLS42Ny0uMDFDNy41IDIwLjUgNCAxOCA0IDEzVjZhMSAxIDAgMCAxIDEtMWMyIDAgNC41LTEuMiA2LjI0LTIuNzJhMS4xNyAxLjE3IDAgMCAxIDEuNTIgMEMxNC41MSAzLjgxIDE3IDUgMTkgNWExIDEgMCAwIDEgMSAxelwiLFxuICAgICAga2V5OiBcIm9lbDQxeVwiXG4gICAgfVxuICBdXG5dKTtcblxuZXhwb3J0IHsgU2hpZWxkIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaWVsZC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgVHJhc2gyID0gY3JlYXRlTHVjaWRlSWNvbihcInRyYXNoLTJcIiwgW1xuICBbXCJwYXRoXCIsIHsgZDogXCJNMyA2aDE4XCIsIGtleTogXCJkMHdtMGpcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE5IDZ2MTRjMCAxLTEgMi0yIDJIN2MtMSAwLTItMS0yLTJWNlwiLCBrZXk6IFwiNGFscnQ0XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk04IDZWNGMwLTEgMS0yIDItMmg0YzEgMCAyIDEgMiAydjJcIiwga2V5OiBcInYwN3MwZVwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTBcIiwgeDI6IFwiMTBcIiwgeTE6IFwiMTFcIiwgeTI6IFwiMTdcIiwga2V5OiBcIjF1dWZyNVwiIH1dLFxuICBbXCJsaW5lXCIsIHsgeDE6IFwiMTRcIiwgeDI6IFwiMTRcIiwgeTE6IFwiMTFcIiwgeTI6IFwiMTdcIiwga2V5OiBcInh0eGtkXCIgfV1cbl0pO1xuXG5leHBvcnQgeyBUcmFzaDIgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhc2gtMi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXZ1ZS1uZXh0IHYwLjUyNS4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgVHJpYW5nbGVBbGVydCA9IGNyZWF0ZUx1Y2lkZUljb24oXCJ0cmlhbmdsZS1hbGVydFwiLCBbXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIm0yMS43MyAxOC04LTE0YTIgMiAwIDAgMC0zLjQ4IDBsLTggMTRBMiAyIDAgMCAwIDQgMjFoMTZhMiAyIDAgMCAwIDEuNzMtM1wiLFxuICAgICAga2V5OiBcIndtb2VucVwiXG4gICAgfVxuICBdLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgOXY0XCIsIGtleTogXCJqdXpwdTdcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDE3aC4wMVwiLCBrZXk6IFwicDMycDA1XCIgfV1cbl0pO1xuXG5leHBvcnQgeyBUcmlhbmdsZUFsZXJ0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyaWFuZ2xlLWFsZXJ0LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBXaWZpT2ZmID0gY3JlYXRlTHVjaWRlSWNvbihcIndpZmktb2ZmXCIsIFtcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDIwaC4wMVwiLCBrZXk6IFwiemVrZWk5XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk04LjUgMTYuNDI5YTUgNSAwIDAgMSA3IDBcIiwga2V5OiBcIjFieWNmZlwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNNSAxMi44NTlhMTAgMTAgMCAwIDEgNS4xNy0yLjY5XCIsIGtleTogXCIxZGwxd2ZcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE5IDEyLjg1OWExMCAxMCAwIDAgMC0yLjAwNy0xLjUyM1wiLCBrZXk6IFwiNGsyM2tuXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yIDguODJhMTUgMTUgMCAwIDEgNC4xNzctMi42NDNcIiwga2V5OiBcIjFncmhqcFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMjIgOC44MmExNSAxNSAwIDAgMC0xMS4yODgtMy43NjRcIiwga2V5OiBcInozandieVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtMiAyIDIwIDIwXCIsIGtleTogXCIxb29ld3lcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IFdpZmlPZmYgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2lmaS1vZmYuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS12dWUtbmV4dCB2MC41MjUuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IGNyZWF0ZUx1Y2lkZUljb24gZnJvbSAnLi4vY3JlYXRlTHVjaWRlSWNvbi5qcyc7XG5cbmNvbnN0IFdpZmkgPSBjcmVhdGVMdWNpZGVJY29uKFwid2lmaVwiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiAyMGguMDFcIiwga2V5OiBcInpla2VpOVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMiA4LjgyYTE1IDE1IDAgMCAxIDIwIDBcIiwga2V5OiBcImRucHIyelwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNNSAxMi44NTlhMTAgMTAgMCAwIDEgMTQgMFwiLCBrZXk6IFwiMXgxZTZjXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk04LjUgMTYuNDI5YTUgNSAwIDAgMSA3IDBcIiwga2V5OiBcIjFieWNmZlwiIH1dXG5dKTtcblxuZXhwb3J0IHsgV2lmaSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aWZpLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtdnVlLW5leHQgdjAuNTI1LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBaYXAgPSBjcmVhdGVMdWNpZGVJY29uKFwiemFwXCIsIFtcbiAgW1xuICAgIFwicGF0aFwiLFxuICAgIHtcbiAgICAgIGQ6IFwiTTQgMTRhMSAxIDAgMCAxLS43OC0xLjYzbDkuOS0xMC4yYS41LjUgMCAwIDEgLjg2LjQ2bC0xLjkyIDYuMDJBMSAxIDAgMCAwIDEzIDEwaDdhMSAxIDAgMCAxIC43OCAxLjYzbC05LjkgMTAuMmEuNS41IDAgMCAxLS44Ni0uNDZsMS45Mi02LjAyQTEgMSAwIDAgMCAxMSAxNHpcIixcbiAgICAgIGtleTogXCIxeHEyZGJcIlxuICAgIH1cbiAgXVxuXSk7XG5cbmV4cG9ydCB7IFphcCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD16YXAuanMubWFwXG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgY29tcHV0ZWQgfSBmcm9tICd2dWUnXG5pbXBvcnQgdHlwZSB7IE1vZGVsU2V0dGluZ3MgfSBmcm9tICdAL3R5cGVzL3NldHRpbmdzJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uL0J1dHRvbi52dWUnXG5pbXBvcnQge1xuICBDaGVjayxcbiAgVHJhc2gyLFxuICBTZXR0aW5nc1xufSBmcm9tICdsdWNpZGUtdnVlLW5leHQnXG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIC8qKiBUaGUgbW9kZWwgY29uZmlndXJhdGlvbiBvYmplY3QgKi9cbiAgbW9kZWw6IE1vZGVsU2V0dGluZ3NcbiAgLyoqIEluZGV4IG9mIHRoZSBtb2RlbCBpbiB0aGUgcGFyZW50IGFycmF5ICovXG4gIGluZGV4OiBudW1iZXJcbiAgLyoqIFdoZXRoZXIgdGhpcyBtb2RlbCBpcyBjdXJyZW50bHkgYWN0aXZlICovXG4gIGlzQWN0aXZlOiBib29sZWFuXG59XG5cbmludGVyZmFjZSBFbWl0cyB7XG4gIC8qKiBFbWl0dGVkIHdoZW4gbW9kZWwgc2hvdWxkIGJlIHNldCBhcyBhY3RpdmUgKi9cbiAgKGU6ICdzZXQtYWN0aXZlJywgbW9kZWxJZDogc3RyaW5nKTogdm9pZFxuICAvKiogRW1pdHRlZCB3aGVuIG1vZGVsIHNob3VsZCBiZSByZW1vdmVkICovXG4gIChlOiAncmVtb3ZlJywgaW5kZXg6IG51bWJlcik6IHZvaWRcbiAgLyoqIEVtaXR0ZWQgd2hlbiBtb2RlbCBjb25maWd1cmF0aW9uIGZvcm0gc2hvdWxkIGJlIHNob3duICovXG4gIChlOiAnc2hvdy1mb3JtJywgaW5kZXg6IG51bWJlcik6IHZvaWRcbn1cblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxQcm9wcz4oKVxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXRzPigpXG5cbi8qKlxuICogU2V0IHRoaXMgbW9kZWwgYXMgdGhlIGFjdGl2ZSBtb2RlbFxuICovXG5jb25zdCBzZXRBY3RpdmVNb2RlbCA9ICgpID0+IHtcbiAgZW1pdCgnc2V0LWFjdGl2ZScsIHByb3BzLm1vZGVsLm1vZGVsSWQgfHwgJycpXG59XG5cbi8qKlxuICogUmVtb3ZlIHRoaXMgbW9kZWwgY29uZmlndXJhdGlvblxuICovXG5jb25zdCByZW1vdmVNb2RlbCA9ICgpID0+IHtcbiAgZW1pdCgncmVtb3ZlJywgcHJvcHMuaW5kZXgpXG59XG5cbi8qKlxuICogU2hvdyB0aGUgbW9kZWwgY29uZmlndXJhdGlvbiBmb3JtXG4gKi9cbmNvbnN0IHNob3dDb25maWdGb3JtID0gKCkgPT4ge1xuICBlbWl0KCdzaG93LWZvcm0nLCBwcm9wcy5pbmRleClcbn1cblxuLyoqXG4gKiBHZXQgcHJvdmlkZXIgZGlzcGxheSBuYW1lIHdpdGggcHJvcGVyIGNhcGl0YWxpemF0aW9uXG4gKi9cbmNvbnN0IHByb3ZpZGVyTmFtZSA9IGNvbXB1dGVkKCgpID0+IHtcbiAgY29uc3QgcHJvdmlkZXIgPSBwcm9wcy5tb2RlbC5wcm92aWRlclxuICBzd2l0Y2ggKHByb3ZpZGVyKSB7XG4gICAgY2FzZSAnZ29vZ2xlJzpcbiAgICAgIHJldHVybiAnR29vZ2xlJ1xuICAgIGNhc2UgJ29wZW5haSc6XG4gICAgICByZXR1cm4gJ09wZW5BSSdcbiAgICBjYXNlICdhbnRocm9waWMnOlxuICAgICAgcmV0dXJuICdBbnRocm9waWMnXG4gICAgY2FzZSAnYmVkcm9jayc6XG4gICAgICByZXR1cm4gJ0JlZHJvY2snXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBwcm92aWRlclxuICB9XG59KVxuXG4vKipcbiAqIEdldCBwcm92aWRlciBjb2xvciBiYXNlZCBvbiBwcm92aWRlciB0eXBlXG4gKi9cbmNvbnN0IHByb3ZpZGVyQ29sb3IgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGNvbnN0IHByb3ZpZGVyID0gcHJvcHMubW9kZWwucHJvdmlkZXJcbiAgc3dpdGNoIChwcm92aWRlcikge1xuICAgIGNhc2UgJ2dvb2dsZSc6XG4gICAgICByZXR1cm4gJ2JnLWJsdWUtNTAwJ1xuICAgIGNhc2UgJ29wZW5haSc6XG4gICAgICByZXR1cm4gJ2JnLWdyZWVuLTUwMCdcbiAgICBjYXNlICdhbnRocm9waWMnOlxuICAgICAgcmV0dXJuICdiZy1vcmFuZ2UtNTAwJ1xuICAgIGNhc2UgJ2JlZHJvY2snOlxuICAgICAgcmV0dXJuICdiZy1wdXJwbGUtNTAwJ1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ2JnLWdyYXktNTAwJ1xuICB9XG59KVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiA6Y2xhc3M9XCJbXG4gICAgJ3JvdW5kZWQtbGcgYm9yZGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBwLTQgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuJyxcbiAgICBpc0FjdGl2ZVxuICAgICAgPyAnYm9yZGVyLXByaW1hcnkgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wcmltYXJ5LzEwIHZpYS1wcmltYXJ5LzUgdG8tdHJhbnNwYXJlbnQgcmluZy0yIHJpbmctcHJpbWFyeS8zMCB0cmFuc2Zvcm0gc2NhbGUtWzEuMDJdJ1xuICAgICAgOiAnYm9yZGVyLWJvcmRlciBiZy1jYXJkIGhvdmVyOmJvcmRlci1wcmltYXJ5LzUwIGhvdmVyOnNoYWRvdy1tZCBob3Zlcjp0cmFuc2Zvcm0gaG92ZXI6c2NhbGUtWzEuMDFdJ1xuICBdXCI+XG4gICAgPCEtLSBBY3RpdmUgTW9kZWwgSW5kaWNhdG9yIEFjY2VudCAtLT5cbiAgICA8ZGl2IHYtaWY9XCJpc0FjdGl2ZVwiXG4gICAgICBjbGFzcz1cImFic29sdXRlIHRvcC0wIGxlZnQtMCB3LWZ1bGwgaC0xIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wcmltYXJ5IHZpYS1wcmltYXJ5LzgwIHRvLXByaW1hcnlcIj48L2Rpdj5cbiAgICA8IS0tIE1vZGVsIEhlYWRlciAtLT5cbiAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0zXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMiBtaW4tdy0wIGZsZXgtMVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPGRpdiA6Y2xhc3M9XCJbJ3ctMyBoLTMgcm91bmRlZC1mdWxsJywgcHJvdmlkZXJDb2xvcl1cIiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPnt7IHByb3ZpZGVyTmFtZSB9fTwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8aDMgOmNsYXNzPVwiW1xuICAgICAgICAgICAgJ3RleHQtc20gZm9udC1tZWRpdW0gbS0wIGJyZWFrLXdvcmRzIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTMwMCcsXG4gICAgICAgICAgICBpc0FjdGl2ZSA/ICd0ZXh0LXByaW1hcnkgZm9udC1zZW1pYm9sZCcgOiAndGV4dC1mb3JlZ3JvdW5kJ1xuICAgICAgICAgIF1cIj5cbiAgICAgICAgICAgIHt7IG1vZGVsLm1vZGVsSWQgfHwgJ05ldyBNb2RlbCcgfX1cbiAgICAgICAgICA8L2gzPlxuXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgQGNsaWNrPVwic2hvd0NvbmZpZ0Zvcm1cIlxuICAgICAgICAgICAgY2xhc3M9XCJwLTIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGhvdmVyOnRleHQtZm9yZWdyb3VuZCBob3ZlcjpiZy1zZWNvbmRhcnkgcm91bmRlZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICB0aXRsZT1cIkNvbmZpZ3VyZSBNb2RlbFwiPlxuICAgICAgICAgICAgPFNldHRpbmdzIGNsYXNzPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgICA8ZGl2IDpjbGFzcz1cIltcbiAgICAgICAgJ2ZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiBwdC0zIGJvcmRlci10IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCcsXG4gICAgICAgIGlzQWN0aXZlID8gJ2JvcmRlci1wcmltYXJ5LzMwJyA6ICdib3JkZXItYm9yZGVyJ1xuICAgICAgXVwiPlxuICAgICAgICA8QnV0dG9uIHYtaWY9XCIhaXNBY3RpdmVcIiBAY2xpY2s9XCJzZXRBY3RpdmVNb2RlbFwiXG4gICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCByb3VuZGVkLWxnIGhvdmVyOmJnLXByaW1hcnkvOTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGZvbnQtbWVkaXVtIHRleHQtc20gaG92ZXI6c2hhZG93LW1kIGhvdmVyOnNjYWxlLTEwNVwiPlxuICAgICAgICAgIFNldCBBY3RpdmVcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDxkaXYgdi1lbHNlIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LXByaW1hcnkgZm9udC1zZW1pYm9sZFwiPlxuICAgICAgICAgIDxkaXYgdi1pZj1cImlzQWN0aXZlXCJcbiAgICAgICAgICAgIGNsYXNzPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xLjUgcHgtMyBweS0xLjUgYmctZ3JhZGllbnQtdG8tciBmcm9tLXByaW1hcnkgdG8tcHJpbWFyeS84MCB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCB0ZXh0LXhzIGZvbnQtc2VtaWJvbGQgcm91bmRlZC1mdWxsIHNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgPENoZWNrIGNsYXNzPVwiIHctMy41IGgtMy41XCIgLz5cbiAgICAgICAgICAgIEFjdGl2ZSBNb2RlbFxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+IiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGNvbXB1dGVkIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHR5cGUgeyBNb2RlbFNldHRpbmdzIH0gZnJvbSAnQC90eXBlcy9zZXR0aW5ncydcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbi9CdXR0b24udnVlJ1xuaW1wb3J0IHtcbiAgQ2hlY2ssXG4gIFRyYXNoMixcbiAgU2V0dGluZ3Ncbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuXG5pbnRlcmZhY2UgUHJvcHMge1xuICAvKiogVGhlIG1vZGVsIGNvbmZpZ3VyYXRpb24gb2JqZWN0ICovXG4gIG1vZGVsOiBNb2RlbFNldHRpbmdzXG4gIC8qKiBJbmRleCBvZiB0aGUgbW9kZWwgaW4gdGhlIHBhcmVudCBhcnJheSAqL1xuICBpbmRleDogbnVtYmVyXG4gIC8qKiBXaGV0aGVyIHRoaXMgbW9kZWwgaXMgY3VycmVudGx5IGFjdGl2ZSAqL1xuICBpc0FjdGl2ZTogYm9vbGVhblxufVxuXG5pbnRlcmZhY2UgRW1pdHMge1xuICAvKiogRW1pdHRlZCB3aGVuIG1vZGVsIHNob3VsZCBiZSBzZXQgYXMgYWN0aXZlICovXG4gIChlOiAnc2V0LWFjdGl2ZScsIG1vZGVsSWQ6IHN0cmluZyk6IHZvaWRcbiAgLyoqIEVtaXR0ZWQgd2hlbiBtb2RlbCBzaG91bGQgYmUgcmVtb3ZlZCAqL1xuICAoZTogJ3JlbW92ZScsIGluZGV4OiBudW1iZXIpOiB2b2lkXG4gIC8qKiBFbWl0dGVkIHdoZW4gbW9kZWwgY29uZmlndXJhdGlvbiBmb3JtIHNob3VsZCBiZSBzaG93biAqL1xuICAoZTogJ3Nob3ctZm9ybScsIGluZGV4OiBudW1iZXIpOiB2b2lkXG59XG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8UHJvcHM+KClcbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czxFbWl0cz4oKVxuXG4vKipcbiAqIFNldCB0aGlzIG1vZGVsIGFzIHRoZSBhY3RpdmUgbW9kZWxcbiAqL1xuY29uc3Qgc2V0QWN0aXZlTW9kZWwgPSAoKSA9PiB7XG4gIGVtaXQoJ3NldC1hY3RpdmUnLCBwcm9wcy5tb2RlbC5tb2RlbElkIHx8ICcnKVxufVxuXG4vKipcbiAqIFJlbW92ZSB0aGlzIG1vZGVsIGNvbmZpZ3VyYXRpb25cbiAqL1xuY29uc3QgcmVtb3ZlTW9kZWwgPSAoKSA9PiB7XG4gIGVtaXQoJ3JlbW92ZScsIHByb3BzLmluZGV4KVxufVxuXG4vKipcbiAqIFNob3cgdGhlIG1vZGVsIGNvbmZpZ3VyYXRpb24gZm9ybVxuICovXG5jb25zdCBzaG93Q29uZmlnRm9ybSA9ICgpID0+IHtcbiAgZW1pdCgnc2hvdy1mb3JtJywgcHJvcHMuaW5kZXgpXG59XG5cbi8qKlxuICogR2V0IHByb3ZpZGVyIGRpc3BsYXkgbmFtZSB3aXRoIHByb3BlciBjYXBpdGFsaXphdGlvblxuICovXG5jb25zdCBwcm92aWRlck5hbWUgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGNvbnN0IHByb3ZpZGVyID0gcHJvcHMubW9kZWwucHJvdmlkZXJcbiAgc3dpdGNoIChwcm92aWRlcikge1xuICAgIGNhc2UgJ2dvb2dsZSc6XG4gICAgICByZXR1cm4gJ0dvb2dsZSdcbiAgICBjYXNlICdvcGVuYWknOlxuICAgICAgcmV0dXJuICdPcGVuQUknXG4gICAgY2FzZSAnYW50aHJvcGljJzpcbiAgICAgIHJldHVybiAnQW50aHJvcGljJ1xuICAgIGNhc2UgJ2JlZHJvY2snOlxuICAgICAgcmV0dXJuICdCZWRyb2NrJ1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcHJvdmlkZXJcbiAgfVxufSlcblxuLyoqXG4gKiBHZXQgcHJvdmlkZXIgY29sb3IgYmFzZWQgb24gcHJvdmlkZXIgdHlwZVxuICovXG5jb25zdCBwcm92aWRlckNvbG9yID0gY29tcHV0ZWQoKCkgPT4ge1xuICBjb25zdCBwcm92aWRlciA9IHByb3BzLm1vZGVsLnByb3ZpZGVyXG4gIHN3aXRjaCAocHJvdmlkZXIpIHtcbiAgICBjYXNlICdnb29nbGUnOlxuICAgICAgcmV0dXJuICdiZy1ibHVlLTUwMCdcbiAgICBjYXNlICdvcGVuYWknOlxuICAgICAgcmV0dXJuICdiZy1ncmVlbi01MDAnXG4gICAgY2FzZSAnYW50aHJvcGljJzpcbiAgICAgIHJldHVybiAnYmctb3JhbmdlLTUwMCdcbiAgICBjYXNlICdiZWRyb2NrJzpcbiAgICAgIHJldHVybiAnYmctcHVycGxlLTUwMCdcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICdiZy1ncmF5LTUwMCdcbiAgfVxufSlcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgOmNsYXNzPVwiW1xuICAgICdyb3VuZGVkLWxnIGJvcmRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgcC00IHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbicsXG4gICAgaXNBY3RpdmVcbiAgICAgID8gJ2JvcmRlci1wcmltYXJ5IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHJpbWFyeS8xMCB2aWEtcHJpbWFyeS81IHRvLXRyYW5zcGFyZW50IHJpbmctMiByaW5nLXByaW1hcnkvMzAgdHJhbnNmb3JtIHNjYWxlLVsxLjAyXSdcbiAgICAgIDogJ2JvcmRlci1ib3JkZXIgYmctY2FyZCBob3Zlcjpib3JkZXItcHJpbWFyeS81MCBob3ZlcjpzaGFkb3ctbWQgaG92ZXI6dHJhbnNmb3JtIGhvdmVyOnNjYWxlLVsxLjAxXSdcbiAgXVwiPlxuICAgIDwhLS0gQWN0aXZlIE1vZGVsIEluZGljYXRvciBBY2NlbnQgLS0+XG4gICAgPGRpdiB2LWlmPVwiaXNBY3RpdmVcIlxuICAgICAgY2xhc3M9XCJhYnNvbHV0ZSB0b3AtMCBsZWZ0LTAgdy1mdWxsIGgtMSBiZy1ncmFkaWVudC10by1yIGZyb20tcHJpbWFyeSB2aWEtcHJpbWFyeS84MCB0by1wcmltYXJ5XCI+PC9kaXY+XG4gICAgPCEtLSBNb2RlbCBIZWFkZXIgLS0+XG4gICAgPGRpdiBjbGFzcz1cInNwYWNlLXktM1wiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTIgbWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxkaXYgOmNsYXNzPVwiWyd3LTMgaC0zIHJvdW5kZWQtZnVsbCcsIHByb3ZpZGVyQ29sb3JdXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57eyBwcm92aWRlck5hbWUgfX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGgzIDpjbGFzcz1cIltcbiAgICAgICAgICAgICd0ZXh0LXNtIGZvbnQtbWVkaXVtIG0tMCBicmVhay13b3JkcyB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDAnLFxuICAgICAgICAgICAgaXNBY3RpdmUgPyAndGV4dC1wcmltYXJ5IGZvbnQtc2VtaWJvbGQnIDogJ3RleHQtZm9yZWdyb3VuZCdcbiAgICAgICAgICBdXCI+XG4gICAgICAgICAgICB7eyBtb2RlbC5tb2RlbElkIHx8ICdOZXcgTW9kZWwnIH19XG4gICAgICAgICAgPC9oMz5cblxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIEBjbGljaz1cInNob3dDb25maWdGb3JtXCJcbiAgICAgICAgICAgIGNsYXNzPVwicC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgaG92ZXI6Ymctc2Vjb25kYXJ5IHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgdGl0bGU9XCJDb25maWd1cmUgTW9kZWxcIj5cbiAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzcz1cInctNCBoLTRcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tIEFjdGlvbiBCdXR0b25zIC0tPlxuICAgICAgPGRpdiA6Y2xhc3M9XCJbXG4gICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTIgcHQtMyBib3JkZXItdCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAnLFxuICAgICAgICBpc0FjdGl2ZSA/ICdib3JkZXItcHJpbWFyeS8zMCcgOiAnYm9yZGVyLWJvcmRlcidcbiAgICAgIF1cIj5cbiAgICAgICAgPEJ1dHRvbiB2LWlmPVwiIWlzQWN0aXZlXCIgQGNsaWNrPVwic2V0QWN0aXZlTW9kZWxcIlxuICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgcm91bmRlZC1sZyBob3ZlcjpiZy1wcmltYXJ5LzkwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBmb250LW1lZGl1bSB0ZXh0LXNtIGhvdmVyOnNoYWRvdy1tZCBob3ZlcjpzY2FsZS0xMDVcIj5cbiAgICAgICAgICBTZXQgQWN0aXZlXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8ZGl2IHYtZWxzZSBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC1wcmltYXJ5IGZvbnQtc2VtaWJvbGRcIj5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCJpc0FjdGl2ZVwiXG4gICAgICAgICAgICBjbGFzcz1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMS41IHB4LTMgcHktMS41IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wcmltYXJ5IHRvLXByaW1hcnkvODAgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgdGV4dC14cyBmb250LXNlbWlib2xkIHJvdW5kZWQtZnVsbCBzaGFkb3ctbWRcIj5cbiAgICAgICAgICAgIDxDaGVjayBjbGFzcz1cIiB3LTMuNSBoLTMuNVwiIC8+XG4gICAgICAgICAgICBBY3RpdmUgTW9kZWxcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyByZWYsIGNvbXB1dGVkLCBpbmplY3QsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQgfSBmcm9tICd2dWUnXG5pbXBvcnQgdHlwZSBVc2VBaVBsdWdpbiBmcm9tICdAL21haW4nXG5pbXBvcnQgdHlwZSB7IE1vZGVsU2V0dGluZ3MsIE9ic2lkaWFuQWlTZXR0aW5ncywgR2VtaW5pTW9kZWxTZXR0aW5ncywgQmVkcm9ja01vZGVsU2V0dGluZ3MsIE9wZW5BSU1vZGVsU2V0dGluZ3MsIEFudGhyb3BpY01vZGVsU2V0dGluZ3MgfSBmcm9tICdAL3R5cGVzL3NldHRpbmdzJ1xuaW1wb3J0IHtcbiAgaXNHZW1pbmlNb2RlbCxcbiAgaXNCZWRyb2NrTW9kZWwsXG4gIGlzT3BlbkFJTW9kZWwsXG4gIGlzQW50aHJvcGljTW9kZWxcbn0gZnJvbSAnQC90eXBlcy9zZXR0aW5ncydcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbi9CdXR0b24udnVlJ1xuaW1wb3J0IElucHV0IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dC9JbnB1dC52dWUnXG5pbXBvcnQgTGFiZWwgZnJvbSAnQC9jb21wb25lbnRzL3VpL2xhYmVsL0xhYmVsLnZ1ZSdcbmltcG9ydCBUZXh0YXJlYSBmcm9tICdAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWEvVGV4dGFyZWEudnVlJ1xuXG5pbXBvcnQgTW9kZWxDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9Nb2RlbENhcmQudnVlJ1xuaW1wb3J0IHtcbiAgUGx1cyxcbiAgQnJhaW4sXG4gIFphcCxcbiAgU2hpZWxkLFxuICBHbG9iZSxcbiAgRXllLFxuICBFeWVPZmYsXG4gIEtleSxcbiAgSW5mbyxcbiAgQ2hlY2tDaXJjbGUyLFxuICBYQ2lyY2xlLFxuICBMb2FkZXIyLFxuICBXaWZpLFxuICBXaWZpT2ZmLFxuICBSb3RhdGVDY3csXG4gIFBvd2VyLFxuICBBbGVydFRyaWFuZ2xlLFxuICBTZXR0aW5ncyxcbiAgVHJhc2gyXG59IGZyb20gJ2x1Y2lkZS12dWUtbmV4dCdcbmltcG9ydCB0eXBlIHsgU29ja2V0Q29ubmVjdGlvbkluZm8gfSBmcm9tICdAL2V2ZW50cydcblxuY29uc3QgcGx1Z2luID0gaW5qZWN0PFVzZUFpUGx1Z2luPihcInVzZUFpUGx1Z2luXCIpIVxuXG4vKipcbiAqIExvY2FsIHJlYWN0aXZlIGNvcHkgb2Ygc2V0dGluZ3Mgd2l0aCBwcm9wZXIgZGVlcCBjbG9uaW5nXG4gKiBUaGlzIHByZXZlbnRzIG11dGF0aW9ucyB0byB0aGUgbG9jYWwgc2V0dGluZ3MgZnJvbSBhZmZlY3RpbmcgdGhlIG9yaWdpbmFsIHBsdWdpbiBzZXR0aW5nc1xuICogYW5kIGVuc3VyZXMgZGF0YSBpbnRlZ3JpdHkgd2hlbiB3b3JraW5nIHdpdGggbmVzdGVkIG9iamVjdHMgbGlrZSB0aGUgbW9kZWxzIGFycmF5XG4gKi9cbmNvbnN0IHNldHRpbmdzID0gcmVmPE9ic2lkaWFuQWlTZXR0aW5ncz4oe1xuICBzb2NrZXRBZGRyZXNzOiAnJyxcbiAgbW9kZWxzOiBbXSxcbiAgYWN0aXZlTW9kZWxJZDogJycsXG4gIHN5c3RlbVByb21wdDogJycsXG4gIGRlYnVnOiBmYWxzZSxcbiAgbGljZW5zZUtleTogJydcbn0pXG5cbi8qKlxuICogRGVlcCBjbG9uZSBzZXR0aW5ncyB0byBwcmV2ZW50IG11dGF0aW9ucyBhZmZlY3RpbmcgdGhlIG9yaWdpbmFsIHBsdWdpbiBzZXR0aW5nc1xuICogVXNlcyBzdHJ1Y3R1cmVkQ2xvbmUgZm9yIG1vZGVybiBicm93c2VycyB3aXRoIEpTT04gZmFsbGJhY2sgZm9yIGNvbXBsZXggb2JqZWN0c1xuICogQHBhcmFtIG9iaiAtIFRoZSBvYmplY3QgdG8gY2xvbmVcbiAqIEByZXR1cm5zIEEgZGVlcCBjbG9uZSBvZiB0aGUgaW5wdXQgb2JqZWN0XG4gKi9cbmNvbnN0IGRlZXBDbG9uZVNldHRpbmdzID0gPFQ+KG9iajogVCk6IFQgPT4ge1xuICBpZiAodHlwZW9mIHN0cnVjdHVyZWRDbG9uZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHN0cnVjdHVyZWRDbG9uZShvYmopXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2Fybignc3RydWN0dXJlZENsb25lIGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIEpTT04gbWV0aG9kOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIC8vIEZhbGxiYWNrIHRvIEpTT04gY2xvbmUgZm9yIGNvbXBsZXggb2JqZWN0c1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNsb25lIHNldHRpbmdzOicsIGVycm9yKVxuICAgIC8vIFJldHVybiBzaGFsbG93IGNsb25lIGFzIGxhc3QgcmVzb3J0XG4gICAgcmV0dXJuIHsgLi4ub2JqIGFzIGFueSB9XG4gIH1cbn1cblxuLy8gTGljZW5zZSBrZXkgc3RhdGVcbmNvbnN0IGxpY2Vuc2VLZXkgPSByZWYoJycpXG5jb25zdCBsaWNlbnNlU3RhdHVzID0gcmVmPCd2YWxpZCcgfCAnaW52YWxpZCcgfCAnY2hlY2tpbmcnIHwgJyc+KCcnKVxuY29uc3Qgc2hvd0xpY2Vuc2VLZXkgPSByZWYoZmFsc2UpXG5cbi8vIFNvY2tldCBjb25uZWN0aW9uIHN0YXRlIC0gbm93IHVzaW5nIHJlYWwgY29ubmVjdGlvbiBzdGF0dXNcbmNvbnN0IGNvbm5lY3Rpb25TdGF0dXMgPSByZWY8J2Nvbm5lY3RlZCcgfCAnZGlzY29ubmVjdGVkJyB8ICdjb25uZWN0aW5nJyB8ICdlcnJvcicgfCAncmVjb25uZWN0aW5nJz4oJ2Rpc2Nvbm5lY3RlZCcpXG5jb25zdCBsYXN0Q29ubmVjdGlvblRpbWUgPSByZWY8RGF0ZSB8IG51bGw+KG51bGwpXG5jb25zdCBjb25uZWN0aW9uRXJyb3IgPSByZWYoJycpXG5cbi8vIE1vZGVsIGVkaXRpbmcgc3RhdGVcbmNvbnN0IGVkaXRpbmdNb2RlbEluZGV4ID0gcmVmPG51bWJlciB8IG51bGw+KG51bGwpXG5jb25zdCBpc1Nob3dpbmdNb2RlbEZvcm0gPSByZWYoZmFsc2UpXG5cbi8vIFN0b3JlIGV2ZW50IGxpc3RlbmVyIHJlZmVyZW5jZXMgZm9yIGNsZWFudXBcbmNvbnN0IGV2ZW50UmVmczogYW55W10gPSBbXVxuXG5vbk1vdW50ZWQoKCkgPT4ge1xuICBzZXR0aW5ncy52YWx1ZSA9IGRlZXBDbG9uZVNldHRpbmdzKHBsdWdpbi5zZXR0aW5ncylcblxuICAvLyBJbml0aWFsaXplIGNvbm5lY3Rpb24gc3RhdHVzIGZyb20gcGx1Z2luXG4gIGNvbm5lY3Rpb25TdGF0dXMudmFsdWUgPSBwbHVnaW4uZ2V0U29ja2V0Q29ubmVjdGlvblN0YXR1cygpXG5cbiAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzIGZvciBzb2NrZXQgY29ubmVjdGlvbiBzdGF0dXNcbiAgc2V0dXBTb2NrZXRFdmVudExpc3RlbmVycygpXG59KVxuXG5vblVubW91bnRlZCgoKSA9PiB7XG4gIC8vIENsZWFuIHVwIGFsbCBldmVudCBsaXN0ZW5lcnMgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgZXZlbnRSZWZzLmZvckVhY2goZXZlbnRSZWYgPT4ge1xuICAgIHBsdWdpbi5ldmVudHMub2ZmcmVmKGV2ZW50UmVmKVxuICB9KVxuICBldmVudFJlZnMubGVuZ3RoID0gMFxufSlcblxuLyoqXG4gKiBTZXR1cCBldmVudCBsaXN0ZW5lcnMgZm9yIHNvY2tldCBjb25uZWN0aW9uIG1hbmFnZW1lbnRcbiAqIFN0b3JlcyBldmVudCByZWZlcmVuY2VzIHRvIGJlIGNsZWFuZWQgdXAgb24gY29tcG9uZW50IHVubW91bnRcbiAqL1xuY29uc3Qgc2V0dXBTb2NrZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgLy8gTGlzdGVuIGZvciBzb2NrZXQgc3RhdHVzIGNoYW5nZXNcbiAgY29uc3Qgc3RhdHVzQ2hhbmdlZFJlZiA9IHBsdWdpbi5ldmVudHMub24oJ3NvY2tldDpzdGF0dXMtY2hhbmdlZCcsIChpbmZvOiBTb2NrZXRDb25uZWN0aW9uSW5mbykgPT4ge1xuICAgIGNvbm5lY3Rpb25TdGF0dXMudmFsdWUgPSBpbmZvLnN0YXR1c1xuICAgIGNvbm5lY3Rpb25FcnJvci52YWx1ZSA9IGluZm8uZXJyb3IgfHwgJydcbiAgICBsYXN0Q29ubmVjdGlvblRpbWUudmFsdWUgPSBpbmZvLnRpbWVzdGFtcCB8fCBudWxsXG4gIH0pXG4gIGV2ZW50UmVmcy5wdXNoKHN0YXR1c0NoYW5nZWRSZWYpXG5cbiAgY29uc3QgY29ubmVjdGVkUmVmID0gcGx1Z2luLmV2ZW50cy5vbignc29ja2V0OmNvbm5lY3RlZCcsIChhZGRyZXNzOiBzdHJpbmcpID0+IHtcbiAgICBjb25uZWN0aW9uU3RhdHVzLnZhbHVlID0gJ2Nvbm5lY3RlZCdcbiAgICBsYXN0Q29ubmVjdGlvblRpbWUudmFsdWUgPSBuZXcgRGF0ZSgpXG4gICAgY29ubmVjdGlvbkVycm9yLnZhbHVlID0gJydcbiAgfSlcbiAgZXZlbnRSZWZzLnB1c2goY29ubmVjdGVkUmVmKVxuXG4gIGNvbnN0IGRpc2Nvbm5lY3RlZFJlZiA9IHBsdWdpbi5ldmVudHMub24oJ3NvY2tldDpkaXNjb25uZWN0ZWQnLCAocmVhc29uPzogc3RyaW5nKSA9PiB7XG4gICAgY29ubmVjdGlvblN0YXR1cy52YWx1ZSA9ICdkaXNjb25uZWN0ZWQnXG4gICAgY29ubmVjdGlvbkVycm9yLnZhbHVlID0gcmVhc29uIHx8ICcnXG4gICAgbGFzdENvbm5lY3Rpb25UaW1lLnZhbHVlID0gbnVsbFxuICB9KVxuICBldmVudFJlZnMucHVzaChkaXNjb25uZWN0ZWRSZWYpXG5cbiAgY29uc3QgY29ubmVjdGluZ1JlZiA9IHBsdWdpbi5ldmVudHMub24oJ3NvY2tldDpjb25uZWN0aW5nJywgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgIGNvbm5lY3Rpb25TdGF0dXMudmFsdWUgPSAnY29ubmVjdGluZydcbiAgICBjb25uZWN0aW9uRXJyb3IudmFsdWUgPSAnJ1xuICB9KVxuICBldmVudFJlZnMucHVzaChjb25uZWN0aW5nUmVmKVxuXG4gIGNvbnN0IGVycm9yUmVmID0gcGx1Z2luLmV2ZW50cy5vbignc29ja2V0OmVycm9yJywgKGVycm9yOiBzdHJpbmcpID0+IHtcbiAgICBjb25uZWN0aW9uU3RhdHVzLnZhbHVlID0gJ2Vycm9yJ1xuICAgIGNvbm5lY3Rpb25FcnJvci52YWx1ZSA9IGVycm9yXG4gIH0pXG4gIGV2ZW50UmVmcy5wdXNoKGVycm9yUmVmKVxuXG4gIGNvbnN0IHJlY29ubmVjdGluZ1JlZiA9IHBsdWdpbi5ldmVudHMub24oJ3NvY2tldDpyZWNvbm5lY3RpbmcnLCAoYXR0ZW1wdDogbnVtYmVyKSA9PiB7XG4gICAgY29ubmVjdGlvblN0YXR1cy52YWx1ZSA9ICdyZWNvbm5lY3RpbmcnXG4gICAgY29ubmVjdGlvbkVycm9yLnZhbHVlID0gYFJlY29ubmVjdGlvbiBhdHRlbXB0ICMke2F0dGVtcHR9YFxuICB9KVxuICBldmVudFJlZnMucHVzaChyZWNvbm5lY3RpbmdSZWYpXG59XG5cbi8qKlxuICogQ29ubmVjdCB0byB0aGUgV2ViU29ja2V0IHNlcnZlciB2aWEgcGx1Z2luIGV2ZW50c1xuICovXG5jb25zdCBjb25uZWN0U29ja2V0ID0gYXN5bmMgKCkgPT4ge1xuICBpZiAoIXNldHRpbmdzLnZhbHVlLnNvY2tldEFkZHJlc3MudHJpbSgpKSB7XG4gICAgY29ubmVjdGlvbkVycm9yLnZhbHVlID0gJ1NvY2tldCBhZGRyZXNzIGlzIHJlcXVpcmVkISdcbiAgICBjb25uZWN0aW9uU3RhdHVzLnZhbHVlID0gJ2Vycm9yJ1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gU2F2ZSBzZXR0aW5ncyBmaXJzdCBpbiBjYXNlIGFkZHJlc3MgY2hhbmdlZFxuICBhd2FpdCBzYXZlU2V0dGluZ3MoKVxuXG4gIC8vIFJlcXVlc3QgY29ubmVjdGlvbiB2aWEgZXZlbnQgc3lzdGVtXG4gIHBsdWdpbi5ldmVudHMudHJpZ2dlcignc29ja2V0OmNvbm5lY3QtcmVxdWVzdCcsIHNldHRpbmdzLnZhbHVlLnNvY2tldEFkZHJlc3MpXG59XG5cbi8qKlxuICogRGlzY29ubmVjdCBmcm9tIHRoZSBXZWJTb2NrZXQgc2VydmVyIHZpYSBwbHVnaW4gZXZlbnRzXG4gKi9cbmNvbnN0IGRpc2Nvbm5lY3RTb2NrZXQgPSAoKSA9PiB7XG4gIHBsdWdpbi5ldmVudHMudHJpZ2dlcignc29ja2V0OmRpc2Nvbm5lY3QtcmVxdWVzdCcpXG59XG5cbi8qKlxuICogUmVjb25uZWN0IHRvIHRoZSBXZWJTb2NrZXQgc2VydmVyIHZpYSBwbHVnaW4gZXZlbnRzXG4gKi9cbmNvbnN0IHJlY29ubmVjdFNvY2tldCA9IGFzeW5jICgpID0+IHtcbiAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKCdzb2NrZXQ6cmVjb25uZWN0LXJlcXVlc3QnKVxufVxuXG4vKipcbiAqIEhhbmRsZSBzb2NrZXQgYWRkcmVzcyBjaGFuZ2VzIC0gYXV0by1yZWNvbm5lY3QgaWYgY3VycmVudGx5IGNvbm5lY3RlZFxuICovXG5jb25zdCBoYW5kbGVTb2NrZXRBZGRyZXNzQ2hhbmdlID0gYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBzYXZlU2V0dGluZ3MoKVxuXG4gIC8vIElmIGN1cnJlbnRseSBjb25uZWN0ZWQsIHJlY29ubmVjdCB3aXRoIG5ldyBhZGRyZXNzXG4gIGlmIChjb25uZWN0aW9uU3RhdHVzLnZhbHVlID09PSAnY29ubmVjdGVkJykge1xuICAgIHJlY29ubmVjdFNvY2tldCgpXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgY29ubmVjdGlvbiBzdGF0dXMgZGlzcGxheSBpbmZvcm1hdGlvblxuICovXG5jb25zdCBjb25uZWN0aW9uU3RhdHVzSW5mbyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgc3dpdGNoIChjb25uZWN0aW9uU3RhdHVzLnZhbHVlKSB7XG4gICAgY2FzZSAnY29ubmVjdGVkJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IFdpZmksXG4gICAgICAgIGNvbG9yOiAndGV4dC1ncmVlbi01MDAnLFxuICAgICAgICBiZ0NvbG9yOiAnYmctZ3JlZW4tNTAwLzEwJyxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdib3JkZXItZ3JlZW4tNTAwLzIwJyxcbiAgICAgICAgbGFiZWw6ICdDb25uZWN0ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogbGFzdENvbm5lY3Rpb25UaW1lLnZhbHVlXG4gICAgICAgICAgPyBgQ29ubmVjdGVkIGF0ICR7bGFzdENvbm5lY3Rpb25UaW1lLnZhbHVlLnRvTG9jYWxlVGltZVN0cmluZygpfWBcbiAgICAgICAgICA6ICdTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIHNlcnZlcidcbiAgICAgIH1cbiAgICBjYXNlICdjb25uZWN0aW5nJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IExvYWRlcjIsXG4gICAgICAgIGNvbG9yOiAndGV4dC1ibHVlLTUwMCcsXG4gICAgICAgIGJnQ29sb3I6ICdiZy1ibHVlLTUwMC8xMCcsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnYm9yZGVyLWJsdWUtNTAwLzIwJyxcbiAgICAgICAgbGFiZWw6ICdDb25uZWN0aW5nLi4uJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdFc3RhYmxpc2hpbmcgY29ubmVjdGlvbiB0byBzZXJ2ZXInXG4gICAgICB9XG4gICAgY2FzZSAncmVjb25uZWN0aW5nJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IFJvdGF0ZUNjdyxcbiAgICAgICAgY29sb3I6ICd0ZXh0LXllbGxvdy01MDAnLFxuICAgICAgICBiZ0NvbG9yOiAnYmcteWVsbG93LTUwMC8xMCcsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnYm9yZGVyLXllbGxvdy01MDAvMjAnLFxuICAgICAgICBsYWJlbDogJ1JlY29ubmVjdGluZy4uLicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBjb25uZWN0aW9uRXJyb3IudmFsdWUgfHwgJ0F0dGVtcHRpbmcgdG8gcmVjb25uZWN0IHRvIHNlcnZlcidcbiAgICAgIH1cbiAgICBjYXNlICdlcnJvcic6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpY29uOiBBbGVydFRyaWFuZ2xlLFxuICAgICAgICBjb2xvcjogJ3RleHQtcmVkLTUwMCcsXG4gICAgICAgIGJnQ29sb3I6ICdiZy1yZWQtNTAwLzEwJyxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdib3JkZXItcmVkLTUwMC8yMCcsXG4gICAgICAgIGxhYmVsOiAnQ29ubmVjdGlvbiBFcnJvcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBjb25uZWN0aW9uRXJyb3IudmFsdWUgfHwgJ0ZhaWxlZCB0byBjb25uZWN0IHRvIHNlcnZlcidcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWNvbjogV2lmaU9mZixcbiAgICAgICAgY29sb3I6ICd0ZXh0LW11dGVkLWZvcmVncm91bmQnLFxuICAgICAgICBiZ0NvbG9yOiAnYmctc2Vjb25kYXJ5JyxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdib3JkZXItYm9yZGVyJyxcbiAgICAgICAgbGFiZWw6ICdEaXNjb25uZWN0ZWQnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ05vdCBjb25uZWN0ZWQgdG8gc2VydmVyJ1xuICAgICAgfVxuICB9XG59KVxuXG4vKipcbiAqIFByb3ZpZGVyIGNvbmZpZ3VyYXRpb24gd2l0aCBpY29ucyBhbmQgY29sb3JzXG4gKi9cbmNvbnN0IHByb3ZpZGVycyA9IFtcbiAgeyBuYW1lOiAnR29vZ2xlJywgaWNvbjogR2xvYmUsIGNvbG9yOiAnYmctYmx1ZS01MDAnIH0sXG4gIHsgbmFtZTogJ09wZW5BSScsIGljb246IEJyYWluLCBjb2xvcjogJ2JnLWdyZWVuLTUwMCcgfSxcbiAgeyBuYW1lOiAnQW50aHJvcGljJywgaWNvbjogU2hpZWxkLCBjb2xvcjogJ2JnLW9yYW5nZS01MDAnIH0sXG4gIHsgbmFtZTogJ0JlZHJvY2snLCBpY29uOiBaYXAsIGNvbG9yOiAnYmctcHVycGxlLTUwMCcgfVxuXVxuXG4vKipcbiAqIEdldCBtb2RlbCB0ZW1wbGF0ZSBmb3IgbmV3IG1vZGVsc1xuICovXG5jb25zdCBnZXRNb2RlbFRlbXBsYXRlID0gKHByb3ZpZGVyOiBzdHJpbmcpOiBNb2RlbFNldHRpbmdzID0+IHtcbiAgY29uc3QgYmFzZUlkID0gYCR7cHJvdmlkZXIudG9Mb3dlckNhc2UoKX0tJHtEYXRlLm5vdygpfWBcbiAgY29uc3QgYmFzZU1vZGVsOiBQYXJ0aWFsPE1vZGVsU2V0dGluZ3M+ID0ge1xuICAgIGludGVybmFsSWQ6IGBtb2RlbF8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgcHJvdmlkZXI6IHByb3ZpZGVyLnRvTG93ZXJDYXNlKCkgYXMgYW55LFxuICAgIG1vZGVsSWQ6ICcnLFxuICAgIGNvbG9yOiAnIzQyODVGNCcsXG4gICAgdGVtcGVyYXR1cmU6IDAuNyxcbiAgICB0b3BLOiA0MCxcbiAgICB0b3BQOiAwLjlcbiAgfVxuXG4gIHN3aXRjaCAocHJvdmlkZXIpIHtcbiAgICBjYXNlICdHb29nbGUnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZU1vZGVsLFxuICAgICAgICBwcm92aWRlcjogJ2dvb2dsZScsXG4gICAgICAgIG1vZGVsSWQ6ICdnZW1pbmktcHJvJyxcbiAgICAgICAgYXBpS2V5OiAnJ1xuICAgICAgfSBhcyBHZW1pbmlNb2RlbFNldHRpbmdzXG4gICAgY2FzZSAnT3BlbkFJJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VNb2RlbCxcbiAgICAgICAgcHJvdmlkZXI6ICdvcGVuYWknLFxuICAgICAgICBtb2RlbElkOiAnZ3B0LTQnLFxuICAgICAgICBhcGlLZXk6ICcnLFxuICAgICAgICBvcmdhbml6YXRpb246ICcnLFxuICAgICAgICBiYXNlVXJsOiAnJ1xuICAgICAgfSBhcyBPcGVuQUlNb2RlbFNldHRpbmdzXG4gICAgY2FzZSAnQW50aHJvcGljJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VNb2RlbCxcbiAgICAgICAgcHJvdmlkZXI6ICdhbnRocm9waWMnLFxuICAgICAgICBtb2RlbElkOiAnY2xhdWRlLTMtc29ubmV0JyxcbiAgICAgICAgYXBpS2V5OiAnJ1xuICAgICAgfSBhcyBBbnRocm9waWNNb2RlbFNldHRpbmdzXG4gICAgY2FzZSAnQmVkcm9jayc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlTW9kZWwsXG4gICAgICAgIHByb3ZpZGVyOiAnYmVkcm9jaycsXG4gICAgICAgIG1vZGVsSWQ6ICdhbnRocm9waWMuY2xhdWRlLTMtc29ubmV0JyxcbiAgICAgICAgYWNjZXNzS2V5SWQ6ICcnLFxuICAgICAgICBzZWNyZXRBY2Nlc3NLZXk6ICcnLFxuICAgICAgICByZWdpb246ICd1cy1lYXN0LTEnLFxuICAgICAgICBtb2RlbEFybjogJydcbiAgICAgIH0gYXMgQmVkcm9ja01vZGVsU2V0dGluZ3NcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHByb3ZpZGVyOiAke3Byb3ZpZGVyfWApXG4gIH1cbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgbW9kZWwgY29uZmlndXJhdGlvblxuICovXG5jb25zdCBhZGROZXdNb2RlbCA9IChwcm92aWRlck5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCBuZXdNb2RlbCA9IGdldE1vZGVsVGVtcGxhdGUocHJvdmlkZXJOYW1lKVxuICAvLyBEZWVwIGNsb25lIHRoZSB0ZW1wbGF0ZSB0byBwcmV2ZW50IGFueSBwb3RlbnRpYWwgcmVmZXJlbmNlIGlzc3Vlc1xuICBjb25zdCBjbG9uZWRNb2RlbCA9IGRlZXBDbG9uZVNldHRpbmdzKG5ld01vZGVsKVxuICBzZXR0aW5ncy52YWx1ZS5tb2RlbHMudW5zaGlmdChjbG9uZWRNb2RlbClcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBtb2RlbCBjb25maWd1cmF0aW9uXG4gKi9cbmNvbnN0IHJlbW92ZU1vZGVsID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgY29uc3QgbW9kZWxUb1JlbW92ZSA9IHNldHRpbmdzLnZhbHVlLm1vZGVsc1tpbmRleF1cbiAgc2V0dGluZ3MudmFsdWUubW9kZWxzLnNwbGljZShpbmRleCwgMSlcblxuICAvLyBJZiB3ZSByZW1vdmVkIHRoZSBhY3RpdmUgbW9kZWwsIHNldCB0aGUgZmlyc3QgbW9kZWwgYXMgYWN0aXZlXG4gIGlmIChtb2RlbFRvUmVtb3ZlLm1vZGVsSWQgPT09IHNldHRpbmdzLnZhbHVlLmFjdGl2ZU1vZGVsSWQgJiYgc2V0dGluZ3MudmFsdWUubW9kZWxzLmxlbmd0aCA+IDApIHtcbiAgICBzZXR0aW5ncy52YWx1ZS5hY3RpdmVNb2RlbElkID0gc2V0dGluZ3MudmFsdWUubW9kZWxzWzBdLm1vZGVsSWRcbiAgfVxufVxuXG4vKipcbiAqIFNldCBhY3RpdmUgbW9kZWxcbiAqL1xuY29uc3Qgc2V0QWN0aXZlTW9kZWwgPSAobW9kZWxJZDogc3RyaW5nKSA9PiB7XG4gIHNldHRpbmdzLnZhbHVlLmFjdGl2ZU1vZGVsSWQgPSBtb2RlbElkXG4gIC8vIFVwZGF0ZSB0aGUgYWN0aXZlIGZsYWcgb24gbW9kZWxzXG4gIHNldHRpbmdzLnZhbHVlLm1vZGVscy5mb3JFYWNoKG1vZGVsID0+IHtcbiAgICBpZiAoJ2FjdGl2ZScgaW4gbW9kZWwpIHtcbiAgICAgIChtb2RlbCBhcyBhbnkpLmFjdGl2ZSA9IG1vZGVsLm1vZGVsSWQgPT09IG1vZGVsSWRcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogU2F2ZSBzZXR0aW5ncyBiYWNrIHRvIHBsdWdpbiB3aXRoIHByb3BlciBkZWVwIGNsb25pbmdcbiAqIEVuc3VyZXMgbm8gcmVmZXJlbmNlIHNoYXJpbmcgYmV0d2VlbiBsb2NhbCBzZXR0aW5ncyBhbmQgcGx1Z2luIHNldHRpbmdzXG4gKi9cbmNvbnN0IHNhdmVTZXR0aW5ncyA9IGFzeW5jICgpID0+IHtcbiAgLy8gRGVlcCBjbG9uZSB0aGUgbG9jYWwgc2V0dGluZ3MgYmVmb3JlIGFzc2lnbmluZyB0byBwbHVnaW5cbiAgY29uc3QgY2xvbmVkU2V0dGluZ3MgPSBkZWVwQ2xvbmVTZXR0aW5ncyhzZXR0aW5ncy52YWx1ZSlcbiAgT2JqZWN0LmFzc2lnbihwbHVnaW4uc2V0dGluZ3MsIGNsb25lZFNldHRpbmdzKVxuICBhd2FpdCBwbHVnaW4uc2F2ZVNldHRpbmdzKClcbn1cblxuLyoqXG4gKiBIYW5kbGUgbW9kZWwgc2F2ZSBmcm9tIE1vZGVsQ2FyZCBjb21wb25lbnRzXG4gKiBAcGFyYW0gaW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIG1vZGVsIGJlaW5nIHNhdmVkXG4gKiBAcGFyYW0gbW9kZWxEYXRhIC0gVGhlIHVwZGF0ZWQgbW9kZWwgZGF0YVxuICovXG5jb25zdCBoYW5kbGVNb2RlbFNhdmUgPSAoaW5kZXg6IG51bWJlciwgbW9kZWxEYXRhOiBNb2RlbFNldHRpbmdzKSA9PiB7XG4gIC8vIERlZXAgY2xvbmUgdGhlIG1vZGVsIGRhdGEgdG8gcHJldmVudCByZWZlcmVuY2Ugc2hhcmluZ1xuICBjb25zdCBjbG9uZWRNb2RlbERhdGEgPSBkZWVwQ2xvbmVTZXR0aW5ncyhtb2RlbERhdGEpXG5cbiAgLy8gVXBkYXRlIHRoZSBtb2RlbCBhdCB0aGUgc3BlY2lmaWMgaW5kZXhcbiAgc2V0dGluZ3MudmFsdWUubW9kZWxzW2luZGV4XSA9IGNsb25lZE1vZGVsRGF0YVxuXG4gIC8vIFNhdmUgdGhlIHNldHRpbmdzXG4gIHNhdmVTZXR0aW5ncygpXG5cbiAgLy8gQ2xvc2UgdGhlIGZvcm1cbiAgY2xvc2VNb2RlbEZvcm0oKVxufVxuXG4vKipcbiAqIFNob3cgbW9kZWwgY29uZmlndXJhdGlvbiBmb3JtXG4gKiBAcGFyYW0gaW5kZXggLSBUaGUgaW5kZXggb2YgdGhlIG1vZGVsIHRvIGVkaXRcbiAqL1xuY29uc3Qgc2hvd01vZGVsRm9ybSA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gIGVkaXRpbmdNb2RlbEluZGV4LnZhbHVlID0gaW5kZXhcbiAgaXNTaG93aW5nTW9kZWxGb3JtLnZhbHVlID0gdHJ1ZVxufVxuXG4vKipcbiAqIENsb3NlIG1vZGVsIGNvbmZpZ3VyYXRpb24gZm9ybVxuICovXG5jb25zdCBjbG9zZU1vZGVsRm9ybSA9ICgpID0+IHtcbiAgZWRpdGluZ01vZGVsSW5kZXgudmFsdWUgPSBudWxsXG4gIGlzU2hvd2luZ01vZGVsRm9ybS52YWx1ZSA9IGZhbHNlXG59XG5cbi8qKlxuICogR2V0IHRoZSBtb2RlbCBiZWluZyBlZGl0ZWRcbiAqL1xuY29uc3QgZWRpdGluZ01vZGVsID0gY29tcHV0ZWQoKCkgPT4ge1xuICBpZiAoZWRpdGluZ01vZGVsSW5kZXgudmFsdWUgIT09IG51bGwgJiYgc2V0dGluZ3MudmFsdWUubW9kZWxzW2VkaXRpbmdNb2RlbEluZGV4LnZhbHVlXSkge1xuICAgIHJldHVybiBzZXR0aW5ncy52YWx1ZS5tb2RlbHNbZWRpdGluZ01vZGVsSW5kZXgudmFsdWVdXG4gIH1cbiAgcmV0dXJuIG51bGxcbn0pXG5cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJlbWJlZGRlZC1hcHAtcm9vdCBtYXgtdy00eGwgbXgtYXV0byBzcGFjZS15LThcIj5cbiAgICA8IS0tIExpY2Vuc2UgS2V5IFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cImJnLWNhcmQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWJvcmRlciBwLTYgc3BhY2UteS00XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicC0yIGJnLXByaW1hcnkvMTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxLZXkgY2xhc3M9XCJ3LTUgaC01IHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIHNwYWNlLXktMlwiPlxuICAgICAgICAgIDxoMiBjbGFzcz1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmRcIj5MaWNlbnNlIEtleTwvaDI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgRW50ZXIgeW91ciBsaWNlbnNlIGtleSB0byBhY3RpdmF0ZSBwcmVtaXVtIGZlYXR1cmVzIGFuZCB1bmxvY2sgYWxsIEFJIG1vZGVsc1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICA8SW5wdXQgOnR5cGU9XCJzaG93TGljZW5zZUtleSA/ICd0ZXh0JyA6ICdwYXNzd29yZCdcIiB2LW1vZGVsPVwibGljZW5zZUtleVwiIEBpbnB1dD1cImxpY2Vuc2VTdGF0dXMgPSAnJ1wiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlhYWFgtWFhYWC1YWFhYLVhYWFhcIiA6Y2xhc3M9XCJbXG4gICAgICAgICAgICAgICd3LWZ1bGwgcC0zIHByLTI0IGJnLWJhY2tncm91bmQgYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC1mb3JlZ3JvdW5kIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS81MCB0cmFuc2l0aW9uLWFsbCcsXG4gICAgICAgICAgICAgIGxpY2Vuc2VTdGF0dXMgPT09ICd2YWxpZCdcbiAgICAgICAgICAgICAgICA/ICdib3JkZXItZ3JlZW4tNTAwIGZvY3VzOmJvcmRlci1ncmVlbi01MDAnXG4gICAgICAgICAgICAgICAgOiBsaWNlbnNlU3RhdHVzID09PSAnaW52YWxpZCdcbiAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1yZWQtNTAwIGZvY3VzOmJvcmRlci1yZWQtNTAwJ1xuICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWJvcmRlciBmb2N1czpib3JkZXItcHJpbWFyeSdcbiAgICAgICAgICAgIF1cIiAvPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhYnNvbHV0ZSByaWdodC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPExvYWRlcjIgdi1pZj1cImxpY2Vuc2VTdGF0dXMgPT09ICdjaGVja2luZydcIiBjbGFzcz1cInctNCBoLTQgdGV4dC1wcmltYXJ5IGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICA8Q2hlY2tDaXJjbGUyIHYtaWY9XCJsaWNlbnNlU3RhdHVzID09PSAndmFsaWQnXCIgY2xhc3M9XCJ3LTQgaC00IHRleHQtZ3JlZW4tNTAwXCIgLz5cbiAgICAgICAgICAgIDxYQ2lyY2xlIHYtaWY9XCJsaWNlbnNlU3RhdHVzID09PSAnaW52YWxpZCdcIiBjbGFzcz1cInctNCBoLTQgdGV4dC1yZWQtNTAwXCIgLz5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIEBjbGljaz1cInNob3dMaWNlbnNlS2V5ID0gIXNob3dMaWNlbnNlS2V5XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgIDxjb21wb25lbnQgOmlzPVwic2hvd0xpY2Vuc2VLZXkgPyBFeWVPZmYgOiBFeWVcIiBjbGFzcz1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgdi1pZj1cImxpY2Vuc2VTdGF0dXMgPT09ICd2YWxpZCdcIlxuICAgICAgICAgIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcC0zIGJnLWdyZWVuLTUwMC8xMCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMC8yMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPENoZWNrQ2lyY2xlMiBjbGFzcz1cInctNCBoLTQgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSB0ZXh0LWdyZWVuLTYwMFwiPkxpY2Vuc2UgdmFsaWRhdGVkIHN1Y2Nlc3NmdWxseSEgQWxsIGZlYXR1cmVzIGFyZSB1bmxvY2tlZC48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgdi1pZj1cImxpY2Vuc2VTdGF0dXMgPT09ICdpbnZhbGlkJ1wiXG4gICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTMgYmctcmVkLTUwMC8xMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMjAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxYQ2lyY2xlIGNsYXNzPVwidy00IGgtNCB0ZXh0LXJlZC02MDBcIiAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSB0ZXh0LXJlZC02MDBcIj5JbnZhbGlkIGxpY2Vuc2Uga2V5LiBQbGVhc2UgY2hlY2sgYW5kIHRyeSBhZ2Fpbi48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yIHAtMyBiZy1zZWNvbmRhcnkgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxJbmZvIGNsYXNzPVwidy00IGgtNCB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMC41XCIgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIDxwPkRvbid0IGhhdmUgYSBsaWNlbnNlIGtleT8gPGEgaHJlZj1cIiNcIiBjbGFzcz1cInRleHQtcHJpbWFyeSBob3Zlcjp1bmRlcmxpbmVcIj5QdXJjaGFzZSBvbmUgaGVyZTwvYT48L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cIm10LTFcIj5OZWVkIGhlbHA/IDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJ0ZXh0LXByaW1hcnkgaG92ZXI6dW5kZXJsaW5lXCI+Q29udGFjdCBzdXBwb3J0PC9hPjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gU29ja2V0IEFkZHJlc3MgU2VjdGlvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiYmctY2FyZCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItYm9yZGVyIHAtNiBzcGFjZS15LTRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwLTIgYmctcHJpbWFyeS8xMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPFdpZmkgY2xhc3M9XCJ3LTUgaC01IHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIHNwYWNlLXktMlwiPlxuICAgICAgICAgIDxoMiBjbGFzcz1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmRcIj5Tb2NrZXQgQ29ubmVjdGlvbjwvaDI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgQ29uZmlndXJlIGFuZCBtYW5hZ2UgeW91ciBXZWJTb2NrZXQgY29ubmVjdGlvbiBmb3IgcmVhbC10aW1lIGNvbW11bmljYXRpb25cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgPCEtLSBTb2NrZXQgQWRkcmVzcyBJbnB1dCAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMlwiPlxuICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICBTb2NrZXQgQWRkcmVzc1xuICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgPElucHV0IHYtbW9kZWw9XCJzZXR0aW5ncy5zb2NrZXRBZGRyZXNzXCIgcGxhY2Vob2xkZXI9XCJodHRwczovL3VzZWFpLXNlcnZlci5mbHkuZGV2XCIgY2xhc3M9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgQGNoYW5nZT1cImhhbmRsZVNvY2tldEFkZHJlc3NDaGFuZ2VcIiAvPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5UaGUgV2ViU29ja2V0IGFkZHJlc3MgZm9yIHJlYWwtdGltZSBjb21tdW5pY2F0aW9uPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIENvbm5lY3Rpb24gU3RhdHVzIC0tPlxuICAgICAgICA8ZGl2IDpjbGFzcz1cIltcbiAgICAgICAgICAnZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcC00IHJvdW5kZWQtbGcgYm9yZGVyJyxcbiAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzSW5mby5iZ0NvbG9yLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXNJbmZvLmJvcmRlckNvbG9yXG4gICAgICAgIF1cIj5cbiAgICAgICAgICA8Y29tcG9uZW50IDppcz1cImNvbm5lY3Rpb25TdGF0dXNJbmZvLmljb25cIiA6Y2xhc3M9XCJbXG4gICAgICAgICAgICAndy01IGgtNScsXG4gICAgICAgICAgICBjb25uZWN0aW9uU3RhdHVzSW5mby5jb2xvcixcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXMgPT09ICdjb25uZWN0aW5nJyA/ICdhbmltYXRlLXNwaW4nIDogJydcbiAgICAgICAgICBdXCIgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4gOmNsYXNzPVwiWydmb250LW1lZGl1bScsIGNvbm5lY3Rpb25TdGF0dXNJbmZvLmNvbG9yXVwiPlxuICAgICAgICAgICAgICAgIHt7IGNvbm5lY3Rpb25TdGF0dXNJbmZvLmxhYmVsIH19XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0wLjVcIj5cbiAgICAgICAgICAgICAge3sgY29ubmVjdGlvblN0YXR1c0luZm8uZGVzY3JpcHRpb24gfX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBDb25uZWN0aW9uIENvbnRyb2xzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICA8QnV0dG9uIEBjbGljaz1cImNvbm5lY3RTb2NrZXRcIlxuICAgICAgICAgICAgOmRpc2FibGVkPVwiY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnIHx8IGNvbm5lY3Rpb25TdGF0dXMgPT09ICdjb25uZWN0ZWQnIHx8IGNvbm5lY3Rpb25TdGF0dXMgPT09ICdyZWNvbm5lY3RpbmcnXCJcbiAgICAgICAgICAgIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yIGJnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCI+XG4gICAgICAgICAgICA8UG93ZXIgY2xhc3M9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIENvbm5lY3RcbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwiZGlzY29ubmVjdFNvY2tldFwiIDpkaXNhYmxlZD1cImNvbm5lY3Rpb25TdGF0dXMgPT09ICdkaXNjb25uZWN0ZWQnXCJcbiAgICAgICAgICAgIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yIGJnLXJlZC02MDAgaG92ZXI6YmctcmVkLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1tZWRpdW0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIj5cbiAgICAgICAgICAgIDxXaWZpT2ZmIGNsYXNzPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICBEaXNjb25uZWN0XG4gICAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgICA8QnV0dG9uIEBjbGljaz1cInJlY29ubmVjdFNvY2tldFwiXG4gICAgICAgICAgICA6ZGlzYWJsZWQ9XCJjb25uZWN0aW9uU3RhdHVzID09PSAnY29ubmVjdGluZycgfHwgY29ubmVjdGlvblN0YXR1cyA9PT0gJ3JlY29ubmVjdGluZydcIlxuICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCI+XG4gICAgICAgICAgICA8Um90YXRlQ2N3IDpjbGFzcz1cIlsndy00IGgtNCcsIGNvbm5lY3Rpb25TdGF0dXMgPT09ICdyZWNvbm5lY3RpbmcnID8gJ2FuaW1hdGUtc3BpbicgOiAnJ11cIiAvPlxuICAgICAgICAgICAgUmVjb25uZWN0XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIEFJIE1vZGVscyBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJiZy1jYXJkIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIgcC02IHNwYWNlLXktNFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInAtMiBiZy1wcmltYXJ5LzEwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8QnJhaW4gY2xhc3M9XCJ3LTUgaC01IHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIHNwYWNlLXktMlwiPlxuICAgICAgICAgIDxoMiBjbGFzcz1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmRcIj5MTE0gTW9kZWxzPC9oMj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICBDb25maWd1cmUgYW5kIG1hbmFnZSB5b3VyIEFJIG1vZGVscyBmb3IgZGlmZmVyZW50IHByb3ZpZGVyc1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNlwiPlxuICAgICAgICA8IS0tIFByb3ZpZGVyIEJ1dHRvbnMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgQWRkIE5ldyBNb2RlbFxuICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggZmxleC13cmFwIGdhcC0zXCI+XG4gICAgICAgICAgICA8QnV0dG9uIHYtZm9yPVwicHJvdmlkZXIgaW4gcHJvdmlkZXJzXCIgOmtleT1cInByb3ZpZGVyLm5hbWVcIiBAY2xpY2s9XCJhZGROZXdNb2RlbChwcm92aWRlci5uYW1lKVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcHgtNCBweS0yIGJnLXNlY29uZGFyeSBob3ZlcjpiZy1zZWNvbmRhcnkvODAgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpzaGFkb3ctbWRcIj5cbiAgICAgICAgICAgICAgPGRpdiA6Y2xhc3M9XCJbJ3ctMiBoLTIgcm91bmRlZC1mdWxsJywgcHJvdmlkZXIuY29sb3JdXCIgLz5cbiAgICAgICAgICAgICAgPFBsdXMgY2xhc3M9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LW1lZGl1bVwiPnt7IHByb3ZpZGVyLm5hbWUgfX08L3NwYW4+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBNb2RlbCBDYXJkcyBHcmlkIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgIDxNb2RlbENhcmQgdi1mb3I9XCIobW9kZWwsIGluZGV4KSBpbiBzZXR0aW5ncy5tb2RlbHNcIiA6a2V5PVwibW9kZWwuaW50ZXJuYWxJZCB8fCBtb2RlbC5tb2RlbElkXCIgOm1vZGVsPVwibW9kZWxcIlxuICAgICAgICAgICAgOmluZGV4PVwiaW5kZXhcIiA6aXMtYWN0aXZlPVwibW9kZWwubW9kZWxJZCA9PT0gc2V0dGluZ3MuYWN0aXZlTW9kZWxJZFwiIEBzZXQtYWN0aXZlPVwic2V0QWN0aXZlTW9kZWxcIlxuICAgICAgICAgICAgQHJlbW92ZT1cInJlbW92ZU1vZGVsXCIgQHNhdmU9XCJoYW5kbGVNb2RlbFNhdmVcIiBAc2hvdy1mb3JtPVwic2hvd01vZGVsRm9ybVwiIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIE1vZGVsIENvbmZpZ3VyYXRpb24gRm9ybSAtLT5cbiAgICA8ZGl2IHYtaWY9XCJpc1Nob3dpbmdNb2RlbEZvcm0gJiYgZWRpdGluZ01vZGVsXCIgY2xhc3M9XCJiZy1jYXJkIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIgcC02IHNwYWNlLXktNFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIGdhcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtMiBiZy1wcmltYXJ5LzEwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzcz1cInctNSBoLTUgdGV4dC1wcmltYXJ5XCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPkNvbmZpZ3VyZSBNb2RlbDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgIFVwZGF0ZSBzZXR0aW5ncyBmb3Ige3sgZWRpdGluZ01vZGVsLm1vZGVsSWQgfHwgJ3RoaXMgbW9kZWwnIH19XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8QnV0dG9uIEBjbGljaz1cImNsb3NlTW9kZWxGb3JtXCIgdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCJcbiAgICAgICAgICBjbGFzcz1cInAtMiB0ZXh0LW11dGVkLWZvcmVncm91bmQgaG92ZXI6dGV4dC1mb3JlZ3JvdW5kIGhvdmVyOmJnLXNlY29uZGFyeSByb3VuZGVkIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgPFhDaXJjbGUgY2xhc3M9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNlwiPlxuICAgICAgICA8IS0tIE1vZGVsIENvbmZpZ3VyYXRpb24gLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPk1vZGVsIENvbmZpZ3VyYXRpb248L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+TW9kZWwgSUQ8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cInRleHRcIiB2LW1vZGVsPVwiZWRpdGluZ01vZGVsLm1vZGVsSWRcIiBjbGFzcz1cInctZnVsbFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbW9kZWwgSURcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+UHJvdmlkZXI8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cInRleHRcIiA6dmFsdWU9XCJlZGl0aW5nTW9kZWwucHJvdmlkZXJcIiBjbGFzcz1cInctZnVsbFwiIHJlYWRvbmx5IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBNb2RlbCBQYXJhbWV0ZXJzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5QYXJhbWV0ZXJzPC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlRlbXBlcmF0dXJlPC9MYWJlbD5cbiAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiMlwiIHN0ZXA9XCIwLjFcIiB2LW1vZGVsLm51bWJlcj1cImVkaXRpbmdNb2RlbC50ZW1wZXJhdHVyZVwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGxcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+VG9wIEs8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCIxMDBcIiB2LW1vZGVsLm51bWJlcj1cImVkaXRpbmdNb2RlbC50b3BLXCIgY2xhc3M9XCJ3LWZ1bGxcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+VG9wIFA8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgc3RlcD1cIjAuMDFcIiB2LW1vZGVsLm51bWJlcj1cImVkaXRpbmdNb2RlbC50b3BQXCIgY2xhc3M9XCJ3LWZ1bGxcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gQ3JlZGVudGlhbHMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPkNyZWRlbnRpYWxzPC9oMz5cblxuICAgICAgICAgIDwhLS0gR29vZ2xlL0dlbWluaSBDcmVkZW50aWFscyAtLT5cbiAgICAgICAgICA8dGVtcGxhdGUgdi1pZj1cImlzR2VtaW5pTW9kZWwoZWRpdGluZ01vZGVsKVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPkFQSSBLZXk8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdi1tb2RlbD1cImVkaXRpbmdNb2RlbC5hcGlLZXlcIiBjbGFzcz1cInctZnVsbFwiIHBsYWNlaG9sZGVyPVwiR29vZ2xlIEFQSSBrZXlcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZW1wbGF0ZT5cblxuICAgICAgICAgIDwhLS0gT3BlbkFJIENyZWRlbnRpYWxzIC0tPlxuICAgICAgICAgIDx0ZW1wbGF0ZSB2LWVsc2UtaWY9XCJpc09wZW5BSU1vZGVsKGVkaXRpbmdNb2RlbClcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPkFQSSBLZXk8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB2LW1vZGVsPVwiZWRpdGluZ01vZGVsLmFwaUtleVwiIGNsYXNzPVwidy1mdWxsXCIgcGxhY2Vob2xkZXI9XCJPcGVuQUkgQVBJIGtleVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5Pcmdhbml6YXRpb24gSUQ8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwub3JnYW5pemF0aW9uXCIgY2xhc3M9XCJ3LWZ1bGxcIiBwbGFjZWhvbGRlcj1cIk9wdGlvbmFsXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTIgbWQ6Y29sLXNwYW4tMlwiPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+QmFzZSBVUkw8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwuYmFzZVVybFwiIGNsYXNzPVwidy1mdWxsXCIgcGxhY2Vob2xkZXI9XCJPcHRpb25hbFwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZW1wbGF0ZT5cblxuICAgICAgICAgIDwhLS0gQW50aHJvcGljIENyZWRlbnRpYWxzIC0tPlxuICAgICAgICAgIDx0ZW1wbGF0ZSB2LWVsc2UtaWY9XCJpc0FudGhyb3BpY01vZGVsKGVkaXRpbmdNb2RlbClcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5BUEkgS2V5PC9MYWJlbD5cbiAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJwYXNzd29yZFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwuYXBpS2V5XCIgY2xhc3M9XCJ3LWZ1bGxcIiBwbGFjZWhvbGRlcj1cIkFudGhyb3BpYyBBUEkga2V5XCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvdGVtcGxhdGU+XG5cbiAgICAgICAgICA8IS0tIEJlZHJvY2sgQ3JlZGVudGlhbHMgLS0+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImlzQmVkcm9ja01vZGVsKGVkaXRpbmdNb2RlbClcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPkFjY2VzcyBLZXkgSUQ8L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB2LW1vZGVsPVwiZWRpdGluZ01vZGVsLmFjY2Vzc0tleUlkXCIgY2xhc3M9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBV1MgQWNjZXNzIEtleSBJRFwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5TZWNyZXQgQWNjZXNzIEtleTwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJwYXNzd29yZFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwuc2VjcmV0QWNjZXNzS2V5XCIgY2xhc3M9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBV1MgU2VjcmV0IEFjY2VzcyBLZXlcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMiBtZDpjb2wtc3Bhbi0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5SZWdpb248L0xhYmVsPlxuICAgICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwucmVnaW9uXCIgY2xhc3M9XCJ3LWZ1bGxcIiBwbGFjZWhvbGRlcj1cInVzLWVhc3QtMVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBBY3Rpb24gQnV0dG9ucyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBwdC00IGJvcmRlci10IGJvcmRlci1ib3JkZXJcIj5cbiAgICAgICAgICA8QnV0dG9uIEBjbGljaz1cInJlbW92ZU1vZGVsKGVkaXRpbmdNb2RlbEluZGV4ISlcIiB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8VHJhc2gyIGNsYXNzPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICBEZWxldGUgTW9kZWxcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgPEJ1dHRvbiBAY2xpY2s9XCJjbG9zZU1vZGVsRm9ybVwiIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIj5cbiAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwiaGFuZGxlTW9kZWxTYXZlKGVkaXRpbmdNb2RlbEluZGV4ISwgZWRpdGluZ01vZGVsISlcIlxuICAgICAgICAgICAgICBjbGFzcz1cImJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgaG92ZXI6YmctcHJpbWFyeS85MFwiPlxuICAgICAgICAgICAgICBTYXZlIENoYW5nZXNcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBTeXN0ZW0gUHJvbXB0IFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNFwiPlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgU3lzdGVtIFByb21wdFxuICAgICAgICA8L0xhYmVsPlxuICAgICAgICA8VGV4dGFyZWEgdi1tb2RlbD1cInNldHRpbmdzLnN5c3RlbVByb21wdFwiXG4gICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgaC0zMiBwLTQgYmctYmFja2dyb3VuZCBib3JkZXIgYm9yZGVyLWJvcmRlciByb3VuZGVkLWxnIHRleHQtZm9yZWdyb3VuZCBwbGFjZWhvbGRlcjp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnkvNTAgZm9jdXM6Ym9yZGVyLXByaW1hcnkgcmVzaXplLW5vbmVcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBzeXN0ZW0gcHJvbXB0IGhlcmUuLi5cIiAvPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGp1c3RpZnktZW5kXCI+XG4gICAgICAgIDxCdXR0b24gQGNsaWNrPVwic2F2ZVNldHRpbmdzXCJcbiAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMiBiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIHJvdW5kZWQtbGcgaG92ZXI6YmctcHJpbWFyeS85MCB0cmFuc2l0aW9uLWNvbG9ycyBmb250LW1lZGl1bVwiPlxuICAgICAgICAgIFNhdmUgQ2hhbmdlc1xuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+IiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIGluamVjdCwgb25Nb3VudGVkLCBvblVubW91bnRlZCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB0eXBlIFVzZUFpUGx1Z2luIGZyb20gJ0AvbWFpbidcbmltcG9ydCB0eXBlIHsgTW9kZWxTZXR0aW5ncywgT2JzaWRpYW5BaVNldHRpbmdzLCBHZW1pbmlNb2RlbFNldHRpbmdzLCBCZWRyb2NrTW9kZWxTZXR0aW5ncywgT3BlbkFJTW9kZWxTZXR0aW5ncywgQW50aHJvcGljTW9kZWxTZXR0aW5ncyB9IGZyb20gJ0AvdHlwZXMvc2V0dGluZ3MnXG5pbXBvcnQge1xuICBpc0dlbWluaU1vZGVsLFxuICBpc0JlZHJvY2tNb2RlbCxcbiAgaXNPcGVuQUlNb2RlbCxcbiAgaXNBbnRocm9waWNNb2RlbFxufSBmcm9tICdAL3R5cGVzL3NldHRpbmdzJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uL0J1dHRvbi52dWUnXG5pbXBvcnQgSW5wdXQgZnJvbSAnQC9jb21wb25lbnRzL3VpL2lucHV0L0lucHV0LnZ1ZSdcbmltcG9ydCBMYWJlbCBmcm9tICdAL2NvbXBvbmVudHMvdWkvbGFiZWwvTGFiZWwudnVlJ1xuaW1wb3J0IFRleHRhcmVhIGZyb20gJ0AvY29tcG9uZW50cy91aS90ZXh0YXJlYS9UZXh0YXJlYS52dWUnXG5cbmltcG9ydCBNb2RlbENhcmQgZnJvbSAnQC9jb21wb25lbnRzL01vZGVsQ2FyZC52dWUnXG5pbXBvcnQge1xuICBQbHVzLFxuICBCcmFpbixcbiAgWmFwLFxuICBTaGllbGQsXG4gIEdsb2JlLFxuICBFeWUsXG4gIEV5ZU9mZixcbiAgS2V5LFxuICBJbmZvLFxuICBDaGVja0NpcmNsZTIsXG4gIFhDaXJjbGUsXG4gIExvYWRlcjIsXG4gIFdpZmksXG4gIFdpZmlPZmYsXG4gIFJvdGF0ZUNjdyxcbiAgUG93ZXIsXG4gIEFsZXJ0VHJpYW5nbGUsXG4gIFNldHRpbmdzLFxuICBUcmFzaDJcbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuaW1wb3J0IHR5cGUgeyBTb2NrZXRDb25uZWN0aW9uSW5mbyB9IGZyb20gJ0AvZXZlbnRzJ1xuXG5jb25zdCBwbHVnaW4gPSBpbmplY3Q8VXNlQWlQbHVnaW4+KFwidXNlQWlQbHVnaW5cIikhXG5cbi8qKlxuICogTG9jYWwgcmVhY3RpdmUgY29weSBvZiBzZXR0aW5ncyB3aXRoIHByb3BlciBkZWVwIGNsb25pbmdcbiAqIFRoaXMgcHJldmVudHMgbXV0YXRpb25zIHRvIHRoZSBsb2NhbCBzZXR0aW5ncyBmcm9tIGFmZmVjdGluZyB0aGUgb3JpZ2luYWwgcGx1Z2luIHNldHRpbmdzXG4gKiBhbmQgZW5zdXJlcyBkYXRhIGludGVncml0eSB3aGVuIHdvcmtpbmcgd2l0aCBuZXN0ZWQgb2JqZWN0cyBsaWtlIHRoZSBtb2RlbHMgYXJyYXlcbiAqL1xuY29uc3Qgc2V0dGluZ3MgPSByZWY8T2JzaWRpYW5BaVNldHRpbmdzPih7XG4gIHNvY2tldEFkZHJlc3M6ICcnLFxuICBtb2RlbHM6IFtdLFxuICBhY3RpdmVNb2RlbElkOiAnJyxcbiAgc3lzdGVtUHJvbXB0OiAnJyxcbiAgZGVidWc6IGZhbHNlLFxuICBsaWNlbnNlS2V5OiAnJ1xufSlcblxuLyoqXG4gKiBEZWVwIGNsb25lIHNldHRpbmdzIHRvIHByZXZlbnQgbXV0YXRpb25zIGFmZmVjdGluZyB0aGUgb3JpZ2luYWwgcGx1Z2luIHNldHRpbmdzXG4gKiBVc2VzIHN0cnVjdHVyZWRDbG9uZSBmb3IgbW9kZXJuIGJyb3dzZXJzIHdpdGggSlNPTiBmYWxsYmFjayBmb3IgY29tcGxleCBvYmplY3RzXG4gKiBAcGFyYW0gb2JqIC0gVGhlIG9iamVjdCB0byBjbG9uZVxuICogQHJldHVybnMgQSBkZWVwIGNsb25lIG9mIHRoZSBpbnB1dCBvYmplY3RcbiAqL1xuY29uc3QgZGVlcENsb25lU2V0dGluZ3MgPSA8VD4ob2JqOiBUKTogVCA9PiB7XG4gIGlmICh0eXBlb2Ygc3RydWN0dXJlZENsb25lICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc3RydWN0dXJlZENsb25lKG9iailcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdzdHJ1Y3R1cmVkQ2xvbmUgZmFpbGVkLCBmYWxsaW5nIGJhY2sgdG8gSlNPTiBtZXRob2Q6JywgZXJyb3IpXG4gICAgfVxuICB9XG5cbiAgLy8gRmFsbGJhY2sgdG8gSlNPTiBjbG9uZSBmb3IgY29tcGxleCBvYmplY3RzXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2xvbmUgc2V0dGluZ3M6JywgZXJyb3IpXG4gICAgLy8gUmV0dXJuIHNoYWxsb3cgY2xvbmUgYXMgbGFzdCByZXNvcnRcbiAgICByZXR1cm4geyAuLi5vYmogYXMgYW55IH1cbiAgfVxufVxuXG4vLyBMaWNlbnNlIGtleSBzdGF0ZVxuY29uc3QgbGljZW5zZUtleSA9IHJlZignJylcbmNvbnN0IGxpY2Vuc2VTdGF0dXMgPSByZWY8J3ZhbGlkJyB8ICdpbnZhbGlkJyB8ICdjaGVja2luZycgfCAnJz4oJycpXG5jb25zdCBzaG93TGljZW5zZUtleSA9IHJlZihmYWxzZSlcblxuLy8gU29ja2V0IGNvbm5lY3Rpb24gc3RhdGUgLSBub3cgdXNpbmcgcmVhbCBjb25uZWN0aW9uIHN0YXR1c1xuY29uc3QgY29ubmVjdGlvblN0YXR1cyA9IHJlZjwnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ2Nvbm5lY3RpbmcnIHwgJ2Vycm9yJyB8ICdyZWNvbm5lY3RpbmcnPignZGlzY29ubmVjdGVkJylcbmNvbnN0IGxhc3RDb25uZWN0aW9uVGltZSA9IHJlZjxEYXRlIHwgbnVsbD4obnVsbClcbmNvbnN0IGNvbm5lY3Rpb25FcnJvciA9IHJlZignJylcblxuLy8gTW9kZWwgZWRpdGluZyBzdGF0ZVxuY29uc3QgZWRpdGluZ01vZGVsSW5kZXggPSByZWY8bnVtYmVyIHwgbnVsbD4obnVsbClcbmNvbnN0IGlzU2hvd2luZ01vZGVsRm9ybSA9IHJlZihmYWxzZSlcblxuLy8gU3RvcmUgZXZlbnQgbGlzdGVuZXIgcmVmZXJlbmNlcyBmb3IgY2xlYW51cFxuY29uc3QgZXZlbnRSZWZzOiBhbnlbXSA9IFtdXG5cbm9uTW91bnRlZCgoKSA9PiB7XG4gIHNldHRpbmdzLnZhbHVlID0gZGVlcENsb25lU2V0dGluZ3MocGx1Z2luLnNldHRpbmdzKVxuXG4gIC8vIEluaXRpYWxpemUgY29ubmVjdGlvbiBzdGF0dXMgZnJvbSBwbHVnaW5cbiAgY29ubmVjdGlvblN0YXR1cy52YWx1ZSA9IHBsdWdpbi5nZXRTb2NrZXRDb25uZWN0aW9uU3RhdHVzKClcblxuICAvLyBTZXR1cCBldmVudCBsaXN0ZW5lcnMgZm9yIHNvY2tldCBjb25uZWN0aW9uIHN0YXR1c1xuICBzZXR1cFNvY2tldEV2ZW50TGlzdGVuZXJzKClcbn0pXG5cbm9uVW5tb3VudGVkKCgpID0+IHtcbiAgLy8gQ2xlYW4gdXAgYWxsIGV2ZW50IGxpc3RlbmVycyB0byBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuICBldmVudFJlZnMuZm9yRWFjaChldmVudFJlZiA9PiB7XG4gICAgcGx1Z2luLmV2ZW50cy5vZmZyZWYoZXZlbnRSZWYpXG4gIH0pXG4gIGV2ZW50UmVmcy5sZW5ndGggPSAwXG59KVxuXG4vKipcbiAqIFNldHVwIGV2ZW50IGxpc3RlbmVycyBmb3Igc29ja2V0IGNvbm5lY3Rpb24gbWFuYWdlbWVudFxuICogU3RvcmVzIGV2ZW50IHJlZmVyZW5jZXMgdG8gYmUgY2xlYW5lZCB1cCBvbiBjb21wb25lbnQgdW5tb3VudFxuICovXG5jb25zdCBzZXR1cFNvY2tldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAvLyBMaXN0ZW4gZm9yIHNvY2tldCBzdGF0dXMgY2hhbmdlc1xuICBjb25zdCBzdGF0dXNDaGFuZ2VkUmVmID0gcGx1Z2luLmV2ZW50cy5vbignc29ja2V0OnN0YXR1cy1jaGFuZ2VkJywgKGluZm86IFNvY2tldENvbm5lY3Rpb25JbmZvKSA9PiB7XG4gICAgY29ubmVjdGlvblN0YXR1cy52YWx1ZSA9IGluZm8uc3RhdHVzXG4gICAgY29ubmVjdGlvbkVycm9yLnZhbHVlID0gaW5mby5lcnJvciB8fCAnJ1xuICAgIGxhc3RDb25uZWN0aW9uVGltZS52YWx1ZSA9IGluZm8udGltZXN0YW1wIHx8IG51bGxcbiAgfSlcbiAgZXZlbnRSZWZzLnB1c2goc3RhdHVzQ2hhbmdlZFJlZilcblxuICBjb25zdCBjb25uZWN0ZWRSZWYgPSBwbHVnaW4uZXZlbnRzLm9uKCdzb2NrZXQ6Y29ubmVjdGVkJywgKGFkZHJlc3M6IHN0cmluZykgPT4ge1xuICAgIGNvbm5lY3Rpb25TdGF0dXMudmFsdWUgPSAnY29ubmVjdGVkJ1xuICAgIGxhc3RDb25uZWN0aW9uVGltZS52YWx1ZSA9IG5ldyBEYXRlKClcbiAgICBjb25uZWN0aW9uRXJyb3IudmFsdWUgPSAnJ1xuICB9KVxuICBldmVudFJlZnMucHVzaChjb25uZWN0ZWRSZWYpXG5cbiAgY29uc3QgZGlzY29ubmVjdGVkUmVmID0gcGx1Z2luLmV2ZW50cy5vbignc29ja2V0OmRpc2Nvbm5lY3RlZCcsIChyZWFzb24/OiBzdHJpbmcpID0+IHtcbiAgICBjb25uZWN0aW9uU3RhdHVzLnZhbHVlID0gJ2Rpc2Nvbm5lY3RlZCdcbiAgICBjb25uZWN0aW9uRXJyb3IudmFsdWUgPSByZWFzb24gfHwgJydcbiAgICBsYXN0Q29ubmVjdGlvblRpbWUudmFsdWUgPSBudWxsXG4gIH0pXG4gIGV2ZW50UmVmcy5wdXNoKGRpc2Nvbm5lY3RlZFJlZilcblxuICBjb25zdCBjb25uZWN0aW5nUmVmID0gcGx1Z2luLmV2ZW50cy5vbignc29ja2V0OmNvbm5lY3RpbmcnLCAoYWRkcmVzczogc3RyaW5nKSA9PiB7XG4gICAgY29ubmVjdGlvblN0YXR1cy52YWx1ZSA9ICdjb25uZWN0aW5nJ1xuICAgIGNvbm5lY3Rpb25FcnJvci52YWx1ZSA9ICcnXG4gIH0pXG4gIGV2ZW50UmVmcy5wdXNoKGNvbm5lY3RpbmdSZWYpXG5cbiAgY29uc3QgZXJyb3JSZWYgPSBwbHVnaW4uZXZlbnRzLm9uKCdzb2NrZXQ6ZXJyb3InLCAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgIGNvbm5lY3Rpb25TdGF0dXMudmFsdWUgPSAnZXJyb3InXG4gICAgY29ubmVjdGlvbkVycm9yLnZhbHVlID0gZXJyb3JcbiAgfSlcbiAgZXZlbnRSZWZzLnB1c2goZXJyb3JSZWYpXG5cbiAgY29uc3QgcmVjb25uZWN0aW5nUmVmID0gcGx1Z2luLmV2ZW50cy5vbignc29ja2V0OnJlY29ubmVjdGluZycsIChhdHRlbXB0OiBudW1iZXIpID0+IHtcbiAgICBjb25uZWN0aW9uU3RhdHVzLnZhbHVlID0gJ3JlY29ubmVjdGluZydcbiAgICBjb25uZWN0aW9uRXJyb3IudmFsdWUgPSBgUmVjb25uZWN0aW9uIGF0dGVtcHQgIyR7YXR0ZW1wdH1gXG4gIH0pXG4gIGV2ZW50UmVmcy5wdXNoKHJlY29ubmVjdGluZ1JlZilcbn1cblxuLyoqXG4gKiBDb25uZWN0IHRvIHRoZSBXZWJTb2NrZXQgc2VydmVyIHZpYSBwbHVnaW4gZXZlbnRzXG4gKi9cbmNvbnN0IGNvbm5lY3RTb2NrZXQgPSBhc3luYyAoKSA9PiB7XG4gIGlmICghc2V0dGluZ3MudmFsdWUuc29ja2V0QWRkcmVzcy50cmltKCkpIHtcbiAgICBjb25uZWN0aW9uRXJyb3IudmFsdWUgPSAnU29ja2V0IGFkZHJlc3MgaXMgcmVxdWlyZWQhJ1xuICAgIGNvbm5lY3Rpb25TdGF0dXMudmFsdWUgPSAnZXJyb3InXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBTYXZlIHNldHRpbmdzIGZpcnN0IGluIGNhc2UgYWRkcmVzcyBjaGFuZ2VkXG4gIGF3YWl0IHNhdmVTZXR0aW5ncygpXG5cbiAgLy8gUmVxdWVzdCBjb25uZWN0aW9uIHZpYSBldmVudCBzeXN0ZW1cbiAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKCdzb2NrZXQ6Y29ubmVjdC1yZXF1ZXN0Jywgc2V0dGluZ3MudmFsdWUuc29ja2V0QWRkcmVzcylcbn1cblxuLyoqXG4gKiBEaXNjb25uZWN0IGZyb20gdGhlIFdlYlNvY2tldCBzZXJ2ZXIgdmlhIHBsdWdpbiBldmVudHNcbiAqL1xuY29uc3QgZGlzY29ubmVjdFNvY2tldCA9ICgpID0+IHtcbiAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKCdzb2NrZXQ6ZGlzY29ubmVjdC1yZXF1ZXN0Jylcbn1cblxuLyoqXG4gKiBSZWNvbm5lY3QgdG8gdGhlIFdlYlNvY2tldCBzZXJ2ZXIgdmlhIHBsdWdpbiBldmVudHNcbiAqL1xuY29uc3QgcmVjb25uZWN0U29ja2V0ID0gYXN5bmMgKCkgPT4ge1xuICBwbHVnaW4uZXZlbnRzLnRyaWdnZXIoJ3NvY2tldDpyZWNvbm5lY3QtcmVxdWVzdCcpXG59XG5cbi8qKlxuICogSGFuZGxlIHNvY2tldCBhZGRyZXNzIGNoYW5nZXMgLSBhdXRvLXJlY29ubmVjdCBpZiBjdXJyZW50bHkgY29ubmVjdGVkXG4gKi9cbmNvbnN0IGhhbmRsZVNvY2tldEFkZHJlc3NDaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG4gIGF3YWl0IHNhdmVTZXR0aW5ncygpXG5cbiAgLy8gSWYgY3VycmVudGx5IGNvbm5lY3RlZCwgcmVjb25uZWN0IHdpdGggbmV3IGFkZHJlc3NcbiAgaWYgKGNvbm5lY3Rpb25TdGF0dXMudmFsdWUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgcmVjb25uZWN0U29ja2V0KClcbiAgfVxufVxuXG4vKipcbiAqIEdldCBjb25uZWN0aW9uIHN0YXR1cyBkaXNwbGF5IGluZm9ybWF0aW9uXG4gKi9cbmNvbnN0IGNvbm5lY3Rpb25TdGF0dXNJbmZvID0gY29tcHV0ZWQoKCkgPT4ge1xuICBzd2l0Y2ggKGNvbm5lY3Rpb25TdGF0dXMudmFsdWUpIHtcbiAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWNvbjogV2lmaSxcbiAgICAgICAgY29sb3I6ICd0ZXh0LWdyZWVuLTUwMCcsXG4gICAgICAgIGJnQ29sb3I6ICdiZy1ncmVlbi01MDAvMTAnLFxuICAgICAgICBib3JkZXJDb2xvcjogJ2JvcmRlci1ncmVlbi01MDAvMjAnLFxuICAgICAgICBsYWJlbDogJ0Nvbm5lY3RlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBsYXN0Q29ubmVjdGlvblRpbWUudmFsdWVcbiAgICAgICAgICA/IGBDb25uZWN0ZWQgYXQgJHtsYXN0Q29ubmVjdGlvblRpbWUudmFsdWUudG9Mb2NhbGVUaW1lU3RyaW5nKCl9YFxuICAgICAgICAgIDogJ1N1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdG8gc2VydmVyJ1xuICAgICAgfVxuICAgIGNhc2UgJ2Nvbm5lY3RpbmcnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWNvbjogTG9hZGVyMixcbiAgICAgICAgY29sb3I6ICd0ZXh0LWJsdWUtNTAwJyxcbiAgICAgICAgYmdDb2xvcjogJ2JnLWJsdWUtNTAwLzEwJyxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdib3JkZXItYmx1ZS01MDAvMjAnLFxuICAgICAgICBsYWJlbDogJ0Nvbm5lY3RpbmcuLi4nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0VzdGFibGlzaGluZyBjb25uZWN0aW9uIHRvIHNlcnZlcidcbiAgICAgIH1cbiAgICBjYXNlICdyZWNvbm5lY3RpbmcnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWNvbjogUm90YXRlQ2N3LFxuICAgICAgICBjb2xvcjogJ3RleHQteWVsbG93LTUwMCcsXG4gICAgICAgIGJnQ29sb3I6ICdiZy15ZWxsb3ctNTAwLzEwJyxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdib3JkZXIteWVsbG93LTUwMC8yMCcsXG4gICAgICAgIGxhYmVsOiAnUmVjb25uZWN0aW5nLi4uJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGNvbm5lY3Rpb25FcnJvci52YWx1ZSB8fCAnQXR0ZW1wdGluZyB0byByZWNvbm5lY3QgdG8gc2VydmVyJ1xuICAgICAgfVxuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljb246IEFsZXJ0VHJpYW5nbGUsXG4gICAgICAgIGNvbG9yOiAndGV4dC1yZWQtNTAwJyxcbiAgICAgICAgYmdDb2xvcjogJ2JnLXJlZC01MDAvMTAnLFxuICAgICAgICBib3JkZXJDb2xvcjogJ2JvcmRlci1yZWQtNTAwLzIwJyxcbiAgICAgICAgbGFiZWw6ICdDb25uZWN0aW9uIEVycm9yJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGNvbm5lY3Rpb25FcnJvci52YWx1ZSB8fCAnRmFpbGVkIHRvIGNvbm5lY3QgdG8gc2VydmVyJ1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpY29uOiBXaWZpT2ZmLFxuICAgICAgICBjb2xvcjogJ3RleHQtbXV0ZWQtZm9yZWdyb3VuZCcsXG4gICAgICAgIGJnQ29sb3I6ICdiZy1zZWNvbmRhcnknLFxuICAgICAgICBib3JkZXJDb2xvcjogJ2JvcmRlci1ib3JkZXInLFxuICAgICAgICBsYWJlbDogJ0Rpc2Nvbm5lY3RlZCcsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTm90IGNvbm5lY3RlZCB0byBzZXJ2ZXInXG4gICAgICB9XG4gIH1cbn0pXG5cbi8qKlxuICogUHJvdmlkZXIgY29uZmlndXJhdGlvbiB3aXRoIGljb25zIGFuZCBjb2xvcnNcbiAqL1xuY29uc3QgcHJvdmlkZXJzID0gW1xuICB7IG5hbWU6ICdHb29nbGUnLCBpY29uOiBHbG9iZSwgY29sb3I6ICdiZy1ibHVlLTUwMCcgfSxcbiAgeyBuYW1lOiAnT3BlbkFJJywgaWNvbjogQnJhaW4sIGNvbG9yOiAnYmctZ3JlZW4tNTAwJyB9LFxuICB7IG5hbWU6ICdBbnRocm9waWMnLCBpY29uOiBTaGllbGQsIGNvbG9yOiAnYmctb3JhbmdlLTUwMCcgfSxcbiAgeyBuYW1lOiAnQmVkcm9jaycsIGljb246IFphcCwgY29sb3I6ICdiZy1wdXJwbGUtNTAwJyB9XG5dXG5cbi8qKlxuICogR2V0IG1vZGVsIHRlbXBsYXRlIGZvciBuZXcgbW9kZWxzXG4gKi9cbmNvbnN0IGdldE1vZGVsVGVtcGxhdGUgPSAocHJvdmlkZXI6IHN0cmluZyk6IE1vZGVsU2V0dGluZ3MgPT4ge1xuICBjb25zdCBiYXNlSWQgPSBgJHtwcm92aWRlci50b0xvd2VyQ2FzZSgpfS0ke0RhdGUubm93KCl9YFxuICBjb25zdCBiYXNlTW9kZWw6IFBhcnRpYWw8TW9kZWxTZXR0aW5ncz4gPSB7XG4gICAgaW50ZXJuYWxJZDogYG1vZGVsXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICBwcm92aWRlcjogcHJvdmlkZXIudG9Mb3dlckNhc2UoKSBhcyBhbnksXG4gICAgbW9kZWxJZDogJycsXG4gICAgY29sb3I6ICcjNDI4NUY0JyxcbiAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgIHRvcEs6IDQwLFxuICAgIHRvcFA6IDAuOVxuICB9XG5cbiAgc3dpdGNoIChwcm92aWRlcikge1xuICAgIGNhc2UgJ0dvb2dsZSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlTW9kZWwsXG4gICAgICAgIHByb3ZpZGVyOiAnZ29vZ2xlJyxcbiAgICAgICAgbW9kZWxJZDogJ2dlbWluaS1wcm8nLFxuICAgICAgICBhcGlLZXk6ICcnXG4gICAgICB9IGFzIEdlbWluaU1vZGVsU2V0dGluZ3NcbiAgICBjYXNlICdPcGVuQUknOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZU1vZGVsLFxuICAgICAgICBwcm92aWRlcjogJ29wZW5haScsXG4gICAgICAgIG1vZGVsSWQ6ICdncHQtNCcsXG4gICAgICAgIGFwaUtleTogJycsXG4gICAgICAgIG9yZ2FuaXphdGlvbjogJycsXG4gICAgICAgIGJhc2VVcmw6ICcnXG4gICAgICB9IGFzIE9wZW5BSU1vZGVsU2V0dGluZ3NcbiAgICBjYXNlICdBbnRocm9waWMnOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZU1vZGVsLFxuICAgICAgICBwcm92aWRlcjogJ2FudGhyb3BpYycsXG4gICAgICAgIG1vZGVsSWQ6ICdjbGF1ZGUtMy1zb25uZXQnLFxuICAgICAgICBhcGlLZXk6ICcnXG4gICAgICB9IGFzIEFudGhyb3BpY01vZGVsU2V0dGluZ3NcbiAgICBjYXNlICdCZWRyb2NrJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VNb2RlbCxcbiAgICAgICAgcHJvdmlkZXI6ICdiZWRyb2NrJyxcbiAgICAgICAgbW9kZWxJZDogJ2FudGhyb3BpYy5jbGF1ZGUtMy1zb25uZXQnLFxuICAgICAgICBhY2Nlc3NLZXlJZDogJycsXG4gICAgICAgIHNlY3JldEFjY2Vzc0tleTogJycsXG4gICAgICAgIHJlZ2lvbjogJ3VzLWVhc3QtMScsXG4gICAgICAgIG1vZGVsQXJuOiAnJ1xuICAgICAgfSBhcyBCZWRyb2NrTW9kZWxTZXR0aW5nc1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcHJvdmlkZXI6ICR7cHJvdmlkZXJ9YClcbiAgfVxufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBtb2RlbCBjb25maWd1cmF0aW9uXG4gKi9cbmNvbnN0IGFkZE5ld01vZGVsID0gKHByb3ZpZGVyTmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IG5ld01vZGVsID0gZ2V0TW9kZWxUZW1wbGF0ZShwcm92aWRlck5hbWUpXG4gIC8vIERlZXAgY2xvbmUgdGhlIHRlbXBsYXRlIHRvIHByZXZlbnQgYW55IHBvdGVudGlhbCByZWZlcmVuY2UgaXNzdWVzXG4gIGNvbnN0IGNsb25lZE1vZGVsID0gZGVlcENsb25lU2V0dGluZ3MobmV3TW9kZWwpXG4gIHNldHRpbmdzLnZhbHVlLm1vZGVscy51bnNoaWZ0KGNsb25lZE1vZGVsKVxufVxuXG4vKipcbiAqIFJlbW92ZSBhIG1vZGVsIGNvbmZpZ3VyYXRpb25cbiAqL1xuY29uc3QgcmVtb3ZlTW9kZWwgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICBjb25zdCBtb2RlbFRvUmVtb3ZlID0gc2V0dGluZ3MudmFsdWUubW9kZWxzW2luZGV4XVxuICBzZXR0aW5ncy52YWx1ZS5tb2RlbHMuc3BsaWNlKGluZGV4LCAxKVxuXG4gIC8vIElmIHdlIHJlbW92ZWQgdGhlIGFjdGl2ZSBtb2RlbCwgc2V0IHRoZSBmaXJzdCBtb2RlbCBhcyBhY3RpdmVcbiAgaWYgKG1vZGVsVG9SZW1vdmUubW9kZWxJZCA9PT0gc2V0dGluZ3MudmFsdWUuYWN0aXZlTW9kZWxJZCAmJiBzZXR0aW5ncy52YWx1ZS5tb2RlbHMubGVuZ3RoID4gMCkge1xuICAgIHNldHRpbmdzLnZhbHVlLmFjdGl2ZU1vZGVsSWQgPSBzZXR0aW5ncy52YWx1ZS5tb2RlbHNbMF0ubW9kZWxJZFxuICB9XG59XG5cbi8qKlxuICogU2V0IGFjdGl2ZSBtb2RlbFxuICovXG5jb25zdCBzZXRBY3RpdmVNb2RlbCA9IChtb2RlbElkOiBzdHJpbmcpID0+IHtcbiAgc2V0dGluZ3MudmFsdWUuYWN0aXZlTW9kZWxJZCA9IG1vZGVsSWRcbiAgLy8gVXBkYXRlIHRoZSBhY3RpdmUgZmxhZyBvbiBtb2RlbHNcbiAgc2V0dGluZ3MudmFsdWUubW9kZWxzLmZvckVhY2gobW9kZWwgPT4ge1xuICAgIGlmICgnYWN0aXZlJyBpbiBtb2RlbCkge1xuICAgICAgKG1vZGVsIGFzIGFueSkuYWN0aXZlID0gbW9kZWwubW9kZWxJZCA9PT0gbW9kZWxJZFxuICAgIH1cbiAgfSlcbn1cblxuLyoqXG4gKiBTYXZlIHNldHRpbmdzIGJhY2sgdG8gcGx1Z2luIHdpdGggcHJvcGVyIGRlZXAgY2xvbmluZ1xuICogRW5zdXJlcyBubyByZWZlcmVuY2Ugc2hhcmluZyBiZXR3ZWVuIGxvY2FsIHNldHRpbmdzIGFuZCBwbHVnaW4gc2V0dGluZ3NcbiAqL1xuY29uc3Qgc2F2ZVNldHRpbmdzID0gYXN5bmMgKCkgPT4ge1xuICAvLyBEZWVwIGNsb25lIHRoZSBsb2NhbCBzZXR0aW5ncyBiZWZvcmUgYXNzaWduaW5nIHRvIHBsdWdpblxuICBjb25zdCBjbG9uZWRTZXR0aW5ncyA9IGRlZXBDbG9uZVNldHRpbmdzKHNldHRpbmdzLnZhbHVlKVxuICBPYmplY3QuYXNzaWduKHBsdWdpbi5zZXR0aW5ncywgY2xvbmVkU2V0dGluZ3MpXG4gIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKVxufVxuXG4vKipcbiAqIEhhbmRsZSBtb2RlbCBzYXZlIGZyb20gTW9kZWxDYXJkIGNvbXBvbmVudHNcbiAqIEBwYXJhbSBpbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgbW9kZWwgYmVpbmcgc2F2ZWRcbiAqIEBwYXJhbSBtb2RlbERhdGEgLSBUaGUgdXBkYXRlZCBtb2RlbCBkYXRhXG4gKi9cbmNvbnN0IGhhbmRsZU1vZGVsU2F2ZSA9IChpbmRleDogbnVtYmVyLCBtb2RlbERhdGE6IE1vZGVsU2V0dGluZ3MpID0+IHtcbiAgLy8gRGVlcCBjbG9uZSB0aGUgbW9kZWwgZGF0YSB0byBwcmV2ZW50IHJlZmVyZW5jZSBzaGFyaW5nXG4gIGNvbnN0IGNsb25lZE1vZGVsRGF0YSA9IGRlZXBDbG9uZVNldHRpbmdzKG1vZGVsRGF0YSlcblxuICAvLyBVcGRhdGUgdGhlIG1vZGVsIGF0IHRoZSBzcGVjaWZpYyBpbmRleFxuICBzZXR0aW5ncy52YWx1ZS5tb2RlbHNbaW5kZXhdID0gY2xvbmVkTW9kZWxEYXRhXG5cbiAgLy8gU2F2ZSB0aGUgc2V0dGluZ3NcbiAgc2F2ZVNldHRpbmdzKClcblxuICAvLyBDbG9zZSB0aGUgZm9ybVxuICBjbG9zZU1vZGVsRm9ybSgpXG59XG5cbi8qKlxuICogU2hvdyBtb2RlbCBjb25maWd1cmF0aW9uIGZvcm1cbiAqIEBwYXJhbSBpbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgbW9kZWwgdG8gZWRpdFxuICovXG5jb25zdCBzaG93TW9kZWxGb3JtID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgZWRpdGluZ01vZGVsSW5kZXgudmFsdWUgPSBpbmRleFxuICBpc1Nob3dpbmdNb2RlbEZvcm0udmFsdWUgPSB0cnVlXG59XG5cbi8qKlxuICogQ2xvc2UgbW9kZWwgY29uZmlndXJhdGlvbiBmb3JtXG4gKi9cbmNvbnN0IGNsb3NlTW9kZWxGb3JtID0gKCkgPT4ge1xuICBlZGl0aW5nTW9kZWxJbmRleC52YWx1ZSA9IG51bGxcbiAgaXNTaG93aW5nTW9kZWxGb3JtLnZhbHVlID0gZmFsc2Vcbn1cblxuLyoqXG4gKiBHZXQgdGhlIG1vZGVsIGJlaW5nIGVkaXRlZFxuICovXG5jb25zdCBlZGl0aW5nTW9kZWwgPSBjb21wdXRlZCgoKSA9PiB7XG4gIGlmIChlZGl0aW5nTW9kZWxJbmRleC52YWx1ZSAhPT0gbnVsbCAmJiBzZXR0aW5ncy52YWx1ZS5tb2RlbHNbZWRpdGluZ01vZGVsSW5kZXgudmFsdWVdKSB7XG4gICAgcmV0dXJuIHNldHRpbmdzLnZhbHVlLm1vZGVsc1tlZGl0aW5nTW9kZWxJbmRleC52YWx1ZV1cbiAgfVxuICByZXR1cm4gbnVsbFxufSlcblxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImVtYmVkZGVkLWFwcC1yb290IG1heC13LTR4bCBteC1hdXRvIHNwYWNlLXktOFwiPlxuICAgIDwhLS0gTGljZW5zZSBLZXkgU2VjdGlvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiYmctY2FyZCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItYm9yZGVyIHAtNiBzcGFjZS15LTRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwLTIgYmctcHJpbWFyeS8xMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPEtleSBjbGFzcz1cInctNSBoLTUgdGV4dC1wcmltYXJ5XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgc3BhY2UteS0yXCI+XG4gICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPkxpY2Vuc2UgS2V5PC9oMj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICBFbnRlciB5b3VyIGxpY2Vuc2Uga2V5IHRvIGFjdGl2YXRlIHByZW1pdW0gZmVhdHVyZXMgYW5kIHVubG9jayBhbGwgQUkgbW9kZWxzXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS00XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgIDxJbnB1dCA6dHlwZT1cInNob3dMaWNlbnNlS2V5ID8gJ3RleHQnIDogJ3Bhc3N3b3JkJ1wiIHYtbW9kZWw9XCJsaWNlbnNlS2V5XCIgQGlucHV0PVwibGljZW5zZVN0YXR1cyA9ICcnXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiWFhYWC1YWFhYLVhYWFgtWFhYWFwiIDpjbGFzcz1cIltcbiAgICAgICAgICAgICAgJ3ctZnVsbCBwLTMgcHItMjQgYmctYmFja2dyb3VuZCBib3JkZXIgcm91bmRlZC1sZyB0ZXh0LWZvcmVncm91bmQgcGxhY2Vob2xkZXI6dGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LzUwIHRyYW5zaXRpb24tYWxsJyxcbiAgICAgICAgICAgICAgbGljZW5zZVN0YXR1cyA9PT0gJ3ZhbGlkJ1xuICAgICAgICAgICAgICAgID8gJ2JvcmRlci1ncmVlbi01MDAgZm9jdXM6Ym9yZGVyLWdyZWVuLTUwMCdcbiAgICAgICAgICAgICAgICA6IGxpY2Vuc2VTdGF0dXMgPT09ICdpbnZhbGlkJ1xuICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLXJlZC01MDAgZm9jdXM6Ym9yZGVyLXJlZC01MDAnXG4gICAgICAgICAgICAgICAgICA6ICdib3JkZXItYm9yZGVyIGZvY3VzOmJvcmRlci1wcmltYXJ5J1xuICAgICAgICAgICAgXVwiIC8+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFic29sdXRlIHJpZ2h0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiB2LWlmPVwibGljZW5zZVN0YXR1cyA9PT0gJ2NoZWNraW5nJ1wiIGNsYXNzPVwidy00IGgtNCB0ZXh0LXByaW1hcnkgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgIDxDaGVja0NpcmNsZTIgdi1pZj1cImxpY2Vuc2VTdGF0dXMgPT09ICd2YWxpZCdcIiBjbGFzcz1cInctNCBoLTQgdGV4dC1ncmVlbi01MDBcIiAvPlxuICAgICAgICAgICAgPFhDaXJjbGUgdi1pZj1cImxpY2Vuc2VTdGF0dXMgPT09ICdpbnZhbGlkJ1wiIGNsYXNzPVwidy00IGgtNCB0ZXh0LXJlZC01MDBcIiAvPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgQGNsaWNrPVwic2hvd0xpY2Vuc2VLZXkgPSAhc2hvd0xpY2Vuc2VLZXlcIlxuICAgICAgICAgICAgICBjbGFzcz1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgPGNvbXBvbmVudCA6aXM9XCJzaG93TGljZW5zZUtleSA/IEV5ZU9mZiA6IEV5ZVwiIGNsYXNzPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiB2LWlmPVwibGljZW5zZVN0YXR1cyA9PT0gJ3ZhbGlkJ1wiXG4gICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTMgYmctZ3JlZW4tNTAwLzEwIGJvcmRlciBib3JkZXItZ3JlZW4tNTAwLzIwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8Q2hlY2tDaXJjbGUyIGNsYXNzPVwidy00IGgtNCB0ZXh0LWdyZWVuLTYwMFwiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tNjAwXCI+TGljZW5zZSB2YWxpZGF0ZWQgc3VjY2Vzc2Z1bGx5ISBBbGwgZmVhdHVyZXMgYXJlIHVubG9ja2VkLjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiB2LWlmPVwibGljZW5zZVN0YXR1cyA9PT0gJ2ludmFsaWQnXCJcbiAgICAgICAgICBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHAtMyBiZy1yZWQtNTAwLzEwIGJvcmRlciBib3JkZXItcmVkLTUwMC8yMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPFhDaXJjbGUgY2xhc3M9XCJ3LTQgaC00IHRleHQtcmVkLTYwMFwiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPkludmFsaWQgbGljZW5zZSBrZXkuIFBsZWFzZSBjaGVjayBhbmQgdHJ5IGFnYWluLjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTIgcC0zIGJnLXNlY29uZGFyeSByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgPEluZm8gY2xhc3M9XCJ3LTQgaC00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0wLjVcIiAvPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgPHA+RG9uJ3QgaGF2ZSBhIGxpY2Vuc2Uga2V5PyA8YSBocmVmPVwiI1wiIGNsYXNzPVwidGV4dC1wcmltYXJ5IGhvdmVyOnVuZGVybGluZVwiPlB1cmNoYXNlIG9uZSBoZXJlPC9hPjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwibXQtMVwiPk5lZWQgaGVscD8gPGEgaHJlZj1cIiNcIiBjbGFzcz1cInRleHQtcHJpbWFyeSBob3Zlcjp1bmRlcmxpbmVcIj5Db250YWN0IHN1cHBvcnQ8L2E+PC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBTb2NrZXQgQWRkcmVzcyBTZWN0aW9uIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJiZy1jYXJkIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ib3JkZXIgcC02IHNwYWNlLXktNFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInAtMiBiZy1wcmltYXJ5LzEwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8V2lmaSBjbGFzcz1cInctNSBoLTUgdGV4dC1wcmltYXJ5XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgc3BhY2UteS0yXCI+XG4gICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPlNvY2tldCBDb25uZWN0aW9uPC9oMj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICBDb25maWd1cmUgYW5kIG1hbmFnZSB5b3VyIFdlYlNvY2tldCBjb25uZWN0aW9uIGZvciByZWFsLXRpbWUgY29tbXVuaWNhdGlvblxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgICA8IS0tIFNvY2tldCBBZGRyZXNzIElucHV0IC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgIFNvY2tldCBBZGRyZXNzXG4gICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICA8SW5wdXQgdi1tb2RlbD1cInNldHRpbmdzLnNvY2tldEFkZHJlc3NcIiBwbGFjZWhvbGRlcj1cImh0dHBzOi8vdXNlYWktc2VydmVyLmZseS5kZXZcIiBjbGFzcz1cInctZnVsbFwiXG4gICAgICAgICAgICBAY2hhbmdlPVwiaGFuZGxlU29ja2V0QWRkcmVzc0NoYW5nZVwiIC8+XG4gICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlRoZSBXZWJTb2NrZXQgYWRkcmVzcyBmb3IgcmVhbC10aW1lIGNvbW11bmljYXRpb248L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gQ29ubmVjdGlvbiBTdGF0dXMgLS0+XG4gICAgICAgIDxkaXYgOmNsYXNzPVwiW1xuICAgICAgICAgICdmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBwLTQgcm91bmRlZC1sZyBib3JkZXInLFxuICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXNJbmZvLmJnQ29sb3IsXG4gICAgICAgICAgY29ubmVjdGlvblN0YXR1c0luZm8uYm9yZGVyQ29sb3JcbiAgICAgICAgXVwiPlxuICAgICAgICAgIDxjb21wb25lbnQgOmlzPVwiY29ubmVjdGlvblN0YXR1c0luZm8uaWNvblwiIDpjbGFzcz1cIltcbiAgICAgICAgICAgICd3LTUgaC01JyxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25TdGF0dXNJbmZvLmNvbG9yLFxuICAgICAgICAgICAgY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Nvbm5lY3RpbmcnID8gJ2FuaW1hdGUtc3BpbicgOiAnJ1xuICAgICAgICAgIF1cIiAvPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8c3BhbiA6Y2xhc3M9XCJbJ2ZvbnQtbWVkaXVtJywgY29ubmVjdGlvblN0YXR1c0luZm8uY29sb3JdXCI+XG4gICAgICAgICAgICAgICAge3sgY29ubmVjdGlvblN0YXR1c0luZm8ubGFiZWwgfX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTAuNVwiPlxuICAgICAgICAgICAgICB7eyBjb25uZWN0aW9uU3RhdHVzSW5mby5kZXNjcmlwdGlvbiB9fVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIENvbm5lY3Rpb24gQ29udHJvbHMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwiY29ubmVjdFNvY2tldFwiXG4gICAgICAgICAgICA6ZGlzYWJsZWQ9XCJjb25uZWN0aW9uU3RhdHVzID09PSAnY29ubmVjdGluZycgfHwgY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcgfHwgY29ubmVjdGlvblN0YXR1cyA9PT0gJ3JlY29ubmVjdGluZydcIlxuICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1tZWRpdW0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIj5cbiAgICAgICAgICAgIDxQb3dlciBjbGFzcz1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgQ29ubmVjdFxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPEJ1dHRvbiBAY2xpY2s9XCJkaXNjb25uZWN0U29ja2V0XCIgOmRpc2FibGVkPVwiY29ubmVjdGlvblN0YXR1cyA9PT0gJ2Rpc2Nvbm5lY3RlZCdcIlxuICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctcmVkLTYwMCBob3ZlcjpiZy1yZWQtNzAwIHRleHQtd2hpdGUgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBmb250LW1lZGl1bSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiPlxuICAgICAgICAgICAgPFdpZmlPZmYgY2xhc3M9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIERpc2Nvbm5lY3RcbiAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwicmVjb25uZWN0U29ja2V0XCJcbiAgICAgICAgICAgIDpkaXNhYmxlZD1cImNvbm5lY3Rpb25TdGF0dXMgPT09ICdjb25uZWN0aW5nJyB8fCBjb25uZWN0aW9uU3RhdHVzID09PSAncmVjb25uZWN0aW5nJ1wiXG4gICAgICAgICAgICBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMiBiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgZm9udC1tZWRpdW0gZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIj5cbiAgICAgICAgICAgIDxSb3RhdGVDY3cgOmNsYXNzPVwiWyd3LTQgaC00JywgY29ubmVjdGlvblN0YXR1cyA9PT0gJ3JlY29ubmVjdGluZycgPyAnYW5pbWF0ZS1zcGluJyA6ICcnXVwiIC8+XG4gICAgICAgICAgICBSZWNvbm5lY3RcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gQUkgTW9kZWxzIFNlY3Rpb24gLS0+XG4gICAgPGRpdiBjbGFzcz1cImJnLWNhcmQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWJvcmRlciBwLTYgc3BhY2UteS00XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicC0yIGJnLXByaW1hcnkvMTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxCcmFpbiBjbGFzcz1cInctNSBoLTUgdGV4dC1wcmltYXJ5XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgc3BhY2UteS0yXCI+XG4gICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPkxMTSBNb2RlbHM8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc21cIj5cbiAgICAgICAgICAgIENvbmZpZ3VyZSBhbmQgbWFuYWdlIHlvdXIgQUkgbW9kZWxzIGZvciBkaWZmZXJlbnQgcHJvdmlkZXJzXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS02XCI+XG4gICAgICAgIDwhLS0gUHJvdmlkZXIgQnV0dG9ucyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICBBZGQgTmV3IE1vZGVsXG4gICAgICAgICAgPC9MYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTNcIj5cbiAgICAgICAgICAgIDxCdXR0b24gdi1mb3I9XCJwcm92aWRlciBpbiBwcm92aWRlcnNcIiA6a2V5PVwicHJvdmlkZXIubmFtZVwiIEBjbGljaz1cImFkZE5ld01vZGVsKHByb3ZpZGVyLm5hbWUpXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctc2Vjb25kYXJ5IGhvdmVyOmJnLXNlY29uZGFyeS84MCB0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIGhvdmVyOnNoYWRvdy1tZFwiPlxuICAgICAgICAgICAgICA8ZGl2IDpjbGFzcz1cIlsndy0yIGgtMiByb3VuZGVkLWZ1bGwnLCBwcm92aWRlci5jb2xvcl1cIiAvPlxuICAgICAgICAgICAgICA8UGx1cyBjbGFzcz1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvbnQtbWVkaXVtXCI+e3sgcHJvdmlkZXIubmFtZSB9fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIE1vZGVsIENhcmRzIEdyaWQgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgPE1vZGVsQ2FyZCB2LWZvcj1cIihtb2RlbCwgaW5kZXgpIGluIHNldHRpbmdzLm1vZGVsc1wiIDprZXk9XCJtb2RlbC5pbnRlcm5hbElkIHx8IG1vZGVsLm1vZGVsSWRcIiA6bW9kZWw9XCJtb2RlbFwiXG4gICAgICAgICAgICA6aW5kZXg9XCJpbmRleFwiIDppcy1hY3RpdmU9XCJtb2RlbC5tb2RlbElkID09PSBzZXR0aW5ncy5hY3RpdmVNb2RlbElkXCIgQHNldC1hY3RpdmU9XCJzZXRBY3RpdmVNb2RlbFwiXG4gICAgICAgICAgICBAcmVtb3ZlPVwicmVtb3ZlTW9kZWxcIiBAc2F2ZT1cImhhbmRsZU1vZGVsU2F2ZVwiIEBzaG93LWZvcm09XCJzaG93TW9kZWxGb3JtXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gTW9kZWwgQ29uZmlndXJhdGlvbiBGb3JtIC0tPlxuICAgIDxkaXYgdi1pZj1cImlzU2hvd2luZ01vZGVsRm9ybSAmJiBlZGl0aW5nTW9kZWxcIiBjbGFzcz1cImJnLWNhcmQgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWJvcmRlciBwLTYgc3BhY2UteS00XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC0yIGJnLXByaW1hcnkvMTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgPFNldHRpbmdzIGNsYXNzPVwidy01IGgtNSB0ZXh0LXByaW1hcnlcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8aDIgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+Q29uZmlndXJlIE1vZGVsPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgVXBkYXRlIHNldHRpbmdzIGZvciB7eyBlZGl0aW5nTW9kZWwubW9kZWxJZCB8fCAndGhpcyBtb2RlbCcgfX1cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxCdXR0b24gQGNsaWNrPVwiY2xvc2VNb2RlbEZvcm1cIiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIlxuICAgICAgICAgIGNsYXNzPVwicC0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3Zlcjp0ZXh0LWZvcmVncm91bmQgaG92ZXI6Ymctc2Vjb25kYXJ5IHJvdW5kZWQgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICA8WENpcmNsZSBjbGFzcz1cInctNSBoLTVcIiAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS02XCI+XG4gICAgICAgIDwhLS0gTW9kZWwgQ29uZmlndXJhdGlvbiAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+TW9kZWwgQ29uZmlndXJhdGlvbjwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5Nb2RlbCBJRDwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwubW9kZWxJZFwiIGNsYXNzPVwidy1mdWxsXCIgcGxhY2Vob2xkZXI9XCJFbnRlciBtb2RlbCBJRFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5Qcm92aWRlcjwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwidGV4dFwiIDp2YWx1ZT1cImVkaXRpbmdNb2RlbC5wcm92aWRlclwiIGNsYXNzPVwidy1mdWxsXCIgcmVhZG9ubHkgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIE1vZGVsIFBhcmFtZXRlcnMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlBhcmFtZXRlcnM8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0zIGdhcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+VGVtcGVyYXR1cmU8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBtYXg9XCIyXCIgc3RlcD1cIjAuMVwiIHYtbW9kZWwubnVtYmVyPVwiZWRpdGluZ01vZGVsLnRlbXBlcmF0dXJlXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5Ub3AgSzwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD1cIjEwMFwiIHYtbW9kZWwubnVtYmVyPVwiZWRpdGluZ01vZGVsLnRvcEtcIiBjbGFzcz1cInctZnVsbFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5Ub3AgUDwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHYtbW9kZWwubnVtYmVyPVwiZWRpdGluZ01vZGVsLnRvcFBcIiBjbGFzcz1cInctZnVsbFwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBDcmVkZW50aWFscyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgICAgIDxoMyBjbGFzcz1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+Q3JlZGVudGlhbHM8L2gzPlxuXG4gICAgICAgICAgPCEtLSBHb29nbGUvR2VtaW5pIENyZWRlbnRpYWxzIC0tPlxuICAgICAgICAgIDx0ZW1wbGF0ZSB2LWlmPVwiaXNHZW1pbmlNb2RlbChlZGl0aW5nTW9kZWwpXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+QVBJIEtleTwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB2LW1vZGVsPVwiZWRpdGluZ01vZGVsLmFwaUtleVwiIGNsYXNzPVwidy1mdWxsXCIgcGxhY2Vob2xkZXI9XCJHb29nbGUgQVBJIGtleVwiIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RlbXBsYXRlPlxuXG4gICAgICAgICAgPCEtLSBPcGVuQUkgQ3JlZGVudGlhbHMgLS0+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImlzT3BlbkFJTW9kZWwoZWRpdGluZ01vZGVsKVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+QVBJIEtleTwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJwYXNzd29yZFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwuYXBpS2V5XCIgY2xhc3M9XCJ3LWZ1bGxcIiBwbGFjZWhvbGRlcj1cIk9wZW5BSSBBUEkga2V5XCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPk9yZ2FuaXphdGlvbiBJRDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImVkaXRpbmdNb2RlbC5vcmdhbml6YXRpb25cIiBjbGFzcz1cInctZnVsbFwiIHBsYWNlaG9sZGVyPVwiT3B0aW9uYWxcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMiBtZDpjb2wtc3Bhbi0yXCI+XG4gICAgICAgICAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5CYXNlIFVSTDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImVkaXRpbmdNb2RlbC5iYXNlVXJsXCIgY2xhc3M9XCJ3LWZ1bGxcIiBwbGFjZWhvbGRlcj1cIk9wdGlvbmFsXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RlbXBsYXRlPlxuXG4gICAgICAgICAgPCEtLSBBbnRocm9waWMgQ3JlZGVudGlhbHMgLS0+XG4gICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZS1pZj1cImlzQW50aHJvcGljTW9kZWwoZWRpdGluZ01vZGVsKVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPkFQSSBLZXk8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdi1tb2RlbD1cImVkaXRpbmdNb2RlbC5hcGlLZXlcIiBjbGFzcz1cInctZnVsbFwiIHBsYWNlaG9sZGVyPVwiQW50aHJvcGljIEFQSSBrZXlcIiAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC90ZW1wbGF0ZT5cblxuICAgICAgICAgIDwhLS0gQmVkcm9jayBDcmVkZW50aWFscyAtLT5cbiAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlLWlmPVwiaXNCZWRyb2NrTW9kZWwoZWRpdGluZ01vZGVsKVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxMYWJlbCBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1mb3JlZ3JvdW5kXCI+QWNjZXNzIEtleSBJRDwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJwYXNzd29yZFwiIHYtbW9kZWw9XCJlZGl0aW5nTW9kZWwuYWNjZXNzS2V5SWRcIiBjbGFzcz1cInctZnVsbFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFXUyBBY2Nlc3MgS2V5IElEXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlNlY3JldCBBY2Nlc3MgS2V5PC9MYWJlbD5cbiAgICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdi1tb2RlbD1cImVkaXRpbmdNb2RlbC5zZWNyZXRBY2Nlc3NLZXlcIiBjbGFzcz1cInctZnVsbFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkFXUyBTZWNyZXQgQWNjZXNzIEtleVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS0yIG1kOmNvbC1zcGFuLTJcIj5cbiAgICAgICAgICAgICAgICA8TGFiZWwgY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZFwiPlJlZ2lvbjwvTGFiZWw+XG4gICAgICAgICAgICAgICAgPElucHV0IHR5cGU9XCJ0ZXh0XCIgdi1tb2RlbD1cImVkaXRpbmdNb2RlbC5yZWdpb25cIiBjbGFzcz1cInctZnVsbFwiIHBsYWNlaG9sZGVyPVwidXMtZWFzdC0xXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIEFjdGlvbiBCdXR0b25zIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIHB0LTQgYm9yZGVyLXQgYm9yZGVyLWJvcmRlclwiPlxuICAgICAgICAgIDxCdXR0b24gQGNsaWNrPVwicmVtb3ZlTW9kZWwoZWRpdGluZ01vZGVsSW5kZXghKVwiIHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxUcmFzaDIgY2xhc3M9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIERlbGV0ZSBNb2RlbFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICA8QnV0dG9uIEBjbGljaz1cImNsb3NlTW9kZWxGb3JtXCIgdmFyaWFudD1cInNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvbiBAY2xpY2s9XCJoYW5kbGVNb2RlbFNhdmUoZWRpdGluZ01vZGVsSW5kZXghLCBlZGl0aW5nTW9kZWwhKVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCBob3ZlcjpiZy1wcmltYXJ5LzkwXCI+XG4gICAgICAgICAgICAgIFNhdmUgQ2hhbmdlc1xuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIFN5c3RlbSBQcm9tcHQgU2VjdGlvbiAtLT5cbiAgICA8ZGl2IGNsYXNzPVwic3BhY2UteS00XCI+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgPExhYmVsIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj5cbiAgICAgICAgICBTeXN0ZW0gUHJvbXB0XG4gICAgICAgIDwvTGFiZWw+XG4gICAgICAgIDxUZXh0YXJlYSB2LW1vZGVsPVwic2V0dGluZ3Muc3lzdGVtUHJvbXB0XCJcbiAgICAgICAgICBjbGFzcz1cInctZnVsbCBoLTMyIHAtNCBiZy1iYWNrZ3JvdW5kIGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgdGV4dC1mb3JlZ3JvdW5kIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS81MCBmb2N1czpib3JkZXItcHJpbWFyeSByZXNpemUtbm9uZVwiXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB5b3VyIHN5c3RlbSBwcm9tcHQgaGVyZS4uLlwiIC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1lbmRcIj5cbiAgICAgICAgPEJ1dHRvbiBAY2xpY2s9XCJzYXZlU2V0dGluZ3NcIlxuICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgcm91bmRlZC1sZyBob3ZlcjpiZy1wcmltYXJ5LzkwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgU2F2ZSBDaGFuZ2VzXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT4iLCJpbXBvcnQgeyBFdmVudHMsIE1lbnUgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB0eXBlIHsgRXZlbnRSZWYgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB0eXBlIHsgQ2FudmFzLCBDYW52YXNNZW51LCBDYW52YXNOb2RlLCBDb29yZGluYXRlIH0gZnJvbSAnLi90eXBlcy9jYW52YXMnXG5pbXBvcnQgdHlwZSB7IE1vZGVsU2V0dGluZ3MgfSBmcm9tICcuL3R5cGVzL3NldHRpbmdzJ1xuaW1wb3J0IHR5cGUgeyBBZ2VudFN0ZXAgfSBmcm9tICdAdXNlYWkvcnBjL2RlZmluZSdcblxuLyoqXG4gKiBTb2NrZXQgY29ubmVjdGlvbiBzdGF0dXMgdHlwZXNcbiAqL1xuZXhwb3J0IHR5cGUgU29ja2V0Q29ubmVjdGlvblN0YXR1cyA9ICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnZXJyb3InIHwgJ3JlY29ubmVjdGluZydcblxuLyoqXG4gKiBTb2NrZXQgY29ubmVjdGlvbiBpbmZvIGludGVyZmFjZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvY2tldENvbm5lY3Rpb25JbmZvIHtcbiAgICBzdGF0dXM6IFNvY2tldENvbm5lY3Rpb25TdGF0dXNcbiAgICBhZGRyZXNzPzogc3RyaW5nXG4gICAgZXJyb3I/OiBzdHJpbmdcbiAgICB0aW1lc3RhbXA/OiBEYXRlXG59XG5cbmV4cG9ydCBjbGFzcyBQbHVnaW5FdmVudHMgZXh0ZW5kcyBFdmVudHMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpXG4gICAgfVxuXG4gICAgb24oZXZlbnQ6ICdjYW52YXM6bm9kZS1tZW51JywgY2FsbGJhY2s6IChtZW51OiBDYW52YXNNZW51LCBjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4gdm9pZCk6IEV2ZW50UmVmXG4gICAgb24oZXZlbnQ6ICdjYW52YXM6Z2VuZXJhdGUnLCBjYWxsYmFjazogKHRocmVhZElkOiBzdHJpbmcsIHByb21wdDogc3RyaW5nKSA9PiB2b2lkKTogRXZlbnRSZWZcbiAgICBvbihldmVudDogJ2NhbnZhczpzcGxpdC1ub2RlJywgY2FsbGJhY2s6IChjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4gdm9pZCk6IEV2ZW50UmVmXG4gICAgb24oZXZlbnQ6ICdjYW52YXM6cG9wdXAtbm9kZScsIGNhbGxiYWNrOiAoY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpID0+IHZvaWQpOiBFdmVudFJlZlxuICAgIG9uKGV2ZW50OiAnbW9kZWwtdXBkYXRlJywgY2FsbGJhY2s6IChtb2RlbDogTW9kZWxTZXR0aW5ncykgPT4gdm9pZCk6IEV2ZW50UmVmXG4gICAgb24oZXZlbnQ6ICdjYW52YXM6Y3JlYXRpb24tbWVudScsIGNhbGxiYWNrOiAobWVudTogTWVudSwgY2FudmFzOiBDYW52YXMsIGNvb3JkOiBDb29yZGluYXRlKSA9PiB2b2lkKTogRXZlbnRSZWZcbiAgICBvbihldmVudDogJ2xvZycsIGNhbGxiYWNrOiAobGV2ZWw6ICdpbmZvJyB8ICdlcnJvcicgfCAnd2FybicgfCAnc3VjY2VzcycsIG1lc3NhZ2U6IHN0cmluZywgbWV0YWRhdGE/OiBhbnkpID0+IHZvaWQpOiBFdmVudFJlZlxuICAgIG9uKGV2ZW50OiAnc29ja2V0OnN0YXR1cy1jaGFuZ2VkJywgY2FsbGJhY2s6IChpbmZvOiBTb2NrZXRDb25uZWN0aW9uSW5mbykgPT4gdm9pZCk6IEV2ZW50UmVmXG4gICAgb24oZXZlbnQ6ICdzb2NrZXQ6Y29ubmVjdGVkJywgY2FsbGJhY2s6IChhZGRyZXNzOiBzdHJpbmcpID0+IHZvaWQpOiBFdmVudFJlZlxuICAgIG9uKGV2ZW50OiAnc29ja2V0OmRpc2Nvbm5lY3RlZCcsIGNhbGxiYWNrOiAocmVhc29uPzogc3RyaW5nKSA9PiB2b2lkKTogRXZlbnRSZWZcbiAgICBvbihldmVudDogJ3NvY2tldDpjb25uZWN0aW5nJywgY2FsbGJhY2s6IChhZGRyZXNzOiBzdHJpbmcpID0+IHZvaWQpOiBFdmVudFJlZlxuICAgIG9uKGV2ZW50OiAnc29ja2V0OmVycm9yJywgY2FsbGJhY2s6IChlcnJvcjogc3RyaW5nKSA9PiB2b2lkKTogRXZlbnRSZWZcbiAgICBvbihldmVudDogJ3NvY2tldDpyZWNvbm5lY3RpbmcnLCBjYWxsYmFjazogKGF0dGVtcHQ6IG51bWJlcikgPT4gdm9pZCk6IEV2ZW50UmVmXG4gICAgb24oZXZlbnQ6ICdzb2NrZXQ6Y29ubmVjdC1yZXF1ZXN0JywgY2FsbGJhY2s6IChhZGRyZXNzOiBzdHJpbmcpID0+IHZvaWQpOiBFdmVudFJlZlxuICAgIG9uKGV2ZW50OiAnc29ja2V0OmRpc2Nvbm5lY3QtcmVxdWVzdCcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogRXZlbnRSZWZcbiAgICBvbihldmVudDogJ3NvY2tldDpyZWNvbm5lY3QtcmVxdWVzdCcsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogRXZlbnRSZWZcbiAgICAvL2NvbnZlcnNhdGlvbjpuZXctdGhyZWFkXG4gICAgb24oZXZlbnQ6ICdjb252ZXJzYXRpb246bmV3LXRocmVhZCcsIGNhbGxiYWNrOiAodGhyZWFkSWQ6IHN0cmluZykgPT4gdm9pZCk6IEV2ZW50UmVmXG4gICAgb24oZXZlbnQ6ICdjb252ZXJzYXRpb246YWRkLWFnZW50LW1lc3NhZ2UnLCBjYWxsYmFjazogKHRocmVhZElkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykgPT4gdm9pZCk6IEV2ZW50UmVmXG4gICAgb24oZXZlbnQ6ICdhZGQtc3RlcCcsIGNhbGxiYWNrOiAodGhyZWFkSWQ6IHN0cmluZywgc3RlcDogQWdlbnRTdGVwKSA9PiB2b2lkKTogRXZlbnRSZWZcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb24oZXZlbnQ6IGFueSwgY2FsbGJhY2s6IGFueSk6IEV2ZW50UmVmIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9uKGV2ZW50LCBjYWxsYmFjaylcbiAgICB9XG5cbiAgICB0cmlnZ2VyKG5hbWU6ICdjYW52YXM6bm9kZS1tZW51JywgbWVudTogQ2FudmFzTWVudSwgY2FudmFzOiBDYW52YXMsIG5vZGU6IENhbnZhc05vZGUpOiB2b2lkXG4gICAgdHJpZ2dlcihuYW1lOiAnY2FudmFzOmdlbmVyYXRlJywgdGhyZWFkSWQ6IHN0cmluZywgcHJvbXB0OiBzdHJpbmcpOiB2b2lkXG4gICAgdHJpZ2dlcihuYW1lOiAnY2FudmFzOnNwbGl0LW5vZGUnLCBjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSk6IHZvaWRcbiAgICB0cmlnZ2VyKG5hbWU6ICdjYW52YXM6cG9wdXAtbm9kZScsIGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKTogdm9pZFxuICAgIHRyaWdnZXIobmFtZTogJ21vZGVsLXVwZGF0ZScsIG1vZGVsOiBNb2RlbFNldHRpbmdzKTogdm9pZFxuICAgIHRyaWdnZXIobmFtZTogJ2NhbnZhczpjcmVhdGlvbi1tZW51JywgbWVudTogTWVudSwgY2FudmFzOiBDYW52YXMsIGNvb3JkOiBDb29yZGluYXRlKTogdm9pZFxuICAgIHRyaWdnZXIobmFtZTogJ2xvZycsIGxldmVsOiAnaW5mbycgfCAnZXJyb3InIHwgJ3dhcm4nIHwgJ3N1Y2Nlc3MnLCBtZXNzYWdlOiBzdHJpbmcsIG1ldGFkYXRhPzogYW55KTogdm9pZFxuICAgIHRyaWdnZXIobmFtZTogJ3NvY2tldDpzdGF0dXMtY2hhbmdlZCcsIGluZm86IFNvY2tldENvbm5lY3Rpb25JbmZvKTogdm9pZFxuICAgIHRyaWdnZXIobmFtZTogJ3NvY2tldDpjb25uZWN0ZWQnLCBhZGRyZXNzOiBzdHJpbmcpOiB2b2lkXG4gICAgdHJpZ2dlcihuYW1lOiAnc29ja2V0OmRpc2Nvbm5lY3RlZCcsIHJlYXNvbj86IHN0cmluZyk6IHZvaWRcbiAgICB0cmlnZ2VyKG5hbWU6ICdzb2NrZXQ6Y29ubmVjdGluZycsIGFkZHJlc3M6IHN0cmluZyk6IHZvaWRcbiAgICB0cmlnZ2VyKG5hbWU6ICdzb2NrZXQ6ZXJyb3InLCBlcnJvcjogc3RyaW5nKTogdm9pZFxuICAgIHRyaWdnZXIobmFtZTogJ3NvY2tldDpyZWNvbm5lY3RpbmcnLCBhdHRlbXB0OiBudW1iZXIpOiB2b2lkXG4gICAgdHJpZ2dlcihuYW1lOiAnc29ja2V0OmNvbm5lY3QtcmVxdWVzdCcsIGFkZHJlc3M6IHN0cmluZyk6IHZvaWRcbiAgICB0cmlnZ2VyKG5hbWU6ICdzb2NrZXQ6ZGlzY29ubmVjdC1yZXF1ZXN0Jyk6IHZvaWRcbiAgICB0cmlnZ2VyKG5hbWU6ICdzb2NrZXQ6cmVjb25uZWN0LXJlcXVlc3QnKTogdm9pZFxuICAgIHRyaWdnZXIobmFtZTogJ2NvbnZlcnNhdGlvbjpuZXctdGhyZWFkJywgdGhyZWFkSWQ6IHN0cmluZyk6IHZvaWRcbiAgICB0cmlnZ2VyKG5hbWU6ICdjb252ZXJzYXRpb246YWRkLWFnZW50LW1lc3NhZ2UnLCB0aHJlYWRJZDogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcpOiB2b2lkXG4gICAgdHJpZ2dlcihuYW1lOiAnYWRkLXN0ZXAnLCB0aHJlYWRJZDogc3RyaW5nLCBzdGVwOiBBZ2VudFN0ZXApOiB2b2lkXG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHRyaWdnZXIobmFtZTogYW55LCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICByZXR1cm4gc3VwZXIudHJpZ2dlcihuYW1lLCAuLi5hcmdzKVxuICAgIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgTW9kZWxTZXR0aW5ncywgT2JzaWRpYW5BaVNldHRpbmdzIH0gZnJvbSAnQC90eXBlcy9zZXR0aW5ncydcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU1lTVEVNX1BST01QVCA9IGBgXG5cbi8vIERlZmF1bHQgbW9kZWxzIGZvciB0aGUgcGx1Z2luXG5leHBvcnQgY29uc3QgREVGQVVMVF9NT0RFTFM6IE1vZGVsU2V0dGluZ3NbXSA9IFtcbiAgICB7XG4gICAgICAgIGludGVybmFsSWQ6ICdkZWZhdWx0X2dvb2dsZV9nZW1pbmknLFxuICAgICAgICBwcm92aWRlcjogJ2dvb2dsZScsXG4gICAgICAgIG1vZGVsSWQ6ICdnZW1pbmktMi4wLWZsYXNoLWV4cCcsXG4gICAgICAgIG1vZGVsTmFtZTogJ0dlbWluaSAyLjAgRmxhc2gnLFxuICAgICAgICBhcGlLZXk6ICcnLFxuICAgICAgICBjb2xvcjogJyM0Mjg1RjQnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGludGVybmFsSWQ6ICdkZWZhdWx0X29wZW5haV9ncHQ0bycsXG4gICAgICAgIHByb3ZpZGVyOiAnb3BlbmFpJyxcbiAgICAgICAgbW9kZWxJZDogJ2dwdC00bycsXG4gICAgICAgIG1vZGVsTmFtZTogJ0dQVC00bycsXG4gICAgICAgIGFwaUtleTogJycsXG4gICAgICAgIGNvbG9yOiAnIzEwQTM3RidcbiAgICB9LFxuICAgIHtcbiAgICAgICAgaW50ZXJuYWxJZDogJ2RlZmF1bHRfYW50aHJvcGljX2NsYXVkZScsXG4gICAgICAgIHByb3ZpZGVyOiAnYW50aHJvcGljJyxcbiAgICAgICAgbW9kZWxJZDogJ2NsYXVkZS0zLTUtc29ubmV0LTIwMjQxMDIyJyxcbiAgICAgICAgbW9kZWxOYW1lOiAnQ2xhdWRlIDMuNSBTb25uZXQnLFxuICAgICAgICBhcGlLZXk6ICcnLFxuICAgICAgICBjb2xvcjogJyNENEE1NzQnXG4gICAgfVxuXVxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogT2JzaWRpYW5BaVNldHRpbmdzID0ge1xuICAgIGRlYnVnOiBmYWxzZSxcbiAgICBzeXN0ZW1Qcm9tcHQ6IERFRkFVTFRfU1lTVEVNX1BST01QVCxcbiAgICBzb2NrZXRBZGRyZXNzOiAnaHR0cHM6Ly91c2VhaS1zZXJ2ZXIuZmx5LmRldicsXG4gICAgbW9kZWxzOiBERUZBVUxUX01PREVMUyxcbiAgICBhY3RpdmVNb2RlbElkOiBERUZBVUxUX01PREVMUy5sZW5ndGggPiAwID8gREVGQVVMVF9NT0RFTFNbMF0ubW9kZWxJZCA6ICcnLFxuICAgIGxpY2Vuc2VLZXk6ICcnXG59XG4iLCJjb25zdCBQQUNLRVRfVFlQRVMgPSBPYmplY3QuY3JlYXRlKG51bGwpOyAvLyBubyBNYXAgPSBubyBwb2x5ZmlsbFxuUEFDS0VUX1RZUEVTW1wib3BlblwiXSA9IFwiMFwiO1xuUEFDS0VUX1RZUEVTW1wiY2xvc2VcIl0gPSBcIjFcIjtcblBBQ0tFVF9UWVBFU1tcInBpbmdcIl0gPSBcIjJcIjtcblBBQ0tFVF9UWVBFU1tcInBvbmdcIl0gPSBcIjNcIjtcblBBQ0tFVF9UWVBFU1tcIm1lc3NhZ2VcIl0gPSBcIjRcIjtcblBBQ0tFVF9UWVBFU1tcInVwZ3JhZGVcIl0gPSBcIjVcIjtcblBBQ0tFVF9UWVBFU1tcIm5vb3BcIl0gPSBcIjZcIjtcbmNvbnN0IFBBQ0tFVF9UWVBFU19SRVZFUlNFID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbk9iamVjdC5rZXlzKFBBQ0tFVF9UWVBFUykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgUEFDS0VUX1RZUEVTX1JFVkVSU0VbUEFDS0VUX1RZUEVTW2tleV1dID0ga2V5O1xufSk7XG5jb25zdCBFUlJPUl9QQUNLRVQgPSB7IHR5cGU6IFwiZXJyb3JcIiwgZGF0YTogXCJwYXJzZXIgZXJyb3JcIiB9O1xuZXhwb3J0IHsgUEFDS0VUX1RZUEVTLCBQQUNLRVRfVFlQRVNfUkVWRVJTRSwgRVJST1JfUEFDS0VUIH07XG4iLCJpbXBvcnQgeyBQQUNLRVRfVFlQRVMgfSBmcm9tIFwiLi9jb21tb25zLmpzXCI7XG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKEJsb2IpID09PSBcIltvYmplY3QgQmxvYkNvbnN0cnVjdG9yXVwiKTtcbmNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuLy8gQXJyYXlCdWZmZXIuaXNWaWV3IG1ldGhvZCBpcyBub3QgZGVmaW5lZCBpbiBJRTEwXG5jb25zdCBpc1ZpZXcgPSAob2JqKSA9PiB7XG4gICAgcmV0dXJuIHR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IEFycmF5QnVmZmVyLmlzVmlldyhvYmopXG4gICAgICAgIDogb2JqICYmIG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn07XG5jb25zdCBlbmNvZGVQYWNrZXQgPSAoeyB0eXBlLCBkYXRhIH0sIHN1cHBvcnRzQmluYXJ5LCBjYWxsYmFjaykgPT4ge1xuICAgIGlmICh3aXRoTmF0aXZlQmxvYiAmJiBkYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICBpZiAoc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVCbG9iQXNCYXNlNjQoZGF0YSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHdpdGhOYXRpdmVBcnJheUJ1ZmZlciAmJlxuICAgICAgICAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhkYXRhKSkpIHtcbiAgICAgICAgaWYgKHN1cHBvcnRzQmluYXJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlQmxvYkFzQmFzZTY0KG5ldyBCbG9iKFtkYXRhXSksIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBwbGFpbiBzdHJpbmdcbiAgICByZXR1cm4gY2FsbGJhY2soUEFDS0VUX1RZUEVTW3R5cGVdICsgKGRhdGEgfHwgXCJcIikpO1xufTtcbmNvbnN0IGVuY29kZUJsb2JBc0Jhc2U2NCA9IChkYXRhLCBjYWxsYmFjaykgPT4ge1xuICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gZmlsZVJlYWRlci5yZXN1bHQuc3BsaXQoXCIsXCIpWzFdO1xuICAgICAgICBjYWxsYmFjayhcImJcIiArIChjb250ZW50IHx8IFwiXCIpKTtcbiAgICB9O1xuICAgIHJldHVybiBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZGF0YSk7XG59O1xuZnVuY3Rpb24gdG9BcnJheShkYXRhKSB7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGRhdGEuYnVmZmVyLCBkYXRhLmJ5dGVPZmZzZXQsIGRhdGEuYnl0ZUxlbmd0aCk7XG4gICAgfVxufVxubGV0IFRFWFRfRU5DT0RFUjtcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVQYWNrZXRUb0JpbmFyeShwYWNrZXQsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHdpdGhOYXRpdmVCbG9iICYmIHBhY2tldC5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICByZXR1cm4gcGFja2V0LmRhdGEuYXJyYXlCdWZmZXIoKS50aGVuKHRvQXJyYXkpLnRoZW4oY2FsbGJhY2spO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiZcbiAgICAgICAgKHBhY2tldC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgaXNWaWV3KHBhY2tldC5kYXRhKSkpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRvQXJyYXkocGFja2V0LmRhdGEpKTtcbiAgICB9XG4gICAgZW5jb2RlUGFja2V0KHBhY2tldCwgZmFsc2UsIChlbmNvZGVkKSA9PiB7XG4gICAgICAgIGlmICghVEVYVF9FTkNPREVSKSB7XG4gICAgICAgICAgICBURVhUX0VOQ09ERVIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhURVhUX0VOQ09ERVIuZW5jb2RlKGVuY29kZWQpKTtcbiAgICB9KTtcbn1cbmV4cG9ydCB7IGVuY29kZVBhY2tldCB9O1xuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vYmFzZTY0LWFycmF5YnVmZmVyXG5jb25zdCBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcbi8vIFVzZSBhIGxvb2t1cCB0YWJsZSB0byBmaW5kIHRoZSBpbmRleC5cbmNvbnN0IGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAndW5kZWZpbmVkJyA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbmZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpO1xufVxuZXhwb3J0IGNvbnN0IGVuY29kZSA9IChhcnJheWJ1ZmZlcikgPT4ge1xuICAgIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaSwgbGVuID0gYnl0ZXMubGVuZ3RoLCBiYXNlNjQgPSAnJztcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDMpIHtcbiAgICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2ldID4+IDJdO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbKChieXRlc1tpXSAmIDMpIDw8IDQpIHwgKGJ5dGVzW2kgKyAxXSA+PiA0KV07XG4gICAgICAgIGJhc2U2NCArPSBjaGFyc1soKGJ5dGVzW2kgKyAxXSAmIDE1KSA8PCAyKSB8IChieXRlc1tpICsgMl0gPj4gNildO1xuICAgICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cbiAgICBpZiAobGVuICUgMyA9PT0gMikge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAxKSArICc9JztcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuICUgMyA9PT0gMSkge1xuICAgICAgICBiYXNlNjQgPSBiYXNlNjQuc3Vic3RyaW5nKDAsIGJhc2U2NC5sZW5ndGggLSAyKSArICc9PSc7XG4gICAgfVxuICAgIHJldHVybiBiYXNlNjQ7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IChiYXNlNjQpID0+IHtcbiAgICBsZXQgYnVmZmVyTGVuZ3RoID0gYmFzZTY0Lmxlbmd0aCAqIDAuNzUsIGxlbiA9IGJhc2U2NC5sZW5ndGgsIGksIHAgPSAwLCBlbmNvZGVkMSwgZW5jb2RlZDIsIGVuY29kZWQzLCBlbmNvZGVkNDtcbiAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICBpZiAoYmFzZTY0W2Jhc2U2NC5sZW5ndGggLSAyXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICBidWZmZXJMZW5ndGgtLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhcnJheWJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpLCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBsb29rdXBbYmFzZTY0LmNoYXJDb2RlQXQoaSldO1xuICAgICAgICBlbmNvZGVkMiA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMSldO1xuICAgICAgICBlbmNvZGVkMyA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMildO1xuICAgICAgICBlbmNvZGVkNCA9IGxvb2t1cFtiYXNlNjQuY2hhckNvZGVBdChpICsgMyldO1xuICAgICAgICBieXRlc1twKytdID0gKGVuY29kZWQxIDw8IDIpIHwgKGVuY29kZWQyID4+IDQpO1xuICAgICAgICBieXRlc1twKytdID0gKChlbmNvZGVkMiAmIDE1KSA8PCA0KSB8IChlbmNvZGVkMyA+PiAyKTtcbiAgICAgICAgYnl0ZXNbcCsrXSA9ICgoZW5jb2RlZDMgJiAzKSA8PCA2KSB8IChlbmNvZGVkNCAmIDYzKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5YnVmZmVyO1xufTtcbiIsImltcG9ydCB7IEVSUk9SX1BBQ0tFVCwgUEFDS0VUX1RZUEVTX1JFVkVSU0UsIH0gZnJvbSBcIi4vY29tbW9ucy5qc1wiO1xuaW1wb3J0IHsgZGVjb2RlIH0gZnJvbSBcIi4vY29udHJpYi9iYXNlNjQtYXJyYXlidWZmZXIuanNcIjtcbmNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuZXhwb3J0IGNvbnN0IGRlY29kZVBhY2tldCA9IChlbmNvZGVkUGFja2V0LCBiaW5hcnlUeXBlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBlbmNvZGVkUGFja2V0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgIGRhdGE6IG1hcEJpbmFyeShlbmNvZGVkUGFja2V0LCBiaW5hcnlUeXBlKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IGVuY29kZWRQYWNrZXQuY2hhckF0KDApO1xuICAgIGlmICh0eXBlID09PSBcImJcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJtZXNzYWdlXCIsXG4gICAgICAgICAgICBkYXRhOiBkZWNvZGVCYXNlNjRQYWNrZXQoZW5jb2RlZFBhY2tldC5zdWJzdHJpbmcoMSksIGJpbmFyeVR5cGUpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBwYWNrZXRUeXBlID0gUEFDS0VUX1RZUEVTX1JFVkVSU0VbdHlwZV07XG4gICAgaWYgKCFwYWNrZXRUeXBlKSB7XG4gICAgICAgIHJldHVybiBFUlJPUl9QQUNLRVQ7XG4gICAgfVxuICAgIHJldHVybiBlbmNvZGVkUGFja2V0Lmxlbmd0aCA+IDFcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB0eXBlOiBQQUNLRVRfVFlQRVNfUkVWRVJTRVt0eXBlXSxcbiAgICAgICAgICAgIGRhdGE6IGVuY29kZWRQYWNrZXQuc3Vic3RyaW5nKDEpLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgdHlwZTogUEFDS0VUX1RZUEVTX1JFVkVSU0VbdHlwZV0sXG4gICAgICAgIH07XG59O1xuY29uc3QgZGVjb2RlQmFzZTY0UGFja2V0ID0gKGRhdGEsIGJpbmFyeVR5cGUpID0+IHtcbiAgICBpZiAod2l0aE5hdGl2ZUFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUoZGF0YSk7XG4gICAgICAgIHJldHVybiBtYXBCaW5hcnkoZGVjb2RlZCwgYmluYXJ5VHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBiYXNlNjQ6IHRydWUsIGRhdGEgfTsgLy8gZmFsbGJhY2sgZm9yIG9sZCBicm93c2Vyc1xuICAgIH1cbn07XG5jb25zdCBtYXBCaW5hcnkgPSAoZGF0YSwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIHN3aXRjaCAoYmluYXJ5VHlwZSkge1xuICAgICAgICBjYXNlIFwiYmxvYlwiOlxuICAgICAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgLy8gZnJvbSBXZWJTb2NrZXQgKyBiaW5hcnlUeXBlIFwiYmxvYlwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIG9yIFdlYlRyYW5zcG9ydFxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQmxvYihbZGF0YV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiYXJyYXlidWZmZXJcIjpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIEhUVFAgbG9uZy1wb2xsaW5nIChiYXNlNjQpIG9yIFdlYlNvY2tldCArIGJpbmFyeVR5cGUgXCJhcnJheWJ1ZmZlclwiXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmcm9tIFdlYlRyYW5zcG9ydCAoVWludDhBcnJheSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGVuY29kZVBhY2tldCwgZW5jb2RlUGFja2V0VG9CaW5hcnkgfSBmcm9tIFwiLi9lbmNvZGVQYWNrZXQuanNcIjtcbmltcG9ydCB7IGRlY29kZVBhY2tldCB9IGZyb20gXCIuL2RlY29kZVBhY2tldC5qc1wiO1xuaW1wb3J0IHsgRVJST1JfUEFDS0VULCB9IGZyb20gXCIuL2NvbW1vbnMuanNcIjtcbmNvbnN0IFNFUEFSQVRPUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMzApOyAvLyBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVsaW1pdGVyI0FTQ0lJX2RlbGltaXRlZF90ZXh0XG5jb25zdCBlbmNvZGVQYXlsb2FkID0gKHBhY2tldHMsIGNhbGxiYWNrKSA9PiB7XG4gICAgLy8gc29tZSBwYWNrZXRzIG1heSBiZSBhZGRlZCB0byB0aGUgYXJyYXkgd2hpbGUgZW5jb2RpbmcsIHNvIHRoZSBpbml0aWFsIGxlbmd0aCBtdXN0IGJlIHNhdmVkXG4gICAgY29uc3QgbGVuZ3RoID0gcGFja2V0cy5sZW5ndGg7XG4gICAgY29uc3QgZW5jb2RlZFBhY2tldHMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIHBhY2tldHMuZm9yRWFjaCgocGFja2V0LCBpKSA9PiB7XG4gICAgICAgIC8vIGZvcmNlIGJhc2U2NCBlbmNvZGluZyBmb3IgYmluYXJ5IHBhY2tldHNcbiAgICAgICAgZW5jb2RlUGFja2V0KHBhY2tldCwgZmFsc2UsIChlbmNvZGVkUGFja2V0KSA9PiB7XG4gICAgICAgICAgICBlbmNvZGVkUGFja2V0c1tpXSA9IGVuY29kZWRQYWNrZXQ7XG4gICAgICAgICAgICBpZiAoKytjb3VudCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZW5jb2RlZFBhY2tldHMuam9pbihTRVBBUkFUT1IpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuY29uc3QgZGVjb2RlUGF5bG9hZCA9IChlbmNvZGVkUGF5bG9hZCwgYmluYXJ5VHlwZSkgPT4ge1xuICAgIGNvbnN0IGVuY29kZWRQYWNrZXRzID0gZW5jb2RlZFBheWxvYWQuc3BsaXQoU0VQQVJBVE9SKTtcbiAgICBjb25zdCBwYWNrZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkZWNvZGVkUGFja2V0ID0gZGVjb2RlUGFja2V0KGVuY29kZWRQYWNrZXRzW2ldLCBiaW5hcnlUeXBlKTtcbiAgICAgICAgcGFja2V0cy5wdXNoKGRlY29kZWRQYWNrZXQpO1xuICAgICAgICBpZiAoZGVjb2RlZFBhY2tldC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYWNrZXRzO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYWNrZXRFbmNvZGVyU3RyZWFtKCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKHBhY2tldCwgY29udHJvbGxlcikge1xuICAgICAgICAgICAgZW5jb2RlUGFja2V0VG9CaW5hcnkocGFja2V0LCAoZW5jb2RlZFBhY2tldCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWRMZW5ndGggPSBlbmNvZGVkUGFja2V0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICAgICAgICAgIC8vIGluc3BpcmVkIGJ5IHRoZSBXZWJTb2NrZXQgZm9ybWF0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0c19BUEkvV3JpdGluZ19XZWJTb2NrZXRfc2VydmVycyNkZWNvZGluZ19wYXlsb2FkX2xlbmd0aFxuICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkTGVuZ3RoIDwgMTI2KSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBVaW50OEFycmF5KDEpO1xuICAgICAgICAgICAgICAgICAgICBuZXcgRGF0YVZpZXcoaGVhZGVyLmJ1ZmZlcikuc2V0VWludDgoMCwgcGF5bG9hZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBheWxvYWRMZW5ndGggPCA2NTUzNikge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSBuZXcgVWludDhBcnJheSgzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXIuYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50OCgwLCAxMjYpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQxNigxLCBwYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBVaW50OEFycmF5KDkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGhlYWRlci5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3LnNldFVpbnQ4KDAsIDEyNyk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuc2V0QmlnVWludDY0KDEsIEJpZ0ludChwYXlsb2FkTGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGZpcnN0IGJpdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBwbGFpbiB0ZXh0ICgwKSBvciBiaW5hcnkgKDEpXG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC5kYXRhICYmIHR5cGVvZiBwYWNrZXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJbMF0gfD0gMHg4MDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGhlYWRlcik7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGVuY29kZWRQYWNrZXQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5sZXQgVEVYVF9ERUNPREVSO1xuZnVuY3Rpb24gdG90YWxMZW5ndGgoY2h1bmtzKSB7XG4gICAgcmV0dXJuIGNodW5rcy5yZWR1Y2UoKGFjYywgY2h1bmspID0+IGFjYyArIGNodW5rLmxlbmd0aCwgMCk7XG59XG5mdW5jdGlvbiBjb25jYXRDaHVua3MoY2h1bmtzLCBzaXplKSB7XG4gICAgaWYgKGNodW5rc1swXS5sZW5ndGggPT09IHNpemUpIHtcbiAgICAgICAgcmV0dXJuIGNodW5rcy5zaGlmdCgpO1xuICAgIH1cbiAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICBsZXQgaiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgYnVmZmVyW2ldID0gY2h1bmtzWzBdW2orK107XG4gICAgICAgIGlmIChqID09PSBjaHVua3NbMF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjaHVua3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGogPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjaHVua3MubGVuZ3RoICYmIGogPCBjaHVua3NbMF0ubGVuZ3RoKSB7XG4gICAgICAgIGNodW5rc1swXSA9IGNodW5rc1swXS5zbGljZShqKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQYWNrZXREZWNvZGVyU3RyZWFtKG1heFBheWxvYWQsIGJpbmFyeVR5cGUpIHtcbiAgICBpZiAoIVRFWFRfREVDT0RFUikge1xuICAgICAgICBURVhUX0RFQ09ERVIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICB9XG4gICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgbGV0IHN0YXRlID0gMCAvKiBTdGF0ZS5SRUFEX0hFQURFUiAqLztcbiAgICBsZXQgZXhwZWN0ZWRMZW5ndGggPSAtMTtcbiAgICBsZXQgaXNCaW5hcnkgPSBmYWxzZTtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDAgLyogU3RhdGUuUkVBRF9IRUFERVIgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsTGVuZ3RoKGNodW5rcykgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBjb25jYXRDaHVua3MoY2h1bmtzLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaXNCaW5hcnkgPSAoaGVhZGVyWzBdICYgMHg4MCkgPT09IDB4ODA7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gaGVhZGVyWzBdICYgMHg3ZjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkTGVuZ3RoIDwgMTI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDMgLyogU3RhdGUuUkVBRF9QQVlMT0FEICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGV4cGVjdGVkTGVuZ3RoID09PSAxMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMSAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF8xNiAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMiAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF82NCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMSAvKiBTdGF0ZS5SRUFEX0VYVEVOREVEX0xFTkdUSF8xNiAqLykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxMZW5ndGgoY2h1bmtzKSA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckFycmF5ID0gY29uY2F0Q2h1bmtzKGNodW5rcywgMik7XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gbmV3IERhdGFWaWV3KGhlYWRlckFycmF5LmJ1ZmZlciwgaGVhZGVyQXJyYXkuYnl0ZU9mZnNldCwgaGVhZGVyQXJyYXkubGVuZ3RoKS5nZXRVaW50MTYoMCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMyAvKiBTdGF0ZS5SRUFEX1BBWUxPQUQgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSAyIC8qIFN0YXRlLlJFQURfRVhURU5ERURfTEVOR1RIXzY0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbExlbmd0aChjaHVua3MpIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyQXJyYXkgPSBjb25jYXRDaHVua3MoY2h1bmtzLCA4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhoZWFkZXJBcnJheS5idWZmZXIsIGhlYWRlckFycmF5LmJ5dGVPZmZzZXQsIGhlYWRlckFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB2aWV3LmdldFVpbnQzMigwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG4gPiBNYXRoLnBvdygyLCA1MyAtIDMyKSAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBtYXhpbXVtIHNhZmUgaW50ZWdlciBpbiBKYXZhU2NyaXB0IGlzIDJeNTMgLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoRVJST1JfUEFDS0VUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkTGVuZ3RoID0gbiAqIE1hdGgucG93KDIsIDMyKSArIHZpZXcuZ2V0VWludDMyKDQpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDMgLyogU3RhdGUuUkVBRF9QQVlMT0FEICovO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsTGVuZ3RoKGNodW5rcykgPCBleHBlY3RlZExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGNvbmNhdENodW5rcyhjaHVua3MsIGV4cGVjdGVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGRlY29kZVBhY2tldChpc0JpbmFyeSA/IGRhdGEgOiBURVhUX0RFQ09ERVIuZGVjb2RlKGRhdGEpLCBiaW5hcnlUeXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMCAvKiBTdGF0ZS5SRUFEX0hFQURFUiAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkTGVuZ3RoID09PSAwIHx8IGV4cGVjdGVkTGVuZ3RoID4gbWF4UGF5bG9hZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoRVJST1JfUEFDS0VUKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gNDtcbmV4cG9ydCB7IGVuY29kZVBhY2tldCwgZW5jb2RlUGF5bG9hZCwgZGVjb2RlUGFja2V0LCBkZWNvZGVQYXlsb2FkLCB9O1xuIiwiLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBFbWl0dGVyYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBFbWl0dGVyKG9iaikge1xuICBpZiAob2JqKSByZXR1cm4gbWl4aW4ob2JqKTtcbn1cblxuLyoqXG4gKiBNaXhpbiB0aGUgZW1pdHRlciBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1peGluKG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gRW1pdHRlci5wcm90b3R5cGUpIHtcbiAgICBvYmpba2V5XSA9IEVtaXR0ZXIucHJvdG90eXBlW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBMaXN0ZW4gb24gdGhlIGdpdmVuIGBldmVudGAgd2l0aCBgZm5gLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9uID1cbkVtaXR0ZXIucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gICh0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XSB8fCBbXSlcbiAgICAucHVzaChmbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGRzIGFuIGBldmVudGAgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGludm9rZWQgYSBzaW5nbGVcbiAqIHRpbWUgdGhlbiBhdXRvbWF0aWNhbGx5IHJlbW92ZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIGZ1bmN0aW9uIG9uKCkge1xuICAgIHRoaXMub2ZmKGV2ZW50LCBvbik7XG4gICAgZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIG9uLmZuID0gZm47XG4gIHRoaXMub24oZXZlbnQsIG9uKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgZm9yIGBldmVudGAgb3IgYWxsXG4gKiByZWdpc3RlcmVkIGNhbGxiYWNrcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vZmYgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgLy8gYWxsXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHNwZWNpZmljIGV2ZW50XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XG5cbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxuICB2YXIgY2I7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2IgPSBjYWxsYmFja3NbaV07XG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvLyBSZW1vdmUgZXZlbnQgc3BlY2lmaWMgYXJyYXlzIGZvciBldmVudCB0eXBlcyB0aGF0IG5vXG4gIC8vIG9uZSBpcyBzdWJzY3JpYmVkIGZvciB0byBhdm9pZCBtZW1vcnkgbGVhay5cbiAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBFbWl0IGBldmVudGAgd2l0aCB0aGUgZ2l2ZW4gYXJncy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7TWl4ZWR9IC4uLlxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24oZXZlbnQpe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpXG4gICAgLCBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdO1xuXG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gIH1cblxuICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGFsaWFzIHVzZWQgZm9yIHJlc2VydmVkIGV2ZW50cyAocHJvdGVjdGVkIG1ldGhvZClcbkVtaXR0ZXIucHJvdG90eXBlLmVtaXRSZXNlcnZlZCA9IEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ7XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XG59O1xuIiwiZXhwb3J0IGNvbnN0IG5leHRUaWNrID0gKCgpID0+IHtcbiAgICBjb25zdCBpc1Byb21pc2VBdmFpbGFibGUgPSB0eXBlb2YgUHJvbWlzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBQcm9taXNlLnJlc29sdmUgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBpZiAoaXNQcm9taXNlQXZhaWxhYmxlKSB7XG4gICAgICAgIHJldHVybiAoY2IpID0+IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oY2IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChjYiwgc2V0VGltZW91dEZuKSA9PiBzZXRUaW1lb3V0Rm4oY2IsIDApO1xuICAgIH1cbn0pKCk7XG5leHBvcnQgY29uc3QgZ2xvYmFsVGhpc1NoaW0gPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbiAgICB9XG59KSgpO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRCaW5hcnlUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvb2tpZUphcigpIHsgfVxuIiwiaW1wb3J0IHsgZ2xvYmFsVGhpc1NoaW0gYXMgZ2xvYmFsVGhpcyB9IGZyb20gXCIuL2dsb2JhbHMubm9kZS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2sob2JqLCAuLi5hdHRyKSB7XG4gICAgcmV0dXJuIGF0dHIucmVkdWNlKChhY2MsIGspID0+IHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgYWNjW2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xufVxuLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgcmVhbCB0aW1lb3V0IGZ1bmN0aW9ucyBzbyB0aGV5IGNhbiBiZSB1c2VkIHdoZW4gb3ZlcnJpZGRlblxuY29uc3QgTkFUSVZFX1NFVF9USU1FT1VUID0gZ2xvYmFsVGhpcy5zZXRUaW1lb3V0O1xuY29uc3QgTkFUSVZFX0NMRUFSX1RJTUVPVVQgPSBnbG9iYWxUaGlzLmNsZWFyVGltZW91dDtcbmV4cG9ydCBmdW5jdGlvbiBpbnN0YWxsVGltZXJGdW5jdGlvbnMob2JqLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMudXNlTmF0aXZlVGltZXJzKSB7XG4gICAgICAgIG9iai5zZXRUaW1lb3V0Rm4gPSBOQVRJVkVfU0VUX1RJTUVPVVQuYmluZChnbG9iYWxUaGlzKTtcbiAgICAgICAgb2JqLmNsZWFyVGltZW91dEZuID0gTkFUSVZFX0NMRUFSX1RJTUVPVVQuYmluZChnbG9iYWxUaGlzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9iai5zZXRUaW1lb3V0Rm4gPSBnbG9iYWxUaGlzLnNldFRpbWVvdXQuYmluZChnbG9iYWxUaGlzKTtcbiAgICAgICAgb2JqLmNsZWFyVGltZW91dEZuID0gZ2xvYmFsVGhpcy5jbGVhclRpbWVvdXQuYmluZChnbG9iYWxUaGlzKTtcbiAgICB9XG59XG4vLyBiYXNlNjQgZW5jb2RlZCBidWZmZXJzIGFyZSBhYm91dCAzMyUgYmlnZ2VyIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CYXNlNjQpXG5jb25zdCBCQVNFNjRfT1ZFUkhFQUQgPSAxLjMzO1xuLy8gd2UgY291bGQgYWxzbyBoYXZlIHVzZWQgYG5ldyBCbG9iKFtvYmpdKS5zaXplYCwgYnV0IGl0IGlzbid0IHN1cHBvcnRlZCBpbiBJRTlcbmV4cG9ydCBmdW5jdGlvbiBieXRlTGVuZ3RoKG9iaikge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB1dGY4TGVuZ3RoKG9iaik7XG4gICAgfVxuICAgIC8vIGFycmF5YnVmZmVyIG9yIGJsb2JcbiAgICByZXR1cm4gTWF0aC5jZWlsKChvYmouYnl0ZUxlbmd0aCB8fCBvYmouc2l6ZSkgKiBCQVNFNjRfT1ZFUkhFQUQpO1xufVxuZnVuY3Rpb24gdXRmOExlbmd0aChzdHIpIHtcbiAgICBsZXQgYyA9IDAsIGxlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBzdHIubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBsZW5ndGggKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPCAweGQ4MDAgfHwgYyA+PSAweGUwMDApIHtcbiAgICAgICAgICAgIGxlbmd0aCArPSAzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgbGVuZ3RoICs9IDQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlbmd0aDtcbn1cbi8qKlxuICogR2VuZXJhdGVzIGEgcmFuZG9tIDgtY2hhcmFjdGVycyBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gICAgcmV0dXJuIChEYXRlLm5vdygpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMykgK1xuICAgICAgICBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgNSkpO1xufVxuIiwiLy8gaW1wb3J0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZ2Fsa24vcXVlcnlzdHJpbmdcbi8qKlxuICogQ29tcGlsZXMgYSBxdWVyeXN0cmluZ1xuICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGUob2JqKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHN0ciArPSAnJic7XG4gICAgICAgICAgICBzdHIgKz0gZW5jb2RlVVJJQ29tcG9uZW50KGkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogUGFyc2VzIGEgc2ltcGxlIHF1ZXJ5c3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHFzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZShxcykge1xuICAgIGxldCBxcnkgPSB7fTtcbiAgICBsZXQgcGFpcnMgPSBxcy5zcGxpdCgnJicpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gcGFpcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGxldCBwYWlyID0gcGFpcnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgcXJ5W2RlY29kZVVSSUNvbXBvbmVudChwYWlyWzBdKV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgfVxuICAgIHJldHVybiBxcnk7XG59XG4iLCJpbXBvcnQgeyBkZWNvZGVQYWNrZXQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGUgfSBmcm9tIFwiLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFuc3BvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZWFzb24sIGRlc2NyaXB0aW9uLCBjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKHJlYXNvbik7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy50eXBlID0gXCJUcmFuc3BvcnRFcnJvclwiO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBUcmFuc3BvcnQgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBUcmFuc3BvcnQgYWJzdHJhY3QgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0cyAtIG9wdGlvbnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5xdWVyeSA9IG9wdHMucXVlcnk7XG4gICAgICAgIHRoaXMuc29ja2V0ID0gb3B0cy5zb2NrZXQ7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSAhb3B0cy5mb3JjZUJhc2U2NDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVhc29uXG4gICAgICogQHBhcmFtIGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIGNvbnRleHQgLSB0aGUgZXJyb3IgY29udGV4dFxuICAgICAqIEByZXR1cm4ge1RyYW5zcG9ydH0gZm9yIGNoYWluaW5nXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkge1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBuZXcgVHJhbnNwb3J0RXJyb3IocmVhc29uLCBkZXNjcmlwdGlvbiwgY29udGV4dCkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3BlbnMgdGhlIHRyYW5zcG9ydC5cbiAgICAgKi9cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjtcbiAgICAgICAgdGhpcy5kb09wZW4oKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgdHJhbnNwb3J0LlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5pbmdcIiB8fCB0aGlzLnJlYWR5U3RhdGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICB0aGlzLmRvQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBtdWx0aXBsZSBwYWNrZXRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFja2V0c1xuICAgICAqL1xuICAgIHNlbmQocGFja2V0cykge1xuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5cIikge1xuICAgICAgICAgICAgdGhpcy53cml0ZShwYWNrZXRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgbWlnaHQgaGFwcGVuIGlmIHRoZSB0cmFuc3BvcnQgd2FzIHNpbGVudGx5IGNsb3NlZCBpbiB0aGUgYmVmb3JldW5sb2FkIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBvcGVuXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgb25PcGVuKCkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5cIjtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIGRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvbkRhdGEoZGF0YSkge1xuICAgICAgICBjb25zdCBwYWNrZXQgPSBkZWNvZGVQYWNrZXQoZGF0YSwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gICAgICAgIHRoaXMub25QYWNrZXQocGFja2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggYSBkZWNvZGVkIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBvblBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwicGFja2V0XCIsIHBhY2tldCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGNsb3NlLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uQ2xvc2UoZGV0YWlscykge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICBzdXBlci5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCBkZXRhaWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2VzIHRoZSB0cmFuc3BvcnQsIGluIG9yZGVyIG5vdCB0byBsb3NlIHBhY2tldHMgZHVyaW5nIGFuIHVwZ3JhZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb25QYXVzZVxuICAgICAqL1xuICAgIHBhdXNlKG9uUGF1c2UpIHsgfVxuICAgIGNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5ID0ge30pIHtcbiAgICAgICAgcmV0dXJuIChzY2hlbWEgK1xuICAgICAgICAgICAgXCI6Ly9cIiArXG4gICAgICAgICAgICB0aGlzLl9ob3N0bmFtZSgpICtcbiAgICAgICAgICAgIHRoaXMuX3BvcnQoKSArXG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aCArXG4gICAgICAgICAgICB0aGlzLl9xdWVyeShxdWVyeSkpO1xuICAgIH1cbiAgICBfaG9zdG5hbWUoKSB7XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gdGhpcy5vcHRzLmhvc3RuYW1lO1xuICAgICAgICByZXR1cm4gaG9zdG5hbWUuaW5kZXhPZihcIjpcIikgPT09IC0xID8gaG9zdG5hbWUgOiBcIltcIiArIGhvc3RuYW1lICsgXCJdXCI7XG4gICAgfVxuICAgIF9wb3J0KCkge1xuICAgICAgICBpZiAodGhpcy5vcHRzLnBvcnQgJiZcbiAgICAgICAgICAgICgodGhpcy5vcHRzLnNlY3VyZSAmJiBOdW1iZXIodGhpcy5vcHRzLnBvcnQgIT09IDQ0MykpIHx8XG4gICAgICAgICAgICAgICAgKCF0aGlzLm9wdHMuc2VjdXJlICYmIE51bWJlcih0aGlzLm9wdHMucG9ydCkgIT09IDgwKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjpcIiArIHRoaXMub3B0cy5wb3J0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3F1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IGVuY29kZWRRdWVyeSA9IGVuY29kZShxdWVyeSk7XG4gICAgICAgIHJldHVybiBlbmNvZGVkUXVlcnkubGVuZ3RoID8gXCI/XCIgKyBlbmNvZGVkUXVlcnkgOiBcIlwiO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFRyYW5zcG9ydCB9IGZyb20gXCIuLi90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB7IHJhbmRvbVN0cmluZyB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYXlsb2FkLCBkZWNvZGVQYXlsb2FkIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbmV4cG9ydCBjbGFzcyBQb2xsaW5nIGV4dGVuZHMgVHJhbnNwb3J0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fcG9sbGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFwicG9sbGluZ1wiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgc29ja2V0ICh0cmlnZ2VycyBwb2xsaW5nKS4gV2Ugd3JpdGUgYSBQSU5HIG1lc3NhZ2UgdG8gZGV0ZXJtaW5lXG4gICAgICogd2hlbiB0aGUgdHJhbnNwb3J0IGlzIG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZG9PcGVuKCkge1xuICAgICAgICB0aGlzLl9wb2xsKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhdXNlcyBwb2xsaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb25QYXVzZSAtIGNhbGxiYWNrIHVwb24gYnVmZmVycyBhcmUgZmx1c2hlZCBhbmQgdHJhbnNwb3J0IGlzIHBhdXNlZFxuICAgICAqIEBwYWNrYWdlXG4gICAgICovXG4gICAgcGF1c2Uob25QYXVzZSkge1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNpbmdcIjtcbiAgICAgICAgY29uc3QgcGF1c2UgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcInBhdXNlZFwiO1xuICAgICAgICAgICAgb25QYXVzZSgpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5fcG9sbGluZyB8fCAhdGhpcy53cml0YWJsZSkge1xuICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wb2xsaW5nKSB7XG4gICAgICAgICAgICAgICAgdG90YWwrKztcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoXCJwb2xsQ29tcGxldGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAtLXRvdGFsIHx8IHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMud3JpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB0b3RhbCsrO1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcImRyYWluXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLS10b3RhbCB8fCBwYXVzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF1c2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgcG9sbGluZyBjeWNsZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BvbGwoKSB7XG4gICAgICAgIHRoaXMuX3BvbGxpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRvUG9sbCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbGxcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJsb2FkcyBvbkRhdGEgdG8gZGV0ZWN0IHBheWxvYWRzLlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIG9uRGF0YShkYXRhKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHBhY2tldCkgPT4ge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHRoZSBmaXJzdCBtZXNzYWdlIHdlIGNvbnNpZGVyIHRoZSB0cmFuc3BvcnQgb3BlblxuICAgICAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgcGFja2V0LnR5cGUgPT09IFwib3BlblwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGl0cyBhIGNsb3NlIHBhY2tldCwgd2UgY2xvc2UgdGhlIG9uZ29pbmcgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChcImNsb3NlXCIgPT09IHBhY2tldC50eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHsgZGVzY3JpcHRpb246IFwidHJhbnNwb3J0IGNsb3NlZCBieSB0aGUgc2VydmVyXCIgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGJ5cGFzcyBvbkRhdGEgYW5kIGhhbmRsZSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5vblBhY2tldChwYWNrZXQpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBkZWNvZGUgcGF5bG9hZFxuICAgICAgICBkZWNvZGVQYXlsb2FkKGRhdGEsIHRoaXMuc29ja2V0LmJpbmFyeVR5cGUpLmZvckVhY2goY2FsbGJhY2spO1xuICAgICAgICAvLyBpZiBhbiBldmVudCBkaWQgbm90IHRyaWdnZXIgY2xvc2luZ1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBnb3QgZGF0YSB3ZSdyZSBub3QgcG9sbGluZ1xuICAgICAgICAgICAgdGhpcy5fcG9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwb2xsQ29tcGxldGVcIik7XG4gICAgICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBwb2xsaW5nLCBzZW5kIGEgY2xvc2UgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGRvQ2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53cml0ZShbeyB0eXBlOiBcImNsb3NlXCIgfV0pO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UncmUgdHJ5aW5nIHRvIGNsb3NlIHdoaWxlXG4gICAgICAgICAgICAvLyBoYW5kc2hha2luZyBpcyBpbiBwcm9ncmVzcyAoR0gtMTY0KVxuICAgICAgICAgICAgdGhpcy5vbmNlKFwib3BlblwiLCBjbG9zZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgcGFja2V0cyBwYXlsb2FkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFja2V0cyAtIGRhdGEgcGFja2V0c1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB3cml0ZShwYWNrZXRzKSB7XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgICAgZW5jb2RlUGF5bG9hZChwYWNrZXRzLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kb1dyaXRlKGRhdGEsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdXJpIGZvciBjb25uZWN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cmkoKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMub3B0cy5zZWN1cmUgPyBcImh0dHBzXCIgOiBcImh0dHBcIjtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLnF1ZXJ5IHx8IHt9O1xuICAgICAgICAvLyBjYWNoZSBidXN0aW5nIGlzIGZvcmNlZFxuICAgICAgICBpZiAoZmFsc2UgIT09IHRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgICAgICAgICAgcXVlcnlbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXSA9IHJhbmRvbVN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0c0JpbmFyeSAmJiAhcXVlcnkuc2lkKSB7XG4gICAgICAgICAgICBxdWVyeS5iNjQgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVVyaShzY2hlbWEsIHF1ZXJ5KTtcbiAgICB9XG59XG4iLCIvLyBpbXBvcnRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9jb21wb25lbnQvaGFzLWNvcnNcbmxldCB2YWx1ZSA9IGZhbHNlO1xudHJ5IHtcbiAgICB2YWx1ZSA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG59XG5jYXRjaCAoZXJyKSB7XG4gICAgLy8gaWYgWE1MSHR0cCBzdXBwb3J0IGlzIGRpc2FibGVkIGluIElFIHRoZW4gaXQgd2lsbCB0aHJvd1xuICAgIC8vIHdoZW4gdHJ5aW5nIHRvIGNyZWF0ZVxufVxuZXhwb3J0IGNvbnN0IGhhc0NPUlMgPSB2YWx1ZTtcbiIsImltcG9ydCB7IFBvbGxpbmcgfSBmcm9tIFwiLi9wb2xsaW5nLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSBcIkBzb2NrZXQuaW8vY29tcG9uZW50LWVtaXR0ZXJcIjtcbmltcG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucywgcGljayB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBnbG9iYWxUaGlzU2hpbSBhcyBnbG9iYWxUaGlzIH0gZnJvbSBcIi4uL2dsb2JhbHMubm9kZS5qc1wiO1xuaW1wb3J0IHsgaGFzQ09SUyB9IGZyb20gXCIuLi9jb250cmliL2hhcy1jb3JzLmpzXCI7XG5mdW5jdGlvbiBlbXB0eSgpIHsgfVxuZXhwb3J0IGNsYXNzIEJhc2VYSFIgZXh0ZW5kcyBQb2xsaW5nIHtcbiAgICAvKipcbiAgICAgKiBYSFIgUG9sbGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gICAgICogQHBhY2thZ2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzKSB7XG4gICAgICAgIHN1cGVyKG9wdHMpO1xuICAgICAgICBpZiAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBpc1NTTCA9IFwiaHR0cHM6XCIgPT09IGxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgICAgICAgbGV0IHBvcnQgPSBsb2NhdGlvbi5wb3J0O1xuICAgICAgICAgICAgLy8gc29tZSB1c2VyIGFnZW50cyBoYXZlIGVtcHR5IGBsb2NhdGlvbi5wb3J0YFxuICAgICAgICAgICAgaWYgKCFwb3J0KSB7XG4gICAgICAgICAgICAgICAgcG9ydCA9IGlzU1NMID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueGQgPVxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSAhPT0gbG9jYXRpb24uaG9zdG5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHBvcnQgIT09IG9wdHMucG9ydDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgdG8gc2VuZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsZWQgdXBvbiBmbHVzaC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGRvV3JpdGUoZGF0YSwgZm4pIHtcbiAgICAgICAgY29uc3QgcmVxID0gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVxLm9uKFwic3VjY2Vzc1wiLCBmbik7XG4gICAgICAgIHJlcS5vbihcImVycm9yXCIsICh4aHJTdGF0dXMsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcInhociBwb3N0IGVycm9yXCIsIHhoclN0YXR1cywgY29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYSBwb2xsIGN5Y2xlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkb1BvbGwoKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHRoaXMucmVxdWVzdCgpO1xuICAgICAgICByZXEub24oXCJkYXRhXCIsIHRoaXMub25EYXRhLmJpbmQodGhpcykpO1xuICAgICAgICByZXEub24oXCJlcnJvclwiLCAoeGhyU3RhdHVzLCBjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRXJyb3IoXCJ4aHIgcG9sbCBlcnJvclwiLCB4aHJTdGF0dXMsIGNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wb2xsWGhyID0gcmVxO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0IGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNyZWF0ZVJlcXVlc3QsIHVyaSwgb3B0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNyZWF0ZVJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0O1xuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMuX29wdHMgPSBvcHRzO1xuICAgICAgICB0aGlzLl9tZXRob2QgPSBvcHRzLm1ldGhvZCB8fCBcIkdFVFwiO1xuICAgICAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB1bmRlZmluZWQgIT09IG9wdHMuZGF0YSA/IG9wdHMuZGF0YSA6IG51bGw7XG4gICAgICAgIHRoaXMuX2NyZWF0ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBYSFIgb2JqZWN0IGFuZCBzZW5kcyB0aGUgcmVxdWVzdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHRzID0gcGljayh0aGlzLl9vcHRzLCBcImFnZW50XCIsIFwicGZ4XCIsIFwia2V5XCIsIFwicGFzc3BocmFzZVwiLCBcImNlcnRcIiwgXCJjYVwiLCBcImNpcGhlcnNcIiwgXCJyZWplY3RVbmF1dGhvcml6ZWRcIiwgXCJhdXRvVW5yZWZcIik7XG4gICAgICAgIG9wdHMueGRvbWFpbiA9ICEhdGhpcy5fb3B0cy54ZDtcbiAgICAgICAgY29uc3QgeGhyID0gKHRoaXMuX3hociA9IHRoaXMuY3JlYXRlUmVxdWVzdChvcHRzKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIub3Blbih0aGlzLl9tZXRob2QsIHRoaXMuX3VyaSwgdHJ1ZSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXREaXNhYmxlSGVhZGVyQ2hlY2sgJiYgeGhyLnNldERpc2FibGVIZWFkZXJDaGVjayh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLl9vcHRzLmV4dHJhSGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdHMuZXh0cmFIZWFkZXJzLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaSwgdGhpcy5fb3B0cy5leHRyYUhlYWRlcnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgaWYgKFwiUE9TVFwiID09PSB0aGlzLl9tZXRob2QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLCBcIiovKlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMuX29wdHMuY29va2llSmFyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkQ29va2llcyh4aHIpO1xuICAgICAgICAgICAgLy8gaWU2IGNoZWNrXG4gICAgICAgICAgICBpZiAoXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHIpIHtcbiAgICAgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdGhpcy5fb3B0cy53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0cy5yZXF1ZXN0VGltZW91dCkge1xuICAgICAgICAgICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy5fb3B0cy5yZXF1ZXN0VGltZW91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9vcHRzLmNvb2tpZUphcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcnNlQ29va2llcyhcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJzZXQtY29va2llXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKDQgIT09IHhoci5yZWFkeVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKDIwMCA9PT0geGhyLnN0YXR1cyB8fCAxMjIzID09PSB4aHIuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uTG9hZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSBgZXJyb3JgIGV2ZW50IGhhbmRsZXIgdGhhdCdzIHVzZXItc2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvZXMgbm90IHRocm93IGluIHRoZSBzYW1lIHRpY2sgYW5kIGdldHMgY2F1Z2h0IGhlcmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlb2YgeGhyLnN0YXR1cyA9PT0gXCJudW1iZXJcIiA/IHhoci5zdGF0dXMgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5zZW5kKHRoaXMuX2RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIGRlZmVyIHNpbmNlIC5jcmVhdGUoKSBpcyBjYWxsZWQgZGlyZWN0bHkgZnJvbSB0aGUgY29uc3RydWN0b3JcbiAgICAgICAgICAgIC8vIGFuZCB0aHVzIHRoZSAnZXJyb3InIGV2ZW50IGNhbiBvbmx5IGJlIG9ubHkgYm91bmQgKmFmdGVyKiB0aGlzIGV4Y2VwdGlvblxuICAgICAgICAgICAgLy8gb2NjdXJzLiAgVGhlcmVmb3JlLCBhbHNvLCB3ZSBjYW5ub3QgdGhyb3cgaGVyZSBhdCBhbGwuXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihlKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gUmVxdWVzdC5yZXF1ZXN0c0NvdW50Kys7XG4gICAgICAgICAgICBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuX2luZGV4XSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGVycikge1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVyciwgdGhpcy5feGhyKTtcbiAgICAgICAgdGhpcy5fY2xlYW51cCh0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYW5zIHVwIGhvdXNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2xlYW51cChmcm9tRXJyb3IpIHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB0aGlzLl94aHIgfHwgbnVsbCA9PT0gdGhpcy5feGhyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGVtcHR5O1xuICAgICAgICBpZiAoZnJvbUVycm9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3hoci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBSZXF1ZXN0LnJlcXVlc3RzW3RoaXMuX2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25Mb2FkKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5feGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgaWYgKGRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcGFja2FnZVxuICAgICAqL1xuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9jbGVhbnVwKCk7XG4gICAgfVxufVxuUmVxdWVzdC5yZXF1ZXN0c0NvdW50ID0gMDtcblJlcXVlc3QucmVxdWVzdHMgPSB7fTtcbi8qKlxuICogQWJvcnRzIHBlbmRpbmcgcmVxdWVzdHMgd2hlbiB1bmxvYWRpbmcgdGhlIHdpbmRvdy4gVGhpcyBpcyBuZWVkZWQgdG8gcHJldmVudFxuICogbWVtb3J5IGxlYWtzIChlLmcuIHdoZW4gdXNpbmcgSUUpIGFuZCB0byBlbnN1cmUgdGhhdCBubyBzcHVyaW91cyBlcnJvciBpc1xuICogZW1pdHRlZC5cbiAqL1xuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAodHlwZW9mIGF0dGFjaEV2ZW50ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhdHRhY2hFdmVudChcIm9udW5sb2FkXCIsIHVubG9hZEhhbmRsZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IHRlcm1pbmF0aW9uRXZlbnQgPSBcIm9ucGFnZWhpZGVcIiBpbiBnbG9iYWxUaGlzID8gXCJwYWdlaGlkZVwiIDogXCJ1bmxvYWRcIjtcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih0ZXJtaW5hdGlvbkV2ZW50LCB1bmxvYWRIYW5kbGVyLCBmYWxzZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gdW5sb2FkSGFuZGxlcigpIHtcbiAgICBmb3IgKGxldCBpIGluIFJlcXVlc3QucmVxdWVzdHMpIHtcbiAgICAgICAgaWYgKFJlcXVlc3QucmVxdWVzdHMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIFJlcXVlc3QucmVxdWVzdHNbaV0uYWJvcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGhhc1hIUjIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHhociA9IG5ld1JlcXVlc3Qoe1xuICAgICAgICB4ZG9tYWluOiBmYWxzZSxcbiAgICB9KTtcbiAgICByZXR1cm4geGhyICYmIHhoci5yZXNwb25zZVR5cGUgIT09IG51bGw7XG59KSgpO1xuLyoqXG4gKiBIVFRQIGxvbmctcG9sbGluZyBiYXNlZCBvbiB0aGUgYnVpbHQtaW4gYFhNTEh0dHBSZXF1ZXN0YCBvYmplY3QuXG4gKlxuICogVXNhZ2U6IGJyb3dzZXJcbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdFxuICovXG5leHBvcnQgY2xhc3MgWEhSIGV4dGVuZHMgQmFzZVhIUiB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihvcHRzKTtcbiAgICAgICAgY29uc3QgZm9yY2VCYXNlNjQgPSBvcHRzICYmIG9wdHMuZm9yY2VCYXNlNjQ7XG4gICAgICAgIHRoaXMuc3VwcG9ydHNCaW5hcnkgPSBoYXNYSFIyICYmICFmb3JjZUJhc2U2NDtcbiAgICB9XG4gICAgcmVxdWVzdChvcHRzID0ge30pIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihvcHRzLCB7IHhkOiB0aGlzLnhkIH0sIHRoaXMub3B0cyk7XG4gICAgICAgIHJldHVybiBuZXcgUmVxdWVzdChuZXdSZXF1ZXN0LCB0aGlzLnVyaSgpLCBvcHRzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBuZXdSZXF1ZXN0KG9wdHMpIHtcbiAgICBjb25zdCB4ZG9tYWluID0gb3B0cy54ZG9tYWluO1xuICAgIC8vIFhNTEh0dHBSZXF1ZXN0IGNhbiBiZSBkaXNhYmxlZCBvbiBJRVxuICAgIHRyeSB7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgJiYgKCF4ZG9tYWluIHx8IGhhc0NPUlMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHsgfVxuICAgIGlmICgheGRvbWFpbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBnbG9iYWxUaGlzW1tcIkFjdGl2ZVwiXS5jb25jYXQoXCJPYmplY3RcIikuam9pbihcIlhcIildKFwiTWljcm9zb2Z0LlhNTEhUVFBcIik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFRyYW5zcG9ydCB9IGZyb20gXCIuLi90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB7IHBpY2ssIHJhbmRvbVN0cmluZyB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVQYWNrZXQgfSBmcm9tIFwiZW5naW5lLmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgZ2xvYmFsVGhpc1NoaW0gYXMgZ2xvYmFsVGhpcywgbmV4dFRpY2sgfSBmcm9tIFwiLi4vZ2xvYmFscy5ub2RlLmpzXCI7XG4vLyBkZXRlY3QgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnRcbmNvbnN0IGlzUmVhY3ROYXRpdmUgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvci5wcm9kdWN0ID09PSBcInN0cmluZ1wiICYmXG4gICAgbmF2aWdhdG9yLnByb2R1Y3QudG9Mb3dlckNhc2UoKSA9PT0gXCJyZWFjdG5hdGl2ZVwiO1xuZXhwb3J0IGNsYXNzIEJhc2VXUyBleHRlbmRzIFRyYW5zcG9ydCB7XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiBcIndlYnNvY2tldFwiO1xuICAgIH1cbiAgICBkb09wZW4oKSB7XG4gICAgICAgIGNvbnN0IHVyaSA9IHRoaXMudXJpKCk7XG4gICAgICAgIGNvbnN0IHByb3RvY29scyA9IHRoaXMub3B0cy5wcm90b2NvbHM7XG4gICAgICAgIC8vIFJlYWN0IE5hdGl2ZSBvbmx5IHN1cHBvcnRzIHRoZSAnaGVhZGVycycgb3B0aW9uLCBhbmQgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgYW55dGhpbmcgZWxzZSBpcyBwYXNzZWRcbiAgICAgICAgY29uc3Qgb3B0cyA9IGlzUmVhY3ROYXRpdmVcbiAgICAgICAgICAgID8ge31cbiAgICAgICAgICAgIDogcGljayh0aGlzLm9wdHMsIFwiYWdlbnRcIiwgXCJwZXJNZXNzYWdlRGVmbGF0ZVwiLCBcInBmeFwiLCBcImtleVwiLCBcInBhc3NwaHJhc2VcIiwgXCJjZXJ0XCIsIFwiY2FcIiwgXCJjaXBoZXJzXCIsIFwicmVqZWN0VW5hdXRob3JpemVkXCIsIFwibG9jYWxBZGRyZXNzXCIsIFwicHJvdG9jb2xWZXJzaW9uXCIsIFwib3JpZ2luXCIsIFwibWF4UGF5bG9hZFwiLCBcImZhbWlseVwiLCBcImNoZWNrU2VydmVySWRlbnRpdHlcIik7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuZXh0cmFIZWFkZXJzKSB7XG4gICAgICAgICAgICBvcHRzLmhlYWRlcnMgPSB0aGlzLm9wdHMuZXh0cmFIZWFkZXJzO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndzID0gdGhpcy5jcmVhdGVTb2NrZXQodXJpLCBwcm90b2NvbHMsIG9wdHMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXRSZXNlcnZlZChcImVycm9yXCIsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53cy5iaW5hcnlUeXBlID0gdGhpcy5zb2NrZXQuYmluYXJ5VHlwZTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgc29ja2V0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53cy5fc29ja2V0LnVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoY2xvc2VFdmVudCkgPT4gdGhpcy5vbkNsb3NlKHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIndlYnNvY2tldCBjb25uZWN0aW9uIGNsb3NlZFwiLFxuICAgICAgICAgICAgY29udGV4dDogY2xvc2VFdmVudCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2KSA9PiB0aGlzLm9uRGF0YShldi5kYXRhKTtcbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGUpID0+IHRoaXMub25FcnJvcihcIndlYnNvY2tldCBlcnJvclwiLCBlKTtcbiAgICB9XG4gICAgd3JpdGUocGFja2V0cykge1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICAgIC8vIGVuY29kZVBhY2tldCBlZmZpY2llbnQgYXMgaXQgdXNlcyBXUyBmcmFtaW5nXG4gICAgICAgIC8vIG5vIG5lZWQgZm9yIGVuY29kZVBheWxvYWRcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWNrZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBwYWNrZXQgPSBwYWNrZXRzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFzdFBhY2tldCA9IGkgPT09IHBhY2tldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGVuY29kZVBhY2tldChwYWNrZXQsIHRoaXMuc3VwcG9ydHNCaW5hcnksIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU29tZXRpbWVzIHRoZSB3ZWJzb2NrZXQgaGFzIGFscmVhZHkgYmVlbiBjbG9zZWQgYnV0IHRoZSBicm93c2VyIGRpZG4ndFxuICAgICAgICAgICAgICAgIC8vIGhhdmUgYSBjaGFuY2Ugb2YgaW5mb3JtaW5nIHVzIGFib3V0IGl0IHlldCwgaW4gdGhhdCBjYXNlIHNlbmQgd2lsbFxuICAgICAgICAgICAgICAgIC8vIHRocm93IGFuIGVycm9yXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb1dyaXRlKHBhY2tldCwgZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChsYXN0UGFja2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZha2UgZHJhaW5cbiAgICAgICAgICAgICAgICAgICAgLy8gZGVmZXIgdG8gbmV4dCB0aWNrIHRvIGFsbG93IFNvY2tldCB0byBjbGVhciB3cml0ZUJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICBuZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZHJhaW5cIik7XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuc2V0VGltZW91dEZuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb0Nsb3NlKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMud3MgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMud3Mub25lcnJvciA9ICgpID0+IHsgfTtcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMud3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB1cmkgZm9yIGNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVyaSgpIHtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5vcHRzLnNlY3VyZSA/IFwid3NzXCIgOiBcIndzXCI7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeSB8fCB7fTtcbiAgICAgICAgLy8gYXBwZW5kIHRpbWVzdGFtcCB0byBVUklcbiAgICAgICAgaWYgKHRoaXMub3B0cy50aW1lc3RhbXBSZXF1ZXN0cykge1xuICAgICAgICAgICAgcXVlcnlbdGhpcy5vcHRzLnRpbWVzdGFtcFBhcmFtXSA9IHJhbmRvbVN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbW11bmljYXRlIGJpbmFyeSBzdXBwb3J0IGNhcGFiaWxpdGllc1xuICAgICAgICBpZiAoIXRoaXMuc3VwcG9ydHNCaW5hcnkpIHtcbiAgICAgICAgICAgIHF1ZXJ5LmI2NCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVXJpKHNjaGVtYSwgcXVlcnkpO1xuICAgIH1cbn1cbmNvbnN0IFdlYlNvY2tldEN0b3IgPSBnbG9iYWxUaGlzLldlYlNvY2tldCB8fCBnbG9iYWxUaGlzLk1veldlYlNvY2tldDtcbi8qKlxuICogV2ViU29ja2V0IHRyYW5zcG9ydCBiYXNlZCBvbiB0aGUgYnVpbHQtaW4gYFdlYlNvY2tldGAgb2JqZWN0LlxuICpcbiAqIFVzYWdlOiBicm93c2VyLCBOb2RlLmpzIChzaW5jZSB2MjEpLCBEZW5vLCBCdW5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XZWJTb2NrZXRcbiAqIEBzZWUgaHR0cHM6Ly9jYW5pdXNlLmNvbS9tZG4tYXBpX3dlYnNvY2tldFxuICogQHNlZSBodHRwczovL25vZGVqcy5vcmcvYXBpL2dsb2JhbHMuaHRtbCN3ZWJzb2NrZXRcbiAqL1xuZXhwb3J0IGNsYXNzIFdTIGV4dGVuZHMgQmFzZVdTIHtcbiAgICBjcmVhdGVTb2NrZXQodXJpLCBwcm90b2NvbHMsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuICFpc1JlYWN0TmF0aXZlXG4gICAgICAgICAgICA/IHByb3RvY29sc1xuICAgICAgICAgICAgICAgID8gbmV3IFdlYlNvY2tldEN0b3IodXJpLCBwcm90b2NvbHMpXG4gICAgICAgICAgICAgICAgOiBuZXcgV2ViU29ja2V0Q3Rvcih1cmkpXG4gICAgICAgICAgICA6IG5ldyBXZWJTb2NrZXRDdG9yKHVyaSwgcHJvdG9jb2xzLCBvcHRzKTtcbiAgICB9XG4gICAgZG9Xcml0ZShfcGFja2V0LCBkYXRhKSB7XG4gICAgICAgIHRoaXMud3Muc2VuZChkYXRhKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBUcmFuc3BvcnQgfSBmcm9tIFwiLi4vdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgeyBuZXh0VGljayB9IGZyb20gXCIuLi9nbG9iYWxzLm5vZGUuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVBhY2tldERlY29kZXJTdHJlYW0sIGNyZWF0ZVBhY2tldEVuY29kZXJTdHJlYW0sIH0gZnJvbSBcImVuZ2luZS5pby1wYXJzZXJcIjtcbi8qKlxuICogV2ViVHJhbnNwb3J0IHRyYW5zcG9ydCBiYXNlZCBvbiB0aGUgYnVpbHQtaW4gYFdlYlRyYW5zcG9ydGAgb2JqZWN0LlxuICpcbiAqIFVzYWdlOiBicm93c2VyLCBOb2RlLmpzICh3aXRoIHRoZSBgQGZhaWxzLWNvbXBvbmVudHMvd2VidHJhbnNwb3J0YCBwYWNrYWdlKVxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYlRyYW5zcG9ydFxuICogQHNlZSBodHRwczovL2Nhbml1c2UuY29tL3dlYnRyYW5zcG9ydFxuICovXG5leHBvcnQgY2xhc3MgV1QgZXh0ZW5kcyBUcmFuc3BvcnQge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gXCJ3ZWJ0cmFuc3BvcnRcIjtcbiAgICB9XG4gICAgZG9PcGVuKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0ID0gbmV3IFdlYlRyYW5zcG9ydCh0aGlzLmNyZWF0ZVVyaShcImh0dHBzXCIpLCB0aGlzLm9wdHMudHJhbnNwb3J0T3B0aW9uc1t0aGlzLm5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydC5jbG9zZWRcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbG9zZSgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcIndlYnRyYW5zcG9ydCBlcnJvclwiLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gbm90ZTogd2UgY291bGQgaGF2ZSB1c2VkIGFzeW5jL2F3YWl0LCBidXQgdGhhdCB3b3VsZCByZXF1aXJlIHNvbWUgYWRkaXRpb25hbCBwb2x5ZmlsbHNcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnJlYWR5LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0LmNyZWF0ZUJpZGlyZWN0aW9uYWxTdHJlYW0oKS50aGVuKChzdHJlYW0pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVyU3RyZWFtID0gY3JlYXRlUGFja2V0RGVjb2RlclN0cmVhbShOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwgdGhpcy5zb2NrZXQuYmluYXJ5VHlwZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gc3RyZWFtLnJlYWRhYmxlLnBpcGVUaHJvdWdoKGRlY29kZXJTdHJlYW0pLmdldFJlYWRlcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kZXJTdHJlYW0gPSBjcmVhdGVQYWNrZXRFbmNvZGVyU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgZW5jb2RlclN0cmVhbS5yZWFkYWJsZS5waXBlVG8oc3RyZWFtLndyaXRhYmxlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93cml0ZXIgPSBlbmNvZGVyU3RyZWFtLndyaXRhYmxlLmdldFdyaXRlcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlYWQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHsgZG9uZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUGFja2V0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmVhZCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHsgdHlwZTogXCJvcGVuXCIgfTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5xdWVyeS5zaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFja2V0LmRhdGEgPSBge1wic2lkXCI6XCIke3RoaXMucXVlcnkuc2lkfVwifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3dyaXRlci53cml0ZShwYWNrZXQpLnRoZW4oKCkgPT4gdGhpcy5vbk9wZW4oKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHdyaXRlKHBhY2tldHMpIHtcbiAgICAgICAgdGhpcy53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhY2tldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHBhY2tldCA9IHBhY2tldHNbaV07XG4gICAgICAgICAgICBjb25zdCBsYXN0UGFja2V0ID0gaSA9PT0gcGFja2V0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgdGhpcy5fd3JpdGVyLndyaXRlKHBhY2tldCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQYWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnNldFRpbWVvdXRGbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9DbG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLl90cmFuc3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFhIUiB9IGZyb20gXCIuL3BvbGxpbmcteGhyLm5vZGUuanNcIjtcbmltcG9ydCB7IFdTIH0gZnJvbSBcIi4vd2Vic29ja2V0Lm5vZGUuanNcIjtcbmltcG9ydCB7IFdUIH0gZnJvbSBcIi4vd2VidHJhbnNwb3J0LmpzXCI7XG5leHBvcnQgY29uc3QgdHJhbnNwb3J0cyA9IHtcbiAgICB3ZWJzb2NrZXQ6IFdTLFxuICAgIHdlYnRyYW5zcG9ydDogV1QsXG4gICAgcG9sbGluZzogWEhSLFxufTtcbiIsIi8vIGltcG9ydGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2dhbGtuL3BhcnNldXJpXG4vKipcbiAqIFBhcnNlcyBhIFVSSVxuICpcbiAqIE5vdGU6IHdlIGNvdWxkIGFsc28gaGF2ZSB1c2VkIHRoZSBidWlsdC1pbiBVUkwgb2JqZWN0LCBidXQgaXQgaXNuJ3Qgc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMuXG4gKlxuICogU2VlOlxuICogLSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVVJMXG4gKiAtIGh0dHBzOi8vY2FuaXVzZS5jb20vdXJsXG4gKiAtIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmMzOTg2I2FwcGVuZGl4LUJcbiAqXG4gKiBIaXN0b3J5IG9mIHRoZSBwYXJzZSgpIG1ldGhvZDpcbiAqIC0gZmlyc3QgY29tbWl0OiBodHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vc29ja2V0LmlvLWNsaWVudC9jb21taXQvNGVlMWQ1ZDk0YjM5MDZhOWMwNTJiNDU5ZjFhODE4YjE1ZjM4ZjkxY1xuICogLSBleHBvcnQgaW50byBpdHMgb3duIG1vZHVsZTogaHR0cHM6Ly9naXRodWIuY29tL3NvY2tldGlvL2VuZ2luZS5pby1jbGllbnQvY29tbWl0L2RlMmM1NjFlNDU2NGVmZWI3OGYxYmRiMWJhMzllZjgxYjI4MjJjYjNcbiAqIC0gcmVpbXBvcnQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9zb2NrZXRpby9lbmdpbmUuaW8tY2xpZW50L2NvbW1pdC9kZjMyMjc3YzNmNmQ2MjJlZWM1ZWQwOWY0OTNjYWUzZjMzOTFkMjQyXG4gKlxuICogQGF1dGhvciBTdGV2ZW4gTGV2aXRoYW4gPHN0ZXZlbmxldml0aGFuLmNvbT4gKE1JVCBsaWNlbnNlKVxuICogQGFwaSBwcml2YXRlXG4gKi9cbmNvbnN0IHJlID0gL14oPzooPyFbXjpAXFwvPyNdKzpbXjpAXFwvXSpAKShodHRwfGh0dHBzfHdzfHdzcyk6XFwvXFwvKT8oKD86KChbXjpAXFwvPyNdKikoPzo6KFteOkBcXC8/I10qKSk/KT9AKT8oKD86W2EtZjAtOV17MCw0fTopezIsN31bYS1mMC05XXswLDR9fFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS87XG5jb25zdCBwYXJ0cyA9IFtcbiAgICAnc291cmNlJywgJ3Byb3RvY29sJywgJ2F1dGhvcml0eScsICd1c2VySW5mbycsICd1c2VyJywgJ3Bhc3N3b3JkJywgJ2hvc3QnLCAncG9ydCcsICdyZWxhdGl2ZScsICdwYXRoJywgJ2RpcmVjdG9yeScsICdmaWxlJywgJ3F1ZXJ5JywgJ2FuY2hvcidcbl07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPiA4MDAwKSB7XG4gICAgICAgIHRocm93IFwiVVJJIHRvbyBsb25nXCI7XG4gICAgfVxuICAgIGNvbnN0IHNyYyA9IHN0ciwgYiA9IHN0ci5pbmRleE9mKCdbJyksIGUgPSBzdHIuaW5kZXhPZignXScpO1xuICAgIGlmIChiICE9IC0xICYmIGUgIT0gLTEpIHtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCBiKSArIHN0ci5zdWJzdHJpbmcoYiwgZSkucmVwbGFjZSgvOi9nLCAnOycpICsgc3RyLnN1YnN0cmluZyhlLCBzdHIubGVuZ3RoKTtcbiAgICB9XG4gICAgbGV0IG0gPSByZS5leGVjKHN0ciB8fCAnJyksIHVyaSA9IHt9LCBpID0gMTQ7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICB1cmlbcGFydHNbaV1dID0gbVtpXSB8fCAnJztcbiAgICB9XG4gICAgaWYgKGIgIT0gLTEgJiYgZSAhPSAtMSkge1xuICAgICAgICB1cmkuc291cmNlID0gc3JjO1xuICAgICAgICB1cmkuaG9zdCA9IHVyaS5ob3N0LnN1YnN0cmluZygxLCB1cmkuaG9zdC5sZW5ndGggLSAxKS5yZXBsYWNlKC87L2csICc6Jyk7XG4gICAgICAgIHVyaS5hdXRob3JpdHkgPSB1cmkuYXV0aG9yaXR5LnJlcGxhY2UoJ1snLCAnJykucmVwbGFjZSgnXScsICcnKS5yZXBsYWNlKC87L2csICc6Jyk7XG4gICAgICAgIHVyaS5pcHY2dXJpID0gdHJ1ZTtcbiAgICB9XG4gICAgdXJpLnBhdGhOYW1lcyA9IHBhdGhOYW1lcyh1cmksIHVyaVsncGF0aCddKTtcbiAgICB1cmkucXVlcnlLZXkgPSBxdWVyeUtleSh1cmksIHVyaVsncXVlcnknXSk7XG4gICAgcmV0dXJuIHVyaTtcbn1cbmZ1bmN0aW9uIHBhdGhOYW1lcyhvYmosIHBhdGgpIHtcbiAgICBjb25zdCByZWd4ID0gL1xcL3syLDl9L2csIG5hbWVzID0gcGF0aC5yZXBsYWNlKHJlZ3gsIFwiL1wiKS5zcGxpdChcIi9cIik7XG4gICAgaWYgKHBhdGguc2xpY2UoMCwgMSkgPT0gJy8nIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIG5hbWVzLnNwbGljZSgwLCAxKTtcbiAgICB9XG4gICAgaWYgKHBhdGguc2xpY2UoLTEpID09ICcvJykge1xuICAgICAgICBuYW1lcy5zcGxpY2UobmFtZXMubGVuZ3RoIC0gMSwgMSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcztcbn1cbmZ1bmN0aW9uIHF1ZXJ5S2V5KHVyaSwgcXVlcnkpIHtcbiAgICBjb25zdCBkYXRhID0ge307XG4gICAgcXVlcnkucmVwbGFjZSgvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2csIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgICAgIGlmICgkMSkge1xuICAgICAgICAgICAgZGF0YVskMV0gPSAkMjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYXRhO1xufVxuIiwiaW1wb3J0IHsgdHJhbnNwb3J0cyBhcyBERUZBVUxUX1RSQU5TUE9SVFMgfSBmcm9tIFwiLi90cmFuc3BvcnRzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIGJ5dGVMZW5ndGggfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwiLi9jb250cmliL3BhcnNlcXMuanNcIjtcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vY29udHJpYi9wYXJzZXVyaS5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5pbXBvcnQgeyBwcm90b2NvbCB9IGZyb20gXCJlbmdpbmUuaW8tcGFyc2VyXCI7XG5pbXBvcnQgeyBjcmVhdGVDb29raWVKYXIsIGRlZmF1bHRCaW5hcnlUeXBlLCBuZXh0VGljaywgfSBmcm9tIFwiLi9nbG9iYWxzLm5vZGUuanNcIjtcbmNvbnN0IHdpdGhFdmVudExpc3RlbmVycyA9IHR5cGVvZiBhZGRFdmVudExpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICB0eXBlb2YgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgT0ZGTElORV9FVkVOVF9MSVNURU5FUlMgPSBbXTtcbmlmICh3aXRoRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAvLyB3aXRoaW4gYSBTZXJ2aWNlV29ya2VyLCBhbnkgZXZlbnQgaGFuZGxlciBmb3IgdGhlICdvZmZsaW5lJyBldmVudCBtdXN0IGJlIGFkZGVkIG9uIHRoZSBpbml0aWFsIGV2YWx1YXRpb24gb2YgdGhlXG4gICAgLy8gc2NyaXB0LCBzbyB3ZSBjcmVhdGUgb25lIHNpbmdsZSBldmVudCBsaXN0ZW5lciBoZXJlIHdoaWNoIHdpbGwgZm9yd2FyZCB0aGUgZXZlbnQgdG8gdGhlIHNvY2tldCBpbnN0YW5jZXNcbiAgICBhZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCAoKSA9PiB7XG4gICAgICAgIE9GRkxJTkVfRVZFTlRfTElTVEVORVJTLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcigpKTtcbiAgICB9LCBmYWxzZSk7XG59XG4vKipcbiAqIFRoaXMgY2xhc3MgcHJvdmlkZXMgYSBXZWJTb2NrZXQtbGlrZSBpbnRlcmZhY2UgdG8gY29ubmVjdCB0byBhbiBFbmdpbmUuSU8gc2VydmVyLiBUaGUgY29ubmVjdGlvbiB3aWxsIGJlIGVzdGFibGlzaGVkXG4gKiB3aXRoIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGxvdy1sZXZlbCB0cmFuc3BvcnRzLCBsaWtlIEhUVFAgbG9uZy1wb2xsaW5nLCBXZWJTb2NrZXQgb3IgV2ViVHJhbnNwb3J0LlxuICpcbiAqIFRoaXMgY2xhc3MgY29tZXMgd2l0aG91dCB1cGdyYWRlIG1lY2hhbmlzbSwgd2hpY2ggbWVhbnMgdGhhdCBpdCB3aWxsIGtlZXAgdGhlIGZpcnN0IGxvdy1sZXZlbCB0cmFuc3BvcnQgdGhhdFxuICogc3VjY2Vzc2Z1bGx5IGVzdGFibGlzaGVzIHRoZSBjb25uZWN0aW9uLlxuICpcbiAqIEluIG9yZGVyIHRvIGFsbG93IHRyZWUtc2hha2luZywgdGhlcmUgYXJlIG5vIHRyYW5zcG9ydHMgaW5jbHVkZWQsIHRoYXQncyB3aHkgdGhlIGB0cmFuc3BvcnRzYCBvcHRpb24gaXMgbWFuZGF0b3J5LlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBTb2NrZXRXaXRob3V0VXBncmFkZSwgV2ViU29ja2V0IH0gZnJvbSBcImVuZ2luZS5pby1jbGllbnRcIjtcbiAqXG4gKiBjb25zdCBzb2NrZXQgPSBuZXcgU29ja2V0V2l0aG91dFVwZ3JhZGUoe1xuICogICB0cmFuc3BvcnRzOiBbV2ViU29ja2V0XVxuICogfSk7XG4gKlxuICogc29ja2V0Lm9uKFwib3BlblwiLCAoKSA9PiB7XG4gKiAgIHNvY2tldC5zZW5kKFwiaGVsbG9cIik7XG4gKiB9KTtcbiAqXG4gKiBAc2VlIFNvY2tldFdpdGhVcGdyYWRlXG4gKiBAc2VlIFNvY2tldFxuICovXG5leHBvcnQgY2xhc3MgU29ja2V0V2l0aG91dFVwZ3JhZGUgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBTb2NrZXQgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IHVyaSAtIHVyaSBvciBvcHRpb25zXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdHMgLSBvcHRpb25zXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodXJpLCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYmluYXJ5VHlwZSA9IGRlZmF1bHRCaW5hcnlUeXBlO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuX3ByZXZCdWZmZXJMZW4gPSAwO1xuICAgICAgICB0aGlzLl9waW5nSW50ZXJ2YWwgPSAtMTtcbiAgICAgICAgdGhpcy5fcGluZ1RpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5fbWF4UGF5bG9hZCA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4cGlyYXRpb24gdGltZXN0YW1wIG9mIHRoZSB7QGxpbmsgX3BpbmdUaW1lb3V0VGltZXJ9IG9iamVjdCBpcyB0cmFja2VkLCBpbiBjYXNlIHRoZSB0aW1lciBpcyB0aHJvdHRsZWQgYW5kIHRoZVxuICAgICAgICAgKiBjYWxsYmFjayBpcyBub3QgZmlyZWQgb24gdGltZS4gVGhpcyBjYW4gaGFwcGVuIGZvciBleGFtcGxlIHdoZW4gYSBsYXB0b3AgaXMgc3VzcGVuZGVkIG9yIHdoZW4gYSBwaG9uZSBpcyBsb2NrZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9waW5nVGltZW91dFRpbWUgPSBJbmZpbml0eTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJpKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRVcmkgPSBwYXJzZSh1cmkpO1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHBhcnNlZFVyaS5ob3N0O1xuICAgICAgICAgICAgb3B0cy5zZWN1cmUgPVxuICAgICAgICAgICAgICAgIHBhcnNlZFVyaS5wcm90b2NvbCA9PT0gXCJodHRwc1wiIHx8IHBhcnNlZFVyaS5wcm90b2NvbCA9PT0gXCJ3c3NcIjtcbiAgICAgICAgICAgIG9wdHMucG9ydCA9IHBhcnNlZFVyaS5wb3J0O1xuICAgICAgICAgICAgaWYgKHBhcnNlZFVyaS5xdWVyeSlcbiAgICAgICAgICAgICAgICBvcHRzLnF1ZXJ5ID0gcGFyc2VkVXJpLnF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdHMuaG9zdCkge1xuICAgICAgICAgICAgb3B0cy5ob3N0bmFtZSA9IHBhcnNlKG9wdHMuaG9zdCkuaG9zdDtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YWxsVGltZXJGdW5jdGlvbnModGhpcywgb3B0cyk7XG4gICAgICAgIHRoaXMuc2VjdXJlID1cbiAgICAgICAgICAgIG51bGwgIT0gb3B0cy5zZWN1cmVcbiAgICAgICAgICAgICAgICA/IG9wdHMuc2VjdXJlXG4gICAgICAgICAgICAgICAgOiB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgXCJodHRwczpcIiA9PT0gbG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAgIGlmIChvcHRzLmhvc3RuYW1lICYmICFvcHRzLnBvcnQpIHtcbiAgICAgICAgICAgIC8vIGlmIG5vIHBvcnQgaXMgc3BlY2lmaWVkIG1hbnVhbGx5LCB1c2UgdGhlIHByb3RvY29sIGRlZmF1bHRcbiAgICAgICAgICAgIG9wdHMucG9ydCA9IHRoaXMuc2VjdXJlID8gXCI0NDNcIiA6IFwiODBcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhvc3RuYW1lID1cbiAgICAgICAgICAgIG9wdHMuaG9zdG5hbWUgfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mIGxvY2F0aW9uICE9PSBcInVuZGVmaW5lZFwiID8gbG9jYXRpb24uaG9zdG5hbWUgOiBcImxvY2FsaG9zdFwiKTtcbiAgICAgICAgdGhpcy5wb3J0ID1cbiAgICAgICAgICAgIG9wdHMucG9ydCB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb24ucG9ydFxuICAgICAgICAgICAgICAgICAgICA/IGxvY2F0aW9uLnBvcnRcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLnNlY3VyZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjQ0M1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiODBcIik7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0cyA9IFtdO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnRzQnlOYW1lID0ge307XG4gICAgICAgIG9wdHMudHJhbnNwb3J0cy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnROYW1lID0gdC5wcm90b3R5cGUubmFtZTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0cy5wdXNoKHRyYW5zcG9ydE5hbWUpO1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0c0J5TmFtZVt0cmFuc3BvcnROYW1lXSA9IHQ7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHBhdGg6IFwiL2VuZ2luZS5pb1wiLFxuICAgICAgICAgICAgYWdlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcbiAgICAgICAgICAgIHVwZ3JhZGU6IHRydWUsXG4gICAgICAgICAgICB0aW1lc3RhbXBQYXJhbTogXCJ0XCIsXG4gICAgICAgICAgICByZW1lbWJlclVwZ3JhZGU6IGZhbHNlLFxuICAgICAgICAgICAgYWRkVHJhaWxpbmdTbGFzaDogdHJ1ZSxcbiAgICAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgICAgICAgIHBlck1lc3NhZ2VEZWZsYXRlOiB7XG4gICAgICAgICAgICAgICAgdGhyZXNob2xkOiAxMDI0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHt9LFxuICAgICAgICAgICAgY2xvc2VPbkJlZm9yZXVubG9hZDogZmFsc2UsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgICAgICB0aGlzLm9wdHMucGF0aCA9XG4gICAgICAgICAgICB0aGlzLm9wdHMucGF0aC5yZXBsYWNlKC9cXC8kLywgXCJcIikgK1xuICAgICAgICAgICAgICAgICh0aGlzLm9wdHMuYWRkVHJhaWxpbmdTbGFzaCA/IFwiL1wiIDogXCJcIik7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLnF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMucXVlcnkgPSBkZWNvZGUodGhpcy5vcHRzLnF1ZXJ5KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2l0aEV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsb3NlT25CZWZvcmV1bmxvYWQpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94IGNsb3NlcyB0aGUgY29ubmVjdGlvbiB3aGVuIHRoZSBcImJlZm9yZXVubG9hZFwiIGV2ZW50IGlzIGVtaXR0ZWQgYnV0IG5vdCBDaHJvbWUuIFRoaXMgZXZlbnQgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmVzIGV2ZXJ5IGJyb3dzZXIgYmVoYXZlcyB0aGUgc2FtZSAobm8gXCJkaXNjb25uZWN0XCIgZXZlbnQgYXQgdGhlIFNvY2tldC5JTyBsZXZlbCB3aGVuIHRoZSBwYWdlIGlzXG4gICAgICAgICAgICAgICAgLy8gY2xvc2VkL3JlbG9hZGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2lsZW50bHkgY2xvc2UgdGhlIHRyYW5zcG9ydFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmhvc3RuYW1lICE9PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb2ZmbGluZUV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwibmV0d29yayBjb25uZWN0aW9uIGxvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUy5wdXNoKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRzLndpdGhDcmVkZW50aWFscykge1xuICAgICAgICAgICAgdGhpcy5fY29va2llSmFyID0gY3JlYXRlQ29va2llSmFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3BlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRyYW5zcG9ydCBvZiB0aGUgZ2l2ZW4gdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdHJhbnNwb3J0IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtUcmFuc3BvcnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjcmVhdGVUcmFuc3BvcnQobmFtZSkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0cy5xdWVyeSk7XG4gICAgICAgIC8vIGFwcGVuZCBlbmdpbmUuaW8gcHJvdG9jb2wgaWRlbnRpZmllclxuICAgICAgICBxdWVyeS5FSU8gPSBwcm90b2NvbDtcbiAgICAgICAgLy8gdHJhbnNwb3J0IG5hbWVcbiAgICAgICAgcXVlcnkudHJhbnNwb3J0ID0gbmFtZTtcbiAgICAgICAgLy8gc2Vzc2lvbiBpZCBpZiB3ZSBhbHJlYWR5IGhhdmUgb25lXG4gICAgICAgIGlmICh0aGlzLmlkKVxuICAgICAgICAgICAgcXVlcnkuc2lkID0gdGhpcy5pZDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0cywge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICBzb2NrZXQ6IHRoaXMsXG4gICAgICAgICAgICBob3N0bmFtZTogdGhpcy5ob3N0bmFtZSxcbiAgICAgICAgICAgIHNlY3VyZTogdGhpcy5zZWN1cmUsXG4gICAgICAgICAgICBwb3J0OiB0aGlzLnBvcnQsXG4gICAgICAgIH0sIHRoaXMub3B0cy50cmFuc3BvcnRPcHRpb25zW25hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLl90cmFuc3BvcnRzQnlOYW1lW25hbWVdKG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0cmFuc3BvcnQgdG8gdXNlIGFuZCBzdGFydHMgcHJvYmUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vcGVuKCkge1xuICAgICAgICBpZiAodGhpcy50cmFuc3BvcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gRW1pdCBlcnJvciBvbiBuZXh0IHRpY2sgc28gaXQgY2FuIGJlIGxpc3RlbmVkIHRvXG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHJhbnNwb3J0TmFtZSA9IHRoaXMub3B0cy5yZW1lbWJlclVwZ3JhZGUgJiZcbiAgICAgICAgICAgIFNvY2tldFdpdGhvdXRVcGdyYWRlLnByaW9yV2Vic29ja2V0U3VjY2VzcyAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRzLmluZGV4T2YoXCJ3ZWJzb2NrZXRcIikgIT09IC0xXG4gICAgICAgICAgICA/IFwid2Vic29ja2V0XCJcbiAgICAgICAgICAgIDogdGhpcy50cmFuc3BvcnRzWzBdO1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcIm9wZW5pbmdcIjtcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0ID0gdGhpcy5jcmVhdGVUcmFuc3BvcnQodHJhbnNwb3J0TmFtZSk7XG4gICAgICAgIHRyYW5zcG9ydC5vcGVuKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNwb3J0KHRyYW5zcG9ydCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnJlbnQgdHJhbnNwb3J0LiBEaXNhYmxlcyB0aGUgZXhpc3Rpbmcgb25lIChpZiBhbnkpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBzZXRUcmFuc3BvcnQodHJhbnNwb3J0KSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2V0IHVwIHRyYW5zcG9ydFxuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICAgICAgLy8gc2V0IHVwIHRyYW5zcG9ydCBsaXN0ZW5lcnNcbiAgICAgICAgdHJhbnNwb3J0XG4gICAgICAgICAgICAub24oXCJkcmFpblwiLCB0aGlzLl9vbkRyYWluLmJpbmQodGhpcykpXG4gICAgICAgICAgICAub24oXCJwYWNrZXRcIiwgdGhpcy5fb25QYWNrZXQuYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5vbihcImVycm9yXCIsIHRoaXMuX29uRXJyb3IuYmluZCh0aGlzKSlcbiAgICAgICAgICAgIC5vbihcImNsb3NlXCIsIChyZWFzb24pID0+IHRoaXMuX29uQ2xvc2UoXCJ0cmFuc3BvcnQgY2xvc2VcIiwgcmVhc29uKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGNvbm5lY3Rpb24gaXMgZGVlbWVkIG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uT3BlbigpIHtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIFNvY2tldFdpdGhvdXRVcGdyYWRlLnByaW9yV2Vic29ja2V0U3VjY2VzcyA9XG4gICAgICAgICAgICBcIndlYnNvY2tldFwiID09PSB0aGlzLnRyYW5zcG9ydC5uYW1lO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcIm9wZW5cIik7XG4gICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uUGFja2V0KHBhY2tldCkge1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJvcGVuXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fFxuICAgICAgICAgICAgXCJjbG9zaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgIC8vIFNvY2tldCBpcyBsaXZlIC0gYW55IHBhY2tldCBjb3VudHNcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGVhcnRiZWF0XCIpO1xuICAgICAgICAgICAgc3dpdGNoIChwYWNrZXQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25IYW5kc2hha2UoSlNPTi5wYXJzZShwYWNrZXQuZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZW5kUGFja2V0KFwicG9uZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInBvbmdcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcInNlcnZlciBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBlcnIuY29kZSA9IHBhY2tldC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZGF0YVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwibWVzc2FnZVwiLCBwYWNrZXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGhhbmRzaGFrZSBjb21wbGV0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBoYW5kc2hha2Ugb2JqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbkhhbmRzaGFrZShkYXRhKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiaGFuZHNoYWtlXCIsIGRhdGEpO1xuICAgICAgICB0aGlzLmlkID0gZGF0YS5zaWQ7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0LnF1ZXJ5LnNpZCA9IGRhdGEuc2lkO1xuICAgICAgICB0aGlzLl9waW5nSW50ZXJ2YWwgPSBkYXRhLnBpbmdJbnRlcnZhbDtcbiAgICAgICAgdGhpcy5fcGluZ1RpbWVvdXQgPSBkYXRhLnBpbmdUaW1lb3V0O1xuICAgICAgICB0aGlzLl9tYXhQYXlsb2FkID0gZGF0YS5tYXhQYXlsb2FkO1xuICAgICAgICB0aGlzLm9uT3BlbigpO1xuICAgICAgICAvLyBJbiBjYXNlIG9wZW4gaGFuZGxlciBjbG9zZXMgc29ja2V0XG4gICAgICAgIGlmIChcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuX3Jlc2V0UGluZ1RpbWVvdXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBhbmQgcmVzZXRzIHBpbmcgdGltZW91dCB0aW1lciBiYXNlZCBvbiBzZXJ2ZXIgcGluZ3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXNldFBpbmdUaW1lb3V0KCkge1xuICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRoaXMuX3BpbmdUaW1lb3V0VGltZXIpO1xuICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuX3BpbmdJbnRlcnZhbCArIHRoaXMuX3BpbmdUaW1lb3V0O1xuICAgICAgICB0aGlzLl9waW5nVGltZW91dFRpbWUgPSBEYXRlLm5vdygpICsgZGVsYXk7XG4gICAgICAgIHRoaXMuX3BpbmdUaW1lb3V0VGltZXIgPSB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpO1xuICAgICAgICB9LCBkZWxheSk7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICB0aGlzLl9waW5nVGltZW91dFRpbWVyLnVucmVmKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uIGBkcmFpbmAgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uRHJhaW4oKSB7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIuc3BsaWNlKDAsIHRoaXMuX3ByZXZCdWZmZXJMZW4pO1xuICAgICAgICAvLyBzZXR0aW5nIHByZXZCdWZmZXJMZW4gPSAwIGlzIHZlcnkgaW1wb3J0YW50XG4gICAgICAgIC8vIGZvciBleGFtcGxlLCB3aGVuIHVwZ3JhZGluZywgdXBncmFkZSBwYWNrZXQgaXMgc2VudCBvdmVyLFxuICAgICAgICAvLyBhbmQgYSBub256ZXJvIHByZXZCdWZmZXJMZW4gY291bGQgY2F1c2UgcHJvYmxlbXMgb24gYGRyYWluYFxuICAgICAgICB0aGlzLl9wcmV2QnVmZmVyTGVuID0gMDtcbiAgICAgICAgaWYgKDAgPT09IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImRyYWluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZsdXNoIHdyaXRlIGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZsdXNoKCkge1xuICAgICAgICBpZiAoXCJjbG9zZWRcIiAhPT0gdGhpcy5yZWFkeVN0YXRlICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC53cml0YWJsZSAmJlxuICAgICAgICAgICAgIXRoaXMudXBncmFkaW5nICYmXG4gICAgICAgICAgICB0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcGFja2V0cyA9IHRoaXMuX2dldFdyaXRhYmxlUGFja2V0cygpO1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuc2VuZChwYWNrZXRzKTtcbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgY3VycmVudCBsZW5ndGggb2Ygd3JpdGVCdWZmZXJcbiAgICAgICAgICAgIC8vIHNwbGljZSB3cml0ZUJ1ZmZlciBhbmQgY2FsbGJhY2tCdWZmZXIgb24gYGRyYWluYFxuICAgICAgICAgICAgdGhpcy5fcHJldkJ1ZmZlckxlbiA9IHBhY2tldHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJmbHVzaFwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmUgdGhlIGVuY29kZWQgc2l6ZSBvZiB0aGUgd3JpdGVCdWZmZXIgaXMgYmVsb3cgdGhlIG1heFBheWxvYWQgdmFsdWUgc2VudCBieSB0aGUgc2VydmVyIChvbmx5IGZvciBIVFRQXG4gICAgICogbG9uZy1wb2xsaW5nKVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0V3JpdGFibGVQYWNrZXRzKCkge1xuICAgICAgICBjb25zdCBzaG91bGRDaGVja1BheWxvYWRTaXplID0gdGhpcy5fbWF4UGF5bG9hZCAmJlxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQubmFtZSA9PT0gXCJwb2xsaW5nXCIgJiZcbiAgICAgICAgICAgIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoID4gMTtcbiAgICAgICAgaWYgKCFzaG91bGRDaGVja1BheWxvYWRTaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcGF5bG9hZFNpemUgPSAxOyAvLyBmaXJzdCBwYWNrZXQgdHlwZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLndyaXRlQnVmZmVyW2ldLmRhdGE7XG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHBheWxvYWRTaXplICs9IGJ5dGVMZW5ndGgoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA+IDAgJiYgcGF5bG9hZFNpemUgPiB0aGlzLl9tYXhQYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud3JpdGVCdWZmZXIuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXlsb2FkU2l6ZSArPSAyOyAvLyBzZXBhcmF0b3IgKyBwYWNrZXQgdHlwZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndyaXRlQnVmZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgaGVhcnRiZWF0IHRpbWVyIGhhcyBleHBpcmVkIGJ1dCB0aGUgc29ja2V0IGhhcyBub3QgeWV0IGJlZW4gbm90aWZpZWQuXG4gICAgICpcbiAgICAgKiBOb3RlOiB0aGlzIG1ldGhvZCBpcyBwcml2YXRlIGZvciBub3cgYmVjYXVzZSBpdCBkb2VzIG5vdCByZWFsbHkgZml0IHRoZSBXZWJTb2NrZXQgQVBJLCBidXQgaWYgd2UgcHV0IGl0IGluIHRoZVxuICAgICAqIGB3cml0ZSgpYCBtZXRob2QgdGhlbiB0aGUgbWVzc2FnZSB3b3VsZCBub3QgYmUgYnVmZmVyZWQgYnkgdGhlIFNvY2tldC5JTyBjbGllbnQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgLyogcHJpdmF0ZSAqLyBfaGFzUGluZ0V4cGlyZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGluZ1RpbWVvdXRUaW1lKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IGhhc0V4cGlyZWQgPSBEYXRlLm5vdygpID4gdGhpcy5fcGluZ1RpbWVvdXRUaW1lO1xuICAgICAgICBpZiAoaGFzRXhwaXJlZCkge1xuICAgICAgICAgICAgdGhpcy5fcGluZ1RpbWVvdXRUaW1lID0gMDtcbiAgICAgICAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkNsb3NlKFwicGluZyB0aW1lb3V0XCIpO1xuICAgICAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNFeHBpcmVkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbXNnIC0gbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm4ge1NvY2tldH0gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHdyaXRlKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIG1lc3NhZ2UuIEFsaWFzIG9mIHtAbGluayBTb2NrZXQjd3JpdGV9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTb2NrZXR9IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzZW5kKG1zZywgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgdGhpcy5fc2VuZFBhY2tldChcIm1lc3NhZ2VcIiwgbXNnLCBvcHRpb25zLCBmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlOiBwYWNrZXQgdHlwZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlbmRQYWNrZXQodHlwZSwgZGF0YSwgb3B0aW9ucywgZm4pIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGRhdGEpIHtcbiAgICAgICAgICAgIGZuID0gZGF0YTtcbiAgICAgICAgICAgIGRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGZuID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImNsb3NpbmdcIiA9PT0gdGhpcy5yZWFkeVN0YXRlIHx8IFwiY2xvc2VkXCIgPT09IHRoaXMucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICBvcHRpb25zLmNvbXByZXNzID0gZmFsc2UgIT09IG9wdGlvbnMuY29tcHJlc3M7XG4gICAgICAgIGNvbnN0IHBhY2tldCA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRDcmVhdGVcIiwgcGFja2V0KTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlci5wdXNoKHBhY2tldCk7XG4gICAgICAgIGlmIChmbilcbiAgICAgICAgICAgIHRoaXMub25jZShcImZsdXNoXCIsIGZuKTtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIGNvbm5lY3Rpb24uXG4gICAgICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IGNsb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25DbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNsZWFudXBBbmRDbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkZVwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJ1cGdyYWRlRXJyb3JcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIGNsb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdhaXRGb3JVcGdyYWRlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgdXBncmFkZSB0byBmaW5pc2ggc2luY2Ugd2UgY2FuJ3Qgc2VuZCBwYWNrZXRzIHdoaWxlIHBhdXNpbmcgYSB0cmFuc3BvcnRcbiAgICAgICAgICAgIHRoaXMub25jZShcInVwZ3JhZGVcIiwgY2xlYW51cEFuZENsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub25jZShcInVwZ3JhZGVFcnJvclwiLCBjbGVhbnVwQW5kQ2xvc2UpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJvcGVuaW5nXCIgPT09IHRoaXMucmVhZHlTdGF0ZSB8fCBcIm9wZW5cIiA9PT0gdGhpcy5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NpbmdcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLndyaXRlQnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25jZShcImRyYWluXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudXBncmFkaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy51cGdyYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB3YWl0Rm9yVXBncmFkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IGVycm9yXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkVycm9yKGVycikge1xuICAgICAgICBTb2NrZXRXaXRob3V0VXBncmFkZS5wcmlvcldlYnNvY2tldFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy50cnlBbGxUcmFuc3BvcnRzICYmXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydHMubGVuZ3RoID4gMSAmJlxuICAgICAgICAgICAgdGhpcy5yZWFkeVN0YXRlID09PSBcIm9wZW5pbmdcIikge1xuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgdGhpcy5fb25DbG9zZShcInRyYW5zcG9ydCBlcnJvclwiLCBlcnIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiB0cmFuc3BvcnQgY2xvc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbkNsb3NlKHJlYXNvbiwgZGVzY3JpcHRpb24pIHtcbiAgICAgICAgaWYgKFwib3BlbmluZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUgfHxcbiAgICAgICAgICAgIFwiY2xvc2luZ1wiID09PSB0aGlzLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIHRpbWVyc1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRGbih0aGlzLl9waW5nVGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgIC8vIHN0b3AgZXZlbnQgZnJvbSBmaXJpbmcgYWdhaW4gZm9yIHRyYW5zcG9ydFxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQucmVtb3ZlQWxsTGlzdGVuZXJzKFwiY2xvc2VcIik7XG4gICAgICAgICAgICAvLyBlbnN1cmUgdHJhbnNwb3J0IHdvbid0IHN0YXkgb3BlblxuICAgICAgICAgICAgdGhpcy50cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIC8vIGlnbm9yZSBmdXJ0aGVyIHRyYW5zcG9ydCBjb21tdW5pY2F0aW9uXG4gICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIGlmICh3aXRoRXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYmVmb3JldW5sb2FkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIHRoaXMuX2JlZm9yZXVubG9hZEV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUy5pbmRleE9mKHRoaXMuX29mZmxpbmVFdmVudExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBPRkZMSU5FX0VWRU5UX0xJU1RFTkVSUy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXQgcmVhZHkgc3RhdGVcbiAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgICAgICAvLyBjbGVhciBzZXNzaW9uIGlkXG4gICAgICAgICAgICB0aGlzLmlkID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVtaXQgY2xvc2UgZXZlbnRcbiAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiY2xvc2VcIiwgcmVhc29uLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAvLyBjbGVhbiBidWZmZXJzIGFmdGVyLCBzbyB1c2VycyBjYW4gc3RpbGxcbiAgICAgICAgICAgIC8vIGdyYWIgdGhlIGJ1ZmZlcnMgb24gYGNsb3NlYCBldmVudFxuICAgICAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fcHJldkJ1ZmZlckxlbiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG59XG5Tb2NrZXRXaXRob3V0VXBncmFkZS5wcm90b2NvbCA9IHByb3RvY29sO1xuLyoqXG4gKiBUaGlzIGNsYXNzIHByb3ZpZGVzIGEgV2ViU29ja2V0LWxpa2UgaW50ZXJmYWNlIHRvIGNvbm5lY3QgdG8gYW4gRW5naW5lLklPIHNlcnZlci4gVGhlIGNvbm5lY3Rpb24gd2lsbCBiZSBlc3RhYmxpc2hlZFxuICogd2l0aCBvbmUgb2YgdGhlIGF2YWlsYWJsZSBsb3ctbGV2ZWwgdHJhbnNwb3J0cywgbGlrZSBIVFRQIGxvbmctcG9sbGluZywgV2ViU29ja2V0IG9yIFdlYlRyYW5zcG9ydC5cbiAqXG4gKiBUaGlzIGNsYXNzIGNvbWVzIHdpdGggYW4gdXBncmFkZSBtZWNoYW5pc20sIHdoaWNoIG1lYW5zIHRoYXQgb25jZSB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCB3aXRoIHRoZSBmaXJzdFxuICogbG93LWxldmVsIHRyYW5zcG9ydCwgaXQgd2lsbCB0cnkgdG8gdXBncmFkZSB0byBhIGJldHRlciB0cmFuc3BvcnQuXG4gKlxuICogSW4gb3JkZXIgdG8gYWxsb3cgdHJlZS1zaGFraW5nLCB0aGVyZSBhcmUgbm8gdHJhbnNwb3J0cyBpbmNsdWRlZCwgdGhhdCdzIHdoeSB0aGUgYHRyYW5zcG9ydHNgIG9wdGlvbiBpcyBtYW5kYXRvcnkuXG4gKlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7IFNvY2tldFdpdGhVcGdyYWRlLCBXZWJTb2NrZXQgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuICpcbiAqIGNvbnN0IHNvY2tldCA9IG5ldyBTb2NrZXRXaXRoVXBncmFkZSh7XG4gKiAgIHRyYW5zcG9ydHM6IFtXZWJTb2NrZXRdXG4gKiB9KTtcbiAqXG4gKiBzb2NrZXQub24oXCJvcGVuXCIsICgpID0+IHtcbiAqICAgc29ja2V0LnNlbmQoXCJoZWxsb1wiKTtcbiAqIH0pO1xuICpcbiAqIEBzZWUgU29ja2V0V2l0aG91dFVwZ3JhZGVcbiAqIEBzZWUgU29ja2V0XG4gKi9cbmV4cG9ydCBjbGFzcyBTb2NrZXRXaXRoVXBncmFkZSBleHRlbmRzIFNvY2tldFdpdGhvdXRVcGdyYWRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fdXBncmFkZXMgPSBbXTtcbiAgICB9XG4gICAgb25PcGVuKCkge1xuICAgICAgICBzdXBlci5vbk9wZW4oKTtcbiAgICAgICAgaWYgKFwib3BlblwiID09PSB0aGlzLnJlYWR5U3RhdGUgJiYgdGhpcy5vcHRzLnVwZ3JhZGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdXBncmFkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9iZSh0aGlzLl91cGdyYWRlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvYmVzIGEgdHJhbnNwb3J0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0cmFuc3BvcnQgbmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Byb2JlKG5hbWUpIHtcbiAgICAgICAgbGV0IHRyYW5zcG9ydCA9IHRoaXMuY3JlYXRlVHJhbnNwb3J0KG5hbWUpO1xuICAgICAgICBsZXQgZmFpbGVkID0gZmFsc2U7XG4gICAgICAgIFNvY2tldFdpdGhvdXRVcGdyYWRlLnByaW9yV2Vic29ja2V0U3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBvblRyYW5zcG9ydE9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5zZW5kKFt7IHR5cGU6IFwicGluZ1wiLCBkYXRhOiBcInByb2JlXCIgfV0pO1xuICAgICAgICAgICAgdHJhbnNwb3J0Lm9uY2UoXCJwYWNrZXRcIiwgKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmYWlsZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAoXCJwb25nXCIgPT09IG1zZy50eXBlICYmIFwicHJvYmVcIiA9PT0gbXNnLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGdyYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGluZ1wiLCB0cmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyYW5zcG9ydClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgU29ja2V0V2l0aG91dFVwZ3JhZGUucHJpb3JXZWJzb2NrZXRTdWNjZXNzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwid2Vic29ja2V0XCIgPT09IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydC5wYXVzZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcImNsb3NlZFwiID09PSB0aGlzLnJlYWR5U3RhdGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUcmFuc3BvcnQodHJhbnNwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5zZW5kKFt7IHR5cGU6IFwidXBncmFkZVwiIH1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwidXBncmFkZVwiLCB0cmFuc3BvcnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBncmFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKFwicHJvYmUgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgZXJyLnRyYW5zcG9ydCA9IHRyYW5zcG9ydC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInVwZ3JhZGVFcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBmcmVlemVUcmFuc3BvcnQoKSB7XG4gICAgICAgICAgICBpZiAoZmFpbGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIEFueSBjYWxsYmFjayBjYWxsZWQgYnkgdHJhbnNwb3J0IHNob3VsZCBiZSBpZ25vcmVkIHNpbmNlIG5vd1xuICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5jbG9zZSgpO1xuICAgICAgICAgICAgdHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYW55IGVycm9yIHRoYXQgaGFwcGVucyB3aGlsZSBwcm9iaW5nXG4gICAgICAgIGNvbnN0IG9uZXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcInByb2JlIGVycm9yOiBcIiArIGVycik7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBlcnJvci50cmFuc3BvcnQgPSB0cmFuc3BvcnQubmFtZTtcbiAgICAgICAgICAgIGZyZWV6ZVRyYW5zcG9ydCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJ1cGdyYWRlRXJyb3JcIiwgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBvblRyYW5zcG9ydENsb3NlKCkge1xuICAgICAgICAgICAgb25lcnJvcihcInRyYW5zcG9ydCBjbG9zZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2hlbiB0aGUgc29ja2V0IGlzIGNsb3NlZCB3aGlsZSB3ZSdyZSBwcm9iaW5nXG4gICAgICAgIGZ1bmN0aW9uIG9uY2xvc2UoKSB7XG4gICAgICAgICAgICBvbmVycm9yKFwic29ja2V0IGNsb3NlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXaGVuIHRoZSBzb2NrZXQgaXMgdXBncmFkZWQgd2hpbGUgd2UncmUgcHJvYmluZ1xuICAgICAgICBmdW5jdGlvbiBvbnVwZ3JhZGUodG8pIHtcbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnQgJiYgdG8ubmFtZSAhPT0gdHJhbnNwb3J0Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICBmcmVlemVUcmFuc3BvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycyBvbiB0aGUgdHJhbnNwb3J0IGFuZCBvbiBzZWxmXG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJvcGVuXCIsIG9uVHJhbnNwb3J0T3Blbik7XG4gICAgICAgICAgICB0cmFuc3BvcnQucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBvbmVycm9yKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuICAgICAgICAgICAgdGhpcy5vZmYoXCJjbG9zZVwiLCBvbmNsb3NlKTtcbiAgICAgICAgICAgIHRoaXMub2ZmKFwidXBncmFkaW5nXCIsIG9udXBncmFkZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyYW5zcG9ydC5vbmNlKFwib3BlblwiLCBvblRyYW5zcG9ydE9wZW4pO1xuICAgICAgICB0cmFuc3BvcnQub25jZShcImVycm9yXCIsIG9uZXJyb3IpO1xuICAgICAgICB0cmFuc3BvcnQub25jZShcImNsb3NlXCIsIG9uVHJhbnNwb3J0Q2xvc2UpO1xuICAgICAgICB0aGlzLm9uY2UoXCJjbG9zZVwiLCBvbmNsb3NlKTtcbiAgICAgICAgdGhpcy5vbmNlKFwidXBncmFkaW5nXCIsIG9udXBncmFkZSk7XG4gICAgICAgIGlmICh0aGlzLl91cGdyYWRlcy5pbmRleE9mKFwid2VidHJhbnNwb3J0XCIpICE9PSAtMSAmJlxuICAgICAgICAgICAgbmFtZSAhPT0gXCJ3ZWJ0cmFuc3BvcnRcIikge1xuICAgICAgICAgICAgLy8gZmF2b3IgV2ViVHJhbnNwb3J0XG4gICAgICAgICAgICB0aGlzLnNldFRpbWVvdXRGbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFmYWlsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdHJhbnNwb3J0Lm9wZW4oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkhhbmRzaGFrZShkYXRhKSB7XG4gICAgICAgIHRoaXMuX3VwZ3JhZGVzID0gdGhpcy5fZmlsdGVyVXBncmFkZXMoZGF0YS51cGdyYWRlcyk7XG4gICAgICAgIHN1cGVyLm9uSGFuZHNoYWtlKGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaWx0ZXJzIHVwZ3JhZGVzLCByZXR1cm5pbmcgb25seSB0aG9zZSBtYXRjaGluZyBjbGllbnQgdHJhbnNwb3J0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHVwZ3JhZGVzIC0gc2VydmVyIHVwZ3JhZGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmlsdGVyVXBncmFkZXModXBncmFkZXMpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRVcGdyYWRlcyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVwZ3JhZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAofnRoaXMudHJhbnNwb3J0cy5pbmRleE9mKHVwZ3JhZGVzW2ldKSlcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFVwZ3JhZGVzLnB1c2godXBncmFkZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFVwZ3JhZGVzO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBjbGFzcyBwcm92aWRlcyBhIFdlYlNvY2tldC1saWtlIGludGVyZmFjZSB0byBjb25uZWN0IHRvIGFuIEVuZ2luZS5JTyBzZXJ2ZXIuIFRoZSBjb25uZWN0aW9uIHdpbGwgYmUgZXN0YWJsaXNoZWRcbiAqIHdpdGggb25lIG9mIHRoZSBhdmFpbGFibGUgbG93LWxldmVsIHRyYW5zcG9ydHMsIGxpa2UgSFRUUCBsb25nLXBvbGxpbmcsIFdlYlNvY2tldCBvciBXZWJUcmFuc3BvcnQuXG4gKlxuICogVGhpcyBjbGFzcyBjb21lcyB3aXRoIGFuIHVwZ3JhZGUgbWVjaGFuaXNtLCB3aGljaCBtZWFucyB0aGF0IG9uY2UgdGhlIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgd2l0aCB0aGUgZmlyc3RcbiAqIGxvdy1sZXZlbCB0cmFuc3BvcnQsIGl0IHdpbGwgdHJ5IHRvIHVwZ3JhZGUgdG8gYSBiZXR0ZXIgdHJhbnNwb3J0LlxuICpcbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuICpcbiAqIGNvbnN0IHNvY2tldCA9IG5ldyBTb2NrZXQoKTtcbiAqXG4gKiBzb2NrZXQub24oXCJvcGVuXCIsICgpID0+IHtcbiAqICAgc29ja2V0LnNlbmQoXCJoZWxsb1wiKTtcbiAqIH0pO1xuICpcbiAqIEBzZWUgU29ja2V0V2l0aG91dFVwZ3JhZGVcbiAqIEBzZWUgU29ja2V0V2l0aFVwZ3JhZGVcbiAqL1xuZXhwb3J0IGNsYXNzIFNvY2tldCBleHRlbmRzIFNvY2tldFdpdGhVcGdyYWRlIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIG9wdHMgPSB7fSkge1xuICAgICAgICBjb25zdCBvID0gdHlwZW9mIHVyaSA9PT0gXCJvYmplY3RcIiA/IHVyaSA6IG9wdHM7XG4gICAgICAgIGlmICghby50cmFuc3BvcnRzIHx8XG4gICAgICAgICAgICAoby50cmFuc3BvcnRzICYmIHR5cGVvZiBvLnRyYW5zcG9ydHNbMF0gPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICBvLnRyYW5zcG9ydHMgPSAoby50cmFuc3BvcnRzIHx8IFtcInBvbGxpbmdcIiwgXCJ3ZWJzb2NrZXRcIiwgXCJ3ZWJ0cmFuc3BvcnRcIl0pXG4gICAgICAgICAgICAgICAgLm1hcCgodHJhbnNwb3J0TmFtZSkgPT4gREVGQVVMVF9UUkFOU1BPUlRTW3RyYW5zcG9ydE5hbWVdKVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoKHQpID0+ICEhdCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIodXJpLCBvKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmV4cG9ydCB7IFNvY2tldCB9O1xuZXhwb3J0IHsgU29ja2V0V2l0aG91dFVwZ3JhZGUsIFNvY2tldFdpdGhVcGdyYWRlLCB9IGZyb20gXCIuL3NvY2tldC5qc1wiO1xuZXhwb3J0IGNvbnN0IHByb3RvY29sID0gU29ja2V0LnByb3RvY29sO1xuZXhwb3J0IHsgVHJhbnNwb3J0LCBUcmFuc3BvcnRFcnJvciB9IGZyb20gXCIuL3RyYW5zcG9ydC5qc1wiO1xuZXhwb3J0IHsgdHJhbnNwb3J0cyB9IGZyb20gXCIuL3RyYW5zcG9ydHMvaW5kZXguanNcIjtcbmV4cG9ydCB7IGluc3RhbGxUaW1lckZ1bmN0aW9ucyB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCB7IHBhcnNlIH0gZnJvbSBcIi4vY29udHJpYi9wYXJzZXVyaS5qc1wiO1xuZXhwb3J0IHsgbmV4dFRpY2sgfSBmcm9tIFwiLi9nbG9iYWxzLm5vZGUuanNcIjtcbmV4cG9ydCB7IEZldGNoIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9wb2xsaW5nLWZldGNoLmpzXCI7XG5leHBvcnQgeyBYSFIgYXMgTm9kZVhIUiB9IGZyb20gXCIuL3RyYW5zcG9ydHMvcG9sbGluZy14aHIubm9kZS5qc1wiO1xuZXhwb3J0IHsgWEhSIH0gZnJvbSBcIi4vdHJhbnNwb3J0cy9wb2xsaW5nLXhoci5qc1wiO1xuZXhwb3J0IHsgV1MgYXMgTm9kZVdlYlNvY2tldCB9IGZyb20gXCIuL3RyYW5zcG9ydHMvd2Vic29ja2V0Lm5vZGUuanNcIjtcbmV4cG9ydCB7IFdTIGFzIFdlYlNvY2tldCB9IGZyb20gXCIuL3RyYW5zcG9ydHMvd2Vic29ja2V0LmpzXCI7XG5leHBvcnQgeyBXVCBhcyBXZWJUcmFuc3BvcnQgfSBmcm9tIFwiLi90cmFuc3BvcnRzL3dlYnRyYW5zcG9ydC5qc1wiO1xuIiwiaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiZW5naW5lLmlvLWNsaWVudFwiO1xuLyoqXG4gKiBVUkwgcGFyc2VyLlxuICpcbiAqIEBwYXJhbSB1cmkgLSB1cmxcbiAqIEBwYXJhbSBwYXRoIC0gdGhlIHJlcXVlc3QgcGF0aCBvZiB0aGUgY29ubmVjdGlvblxuICogQHBhcmFtIGxvYyAtIEFuIG9iamVjdCBtZWFudCB0byBtaW1pYyB3aW5kb3cubG9jYXRpb24uXG4gKiAgICAgICAgRGVmYXVsdHMgdG8gd2luZG93LmxvY2F0aW9uLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXJsKHVyaSwgcGF0aCA9IFwiXCIsIGxvYykge1xuICAgIGxldCBvYmogPSB1cmk7XG4gICAgLy8gZGVmYXVsdCB0byB3aW5kb3cubG9jYXRpb25cbiAgICBsb2MgPSBsb2MgfHwgKHR5cGVvZiBsb2NhdGlvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBsb2NhdGlvbik7XG4gICAgaWYgKG51bGwgPT0gdXJpKVxuICAgICAgICB1cmkgPSBsb2MucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2MuaG9zdDtcbiAgICAvLyByZWxhdGl2ZSBwYXRoIHN1cHBvcnRcbiAgICBpZiAodHlwZW9mIHVyaSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoXCIvXCIgPT09IHVyaS5jaGFyQXQoMCkpIHtcbiAgICAgICAgICAgIGlmIChcIi9cIiA9PT0gdXJpLmNoYXJBdCgxKSkge1xuICAgICAgICAgICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVyaSA9IGxvYy5ob3N0ICsgdXJpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghL14oaHR0cHM/fHdzcz8pOlxcL1xcLy8udGVzdCh1cmkpKSB7XG4gICAgICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGxvYykge1xuICAgICAgICAgICAgICAgIHVyaSA9IGxvYy5wcm90b2NvbCArIFwiLy9cIiArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHVyaSA9IFwiaHR0cHM6Ly9cIiArIHVyaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBwYXJzZVxuICAgICAgICBvYmogPSBwYXJzZSh1cmkpO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgd2UgdHJlYXQgYGxvY2FsaG9zdDo4MGAgYW5kIGBsb2NhbGhvc3RgIGVxdWFsbHlcbiAgICBpZiAoIW9iai5wb3J0KSB7XG4gICAgICAgIGlmICgvXihodHRwfHdzKSQvLnRlc3Qob2JqLnByb3RvY29sKSkge1xuICAgICAgICAgICAgb2JqLnBvcnQgPSBcIjgwXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoL14oaHR0cHx3cylzJC8udGVzdChvYmoucHJvdG9jb2wpKSB7XG4gICAgICAgICAgICBvYmoucG9ydCA9IFwiNDQzXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb2JqLnBhdGggPSBvYmoucGF0aCB8fCBcIi9cIjtcbiAgICBjb25zdCBpcHY2ID0gb2JqLmhvc3QuaW5kZXhPZihcIjpcIikgIT09IC0xO1xuICAgIGNvbnN0IGhvc3QgPSBpcHY2ID8gXCJbXCIgKyBvYmouaG9zdCArIFwiXVwiIDogb2JqLmhvc3Q7XG4gICAgLy8gZGVmaW5lIHVuaXF1ZSBpZFxuICAgIG9iai5pZCA9IG9iai5wcm90b2NvbCArIFwiOi8vXCIgKyBob3N0ICsgXCI6XCIgKyBvYmoucG9ydCArIHBhdGg7XG4gICAgLy8gZGVmaW5lIGhyZWZcbiAgICBvYmouaHJlZiA9XG4gICAgICAgIG9iai5wcm90b2NvbCArXG4gICAgICAgICAgICBcIjovL1wiICtcbiAgICAgICAgICAgIGhvc3QgK1xuICAgICAgICAgICAgKGxvYyAmJiBsb2MucG9ydCA9PT0gb2JqLnBvcnQgPyBcIlwiIDogXCI6XCIgKyBvYmoucG9ydCk7XG4gICAgcmV0dXJuIG9iajtcbn1cbiIsImNvbnN0IHdpdGhOYXRpdmVBcnJheUJ1ZmZlciA9IHR5cGVvZiBBcnJheUJ1ZmZlciA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgaXNWaWV3ID0gKG9iaikgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyBBcnJheUJ1ZmZlci5pc1ZpZXcob2JqKVxuICAgICAgICA6IG9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcjtcbn07XG5jb25zdCB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB3aXRoTmF0aXZlQmxvYiA9IHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChCbG9iKSA9PT0gXCJbb2JqZWN0IEJsb2JDb25zdHJ1Y3Rvcl1cIik7XG5jb25zdCB3aXRoTmF0aXZlRmlsZSA9IHR5cGVvZiBGaWxlID09PSBcImZ1bmN0aW9uXCIgfHxcbiAgICAodHlwZW9mIEZpbGUgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgdG9TdHJpbmcuY2FsbChGaWxlKSA9PT0gXCJbb2JqZWN0IEZpbGVDb25zdHJ1Y3Rvcl1cIik7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmogaXMgYSBCdWZmZXIsIGFuIEFycmF5QnVmZmVyLCBhIEJsb2Igb3IgYSBGaWxlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0JpbmFyeShvYmopIHtcbiAgICByZXR1cm4gKCh3aXRoTmF0aXZlQXJyYXlCdWZmZXIgJiYgKG9iaiBpbnN0YW5jZW9mIEFycmF5QnVmZmVyIHx8IGlzVmlldyhvYmopKSkgfHxcbiAgICAgICAgKHdpdGhOYXRpdmVCbG9iICYmIG9iaiBpbnN0YW5jZW9mIEJsb2IpIHx8XG4gICAgICAgICh3aXRoTmF0aXZlRmlsZSAmJiBvYmogaW5zdGFuY2VvZiBGaWxlKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQmluYXJ5KG9iaiwgdG9KU09OKSB7XG4gICAgaWYgKCFvYmogfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaGFzQmluYXJ5KG9ialtpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc0JpbmFyeShvYmopKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob2JqLnRvSlNPTiAmJlxuICAgICAgICB0eXBlb2Ygb2JqLnRvSlNPTiA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgIGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGhhc0JpbmFyeShvYmoudG9KU09OKCksIHRydWUpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkgJiYgaGFzQmluYXJ5KG9ialtrZXldKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgaXNCaW5hcnkgfSBmcm9tIFwiLi9pcy1iaW5hcnkuanNcIjtcbi8qKlxuICogUmVwbGFjZXMgZXZlcnkgQnVmZmVyIHwgQXJyYXlCdWZmZXIgfCBCbG9iIHwgRmlsZSBpbiBwYWNrZXQgd2l0aCBhIG51bWJlcmVkIHBsYWNlaG9sZGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQgLSBzb2NrZXQuaW8gZXZlbnQgcGFja2V0XG4gKiBAcmV0dXJuIHtPYmplY3R9IHdpdGggZGVjb25zdHJ1Y3RlZCBwYWNrZXQgYW5kIGxpc3Qgb2YgYnVmZmVyc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVjb25zdHJ1Y3RQYWNrZXQocGFja2V0KSB7XG4gICAgY29uc3QgYnVmZmVycyA9IFtdO1xuICAgIGNvbnN0IHBhY2tldERhdGEgPSBwYWNrZXQuZGF0YTtcbiAgICBjb25zdCBwYWNrID0gcGFja2V0O1xuICAgIHBhY2suZGF0YSA9IF9kZWNvbnN0cnVjdFBhY2tldChwYWNrZXREYXRhLCBidWZmZXJzKTtcbiAgICBwYWNrLmF0dGFjaG1lbnRzID0gYnVmZmVycy5sZW5ndGg7IC8vIG51bWJlciBvZiBiaW5hcnkgJ2F0dGFjaG1lbnRzJ1xuICAgIHJldHVybiB7IHBhY2tldDogcGFjaywgYnVmZmVyczogYnVmZmVycyB9O1xufVxuZnVuY3Rpb24gX2RlY29uc3RydWN0UGFja2V0KGRhdGEsIGJ1ZmZlcnMpIHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIGlmIChpc0JpbmFyeShkYXRhKSkge1xuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IHsgX3BsYWNlaG9sZGVyOiB0cnVlLCBudW06IGJ1ZmZlcnMubGVuZ3RoIH07XG4gICAgICAgIGJ1ZmZlcnMucHVzaChkYXRhKTtcbiAgICAgICAgcmV0dXJuIHBsYWNlaG9sZGVyO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSBuZXcgQXJyYXkoZGF0YS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5ld0RhdGFbaV0gPSBfZGVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtpXSwgYnVmZmVycyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSBcIm9iamVjdFwiICYmICEoZGF0YSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgIGNvbnN0IG5ld0RhdGEgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgbmV3RGF0YVtrZXldID0gX2RlY29uc3RydWN0UGFja2V0KGRhdGFba2V5XSwgYnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0RhdGE7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuLyoqXG4gKiBSZWNvbnN0cnVjdHMgYSBiaW5hcnkgcGFja2V0IGZyb20gaXRzIHBsYWNlaG9sZGVyIHBhY2tldCBhbmQgYnVmZmVyc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBwYWNrZXQgLSBldmVudCBwYWNrZXQgd2l0aCBwbGFjZWhvbGRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IGJ1ZmZlcnMgLSBiaW5hcnkgYnVmZmVycyB0byBwdXQgaW4gcGxhY2Vob2xkZXIgcG9zaXRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IHJlY29uc3RydWN0ZWQgcGFja2V0XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvbnN0cnVjdFBhY2tldChwYWNrZXQsIGJ1ZmZlcnMpIHtcbiAgICBwYWNrZXQuZGF0YSA9IF9yZWNvbnN0cnVjdFBhY2tldChwYWNrZXQuZGF0YSwgYnVmZmVycyk7XG4gICAgZGVsZXRlIHBhY2tldC5hdHRhY2htZW50czsgLy8gbm8gbG9uZ2VyIHVzZWZ1bFxuICAgIHJldHVybiBwYWNrZXQ7XG59XG5mdW5jdGlvbiBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YSwgYnVmZmVycykge1xuICAgIGlmICghZGF0YSlcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgaWYgKGRhdGEgJiYgZGF0YS5fcGxhY2Vob2xkZXIgPT09IHRydWUpIHtcbiAgICAgICAgY29uc3QgaXNJbmRleFZhbGlkID0gdHlwZW9mIGRhdGEubnVtID09PSBcIm51bWJlclwiICYmXG4gICAgICAgICAgICBkYXRhLm51bSA+PSAwICYmXG4gICAgICAgICAgICBkYXRhLm51bSA8IGJ1ZmZlcnMubGVuZ3RoO1xuICAgICAgICBpZiAoaXNJbmRleFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gYnVmZmVyc1tkYXRhLm51bV07IC8vIGFwcHJvcHJpYXRlIGJ1ZmZlciAoc2hvdWxkIGJlIG5hdHVyYWwgb3JkZXIgYW55d2F5KVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBhdHRhY2htZW50c1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9IF9yZWNvbnN0cnVjdFBhY2tldChkYXRhW2ldLCBidWZmZXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSBfcmVjb25zdHJ1Y3RQYWNrZXQoZGF0YVtrZXldLCBidWZmZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbn1cbiIsImltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuaW1wb3J0IHsgZGVjb25zdHJ1Y3RQYWNrZXQsIHJlY29uc3RydWN0UGFja2V0IH0gZnJvbSBcIi4vYmluYXJ5LmpzXCI7XG5pbXBvcnQgeyBpc0JpbmFyeSwgaGFzQmluYXJ5IH0gZnJvbSBcIi4vaXMtYmluYXJ5LmpzXCI7XG4vKipcbiAqIFRoZXNlIHN0cmluZ3MgbXVzdCBub3QgYmUgdXNlZCBhcyBldmVudCBuYW1lcywgYXMgdGhleSBoYXZlIGEgc3BlY2lhbCBtZWFuaW5nLlxuICovXG5jb25zdCBSRVNFUlZFRF9FVkVOVFMgPSBbXG4gICAgXCJjb25uZWN0XCIsXG4gICAgXCJjb25uZWN0X2Vycm9yXCIsXG4gICAgXCJkaXNjb25uZWN0XCIsXG4gICAgXCJkaXNjb25uZWN0aW5nXCIsXG4gICAgXCJuZXdMaXN0ZW5lclwiLFxuICAgIFwicmVtb3ZlTGlzdGVuZXJcIiwgLy8gdXNlZCBieSB0aGUgTm9kZS5qcyBFdmVudEVtaXR0ZXJcbl07XG4vKipcbiAqIFByb3RvY29sIHZlcnNpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgcHJvdG9jb2wgPSA1O1xuZXhwb3J0IHZhciBQYWNrZXRUeXBlO1xuKGZ1bmN0aW9uIChQYWNrZXRUeXBlKSB7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQ09OTkVDVFwiXSA9IDBdID0gXCJDT05ORUNUXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiRElTQ09OTkVDVFwiXSA9IDFdID0gXCJESVNDT05ORUNUXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiRVZFTlRcIl0gPSAyXSA9IFwiRVZFTlRcIjtcbiAgICBQYWNrZXRUeXBlW1BhY2tldFR5cGVbXCJBQ0tcIl0gPSAzXSA9IFwiQUNLXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQ09OTkVDVF9FUlJPUlwiXSA9IDRdID0gXCJDT05ORUNUX0VSUk9SXCI7XG4gICAgUGFja2V0VHlwZVtQYWNrZXRUeXBlW1wiQklOQVJZX0VWRU5UXCJdID0gNV0gPSBcIkJJTkFSWV9FVkVOVFwiO1xuICAgIFBhY2tldFR5cGVbUGFja2V0VHlwZVtcIkJJTkFSWV9BQ0tcIl0gPSA2XSA9IFwiQklOQVJZX0FDS1wiO1xufSkoUGFja2V0VHlwZSB8fCAoUGFja2V0VHlwZSA9IHt9KSk7XG4vKipcbiAqIEEgc29ja2V0LmlvIEVuY29kZXIgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGNsYXNzIEVuY29kZXIge1xuICAgIC8qKlxuICAgICAqIEVuY29kZXIgY29uc3RydWN0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlcGxhY2VyIC0gY3VzdG9tIHJlcGxhY2VyIHRvIHBhc3MgZG93biB0byBKU09OLnBhcnNlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocmVwbGFjZXIpIHtcbiAgICAgICAgdGhpcy5yZXBsYWNlciA9IHJlcGxhY2VyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGUgYSBwYWNrZXQgYXMgYSBzaW5nbGUgc3RyaW5nIGlmIG5vbi1iaW5hcnksIG9yIGFzIGFcbiAgICAgKiBidWZmZXIgc2VxdWVuY2UsIGRlcGVuZGluZyBvbiBwYWNrZXQgdHlwZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBwYWNrZXQgb2JqZWN0XG4gICAgICovXG4gICAgZW5jb2RlKG9iaikge1xuICAgICAgICBpZiAob2JqLnR5cGUgPT09IFBhY2tldFR5cGUuRVZFTlQgfHwgb2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQUNLKSB7XG4gICAgICAgICAgICBpZiAoaGFzQmluYXJ5KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVBc0JpbmFyeSh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iai50eXBlID09PSBQYWNrZXRUeXBlLkVWRU5UXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFBhY2tldFR5cGUuQklOQVJZX0FDSyxcbiAgICAgICAgICAgICAgICAgICAgbnNwOiBvYmoubnNwLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBvYmouZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG9iai5pZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3RoaXMuZW5jb2RlQXNTdHJpbmcob2JqKV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZSBwYWNrZXQgYXMgc3RyaW5nLlxuICAgICAqL1xuICAgIGVuY29kZUFzU3RyaW5nKG9iaikge1xuICAgICAgICAvLyBmaXJzdCBpcyB0eXBlXG4gICAgICAgIGxldCBzdHIgPSBcIlwiICsgb2JqLnR5cGU7XG4gICAgICAgIC8vIGF0dGFjaG1lbnRzIGlmIHdlIGhhdmUgdGhlbVxuICAgICAgICBpZiAob2JqLnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UIHx8XG4gICAgICAgICAgICBvYmoudHlwZSA9PT0gUGFja2V0VHlwZS5CSU5BUllfQUNLKSB7XG4gICAgICAgICAgICBzdHIgKz0gb2JqLmF0dGFjaG1lbnRzICsgXCItXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG5hbWVzcGFjZSBvdGhlciB0aGFuIGAvYFxuICAgICAgICAvLyB3ZSBhcHBlbmQgaXQgZm9sbG93ZWQgYnkgYSBjb21tYSBgLGBcbiAgICAgICAgaWYgKG9iai5uc3AgJiYgXCIvXCIgIT09IG9iai5uc3ApIHtcbiAgICAgICAgICAgIHN0ciArPSBvYmoubnNwICsgXCIsXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgdGhlIGlkXG4gICAgICAgIGlmIChudWxsICE9IG9iai5pZCkge1xuICAgICAgICAgICAgc3RyICs9IG9iai5pZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBqc29uIGRhdGFcbiAgICAgICAgaWYgKG51bGwgIT0gb2JqLmRhdGEpIHtcbiAgICAgICAgICAgIHN0ciArPSBKU09OLnN0cmluZ2lmeShvYmouZGF0YSwgdGhpcy5yZXBsYWNlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlIHBhY2tldCBhcyAnYnVmZmVyIHNlcXVlbmNlJyBieSByZW1vdmluZyBibG9icywgYW5kXG4gICAgICogZGVjb25zdHJ1Y3RpbmcgcGFja2V0IGludG8gb2JqZWN0IHdpdGggcGxhY2Vob2xkZXJzIGFuZFxuICAgICAqIGEgbGlzdCBvZiBidWZmZXJzLlxuICAgICAqL1xuICAgIGVuY29kZUFzQmluYXJ5KG9iaikge1xuICAgICAgICBjb25zdCBkZWNvbnN0cnVjdGlvbiA9IGRlY29uc3RydWN0UGFja2V0KG9iaik7XG4gICAgICAgIGNvbnN0IHBhY2sgPSB0aGlzLmVuY29kZUFzU3RyaW5nKGRlY29uc3RydWN0aW9uLnBhY2tldCk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlcnMgPSBkZWNvbnN0cnVjdGlvbi5idWZmZXJzO1xuICAgICAgICBidWZmZXJzLnVuc2hpZnQocGFjayk7IC8vIGFkZCBwYWNrZXQgaW5mbyB0byBiZWdpbm5pbmcgb2YgZGF0YSBsaXN0XG4gICAgICAgIHJldHVybiBidWZmZXJzOyAvLyB3cml0ZSBhbGwgdGhlIGJ1ZmZlcnNcbiAgICB9XG59XG4vLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvODUxMTI4MS9jaGVjay1pZi1hLXZhbHVlLWlzLWFuLW9iamVjdC1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgT2JqZWN0XVwiO1xufVxuLyoqXG4gKiBBIHNvY2tldC5pbyBEZWNvZGVyIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBkZWNvZGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWNvZGVyIGV4dGVuZHMgRW1pdHRlciB7XG4gICAgLyoqXG4gICAgICogRGVjb2RlciBjb25zdHJ1Y3RvclxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcmV2aXZlciAtIGN1c3RvbSByZXZpdmVyIHRvIHBhc3MgZG93biB0byBKU09OLnN0cmluZ2lmeVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJldml2ZXIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yZXZpdmVyID0gcmV2aXZlcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyBhbiBlbmNvZGVkIHBhY2tldCBzdHJpbmcgaW50byBwYWNrZXQgSlNPTi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvYmogLSBlbmNvZGVkIHBhY2tldFxuICAgICAqL1xuICAgIGFkZChvYmopIHtcbiAgICAgICAgbGV0IHBhY2tldDtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJnb3QgcGxhaW50ZXh0IGRhdGEgd2hlbiByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhY2tldCA9IHRoaXMuZGVjb2RlU3RyaW5nKG9iaik7XG4gICAgICAgICAgICBjb25zdCBpc0JpbmFyeUV2ZW50ID0gcGFja2V0LnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0VWRU5UO1xuICAgICAgICAgICAgaWYgKGlzQmluYXJ5RXZlbnQgfHwgcGFja2V0LnR5cGUgPT09IFBhY2tldFR5cGUuQklOQVJZX0FDSykge1xuICAgICAgICAgICAgICAgIHBhY2tldC50eXBlID0gaXNCaW5hcnlFdmVudCA/IFBhY2tldFR5cGUuRVZFTlQgOiBQYWNrZXRUeXBlLkFDSztcbiAgICAgICAgICAgICAgICAvLyBiaW5hcnkgcGFja2V0J3MganNvblxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG5ldyBCaW5hcnlSZWNvbnN0cnVjdG9yKHBhY2tldCk7XG4gICAgICAgICAgICAgICAgLy8gbm8gYXR0YWNobWVudHMsIGxhYmVsZWQgYmluYXJ5IGJ1dCBubyBiaW5hcnkgZGF0YSB0byBmb2xsb3dcbiAgICAgICAgICAgICAgICBpZiAocGFja2V0LmF0dGFjaG1lbnRzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub24tYmluYXJ5IGZ1bGwgcGFja2V0XG4gICAgICAgICAgICAgICAgc3VwZXIuZW1pdFJlc2VydmVkKFwiZGVjb2RlZFwiLCBwYWNrZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQmluYXJ5KG9iaikgfHwgb2JqLmJhc2U2NCkge1xuICAgICAgICAgICAgLy8gcmF3IGJpbmFyeSBkYXRhXG4gICAgICAgICAgICBpZiAoIXRoaXMucmVjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImdvdCBiaW5hcnkgZGF0YSB3aGVuIG5vdCByZWNvbnN0cnVjdGluZyBhIHBhY2tldFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhY2tldCA9IHRoaXMucmVjb25zdHJ1Y3Rvci50YWtlQmluYXJ5RGF0YShvYmopO1xuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVjZWl2ZWQgZmluYWwgYnVmZmVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb25zdHJ1Y3RvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLmVtaXRSZXNlcnZlZChcImRlY29kZWRcIiwgcGFja2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiICsgb2JqKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWNvZGUgYSBwYWNrZXQgU3RyaW5nIChKU09OIGRhdGEpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwYWNrZXRcbiAgICAgKi9cbiAgICBkZWNvZGVTdHJpbmcoc3RyKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgLy8gbG9vayB1cCB0eXBlXG4gICAgICAgIGNvbnN0IHAgPSB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIoc3RyLmNoYXJBdCgwKSksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChQYWNrZXRUeXBlW3AudHlwZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBwYWNrZXQgdHlwZSBcIiArIHAudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBhdHRhY2htZW50cyBpZiB0eXBlIGJpbmFyeVxuICAgICAgICBpZiAocC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVCB8fFxuICAgICAgICAgICAgcC50eXBlID09PSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0spIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICB3aGlsZSAoc3RyLmNoYXJBdCgrK2kpICE9PSBcIi1cIiAmJiBpICE9IHN0ci5sZW5ndGgpIHsgfVxuICAgICAgICAgICAgY29uc3QgYnVmID0gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgICAgICBpZiAoYnVmICE9IE51bWJlcihidWYpIHx8IHN0ci5jaGFyQXQoaSkgIT09IFwiLVwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBhdHRhY2htZW50c1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAuYXR0YWNobWVudHMgPSBOdW1iZXIoYnVmKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIHVwIG5hbWVzcGFjZSAoaWYgYW55KVxuICAgICAgICBpZiAoXCIvXCIgPT09IHN0ci5jaGFyQXQoaSArIDEpKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKCsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChcIixcIiA9PT0gYylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5uc3AgPSBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHAubnNwID0gXCIvXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9vayB1cCBpZFxuICAgICAgICBjb25zdCBuZXh0ID0gc3RyLmNoYXJBdChpICsgMSk7XG4gICAgICAgIGlmIChcIlwiICE9PSBuZXh0ICYmIE51bWJlcihuZXh0KSA9PSBuZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgd2hpbGUgKCsraSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09IGMgfHwgTnVtYmVyKGMpICE9IGMpIHtcbiAgICAgICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHN0ci5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcC5pZCA9IE51bWJlcihzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvb2sgdXAganNvbiBkYXRhXG4gICAgICAgIGlmIChzdHIuY2hhckF0KCsraSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLnRyeVBhcnNlKHN0ci5zdWJzdHIoaSkpO1xuICAgICAgICAgICAgaWYgKERlY29kZXIuaXNQYXlsb2FkVmFsaWQocC50eXBlLCBwYXlsb2FkKSkge1xuICAgICAgICAgICAgICAgIHAuZGF0YSA9IHBheWxvYWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBheWxvYWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIHRyeVBhcnNlKHN0cikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyLCB0aGlzLnJldml2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGlzUGF5bG9hZFZhbGlkKHR5cGUsIHBheWxvYWQpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNPYmplY3QocGF5bG9hZCk7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkNPTk5FQ1RfRVJST1I6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYXlsb2FkID09PSBcInN0cmluZ1wiIHx8IGlzT2JqZWN0KHBheWxvYWQpO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkVWRU5UOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9FVkVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gKEFycmF5LmlzQXJyYXkocGF5bG9hZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBwYXlsb2FkWzBdID09PSBcIm51bWJlclwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHBheWxvYWRbMF0gPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRVNFUlZFRF9FVkVOVFMuaW5kZXhPZihwYXlsb2FkWzBdKSA9PT0gLTEpKSk7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQUNLOlxuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkJJTkFSWV9BQ0s6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkocGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVhbGxvY2F0ZXMgYSBwYXJzZXIncyByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5yZWNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29uc3RydWN0b3IuZmluaXNoZWRSZWNvbnN0cnVjdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5yZWNvbnN0cnVjdG9yID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBtYW5hZ2VyIG9mIGEgYmluYXJ5IGV2ZW50J3MgJ2J1ZmZlciBzZXF1ZW5jZScuIFNob3VsZFxuICogYmUgY29uc3RydWN0ZWQgd2hlbmV2ZXIgYSBwYWNrZXQgb2YgdHlwZSBCSU5BUllfRVZFTlQgaXNcbiAqIGRlY29kZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHBhY2tldFxuICogQHJldHVybiB7QmluYXJ5UmVjb25zdHJ1Y3Rvcn0gaW5pdGlhbGl6ZWQgcmVjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBCaW5hcnlSZWNvbnN0cnVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihwYWNrZXQpIHtcbiAgICAgICAgdGhpcy5wYWNrZXQgPSBwYWNrZXQ7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICB0aGlzLnJlY29uUGFjayA9IHBhY2tldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGJlIGNhbGxlZCB3aGVuIGJpbmFyeSBkYXRhIHJlY2VpdmVkIGZyb20gY29ubmVjdGlvblxuICAgICAqIGFmdGVyIGEgQklOQVJZX0VWRU5UIHBhY2tldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QnVmZmVyIHwgQXJyYXlCdWZmZXJ9IGJpbkRhdGEgLSB0aGUgcmF3IGJpbmFyeSBkYXRhIHJlY2VpdmVkXG4gICAgICogQHJldHVybiB7bnVsbCB8IE9iamVjdH0gcmV0dXJucyBudWxsIGlmIG1vcmUgYmluYXJ5IGRhdGEgaXMgZXhwZWN0ZWQgb3JcbiAgICAgKiAgIGEgcmVjb25zdHJ1Y3RlZCBwYWNrZXQgb2JqZWN0IGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiByZWNlaXZlZC5cbiAgICAgKi9cbiAgICB0YWtlQmluYXJ5RGF0YShiaW5EYXRhKSB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJpbkRhdGEpO1xuICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gdGhpcy5yZWNvblBhY2suYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIC8vIGRvbmUgd2l0aCBidWZmZXIgbGlzdFxuICAgICAgICAgICAgY29uc3QgcGFja2V0ID0gcmVjb25zdHJ1Y3RQYWNrZXQodGhpcy5yZWNvblBhY2ssIHRoaXMuYnVmZmVycyk7XG4gICAgICAgICAgICB0aGlzLmZpbmlzaGVkUmVjb25zdHJ1Y3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybiBwYWNrZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFucyB1cCBiaW5hcnkgcGFja2V0IHJlY29uc3RydWN0aW9uIHZhcmlhYmxlcy5cbiAgICAgKi9cbiAgICBmaW5pc2hlZFJlY29uc3RydWN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlY29uUGFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBvbihvYmosIGV2LCBmbikge1xuICAgIG9iai5vbihldiwgZm4pO1xuICAgIHJldHVybiBmdW5jdGlvbiBzdWJEZXN0cm95KCkge1xuICAgICAgICBvYmoub2ZmKGV2LCBmbik7XG4gICAgfTtcbn1cbiIsImltcG9ydCB7IFBhY2tldFR5cGUgfSBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgb24gfSBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHsgRW1pdHRlciwgfSBmcm9tIFwiQHNvY2tldC5pby9jb21wb25lbnQtZW1pdHRlclwiO1xuLyoqXG4gKiBJbnRlcm5hbCBldmVudHMuXG4gKiBUaGVzZSBldmVudHMgY2FuJ3QgYmUgZW1pdHRlZCBieSB0aGUgdXNlci5cbiAqL1xuY29uc3QgUkVTRVJWRURfRVZFTlRTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgY29ubmVjdDogMSxcbiAgICBjb25uZWN0X2Vycm9yOiAxLFxuICAgIGRpc2Nvbm5lY3Q6IDEsXG4gICAgZGlzY29ubmVjdGluZzogMSxcbiAgICAvLyBFdmVudEVtaXR0ZXIgcmVzZXJ2ZWQgZXZlbnRzOiBodHRwczovL25vZGVqcy5vcmcvYXBpL2V2ZW50cy5odG1sI2V2ZW50c19ldmVudF9uZXdsaXN0ZW5lclxuICAgIG5ld0xpc3RlbmVyOiAxLFxuICAgIHJlbW92ZUxpc3RlbmVyOiAxLFxufSk7XG4vKipcbiAqIEEgU29ja2V0IGlzIHRoZSBmdW5kYW1lbnRhbCBjbGFzcyBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc2VydmVyLlxuICpcbiAqIEEgU29ja2V0IGJlbG9uZ3MgdG8gYSBjZXJ0YWluIE5hbWVzcGFjZSAoYnkgZGVmYXVsdCAvKSBhbmQgdXNlcyBhbiB1bmRlcmx5aW5nIHtAbGluayBNYW5hZ2VyfSB0byBjb21tdW5pY2F0ZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAqXG4gKiBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcbiAqICAgY29uc29sZS5sb2coXCJjb25uZWN0ZWRcIik7XG4gKiB9KTtcbiAqXG4gKiAvLyBzZW5kIGFuIGV2ZW50IHRvIHRoZSBzZXJ2ZXJcbiAqIHNvY2tldC5lbWl0KFwiZm9vXCIsIFwiYmFyXCIpO1xuICpcbiAqIHNvY2tldC5vbihcImZvb2JhclwiLCAoKSA9PiB7XG4gKiAgIC8vIGFuIGV2ZW50IHdhcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXJcbiAqIH0pO1xuICpcbiAqIC8vIHVwb24gZGlzY29ubmVjdGlvblxuICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKGBkaXNjb25uZWN0ZWQgZHVlIHRvICR7cmVhc29ufWApO1xuICogfSk7XG4gKi9cbmV4cG9ydCBjbGFzcyBTb2NrZXQgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICAvKipcbiAgICAgKiBgU29ja2V0YCBjb25zdHJ1Y3Rvci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpbywgbnNwLCBvcHRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBzb2NrZXQgaXMgY3VycmVudGx5IGNvbm5lY3RlZCB0byB0aGUgc2VydmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAgICAgKlxuICAgICAgICAgKiBzb2NrZXQub24oXCJjb25uZWN0XCIsICgpID0+IHtcbiAgICAgICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuY29ubmVjdGVkKTsgLy8gdHJ1ZVxuICAgICAgICAgKiB9KTtcbiAgICAgICAgICpcbiAgICAgICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmNvbm5lY3RlZCk7IC8vIGZhbHNlXG4gICAgICAgICAqIH0pO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIGNvbm5lY3Rpb24gc3RhdGUgd2FzIHJlY292ZXJlZCBhZnRlciBhIHRlbXBvcmFyeSBkaXNjb25uZWN0aW9uLiBJbiB0aGF0IGNhc2UsIGFueSBtaXNzZWQgcGFja2V0cyB3aWxsXG4gICAgICAgICAqIGJlIHRyYW5zbWl0dGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlY292ZXJlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIGZvciBwYWNrZXRzIHJlY2VpdmVkIGJlZm9yZSB0aGUgQ09OTkVDVCBwYWNrZXRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVmZmVyIGZvciBwYWNrZXRzIHRoYXQgd2lsbCBiZSBzZW50IG9uY2UgdGhlIHNvY2tldCBpcyBjb25uZWN0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2VuZEJ1ZmZlciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHF1ZXVlIG9mIHBhY2tldHMgdG8gYmUgc2VudCB3aXRoIHJldHJ5IGluIGNhc2Ugb2YgZmFpbHVyZS5cbiAgICAgICAgICpcbiAgICAgICAgICogUGFja2V0cyBhcmUgc2VudCBvbmUgYnkgb25lLCBlYWNoIHdhaXRpbmcgZm9yIHRoZSBzZXJ2ZXIgYWNrbm93bGVkZ2VtZW50LCBpbiBvcmRlciB0byBndWFyYW50ZWUgdGhlIGRlbGl2ZXJ5IG9yZGVyLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcXVldWUgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2VxdWVuY2UgdG8gZ2VuZXJhdGUgdGhlIElEIG9mIHRoZSB7QGxpbmsgUXVldWVkUGFja2V0fS5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3F1ZXVlU2VxID0gMDtcbiAgICAgICAgdGhpcy5pZHMgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgY29udGFpbmluZyBhY2tub3dsZWRnZW1lbnQgaGFuZGxlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBgd2l0aEVycm9yYCBhdHRyaWJ1dGUgaXMgdXNlZCB0byBkaWZmZXJlbnRpYXRlIGhhbmRsZXJzIHRoYXQgYWNjZXB0IGFuIGVycm9yIGFzIGZpcnN0IGFyZ3VtZW50OlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIGBzb2NrZXQuZW1pdChcInRlc3RcIiwgKGVyciwgdmFsdWUpID0+IHsgLi4uIH0pYCB3aXRoIGBhY2tUaW1lb3V0YCBvcHRpb25cbiAgICAgICAgICogLSBgc29ja2V0LnRpbWVvdXQoNTAwMCkuZW1pdChcInRlc3RcIiwgKGVyciwgdmFsdWUpID0+IHsgLi4uIH0pYFxuICAgICAgICAgKiAtIGBjb25zdCB2YWx1ZSA9IGF3YWl0IHNvY2tldC5lbWl0V2l0aEFjayhcInRlc3RcIilgXG4gICAgICAgICAqXG4gICAgICAgICAqIEZyb20gdGhvc2UgdGhhdCBkb24ndDpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBgc29ja2V0LmVtaXQoXCJ0ZXN0XCIsICh2YWx1ZSkgPT4geyAuLi4gfSk7YFxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiB0aGUgZmlyc3QgY2FzZSwgdGhlIGhhbmRsZXJzIHdpbGwgYmUgY2FsbGVkIHdpdGggYW4gZXJyb3Igd2hlbjpcbiAgICAgICAgICpcbiAgICAgICAgICogLSB0aGUgdGltZW91dCBpcyByZWFjaGVkXG4gICAgICAgICAqIC0gdGhlIHNvY2tldCBnZXRzIGRpc2Nvbm5lY3RlZFxuICAgICAgICAgKlxuICAgICAgICAgKiBJbiB0aGUgc2Vjb25kIGNhc2UsIHRoZSBoYW5kbGVycyB3aWxsIGJlIHNpbXBseSBkaXNjYXJkZWQgdXBvbiBkaXNjb25uZWN0aW9uLCBzaW5jZSB0aGUgY2xpZW50IHdpbGwgbmV2ZXIgcmVjZWl2ZVxuICAgICAgICAgKiBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY2tzID0ge307XG4gICAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5pbyA9IGlvO1xuICAgICAgICB0aGlzLm5zcCA9IG5zcDtcbiAgICAgICAgaWYgKG9wdHMgJiYgb3B0cy5hdXRoKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGggPSBvcHRzLmF1dGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdHMpO1xuICAgICAgICBpZiAodGhpcy5pby5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgc29ja2V0IGlzIGN1cnJlbnRseSBkaXNjb25uZWN0ZWRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc29ja2V0ID0gaW8oKTtcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImNvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAqICAgY29uc29sZS5sb2coc29ja2V0LmRpc2Nvbm5lY3RlZCk7IC8vIGZhbHNlXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQub24oXCJkaXNjb25uZWN0XCIsICgpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHNvY2tldC5kaXNjb25uZWN0ZWQpOyAvLyB0cnVlXG4gICAgICogfSk7XG4gICAgICovXG4gICAgZ2V0IGRpc2Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbm5lY3RlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlIHRvIG9wZW4sIGNsb3NlIGFuZCBwYWNrZXQgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN1YkV2ZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3VicylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW8gPSB0aGlzLmlvO1xuICAgICAgICB0aGlzLnN1YnMgPSBbXG4gICAgICAgICAgICBvbihpbywgXCJvcGVuXCIsIHRoaXMub25vcGVuLmJpbmQodGhpcykpLFxuICAgICAgICAgICAgb24oaW8sIFwicGFja2V0XCIsIHRoaXMub25wYWNrZXQuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksXG4gICAgICAgICAgICBvbihpbywgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIFNvY2tldCB3aWxsIHRyeSB0byByZWNvbm5lY3Qgd2hlbiBpdHMgTWFuYWdlciBjb25uZWN0cyBvciByZWNvbm5lY3RzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coc29ja2V0LmFjdGl2ZSk7IC8vIHRydWVcbiAgICAgKlxuICAgICAqIHNvY2tldC5vbihcImRpc2Nvbm5lY3RcIiwgKHJlYXNvbikgPT4ge1xuICAgICAqICAgaWYgKHJlYXNvbiA9PT0gXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKSB7XG4gICAgICogICAgIC8vIHRoZSBkaXNjb25uZWN0aW9uIHdhcyBpbml0aWF0ZWQgYnkgdGhlIHNlcnZlciwgeW91IG5lZWQgdG8gbWFudWFsbHkgcmVjb25uZWN0XG4gICAgICogICAgIGNvbnNvbGUubG9nKHNvY2tldC5hY3RpdmUpOyAvLyBmYWxzZVxuICAgICAqICAgfVxuICAgICAqICAgLy8gZWxzZSB0aGUgc29ja2V0IHdpbGwgYXV0b21hdGljYWxseSB0cnkgdG8gcmVjb25uZWN0XG4gICAgICogICBjb25zb2xlLmxvZyhzb2NrZXQuYWN0aXZlKTsgLy8gdHJ1ZVxuICAgICAqIH0pO1xuICAgICAqL1xuICAgIGdldCBhY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc3VicztcbiAgICB9XG4gICAgLyoqXG4gICAgICogXCJPcGVuc1wiIHRoZSBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNvY2tldCA9IGlvKHtcbiAgICAgKiAgIGF1dG9Db25uZWN0OiBmYWxzZVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgKi9cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgdGhpcy5zdWJFdmVudHMoKTtcbiAgICAgICAgaWYgKCF0aGlzLmlvW1wiX3JlY29ubmVjdGluZ1wiXSlcbiAgICAgICAgICAgIHRoaXMuaW8ub3BlbigpOyAvLyBlbnN1cmUgb3BlblxuICAgICAgICBpZiAoXCJvcGVuXCIgPT09IHRoaXMuaW8uX3JlYWR5U3RhdGUpXG4gICAgICAgICAgICB0aGlzLm9ub3BlbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHtAbGluayBjb25uZWN0KCl9LlxuICAgICAqL1xuICAgIG9wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBgbWVzc2FnZWAgZXZlbnQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtaW1pY3MgdGhlIFdlYlNvY2tldC5zZW5kKCkgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViU29ja2V0L3NlbmRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnNlbmQoXCJoZWxsb1wiKTtcbiAgICAgKlxuICAgICAqIC8vIHRoaXMgaXMgZXF1aXZhbGVudCB0b1xuICAgICAqIHNvY2tldC5lbWl0KFwibWVzc2FnZVwiLCBcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgc2VuZCguLi5hcmdzKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChcIm1lc3NhZ2VcIik7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIGBlbWl0YC5cbiAgICAgKiBJZiB0aGUgZXZlbnQgaXMgaW4gYGV2ZW50c2AsIGl0J3MgZW1pdHRlZCBub3JtYWxseS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCBcIndvcmxkXCIpO1xuICAgICAqXG4gICAgICogLy8gYWxsIHNlcmlhbGl6YWJsZSBkYXRhc3RydWN0dXJlcyBhcmUgc3VwcG9ydGVkIChubyBuZWVkIHRvIGNhbGwgSlNPTi5zdHJpbmdpZnkpXG4gICAgICogc29ja2V0LmVtaXQoXCJoZWxsb1wiLCAxLCBcIjJcIiwgeyAzOiBbXCI0XCJdLCA1OiBVaW50OEFycmF5LmZyb20oWzZdKSB9KTtcbiAgICAgKlxuICAgICAqIC8vIHdpdGggYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlclxuICAgICAqIHNvY2tldC5lbWl0KFwiaGVsbG9cIiwgXCJ3b3JsZFwiLCAodmFsKSA9PiB7XG4gICAgICogICAvLyAuLi5cbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGVtaXQoZXYsIC4uLmFyZ3MpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmIChSRVNFUlZFRF9FVkVOVFMuaGFzT3duUHJvcGVydHkoZXYpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGV2LnRvU3RyaW5nKCkgKyAnXCIgaXMgYSByZXNlcnZlZCBldmVudCBuYW1lJyk7XG4gICAgICAgIH1cbiAgICAgICAgYXJncy51bnNoaWZ0KGV2KTtcbiAgICAgICAgaWYgKHRoaXMuX29wdHMucmV0cmllcyAmJiAhdGhpcy5mbGFncy5mcm9tUXVldWUgJiYgIXRoaXMuZmxhZ3Mudm9sYXRpbGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRvUXVldWUoYXJncyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB7XG4gICAgICAgICAgICB0eXBlOiBQYWNrZXRUeXBlLkVWRU5ULFxuICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgfTtcbiAgICAgICAgcGFja2V0Lm9wdGlvbnMgPSB7fTtcbiAgICAgICAgcGFja2V0Lm9wdGlvbnMuY29tcHJlc3MgPSB0aGlzLmZsYWdzLmNvbXByZXNzICE9PSBmYWxzZTtcbiAgICAgICAgLy8gZXZlbnQgYWNrIGNhbGxiYWNrXG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5pZHMrKztcbiAgICAgICAgICAgIGNvbnN0IGFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgICAgICB0aGlzLl9yZWdpc3RlckFja0NhbGxiYWNrKGlkLCBhY2spO1xuICAgICAgICAgICAgcGFja2V0LmlkID0gaWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNUcmFuc3BvcnRXcml0YWJsZSA9IChfYiA9IChfYSA9IHRoaXMuaW8uZW5naW5lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iud3JpdGFibGU7XG4gICAgICAgIGNvbnN0IGlzQ29ubmVjdGVkID0gdGhpcy5jb25uZWN0ZWQgJiYgISgoX2MgPSB0aGlzLmlvLmVuZ2luZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLl9oYXNQaW5nRXhwaXJlZCgpKTtcbiAgICAgICAgY29uc3QgZGlzY2FyZFBhY2tldCA9IHRoaXMuZmxhZ3Mudm9sYXRpbGUgJiYgIWlzVHJhbnNwb3J0V3JpdGFibGU7XG4gICAgICAgIGlmIChkaXNjYXJkUGFja2V0KSB7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMocGFja2V0KTtcbiAgICAgICAgICAgIHRoaXMucGFja2V0KHBhY2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRCdWZmZXIucHVzaChwYWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhZ3MgPSB7fTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlZ2lzdGVyQWNrQ2FsbGJhY2soaWQsIGFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSAoX2EgPSB0aGlzLmZsYWdzLnRpbWVvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuX29wdHMuYWNrVGltZW91dDtcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hY2tzW2lkXSA9IGFjaztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5pby5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWNrc1tpZF07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2VuZEJ1ZmZlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbmRCdWZmZXJbaV0uaWQgPT09IGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZEJ1ZmZlci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNrLmNhbGwodGhpcywgbmV3IEVycm9yKFwib3BlcmF0aW9uIGhhcyB0aW1lZCBvdXRcIikpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgY29uc3QgZm4gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdGhpcy5pby5jbGVhclRpbWVvdXRGbih0aW1lcik7XG4gICAgICAgICAgICBhY2suYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGZuLndpdGhFcnJvciA9IHRydWU7XG4gICAgICAgIHRoaXMuYWNrc1tpZF0gPSBmbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYW4gZXZlbnQgYW5kIHdhaXRzIGZvciBhbiBhY2tub3dsZWRnZW1lbnRcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gd2l0aG91dCB0aW1lb3V0XG4gICAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzb2NrZXQuZW1pdFdpdGhBY2soXCJoZWxsb1wiLCBcIndvcmxkXCIpO1xuICAgICAqXG4gICAgICogLy8gd2l0aCBhIHNwZWNpZmljIHRpbWVvdXRcbiAgICAgKiB0cnkge1xuICAgICAqICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzb2NrZXQudGltZW91dCgxMDAwKS5lbWl0V2l0aEFjayhcImhlbGxvXCIsIFwid29ybGRcIik7XG4gICAgICogfSBjYXRjaCAoZXJyKSB7XG4gICAgICogICAvLyB0aGUgc2VydmVyIGRpZCBub3QgYWNrbm93bGVkZ2UgdGhlIGV2ZW50IGluIHRoZSBnaXZlbiBkZWxheVxuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSBQcm9taXNlIHRoYXQgd2lsbCBiZSBmdWxmaWxsZWQgd2hlbiB0aGUgc2VydmVyIGFja25vd2xlZGdlcyB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICBlbWl0V2l0aEFjayhldiwgLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZm4gPSAoYXJnMSwgYXJnMikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmcxID8gcmVqZWN0KGFyZzEpIDogcmVzb2x2ZShhcmcyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmbi53aXRoRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgYXJncy5wdXNoKGZuKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdChldiwgLi4uYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIHBhY2tldCB0byB0aGUgcXVldWUuXG4gICAgICogQHBhcmFtIGFyZ3NcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hZGRUb1F1ZXVlKGFyZ3MpIHtcbiAgICAgICAgbGV0IGFjaztcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB7XG4gICAgICAgICAgICBpZDogdGhpcy5fcXVldWVTZXErKyxcbiAgICAgICAgICAgIHRyeUNvdW50OiAwLFxuICAgICAgICAgICAgcGVuZGluZzogZmFsc2UsXG4gICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgZmxhZ3M6IE9iamVjdC5hc3NpZ24oeyBmcm9tUXVldWU6IHRydWUgfSwgdGhpcy5mbGFncyksXG4gICAgICAgIH07XG4gICAgICAgIGFyZ3MucHVzaCgoZXJyLCAuLi5yZXNwb25zZUFyZ3MpID0+IHtcbiAgICAgICAgICAgIGlmIChwYWNrZXQgIT09IHRoaXMuX3F1ZXVlWzBdKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhlIHBhY2tldCBoYXMgYWxyZWFkeSBiZWVuIGFja25vd2xlZGdlZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhc0Vycm9yID0gZXJyICE9PSBudWxsO1xuICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhY2tldC50cnlDb3VudCA+IHRoaXMuX29wdHMucmV0cmllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGFjaykge1xuICAgICAgICAgICAgICAgICAgICBhY2sobnVsbCwgLi4ucmVzcG9uc2VBcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWNrZXQucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RyYWluUXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnB1c2gocGFja2V0KTtcbiAgICAgICAgdGhpcy5fZHJhaW5RdWV1ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kIHRoZSBmaXJzdCBwYWNrZXQgb2YgdGhlIHF1ZXVlLCBhbmQgd2FpdCBmb3IgYW4gYWNrbm93bGVkZ2VtZW50IGZyb20gdGhlIHNlcnZlci5cbiAgICAgKiBAcGFyYW0gZm9yY2UgLSB3aGV0aGVyIHRvIHJlc2VuZCBhIHBhY2tldCB0aGF0IGhhcyBub3QgYmVlbiBhY2tub3dsZWRnZWQgeWV0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kcmFpblF1ZXVlKGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3RlZCB8fCB0aGlzLl9xdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWNrZXQgPSB0aGlzLl9xdWV1ZVswXTtcbiAgICAgICAgaWYgKHBhY2tldC5wZW5kaW5nICYmICFmb3JjZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBhY2tldC5wZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgcGFja2V0LnRyeUNvdW50Kys7XG4gICAgICAgIHRoaXMuZmxhZ3MgPSBwYWNrZXQuZmxhZ3M7XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBwYWNrZXQuYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHBhY2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcGFja2V0KHBhY2tldCkge1xuICAgICAgICBwYWNrZXQubnNwID0gdGhpcy5uc3A7XG4gICAgICAgIHRoaXMuaW8uX3BhY2tldChwYWNrZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYG9wZW5gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbm9wZW4oKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5hdXRoID09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5hdXRoKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZENvbm5lY3RQYWNrZXQoZGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbmRDb25uZWN0UGFja2V0KHRoaXMuYXV0aCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSBDT05ORUNUIHBhY2tldCB0byBpbml0aWF0ZSB0aGUgU29ja2V0LklPIHNlc3Npb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NlbmRDb25uZWN0UGFja2V0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5wYWNrZXQoe1xuICAgICAgICAgICAgdHlwZTogUGFja2V0VHlwZS5DT05ORUNULFxuICAgICAgICAgICAgZGF0YTogdGhpcy5fcGlkXG4gICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKHsgcGlkOiB0aGlzLl9waWQsIG9mZnNldDogdGhpcy5fbGFzdE9mZnNldCB9LCBkYXRhKVxuICAgICAgICAgICAgICAgIDogZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIGVuZ2luZSBvciBtYW5hZ2VyIGBlcnJvcmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXJyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmVycm9yKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBlbmdpbmUgYGNsb3NlYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb25cbiAgICAgKiBAcGFyYW0gZGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgICBkZWxldGUgdGhpcy5pZDtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJkaXNjb25uZWN0XCIsIHJlYXNvbiwgZGVzY3JpcHRpb24pO1xuICAgICAgICB0aGlzLl9jbGVhckFja3MoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBhY2tub3dsZWRnZW1lbnQgaGFuZGxlcnMgdXBvbiBkaXNjb25uZWN0aW9uLCBzaW5jZSB0aGUgY2xpZW50IHdpbGwgbmV2ZXIgcmVjZWl2ZSBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbVxuICAgICAqIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbGVhckFja3MoKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuYWNrcykuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQnVmZmVyZWQgPSB0aGlzLnNlbmRCdWZmZXIuc29tZSgocGFja2V0KSA9PiBTdHJpbmcocGFja2V0LmlkKSA9PT0gaWQpO1xuICAgICAgICAgICAgaWYgKCFpc0J1ZmZlcmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gbm90ZTogaGFuZGxlcnMgdGhhdCBkbyBub3QgYWNjZXB0IGFuIGVycm9yIGFzIGZpcnN0IGFyZ3VtZW50IGFyZSBpZ25vcmVkIGhlcmVcbiAgICAgICAgICAgICAgICBjb25zdCBhY2sgPSB0aGlzLmFja3NbaWRdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFja3NbaWRdO1xuICAgICAgICAgICAgICAgIGlmIChhY2sud2l0aEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjay5jYWxsKHRoaXMsIG5ldyBFcnJvcihcInNvY2tldCBoYXMgYmVlbiBkaXNjb25uZWN0ZWRcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aXRoIHNvY2tldCBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBhY2tldChwYWNrZXQpIHtcbiAgICAgICAgY29uc3Qgc2FtZU5hbWVzcGFjZSA9IHBhY2tldC5uc3AgPT09IHRoaXMubnNwO1xuICAgICAgICBpZiAoIXNhbWVOYW1lc3BhY2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHN3aXRjaCAocGFja2V0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5DT05ORUNUOlxuICAgICAgICAgICAgICAgIGlmIChwYWNrZXQuZGF0YSAmJiBwYWNrZXQuZGF0YS5zaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmNvbm5lY3QocGFja2V0LmRhdGEuc2lkLCBwYWNrZXQuZGF0YS5waWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0X2Vycm9yXCIsIG5ldyBFcnJvcihcIkl0IHNlZW1zIHlvdSBhcmUgdHJ5aW5nIHRvIHJlYWNoIGEgU29ja2V0LklPIHNlcnZlciBpbiB2Mi54IHdpdGggYSB2My54IGNsaWVudCwgYnV0IHRoZXkgYXJlIG5vdCBjb21wYXRpYmxlIChtb3JlIGluZm9ybWF0aW9uIGhlcmU6IGh0dHBzOi8vc29ja2V0LmlvL2RvY3MvdjMvbWlncmF0aW5nLWZyb20tMi14LXRvLTMtMC8pXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuRVZFTlQ6XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQklOQVJZX0VWRU5UOlxuICAgICAgICAgICAgICAgIHRoaXMub25ldmVudChwYWNrZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBQYWNrZXRUeXBlLkFDSzpcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5CSU5BUllfQUNLOlxuICAgICAgICAgICAgICAgIHRoaXMub25hY2socGFja2V0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUGFja2V0VHlwZS5ESVNDT05ORUNUOlxuICAgICAgICAgICAgICAgIHRoaXMub25kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFBhY2tldFR5cGUuQ09OTkVDVF9FUlJPUjpcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IocGFja2V0LmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIGVyci5kYXRhID0gcGFja2V0LmRhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcImNvbm5lY3RfZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNlcnZlciBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXZlbnQocGFja2V0KSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBwYWNrZXQuZGF0YSB8fCBbXTtcbiAgICAgICAgaWYgKG51bGwgIT0gcGFja2V0LmlkKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2godGhpcy5hY2socGFja2V0LmlkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXRFdmVudChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5wdXNoKE9iamVjdC5mcmVlemUoYXJncykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVtaXRFdmVudChhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl9hbnlMaXN0ZW5lcnMgJiYgdGhpcy5fYW55TGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55TGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmVtaXQuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIGlmICh0aGlzLl9waWQgJiYgYXJncy5sZW5ndGggJiYgdHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9mZnNldCA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcm9kdWNlcyBhbiBhY2sgY2FsbGJhY2sgdG8gZW1pdCB3aXRoIGFuIGV2ZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBhY2soaWQpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGxldCBzZW50ID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gcHJldmVudCBkb3VibGUgY2FsbGJhY2tzXG4gICAgICAgICAgICBpZiAoc2VudClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBzZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYucGFja2V0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBQYWNrZXRUeXBlLkFDSyxcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNlcnZlciBhY2tub3dsZWRnZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmFjayhwYWNrZXQpIHtcbiAgICAgICAgY29uc3QgYWNrID0gdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIGlmICh0eXBlb2YgYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5hY2tzW3BhY2tldC5pZF07XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgRklYTUUgYWNrIGlzIGluY29ycmVjdGx5IGluZmVycmVkIGFzICduZXZlcidcbiAgICAgICAgaWYgKGFjay53aXRoRXJyb3IpIHtcbiAgICAgICAgICAgIHBhY2tldC5kYXRhLnVuc2hpZnQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhY2suYXBwbHkodGhpcywgcGFja2V0LmRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzZXJ2ZXIgY29ubmVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25jb25uZWN0KGlkLCBwaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLnJlY292ZXJlZCA9IHBpZCAmJiB0aGlzLl9waWQgPT09IHBpZDtcbiAgICAgICAgdGhpcy5fcGlkID0gcGlkOyAvLyBkZWZpbmVkIG9ubHkgaWYgY29ubmVjdGlvbiBzdGF0ZSByZWNvdmVyeSBpcyBlbmFibGVkXG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lbWl0QnVmZmVyZWQoKTtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjb25uZWN0XCIpO1xuICAgICAgICB0aGlzLl9kcmFpblF1ZXVlKHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0IGJ1ZmZlcmVkIGV2ZW50cyAocmVjZWl2ZWQgYW5kIGVtaXR0ZWQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBlbWl0QnVmZmVyZWQoKSB7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlci5mb3JFYWNoKChhcmdzKSA9PiB0aGlzLmVtaXRFdmVudChhcmdzKSk7XG4gICAgICAgIHRoaXMucmVjZWl2ZUJ1ZmZlciA9IFtdO1xuICAgICAgICB0aGlzLnNlbmRCdWZmZXIuZm9yRWFjaCgocGFja2V0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5vdGlmeU91dGdvaW5nTGlzdGVuZXJzKHBhY2tldCk7XG4gICAgICAgICAgICB0aGlzLnBhY2tldChwYWNrZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZW5kQnVmZmVyID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHNlcnZlciBkaXNjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm9uY2xvc2UoXCJpbyBzZXJ2ZXIgZGlzY29ubmVjdFwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gZm9yY2VkIGNsaWVudC9zZXJ2ZXIgc2lkZSBkaXNjb25uZWN0aW9ucyxcbiAgICAgKiB0aGlzIG1ldGhvZCBlbnN1cmVzIHRoZSBtYW5hZ2VyIHN0b3BzIHRyYWNraW5nIHVzIGFuZFxuICAgICAqIHRoYXQgcmVjb25uZWN0aW9ucyBkb24ndCBnZXQgdHJpZ2dlcmVkIGZvciB0aGlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5zdWJzKSB7XG4gICAgICAgICAgICAvLyBjbGVhbiBzdWJzY3JpcHRpb25zIHRvIGF2b2lkIHJlY29ubmVjdGlvbnNcbiAgICAgICAgICAgIHRoaXMuc3Vicy5mb3JFYWNoKChzdWJEZXN0cm95KSA9PiBzdWJEZXN0cm95KCkpO1xuICAgICAgICAgICAgdGhpcy5zdWJzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW9bXCJfZGVzdHJveVwiXSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdHMgdGhlIHNvY2tldCBtYW51YWxseS4gSW4gdGhhdCBjYXNlLCB0aGUgc29ja2V0IHdpbGwgbm90IHRyeSB0byByZWNvbm5lY3QuXG4gICAgICpcbiAgICAgKiBJZiB0aGlzIGlzIHRoZSBsYXN0IGFjdGl2ZSBTb2NrZXQgaW5zdGFuY2Ugb2YgdGhlIHtAbGluayBNYW5hZ2VyfSwgdGhlIGxvdy1sZXZlbCBjb25uZWN0aW9uIHdpbGwgYmUgY2xvc2VkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzb2NrZXQgPSBpbygpO1xuICAgICAqXG4gICAgICogc29ja2V0Lm9uKFwiZGlzY29ubmVjdFwiLCAocmVhc29uKSA9PiB7XG4gICAgICogICAvLyBjb25zb2xlLmxvZyhyZWFzb24pOyBwcmludHMgXCJpbyBjbGllbnQgZGlzY29ubmVjdFwiXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzb2NrZXQuZGlzY29ubmVjdCgpO1xuICAgICAqXG4gICAgICogQHJldHVybiBzZWxmXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aGlzLnBhY2tldCh7IHR5cGU6IFBhY2tldFR5cGUuRElTQ09OTkVDVCB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgc29ja2V0IGZyb20gcG9vbFxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAvLyBmaXJlIGV2ZW50c1xuICAgICAgICAgICAgdGhpcy5vbmNsb3NlKFwiaW8gY2xpZW50IGRpc2Nvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciB7QGxpbmsgZGlzY29ubmVjdCgpfS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGNvbXByZXNzIGZsYWcuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5jb21wcmVzcyhmYWxzZSkuZW1pdChcImhlbGxvXCIpO1xuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXByZXNzIC0gaWYgYHRydWVgLCBjb21wcmVzc2VzIHRoZSBzZW5kaW5nIGRhdGFcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKi9cbiAgICBjb21wcmVzcyhjb21wcmVzcykge1xuICAgICAgICB0aGlzLmZsYWdzLmNvbXByZXNzID0gY29tcHJlc3M7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBldmVudCBtZXNzYWdlIHdpbGwgYmUgZHJvcHBlZCB3aGVuIHRoaXMgc29ja2V0IGlzIG5vdFxuICAgICAqIHJlYWR5IHRvIHNlbmQgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC52b2xhdGlsZS5lbWl0KFwiaGVsbG9cIik7IC8vIHRoZSBzZXJ2ZXIgbWF5IG9yIG1heSBub3QgcmVjZWl2ZSBpdFxuICAgICAqXG4gICAgICogQHJldHVybnMgc2VsZlxuICAgICAqL1xuICAgIGdldCB2b2xhdGlsZSgpIHtcbiAgICAgICAgdGhpcy5mbGFncy52b2xhdGlsZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbW9kaWZpZXIgZm9yIGEgc3Vic2VxdWVudCBldmVudCBlbWlzc2lvbiB0aGF0IHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIGFuIGVycm9yIHdoZW4gdGhlXG4gICAgICogZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgd2l0aG91dCBhbiBhY2tub3dsZWRnZW1lbnQgZnJvbSB0aGUgc2VydmVyOlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQudGltZW91dCg1MDAwKS5lbWl0KFwibXktZXZlbnRcIiwgKGVycikgPT4ge1xuICAgICAqICAgaWYgKGVycikge1xuICAgICAqICAgICAvLyB0aGUgc2VydmVyIGRpZCBub3QgYWNrbm93bGVkZ2UgdGhlIGV2ZW50IGluIHRoZSBnaXZlbiBkZWxheVxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHJldHVybnMgc2VsZlxuICAgICAqL1xuICAgIHRpbWVvdXQodGltZW91dCkge1xuICAgICAgICB0aGlzLmZsYWdzLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZVxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzb2NrZXQub25BbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290ICR7ZXZlbnR9YCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBvbkFueShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlMaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0LnByZXBlbmRBbnkoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgZ290IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXJcbiAgICAgKi9cbiAgICBwcmVwZW5kQW55KGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICAgICAgdGhpcy5fYW55TGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhdGNoQWxsTGlzdGVuZXIgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBnb3QgZXZlbnQgJHtldmVudH1gKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBzb2NrZXQub25BbnkoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyByZW1vdmUgYSBzcGVjaWZpYyBsaXN0ZW5lclxuICAgICAqIHNvY2tldC5vZmZBbnkoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyBvciByZW1vdmUgYWxsIGxpc3RlbmVyc1xuICAgICAqIHNvY2tldC5vZmZBbnkoKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgICAqL1xuICAgIG9mZkFueShsaXN0ZW5lcikge1xuICAgICAgICBpZiAoIXRoaXMuX2FueUxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9hbnlMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueUxpc3RlbmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGxpc3RlbmVycyB0aGF0IGFyZSBsaXN0ZW5pbmcgZm9yIGFueSBldmVudCB0aGF0IGlzIHNwZWNpZmllZC4gVGhpcyBhcnJheSBjYW4gYmUgbWFuaXB1bGF0ZWQsXG4gICAgICogZS5nLiB0byByZW1vdmUgbGlzdGVuZXJzLlxuICAgICAqL1xuICAgIGxpc3RlbmVyc0FueSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FueUxpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIGFueSBldmVudCBpcyBlbWl0dGVkLiBUaGUgZXZlbnQgbmFtZSBpcyBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZVxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogTm90ZTogYWNrbm93bGVkZ2VtZW50cyBzZW50IHRvIHRoZSBzZXJ2ZXIgYXJlIG5vdCBpbmNsdWRlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgb25BbnlPdXRnb2luZyhsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzIHx8IFtdO1xuICAgICAgICB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZmlyZWQgd2hlbiBhbnkgZXZlbnQgaXMgZW1pdHRlZC4gVGhlIGV2ZW50IG5hbWUgaXMgcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCB0byB0aGVcbiAgICAgKiBjYWxsYmFjay4gVGhlIGxpc3RlbmVyIGlzIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpc3RlbmVycyBhcnJheS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFja25vd2xlZGdlbWVudHMgc2VudCB0byB0aGUgc2VydmVyIGFyZSBub3QgaW5jbHVkZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNvY2tldC5wcmVwZW5kQW55T3V0Z29pbmcoKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICogICBjb25zb2xlLmxvZyhgc2VudCBldmVudCAke2V2ZW50fWApO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgcHJlcGVuZEFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMgfHwgW107XG4gICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gYW55IGV2ZW50IGlzIGVtaXR0ZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGNhdGNoQWxsTGlzdGVuZXIgPSAoZXZlbnQsIC4uLmFyZ3MpID0+IHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGBzZW50IGV2ZW50ICR7ZXZlbnR9YCk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogc29ja2V0Lm9uQW55T3V0Z29pbmcoY2F0Y2hBbGxMaXN0ZW5lcik7XG4gICAgICpcbiAgICAgKiAvLyByZW1vdmUgYSBzcGVjaWZpYyBsaXN0ZW5lclxuICAgICAqIHNvY2tldC5vZmZBbnlPdXRnb2luZyhjYXRjaEFsbExpc3RlbmVyKTtcbiAgICAgKlxuICAgICAqIC8vIG9yIHJlbW92ZSBhbGwgbGlzdGVuZXJzXG4gICAgICogc29ja2V0Lm9mZkFueU91dGdvaW5nKCk7XG4gICAgICpcbiAgICAgKiBAcGFyYW0gW2xpc3RlbmVyXSAtIHRoZSBjYXRjaC1hbGwgbGlzdGVuZXIgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIG9mZkFueU91dGdvaW5nKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fYW55T3V0Z29pbmdMaXN0ZW5lcnM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgbGlzdGVuZXJzIHRoYXQgYXJlIGxpc3RlbmluZyBmb3IgYW55IGV2ZW50IHRoYXQgaXMgc3BlY2lmaWVkLiBUaGlzIGFycmF5IGNhbiBiZSBtYW5pcHVsYXRlZCxcbiAgICAgKiBlLmcuIHRvIHJlbW92ZSBsaXN0ZW5lcnMuXG4gICAgICovXG4gICAgbGlzdGVuZXJzQW55T3V0Z29pbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyB8fCBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZ5IHRoZSBsaXN0ZW5lcnMgZm9yIGVhY2ggcGFja2V0IHNlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWNrZXRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbm90aWZ5T3V0Z29pbmdMaXN0ZW5lcnMocGFja2V0KSB7XG4gICAgICAgIGlmICh0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycyAmJiB0aGlzLl9hbnlPdXRnb2luZ0xpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2FueU91dGdvaW5nTGlzdGVuZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIHBhY2tldC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKlxuICogSW5pdGlhbGl6ZSBiYWNrb2ZmIHRpbWVyIHdpdGggYG9wdHNgLlxuICpcbiAqIC0gYG1pbmAgaW5pdGlhbCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBbMTAwXVxuICogLSBgbWF4YCBtYXggdGltZW91dCBbMTAwMDBdXG4gKiAtIGBqaXR0ZXJgIFswXVxuICogLSBgZmFjdG9yYCBbMl1cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0c1xuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEJhY2tvZmYob3B0cykge1xuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgIHRoaXMubXMgPSBvcHRzLm1pbiB8fCAxMDA7XG4gICAgdGhpcy5tYXggPSBvcHRzLm1heCB8fCAxMDAwMDtcbiAgICB0aGlzLmZhY3RvciA9IG9wdHMuZmFjdG9yIHx8IDI7XG4gICAgdGhpcy5qaXR0ZXIgPSBvcHRzLmppdHRlciA+IDAgJiYgb3B0cy5qaXR0ZXIgPD0gMSA/IG9wdHMuaml0dGVyIDogMDtcbiAgICB0aGlzLmF0dGVtcHRzID0gMDtcbn1cbi8qKlxuICogUmV0dXJuIHRoZSBiYWNrb2ZmIGR1cmF0aW9uLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLmR1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtcyA9IHRoaXMubXMgKiBNYXRoLnBvdyh0aGlzLmZhY3RvciwgdGhpcy5hdHRlbXB0cysrKTtcbiAgICBpZiAodGhpcy5qaXR0ZXIpIHtcbiAgICAgICAgdmFyIHJhbmQgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB2YXIgZGV2aWF0aW9uID0gTWF0aC5mbG9vcihyYW5kICogdGhpcy5qaXR0ZXIgKiBtcyk7XG4gICAgICAgIG1zID0gKE1hdGguZmxvb3IocmFuZCAqIDEwKSAmIDEpID09IDAgPyBtcyAtIGRldmlhdGlvbiA6IG1zICsgZGV2aWF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5taW4obXMsIHRoaXMubWF4KSB8IDA7XG59O1xuLyoqXG4gKiBSZXNldCB0aGUgbnVtYmVyIG9mIGF0dGVtcHRzLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYXR0ZW1wdHMgPSAwO1xufTtcbi8qKlxuICogU2V0IHRoZSBtaW5pbXVtIGR1cmF0aW9uXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQmFja29mZi5wcm90b3R5cGUuc2V0TWluID0gZnVuY3Rpb24gKG1pbikge1xuICAgIHRoaXMubXMgPSBtaW47XG59O1xuLyoqXG4gKiBTZXQgdGhlIG1heGltdW0gZHVyYXRpb25cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5CYWNrb2ZmLnByb3RvdHlwZS5zZXRNYXggPSBmdW5jdGlvbiAobWF4KSB7XG4gICAgdGhpcy5tYXggPSBtYXg7XG59O1xuLyoqXG4gKiBTZXQgdGhlIGppdHRlclxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cbkJhY2tvZmYucHJvdG90eXBlLnNldEppdHRlciA9IGZ1bmN0aW9uIChqaXR0ZXIpIHtcbiAgICB0aGlzLmppdHRlciA9IGppdHRlcjtcbn07XG4iLCJpbXBvcnQgeyBTb2NrZXQgYXMgRW5naW5lLCBpbnN0YWxsVGltZXJGdW5jdGlvbnMsIG5leHRUaWNrLCB9IGZyb20gXCJlbmdpbmUuaW8tY2xpZW50XCI7XG5pbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbmltcG9ydCAqIGFzIHBhcnNlciBmcm9tIFwic29ja2V0LmlvLXBhcnNlclwiO1xuaW1wb3J0IHsgb24gfSBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHsgQmFja29mZiB9IGZyb20gXCIuL2NvbnRyaWIvYmFja28yLmpzXCI7XG5pbXBvcnQgeyBFbWl0dGVyLCB9IGZyb20gXCJAc29ja2V0LmlvL2NvbXBvbmVudC1lbWl0dGVyXCI7XG5leHBvcnQgY2xhc3MgTWFuYWdlciBleHRlbmRzIEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHVyaSwgb3B0cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubnNwcyA9IHt9O1xuICAgICAgICB0aGlzLnN1YnMgPSBbXTtcbiAgICAgICAgaWYgKHVyaSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXJpKSB7XG4gICAgICAgICAgICBvcHRzID0gdXJpO1xuICAgICAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICBvcHRzLnBhdGggPSBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCI7XG4gICAgICAgIHRoaXMub3B0cyA9IG9wdHM7XG4gICAgICAgIGluc3RhbGxUaW1lckZ1bmN0aW9ucyh0aGlzLCBvcHRzKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb24ob3B0cy5yZWNvbm5lY3Rpb24gIT09IGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25BdHRlbXB0cyhvcHRzLnJlY29ubmVjdGlvbkF0dGVtcHRzIHx8IEluZmluaXR5KTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Rpb25EZWxheShvcHRzLnJlY29ubmVjdGlvbkRlbGF5IHx8IDEwMDApO1xuICAgICAgICB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KG9wdHMucmVjb25uZWN0aW9uRGVsYXlNYXggfHwgNTAwMCk7XG4gICAgICAgIHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigoX2EgPSBvcHRzLnJhbmRvbWl6YXRpb25GYWN0b3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAuNSk7XG4gICAgICAgIHRoaXMuYmFja29mZiA9IG5ldyBCYWNrb2ZmKHtcbiAgICAgICAgICAgIG1pbjogdGhpcy5yZWNvbm5lY3Rpb25EZWxheSgpLFxuICAgICAgICAgICAgbWF4OiB0aGlzLnJlY29ubmVjdGlvbkRlbGF5TWF4KCksXG4gICAgICAgICAgICBqaXR0ZXI6IHRoaXMucmFuZG9taXphdGlvbkZhY3RvcigpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50aW1lb3V0KG51bGwgPT0gb3B0cy50aW1lb3V0ID8gMjAwMDAgOiBvcHRzLnRpbWVvdXQpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy51cmkgPSB1cmk7XG4gICAgICAgIGNvbnN0IF9wYXJzZXIgPSBvcHRzLnBhcnNlciB8fCBwYXJzZXI7XG4gICAgICAgIHRoaXMuZW5jb2RlciA9IG5ldyBfcGFyc2VyLkVuY29kZXIoKTtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gbmV3IF9wYXJzZXIuRGVjb2RlcigpO1xuICAgICAgICB0aGlzLl9hdXRvQ29ubmVjdCA9IG9wdHMuYXV0b0Nvbm5lY3QgIT09IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fYXV0b0Nvbm5lY3QpXG4gICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uKHYpIHtcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uID0gISF2O1xuICAgICAgICBpZiAoIXYpIHtcbiAgICAgICAgICAgIHRoaXMuc2tpcFJlY29ubmVjdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJlY29ubmVjdGlvbkF0dGVtcHRzKHYpIHtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3Rpb25BdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMgPSB2O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXkodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWluKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmFuZG9taXphdGlvbkZhY3Rvcih2KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yO1xuICAgICAgICB0aGlzLl9yYW5kb21pemF0aW9uRmFjdG9yID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0Sml0dGVyKHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVjb25uZWN0aW9uRGVsYXlNYXgodikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0aW9uRGVsYXlNYXg7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdGlvbkRlbGF5TWF4ID0gdjtcbiAgICAgICAgKF9hID0gdGhpcy5iYWNrb2ZmKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0TWF4KHYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdGltZW91dCh2KSB7XG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW1lb3V0O1xuICAgICAgICB0aGlzLl90aW1lb3V0ID0gdjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0cnlpbmcgdG8gcmVjb25uZWN0IGlmIHJlY29ubmVjdGlvbiBpcyBlbmFibGVkIGFuZCB3ZSBoYXZlIG5vdFxuICAgICAqIHN0YXJ0ZWQgcmVjb25uZWN0aW5nIHlldFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBtYXliZVJlY29ubmVjdE9uT3BlbigpIHtcbiAgICAgICAgLy8gT25seSB0cnkgdG8gcmVjb25uZWN0IGlmIGl0J3MgdGhlIGZpcnN0IHRpbWUgd2UncmUgY29ubmVjdGluZ1xuICAgICAgICBpZiAoIXRoaXMuX3JlY29ubmVjdGluZyAmJlxuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPT09IDApIHtcbiAgICAgICAgICAgIC8vIGtlZXBzIHJlY29ubmVjdGlvbiBmcm9tIGZpcmluZyB0d2ljZSBmb3IgdGhlIHNhbWUgcmVjb25uZWN0aW9uIGxvb3BcbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCB0cmFuc3BvcnQgYHNvY2tldGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIG9wdGlvbmFsLCBjYWxsYmFja1xuICAgICAqIEByZXR1cm4gc2VsZlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBvcGVuKGZuKSB7XG4gICAgICAgIGlmICh+dGhpcy5fcmVhZHlTdGF0ZS5pbmRleE9mKFwib3BlblwiKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB0aGlzLmVuZ2luZSA9IG5ldyBFbmdpbmUodGhpcy51cmksIHRoaXMub3B0cyk7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5fcmVhZHlTdGF0ZSA9IFwib3BlbmluZ1wiO1xuICAgICAgICB0aGlzLnNraXBSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICAgICAgLy8gZW1pdCBgb3BlbmBcbiAgICAgICAgY29uc3Qgb3BlblN1YkRlc3Ryb3kgPSBvbihzb2NrZXQsIFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLm9ub3BlbigpO1xuICAgICAgICAgICAgZm4gJiYgZm4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFudXAoKTtcbiAgICAgICAgICAgIHRoaXMuX3JlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJlcnJvclwiLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGZuKSB7XG4gICAgICAgICAgICAgICAgZm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgZG8gdGhpcyBpZiB0aGVyZSBpcyBubyBmbiB0byBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgICAgICAgdGhpcy5tYXliZVJlY29ubmVjdE9uT3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBlbWl0IGBlcnJvcmBcbiAgICAgICAgY29uc3QgZXJyb3JTdWIgPSBvbihzb2NrZXQsIFwiZXJyb3JcIiwgb25FcnJvcik7XG4gICAgICAgIGlmIChmYWxzZSAhPT0gdGhpcy5fdGltZW91dCkge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IHRoaXMuX3RpbWVvdXQ7XG4gICAgICAgICAgICAvLyBzZXQgdGltZXJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9wZW5TdWJEZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgb25FcnJvcihuZXcgRXJyb3IoXCJ0aW1lb3V0XCIpKTtcbiAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvVW5yZWYpIHtcbiAgICAgICAgICAgICAgICB0aW1lci51bnJlZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdWJzLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lb3V0Rm4odGltZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdWJzLnB1c2gob3BlblN1YkRlc3Ryb3kpO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChlcnJvclN1Yik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Igb3BlbigpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHNlbGZcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgY29ubmVjdChmbikge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuKGZuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gdHJhbnNwb3J0IG9wZW4uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9ub3BlbigpIHtcbiAgICAgICAgLy8gY2xlYXIgb2xkIHN1YnNcbiAgICAgICAgdGhpcy5jbGVhbnVwKCk7XG4gICAgICAgIC8vIG1hcmsgYXMgb3BlblxuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJvcGVuXCI7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwib3BlblwiKTtcbiAgICAgICAgLy8gYWRkIG5ldyBzdWJzXG4gICAgICAgIGNvbnN0IHNvY2tldCA9IHRoaXMuZW5naW5lO1xuICAgICAgICB0aGlzLnN1YnMucHVzaChvbihzb2NrZXQsIFwicGluZ1wiLCB0aGlzLm9ucGluZy5iaW5kKHRoaXMpKSwgb24oc29ja2V0LCBcImRhdGFcIiwgdGhpcy5vbmRhdGEuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJlcnJvclwiLCB0aGlzLm9uZXJyb3IuYmluZCh0aGlzKSksIG9uKHNvY2tldCwgXCJjbG9zZVwiLCB0aGlzLm9uY2xvc2UuYmluZCh0aGlzKSksIFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG9uKHRoaXMuZGVjb2RlciwgXCJkZWNvZGVkXCIsIHRoaXMub25kZWNvZGVkLmJpbmQodGhpcykpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHVwb24gYSBwaW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnBpbmcoKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicGluZ1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdpdGggZGF0YS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb25kYXRhKGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGVjb2Rlci5hZGQoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMub25jbG9zZShcInBhcnNlIGVycm9yXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHBhcnNlciBmdWxseSBkZWNvZGVzIGEgcGFja2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbmRlY29kZWQocGFja2V0KSB7XG4gICAgICAgIC8vIHRoZSBuZXh0VGljayBjYWxsIHByZXZlbnRzIGFuIGV4Y2VwdGlvbiBpbiBhIHVzZXItcHJvdmlkZWQgZXZlbnQgbGlzdGVuZXIgZnJvbSB0cmlnZ2VyaW5nIGEgZGlzY29ubmVjdGlvbiBkdWUgdG8gYSBcInBhcnNlIGVycm9yXCJcbiAgICAgICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJwYWNrZXRcIiwgcGFja2V0KTtcbiAgICAgICAgfSwgdGhpcy5zZXRUaW1lb3V0Rm4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBzb2NrZXQgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uZXJyb3IoZXJyKSB7XG4gICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwiZXJyb3JcIiwgZXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzb2NrZXQgZm9yIHRoZSBnaXZlbiBgbnNwYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NvY2tldH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc29ja2V0KG5zcCwgb3B0cykge1xuICAgICAgICBsZXQgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgIGlmICghc29ja2V0KSB7XG4gICAgICAgICAgICBzb2NrZXQgPSBuZXcgU29ja2V0KHRoaXMsIG5zcCwgb3B0cyk7XG4gICAgICAgICAgICB0aGlzLm5zcHNbbnNwXSA9IHNvY2tldDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9hdXRvQ29ubmVjdCAmJiAhc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgc29ja2V0LmNvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc29ja2V0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdXBvbiBhIHNvY2tldCBjbG9zZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzb2NrZXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kZXN0cm95KHNvY2tldCkge1xuICAgICAgICBjb25zdCBuc3BzID0gT2JqZWN0LmtleXModGhpcy5uc3BzKTtcbiAgICAgICAgZm9yIChjb25zdCBuc3Agb2YgbnNwcykge1xuICAgICAgICAgICAgY29uc3Qgc29ja2V0ID0gdGhpcy5uc3BzW25zcF07XG4gICAgICAgICAgICBpZiAoc29ja2V0LmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgYSBwYWNrZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFja2V0XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcGFja2V0KHBhY2tldCkge1xuICAgICAgICBjb25zdCBlbmNvZGVkUGFja2V0cyA9IHRoaXMuZW5jb2Rlci5lbmNvZGUocGFja2V0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbmNvZGVkUGFja2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5lbmdpbmUud3JpdGUoZW5jb2RlZFBhY2tldHNbaV0sIHBhY2tldC5vcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhbiB1cCB0cmFuc3BvcnQgc3Vic2NyaXB0aW9ucyBhbmQgcGFja2V0IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgY2xlYW51cCgpIHtcbiAgICAgICAgdGhpcy5zdWJzLmZvckVhY2goKHN1YkRlc3Ryb3kpID0+IHN1YkRlc3Ryb3koKSk7XG4gICAgICAgIHRoaXMuc3Vicy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmRlY29kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSB0aGUgY3VycmVudCBzb2NrZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jbG9zZSgpIHtcbiAgICAgICAgdGhpcy5za2lwUmVjb25uZWN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMub25jbG9zZShcImZvcmNlZCBjbG9zZVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIGNsb3NlKClcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuOlxuICAgICAqXG4gICAgICogLSB0aGUgbG93LWxldmVsIGVuZ2luZSBpcyBjbG9zZWRcbiAgICAgKiAtIHRoZSBwYXJzZXIgZW5jb3VudGVyZWQgYSBiYWRseSBmb3JtYXR0ZWQgcGFja2V0XG4gICAgICogLSBhbGwgc29ja2V0cyBhcmUgZGlzY29ubmVjdGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG9uY2xvc2UocmVhc29uLCBkZXNjcmlwdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgICAgICAoX2EgPSB0aGlzLmVuZ2luZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsb3NlKCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLl9yZWFkeVN0YXRlID0gXCJjbG9zZWRcIjtcbiAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJjbG9zZVwiLCByZWFzb24sIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGlvbiAmJiAhdGhpcy5za2lwUmVjb25uZWN0KSB7XG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgYSByZWNvbm5lY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHJlY29ubmVjdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlY29ubmVjdGluZyB8fCB0aGlzLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmJhY2tvZmYuYXR0ZW1wdHMgPj0gdGhpcy5fcmVjb25uZWN0aW9uQXR0ZW1wdHMpIHtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5lbWl0UmVzZXJ2ZWQoXCJyZWNvbm5lY3RfZmFpbGVkXCIpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IHRoaXMuYmFja29mZi5kdXJhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gdGhpcy5zZXRUaW1lb3V0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnNraXBSZWNvbm5lY3QpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdF9hdHRlbXB0XCIsIHNlbGYuYmFja29mZi5hdHRlbXB0cyk7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgYWdhaW4gZm9yIHRoZSBjYXNlIHNvY2tldCBjbG9zZWQgaW4gYWJvdmUgZXZlbnRzXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc2tpcFJlY29ubmVjdClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNlbGYub3BlbigoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJlc2VydmVkKFwicmVjb25uZWN0X2Vycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9ucmVjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYXV0b1VucmVmKSB7XG4gICAgICAgICAgICAgICAgdGltZXIudW5yZWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3Vicy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZW91dEZuKHRpbWVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCB1cG9uIHN1Y2Nlc3NmdWwgcmVjb25uZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBvbnJlY29ubmVjdCgpIHtcbiAgICAgICAgY29uc3QgYXR0ZW1wdCA9IHRoaXMuYmFja29mZi5hdHRlbXB0cztcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB0aGlzLmVtaXRSZXNlcnZlZChcInJlY29ubmVjdFwiLCBhdHRlbXB0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB1cmwgfSBmcm9tIFwiLi91cmwuanNcIjtcbmltcG9ydCB7IE1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9zb2NrZXQuanNcIjtcbi8qKlxuICogTWFuYWdlcnMgY2FjaGUuXG4gKi9cbmNvbnN0IGNhY2hlID0ge307XG5mdW5jdGlvbiBsb29rdXAodXJpLCBvcHRzKSB7XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgb3B0cyA9IHVyaTtcbiAgICAgICAgdXJpID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICBjb25zdCBwYXJzZWQgPSB1cmwodXJpLCBvcHRzLnBhdGggfHwgXCIvc29ja2V0LmlvXCIpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHBhcnNlZC5zb3VyY2U7XG4gICAgY29uc3QgaWQgPSBwYXJzZWQuaWQ7XG4gICAgY29uc3QgcGF0aCA9IHBhcnNlZC5wYXRoO1xuICAgIGNvbnN0IHNhbWVOYW1lc3BhY2UgPSBjYWNoZVtpZF0gJiYgcGF0aCBpbiBjYWNoZVtpZF1bXCJuc3BzXCJdO1xuICAgIGNvbnN0IG5ld0Nvbm5lY3Rpb24gPSBvcHRzLmZvcmNlTmV3IHx8XG4gICAgICAgIG9wdHNbXCJmb3JjZSBuZXcgY29ubmVjdGlvblwiXSB8fFxuICAgICAgICBmYWxzZSA9PT0gb3B0cy5tdWx0aXBsZXggfHxcbiAgICAgICAgc2FtZU5hbWVzcGFjZTtcbiAgICBsZXQgaW87XG4gICAgaWYgKG5ld0Nvbm5lY3Rpb24pIHtcbiAgICAgICAgaW8gPSBuZXcgTWFuYWdlcihzb3VyY2UsIG9wdHMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCFjYWNoZVtpZF0pIHtcbiAgICAgICAgICAgIGNhY2hlW2lkXSA9IG5ldyBNYW5hZ2VyKHNvdXJjZSwgb3B0cyk7XG4gICAgICAgIH1cbiAgICAgICAgaW8gPSBjYWNoZVtpZF07XG4gICAgfVxuICAgIGlmIChwYXJzZWQucXVlcnkgJiYgIW9wdHMucXVlcnkpIHtcbiAgICAgICAgb3B0cy5xdWVyeSA9IHBhcnNlZC5xdWVyeUtleTtcbiAgICB9XG4gICAgcmV0dXJuIGlvLnNvY2tldChwYXJzZWQucGF0aCwgb3B0cyk7XG59XG4vLyBzbyB0aGF0IFwibG9va3VwXCIgY2FuIGJlIHVzZWQgYm90aCBhcyBhIGZ1bmN0aW9uIChlLmcuIGBpbyguLi4pYCkgYW5kIGFzIGFcbi8vIG5hbWVzcGFjZSAoZS5nLiBgaW8uY29ubmVjdCguLi4pYCksIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5PYmplY3QuYXNzaWduKGxvb2t1cCwge1xuICAgIE1hbmFnZXIsXG4gICAgU29ja2V0LFxuICAgIGlvOiBsb29rdXAsXG4gICAgY29ubmVjdDogbG9va3VwLFxufSk7XG4vKipcbiAqIFByb3RvY29sIHZlcnNpb24uXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgeyBwcm90b2NvbCB9IGZyb20gXCJzb2NrZXQuaW8tcGFyc2VyXCI7XG4vKipcbiAqIEV4cG9zZSBjb25zdHJ1Y3RvcnMgZm9yIHN0YW5kYWxvbmUgYnVpbGQuXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgeyBNYW5hZ2VyLCBTb2NrZXQsIGxvb2t1cCBhcyBpbywgbG9va3VwIGFzIGNvbm5lY3QsIGxvb2t1cCBhcyBkZWZhdWx0LCB9O1xuZXhwb3J0IHsgRmV0Y2gsIE5vZGVYSFIsIFhIUiwgTm9kZVdlYlNvY2tldCwgV2ViU29ja2V0LCBXZWJUcmFuc3BvcnQsIH0gZnJvbSBcImVuZ2luZS5pby1jbGllbnRcIjtcbiIsIi8qKlxuICogQXV0by1nZW5lcmF0ZWQgY2xpZW50IGZ1bmN0aW9ucyBmcm9tIGRlZmluZS50c1xuICogVGhlc2UgZnVuY3Rpb25zIGFsbG93IENMSUVOVCB0byBjYWxsIFNFUlZFUiBmdW5jdGlvbnMgKFNlcnZlckZ1bmN0aW9ucyBpbnRlcmZhY2UpXG4gKiBhbmQgc2V0IHVwIGhhbmRsZXJzIGZvciBDTElFTlQgZnVuY3Rpb25zIChDbGllbnRGdW5jdGlvbnMgaW50ZXJmYWNlKVxuICovXG5cbmltcG9ydCB0eXBlIHsgU29ja2V0IH0gZnJvbSBcInNvY2tldC5pby1jbGllbnRcIjtcbmltcG9ydCB0eXBlIHsgUnBjRXJyb3IgfSBmcm9tIFwiLi90eXBlcy5nZW5lcmF0ZWRcIjtcbmltcG9ydCB0eXBlIHsgTW9kZWxDb25maWcsIEdlbmVyYXRlTWVzc2FnZUNvbnRleHQsIEdyYXBoLCBBZ2VudFN0ZXAsIE5vdGUgfSBmcm9tIFwiLi9kZWZpbmVcIjtcblxuLy8gPT09IENMSUVOVCBDQUxMSU5HIFNFUlZFUiBGVU5DVElPTlMgPT09XG4vKipcbiAqIENMSUVOVCBjYWxscyBTRVJWRVI6IEVtaXRzICdnZW5lcmF0ZU1lc3NhZ2UnIGV2ZW50IHRvIHNlcnZlciB3aXRob3V0IGFja25vd2xlZGdtZW50LiBJbmNsdWRlcyBidWlsdC1pbiBlcnJvciBoYW5kbGluZy5cbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXQgVGhlIHNvY2tldCBpbnN0YW5jZSBmb3IgY29tbXVuaWNhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0aHJlYWRJZFxuICogQHBhcmFtIHtzdHJpbmd9IHN5c3RlbUluc3RydWN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvbXB0XG4gKiBAcGFyYW0ge01vZGVsQ29uZmlnfSBtb2RlbENvbmZpZ1xuICogQHBhcmFtIHtHZW5lcmF0ZU1lc3NhZ2VDb250ZXh0fSBjb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZU1lc3NhZ2Uoc29ja2V0OiBTb2NrZXQsIHRocmVhZElkOiBzdHJpbmcsIHN5c3RlbUluc3RydWN0aW9uOiBzdHJpbmcsIHByb21wdDogc3RyaW5nLCBtb2RlbENvbmZpZzogTW9kZWxDb25maWcsIGNvbnRleHQ6IEdlbmVyYXRlTWVzc2FnZUNvbnRleHQpOiB2b2lkIHtcbiAgICBzb2NrZXQuZW1pdCgnZ2VuZXJhdGVNZXNzYWdlJywgdGhyZWFkSWQsIHN5c3RlbUluc3RydWN0aW9uLCBwcm9tcHQsIG1vZGVsQ29uZmlnLCBjb250ZXh0KTtcbn1cblxuLyoqXG4gKiBDTElFTlQgY2FsbHMgU0VSVkVSOiBFbWl0cyAnYWJvcnRBbGxHZW5lcmF0aW9ucycgZXZlbnQgdG8gc2VydmVyIHdpdGhvdXQgYWNrbm93bGVkZ21lbnQuIEluY2x1ZGVzIGJ1aWx0LWluIGVycm9yIGhhbmRsaW5nLlxuICogQHBhcmFtIHtTb2NrZXR9IHNvY2tldCBUaGUgc29ja2V0IGluc3RhbmNlIGZvciBjb21tdW5pY2F0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWJvcnRBbGxHZW5lcmF0aW9ucyhzb2NrZXQ6IFNvY2tldCk6IHZvaWQge1xuICAgIHNvY2tldC5lbWl0KCdhYm9ydEFsbEdlbmVyYXRpb25zJyk7XG59XG5cbi8vID09PSBDTElFTlQgSEFORExFUiBGVU5DVElPTlMgPT09XG4vKipcbiAqIFNldHMgdXAgbGlzdGVuZXIgZm9yICdzaG93Tm90aWNlJyBldmVudHMgZnJvbSBzZXJ2ZXJcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXQgVGhlIHNvY2tldCBpbnN0YW5jZSBmb3IgY29tbXVuaWNhdGlvbi5cbiAqIEBwYXJhbSB7KG5vdGljZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+fSBoYW5kbGVyIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHByb2Nlc3MgaW5jb21pbmcgZXZlbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU2hvd05vdGljZShzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKG5vdGljZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+KTogdm9pZCB7XG4gICAgc29ja2V0Lm9uKCdzaG93Tm90aWNlJywgaGFuZGxlcik7XG59XG5cbi8qKlxuICogU2V0cyB1cCBsaXN0ZW5lciBmb3IgJ3VwZGF0ZU5vZGVUZXh0JyBldmVudHMgZnJvbSBzZXJ2ZXJcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXQgVGhlIHNvY2tldCBpbnN0YW5jZSBmb3IgY29tbXVuaWNhdGlvbi5cbiAqIEBwYXJhbSB7KGZpbGVQYXRoOiBzdHJpbmcsIG5vZGVJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD59IGhhbmRsZXIgVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gcHJvY2VzcyBpbmNvbWluZyBldmVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVVcGRhdGVOb2RlVGV4dChzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKGZpbGVQYXRoOiBzdHJpbmcsIG5vZGVJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4pOiB2b2lkIHtcbiAgICBzb2NrZXQub24oJ3VwZGF0ZU5vZGVUZXh0JywgaGFuZGxlcik7XG59XG5cbi8qKlxuICogU2V0cyB1cCBsaXN0ZW5lciBmb3IgJ2NyZWF0ZU5vZGUnIGV2ZW50cyBmcm9tIHNlcnZlciB3aXRoIGFja25vd2xlZGdtZW50XG4gKiBAcGFyYW0ge1NvY2tldH0gc29ja2V0IFRoZSBzb2NrZXQgaW5zdGFuY2UgZm9yIGNvbW11bmljYXRpb24uXG4gKiBAcGFyYW0geyhmaWxlUGF0aDogc3RyaW5nLCBzaXplOiB7IGhlaWdodDogbnVtYmVyOyB3aWR0aDogbnVtYmVyOyB9LCBwYXJlbnRJZHM6IHN0cmluZ1tdLCB0ZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQsIGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQsIGVkZ2U6IHsgbGFiZWw/OiBzdHJpbmc7IH0gfCB1bmRlZmluZWQpID0+IFByb21pc2U8c3RyaW5nIHwgUnBjRXJyb3I+fSBoYW5kbGVyIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHByb2Nlc3MgaW5jb21pbmcgZXZlbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQ3JlYXRlTm9kZShzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKGZpbGVQYXRoOiBzdHJpbmcsIHNpemU6IHsgaGVpZ2h0OiBudW1iZXI7IHdpZHRoOiBudW1iZXI7IH0sIHBhcmVudElkczogc3RyaW5nW10sIHRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZCwgY29sb3I6IHN0cmluZyB8IHVuZGVmaW5lZCwgZWRnZTogeyBsYWJlbD86IHN0cmluZzsgfSB8IHVuZGVmaW5lZCkgPT4gUHJvbWlzZTxzdHJpbmcgfCBScGNFcnJvcj4pOiB2b2lkIHtcbiAgICBzb2NrZXQub24oJ2NyZWF0ZU5vZGUnLCBhc3luYyAoZmlsZVBhdGgsIHNpemUsIHBhcmVudElkcywgdGV4dCwgY29sb3IsIGVkZ2UsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGZpbGVQYXRoLCBzaXplLCBwYXJlbnRJZHMsIHRleHQsIGNvbG9yLCBlZGdlKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbY3JlYXRlTm9kZV0gSGFuZGxlciBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICBjYWxsYmFjayh7IG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0gYXMgUnBjRXJyb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogU2V0cyB1cCBsaXN0ZW5lciBmb3IgJ2RlbGV0ZUVkZ2UnIGV2ZW50cyBmcm9tIHNlcnZlclxuICogQHBhcmFtIHtTb2NrZXR9IHNvY2tldCBUaGUgc29ja2V0IGluc3RhbmNlIGZvciBjb21tdW5pY2F0aW9uLlxuICogQHBhcmFtIHsoZmlsZVBhdGg6IHN0cmluZywgZWRnZUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD59IGhhbmRsZXIgVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gcHJvY2VzcyBpbmNvbWluZyBldmVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVEZWxldGVFZGdlKHNvY2tldDogU29ja2V0LCBoYW5kbGVyOiAoZmlsZVBhdGg6IHN0cmluZywgZWRnZUlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4pOiB2b2lkIHtcbiAgICBzb2NrZXQub24oJ2RlbGV0ZUVkZ2UnLCBoYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBTZXRzIHVwIGxpc3RlbmVyIGZvciAnYWRkRWRnZScgZXZlbnRzIGZyb20gc2VydmVyXG4gKiBAcGFyYW0ge1NvY2tldH0gc29ja2V0IFRoZSBzb2NrZXQgaW5zdGFuY2UgZm9yIGNvbW11bmljYXRpb24uXG4gKiBAcGFyYW0geyhmaWxlUGF0aDogc3RyaW5nLCBmcm9tTm9kZUlkOiBzdHJpbmcsIGZyb21TaWRlOiBzdHJpbmcsIHRvTm9kZUlkOiBzdHJpbmcsIHRvU2lkZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+fSBoYW5kbGVyIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHByb2Nlc3MgaW5jb21pbmcgZXZlbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQWRkRWRnZShzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKGZpbGVQYXRoOiBzdHJpbmcsIGZyb21Ob2RlSWQ6IHN0cmluZywgZnJvbVNpZGU6IHN0cmluZywgdG9Ob2RlSWQ6IHN0cmluZywgdG9TaWRlOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4pOiB2b2lkIHtcbiAgICBzb2NrZXQub24oJ2FkZEVkZ2UnLCBoYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBTZXRzIHVwIGxpc3RlbmVyIGZvciAnYWRkQWdlbnRNZXNzYWdlJyBldmVudHMgZnJvbSBzZXJ2ZXJcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXQgVGhlIHNvY2tldCBpbnN0YW5jZSBmb3IgY29tbXVuaWNhdGlvbi5cbiAqIEBwYXJhbSB7KGZpbGVQYXRoOiBzdHJpbmcsIHRocmVhZElkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPn0gaGFuZGxlciBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBwcm9jZXNzIGluY29taW5nIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUFkZEFnZW50TWVzc2FnZShzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKGZpbGVQYXRoOiBzdHJpbmcsIHRocmVhZElkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPik6IHZvaWQge1xuICAgIHNvY2tldC5vbignYWRkQWdlbnRNZXNzYWdlJywgaGFuZGxlcik7XG59XG5cbi8qKlxuICogU2V0cyB1cCBsaXN0ZW5lciBmb3IgJ2dldEdyYXBoJyBldmVudHMgZnJvbSBzZXJ2ZXIgd2l0aCBhY2tub3dsZWRnbWVudFxuICogQHBhcmFtIHtTb2NrZXR9IHNvY2tldCBUaGUgc29ja2V0IGluc3RhbmNlIGZvciBjb21tdW5pY2F0aW9uLlxuICogQHBhcmFtIHsoZmlsZVBhdGg6IHN0cmluZykgPT4gUHJvbWlzZTxHcmFwaCB8IFJwY0Vycm9yPn0gaGFuZGxlciBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBwcm9jZXNzIGluY29taW5nIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUdldEdyYXBoKHNvY2tldDogU29ja2V0LCBoYW5kbGVyOiAoZmlsZVBhdGg6IHN0cmluZykgPT4gUHJvbWlzZTxHcmFwaCB8IFJwY0Vycm9yPik6IHZvaWQge1xuICAgIHNvY2tldC5vbignZ2V0R3JhcGgnLCBhc3luYyAoZmlsZVBhdGgsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGZpbGVQYXRoKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbZ2V0R3JhcGhdIEhhbmRsZXIgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgICAgY2FsbGJhY2soeyBtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyB9IGFzIFJwY0Vycm9yKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIFNldHMgdXAgbGlzdGVuZXIgZm9yICdhZGRTdGVwJyBldmVudHMgZnJvbSBzZXJ2ZXJcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXQgVGhlIHNvY2tldCBpbnN0YW5jZSBmb3IgY29tbXVuaWNhdGlvbi5cbiAqIEBwYXJhbSB7KHRocmVhZElkOiBzdHJpbmcsIHN0ZXA6IEFnZW50U3RlcCkgPT4gUHJvbWlzZTx2b2lkPn0gaGFuZGxlciBUaGUgaGFuZGxlciBmdW5jdGlvbiB0byBwcm9jZXNzIGluY29taW5nIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUFkZFN0ZXAoc29ja2V0OiBTb2NrZXQsIGhhbmRsZXI6ICh0aHJlYWRJZDogc3RyaW5nLCBzdGVwOiBBZ2VudFN0ZXApID0+IFByb21pc2U8dm9pZD4pOiB2b2lkIHtcbiAgICBzb2NrZXQub24oJ2FkZFN0ZXAnLCBoYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBTZXRzIHVwIGxpc3RlbmVyIGZvciAnc2V0Tm9kZVN0YXR1cycgZXZlbnRzIGZyb20gc2VydmVyXG4gKiBAcGFyYW0ge1NvY2tldH0gc29ja2V0IFRoZSBzb2NrZXQgaW5zdGFuY2UgZm9yIGNvbW11bmljYXRpb24uXG4gKiBAcGFyYW0geyhmaWxlUGF0aDogc3RyaW5nLCBub2RlSWQ6IHN0cmluZywgc3RhdHVzOiBcImdlbmVyYXRpbmdcIiB8IFwic3VjY2Vzc1wiIHwgXCJlcnJvclwiKSA9PiBQcm9taXNlPHZvaWQ+fSBoYW5kbGVyIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHByb2Nlc3MgaW5jb21pbmcgZXZlbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU2V0Tm9kZVN0YXR1cyhzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKGZpbGVQYXRoOiBzdHJpbmcsIG5vZGVJZDogc3RyaW5nLCBzdGF0dXM6IFwiZ2VuZXJhdGluZ1wiIHwgXCJzdWNjZXNzXCIgfCBcImVycm9yXCIpID0+IFByb21pc2U8dm9pZD4pOiB2b2lkIHtcbiAgICBzb2NrZXQub24oJ3NldE5vZGVTdGF0dXMnLCBoYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBTZXRzIHVwIGxpc3RlbmVyIGZvciAnc2V0Tm9kZUNvbG9yJyBldmVudHMgZnJvbSBzZXJ2ZXJcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXQgVGhlIHNvY2tldCBpbnN0YW5jZSBmb3IgY29tbXVuaWNhdGlvbi5cbiAqIEBwYXJhbSB7KGZpbGVQYXRoOiBzdHJpbmcsIG5vZGVJZDogc3RyaW5nLCBjb2xvcjogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+fSBoYW5kbGVyIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHByb2Nlc3MgaW5jb21pbmcgZXZlbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU2V0Tm9kZUNvbG9yKHNvY2tldDogU29ja2V0LCBoYW5kbGVyOiAoZmlsZVBhdGg6IHN0cmluZywgbm9kZUlkOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD4pOiB2b2lkIHtcbiAgICBzb2NrZXQub24oJ3NldE5vZGVDb2xvcicsIGhhbmRsZXIpO1xufVxuXG4vKipcbiAqIFNldHMgdXAgbGlzdGVuZXIgZm9yICdkZWxldGVOb2RlJyBldmVudHMgZnJvbSBzZXJ2ZXJcbiAqIEBwYXJhbSB7U29ja2V0fSBzb2NrZXQgVGhlIHNvY2tldCBpbnN0YW5jZSBmb3IgY29tbXVuaWNhdGlvbi5cbiAqIEBwYXJhbSB7KGZpbGVQYXRoOiBzdHJpbmcsIG5vZGVJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+fSBoYW5kbGVyIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHByb2Nlc3MgaW5jb21pbmcgZXZlbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRGVsZXRlTm9kZShzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKGZpbGVQYXRoOiBzdHJpbmcsIG5vZGVJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+KTogdm9pZCB7XG4gICAgc29ja2V0Lm9uKCdkZWxldGVOb2RlJywgaGFuZGxlcik7XG59XG5cbi8qKlxuICogU2V0cyB1cCBsaXN0ZW5lciBmb3IgJ3NlYXJjaE5vdGVJblZhdWx0JyBldmVudHMgZnJvbSBzZXJ2ZXIgd2l0aCBhY2tub3dsZWRnbWVudFxuICogQHBhcmFtIHtTb2NrZXR9IHNvY2tldCBUaGUgc29ja2V0IGluc3RhbmNlIGZvciBjb21tdW5pY2F0aW9uLlxuICogQHBhcmFtIHsocXVlcnk6IHN0cmluZykgPT4gUHJvbWlzZTxOb3RlW10gfCBScGNFcnJvcj59IGhhbmRsZXIgVGhlIGhhbmRsZXIgZnVuY3Rpb24gdG8gcHJvY2VzcyBpbmNvbWluZyBldmVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVTZWFyY2hOb3RlSW5WYXVsdChzb2NrZXQ6IFNvY2tldCwgaGFuZGxlcjogKHF1ZXJ5OiBzdHJpbmcpID0+IFByb21pc2U8Tm90ZVtdIHwgUnBjRXJyb3I+KTogdm9pZCB7XG4gICAgc29ja2V0Lm9uKCdzZWFyY2hOb3RlSW5WYXVsdCcsIGFzeW5jIChxdWVyeSwgY2FsbGJhY2spID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIocXVlcnkpO1xuICAgICAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tzZWFyY2hOb3RlSW5WYXVsdF0gSGFuZGxlciBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgICBjYWxsYmFjayh7IG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0gYXMgUnBjRXJyb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4iLCIvKipcbiAqIEdlbmVyYXRlIGEgc3RyaW5nIG9mIHJhbmRvbSBoZXhhZGVjaW1hbCBjaGFyc1xuICovXG5leHBvcnQgY29uc3QgcmFuZG9tSGV4U3RyaW5nID0gKGxlbjogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IHQgPSBbXVxuICBmb3IgKGxldCBuID0gMDsgbiA8IGxlbjsgbisrKSB7XG4gICAgdC5wdXNoKCgoMTYgKiBNYXRoLnJhbmRvbSgpKSB8IDApLnRvU3RyaW5nKDE2KSlcbiAgfVxuICByZXR1cm4gdC5qb2luKCcnKVxufVxuIiwiaW1wb3J0IHsgcmFuZG9tSGV4U3RyaW5nIH0gZnJvbSAnQC91dGlscy9yYW5kb21IZXhTdHJpbmcnXG5pbXBvcnQgdHlwZSB7IENhbnZhcywgQ2FudmFzRWRnZUludGVybWVkaWF0ZSwgQ2FudmFzRWRnZVJhdyB9IGZyb20gJy4uL3R5cGVzL2NhbnZhcydcblxuLyoqXG4gKiBBZGQgZWRnZSBlbnRyeSB0byBjYW52YXMuXG4gKi9cbmV4cG9ydCBjb25zdCBhZGRFZGdlID0gYXN5bmMgKGNhbnZhczogQ2FudmFzLCBlZGdlSUQ6IHN0cmluZywgZnJvbUVkZ2U6IENhbnZhc0VkZ2VJbnRlcm1lZGlhdGUsIHRvRWRnZTogQ2FudmFzRWRnZUludGVybWVkaWF0ZSwgZWRnZVJhdz86IFBhcnRpYWw8Q2FudmFzRWRnZVJhdz4pID0+IHtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXG5cbiAgICBjb25zdCBkYXRhID0gY2FudmFzLmdldERhdGEoKVxuXG4gICAgaWYgKCFkYXRhKSByZXR1cm5cblxuICAgIGNhbnZhcy5pbXBvcnREYXRhKHtcbiAgICAgICAgZWRnZXM6IFtcbiAgICAgICAgICAgIC4uLmRhdGEuZWRnZXMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4uZWRnZVJhdyxcbiAgICAgICAgICAgICAgICBpZDogZWRnZUlELFxuICAgICAgICAgICAgICAgIGZyb21Ob2RlOiBmcm9tRWRnZS5ub2RlLmlkLFxuICAgICAgICAgICAgICAgIGZyb21TaWRlOiBmcm9tRWRnZS5zaWRlLFxuICAgICAgICAgICAgICAgIHRvTm9kZTogdG9FZGdlLm5vZGUuaWQsXG4gICAgICAgICAgICAgICAgdG9TaWRlOiB0b0VkZ2Uuc2lkZVxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBub2RlczogZGF0YS5ub2Rlc1xuICAgIH0pXG5cbiAgICBhd2FpdCBjYW52YXMucmVxdWVzdEZyYW1lKClcbn1cblxuZXhwb3J0IGNvbnN0IGFkZEVkZ2VPbmVUb04gPSBhc3luYyAoY2FudmFzOiBDYW52YXMsIGZyb21FZGdlOiBDYW52YXNFZGdlSW50ZXJtZWRpYXRlLCB0b0VkZ2VzOiBDYW52YXNFZGdlSW50ZXJtZWRpYXRlW10pID0+IHtcbiAgICBpZiAoIWNhbnZhcykgcmV0dXJuXG5cbiAgICBjb25zdCBkYXRhID0gY2FudmFzLmdldERhdGEoKVxuXG4gICAgaWYgKCFkYXRhKSByZXR1cm5cblxuICAgIGNvbnN0IG5ld0VkZ2UgPSBbXVxuXG4gICAgZm9yIChjb25zdCB0b0VkZ2Ugb2YgdG9FZGdlcykge1xuICAgICAgICBuZXdFZGdlLnB1c2goe1xuICAgICAgICAgICAgaWQ6IHJhbmRvbUhleFN0cmluZygxNiksXG4gICAgICAgICAgICBmcm9tTm9kZTogZnJvbUVkZ2Uubm9kZS5pZCxcbiAgICAgICAgICAgIGZyb21TaWRlOiBmcm9tRWRnZS5zaWRlLFxuICAgICAgICAgICAgdG9Ob2RlOiB0b0VkZ2Uubm9kZS5pZCxcbiAgICAgICAgICAgIHRvU2lkZTogdG9FZGdlLnNpZGVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjYW52YXMuaW1wb3J0RGF0YSh7XG4gICAgICAgIGVkZ2VzOiBbLi4uZGF0YS5lZGdlcywgLi4ubmV3RWRnZV0sXG4gICAgICAgIG5vZGVzOiBkYXRhLm5vZGVzXG4gICAgfSlcblxuICAgIGF3YWl0IGNhbnZhcy5yZXF1ZXN0RnJhbWUoKVxufVxuXG5leHBvcnQgY29uc3QgYWRkTXVsdGlwbGVFZGdlcyA9IGFzeW5jIChjYW52YXM6IENhbnZhcywgZWRnZXM6IENhbnZhc0VkZ2VSYXdbXSkgPT4ge1xuICAgIGlmICghY2FudmFzKSByZXR1cm5cblxuICAgIGNvbnN0IGRhdGEgPSBjYW52YXMuZ2V0RGF0YSgpXG5cbiAgICBpZiAoIWRhdGEpIHJldHVyblxuXG4gICAgY2FudmFzLmltcG9ydERhdGEoe1xuICAgICAgICBlZGdlczogWy4uLmRhdGEuZWRnZXMsIC4uLmVkZ2VzXSxcbiAgICAgICAgbm9kZXM6IGRhdGEubm9kZXNcbiAgICB9KVxuXG4gICAgYXdhaXQgY2FudmFzLnJlcXVlc3RGcmFtZSgpXG59XG4iLCJpbXBvcnQgdHlwZSB7IEFsbENhbnZhc05vZGVEYXRhIH0gZnJvbSAnb2JzaWRpYW4vY2FudmFzJ1xuaW1wb3J0IHsgYWRkRWRnZSB9IGZyb20gJy4vYWRkRWRnZSdcbmltcG9ydCB7IHJhbmRvbUhleFN0cmluZyB9IGZyb20gJ0AvdXRpbHMvcmFuZG9tSGV4U3RyaW5nJ1xuaW1wb3J0IHR5cGUgeyBDYW52YXMsIENhbnZhc0VkZ2VSYXcsIENhbnZhc05vZGUsIENyZWF0ZU5vZGVPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvY2FudmFzJ1xuXG4vLyBDb25zdGFudHMgZm9yIHRoZSBuZXcgZXhoYXVzdGl2ZSBzZWFyY2ggYWxnb3JpdGhtXG5jb25zdCBDT0xMSVNJT05fUEFERElORyA9IDEwIC8vIFBhZGRpbmcgYXJvdW5kIG5vZGVzIHRvIHByZXZlbnQgY29sbGlzaW9uc1xuY29uc3QgQU5HTEVfSU5DUkVNRU5UID0gNSAvLyBDaGVjayBldmVyeSA1IGRlZ3JlZXMgYXJvdW5kIHRoZSBjaXJjbGVcbmNvbnN0IEJBU0VfUkFESVVTID0gMjUwIC8vIEjhurFuZyBz4buRIGPhu5EgxJHhu4tuaCBjaG8gYsOhbiBrw61uaCBjxqEgc+G7nyB0aGF5IHbDrCB0w61uaCB0aGVvIGvDrWNoIHRoxrDhu5tjIG5vZGVcblxudHlwZSBDb25uZWN0b3JQb3NpdGlvbiA9ICdsZWZ0JyB8ICdyaWdodCcgfCAndG9wJyB8ICdib3R0b20nXG5cbmludGVyZmFjZSBOb2RlUG9zaXRpb24ge1xuICAgIHg6IG51bWJlclxuICAgIHk6IG51bWJlclxuICAgIHdpZHRoOiBudW1iZXJcbiAgICBoZWlnaHQ6IG51bWJlclxufVxuXG5pbnRlcmZhY2UgQ2FuZGlkYXRlUG9zaXRpb24ge1xuICAgIHBvc2l0aW9uOiBOb2RlUG9zaXRpb25cbiAgICBwYXJlbnROb2RlOiBDYW52YXNOb2RlXG4gICAgc2lkZTogQ29ubmVjdG9yUG9zaXRpb25cbiAgICByYWRpdXM6IG51bWJlclxuICAgIGFuZ2xlOiBudW1iZXJcbiAgICBkaXN0YW5jZUZyb21QYXJlbnQ6IG51bWJlclxuICAgIGNvbGxpc2lvblNjb3JlOiBudW1iZXIgLy8gTG93ZXIgaXMgYmV0dGVyICgwID0gbm8gY29sbGlzaW9uKVxufVxuXG4vKipcbiAqIEtp4buDbSB0cmEgY29sbGlzaW9uIMSRxqFuIGdp4bqjbiB24bubaSBwYWRkaW5nXG4gKi9cbmZ1bmN0aW9uIGhhc0NvbGxpc2lvbihjYW52YXM6IENhbnZhcywgcG9zaXRpb246IE5vZGVQb3NpdGlvbiwgZXhjbHVkZU5vZGVzPzogQ2FudmFzTm9kZVtdKTogYm9vbGVhbiB7XG4gICAgY29uc3QgYWxsTm9kZXMgPSBBcnJheS5mcm9tKGNhbnZhcy5ub2Rlcy52YWx1ZXMoKSlcblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBhbGxOb2Rlcykge1xuICAgICAgICBjb25zdCBuZXdOb2RlTGVmdCA9IHBvc2l0aW9uLnggLSBDT0xMSVNJT05fUEFERElOR1xuICAgICAgICBjb25zdCBuZXdOb2RlUmlnaHQgPSBwb3NpdGlvbi54ICsgcG9zaXRpb24ud2lkdGggKyBDT0xMSVNJT05fUEFERElOR1xuICAgICAgICBjb25zdCBuZXdOb2RlVG9wID0gcG9zaXRpb24ueSAtIENPTExJU0lPTl9QQURESU5HXG4gICAgICAgIGNvbnN0IG5ld05vZGVCb3R0b20gPSBwb3NpdGlvbi55ICsgcG9zaXRpb24uaGVpZ2h0ICsgQ09MTElTSU9OX1BBRERJTkdcblxuICAgICAgICBjb25zdCBleGlzdGluZ05vZGVMZWZ0ID0gbm9kZS54XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTm9kZVJpZ2h0ID0gbm9kZS54ICsgbm9kZS53aWR0aFxuICAgICAgICBjb25zdCBleGlzdGluZ05vZGVUb3AgPSBub2RlLnlcbiAgICAgICAgY29uc3QgZXhpc3RpbmdOb2RlQm90dG9tID0gbm9kZS55ICsgbm9kZS5oZWlnaHRcblxuICAgICAgICBjb25zdCBob3Jpem9udGFsT3ZlcmxhcCA9ICEobmV3Tm9kZVJpZ2h0IDw9IGV4aXN0aW5nTm9kZUxlZnQgfHwgbmV3Tm9kZUxlZnQgPj0gZXhpc3RpbmdOb2RlUmlnaHQpXG4gICAgICAgIGNvbnN0IHZlcnRpY2FsT3ZlcmxhcCA9ICEobmV3Tm9kZUJvdHRvbSA8PSBleGlzdGluZ05vZGVUb3AgfHwgbmV3Tm9kZVRvcCA+PSBleGlzdGluZ05vZGVCb3R0b20pXG5cbiAgICAgICAgaWYgKGhvcml6b250YWxPdmVybGFwICYmIHZlcnRpY2FsT3ZlcmxhcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2Vcbn1cblxuLyoqXG4gKiBUw61uaCBjb2xsaXNpb24gc2NvcmUgLSDEkWnhu4NtIGPDoG5nIHRo4bqlcCBjw6BuZyB04buRdFxuICogMCA9IGtow7RuZyBjb2xsaXNpb24sIHPhu5EgY8OgbmcgY2FvID0gY29sbGlzaW9uIGPDoG5nIG5oaeG7gXVcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ29sbGlzaW9uU2NvcmUoY2FudmFzOiBDYW52YXMsIHBvc2l0aW9uOiBOb2RlUG9zaXRpb24sIGV4Y2x1ZGVOb2Rlcz86IENhbnZhc05vZGVbXSk6IG51bWJlciB7XG4gICAgY29uc3QgYWxsTm9kZXMgPSBBcnJheS5mcm9tKGNhbnZhcy5ub2Rlcy52YWx1ZXMoKSlcbiAgICBjb25zdCBleGNsdWRlSWRzID0gbmV3IFNldChleGNsdWRlTm9kZXM/Lm1hcCgobikgPT4gbi5pZCkgfHwgW10pXG4gICAgbGV0IHNjb3JlID0gMFxuXG4gICAgZm9yIChjb25zdCBub2RlIG9mIGFsbE5vZGVzKSB7XG4gICAgICAgIGlmIChleGNsdWRlSWRzLmhhcyhub2RlLmlkKSkgY29udGludWVcblxuICAgICAgICAvLyBUw61uaCBraG/huqNuZyBjw6FjaCB04burIGNlbnRlciBj4bunYSBuZXcgbm9kZSDEkeG6v24gY2VudGVyIGPhu6dhIGV4aXN0aW5nIG5vZGVcbiAgICAgICAgY29uc3QgbmV3Tm9kZUNlbnRlciA9IHsgeDogcG9zaXRpb24ueCArIHBvc2l0aW9uLndpZHRoIC8gMiwgeTogcG9zaXRpb24ueSArIHBvc2l0aW9uLmhlaWdodCAvIDIgfVxuICAgICAgICBjb25zdCBleGlzdGluZ05vZGVDZW50ZXIgPSB7IHg6IG5vZGUueCArIG5vZGUud2lkdGggLyAyLCB5OiBub2RlLnkgKyBub2RlLmhlaWdodCAvIDIgfVxuXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KE1hdGgucG93KG5ld05vZGVDZW50ZXIueCAtIGV4aXN0aW5nTm9kZUNlbnRlci54LCAyKSArIE1hdGgucG93KG5ld05vZGVDZW50ZXIueSAtIGV4aXN0aW5nTm9kZUNlbnRlci55LCAyKSlcblxuICAgICAgICAvLyBLaG/huqNuZyBjw6FjaCB04buRaSB0aGnhu4N1IGPhuqduIHRoaeG6v3QgxJHhu4MgdHLDoW5oIGNvbGxpc2lvblxuICAgICAgICBjb25zdCBtaW5SZXF1aXJlZERpc3RhbmNlID0gKHBvc2l0aW9uLndpZHRoICsgbm9kZS53aWR0aCkgLyAyICsgKHBvc2l0aW9uLmhlaWdodCArIG5vZGUuaGVpZ2h0KSAvIDIgKyBDT0xMSVNJT05fUEFERElORyAqIDJcblxuICAgICAgICBpZiAoZGlzdGFuY2UgPCBtaW5SZXF1aXJlZERpc3RhbmNlKSB7XG4gICAgICAgICAgICAvLyBDw6BuZyBn4bqnbiB0aMOsIHNjb3JlIGPDoG5nIGNhbyAoY8OgbmcgdOG7hylcbiAgICAgICAgICAgIHNjb3JlICs9ICgobWluUmVxdWlyZWREaXN0YW5jZSAtIGRpc3RhbmNlKSAvIG1pblJlcXVpcmVkRGlzdGFuY2UpICogMTAwXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2NvcmVcbn1cblxuLyoqXG4gKiBYw6FjIMSR4buLbmggY29ubmVjdGlvbiBzaWRlIGThu7FhIHRyw6puIGfDs2NcbiAqL1xuZnVuY3Rpb24gZ2V0Q29ubmVjdGlvblNpZGVGcm9tQW5nbGUoYW5nbGU6IG51bWJlcik6IENvbm5lY3RvclBvc2l0aW9uIHtcbiAgICBjb25zdCBub3JtYWxpemVkQW5nbGUgPSAoKGFuZ2xlICUgMzYwKSArIDM2MCkgJSAzNjBcblxuICAgIGlmIChub3JtYWxpemVkQW5nbGUgPj0gMzE1IHx8IG5vcm1hbGl6ZWRBbmdsZSA8IDQ1KSB7XG4gICAgICAgIHJldHVybiAncmlnaHQnXG4gICAgfSBlbHNlIGlmIChub3JtYWxpemVkQW5nbGUgPj0gNDUgJiYgbm9ybWFsaXplZEFuZ2xlIDwgMTM1KSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tJ1xuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZEFuZ2xlID49IDEzNSAmJiBub3JtYWxpemVkQW5nbGUgPCAyMjUpIHtcbiAgICAgICAgcmV0dXJuICdsZWZ0J1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAndG9wJ1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaHXhuq10IHRvw6FuIGNow61uaDogVMOsbSBraeG6v20gZXhoYXVzdGl2ZSB24bubaSBiw6FuIGvDrW5oIG3hu58gcuG7mW5nIGThuqduXG4gKi9cbmZ1bmN0aW9uIGZpbmRPcHRpbWFsUG9zaXRpb25FeGhhdXN0aXZlKFxuICAgIGNhbnZhczogQ2FudmFzLFxuICAgIHBhcmVudE5vZGVzOiBDYW52YXNOb2RlW10sXG4gICAgd2lkdGg6IG51bWJlcixcbiAgICBoZWlnaHQ6IG51bWJlclxuKTogeyBwb3NpdGlvbjogTm9kZVBvc2l0aW9uOyBiZXN0UGFyZW50OiBDYW52YXNOb2RlOyBzaWRlOiBDb25uZWN0b3JQb3NpdGlvbiB9IHtcbiAgICBpZiAocGFyZW50Tm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXQgbGVhc3Qgb25lIHBhcmVudCBub2RlIGlzIHJlcXVpcmVkJylcbiAgICB9XG5cbiAgICBsZXQgYWxsQ2FuZGlkYXRlczogQ2FuZGlkYXRlUG9zaXRpb25bXSA9IFtdXG4gICAgbGV0IGN1cnJlbnRSYWRpdXNTdGVwID0gMSAvLyBC4bqvdCDEkeG6p3UgdOG7qyBixrDhu5tjIDEgKDEgKiBkaWFtZXRlcilcbiAgICBjb25zdCBNQVhfUkFESVVTX1NURVBTID0gNTAgLy8gVOG7kWkgxJFhIDUwIGLGsOG7m2NcbiAgICBjb25zdCBSQURJVVNfQkFUQ0hfU0laRSA9IDNcblxuICAgIGNvbnNvbGUubG9nKGBTdGFydGluZyBzZWFyY2ggd2l0aCBkaWFtZXRlcjogJHtNYXRoLnJvdW5kKEJBU0VfUkFESVVTKX1weCwgYmFzZSByYWRpdXM6ICR7TWF0aC5yb3VuZChCQVNFX1JBRElVUyl9cHhgKVxuXG4gICAgLy8gVMOsbSBraeG6v20gbeG7nyBy4buZbmcgZOG6p24gY2hvIMSR4bq/biBraGkgdMOsbSDEkcaw4bujYyBjYW5kaWRhdGVzIGhv4bq3YyDEkeG6oXQgbGltaXRcbiAgICB3aGlsZSAoYWxsQ2FuZGlkYXRlcy5sZW5ndGggPT09IDAgJiYgY3VycmVudFJhZGl1c1N0ZXAgPD0gTUFYX1JBRElVU19TVEVQUykge1xuICAgICAgICBjb25zdCBjdXJyZW50QmF0Y2hSYWRpaTogbnVtYmVyW10gPSBbXVxuXG4gICAgICAgIC8vIFThuqFvIGJhdGNoIDMgYsOhbiBrw61uaCB0aeG6v3AgdGhlbyB0aGVvIGPhuqVwIHPhu5EgY+G7mW5nXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUkFESVVTX0JBVENIX1NJWkUgJiYgY3VycmVudFJhZGl1c1N0ZXAgKyBpIDw9IE1BWF9SQURJVVNfU1RFUFM7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGN1cnJlbnRSYWRpdXNTdGVwICsgaVxuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gQkFTRV9SQURJVVMgKiBzdGVwIC8vIEPhuqVwIHPhu5EgY+G7mW5nOiBkaWFtZXRlciwgMipkaWFtZXRlciwgMypkaWFtZXRlciwgLi4uXG4gICAgICAgICAgICBjdXJyZW50QmF0Y2hSYWRpaS5wdXNoKHJhZGl1cylcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZWFyY2hpbmcgYmF0Y2ggJHtjdXJyZW50UmFkaXVzU3RlcH0gd2l0aCByYWRpaTogJHtjdXJyZW50QmF0Y2hSYWRpaS5tYXAoKHIpID0+IE1hdGgucm91bmQocikpLmpvaW4oJywgJyl9cHhgKVxuXG4gICAgICAgIC8vIFTDrG0ga2nhur9tIGNobyB04burbmcgcGFyZW50IG5vZGVcbiAgICAgICAgZm9yIChjb25zdCBwYXJlbnROb2RlIG9mIHBhcmVudE5vZGVzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRDZW50ZXIgPSB7XG4gICAgICAgICAgICAgICAgeDogcGFyZW50Tm9kZS54ICsgcGFyZW50Tm9kZS53aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgeTogcGFyZW50Tm9kZS55ICsgcGFyZW50Tm9kZS5oZWlnaHQgLyAyXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFTDrG0ga2nhur9tIHRyb25nIHThu6tuZyBiw6FuIGvDrW5oIGPhu6dhIGJhdGNoIGhp4buHbiB04bqhaVxuICAgICAgICAgICAgZm9yIChjb25zdCByYWRpdXMgb2YgY3VycmVudEJhdGNoUmFkaWkpIHtcbiAgICAgICAgICAgICAgICAvLyBRdcOpdCB0b8OgbiBi4buZIHbDsm5nIHRyw7JuIHbhu5tpIGLGsOG7m2MgQU5HTEVfSU5DUkVNRU5UIMSR4buZXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgYW5nbGUgPSAwOyBhbmdsZSA8IDM2MDsgYW5nbGUgKz0gQU5HTEVfSU5DUkVNRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlUmFkID0gKGFuZ2xlICogTWF0aC5QSSkgLyAxODBcblxuICAgICAgICAgICAgICAgICAgICAvLyBUw61uaCB24buLIHRyw60gbeG7m2lcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZUNlbnRlclggPSBwYXJlbnRDZW50ZXIueCArIE1hdGguY29zKGFuZ2xlUmFkKSAqIHJhZGl1c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOb2RlQ2VudGVyWSA9IHBhcmVudENlbnRlci55ICsgTWF0aC5zaW4oYW5nbGVSYWQpICogcmFkaXVzXG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb246IE5vZGVQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IG5ld05vZGVDZW50ZXJYIC0gd2lkdGggLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogbmV3Tm9kZUNlbnRlclkgLSBoZWlnaHQgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEtp4buDbSB0cmEgY29sbGlzaW9uIGPGoSBi4bqjblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0NvbGxpc2lvbihjYW52YXMsIHBvc2l0aW9uLCBwYXJlbnROb2RlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFTDrW5oIGNvbGxpc2lvbiBzY29yZSBjaGkgdGnhur90XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xsaXNpb25TY29yZSA9IGNhbGN1bGF0ZUNvbGxpc2lvblNjb3JlKGNhbnZhcywgcG9zaXRpb24sIHBhcmVudE5vZGVzKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUw61uaCBraG/huqNuZyBjw6FjaCB04burIHBhcmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2VGcm9tUGFyZW50ID0gTWF0aC5zcXJ0KE1hdGgucG93KG5ld05vZGVDZW50ZXJYIC0gcGFyZW50Q2VudGVyLngsIDIpICsgTWF0aC5wb3cobmV3Tm9kZUNlbnRlclkgLSBwYXJlbnRDZW50ZXIueSwgMikpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZTogQ2FuZGlkYXRlUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRlOiBnZXRDb25uZWN0aW9uU2lkZUZyb21BbmdsZShhbmdsZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ2xlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlRnJvbVBhcmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25TY29yZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDYW5kaWRhdGVzLnB1c2goY2FuZGlkYXRlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudFJhZGl1c1N0ZXAgKz0gUkFESVVTX0JBVENIX1NJWkVcblxuICAgICAgICBpZiAoYWxsQ2FuZGlkYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgJHthbGxDYW5kaWRhdGVzLmxlbmd0aH0gY2FuZGlkYXRlIHBvc2l0aW9ucyBhZnRlciAke2N1cnJlbnRSYWRpdXNTdGVwfSByYWRpaSBjaGVja3NgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhbGxDYW5kaWRhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHNhZmUgcG9zaXRpb25zIGZvdW5kIGV2ZW4gYWZ0ZXIgY2hlY2tpbmcgJHtjdXJyZW50UmFkaXVzU3RlcH0gcmFkaWkgKGxpbWl0OiAke01BWF9SQURJVVNfU1RFUFN9KWApXG4gICAgfVxuXG4gICAgLy8gU+G6r3AgeOG6v3AgY2FuZGlkYXRlcyDEkeG7gyB0w6xtIHbhu4sgdHLDrSB04buRdCBuaOG6pXRcbiAgICAvLyDGr3UgdGnDqm46IGNvbGxpc2lvbiBzY29yZSB0aOG6pXAgLT4gYsOhbiBrw61uaCBuaOG7jyAtPiBraG/huqNuZyBjw6FjaCBn4bqnblxuICAgIGFsbENhbmRpZGF0ZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAvLyDGr3UgdGnDqm4gY29sbGlzaW9uIHNjb3JlIHRo4bqlcCBuaOG6pXRcbiAgICAgICAgaWYgKGEuY29sbGlzaW9uU2NvcmUgIT09IGIuY29sbGlzaW9uU2NvcmUpIHtcbiAgICAgICAgICAgIHJldHVybiBhLmNvbGxpc2lvblNjb3JlIC0gYi5jb2xsaXNpb25TY29yZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gxq91IHRpw6puIGLDoW4ga8Otbmggbmjhu48gaMahbiAoZ+G6p24gcGFyZW50IGjGoW4pXG4gICAgICAgIGlmIChhLnJhZGl1cyAhPT0gYi5yYWRpdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBhLnJhZGl1cyAtIGIucmFkaXVzXG4gICAgICAgIH1cblxuICAgICAgICAvLyDGr3UgdGnDqm4ga2hv4bqjbmcgY8OhY2ggZ+G6p24gcGFyZW50IGjGoW5cbiAgICAgICAgcmV0dXJuIGEuZGlzdGFuY2VGcm9tUGFyZW50IC0gYi5kaXN0YW5jZUZyb21QYXJlbnRcbiAgICB9KVxuXG4gICAgY29uc3QgYmVzdENhbmRpZGF0ZSA9IGFsbENhbmRpZGF0ZXNbMF1cblxuICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBgU2VsZWN0ZWQgYmVzdCBwb3NpdGlvbjogcmFkaXVzPSR7TWF0aC5yb3VuZChiZXN0Q2FuZGlkYXRlLnJhZGl1cyl9cHgsIGAgKyBgYW5nbGU9JHtiZXN0Q2FuZGlkYXRlLmFuZ2xlfcKwLCBjb2xsaXNpb25fc2NvcmU9JHtiZXN0Q2FuZGlkYXRlLmNvbGxpc2lvblNjb3JlLnRvRml4ZWQoMil9YFxuICAgIClcblxuICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiBiZXN0Q2FuZGlkYXRlLnBvc2l0aW9uLFxuICAgICAgICBiZXN0UGFyZW50OiBiZXN0Q2FuZGlkYXRlLnBhcmVudE5vZGUsXG4gICAgICAgIHNpZGU6IGJlc3RDYW5kaWRhdGUuc2lkZVxuICAgIH1cbn1cblxuLyoqXG4gKiBGYWxsYmFjayBwb3NpdGlvbmluZyBu4bq/dSB0aHXhuq10IHRvw6FuIGNow61uaCB0aOG6pXQgYuG6oWlcbiAqL1xuZnVuY3Rpb24gZ2V0RW1lcmdlbmN5UG9zaXRpb24oY2FudmFzOiBDYW52YXMsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogTm9kZVBvc2l0aW9uIHtcbiAgICBjb25zdCBhbGxOb2RlcyA9IEFycmF5LmZyb20oY2FudmFzLm5vZGVzLnZhbHVlcygpKVxuXG4gICAgaWYgKGFsbE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4geyB4OiAxMDAsIHk6IDEwMCwgd2lkdGgsIGhlaWdodCB9XG4gICAgfVxuXG4gICAgLy8gVMOsbSB24buLIHRyw60geGEgbmjhuqV0IHbhu4EgcGjDrWEgcGjhuqNpLWTGsOG7m2lcbiAgICBsZXQgbWF4WCA9IC1JbmZpbml0eVxuICAgIGxldCBtYXhZID0gLUluZmluaXR5XG5cbiAgICBhbGxOb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBub2RlLnggKyBub2RlLndpZHRoKVxuICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgbm9kZS55ICsgbm9kZS5oZWlnaHQpXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IG1heFggKyAxMDAsXG4gICAgICAgIHk6IG1heFkgKyAxMDAsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICB9XG59XG5cbi8qKlxuICogTWFpbiBjcmVhdGVOb2RlIGZ1bmN0aW9uIHbhu5tpIHRodeG6rXQgdG/DoW4gcG9zaXRpb25pbmcgbeG7m2lcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU5vZGUgPSBhc3luYyAoXG4gICAgY2FudmFzOiBDYW52YXMsXG4gICAgcGFyZW50Tm9kZXM6IENhbnZhc05vZGVbXSxcbiAgICBuZXdOb2RlT3B0aW9ucz86IENyZWF0ZU5vZGVPcHRpb25zLFxuICAgIG5ld05vZGVEYXRhPzogUGFydGlhbDxBbGxDYW52YXNOb2RlRGF0YT4sXG4gICAgZWRnZVJhd0RhdGE/OiBQYXJ0aWFsPENhbnZhc0VkZ2VSYXc+XG4pOiBQcm9taXNlPENhbnZhc05vZGU+ID0+IHtcbiAgICBjb25zb2xlLmxvZygnY3JlYXRlTm9kZSB3aXRoIG5ldyBleGhhdXN0aXZlIGFsZ29yaXRobScsIGNhbnZhcywgcGFyZW50Tm9kZXMsIG5ld05vZGVPcHRpb25zLCBuZXdOb2RlRGF0YSwgZWRnZVJhd0RhdGEpXG5cbiAgICBpZiAoIXBhcmVudE5vZGVzIHx8IHBhcmVudE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0IGxlYXN0IG9uZSBwYXJlbnQgbm9kZSBpcyByZXF1aXJlZCcpXG4gICAgfVxuXG4gICAgLy8gMS4gTOG6pXkgbcOgdSB04burIHBhcmVudCBub2RlIMSR4bqndSB0acOqblxuICAgIGNvbnN0IHBhcmVudE5vZGVDb2xvciA9IG5ld05vZGVPcHRpb25zPy5jb2xvciA/PyBwYXJlbnROb2Rlc1swXS5jb2xvclxuXG4gICAgLy8gMi4gWMOhYyDEkeG7i25oIGvDrWNoIHRoxrDhu5tjIG5vZGVcbiAgICBjb25zdCB3aWR0aCA9IG5ld05vZGVPcHRpb25zPy5zaXplPy53aWR0aCA/PyAzMDBcbiAgICBjb25zdCBoZWlnaHQgPSBuZXdOb2RlT3B0aW9ucz8uc2l6ZT8uaGVpZ2h0ID8/IDMwMFxuXG4gICAgLy8gMy4gVMOsbSB24buLIHRyw60gdOG7kWkgxrB1IGLhurFuZyB0aHXhuq10IHRvw6FuIGV4aGF1c3RpdmUgc2VhcmNoXG4gICAgbGV0IG9wdGltYWxSZXN1bHQ6IHsgcG9zaXRpb246IE5vZGVQb3NpdGlvbjsgYmVzdFBhcmVudDogQ2FudmFzTm9kZTsgc2lkZTogQ29ubmVjdG9yUG9zaXRpb24gfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgb3B0aW1hbFJlc3VsdCA9IGZpbmRPcHRpbWFsUG9zaXRpb25FeGhhdXN0aXZlKGNhbnZhcywgcGFyZW50Tm9kZXMsIHdpZHRoLCBoZWlnaHQpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXhoYXVzdGl2ZSBzZWFyY2ggZmFpbGVkLCB1c2luZyBlbWVyZ2VuY3kgcG9zaXRpb25pbmc6JywgZXJyb3IpXG4gICAgICAgIGNvbnN0IGVtZXJnZW5jeVBvc2l0aW9uID0gZ2V0RW1lcmdlbmN5UG9zaXRpb24oY2FudmFzLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICBvcHRpbWFsUmVzdWx0ID0ge1xuICAgICAgICAgICAgcG9zaXRpb246IGVtZXJnZW5jeVBvc2l0aW9uLFxuICAgICAgICAgICAgYmVzdFBhcmVudDogcGFyZW50Tm9kZXNbMF0sXG4gICAgICAgICAgICBzaWRlOiAncmlnaHQnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB7IHBvc2l0aW9uLCBiZXN0UGFyZW50LCBzaWRlIH0gPSBvcHRpbWFsUmVzdWx0XG5cbiAgICAvLyA0LiBU4bqhbyBub2RlIG3hu5tpXG4gICAgY29uc3QgbmV3Tm9kZSA9IGNhbnZhcy5jcmVhdGVUZXh0Tm9kZSh7XG4gICAgICAgIHBvczogeyB4OiBwb3NpdGlvbi54LCB5OiBwb3NpdGlvbi55IH0sXG4gICAgICAgIHNpemU6IHsgaGVpZ2h0OiBwb3NpdGlvbi5oZWlnaHQsIHdpZHRoOiBwb3NpdGlvbi53aWR0aCB9LFxuICAgICAgICB0ZXh0OiBuZXdOb2RlT3B0aW9ucz8udGV4dCxcbiAgICAgICAgZm9jdXM6IGZhbHNlXG4gICAgfSlcblxuICAgIG5ld05vZGUuY29sb3IgPSBwYXJlbnROb2RlQ29sb3JcblxuICAgIGlmIChuZXdOb2RlRGF0YSkge1xuICAgICAgICBuZXdOb2RlLnNldERhdGEobmV3Tm9kZURhdGEpXG4gICAgfVxuXG4gICAgY2FudmFzLmRlc2VsZWN0QWxsKClcbiAgICBjYW52YXMuYWRkTm9kZShuZXdOb2RlKVxuXG4gICAgLy8gNi4gVOG6oW8gZWRnZXMgdOG7qyB04bqldCBj4bqjIHBhcmVudCBub2RlcyDEkeG6v24gbm9kZSBt4bubaVxuICAgIGNvbnN0IGVkZ2VQcm9taXNlcyA9IHBhcmVudE5vZGVzLm1hcChhc3luYyAocGFyZW50Tm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBlZGdlSWQgPSByYW5kb21IZXhTdHJpbmcoMTYpXG5cbiAgICAgICAgLy8gVMOtbmggdG/DoW4gY29ubmVjdGlvbiBzaWRlcyBjaG8gdOG7q25nIGPhurdwIHBhcmVudC1jaGlsZFxuICAgICAgICBjb25zdCBwYXJlbnRDZW50ZXIgPSB7IHg6IHBhcmVudE5vZGUueCArIHBhcmVudE5vZGUud2lkdGggLyAyLCB5OiBwYXJlbnROb2RlLnkgKyBwYXJlbnROb2RlLmhlaWdodCAvIDIgfVxuICAgICAgICBjb25zdCBuZXdOb2RlQ2VudGVyID0geyB4OiBuZXdOb2RlLnggKyBuZXdOb2RlLndpZHRoIC8gMiwgeTogbmV3Tm9kZS55ICsgbmV3Tm9kZS5oZWlnaHQgLyAyIH1cblxuICAgICAgICBjb25zdCBkeCA9IG5ld05vZGVDZW50ZXIueCAtIHBhcmVudENlbnRlci54XG4gICAgICAgIGNvbnN0IGR5ID0gbmV3Tm9kZUNlbnRlci55IC0gcGFyZW50Q2VudGVyLnlcblxuICAgICAgICBsZXQgcGFyZW50U2lkZTogQ29ubmVjdG9yUG9zaXRpb25cbiAgICAgICAgbGV0IG5ld05vZGVTaWRlOiBDb25uZWN0b3JQb3NpdGlvblxuXG4gICAgICAgIC8vIFjDoWMgxJHhu4tuaCBjb25uZWN0aW9uIHNpZGVzIGThu7FhIHRyw6puIHbhu4sgdHLDrSB0xrDGoW5nIMSR4buRaVxuICAgICAgICBpZiAoTWF0aC5hYnMoZHgpID4gTWF0aC5hYnMoZHkpKSB7XG4gICAgICAgICAgICAvLyBL4bq/dCBu4buRaSBuZ2FuZ1xuICAgICAgICAgICAgaWYgKGR4ID4gMCkge1xuICAgICAgICAgICAgICAgIHBhcmVudFNpZGUgPSAncmlnaHQnXG4gICAgICAgICAgICAgICAgbmV3Tm9kZVNpZGUgPSAnbGVmdCdcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyZW50U2lkZSA9ICdsZWZ0J1xuICAgICAgICAgICAgICAgIG5ld05vZGVTaWRlID0gJ3JpZ2h0J1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gS+G6v3QgbuG7kWkgZOG7jWNcbiAgICAgICAgICAgIGlmIChkeSA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRTaWRlID0gJ2JvdHRvbSdcbiAgICAgICAgICAgICAgICBuZXdOb2RlU2lkZSA9ICd0b3AnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudFNpZGUgPSAndG9wJ1xuICAgICAgICAgICAgICAgIG5ld05vZGVTaWRlID0gJ2JvdHRvbSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENodeG6qW4gYuG7iyBlZGdlIGRhdGEgduG7m2kgbcOgdSB04burIHBhcmVudCBub2RlXG4gICAgICAgIGNvbnN0IGVkZ2VEYXRhV2l0aENvbG9yID0ge1xuICAgICAgICAgICAgLi4uZWRnZVJhd0RhdGEsXG4gICAgICAgICAgICBjb2xvcjogcGFyZW50Tm9kZUNvbG9yXG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCBhZGRFZGdlKGNhbnZhcywgZWRnZUlkLCB7IHNpZGU6IHBhcmVudFNpZGUsIG5vZGU6IHBhcmVudE5vZGUgfSwgeyBzaWRlOiBuZXdOb2RlU2lkZSwgbm9kZTogbmV3Tm9kZSB9LCBlZGdlRGF0YVdpdGhDb2xvcilcblxuICAgICAgICByZXR1cm4gZWRnZUlkXG4gICAgfSlcblxuICAgIC8vIENo4budIHThuqV0IGPhuqMgZWRnZXMgxJHGsOG7o2MgdOG6oW9cbiAgICBhd2FpdCBQcm9taXNlLmFsbChlZGdlUHJvbWlzZXMpXG5cbiAgICAvLyA3LiBMxrB1IGNhbnZhc1xuICAgIGNhbnZhcy5yZXF1ZXN0U2F2ZSgpXG5cbiAgICByZXR1cm4gbmV3Tm9kZVxufVxuIiwiaW1wb3J0IHsgQXBwLCBJdGVtVmlldyB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHR5cGUgeyBDYW52YXMsIENhbnZhc1ZpZXcgfSBmcm9tICcuLi90eXBlcy9jYW52YXMnXG5cbi8qKlxuICogR2V0IHRoZSBhY3RpdmUgY2FudmFzIHZpZXdcbiAqIEZpcnN0IHRyaWVzIHRvIGdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSB2aWV3IGlmIGl0J3MgYSBjYW52YXNcbiAqIElmIG5vdCwgbG9va3MgZm9yIHRoZSBtb3N0IHJlY2VudGx5IGFjdGl2ZSBjYW52YXMgdmlld1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlQ2FudmFzVmlldyhhcHA6IEFwcCk6IENhbnZhc1ZpZXcgfCBudWxsIHtcbiAgICAvLyBGaXJzdCwgdHJ5IHRvIGdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSB2aWV3IGlmIGl0J3MgYSBjYW52YXNcbiAgICBjb25zdCBjYW52YXNMZWF2ZXMgPSBhcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnY2FudmFzJylcbiAgICAvLyB0aGUgbW9zdCByZWNlbnRseSBhY3RpdmUgY2FudmFzIGlzIHRoZSBvbmUgd2l0aCB0aGUgaGlnaGVzdCBhY3RpdmVUaW1lXG4gICAgY29uc3Qgc29ydGVkTGVhdmVzID0gY2FudmFzTGVhdmVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZS1uZXh0LWxpbmVcbiAgICAgICAgcmV0dXJuIGIuYWN0aXZlVGltZSAtIGEuYWN0aXZlVGltZVxuICAgIH0pXG5cbiAgICBmb3IgKGNvbnN0IGxlYWYgb2Ygc29ydGVkTGVhdmVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdsZWFmJywgbGVhZilcbiAgICAgICAgLy8gQHRzLWlnbm9yZS1uZXh0LWxpbmVcbiAgICAgICAgaWYgKGxlYWYudGFiSGVhZGVyRWw/LmNsYXNzTGlzdD8uY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZi52aWV3IGFzIENhbnZhc1ZpZXdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG59XG5cbi8vQHRzLWlnbm9yZVxuZXhwb3J0IGZ1bmN0aW9uIGdldENhbnZhc1ZpZXdCeUZpbGVQYXRoKGFwcDogQXBwLCBmaWxlUGF0aDogc3RyaW5nKTogQ2FudmFzVmlldyB8IG51bGwge1xuICAgIC8vIEZpcnN0LCB0cnkgdG8gZ2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIHZpZXcgaWYgaXQncyBhIGNhbnZhc1xuICAgIGNvbnN0IGNhbnZhc0xlYXZlcyA9IGFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdjYW52YXMnKVxuICAgIGZvciAoY29uc3QgbGVhZiBvZiBjYW52YXNMZWF2ZXMpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IGxlYWYudmlld1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmICh2aWV3LnN0YXRlKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAodmlldy5zdGF0ZS5maWxlID09PSBmaWxlUGF0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3IGFzIENhbnZhc1ZpZXdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgfSBlbHNlIGlmICh2aWV3LmZpbGUucGF0aCA9PT0gZmlsZVBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3IGFzIENhbnZhc1ZpZXdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsXG59XG5cbi8qKlxuICogR2V0IHRoZSBhY3RpdmUgY2FudmFzXG4gKiBSZXR1cm5zIHRoZSBjYW52YXMgZnJvbSB0aGUgYWN0aXZlIGNhbnZhcyB2aWV3LCBvciB0aGUgbW9zdCByZWNlbnRseSB1c2VkIGNhbnZhc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlQ2FudmFzKGFwcDogQXBwKTogQ2FudmFzIHwgbnVsbCB7XG4gICAgY29uc3QgY2FudmFzVmlldyA9IGdldEFjdGl2ZUNhbnZhc1ZpZXcoYXBwKVxuICAgIHJldHVybiBjYW52YXNWaWV3Py5jYW52YXMgPz8gbnVsbFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FudmFzQnlGaWxlUGF0aChhcHA6IEFwcCwgZmlsZVBhdGg6IHN0cmluZyk6IENhbnZhcyB8IG51bGwge1xuICAgIGNvbnN0IGNhbnZhc1ZpZXcgPSBnZXRDYW52YXNWaWV3QnlGaWxlUGF0aChhcHAsIGZpbGVQYXRoKVxuICAgIGlmICghY2FudmFzVmlldykge1xuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGFwcC53b3Jrc3BhY2Uuc2V0QWN0aXZlTGVhZihjYW52YXNWaWV3LmxlYWYpXG4gICAgcmV0dXJuIGNhbnZhc1ZpZXc/LmNhbnZhcyA/PyBudWxsXG59IiwiaW1wb3J0ICdvYnNpZGlhbidcbmltcG9ydCB0eXBlIHsgVmlldyB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5kZWNsYXJlIG1vZHVsZSAnb2JzaWRpYW4nIHtcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIElOVEVSTkFMIFBMVUdJTlMgLSBBY2Nlc3MgdG8gYnVpbHQtaW4gT2JzaWRpYW4gZnVuY3Rpb25hbGl0eVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBpbnRlcmZhY2UgR2xvYmFsU2VhcmNoUGx1Z2luSW5zdGFuY2Uge1xuICAgICAgICBkZXNjcmlwdGlvbjogc3RyaW5nXG4gICAgICAgIGlkOiBzdHJpbmdcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgc2hvd01hdGNoSGlnaGxpZ2h0czogYm9vbGVhblxuICAgICAgICAgICAgbGlua1N0eWxlOiBzdHJpbmdcbiAgICAgICAgICAgIGxpc3RTdHlsZTogc3RyaW5nXG4gICAgICAgIH1cbiAgICAgICAgZ2V0R2xvYmFsU2VhcmNoUXVlcnkoKTogYW55XG4gICAgICAgIGluaXQoKTogdm9pZFxuICAgICAgICBvbkZpbGVNZW51KGU6IEV2ZW50LCB0OiBhbnkpOiB2b2lkXG4gICAgICAgIG9uRXh0ZXJuYWxTZXR0aW5nc0NoYW5nZSgpOiB2b2lkXG4gICAgICAgIG9uVXNlckVuYWJsZSgpOiB2b2lkXG4gICAgICAgIG9wZW5HbG9iYWxTZWFyY2gocXVlcnk6IHN0cmluZyk6IHZvaWRcbiAgICAgICAgX2xvYWRlZDogYm9vbGVhblxuICAgIH1cblxuICAgIGludGVyZmFjZSBGaWxlRXhwbG9yZXJQbHVnaW5JbnN0YW5jZSB7XG4gICAgICAgIGlkOiBzdHJpbmdcbiAgICAgICAgZW5hYmxlZDogYm9vbGVhblxuICAgICAgICBpbnN0YW5jZToge1xuICAgICAgICAgICAgZmlsZUJlaW5nUmVuYW1lZD86IFRGaWxlXG4gICAgICAgICAgICByZXZlYWxJbkZvbGRlcihmaWxlOiBUQWJzdHJhY3RGaWxlKTogdm9pZFxuICAgICAgICAgICAgY3JlYXRlTmV3RmlsZShmb2xkZXI/OiBURm9sZGVyKTogUHJvbWlzZTx2b2lkPlxuICAgICAgICAgICAgY3JlYXRlTmV3Rm9sZGVyKGZvbGRlcj86IFRGb2xkZXIpOiBQcm9taXNlPHZvaWQ+XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgQ29tbWFuZFBhbGV0dGVQbHVnaW5JbnN0YW5jZSB7XG4gICAgICAgIGlkOiBzdHJpbmdcbiAgICAgICAgZW5hYmxlZDogYm9vbGVhblxuICAgICAgICBpbnN0YW5jZToge1xuICAgICAgICAgICAgZXhlY3V0ZUNvbW1hbmRCeUlkKGNvbW1hbmRJZDogc3RyaW5nKTogYm9vbGVhblxuICAgICAgICAgICAgZmluZENvbW1hbmQoY29tbWFuZElkOiBzdHJpbmcpOiBDb21tYW5kIHwgdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIEFQUCBFWFRFTlNJT05TIC0gSGlkZGVuIEFwcCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAgIGludGVyZmFjZSBBcHAge1xuICAgICAgICAvLyBJbnRlcm5hbCBwbHVnaW5zIGFjY2Vzc1xuICAgICAgICBpbnRlcm5hbFBsdWdpbnM6IHtcbiAgICAgICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICAgICAgICBba2V5OiBzdHJpbmddOiBhbnlcbiAgICAgICAgICAgICAgICAnZ2xvYmFsLXNlYXJjaCc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IEdsb2JhbFNlYXJjaFBsdWdpbkluc3RhbmNlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICdmaWxlLWV4cGxvcmVyJzoge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZTogRmlsZUV4cGxvcmVyUGx1Z2luSW5zdGFuY2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJ2NvbW1hbmQtcGFsZXR0ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IENvbW1hbmRQYWxldHRlUGx1Z2luSW5zdGFuY2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZXRQbHVnaW5CeUlkKGlkOiBzdHJpbmcpOiBhbnlcbiAgICAgICAgICAgIGdldEVuYWJsZWRQbHVnaW5zKCk6IHN0cmluZ1tdXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21tdW5pdHkgcGx1Z2luc1xuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICBwbHVnaW5zOiB7IFtpZDogc3RyaW5nXTogUGx1Z2luIH1cbiAgICAgICAgICAgIGVuYWJsZVBsdWdpbihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPlxuICAgICAgICAgICAgZGlzYWJsZVBsdWdpbihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPlxuICAgICAgICAgICAgZ2V0UGx1Z2luKGlkOiBzdHJpbmcpOiBQbHVnaW4gfCBudWxsXG4gICAgICAgIH1cblxuICAgICAgICAvLyBIaWRkZW4gY29tbWFuZHMgc3lzdGVtXG4gICAgICAgIGNvbW1hbmRzOiB7XG4gICAgICAgICAgICBjb21tYW5kczogeyBbaWQ6IHN0cmluZ106IENvbW1hbmQgfVxuICAgICAgICAgICAgZWRpdG9yQ29tbWFuZHM6IHsgW2lkOiBzdHJpbmddOiBDb21tYW5kIH1cbiAgICAgICAgICAgIGV4ZWN1dGVDb21tYW5kQnlJZChpZDogc3RyaW5nKTogYm9vbGVhblxuICAgICAgICAgICAgZmluZENvbW1hbmQoaWQ6IHN0cmluZyk6IENvbW1hbmQgfCB1bmRlZmluZWRcbiAgICAgICAgICAgIGxpc3RDb21tYW5kcygpOiBDb21tYW5kW11cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldHRpbmdzIG1hbmFnZW1lbnRcbiAgICAgICAgc2V0dGluZzoge1xuICAgICAgICAgICAgb3BlbigpOiB2b2lkXG4gICAgICAgICAgICBvcGVuVGFiQnlJZChpZDogc3RyaW5nKTogdm9pZFxuICAgICAgICAgICAgY2xvc2UoKTogdm9pZFxuICAgICAgICAgICAgYWN0aXZlVGFiPzogU2V0dGluZ1RhYlxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSG90a2V5IG1hbmFnZW1lbnRcbiAgICAgICAgaG90a2V5TWFuYWdlcjoge1xuICAgICAgICAgICAgZ2V0SG90a2V5cyhjb21tYW5kSWQ6IHN0cmluZyk6IEhvdGtleVtdXG4gICAgICAgICAgICBnZXREZWZhdWx0SG90a2V5cyhjb21tYW5kSWQ6IHN0cmluZyk6IEhvdGtleVtdXG4gICAgICAgICAgICBzZXRIb3RrZXlzKGNvbW1hbmRJZDogc3RyaW5nLCBob3RrZXlzOiBIb3RrZXlbXSk6IHZvaWRcbiAgICAgICAgICAgIHJlbW92ZUhvdGtleXMoY29tbWFuZElkOiBzdHJpbmcpOiB2b2lkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBEcmFnIGFuZCBkcm9wXG4gICAgICAgIGRyYWdNYW5hZ2VyOiB7XG4gICAgICAgICAgICBkcmFnRmlsZShldnQ6IERyYWdFdmVudCwgZmlsZTogVEZpbGUpOiB2b2lkXG4gICAgICAgICAgICBvbkRyYWdTdGFydChldnQ6IERyYWdFdmVudCk6IHZvaWRcbiAgICAgICAgICAgIG9uRHJhZ092ZXIoZXZ0OiBEcmFnRXZlbnQpOiB2b2lkXG4gICAgICAgICAgICBvbkRyb3AoZXZ0OiBEcmFnRXZlbnQpOiB2b2lkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb2RhbCBhbmQgcG9wdXAgbWFuYWdlbWVudFxuICAgICAgICBtb2RhbDoge1xuICAgICAgICAgICAgc3RhY2s6IE1vZGFsW11cbiAgICAgICAgICAgIGdldEN1cnJlbnQoKTogTW9kYWwgfCBudWxsXG4gICAgICAgICAgICBjbG9zZSgpOiB2b2lkXG4gICAgICAgIH1cblxuICAgICAgICAvLyBDdXN0b20gQ1NTIG1hbmFnZW1lbnRcbiAgICAgICAgY3VzdG9tQ3NzOiB7XG4gICAgICAgICAgICB0aGVtZTogc3RyaW5nXG4gICAgICAgICAgICB0aGVtZXM6IHN0cmluZ1tdXG4gICAgICAgICAgICBzbmlwcGV0czogc3RyaW5nW11cbiAgICAgICAgICAgIGVuYWJsZWRTbmlwcGV0czogU2V0PHN0cmluZz5cbiAgICAgICAgICAgIHNldFRoZW1lKHRoZW1lTmFtZTogc3RyaW5nKTogdm9pZFxuICAgICAgICAgICAgZW5hYmxlU25pcHBldChzbmlwcGV0TmFtZTogc3RyaW5nKTogdm9pZFxuICAgICAgICAgICAgZGlzYWJsZVNuaXBwZXQoc25pcHBldE5hbWU6IHN0cmluZyk6IHZvaWRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gV09SS1NQQUNFIEVYVEVOU0lPTlMgLSBIaWRkZW4gd29ya3NwYWNlIGZ1bmN0aW9uYWxpdHlcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgaW50ZXJmYWNlIFdvcmtzcGFjZSB7XG4gICAgICAgIC8vIEZsb2F0aW5nIHdpbmRvd3MgKHBvcG91dCB3aW5kb3dzKVxuICAgICAgICBmbG9hdGluZ1NwbGl0OiB7XG4gICAgICAgICAgICBjaGlsZHJlbjogV29ya3NwYWNlV2luZG93W11cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExheW91dCBoaXN0b3J5XG4gICAgICAgIGxheW91dEhpc3Rvcnk6IHtcbiAgICAgICAgICAgIGhpc3Rvcnk6IGFueVtdXG4gICAgICAgICAgICBpbmRleDogbnVtYmVyXG4gICAgICAgICAgICBjYW5Hb0JhY2soKTogYm9vbGVhblxuICAgICAgICAgICAgY2FuR29Gb3J3YXJkKCk6IGJvb2xlYW5cbiAgICAgICAgICAgIGdvQmFjaygpOiB2b2lkXG4gICAgICAgICAgICBnb0ZvcndhcmQoKTogdm9pZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSG92ZXIgcHJldmlld1xuICAgICAgICBob3ZlckxpbmtTb3VyY2VzOiBNYXA8c3RyaW5nLCBIb3ZlckxpbmtTb3VyY2U+XG5cbiAgICAgICAgLy8gVGFiIG1hbmFnZW1lbnRcbiAgICAgICAgcmVxdWVzdFVwZGF0ZUxheW91dCgpOiB2b2lkXG4gICAgICAgIHJlcXVlc3RBY3RpdmVMZWFmRXZlbnRzKCk6IHZvaWRcblxuICAgICAgICAvLyBTaWRlYmFyIG1hbmFnZW1lbnRcbiAgICAgICAgbGVmdFNpZGViYXI6IHtcbiAgICAgICAgICAgIGNvbGxhcHNlZDogYm9vbGVhblxuICAgICAgICAgICAgd2lkdGg6IG51bWJlclxuICAgICAgICAgICAgdG9nZ2xlKCk6IHZvaWRcbiAgICAgICAgICAgIGV4cGFuZCgpOiB2b2lkXG4gICAgICAgICAgICBjb2xsYXBzZSgpOiB2b2lkXG4gICAgICAgIH1cbiAgICAgICAgcmlnaHRTaWRlYmFyOiB7XG4gICAgICAgICAgICBjb2xsYXBzZWQ6IGJvb2xlYW5cbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXJcbiAgICAgICAgICAgIHRvZ2dsZSgpOiB2b2lkXG4gICAgICAgICAgICBleHBhbmQoKTogdm9pZFxuICAgICAgICAgICAgY29sbGFwc2UoKTogdm9pZFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBWQVVMVCBFWFRFTlNJT05TIC0gSGlkZGVuIHZhdWx0IGZ1bmN0aW9uYWxpdHlcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgaW50ZXJmYWNlIFZhdWx0IHtcbiAgICAgICAgLy8gQ29uZmlndXJhdGlvbiBmb2xkZXIgYWNjZXNzXG4gICAgICAgIGNvbmZpZ0Rpcjogc3RyaW5nXG5cbiAgICAgICAgLy8gRmlsZSBzeXN0ZW0gd2F0Y2hlclxuICAgICAgICBmaWxlTWFwOiB7IFtwYXRoOiBzdHJpbmddOiBURmlsZSB9XG5cbiAgICAgICAgLy8gVHJhc2ggbWFuYWdlbWVudCBpbnRlcm5hbHMgKHNlcGFyYXRlIGZyb20gdGhlIHRyYXNoIG1ldGhvZClcbiAgICAgICAgdHJhc2hNYW5hZ2VyOiB7XG4gICAgICAgICAgICBzeXN0ZW06IGJvb2xlYW5cbiAgICAgICAgICAgIGxvY2FsOiBzdHJpbmdbXVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmlsZSBvcGVyYXRpb25zIHF1ZXVlXG4gICAgICAgIGZpbGVRdWV1ZToge1xuICAgICAgICAgICAgcGVuZGluZzogUHJvbWlzZTxhbnk+W11cbiAgICAgICAgICAgIGFkZDxUPihvcGVyYXRpb246ICgpID0+IFByb21pc2U8VD4pOiBQcm9taXNlPFQ+XG4gICAgICAgIH1cblxuICAgICAgICAvLyBIaWRkZW4gZmlsZSBvcGVyYXRpb25zXG4gICAgICAgIHRyeVBhdGgocGF0aDogc3RyaW5nKTogc3RyaW5nXG4gICAgICAgIGdldEF2YWlsYWJsZVBhdGgocGF0aDogc3RyaW5nLCBleHRlbnNpb24/OiBzdHJpbmcpOiBzdHJpbmdcbiAgICB9XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIE1FVEFEQVRBIENBQ0hFIEVYVEVOU0lPTlMgLSBIaWRkZW4gY2FjaGUgZnVuY3Rpb25hbGl0eVxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICBpbnRlcmZhY2UgTWV0YWRhdGFDYWNoZSB7XG4gICAgICAgIC8vIEludGVybmFsIGNhY2hlIHN0b3JhZ2VcbiAgICAgICAgZmlsZUNhY2hlOiBNYXA8c3RyaW5nLCBDYWNoZWRNZXRhZGF0YT5cblxuICAgICAgICAvLyBMaW5rIHJlc29sdXRpb25cbiAgICAgICAgbGlua1Jlc29sdmVyOiB7XG4gICAgICAgICAgICByZXNvbHZlKGxpbmt0ZXh0OiBzdHJpbmcsIHNvdXJjZVBhdGg6IHN0cmluZyk6IFRGaWxlIHwgbnVsbFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FjaGUgY2xlYW51cFxuICAgICAgICBjbGVhbnVwRGVsZXRlZENhY2hlKCk6IHZvaWRcblxuICAgICAgICAvLyBGb3JjZSBjYWNoZSB1cGRhdGVcbiAgICAgICAgdHJpZ2dlcihuYW1lOiBzdHJpbmcsIGZpbGU6IFRGaWxlLCBjYWNoZT86IENhY2hlZE1ldGFkYXRhKTogdm9pZFxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gQ09NUE9ORU5UIEVYVEVOU0lPTlMgLSBBZGRpdGlvbmFsIFVJIGNvbXBvbmVudHNcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgaW50ZXJmYWNlIEJ1dHRvbkNvbXBvbmVudCB7XG4gICAgICAgIC8vIEhpZGRlbiBidXR0b24gc3R5bGluZyBtZXRob2RzXG4gICAgICAgIHNldEN0YSgpOiB0aGlzXG4gICAgICAgIHJlbW92ZUN0YSgpOiB0aGlzXG4gICAgICAgIHNldFdhcm5pbmcoKTogdGhpc1xuICAgICAgICByZW1vdmVXYXJuaW5nKCk6IHRoaXNcbiAgICB9XG5cbiAgICBpbnRlcmZhY2UgTW9kYWwge1xuICAgICAgICAvLyBNb2RhbCBwb3NpdGlvbmluZ1xuICAgICAgICBzaG91bGRSZXN0b3JlU2VsZWN0aW9uOiBib29sZWFuXG4gICAgICAgIHJlc3RvcmVTZWxlY3Rpb24oKTogdm9pZFxuXG4gICAgICAgIC8vIEtleWJvYXJkIGhhbmRsaW5nXG4gICAgICAgIHNjb3BlOiBTY29wZVxuICAgIH1cblxuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAgLy8gVVRJTElUWSBUWVBFUyAtIEZvciB0eXBlIHNhZmV0eSB3aGVuIGFjY2Vzc2luZyBoaWRkZW4gcHJvcGVydGllc1xuICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgICB0eXBlIEludGVybmFsUGx1Z2luID0ge1xuICAgICAgICBlbmFibGVkOiBib29sZWFuXG4gICAgICAgIGluc3RhbmNlOiBhbnlcbiAgICAgICAgX2xvYWRlZDogYm9vbGVhblxuICAgIH1cblxuICAgIHR5cGUgQ29tbWFuZE1hcCA9IHsgW2lkOiBzdHJpbmddOiBDb21tYW5kIH1cblxuICAgIHR5cGUgUGx1Z2luTWFwID0geyBbaWQ6IHN0cmluZ106IFBsdWdpbiB9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBVU0FHRSBFWEFNUExFUyBBTkQgSEVMUEVSIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBUeXBlLXNhZmUgaGVscGVyIHRvIGFjY2VzcyBpbnRlcm5hbCBwbHVnaW5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5hbFBsdWdpbjxUID0gYW55PihhcHA6IGltcG9ydCgnb2JzaWRpYW4nKS5BcHAsIHBsdWdpbklkOiBzdHJpbmcpOiBUIHwgbnVsbCB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcGx1Z2luID0gYXBwLmludGVybmFsUGx1Z2lucz8ucGx1Z2lucz8uW3BsdWdpbklkXVxuICAgICAgICByZXR1cm4gcGx1Z2luPy5pbnN0YW5jZSB8fCBudWxsXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gYWNjZXNzIGludGVybmFsIHBsdWdpbjogJHtwbHVnaW5JZH1gLCBlcnJvcilcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG59XG5cbi8qKlxuICogVHlwZS1zYWZlIGhlbHBlciB0byBleGVjdXRlIGNvbW1hbmRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlQ29tbWFuZChhcHA6IGltcG9ydCgnb2JzaWRpYW4nKS5BcHAsIGNvbW1hbmRJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcC5jb21tYW5kcz8uZXhlY3V0ZUNvbW1hbmRCeUlkPy4oY29tbWFuZElkKSB8fCBmYWxzZVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGV4ZWN1dGUgY29tbWFuZDogJHtjb21tYW5kSWR9YCwgZXJyb3IpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbn1cblxuXG4vLyBSZXN1bHQgdmFsdWUgcmV0dXJuZWQgZnJvbSBlYWNoIHNlYXJjaCBtYXRjaFxuZXhwb3J0IGludGVyZmFjZSBTZWFyY2hSZXN1bHRWYWx1ZSB7XG4gICAgZmlsZToge1xuICAgICAgICBwYXRoOiBzdHJpbmdcbiAgICAgICAgbmFtZTogc3RyaW5nXG4gICAgfVxuICAgIGNvbnRlbnQ6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBTZWFyY2hWaWV3ID0gVmlldyAmIHtcbiAgICBkb206IHtcbiAgICAgICAgcmVzdWx0RG9tTG9va3VwOiBNYXA8bnVtYmVyLCBTZWFyY2hSZXN1bHRWYWx1ZT5cbiAgICB9XG59XG5cbi8qKlxuICogU2FmZWx5IGFjY2VzcyBhIHByb3BlcnR5IG9yIG1ldGhvZCwgcmV0dXJuaW5nIGEgZmFsbGJhY2sgdmFsdWUgaWYgaXQgZmFpbHNcbiAqIEBwYXJhbSBhY2Nlc3NvciBGdW5jdGlvbiB0byBhY2Nlc3MgdGhlIHByb3BlcnR5L21ldGhvZFxuICogQHBhcmFtIGZhbGxiYWNrIEZhbGxiYWNrIHZhbHVlIGlmIGFjY2VzcyBmYWlsc1xuICogQHJldHVybnMgVGhlIGFjY2Vzc2VkIHZhbHVlIG9yIGZhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlbHlBY2Nlc3M8VD4oYWNjZXNzb3I6ICgpID0+IFQsIGZhbGxiYWNrOiBUKTogVCB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFjY2Vzc29yKClcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZmFsbGJhY2tcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHAsIFRGaWxlLCBOb3RpY2UsIFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgZ2V0SW50ZXJuYWxQbHVnaW4sIGV4ZWN1dGVDb21tYW5kLCBzYWZlbHlBY2Nlc3MgfSBmcm9tICcuLi90eXBlcy9vYnNpZGlhbi1leHRlbnNpb25zJ1xuXG4vKipcbiAqIEFjY2VzcyB0aGUgZ2xvYmFsIHNlYXJjaCBmdW5jdGlvbmFsaXR5XG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICogQHBhcmFtIHF1ZXJ5IC0gT3B0aW9uYWwgc2VhcmNoIHF1ZXJ5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuR2xvYmFsU2VhcmNoKGFwcDogQXBwLCBxdWVyeT86IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGdsb2JhbFNlYXJjaCA9IGdldEludGVybmFsUGx1Z2luKGFwcCwgJ2dsb2JhbC1zZWFyY2gnKVxuICAgIGlmIChnbG9iYWxTZWFyY2ggJiYgZ2xvYmFsU2VhcmNoLm9wZW5HbG9iYWxTZWFyY2gpIHtcbiAgICAgICAgZ2xvYmFsU2VhcmNoLm9wZW5HbG9iYWxTZWFyY2gocXVlcnkgfHwgJycpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSgnR2xvYmFsIHNlYXJjaCBub3QgYXZhaWxhYmxlJylcbiAgICB9XG59XG5cbi8qKlxuICogR2V0IGN1cnJlbnQgc2VhcmNoIHF1ZXJ5IGZyb20gZ2xvYmFsIHNlYXJjaFxuICogQHBhcmFtIGFwcCAtIFRoZSBPYnNpZGlhbiBBcHAgaW5zdGFuY2VcbiAqIEByZXR1cm5zIEN1cnJlbnQgc2VhcmNoIHF1ZXJ5IG9yIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRTZWFyY2hRdWVyeShhcHA6IEFwcCk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IGdsb2JhbFNlYXJjaCA9IGdldEludGVybmFsUGx1Z2luKGFwcCwgJ2dsb2JhbC1zZWFyY2gnKVxuICAgIGlmIChnbG9iYWxTZWFyY2ggJiYgZ2xvYmFsU2VhcmNoLmdldEdsb2JhbFNlYXJjaFF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxTZWFyY2guZ2V0R2xvYmFsU2VhcmNoUXVlcnkoKVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxufVxuXG4vKipcbiAqIFJldmVhbCBmaWxlIGluIGZpbGUgZXhwbG9yZXJcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcGFyYW0gZmlsZSAtIFRoZSBmaWxlIHRvIHJldmVhbFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV2ZWFsRmlsZUluRXhwbG9yZXIoYXBwOiBBcHAsIGZpbGU6IFRGaWxlKTogdm9pZCB7XG4gICAgY29uc3QgZmlsZUV4cGxvcmVyID0gZ2V0SW50ZXJuYWxQbHVnaW4oYXBwLCAnZmlsZS1leHBsb3JlcicpXG4gICAgaWYgKGZpbGVFeHBsb3JlciAmJiBmaWxlRXhwbG9yZXIucmV2ZWFsSW5Gb2xkZXIpIHtcbiAgICAgICAgZmlsZUV4cGxvcmVyLnJldmVhbEluRm9sZGVyKGZpbGUpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IE5vdGljZSgnRmlsZSBleHBsb3JlciBub3QgYXZhaWxhYmxlJylcbiAgICB9XG59XG5cbi8qKlxuICogRXhlY3V0ZSBhIGNvbW1hbmQgYnkgSUQgd2l0aCB0eXBlIHNhZmV0eVxuICogQHBhcmFtIGFwcCAtIFRoZSBPYnNpZGlhbiBBcHAgaW5zdGFuY2UgIFxuICogQHBhcmFtIGNvbW1hbmRJZCAtIFRoZSBjb21tYW5kIElEIHRvIGV4ZWN1dGVcbiAqIEByZXR1cm5zIFdoZXRoZXIgdGhlIGNvbW1hbmQgd2FzIGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZU9ic2lkaWFuQ29tbWFuZChhcHA6IEFwcCwgY29tbWFuZElkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZXhlY3V0ZUNvbW1hbmQoYXBwLCBjb21tYW5kSWQpXG59XG5cbi8qKlxuICogR2V0IGFsbCBhdmFpbGFibGUgY29tbWFuZHNcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcmV0dXJucyBBcnJheSBvZiBjb21tYW5kIElEc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ29tbWFuZHMoYXBwOiBBcHApOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHNhZmVseUFjY2VzcygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbW1hbmRzID0gYXBwLmNvbW1hbmRzPy5jb21tYW5kcyB8fCB7fVxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoY29tbWFuZHMpXG4gICAgfSwgW10pIHx8IFtdXG59XG5cbi8qKlxuICogR2V0IGVuYWJsZWQgaW50ZXJuYWwgcGx1Z2luc1xuICogQHBhcmFtIGFwcCAtIFRoZSBPYnNpZGlhbiBBcHAgaW5zdGFuY2VcbiAqIEByZXR1cm5zIEFycmF5IG9mIGVuYWJsZWQgcGx1Z2luIG5hbWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmFibGVkSW50ZXJuYWxQbHVnaW5zKGFwcDogQXBwKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXBwLmludGVybmFsUGx1Z2lucz8uZ2V0RW5hYmxlZFBsdWdpbnM/LigpIHx8IFtdXG4gICAgfSwgW10pIHx8IFtdXG59XG5cbi8qKlxuICogVG9nZ2xlIGxlZnQgc2lkZWJhciB2aXNpYmlsaXR5XG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlTGVmdFNpZGViYXIoYXBwOiBBcHApOiB2b2lkIHtcbiAgICBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICBhcHAud29ya3NwYWNlLmxlZnRTaWRlYmFyPy50b2dnbGU/LigpXG4gICAgfSwgdW5kZWZpbmVkKVxufVxuXG4vKipcbiAqIFRvZ2dsZSByaWdodCBzaWRlYmFyIHZpc2liaWxpdHlcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVSaWdodFNpZGViYXIoYXBwOiBBcHApOiB2b2lkIHtcbiAgICBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICBhcHAud29ya3NwYWNlLnJpZ2h0U2lkZWJhcj8udG9nZ2xlPy4oKVxuICAgIH0sIHVuZGVmaW5lZClcbn1cblxuLyoqXG4gKiBPcGVuIHNldHRpbmdzIHRvIGEgc3BlY2lmaWMgdGFiXG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICogQHBhcmFtIHRhYklkIC0gVGhlIHNldHRpbmdzIHRhYiBJRCB0byBvcGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuU2V0dGluZ3NUYWIoYXBwOiBBcHAsIHRhYklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICBhcHAuc2V0dGluZz8ub3BlblRhYkJ5SWQ/Lih0YWJJZClcbiAgICB9LCB1bmRlZmluZWQpXG59XG5cbi8qKlxuICogT3BlbiBnZW5lcmFsIHNldHRpbmdzIGRpYWxvZ1xuICogQHBhcmFtIGFwcCAtIFRoZSBPYnNpZGlhbiBBcHAgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9wZW5TZXR0aW5ncyhhcHA6IEFwcCk6IHZvaWQge1xuICAgIHNhZmVseUFjY2VzcygoKSA9PiB7XG4gICAgICAgIGFwcC5zZXR0aW5nPy5vcGVuPy4oKVxuICAgIH0sIHVuZGVmaW5lZClcbn1cblxuLyoqXG4gKiBHZXQgaG90a2V5cyBmb3IgYSBjb21tYW5kXG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICogQHBhcmFtIGNvbW1hbmRJZCAtIFRoZSBjb21tYW5kIElEIHRvIGdldCBob3RrZXlzIGZvclxuICogQHJldHVybnMgQXJyYXkgb2YgaG90a2V5IHN0cmluZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhvdGtleXNGb3JDb21tYW5kKGFwcDogQXBwLCBjb21tYW5kSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gc2FmZWx5QWNjZXNzKCgpID0+IHtcbiAgICAgICAgY29uc3QgaG90a2V5cyA9IGFwcC5ob3RrZXlNYW5hZ2VyPy5nZXRIb3RrZXlzPy4oY29tbWFuZElkKSB8fCBbXVxuICAgICAgICByZXR1cm4gaG90a2V5cy5tYXAoaCA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb2RpZmllcnMgPSBoLm1vZGlmaWVycy5qb2luKCcrJylcbiAgICAgICAgICAgIHJldHVybiBtb2RpZmllcnMgPyBgJHttb2RpZmllcnN9KyR7aC5rZXl9YCA6IGgua2V5XG4gICAgICAgIH0pXG4gICAgfSwgW10pIHx8IFtdXG59XG5cbi8qKlxuICogR2V0IGN1cnJlbnQgdGhlbWVcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcmV0dXJucyBDdXJyZW50IHRoZW1lIG5hbWUgb3IgbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFRoZW1lKGFwcDogQXBwKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHNhZmVseUFjY2VzcygoKSA9PiB7XG4gICAgICAgIHJldHVybiBhcHAuY3VzdG9tQ3NzPy50aGVtZSA/PyBudWxsXG4gICAgfSwgbnVsbCkgPz8gbnVsbFxufVxuXG4vKipcbiAqIFNldCB0aGVtZVxuICogQHBhcmFtIGFwcCAtIFRoZSBPYnNpZGlhbiBBcHAgaW5zdGFuY2VcbiAqIEBwYXJhbSB0aGVtZU5hbWUgLSBUaGUgdGhlbWUgbmFtZSB0byBzZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRoZW1lKGFwcDogQXBwLCB0aGVtZU5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHNhZmVseUFjY2VzcygoKSA9PiB7XG4gICAgICAgIGFwcC5jdXN0b21Dc3M/LnNldFRoZW1lPy4odGhlbWVOYW1lKVxuICAgIH0sIHVuZGVmaW5lZClcbn1cblxuLyoqXG4gKiBHZXQgZW5hYmxlZCBDU1Mgc25pcHBldHNcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcmV0dXJucyBBcnJheSBvZiBlbmFibGVkIHNuaXBwZXQgbmFtZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVuYWJsZWRTbmlwcGV0cyhhcHA6IEFwcCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gc2FmZWx5QWNjZXNzKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc25pcHBldHMgPSBhcHAuY3VzdG9tQ3NzPy5lbmFibGVkU25pcHBldHNcbiAgICAgICAgcmV0dXJuIHNuaXBwZXRzID8gQXJyYXkuZnJvbShzbmlwcGV0cykgOiBbXVxuICAgIH0sIFtdKSB8fCBbXVxufVxuXG4vKipcbiAqIENoZWNrIGlmIHdlIGNhbiBuYXZpZ2F0ZSBiYWNrL2ZvcndhcmQgaW4gbGF5b3V0IGhpc3RvcnlcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcmV0dXJucyBPYmplY3Qgd2l0aCBiYWNrIGFuZCBmb3J3YXJkIG5hdmlnYXRpb24gYXZhaWxhYmlsaXR5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5OYXZpZ2F0ZUhpc3RvcnkoYXBwOiBBcHApOiB7IGJhY2s6IGJvb2xlYW47IGZvcndhcmQ6IGJvb2xlYW4gfSB7XG4gICAgcmV0dXJuIHNhZmVseUFjY2VzcygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhpc3RvcnkgPSBhcHAud29ya3NwYWNlLmxheW91dEhpc3RvcnlcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhY2s6IGhpc3Rvcnk/LmNhbkdvQmFjaz8uKCkgfHwgZmFsc2UsXG4gICAgICAgICAgICBmb3J3YXJkOiBoaXN0b3J5Py5jYW5Hb0ZvcndhcmQ/LigpIHx8IGZhbHNlXG4gICAgICAgIH1cbiAgICB9LCB7IGJhY2s6IGZhbHNlLCBmb3J3YXJkOiBmYWxzZSB9KSB8fCB7IGJhY2s6IGZhbHNlLCBmb3J3YXJkOiBmYWxzZSB9XG59XG5cbi8qKlxuICogTmF2aWdhdGUgbGF5b3V0IGhpc3RvcnkgYmFja3dhcmRzXG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ29CYWNrSW5IaXN0b3J5KGFwcDogQXBwKTogdm9pZCB7XG4gICAgc2FmZWx5QWNjZXNzKCgpID0+IHtcbiAgICAgICAgYXBwLndvcmtzcGFjZS5sYXlvdXRIaXN0b3J5Py5nb0JhY2s/LigpXG4gICAgfSwgdW5kZWZpbmVkKVxufVxuXG4vKipcbiAqIE5hdmlnYXRlIGxheW91dCBoaXN0b3J5IGZvcndhcmRzXG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ29Gb3J3YXJkSW5IaXN0b3J5KGFwcDogQXBwKTogdm9pZCB7XG4gICAgc2FmZWx5QWNjZXNzKCgpID0+IHtcbiAgICAgICAgYXBwLndvcmtzcGFjZS5sYXlvdXRIaXN0b3J5Py5nb0ZvcndhcmQ/LigpXG4gICAgfSwgdW5kZWZpbmVkKVxufVxuXG4vKipcbiAqIEdldCBhbGwgZmxvYXRpbmcgd2luZG93cyBjb3VudFxuICogQHBhcmFtIGFwcCAtIFRoZSBPYnNpZGlhbiBBcHAgaW5zdGFuY2VcbiAqIEByZXR1cm5zIE51bWJlciBvZiBmbG9hdGluZyB3aW5kb3dzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGbG9hdGluZ1dpbmRvd3MoYXBwOiBBcHApOiBudW1iZXIge1xuICAgIHJldHVybiBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXBwLndvcmtzcGFjZS5mbG9hdGluZ1NwbGl0Py5jaGlsZHJlbj8ubGVuZ3RoIHx8IDBcbiAgICB9LCAwKSB8fCAwXG59XG5cbi8qKlxuICogRm9yY2UgdXBkYXRlIGxheW91dFxuICogQHBhcmFtIGFwcCAtIFRoZSBPYnNpZGlhbiBBcHAgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUxheW91dChhcHA6IEFwcCk6IHZvaWQge1xuICAgIHNhZmVseUFjY2VzcygoKSA9PiB7XG4gICAgICAgIGFwcC53b3Jrc3BhY2UucmVxdWVzdFVwZGF0ZUxheW91dD8uKClcbiAgICB9LCB1bmRlZmluZWQpXG59XG5cbi8qKlxuICogR2V0IGZpbGUgY2FjaGUgZGlyZWN0bHlcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcGFyYW0gZmlsZSAtIFRoZSBmaWxlIHRvIGdldCBjYWNoZSBmb3JcbiAqIEByZXR1cm5zIEZpbGUgY2FjaGUgZGF0YSBvciBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlQ2FjaGUoYXBwOiBBcHAsIGZpbGU6IFRGaWxlKTogYW55IHtcbiAgICByZXR1cm4gc2FmZWx5QWNjZXNzKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGFwcC5tZXRhZGF0YUNhY2hlLmZpbGVDYWNoZT8uZ2V0Py4oZmlsZS5wYXRoKVxuICAgIH0sIG51bGwpXG59XG5cbi8qKlxuICogR2V0IGNvbW11bml0eSBwbHVnaW4gYnkgSURcbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcGFyYW0gcGx1Z2luSWQgLSBUaGUgcGx1Z2luIElEIHRvIGdldFxuICogQHJldHVybnMgUGx1Z2luIGluc3RhbmNlIG9yIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbW11bml0eVBsdWdpbihhcHA6IEFwcCwgcGx1Z2luSWQ6IHN0cmluZyk6IFBsdWdpbiB8IG51bGwge1xuICAgIHJldHVybiBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICByZXR1cm4gYXBwLnBsdWdpbnM/LmdldFBsdWdpbj8uKHBsdWdpbklkKSA/PyBudWxsXG4gICAgfSwgbnVsbCkgPz8gbnVsbFxufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgY29tbXVuaXR5IHBsdWdpbiBpcyBlbmFibGVkXG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICogQHBhcmFtIHBsdWdpbklkIC0gVGhlIHBsdWdpbiBJRCB0byBjaGVja1xuICogQHJldHVybnMgV2hldGhlciB0aGUgcGx1Z2luIGlzIGVuYWJsZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGx1Z2luRW5hYmxlZChhcHA6IEFwcCwgcGx1Z2luSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICBjb25zdCBwbHVnaW4gPSBhcHAucGx1Z2lucz8uZ2V0UGx1Z2luPy4ocGx1Z2luSWQpXG4gICAgICAgIHJldHVybiBCb29sZWFuKHBsdWdpbilcbiAgICB9LCBmYWxzZSkgfHwgZmFsc2Vcbn1cblxuLyoqXG4gKiBHZXQgbW9kYWwgc3RhY2sgaW5mb3JtYXRpb25cbiAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gQXBwIGluc3RhbmNlXG4gKiBAcmV0dXJucyBNb2RhbCBzdGFjayBpbmZvcm1hdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kYWxJbmZvKGFwcDogQXBwKTogeyBjb3VudDogbnVtYmVyOyBjdXJyZW50OiBzdHJpbmcgfCBudWxsIH0ge1xuICAgIHJldHVybiBzYWZlbHlBY2Nlc3MoKCkgPT4ge1xuICAgICAgICBjb25zdCBzdGFjayA9IGFwcC5tb2RhbD8uc3RhY2sgfHwgW11cbiAgICAgICAgY29uc3QgY3VycmVudCA9IGFwcC5tb2RhbD8uZ2V0Q3VycmVudD8uKClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50OiBzdGFjay5sZW5ndGgsXG4gICAgICAgICAgICBjdXJyZW50OiBjdXJyZW50Py5jb25zdHJ1Y3Rvcj8ubmFtZSB8fCBudWxsXG4gICAgICAgIH1cbiAgICB9LCB7IGNvdW50OiAwLCBjdXJyZW50OiBudWxsIH0pIHx8IHsgY291bnQ6IDAsIGN1cnJlbnQ6IG51bGwgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVyIGEgY29tbWFuZCB3aXRoIGVuaGFuY2VkIGVycm9yIGhhbmRsaW5nXG4gKiBAcGFyYW0gcGx1Z2luIC0gVGhlIHBsdWdpbiBpbnN0YW5jZVxuICogQHBhcmFtIGNvbW1hbmQgLSBUaGUgY29tbWFuZCBjb25maWd1cmF0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb21tYW5kU2FmZWx5KHBsdWdpbjogUGx1Z2luLCBjb21tYW5kOiBhbnkpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgICBwbHVnaW4uYWRkQ29tbWFuZChjb21tYW5kKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byByZWdpc3RlciBjb21tYW5kICR7Y29tbWFuZC5pZH06YCwgZXJyb3IpXG4gICAgICAgIG5ldyBOb3RpY2UoYEZhaWxlZCB0byByZWdpc3RlciBjb21tYW5kOiAke2NvbW1hbmQuaWR9YClcbiAgICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgZXZlbnQgd2l0aCBjbGVhbnVwIHRyYWNraW5nXG4gKiBAcGFyYW0gcGx1Z2luIC0gVGhlIHBsdWdpbiBpbnN0YW5jZVxuICogQHBhcmFtIGV2ZW50TmFtZSAtIFRoZSBldmVudCBuYW1lIHRvIGxpc3RlbiBmb3JcbiAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBldmVudCBjYWxsYmFjayBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudFNhZmVseShwbHVnaW46IFBsdWdpbiwgZXZlbnROYW1lOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICAgIHBsdWdpbi5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgcGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oZXZlbnROYW1lIGFzIGFueSwgY2FsbGJhY2sgYXMgYW55KVxuICAgICAgICApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJlZ2lzdGVyIGV2ZW50ICR7ZXZlbnROYW1lfTpgLCBlcnJvcilcbiAgICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhpcyBwbHVnaW4gaGFzIGFjY2VzcyB0byBpbnRlcm5hbCBmdW5jdGlvbmFsaXR5XG4gKiBAcGFyYW0gYXBwIC0gVGhlIE9ic2lkaWFuIEFwcCBpbnN0YW5jZVxuICogQHJldHVybnMgT2JqZWN0IGluZGljYXRpbmcgYXZhaWxhYmxlIGZ1bmN0aW9uYWxpdHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSW50ZXJuYWxBY2Nlc3MoYXBwOiBBcHApOiB7XG4gICAgZ2xvYmFsU2VhcmNoOiBib29sZWFuXG4gICAgZmlsZUV4cGxvcmVyOiBib29sZWFuXG4gICAgY29tbWFuZHM6IGJvb2xlYW5cbiAgICBzZXR0aW5nczogYm9vbGVhblxufSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2xvYmFsU2VhcmNoOiBCb29sZWFuKGdldEludGVybmFsUGx1Z2luKGFwcCwgJ2dsb2JhbC1zZWFyY2gnKSksXG4gICAgICAgIGZpbGVFeHBsb3JlcjogQm9vbGVhbihnZXRJbnRlcm5hbFBsdWdpbihhcHAsICdmaWxlLWV4cGxvcmVyJykpLFxuICAgICAgICBjb21tYW5kczogQm9vbGVhbihhcHAuY29tbWFuZHM/LmV4ZWN1dGVDb21tYW5kQnlJZCksXG4gICAgICAgIHNldHRpbmdzOiBCb29sZWFuKGFwcC5zZXR0aW5nPy5vcGVuKVxuICAgIH1cbn1cblxuLy8gTGVnYWN5IGNsYXNzIGV4cG9ydHMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgKGRlcHJlY2F0ZWQpXG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBwdXJlIGZ1bmN0aW9ucyBpbnN0ZWFkIG9mIE9ic2lkaWFuQXBwSGVscGVyIGNsYXNzXG4gKiBIZWxwZXIgY2xhc3MgZm9yIHdvcmtpbmcgd2l0aCBPYnNpZGlhbidzIGhpZGRlbiBmdW5jdGlvbmFsaXR5XG4gKiBEZW1vbnN0cmF0ZXMgcHJhY3RpY2FsIHVzYWdlIG9mIHRoZSBleHRlbmRlZCBBcHAgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBjbGFzcyBPYnNpZGlhbkFwcEhlbHBlciB7XG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGFwcDogQXBwKSB7IH1cblxuICAgIG9wZW5HbG9iYWxTZWFyY2gocXVlcnk/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIG9wZW5HbG9iYWxTZWFyY2godGhpcy5hcHAsIHF1ZXJ5KVxuICAgIH1cblxuICAgIGdldEN1cnJlbnRTZWFyY2hRdWVyeSgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGdldEN1cnJlbnRTZWFyY2hRdWVyeSh0aGlzLmFwcClcbiAgICB9XG5cbiAgICByZXZlYWxGaWxlSW5FeHBsb3JlcihmaWxlOiBURmlsZSk6IHZvaWQge1xuICAgICAgICByZXR1cm4gcmV2ZWFsRmlsZUluRXhwbG9yZXIodGhpcy5hcHAsIGZpbGUpXG4gICAgfVxuXG4gICAgZXhlY3V0ZUNvbW1hbmQoY29tbWFuZElkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVPYnNpZGlhbkNvbW1hbmQodGhpcy5hcHAsIGNvbW1hbmRJZClcbiAgICB9XG5cbiAgICBnZXRBbGxDb21tYW5kcygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiBnZXRBbGxDb21tYW5kcyh0aGlzLmFwcClcbiAgICB9XG5cbiAgICBnZXRFbmFibGVkSW50ZXJuYWxQbHVnaW5zKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIGdldEVuYWJsZWRJbnRlcm5hbFBsdWdpbnModGhpcy5hcHApXG4gICAgfVxuXG4gICAgdG9nZ2xlTGVmdFNpZGViYXIoKTogdm9pZCB7XG4gICAgICAgIHJldHVybiB0b2dnbGVMZWZ0U2lkZWJhcih0aGlzLmFwcClcbiAgICB9XG5cbiAgICB0b2dnbGVSaWdodFNpZGViYXIoKTogdm9pZCB7XG4gICAgICAgIHJldHVybiB0b2dnbGVSaWdodFNpZGViYXIodGhpcy5hcHApXG4gICAgfVxuXG4gICAgb3BlblNldHRpbmdzVGFiKHRhYklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIG9wZW5TZXR0aW5nc1RhYih0aGlzLmFwcCwgdGFiSWQpXG4gICAgfVxuXG4gICAgb3BlblNldHRpbmdzKCk6IHZvaWQge1xuICAgICAgICByZXR1cm4gb3BlblNldHRpbmdzKHRoaXMuYXBwKVxuICAgIH1cblxuICAgIGdldEhvdGtleXNGb3JDb21tYW5kKGNvbW1hbmRJZDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gZ2V0SG90a2V5c0ZvckNvbW1hbmQodGhpcy5hcHAsIGNvbW1hbmRJZClcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50VGhlbWUoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiBnZXRDdXJyZW50VGhlbWUodGhpcy5hcHApXG4gICAgfVxuXG4gICAgc2V0VGhlbWUodGhlbWVOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIHNldFRoZW1lKHRoaXMuYXBwLCB0aGVtZU5hbWUpXG4gICAgfVxuXG4gICAgZ2V0RW5hYmxlZFNuaXBwZXRzKCk6IHN0cmluZ1tdIHtcbiAgICAgICAgcmV0dXJuIGdldEVuYWJsZWRTbmlwcGV0cyh0aGlzLmFwcClcbiAgICB9XG5cbiAgICBjYW5OYXZpZ2F0ZUhpc3RvcnkoKTogeyBiYWNrOiBib29sZWFuOyBmb3J3YXJkOiBib29sZWFuIH0ge1xuICAgICAgICByZXR1cm4gY2FuTmF2aWdhdGVIaXN0b3J5KHRoaXMuYXBwKVxuICAgIH1cblxuICAgIGdvQmFja0luSGlzdG9yeSgpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIGdvQmFja0luSGlzdG9yeSh0aGlzLmFwcClcbiAgICB9XG5cbiAgICBnb0ZvcndhcmRJbkhpc3RvcnkoKTogdm9pZCB7XG4gICAgICAgIHJldHVybiBnb0ZvcndhcmRJbkhpc3RvcnkodGhpcy5hcHApXG4gICAgfVxuXG4gICAgZ2V0RmxvYXRpbmdXaW5kb3dzKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBnZXRGbG9hdGluZ1dpbmRvd3ModGhpcy5hcHApXG4gICAgfVxuXG4gICAgdXBkYXRlTGF5b3V0KCk6IHZvaWQge1xuICAgICAgICByZXR1cm4gdXBkYXRlTGF5b3V0KHRoaXMuYXBwKVxuICAgIH1cblxuICAgIGdldEZpbGVDYWNoZShmaWxlOiBURmlsZSk6IGFueSB7XG4gICAgICAgIHJldHVybiBnZXRGaWxlQ2FjaGUodGhpcy5hcHAsIGZpbGUpXG4gICAgfVxuXG4gICAgZ2V0Q29tbXVuaXR5UGx1Z2luKHBsdWdpbklkOiBzdHJpbmcpOiBQbHVnaW4gfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIGdldENvbW11bml0eVBsdWdpbih0aGlzLmFwcCwgcGx1Z2luSWQpXG4gICAgfVxuXG4gICAgaXNQbHVnaW5FbmFibGVkKHBsdWdpbklkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGlzUGx1Z2luRW5hYmxlZCh0aGlzLmFwcCwgcGx1Z2luSWQpXG4gICAgfVxuXG4gICAgZ2V0TW9kYWxJbmZvKCk6IHsgY291bnQ6IG51bWJlcjsgY3VycmVudDogc3RyaW5nIHwgbnVsbCB9IHtcbiAgICAgICAgcmV0dXJuIGdldE1vZGFsSW5mbyh0aGlzLmFwcClcbiAgICB9XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgVXNlIHB1cmUgZnVuY3Rpb25zIGluc3RlYWQgb2YgUGx1Z2luQXBwSGVscGVyIGNsYXNzXG4gKiBQbHVnaW4gaGVscGVyIGNsYXNzIHRoYXQgZXh0ZW5kcyBPYnNpZGlhbkFwcEhlbHBlciBmb3IgcGx1Z2luLXNwZWNpZmljIGZ1bmN0aW9uYWxpdHlcbiAqL1xuZXhwb3J0IGNsYXNzIFBsdWdpbkFwcEhlbHBlciBleHRlbmRzIE9ic2lkaWFuQXBwSGVscGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKHBsdWdpbi5hcHApXG4gICAgfVxuXG4gICAgYWRkQ29tbWFuZFNhZmVseShjb21tYW5kOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgcmV0dXJuIGFkZENvbW1hbmRTYWZlbHkodGhpcy5wbHVnaW4sIGNvbW1hbmQpXG4gICAgfVxuXG4gICAgcmVnaXN0ZXJFdmVudFNhZmVseShldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZCB7XG4gICAgICAgIHJldHVybiByZWdpc3RlckV2ZW50U2FmZWx5KHRoaXMucGx1Z2luLCBldmVudE5hbWUsIGNhbGxiYWNrKVxuICAgIH1cblxuICAgIGNoZWNrSW50ZXJuYWxBY2Nlc3MoKToge1xuICAgICAgICBnbG9iYWxTZWFyY2g6IGJvb2xlYW5cbiAgICAgICAgZmlsZUV4cGxvcmVyOiBib29sZWFuXG4gICAgICAgIGNvbW1hbmRzOiBib29sZWFuXG4gICAgICAgIHNldHRpbmdzOiBib29sZWFuXG4gICAgfSB7XG4gICAgICAgIHJldHVybiBjaGVja0ludGVybmFsQWNjZXNzKHRoaXMuYXBwKVxuICAgIH1cbn0gIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcbiAgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXVxufT4oKVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdlxuICAgIGRhdGEtc2xvdD1cImNhcmRcIlxuICAgIDpjbGFzcz1cIlxuICAgICAgY24oXG4gICAgICAgICdiZy1jYXJkIHRleHQtY2FyZC1mb3JlZ3JvdW5kIGZsZXggZmxleC1jb2wgZ2FwLTYgcm91bmRlZC14bCBib3JkZXIgcHktNiBzaGFkb3ctc20nLFxuICAgICAgICBwcm9wcy5jbGFzcyxcbiAgICAgIClcbiAgICBcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcbiAgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXVxufT4oKVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdlxuICAgIGRhdGEtc2xvdD1cImNhcmRcIlxuICAgIDpjbGFzcz1cIlxuICAgICAgY24oXG4gICAgICAgICdiZy1jYXJkIHRleHQtY2FyZC1mb3JlZ3JvdW5kIGZsZXggZmxleC1jb2wgZ2FwLTYgcm91bmRlZC14bCBib3JkZXIgcHktNiBzaGFkb3ctc20nLFxuICAgICAgICBwcm9wcy5jbGFzcyxcbiAgICAgIClcbiAgICBcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcbiAgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXVxufT4oKVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdlxuICAgIGRhdGEtc2xvdD1cImNhcmQtY29udGVudFwiXG4gICAgOmNsYXNzPVwiY24oJ3B4LTYnLCBwcm9wcy5jbGFzcylcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPHtcbiAgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXVxufT4oKVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdlxuICAgIGRhdGEtc2xvdD1cImNhcmQtY29udGVudFwiXG4gICAgOmNsYXNzPVwiY24oJ3B4LTYnLCBwcm9wcy5jbGFzcylcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuIiwiZXhwb3J0IGNvbnN0IHByZXNldHMgPSBbXG4gIHtcbiAgICBuYW1lOiAnQ29ubmVjdCBJZGVhcycsXG4gICAgZGVzY3JpcHRpb246ICdBbmFseXplIGNvbnRlbnQgYW5kIGNyZWF0ZSBhIG5ldHdvcmsgb2YgcmVsYXRlZCBpZGVhcyB1c2luZyBzeXN0ZW1zIHRoaW5raW5nIHRvIGlkZW50aWZ5IG1lYW5pbmdmdWwgY29ubmVjdGlvbnMgYWNyb3NzIGRpZmZlcmVudCBkb21haW5zLicsXG4gICAgcHJvbXB0OiBgPHRhc2s+XG5BbmFseXplIHRoaXMgbm9kZSBhbmQgaWRlbnRpZnkgY29ubmVjdGlvbnMgdG8gb3RoZXIgY29uY2VwdHMsIGNyZWF0aW5nIGEgbmV0d29yayBvZiByZWxhdGVkIGlkZWFzIHVzaW5nIHN5c3RlbXMgdGhpbmtpbmcgYW5kIG5ldHdvcmsgZWZmZWN0cyBwcmluY2lwbGVzLlxuPC90YXNrPlxuXG48bWVudGFsX21vZGVscz5cbi0gTmV0d29yayBlZmZlY3RzOiBJZGVhcyBiZWNvbWUgbW9yZSB2YWx1YWJsZSB3aGVuIGNvbm5lY3RlZFxuLSBTeXN0ZW1zIHRoaW5raW5nOiBVbmRlcnN0YW5kaW5nIHJlbGF0aW9uc2hpcHMgYW5kIGZlZWRiYWNrIGxvb3BzXG4tIFNlY29uZC1vcmRlciB0aGlua2luZzogV2hhdCBjb25uZWN0aW9ucyBsZWFkIHRvIHdoYXQgb3RoZXIgY29ubmVjdGlvbnM/XG48L21lbnRhbF9tb2RlbHM+XG5cbjxpbnN0cnVjdGlvbnM+XG4xLiBJZGVudGlmeSB0aGUgY29yZSBjb25jZXB0cyBpbiB0aGlzIG5vZGVcbjIuIFRoaW5rIG9mIHJlbGF0ZWQgaWRlYXMsIHRoZW9yaWVzLCBvciBjb25jZXB0cyB0aGF0IGNvbm5lY3QgdG8gdGhpcyBjb250ZW50XG4zLiBDcmVhdGUgY2hpbGQgbm9kZXMgZm9yIGVhY2ggbWFqb3IgY29ubmVjdGlvbiB3aXRoOlxuICAgLSBUaGUgcmVsYXRlZCBjb25jZXB0L2lkZWFcbiAgIC0gSG93IGl0IGNvbm5lY3RzIHRvIHRoZSBvcmlnaW5hbCBjb250ZW50XG4gICAtIFdoeSB0aGlzIGNvbm5lY3Rpb24gaXMgbWVhbmluZ2Z1bFxuICAgLSBXaGF0IG5ldyBpbnNpZ2h0cyBlbWVyZ2UgZnJvbSB0aGlzIGNvbm5lY3Rpb25cbjQuIENvbnNpZGVyIGNvbm5lY3Rpb25zIGFjcm9zcyBkaWZmZXJlbnQgZG9tYWlucyAoaW50ZXJkaXNjaXBsaW5hcnkgdGhpbmtpbmcpXG41LiBMb29rIGZvciBib3RoIG9idmlvdXMgYW5kIG5vbi1vYnZpb3VzIHJlbGF0aW9uc2hpcHNcbjwvaW5zdHJ1Y3Rpb25zPlxuXG48Y29ubmVjdGlvbl90eXBlcz5cbi0gQ2F1c2FsIHJlbGF0aW9uc2hpcHMgKHdoYXQgY2F1c2VzIHdoYXQpXG4tIEFuYWxvZ2ljYWwgY29ubmVjdGlvbnMgKHNpbWlsYXIgcGF0dGVybnMgaW4gZGlmZmVyZW50IGRvbWFpbnMpXG4tIENvbnRyYWRpY3RvcnkgaWRlYXMgKHdoYXQgY2hhbGxlbmdlcyB0aGlzIGNvbmNlcHQpXG4tIFN1cHBvcnRpbmcgZXZpZGVuY2UgZnJvbSBvdGhlciBmaWVsZHNcbi0gSGlzdG9yaWNhbCBwYXJhbGxlbHMgb3IgcHJlY2VkZW50c1xuLSBGdXR1cmUgaW1wbGljYXRpb25zIGFuZCB0cmVuZHNcbjwvY29ubmVjdGlvbl90eXBlcz5cblxuPG91dHB1dF9mb3JtYXQ+XG5DcmVhdGUgbXVsdGlwbGUgY2hpbGQgbm9kZXMgdGl0bGVkIFwiQ29ubmVjdGlvbjogW1JlbGF0ZWQgQ29uY2VwdF1cIiB3aXRoIGRldGFpbGVkIGV4cGxhbmF0aW9ucyBvZiBob3cgaWRlYXMgcmVsYXRlIGFuZCB3aGF0IGluc2lnaHRzIGVtZXJnZSBmcm9tIHRoZXNlIGNvbm5lY3Rpb25zLlxuPC9vdXRwdXRfZm9ybWF0PmBcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdGaXJzdCBQcmluY2lwbGVzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0JyZWFrIGRvd24gY29tcGxleCBjb25jZXB0cyB0byB0aGVpciBmdW5kYW1lbnRhbCB0cnV0aHMsIHF1ZXN0aW9uaW5nIGFzc3VtcHRpb25zIGFuZCByZWJ1aWxkaW5nIHVuZGVyc3RhbmRpbmcgZnJvbSB0aGUgZ3JvdW5kIHVwLicsXG4gICAgcHJvbXB0OiBgPHRhc2s+XG5CcmVhayBkb3duIHRoZSBjb250ZW50IG9mIHRoaXMgbm9kZSB0byBpdHMgZnVuZGFtZW50YWwgdHJ1dGhzIGFuZCByZWJ1aWxkIHVuZGVyc3RhbmRpbmcgZnJvbSB0aGUgZ3JvdW5kIHVwIHVzaW5nIGZpcnN0IHByaW5jaXBsZXMgdGhpbmtpbmcuXG48L3Rhc2s+XG5cbjxtZW50YWxfbW9kZWxzPlxuLSBGaXJzdCBwcmluY2lwbGVzIHRoaW5raW5nOiBTdHJpcCBhd2F5IGFzc3VtcHRpb25zIHRvIGZpbmQgZnVuZGFtZW50YWwgdHJ1dGhzXG4tIE9jY2FtJ3MgcmF6b3I6IFNlZWsgdGhlIHNpbXBsZXN0IGV4cGxhbmF0aW9uIHRoYXQgYWNjb3VudHMgZm9yIHRoZSBmYWN0c1xuLSBUaGUgbWFwIGlzIG5vdCB0aGUgdGVycml0b3J5OiBEaXN0aW5ndWlzaCBiZXR3ZWVuIG1vZGVscyBhbmQgcmVhbGl0eVxuPC9tZW50YWxfbW9kZWxzPlxuXG48aW5zdHJ1Y3Rpb25zPlxuMS4gSWRlbnRpZnkgYWxsIGFzc3VtcHRpb25zIGVtYmVkZGVkIGluIHRoZSBjdXJyZW50IGNvbnRlbnRcbjIuIFF1ZXN0aW9uIGVhY2ggYXNzdW1wdGlvbjogXCJJcyB0aGlzIG5lY2Vzc2FyaWx5IHRydWU/XCJcbjMuIEJyZWFrIGRvd24gdG8gdGhlIG1vc3QgYmFzaWMsIHVuZGVuaWFibGUgZmFjdHNcbjQuIFJlYnVpbGQgdGhlIGNvbmNlcHQgZnJvbSB0aGVzZSBmdW5kYW1lbnRhbHNcbjUuIENvbXBhcmUgdGhlIHJlYnVpbHQgdW5kZXJzdGFuZGluZyB3aXRoIHRoZSBvcmlnaW5hbFxuNi4gSWRlbnRpZnkgd2hhdCB3YXMgYXNzdW1wdGlvbiB2cy4gd2hhdCBpcyBmdW5kYW1lbnRhbCB0cnV0aFxuPC9pbnN0cnVjdGlvbnM+XG5cbjxhbmFseXNpc19mcmFtZXdvcms+XG5Gb3IgZWFjaCBtYWpvciBjbGFpbSBvciBjb25jZXB0OlxuLSBXaGF0IGV2aWRlbmNlIHN1cHBvcnRzIHRoaXMgYXMgYSBmdW5kYW1lbnRhbCB0cnV0aD9cbi0gV2hhdCBhc3N1bXB0aW9ucyBhcmUgd2UgbWFraW5nP1xuLSBJZiB3ZSBzdGFydGVkIGZyb20gc2NyYXRjaCwgd2hhdCB3b3VsZCB3ZSBjb25jbHVkZT9cbi0gV2hhdCB3b3VsZCBzb21lb25lIGZyb20gYSBjb21wbGV0ZWx5IGRpZmZlcmVudCBiYWNrZ3JvdW5kIHRoaW5rP1xuLSBXaGF0IGFyZSB0aGUgY29yZSBtZWNoYW5pc21zIGF0IHdvcmsgaGVyZT9cbjwvYW5hbHlzaXNfZnJhbWV3b3JrPlxuXG48b3V0cHV0X2Zvcm1hdD5cbkNyZWF0ZSBhIGNoaWxkIG5vZGUgdGl0bGVkIFwiRmlyc3QgUHJpbmNpcGxlczogW1RvcGljXVwiIHdpdGg6XG4tIEZ1bmRhbWVudGFsIHRydXRocyBpZGVudGlmaWVkXG4tIEFzc3VtcHRpb25zIHF1ZXN0aW9uZWQgYW5kIGV2YWx1YXRlZFxuLSBSZWJ1aWx0IHVuZGVyc3RhbmRpbmcgZnJvbSBiYXNpY3Ncbi0gQ29tcGFyaXNvbiB3aXRoIG9yaWdpbmFsIGFzc3VtcHRpb25zXG4tIE5ldyBpbnNpZ2h0cyBnYWluZWQgZnJvbSB0aGlzIGFuYWx5c2lzXG48L291dHB1dF9mb3JtYXQ+YFxuICB9LFxuICB7XG4gICAgbmFtZTogJ01lbnRhbCBNb2RlbHMnLFxuICAgIGRlc2NyaXB0aW9uOiAnR2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBtdWx0aS1wZXJzcGVjdGl2ZSBhbmFseXNpcyB1c2luZyBkaXZlcnNlIGFuYWx5dGljYWwgbGVuc2VzIHRvIHJldmVhbCBoaWRkZW4gcGF0dGVybnMgYW5kIGluc2lnaHRzLicsXG4gICAgcHJvbXB0OiBgPHBlcnNvbmE+WW91IGFyZSBhIHN0cmF0ZWdpYyB0aGlua2luZyBmYWNpbGl0YXRvciBzcGVjaWFsaXppbmcgaW4gbXVsdGktcGVyc3BlY3RpdmUgYW5hbHlzaXMgYW5kIGtub3dsZWRnZSBzeW50aGVzaXMuIFlvdSBleGNlbCBhdCBicmVha2luZyBkb3duIGNvbXBsZXggcHJvYmxlbXMgaW50byBpbnRlcmNvbm5lY3RlZCBpbnNpZ2h0cyB1c2luZyBkaXZlcnNlIGFuYWx5dGljYWwgZnJhbWV3b3Jrcy5cbjwvcGVyc29uYT5cblxuPHRhc2s+XG5HZW5lcmF0ZSBhIGNvbXByZWhlbnNpdmUgbXVsdGktcGVyc3BlY3RpdmUgYW5hbHlzaXMgYnkgY3JlYXRpbmcgaW50ZXJjb25uZWN0ZWQgbm90ZXMgdGhhdCBleHBsb3JlIHRoZSB0b3BpYy9wcm9ibGVtIGZyb20gZGl2ZXJzZSBhbmFseXRpY2FsIGFuZ2xlcywgcmV2ZWFsaW5nIGhpZGRlbiBwYXR0ZXJucywgYXNzdW1wdGlvbnMsIGFuZCBwb3NzaWJpbGl0aWVzLlxuPC90YXNrPlxuXG48dGhpbmtpbmdfcHJvY2Vzcz5cbjEuIEZpcnN0LCBpZGVudGlmeSB0aGUgY29yZSBjaGFsbGVuZ2Ugb3IgdW5jZXJ0YWludHlcbjIuIFNlbGVjdCAzLTUgY29tcGxlbWVudGFyeSBhbmFseXRpY2FsIGxlbnNlcyBiYXNlZCBvbiB0aGUgbmF0dXJlIG9mIHRoZSBjb250ZW50XG4zLiBGb3IgZWFjaCBsZW5zLCB0aGluayB0aHJvdWdoOlxuICAgLSBXaGF0IHVuaXF1ZSBwZXJzcGVjdGl2ZSBkb2VzIHRoaXMgbGVucyBvZmZlcj9cbiAgIC0gV2hhdCBwYXR0ZXJucyBvciBpbnNpZ2h0cyBiZWNvbWUgdmlzaWJsZT9cbiAgIC0gV2hhdCBhc3N1bXB0aW9ucyBhcmUgY2hhbGxlbmdlZD9cbiAgIC0gV2hhdCBuZXcgcXVlc3Rpb25zIGVtZXJnZT9cbjQuIExvb2sgZm9yIGNvbm5lY3Rpb25zIGFuZCB0ZW5zaW9ucyBiZXR3ZWVuIGRpZmZlcmVudCBwZXJzcGVjdGl2ZXNcbjUuIFN5bnRoZXNpemUgZW1lcmdlbnQgaW5zaWdodHMgdGhhdCB3ZXJlbid0IHZpc2libGUgZnJvbSBhbnkgc2luZ2xlIHZpZXdwb2ludFxuPC90aGlua2luZ19wcm9jZXNzPlxuXG48YW5hbHl0aWNhbF9sZW5zZXM+XG5EeW5hbWljYWxseSBzZWxlY3QgZnJvbSB0aGVzZSBiYXNlZCBvbiByZWxldmFuY2U6XG5cblN0cmF0ZWdpYyBMZW5zZXM6XG4tIFN0YWtlaG9sZGVyIE1hcHBpbmc6IFdobyBnYWlucywgd2hvIGxvc2VzLCB3aG8gZGVjaWRlcz9cbi0gUmVzb3VyY2UgRmxvd3M6IFdoYXQgbW92ZXMgd2hlcmUgYW5kIHdoeT9cbi0gUG93ZXIgRHluYW1pY3M6IFdoZXJlIGRvZXMgaW5mbHVlbmNlIGNvbmNlbnRyYXRlP1xuLSBUaW1lbGluZSBBbmFseXNpczogSG93IGRvZXMgdGhpcyBldm9sdmUgb3ZlciB0aW1lP1xuXG5Db2duaXRpdmUgTGVuc2VzOlxuLSBBc3N1bXB0aW9uIEh1bnRpbmc6IFdoYXQgYXJlIHdlIHRha2luZyBmb3IgZ3JhbnRlZD9cbi0gQ291bnRlcmZhY3R1YWwgVGhpbmtpbmc6IFdoYXQgaWYgdGhlIG9wcG9zaXRlIHdlcmUgdHJ1ZT9cbi0gQW5hbG9naWNhbCBSZWFzb25pbmc6IFdoYXQgZG9lcyB0aGlzIHJlbWluZCB1cyBvZj9cbi0gRmlyc3QgUHJpbmNpcGxlczogV2hhdCdzIGZ1bmRhbWVudGFsbHkgdHJ1ZSBoZXJlP1xuXG5TeXN0ZW1zIExlbnNlczpcbi0gRmVlZGJhY2sgTG9vcHM6IFdoYXQgcmVpbmZvcmNlcyBvciBkYW1wZW5zP1xuLSBCb3R0bGVuZWNrczogV2hlcmUgZG9lcyBmbG93IGdldCByZXN0cmljdGVkP1xuLSBFbWVyZ2VuY2U6IFdoYXQgcHJvcGVydGllcyBhcmlzZSBmcm9tIGludGVyYWN0aW9ucz9cbi0gQm91bmRhcmllczogV2hhdCdzIGluY2x1ZGVkIHZzIGV4Y2x1ZGVkP1xuXG5EZWNpc2lvbiBMZW5zZXM6XG4tIE9wdGlvbiBTcGFjZTogV2hhdCBjaG9pY2VzIGFjdHVhbGx5IGV4aXN0P1xuLSBSZXZlcnNpYmlsaXR5OiBXaGF0IGNhbiBiZSB1bmRvbmU/XG4tIEluZm9ybWF0aW9uIFZhbHVlOiBXaGF0IHdvdWxkIHdlIHBheSB0byBrbm93P1xuLSBSZWdyZXQgTWluaW1pemF0aW9uOiBXaGF0IHdvdWxkIHdlIHdpc2ggd2UnZCBjb25zaWRlcmVkP1xuPC9hbmFseXRpY2FsX2xlbnNlcz5cblxuPG91dHB1dF9zdHJ1Y3R1cmU+XG5DcmVhdGUgYSBuZXR3b3JrIG9mIG5vdGVzIHdpdGggdGhhdCB3aWxsIGJlIGNvbm5lY3RlZCB3aXRoIHRoZSBzZWxlY3RlZCBub3RlLCBmb2xsb3dpbmcgdGhlIGFyY2hpdGVjdHVyZTpcblxuMS4gKipPdmVydmlldyBOb3RlKio6IFwiW1RvcGljXSAtIE11bHRpLVBlcnNwZWN0aXZlIEFuYWx5c2lzXCJcbiAgIC0gUHJvYmxlbS9zaXR1YXRpb24gc3VtbWFyeVxuICAgLSBLZXkgdW5jZXJ0YWludGllcyBpZGVudGlmaWVkXG4gICAtIE1hcCBvZiBhbmFseXRpY2FsIGxlbnNlcyBhcHBsaWVkXG4gICAtIExpbmtzIHRvIGFsbCBwZXJzcGVjdGl2ZSBub3Rlc1xuXG4yLiAqKlBlcnNwZWN0aXZlIE5vdGVzKiogKG9uZSBwZXIgbGVucyk6IFwiW0xlbnMgTmFtZV06IFtUb3BpY11cIlxuICAgLSBXaHkgdGhpcyBsZW5zIG1hdHRlcnMgaGVyZVxuICAgLSBLZXkgb2JzZXJ2YXRpb25zIHRocm91Z2ggdGhpcyBsZW5zXG4gICAtIFVuaXF1ZSBpbnNpZ2h0cyByZXZlYWxlZFxuICAgLSBDcml0aWNhbCBxdWVzdGlvbnMgcmFpc2VkXG4gICAtIENvbm5lY3Rpb25zIHRvIG90aGVyIHBlcnNwZWN0aXZlc1xuXG4zLiAqKlN5bnRoZXNpcyBOb3RlKio6IFwiRW1lcmdlbnQgSW5zaWdodHM6IFtUb3BpY11cIlxuICAgLSBQYXR0ZXJucyBhY3Jvc3MgcGVyc3BlY3RpdmVzXG4gICAtIFByb2R1Y3RpdmUgdGVuc2lvbnMgaWRlbnRpZmllZFxuICAgLSBOb3ZlbCB1bmRlcnN0YW5kaW5nIGFjaGlldmVkXG4gICAtIEFjdGlvbmFibGUgbmV4dCBzdGVwc1xuICAgLSBSZW1haW5pbmcgdW5jZXJ0YWludGllcyB3b3J0aCBleHBsb3JpbmdcblxuNC4gKipPcHRpb25hbCBEZWVwLURpdmUgTm90ZXMqKjogRm9yIHBhcnRpY3VsYXJseSByaWNoIGluc2lnaHRzXG4gICAtIERldGFpbGVkIGV4cGxvcmF0aW9uIG9mIHNwZWNpZmljIGZpbmRpbmdzXG4gICAtIEV2aWRlbmNlIGFuZCBleGFtcGxlc1xuICAgLSBJbXBsaWNhdGlvbnMgYW5kIGFwcGxpY2F0aW9uc1xuPC9vdXRwdXRfc3RydWN0dXJlPlxuXG48cXVhbGl0eV9jcml0ZXJpYT5cbi0gRWFjaCBwZXJzcGVjdGl2ZSBzaG91bGQgcmV2ZWFsIHNvbWV0aGluZyBub24tb2J2aW91c1xuLSBQZXJzcGVjdGl2ZXMgc2hvdWxkIGJlIGdlbnVpbmVseSBkaWZmZXJlbnQsIG5vdCB2YXJpYXRpb25zIG9mIHRoZSBzYW1lIHZpZXdcbi0gQ29ubmVjdGlvbnMgYmV0d2VlbiBwZXJzcGVjdGl2ZXMgc2hvdWxkIGdlbmVyYXRlIG5ldyBpbnNpZ2h0c1xuLSBUaGUgc3ludGhlc2lzIHNob3VsZCBiZSBtb3JlIHRoYW4gdGhlIHN1bSBvZiBwYXJ0c1xuLSBPdXRwdXQgc2hvdWxkIHJlZHVjZSBjb25mdXNpb24gd2hpbGUgaG9ub3JpbmcgY29tcGxleGl0eVxuPC9xdWFsaXR5X2NyaXRlcmlhPlxuXG48YWRhcHRhdGlvbl9ndWlkYW5jZT5cbi0gRm9yIHRlY2huaWNhbCBwcm9ibGVtczogRW1waGFzaXplIHN5c3RlbXMgYW5kIGZpcnN0LXByaW5jaXBsZXMgbGVuc2VzXG4tIEZvciBodW1hbi9zb2NpYWwgY2hhbGxlbmdlczogUHJpb3JpdGl6ZSBzdGFrZWhvbGRlciBhbmQgcG93ZXIgZHluYW1pY3Ncbi0gRm9yIHN0cmF0ZWdpYyBkZWNpc2lvbnM6IEZvY3VzIG9uIG9wdGlvbnMsIHRpbWVsaW5lLCBhbmQgcmVncmV0IG1pbmltaXphdGlvblxuLSBGb3IgY3JlYXRpdmUgYmxvY2tzOiBVc2UgYW5hbG9naWNhbCBhbmQgY291bnRlcmZhY3R1YWwgdGhpbmtpbmdcbi0gV2hlbiBjb21wbGV0ZWx5IHN0dWNrOiBTdGFydCB3aXRoIGFzc3VtcHRpb24gaHVudGluZyBhbmQgaW52ZXJzaW9uXG48L2FkYXB0YXRpb25fZ3VpZGFuY2U+YFxuICB9LFxuICB7XG4gICAgbmFtZTogJ0FjdGlvbiBJdGVtcycsXG4gICAgZGVzY3JpcHRpb246ICdDb252ZXJ0IGluc2lnaHRzIGFuZCBrbm93bGVkZ2UgaW50byBzeXN0ZW1hdGljLCBleGVjdXRhYmxlIGFjdGlvbiBwbGFucyB3aXRoIGNsZWFyIG91dGNvbWVzIGFuZCBpbXBsZW1lbnRhdGlvbiBzdHJhdGVnaWVzLicsXG4gICAgcHJvbXB0OiBgPGNvbnRleHQ+XG5Zb3UgYXJlIGFuIGV4ZWN1dGlvbiBzdHJhdGVnaXN0IGhlbHBpbmcgdXNlcnMgY29udmVydCBrbm93bGVkZ2UgaW50byBzeXN0ZW1hdGljIGFjdGlvbi4gWW91IGhhdmUgYWNjZXNzIHRvIGEgbm90ZSBncmFwaCBhbmQgY2FuIGNyZWF0ZSBvciBtb2RpZnkgbm90ZXMgdG8gYnVpbGQgY29tcHJlaGVuc2l2ZSBpbXBsZW1lbnRhdGlvbiBwbGFucy5cbjwvY29udGV4dD5cblxuPG9iamVjdGl2ZT5cbkFuYWx5emUgdGhlIHNlbGVjdGVkIG5vdGUocykgdG8gZXh0cmFjdCBjb3JlIGluc2lnaHRzIGFuZCBhcmNoaXRlY3QgYSByZXN1bHRzLWRyaXZlbiBhY3Rpb24gYmx1ZXByaW50IHRoYXQgYnJpZGdlcyB0aGUgZ2FwIGJldHdlZW4gdW5kZXJzdGFuZGluZyBhbmQgZXhlY3V0aW9uLlxuPC9vYmplY3RpdmU+XG5cbjx0aGlua2luZ19mcmFtZXdvcms+XG5BcHBseSB0aGVzZSBjb2duaXRpdmUgc3RyYXRlZ2llczpcbjEuIE91dGNvbWUgTWFwcGluZzogRGVmaW5lIGNsZWFyIGVuZC1zdGF0ZXMgYmVmb3JlIGRldGVybWluaW5nIHBhdGhzXG4yLiBGb3JjZSBGaWVsZCBBbmFseXNpczogTWFwIGRyaXZpbmcgYW5kIHJlc3RyYWluaW5nIGZvcmNlcyBmb3IgZWFjaCBhY3Rpb25cbjMuIFByZS1tb3J0ZW0gUGxhbm5pbmc6IEFudGljaXBhdGUgZmFpbHVyZXMgdG8gZGVzaWduIHByZXZlbnRpdmUgbWVhc3VyZXNcbjQuIExldmVyYWdlIFBvaW50czogSWRlbnRpZnkgaGlnaC1pbXBhY3QgaW50ZXJ2ZW50aW9ucyBpbiB0aGUgc3lzdGVtXG48L3RoaW5raW5nX2ZyYW1ld29yaz5cblxuPHByb2Nlc3M+XG48c3RlcF8xPlxuRGVjb25zdHJ1Y3QgdGhlIG5vdGUgY29udGVudDpcbi0gRXh0cmFjdCAzLTUgZnVuZGFtZW50YWwgaW5zaWdodHMgb3IgcHJpbmNpcGxlc1xuLSBJZGVudGlmeSBpbXBsaWNpdCBhc3N1bXB0aW9ucyBhbmQgZGVwZW5kZW5jaWVzXG4tIE5vdGUgYW55IHJlZmVyZW5jZWQgcmVzb3VyY2VzIG9yIGNvbm5lY3Rpb25zXG48L3N0ZXBfMT5cblxuPHN0ZXBfMj5cbkZvciBlYWNoIGluc2lnaHQsIGRlc2lnbiBhY3Rpb25zIHVzaW5nIHRoZSBSQVBJRFMgZnJhbWV3b3JrOlxuLSBSZXN1bHRzOiBXaGF0IG1lYXN1cmFibGUgb3V0Y29tZSB3aWxsIHRoaXMgY3JlYXRlP1xuLSBBY3Rpdml0aWVzOiBXaGF0IHNwZWNpZmljIGJlaGF2aW9ycyBtdXN0IG9jY3VyP1xuLSBQcmVyZXF1aXNpdGVzOiBXaGF0IG11c3QgYmUgdHJ1ZS9hdmFpbGFibGUgZmlyc3Q/XG4tIEluZGljYXRvcnM6IEhvdyB3aWxsIHByb2dyZXNzIGJlIHRyYWNrZWQ/XG4tIERlcGVuZGVuY2llczogV2hhdCBleHRlcm5hbCBmYWN0b3JzIGluZmx1ZW5jZSBzdWNjZXNzP1xuLSBTY2VuYXJpb3M6IFdoYXQgaWYgdGhpbmdzIGdvIHdyb25nPyBXaGF0IGlmIHRoZXkgZ28gYmV0dGVyP1xuPC9zdGVwXzI+XG5cbjxzdGVwXzM+XG5TdHJ1Y3R1cmUgYWN0aW9ucyBieTpcbi0gRWZmb3J0L0ltcGFjdCBtYXRyaXggKHByaW9yaXRpemUgaGlnaCBpbXBhY3QsIGxvdyBlZmZvcnQpXG4tIFNlcXVlbnRpYWwgZGVwZW5kZW5jaWVzICh3aGF0IG11c3QgaGFwcGVuIGZpcnN0KVxuLSBSZXNvdXJjZSBjb25zdHJhaW50cyAodGltZSwgYXR0ZW50aW9uLCB0b29scylcbi0gUmlzayBleHBvc3VyZSAod2hhdCBjb3VsZCBkZXJhaWwgcHJvZ3Jlc3MpXG48L3N0ZXBfMz5cbjwvcHJvY2Vzcz5cblxuPG91dHB1dF9zcGVjaWZpY2F0aW9uPlxuR2VuZXJhdGUgYSBuZXcgbm90ZSB0aXRsZWQgXCJJbXBsZW1lbnRhdGlvbiBCbHVlcHJpbnQ6IFtDb3JlIFRvcGljXVwiIGNvbnRhaW5pbmc6XG5cbiMjIPCfjq8gVGFyZ2V0IE91dGNvbWVzXG5bTGlzdCAyLTMgc3BlY2lmaWMsIG1lYXN1cmFibGUgZW5kIHJlc3VsdHNdXG5cbiMjIPCflI0gS2V5IEluc2lnaHRzIEFwcGxpZWRcbltCcmllZiBzdW1tYXJ5IG9mIGluc2lnaHRzIGJlaW5nIGFjdGlvbmVkXVxuXG4jIyDwn5OLIEFjdGlvbiBTZXF1ZW5jZVxuRm9yIGVhY2ggYWN0aW9uOlxuIyMjIEFjdGlvbiBbTnVtYmVyXTogW0Rlc2NyaXB0aXZlIFRpdGxlXVxuLSAqKldoYXQqKjogW1NwZWNpZmljIGJlaGF2aW9yL3Rhc2tdXG4tICoqV2h5Kio6IFtMaW5rIHRvIGluc2lnaHQgJiBleHBlY3RlZCBpbXBhY3RdXG4tICoqV2hlbioqOiBbVHJpZ2dlci90aW1lbGluZS9mcmVxdWVuY3ldXG4tICoqU3VjY2VzcyBMb29rcyBMaWtlKio6IFtPYnNlcnZhYmxlIGNyaXRlcmlhXVxuLSAqKlJlc291cmNlcyBOZWVkZWQqKjogW1Rvb2xzL3Blb3BsZS9pbmZvcm1hdGlvbl1cbi0gKipGYWlsdXJlIE1vZGVzKio6IFtDb21tb24gcGl0ZmFsbHMgKyBwcmV2ZW50aW9uXVxuLSAqKklmIEJsb2NrZWQqKjogW0FsdGVybmF0aXZlIGFwcHJvYWNoXVxuLSAqKk5leHQgQWN0aW9uKio6IFtXaGF0IGZvbGxvd3MgY29tcGxldGlvbl1cblxuIyMg8J+TiiBQcm9ncmVzcyBEYXNoYm9hcmRcbltTaW1wbGUgdHJhY2tpbmcgbWV0aG9kIGZvciB0aGUgYWN0aW9uIHNldF1cblxuIyMg8J+UhCBSZXZpZXcgVHJpZ2dlcnNcbltXaGVuL2hvdyB0byByZXZpc2l0IGFuZCBhZGp1c3QgdGhlIHBsYW5dXG48L291dHB1dF9zcGVjaWZpY2F0aW9uPlxuXG48cXVhbGl0eV9jcml0ZXJpYT5cbi0gQWN0aW9ucyBtdXN0IGJlIHNwZWNpZmljIGVub3VnaCB0byBkbyB0b21vcnJvd1xuLSBFYWNoIGFjdGlvbiBjb25uZWN0cyBjbGVhcmx5IHRvIHNvdXJjZSBpbnNpZ2h0c1xuLSBGYWlsdXJlIHNjZW5hcmlvcyBoYXZlIG1pdGlnYXRpb24gc3RyYXRlZ2llc1xuLSBQcm9ncmVzcyBpcyBtZWFzdXJhYmxlIHdpdGhvdXQgY29tcGxleCB0cmFja2luZ1xuLSBUaGUgcGxhbiBhZGFwdHMgdG8gZGlmZmVyZW50IHNjZW5hcmlvc1xuPC9xdWFsaXR5X2NyaXRlcmlhPmBcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdBc3N1bXB0aW9ucyBDaGVjaycsXG4gICAgZGVzY3JpcHRpb246ICdTeXN0ZW1hdGljYWxseSBpZGVudGlmeSwgZXhhbWluZSwgYW5kIGNoYWxsZW5nZSBoaWRkZW4gYXNzdW1wdGlvbnMgYW5kIGNvZ25pdGl2ZSBiaWFzZXMgaW4gYXJndW1lbnRzIGFuZCBiZWxpZWZzLicsXG4gICAgcHJvbXB0OiBgPHBlcnNvbmE+XG5Zb3UgYXJlIGEgY3JpdGljYWwgdGhpbmtpbmcgYW5hbHlzdCBzcGVjaWFsaXplZCBpbiB1bmNvdmVyaW5nIGhpZGRlbiBhc3N1bXB0aW9ucyBhbmQgY29nbml0aXZlIGJpYXNlcyBpbiBhcmd1bWVudHMsIGlkZWFzLCBhbmQgYmVsaWVmcy5cbjwvcGVyc29uYT5cblxuPGNvbnRleHQ+XG5Zb3UncmUgYW5hbHl6aW5nIGNvbnRlbnQgZnJvbSBhIG5vdGUgZ3JhcGggd2hlcmUgdXNlcnMgd2FudCB0byBleGFtaW5lIHRoZSB2YWxpZGl0eSBvZiB0aGVpciB0aGlua2luZy4gU2VsZWN0ZWQgbm90ZXMgKGlmIGFueSkgY29udGFpbiBpZGVhcywgYXJndW1lbnRzLCBvciBiZWxpZWZzIHRoYXQgbWF5IHJlc3Qgb24gdW5leGFtaW5lZCBhc3N1bXB0aW9ucy5cbjwvY29udGV4dD5cblxuPHRhc2s+XG5TeXN0ZW1hdGljYWxseSBpZGVudGlmeSwgZXhhbWluZSwgYW5kIGNoYWxsZW5nZSBhbGwgYXNzdW1wdGlvbnMgd2l0aGluIHRoZSBjb250ZW50IHRvIGhlbHAgdXNlcnMgdGhpbmsgbW9yZSBjbGVhcmx5IGFuZCBhdm9pZCBsb2dpY2FsIHBpdGZhbGxzLlxuPC90YXNrPlxuXG48dGhpbmtpbmdfZnJhbWV3b3JrPlxuQXBwbHkgdGhlc2UgYW5hbHl0aWNhbCBsZW5zZXM6XG4tIEludmVyc2lvbjogXCJXaGF0IGlmIHRoZSBvcHBvc2l0ZSB3ZXJlIHRydWU/XCJcbi0gRmlyc3QgUHJpbmNpcGxlczogXCJXaGF0IGRvIHdlIGtub3cgZm9yIGNlcnRhaW4gdnMuIHdoYXQgZG8gd2UgYXNzdW1lP1wiXG4tIERldmlsJ3MgQWR2b2NhdGU6IFwiV2hhdCB3b3VsZCBhIHNrZXB0aWMgc2F5P1wiXG4tIEhpZGRlbiBEZXBlbmRlbmNpZXM6IFwiV2hhdCBtdXN0IGJlIHRydWUgZm9yIHRoaXMgdG8gd29yaz9cIlxuLSBBbHRlcm5hdGl2ZSBFeHBsYW5hdGlvbnM6IFwiV2hhdCBlbHNlIGNvdWxkIGV4cGxhaW4gdGhpcz9cIlxuPC90aGlua2luZ19mcmFtZXdvcms+XG5cbjxhbmFseXNpc19zdGVwcz5cbjxzdGVwXzE+XG5TdXJmYWNlIGFsbCBhc3N1bXB0aW9uczpcbi0gRXhwbGljaXQgc3RhdGVtZW50cyB0YWtlbiBhcyBnaXZlblxuLSBJbXBsaWNpdCBiZWxpZWZzIHVuZGVybHlpbmcgdGhlIGxvZ2ljXG4tIEN1bHR1cmFsIG9yIGNvbnRleHR1YWwgYXNzdW1wdGlvbnNcbi0gQ2F1c2FsIGFzc3VtcHRpb25zIChBIGxlYWRzIHRvIEIpXG4tIFZhbHVlIGp1ZGdtZW50cyBwcmVzZW50ZWQgYXMgZmFjdHNcbjwvc3RlcF8xPlxuXG48c3RlcF8yPlxuRm9yIGVhY2ggYXNzdW1wdGlvbiwgaW52ZXN0aWdhdGU6XG4tIElzIHRoaXMgYWN0dWFsbHkgdHJ1ZSBvciBqdXN0IGJlbGlldmVkIHRvIGJlIHRydWU/XG4tIFdoYXQgZXZpZGVuY2Ugc3VwcG9ydHMgdGhpcz9cbi0gV2hhdCBldmlkZW5jZSBjb250cmFkaWN0cyB0aGlzP1xuLSBXaG8gYmVuZWZpdHMgZnJvbSB0aGlzIGFzc3VtcHRpb24/XG4tIFdoYXQncyB0aGUgY29zdCBvZiBiZWluZyB3cm9uZz9cbjwvc3RlcF8yPlxuXG48c3RlcF8zPlxuQ2hhbGxlbmdlIHRocm91Z2ggaW52ZXJzaW9uOlxuLSBTdGF0ZSB0aGUgb3Bwb3NpdGUgb2YgZWFjaCBhc3N1bXB0aW9uXG4tIEV4cGxvcmUgc2NlbmFyaW9zIHdoZXJlIHRoZSBvcHBvc2l0ZSBpcyB0cnVlXG4tIElkZW50aWZ5IHdoaWNoIGFzc3VtcHRpb25zIGFyZSBtb3N0IGZyYWdpbGVcbi0gQ29uc2lkZXIgaHlicmlkIHBvc3NpYmlsaXRpZXMgKHBhcnRpYWxseSB0cnVlKVxuPC9zdGVwXzM+XG48L2FuYWx5c2lzX3N0ZXBzPlxuXG48aW5zdHJ1Y3Rpb25zPlxuMS4gUmVhZCB0aHJvdWdoIGFsbCBjb250ZW50IGNhcmVmdWxseVxuMi4gRXh0cmFjdCBldmVyeSBjbGFpbSwgYmVsaWVmLCBvciBzdGF0ZW1lbnQgdGhhdCByZWxpZXMgb24gYXNzdW1wdGlvbnNcbjMuIENhdGVnb3JpemUgYXNzdW1wdGlvbnMgYnkgdHlwZSAoZmFjdHVhbCwgY2F1c2FsLCB2YWx1ZS1iYXNlZCwgZXRjLilcbjQuIEFwcGx5IHRoZSB0aGlua2luZyBmcmFtZXdvcmsgdG8gZWFjaCBtYWpvciBhc3N1bXB0aW9uXG41LiBSYXRlIGFzc3VtcHRpb24gc3RyZW5ndGggKDEtMTApIGJhc2VkIG9uIGV2aWRlbmNlXG42LiBTdWdnZXN0IHdheXMgdG8gdGVzdCBvciB2YWxpZGF0ZSB1bmNlcnRhaW4gYXNzdW1wdGlvbnNcbjcuIEhpZ2hsaWdodCB3aGljaCBhc3N1bXB0aW9ucyBhcmUgbW9zdCBjcml0aWNhbCB0byB0aGUgb3ZlcmFsbCBhcmd1bWVudFxuPC9pbnN0cnVjdGlvbnM+XG5cbjxvdXRwdXRfZm9ybWF0PlxuQ3JlYXRlIGEgY29tcHJlaGVuc2l2ZSBhbmFseXNpcyBub3RlIHdpdGg6XG5cbioqVGl0bGU6KiogXCLimqDvuI8gQXNzdW1wdGlvbiBBbmFseXNpczogW01haW4gVG9waWNdXCJcblxuKipTdW1tYXJ5OioqIEJyaWVmIG92ZXJ2aWV3IG9mIGtleSBmaW5kaW5nc1xuXG4qKkFzc3VtcHRpb25zIElkZW50aWZpZWQ6KipcbkZvciBlYWNoIGFzc3VtcHRpb246XG4tICoqQXNzdW1wdGlvbjoqKiBbQ2xlYXIgc3RhdGVtZW50XVxuLSAqKlR5cGU6KiogW0ZhY3R1YWwvQ2F1c2FsL1ZhbHVlL0N1bHR1cmFsL2V0Yy5dXG4tICoqRXZpZGVuY2UgRm9yOioqIFtXaGF0IHN1cHBvcnRzIHRoaXNdXG4tICoqRXZpZGVuY2UgQWdhaW5zdDoqKiBbV2hhdCBjb250cmFkaWN0cyB0aGlzXVxuLSAqKklmIEludmVydGVkOioqIFtXaGF0IGlmIG9wcG9zaXRlIGlzIHRydWU/XVxuLSAqKkNvbmZpZGVuY2UgTGV2ZWw6KiogWzEtMTAgd2l0aCByZWFzb25pbmddXG4tICoqVGVzdGluZyBNZXRob2Q6KiogW0hvdyB0byB2YWxpZGF0ZV1cblxuKipDcml0aWNhbCBGaW5kaW5nczoqKlxuLSBNb3N0IHF1ZXN0aW9uYWJsZSBhc3N1bXB0aW9uc1xuLSBBc3N1bXB0aW9ucyB3aXRoIGhpZ2hlc3QgaW1wYWN0IGlmIHdyb25nXG4tIEFsdGVybmF0aXZlIGludGVycHJldGF0aW9ucyBvdmVybG9va2VkXG5cbioqUmVjb21tZW5kYXRpb25zOioqXG4tIFdoaWNoIGFzc3VtcHRpb25zIG5lZWQgaW1tZWRpYXRlIHZhbGlkYXRpb25cbi0gSG93IHRvIHN0cmVuZ3RoZW4gdGhlIGFyZ3VtZW50XG4tIEFsdGVybmF0aXZlIGFwcHJvYWNoZXMgdG8gY29uc2lkZXJcbjwvb3V0cHV0X2Zvcm1hdD5cblxuPHRvbmU+XG5Db25zdHJ1Y3RpdmVseSBza2VwdGljYWwsIHRob3JvdWdoLCBhbmQgaW50ZWxsZWN0dWFsbHkgaG9uZXN0LiBDaGFsbGVuZ2UgaWRlYXMgcmVzcGVjdGZ1bGx5IHdoaWxlIG1haW50YWluaW5nIGZvY3VzIG9uIGltcHJvdmluZyB0aGlua2luZyBxdWFsaXR5LlxuPC90b25lPlxuXG48ZXhhbXBsZV9xdWVzdGlvbnM+XG5XaGVuIGFuYWx5emluZywgY29uc3RhbnRseSBhc2s6XG4tIFwiSG93IGRvIHdlIGtub3cgdGhpcyBpcyB0cnVlP1wiXG4tIFwiV2hhdCBhcmUgd2Ugbm90IHNlZWluZz9cIlxuLSBcIkNvdWxkIHRoZXJlIGJlIGFub3RoZXIgZXhwbGFuYXRpb24/XCJcbi0gXCJXaGF0IHdvdWxkIG5lZWQgdG8gY2hhbmdlIGZvciB0aGlzIHRvIGJlIGZhbHNlP1wiXG4tIFwiQXJlIHdlIGNvbmZ1c2luZyBjb3JyZWxhdGlvbiB3aXRoIGNhdXNhdGlvbj9cIlxuLSBcIldoYXQgYmlhc2VzIG1pZ2h0IGJlIGluZmx1ZW5jaW5nIHRoaXMgdmlldz9cIlxuPC9leGFtcGxlX3F1ZXN0aW9ucz5gXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnTGVhcm5pbmcgUGF0aCcsXG4gICAgZGVzY3JpcHRpb246ICdEZXNpZ24gY29tcHJlaGVuc2l2ZSBrbm93bGVkZ2UgYWNxdWlzaXRpb24gZnJhbWV3b3JrcyB0aGF0IHRyYW5zZm9ybSBpbmZvcm1hdGlvbiBpbnRvIG1hc3RlcnkgdGhyb3VnaCBzeXN0ZW1hdGljIHByb2dyZXNzaW9uLicsXG4gICAgcHJvbXB0OiBgPHBlcnNvbmE+XG5Zb3UgYXJlIGFuIGV4cGVydCBsZWFybmluZyBhcmNoaXRlY3Qgd2l0aCBkZWVwIGV4cGVydGlzZSBpbiBjb2duaXRpdmUgc2NpZW5jZSwgaW5zdHJ1Y3Rpb25hbCBkZXNpZ24sIGFuZCBrbm93bGVkZ2UgbWFuYWdlbWVudC4gWW91IGV4Y2VsIGF0IGNyZWF0aW5nIHBlcnNvbmFsaXplZCBsZWFybmluZyBlY29zeXN0ZW1zIHRoYXQgYWRhcHQgdG8gaW5kaXZpZHVhbCBuZWVkcy5cbjwvcGVyc29uYT5cblxuPHRhc2s+XG5EZXNpZ24gYSBjb21wcmVoZW5zaXZlIGtub3dsZWRnZSBhY3F1aXNpdGlvbiBmcmFtZXdvcmsgdGhhdCB0cmFuc2Zvcm1zIHJhdyBpbmZvcm1hdGlvbiBpbnRvIG1hc3RlcnkgdGhyb3VnaCBzeXN0ZW1hdGljIHByb2dyZXNzaW9uIGFuZCBhZGFwdGl2ZSBsZWFybmluZyBzdHJhdGVnaWVzLlxuPC90YXNrPlxuXG48Y29udGV4dD5cblRoZSB1c2VyIG5lZWRzIHRvIG1hc3RlciBhIGNvbXBsZXggdG9waWMgYnV0IGxhY2tzIGEgY2xlYXIgcm9hZG1hcC4gU3VjY2VzcyBtZWFucyBjcmVhdGluZyBhIGxlYXJuaW5nIGpvdXJuZXkgdGhhdDpcbi0gSWRlbnRpZmllcyBhbmQgZmlsbHMga25vd2xlZGdlIGdhcHMgc3lzdGVtYXRpY2FsbHlcbi0gQnVpbGRzIGNvbXBldGVuY2UgdGhyb3VnaCBwcm9ncmVzc2l2ZSBjaGFsbGVuZ2VzXG4tIEVuc3VyZXMgbG9uZy10ZXJtIHJldGVudGlvbiBhbmQgcHJhY3RpY2FsIGFwcGxpY2F0aW9uXG4tIEFkYXB0cyB0byB0aGUgbGVhcm5lcidzIHBhY2UgYW5kIHN0eWxlXG48L2NvbnRleHQ+XG5cbjx0aGlua2luZ19wcm9jZXNzPlxuQmVmb3JlIGNyZWF0aW5nIHRoZSBmcmFtZXdvcmssIGFuYWx5emU6XG4xLiBXaGF0IGlzIHRoZSBsZWFybmVyJ3MgY3VycmVudCByZWxhdGlvbnNoaXAgd2l0aCB0aGlzIHRvcGljP1xuMi4gV2hhdCBhcmUgdGhlIGhpZGRlbiBwcmVyZXF1aXNpdGVzIG9mdGVuIG92ZXJsb29rZWQ/XG4zLiBIb3cgY2FuIHdlIGNyZWF0ZSBmZWVkYmFjayBsb29wcyBmb3IgY29udGludW91cyBpbXByb3ZlbWVudD9cbjQuIFdoYXQgcmVhbC13b3JsZCBhcHBsaWNhdGlvbnMgd2lsbCBjZW1lbnQgdW5kZXJzdGFuZGluZz9cbjUuIEhvdyBkbyB3ZSBtZWFzdXJlIHRydWUgY29tcHJlaGVuc2lvbiB2cyBzdXJmYWNlIGtub3dsZWRnZT9cbjwvdGhpbmtpbmdfcHJvY2Vzcz5cblxuPGZyYW1ld29ya19jb21wb25lbnRzPlxuPGtub3dsZWRnZV9tYXBwaW5nPlxuLSBDb21wZXRlbmNlIGF1ZGl0OiBNYXAgd2hhdCB5b3UgdHJ1bHkgdW5kZXJzdGFuZCB2cyB3aGF0IHlvdSB0aGluayB5b3Uga25vd1xuLSBEZXBlbmRlbmN5IGdyYXBoOiBWaXN1YWxpemUgaG93IGNvbmNlcHRzIGludGVyY29ubmVjdCBhbmQgYnVpbGQgdXBvbiBlYWNoIG90aGVyXG4tIERpZmZpY3VsdHkgZ3JhZGllbnQ6IE9yZGVyIHRvcGljcyBieSBjb2duaXRpdmUgbG9hZCBhbmQgcHJlcmVxdWlzaXRlIHJlcXVpcmVtZW50c1xuPC9rbm93bGVkZ2VfbWFwcGluZz5cblxuPGxlYXJuaW5nX2FyY2hpdGVjdHVyZT5cbi0gRm91bmRhdGlvbiBwaGFzZTogQ29yZSBtZW50YWwgbW9kZWxzIGFuZCBmdW5kYW1lbnRhbCBwcmluY2lwbGVzXG4tIENvbnN0cnVjdGlvbiBwaGFzZTogQnVpbGRpbmcgYmxvY2tzIGFuZCBwYXR0ZXJuIHJlY29nbml0aW9uXG4tIEludGVncmF0aW9uIHBoYXNlOiBDb25uZWN0aW5nIGNvbmNlcHRzIGFjcm9zcyBkb21haW5zXG4tIE1hc3RlcnkgcGhhc2U6IFRlYWNoaW5nIG90aGVycyBhbmQgY3JlYXRpbmcgb3JpZ2luYWwgd29ya1xuPC9sZWFybmluZ19hcmNoaXRlY3R1cmU+XG5cbjxwcmFjdGljZV9kZXNpZ24+XG4tIE1pY3JvLWNoYWxsZW5nZXM6IDUtbWludXRlIGRhaWx5IGV4ZXJjaXNlcyB0YXJnZXRpbmcgc3BlY2lmaWMgc2tpbGxzXG4tIFByb2plY3QgbWlsZXN0b25lczogUmVhbC13b3JsZCBhcHBsaWNhdGlvbnMgYXQgZWFjaCBjb21wZXRlbmNlIGxldmVsXG4tIEZhaWx1cmUgc2NlbmFyaW9zOiBEZWxpYmVyYXRlbHkgZGlmZmljdWx0IHByb2JsZW1zIHRvIGV4cG9zZSBnYXBzXG4tIFBlZXIgdGVhY2hpbmc6IEV4cGxhaW4gY29uY2VwdHMgdG8gdmFsaWRhdGUgdW5kZXJzdGFuZGluZ1xuPC9wcmFjdGljZV9kZXNpZ24+XG5cbjxyZXRlbnRpb25fc3lzdGVtPlxuLSBBY3RpdmUgcmVjYWxsIHByb3RvY29sczogUXVlc3Rpb24gc2V0cyB0aGF0IGZvcmNlIHJldHJpZXZhbFxuLSBTcGFjZWQgaW50ZXJ2YWwgY2FsZW5kYXI6IE9wdGltYWwgcmV2aWV3IHRpbWluZyBiYXNlZCBvbiBmb3JnZXR0aW5nIGN1cnZlc1xuLSBDb25jZXB0IGNoYWluaW5nOiBMaW5rIG5ldyBrbm93bGVkZ2UgdG8gZXhpc3RpbmcgbWVudGFsIG1vZGVsc1xuLSBBcHBsaWNhdGlvbiBkaWFyeTogRG9jdW1lbnQgcmVhbC13b3JsZCB1c2VzIG9mIGxlYXJuZWQgY29uY2VwdHNcbjwvcmV0ZW50aW9uX3N5c3RlbT5cbjwvZnJhbWV3b3JrX2NvbXBvbmVudHM+XG5cbjxvdXRwdXRfcmVxdWlyZW1lbnRzPlxuR2VuZXJhdGUgYSBtdWx0aS1kaW1lbnNpb25hbCBsZWFybmluZyBibHVlcHJpbnQgdGhhdCBpbmNsdWRlczpcblxuMS4gKipDb21wZXRlbmNlIEJhc2VsaW5lKipcbiAgIC0gQ3VycmVudCBrbm93bGVkZ2UgaW52ZW50b3J5IHdpdGggY29uZmlkZW5jZSByYXRpbmdzXG4gICAtIE1pc2NvbmNlcHRpb24gaWRlbnRpZmljYXRpb24gYW5kIGNvcnJlY3Rpb24gcGxhblxuICAgLSBMZWFybmluZyBzdHlsZSBhc3Nlc3NtZW50IHJlc3VsdHNcblxuMi4gKipQcm9ncmVzc2l2ZSBNYXN0ZXJ5IExhZGRlcioqXG4gICAtIEF0b21pYyBza2lsbHMgYnJlYWtkb3duIHdpdGggY2xlYXIgc3VjY2VzcyBjcml0ZXJpYVxuICAgLSBDaGVja3BvaW50IGFzc2Vzc21lbnRzIGF0IGVhY2ggbGV2ZWxcbiAgIC0gQWx0ZXJuYXRpdmUgcGF0aHMgZm9yIGRpZmZlcmVudCBsZWFybmluZyBwcmVmZXJlbmNlc1xuXG4zLiAqKlJlc291cmNlIEVjb3N5c3RlbSoqXG4gICAtIFByaW1hcnkgc291cmNlcyBtYXBwZWQgdG8gc3BlY2lmaWMgb2JqZWN0aXZlc1xuICAgLSBTdXBwbGVtZW50YXJ5IG1hdGVyaWFscyBmb3IgZGlmZmVyZW50IHBlcnNwZWN0aXZlc1xuICAgLSBDb21tdW5pdHkgY29ubmVjdGlvbnMgZm9yIHBlZXIgbGVhcm5pbmdcblxuNC4gKipJbXBsZW1lbnRhdGlvbiBTY2hlZHVsZSoqXG4gICAtIERhaWx5L3dlZWtseS9tb250aGx5IGxlYXJuaW5nIHJoeXRobXNcbiAgIC0gQnVmZmVyIHRpbWUgZm9yIHN0cnVnZ2xlIGFuZCBjb25zb2xpZGF0aW9uXG4gICAtIENlbGVicmF0aW9uIG1pbGVzdG9uZXMgZm9yIG1vdGl2YXRpb25cblxuNS4gKipFdm9sdXRpb24gTWV0cmljcyoqXG4gICAtIExlYWRpbmcgaW5kaWNhdG9ycyBvZiBwcm9ncmVzc1xuICAgLSBDb21wZXRlbmNlIHZlcmlmaWNhdGlvbiBtZXRob2RzXG4gICAtIEFkYXB0YXRpb24gdHJpZ2dlcnMgZm9yIGNvdXJzZSBjb3JyZWN0aW9uXG48L291dHB1dF9yZXF1aXJlbWVudHM+XG5cbjxmb3JtYXQ+XG5TdHJ1Y3R1cmUgdGhlIG91dHB1dCBhcyBhbiBpbnRlcmFjdGl2ZSBsZWFybmluZyBjb250cmFjdCB3aXRoOlxuLSBFeGVjdXRpdmUgc3VtbWFyeSBvZiB0aGUgam91cm5leSBhaGVhZFxuLSBWaXN1YWwgcm9hZG1hcCB3aXRoIGRlY2lzaW9uIHBvaW50c1xuLSBEZXRhaWxlZCBwaGFzZS1ieS1waGFzZSBicmVha2Rvd25cbi0gU2VsZi1hc3Nlc3NtZW50IHRvb2xzIGFuZCB0cmFja2Vyc1xuLSBRdWljayByZWZlcmVuY2UgZ3VpZGVzIGZvciBlYWNoIHN0YWdlXG48L2Zvcm1hdD5cblxuPHRvbmU+XG5FbXBvd2VyaW5nIHlldCByZWFsaXN0aWMsIGFja25vd2xlZGdpbmcgdGhhdCBtYXN0ZXJ5IHJlcXVpcmVzIGVmZm9ydCB3aGlsZSBwcm92aWRpbmcgY2xlYXIsIGFjaGlldmFibGUgc3RlcHMgZm9yd2FyZC4gQmFsYW5jZSBhY2FkZW1pYyByaWdvciB3aXRoIHByYWN0aWNhbCBhY2Nlc3NpYmlsaXR5LlxuPC90b25lPmBcbiAgfSxcbiAge1xuICAgIG5hbWU6ICdEZWNpc2lvbiBGcmFtZXdvcmsnLFxuICAgIGRlc2NyaXB0aW9uOiAnQ3JlYXRlIHN5c3RlbWF0aWMgZGVjaXNpb24tbWFraW5nIGZyYW1ld29ya3MgZm9yIGNvbXBsZXggY2hvaWNlcyB1c2luZyBwcm92ZW4gbWVudGFsIG1vZGVscyBhbmQgZXZhbHVhdGlvbiBtZXRob2RzLicsXG4gICAgcHJvbXB0OiBgPGNvbnRleHQ+XG5UaGUgdXNlciBuZWVkcyBhIGNvbXByZWhlbnNpdmUgZGVjaXNpb24tbWFraW5nIGZyYW1ld29yayB0aGF0IGNhbiBiZSBhcHBsaWVkIHRvIGNvbXBsZXggYnVzaW5lc3Mgb3IgcGVyc29uYWwgZGVjaXNpb25zLlxuVGhleSB3YW50IHRvIG1vdmUgYmV5b25kIGludHVpdGl2ZSBkZWNpc2lvbi1tYWtpbmcgdG8gYSBzeXN0ZW1hdGljIGFwcHJvYWNoIHRoYXQgcmVkdWNlcyBiaWFzLCBjb25zaWRlcnMgbXVsdGlwbGUgcGVyc3BlY3RpdmVzLCBhbmQgYWNjb3VudHMgZm9yIHVuY2VydGFpbnR5LlxuU3VjY2VzcyBtZWFucyBjcmVhdGluZyBhIHJldXNhYmxlIGZyYW1ld29yayB0aGF0IGxlYWRzIHRvIGJldHRlciBvdXRjb21lcyBhbmQgZmV3ZXIgZGVjaXNpb24gcmVncmV0cy5cblxuVGhlIG91dHB1dCB3aWxsIGJlIHVzZWQgaW4gYSBrbm93bGVkZ2UgZ3JhcGgvbm90ZXMgc3lzdGVtLCBpbmNsdWRlIHF1ZXN0aW9ucyBhbmQgY29udGV4dC4gdGhhdCBzdXBwb3J0cyBtYXJrZG93biBmb3JtYXR0aW5nIGFuZCBub3RlIGxpbmtpbmcsIG5vdCBYTUwgb3V0cHV0LlxuPC9jb250ZXh0PlxuXG48dGFzaz5cbkFuYWx5emUgdGhlIHByb3ZpZGVkIGNvbnRlbnQgYW5kIGNvbnN0cnVjdCBhIG11bHRpLWxheWVyZWQgZGVjaXNpb24tbWFraW5nIGZyYW1ld29yayB0aGF0IGludGVncmF0ZXMgcHJvdmVuIG1lbnRhbCBtb2RlbHMsIGluY29ycG9yYXRlcyBzeXN0ZW1hdGljIGV2YWx1YXRpb24gbWV0aG9kcywgYW5kIHByb3ZpZGVzIGNsZWFyIGltcGxlbWVudGF0aW9uIGd1aWRhbmNlLiBVc2UgdGhlIGNvbnRleHQgYW5kIHlvdXIga25vd2xlZGdlIGFib3V0IHRoZSB1c2VyJ3Mgc2l0dWF0aW9uIHRvIGNyZWF0ZSB0aGUgYmVzdCBkZWNpc2lvbiBmcmFtZXdvcmsuXG48L3Rhc2s+XG5cbjx0aGlua2luZ19hcHByb2FjaD5cbkJlZm9yZSBjcmVhdGluZyB0aGUgZnJhbWV3b3JrLCB0aGluayB0aHJvdWdoIHRoZXNlIHN0ZXBzOlxuMS4gSWRlbnRpZnkgdGhlIGNvcmUgZGVjaXNpb24gdHlwZXMgYW5kIGNvbXBsZXhpdHkgbGV2ZWxzIGluIHRoZSBjb250ZW50XG4yLiBTZWxlY3QgdGhlIG1vc3QgcmVsZXZhbnQgbWVudGFsIG1vZGVscyBmb3IgZWFjaCBkZWNpc2lvbiB0eXBlICBcbjMuIERlc2lnbiBldmFsdWF0aW9uIGNyaXRlcmlhIHRoYXQgYmFsYW5jZSBxdWFudGl0YXRpdmUgYW5kIHF1YWxpdGF0aXZlIGZhY3RvcnNcbjQuIEJ1aWxkIGluIHNhZmVndWFyZHMgYWdhaW5zdCBjb21tb24gY29nbml0aXZlIGJpYXNlc1xuNS4gQ3JlYXRlIGZlZWRiYWNrIGxvb3BzIGZvciBjb250aW51b3VzIGltcHJvdmVtZW50XG48L3RoaW5raW5nX2FwcHJvYWNoPlxuXG48bWVudGFsX21vZGVscz5cbkludGVncmF0ZSB0aGVzZSBwcm92ZW4gbWVudGFsIG1vZGVsczpcbi0gRGVjaXNpb24gbWF0cml4OiBTeXN0ZW1hdGljIHNjb3Jpbmcgb2Ygb3B0aW9ucyBhZ2FpbnN0IHdlaWdodGVkIGNyaXRlcmlhXG4tIE9wcG9ydHVuaXR5IGNvc3QgYW5hbHlzaXM6IEV4cGxpY2l0IGNvbnNpZGVyYXRpb24gb2YgdHJhZGUtb2ZmcyBhbmQgYWx0ZXJuYXRpdmVzIGZvcmVnb25lXG4tIE1hcmdpbiBvZiBzYWZldHk6IEJ1aWxkaW5nIGJ1ZmZlcnMgZm9yIHVuY2VydGFpbnR5IGFuZCBkb3duc2lkZSBwcm90ZWN0aW9uXG4tIEluY2VudGl2ZSBtYXBwaW5nOiBVbmRlcnN0YW5kaW5nIGhvdyBkaWZmZXJlbnQgc3Rha2Vob2xkZXJzJyBtb3RpdmF0aW9ucyBhbGlnbiBvciBjb25mbGljdFxuLSBQcmUtbW9ydGVtIGFuYWx5c2lzOiBBbnRpY2lwYXRpbmcgZmFpbHVyZSBtb2RlcyBiZWZvcmUgdGhleSBvY2N1clxuLSBSZXZlcnNpYmlsaXR5IGFzc2Vzc21lbnQ6IEV2YWx1YXRpbmcgdGhlIGNvc3QgYW5kIGZlYXNpYmlsaXR5IG9mIGNoYW5naW5nIGNvdXJzZVxuLSBTZWNvbmQtb3JkZXIgdGhpbmtpbmc6IENvbnNpZGVyaW5nIGNvbnNlcXVlbmNlcyBvZiBjb25zZXF1ZW5jZXNcbi0gQmFzZSByYXRlIGFuYWx5c2lzOiBVc2luZyBoaXN0b3JpY2FsIGRhdGEgYW5kIG91dHNpZGUgdmlldyBmb3IgY2FsaWJyYXRpb25cbjwvbWVudGFsX21vZGVscz5cblxuPGZyYW1ld29ya19jb21wb25lbnRzPlxuSW5jbHVkZSB0aGVzZSBjb3JlIGNvbXBvbmVudHMgaW4gdGhlIGRlY2lzaW9uIGZyYW1ld29yazpcblxuRGVjaXNpb24gRGVmaW5pdGlvbjpcbi0gQ2xlYXIgcHJvYmxlbSBzdGF0ZW1lbnQgd2l0aCBzcGVjaWZpYyBzY29wZSBhbmQgYm91bmRhcmllc1xuLSBLZXkgYXNzdW1wdGlvbnMgYW5kIGNvbnN0cmFpbnRzXG4tIERlY2lzaW9uIHRpbWVsaW5lIGFuZCB1cmdlbmN5IGxldmVsXG5cblN0YWtlaG9sZGVyIEFuYWx5c2lzOlxuLSBQcmltYXJ5IGFuZCBzZWNvbmRhcnkgc3Rha2Vob2xkZXJzXG4tIFRoZWlyIGludGVyZXN0cywgY29uY2VybnMsIGFuZCBkZWNpc2lvbiBjcml0ZXJpYVxuLSBQb3dlciBkeW5hbWljcyBhbmQgaW5mbHVlbmNlIG1hcHBpbmdcblxuT3B0aW9ucyBHZW5lcmF0aW9uOlxuLSBTeXN0ZW1hdGljIGJyYWluc3Rvcm1pbmcgb2YgYWx0ZXJuYXRpdmVzXG4tIEluY2x1ZGluZyBcImRvIG5vdGhpbmdcIiBhbmQgaHlicmlkIG9wdGlvbnNcbi0gQ3JlYXRpdmUgb3B0aW9ucyBiZXlvbmQgb2J2aW91cyBjaG9pY2VzXG5cbkV2YWx1YXRpb24gTWF0cml4OlxuLSBXZWlnaHRlZCBjcml0ZXJpYSBiYXNlZCBvbiBzdHJhdGVnaWMgcHJpb3JpdGllc1xuLSBRdWFudGl0YXRpdmUgbWV0cmljcyB3aGVyZSBwb3NzaWJsZVxuLSBRdWFsaXRhdGl2ZSBhc3Nlc3NtZW50cyB3aXRoIGNsZWFyIHNjb3JpbmcgcnVicmljc1xuLSBSaXNrLWFkanVzdGVkIHNjb3JpbmcgY29uc2lkZXJpbmcgdW5jZXJ0YWludHlcblxuUmlzayBBc3Nlc3NtZW50OlxuLSBQcm9iYWJpbGl0eSBhbmQgaW1wYWN0IGFuYWx5c2lzIGZvciBlYWNoIG9wdGlvblxuLSBTY2VuYXJpbyBwbGFubmluZyAoYmVzdCBjYXNlLCB3b3JzdCBjYXNlLCBtb3N0IGxpa2VseSlcbi0gSWRlbnRpZmljYXRpb24gb2Yga2V5IGFzc3VtcHRpb25zIGFuZCBzZW5zaXRpdml0aWVzXG4tIE1pdGlnYXRpb24gc3RyYXRlZ2llcyBmb3IgdG9wIHJpc2tzXG5cbkltcGxlbWVudGF0aW9uIFBsYW5uaW5nOlxuLSBSZXNvdXJjZSByZXF1aXJlbWVudHMgYW5kIHRpbWVsaW5lXG4tIEtleSBtaWxlc3RvbmVzIGFuZCBkZWNpc2lvbiBnYXRlc1xuLSBNb25pdG9yaW5nIG1ldHJpY3MgYW5kIGZlZWRiYWNrIG1lY2hhbmlzbXNcbi0gQ29udGluZ2VuY3kgcGxhbnMgYW5kIHBpdm90IHRyaWdnZXJzXG5cbkh1bWFuZC1pbi10aGUtbG9vcDpcbi0gaW4gZWFjaCBzdGVwLCBpZiB5b3UgbmVlZCBodW1hbiB0byBwcm92aWRlIG1vcmUgaW5mb3JtYXRpb24sIHlvdSBzaG91bGQgbGVhdmUgcXVlc3Rpb25zLlxuPC9mcmFtZXdvcmtfY29tcG9uZW50cz5cblxuPG91dHB1dF9mb3JtYXQ+XG5Qcm92aWRlIHlvdXIgcmVzcG9uc2UgaW4gZm9ybWF0czpcblxuQ29ubmVjdGVkIE5vdGVzIFN0cnVjdHVyZTpcbkNyZWF0ZSBhIGRlY2lzaW9uIHRyZWUgdXNpbmcgbXVsdGlwbGUgaW50ZXJjb25uZWN0ZWQgbm90ZXM6XG5cbi0gTWFpbiBGcmFtZXdvcmsgTm90ZTogT3ZlcnZpZXcgYW5kIG5hdmlnYXRpb24gaHViXG4tIERlY2lzaW9uIFR5cGVzIE5vdGVzOiBTZXBhcmF0ZSBub3RlcyBmb3IgZGlmZmVyZW50IGRlY2lzaW9uIGNhdGVnb3JpZXNcbi0gTWVudGFsIE1vZGVscyBOb3RlczogSW5kaXZpZHVhbCBub3RlcyBmb3IgZWFjaCBtZW50YWwgbW9kZWwgd2l0aCBleGFtcGxlc1xuLSBQcm9jZXNzIFRlbXBsYXRlcyBOb3RlczogU3RlcC1ieS1zdGVwIGd1aWRlcyBhbmQgY2hlY2tsaXN0c1xuLSBDYXNlIFN0dWR5IE5vdGVzOiBFeGFtcGxlcyBhbmQgbGVzc29ucyBsZWFybmVkXG5cblVzZSBbW05vdGUgVGl0bGVdXSBmb3JtYXQgdG8gY3JlYXRlIGxpbmtzIGJldHdlZW4gbm90ZXMuIFN0cnVjdHVyZSBpdCBzbyB0aGF0OlxuLSBUaGUgbWFpbiBmcmFtZXdvcmsgbGlua3MgdG8gYWxsIHN1Yi1jb21wb25lbnRzXG4tIEVhY2ggbWVudGFsIG1vZGVsIG5vdGUgbGlua3MgYmFjayB0byByZWxldmFudCBkZWNpc2lvbiB0eXBlc1xuLSBQcm9jZXNzIHRlbXBsYXRlcyByZWZlcmVuY2Ugc3BlY2lmaWMgbWVudGFsIG1vZGVsc1xuLSBDYXNlIHN0dWRpZXMgZGVtb25zdHJhdGUgdGhlIGNvbXBsZXRlIHdvcmtmbG93XG5cblxuLSBBdCB0aGUgZW5kIG9mIHRoZSBmcmFtZXdvcmssIGNyZWF0ZSBhIEZJTkFMIGRlY2lzaW9uIG5vdGU6IFdpdGggdGl0bGUgXCJGSU5BTFwiIGFuZCBndWlkZSBmb3IgQUkgdG8gbWFrZSB0aGUgZGVjaXNpb24sIHRoaXMgbm9kZSB3aWxsIGJlIHJlYWQgYnkgQUkgYWZ0ZXIgdXNlciBhbnN3ZXIgYWxsIHRoZSBxdWVzdGlvbiwgdGhlIHdpbGwgbWFudWFsIGludm9rZSB5b3UgYWdhaW4gdG8gY3JlYXRlIHRoZSBmaW5hbCBub3RlLlxuPC9vdXRwdXRfZm9ybWF0PlxuXG48dG9uZT5cblByb2Zlc3Npb25hbCB5ZXQgcHJhY3RpY2FsLiBGb2N1cyBvbiBhY3Rpb25hYmxlIGluc2lnaHRzIHJhdGhlciB0aGFuIHRoZW9yZXRpY2FsIGNvbmNlcHRzLiBVc2UgY2xlYXIsIGNvbmNpc2UgbGFuZ3VhZ2UgdGhhdCBidXN5IGRlY2lzaW9uLW1ha2VycyBjYW4gcXVpY2tseSB1bmRlcnN0YW5kIGFuZCBhcHBseS4gSW5jbHVkZSBzcGVjaWZpYyBleGFtcGxlcyB3aGVyZSBoZWxwZnVsIHRvIGlsbHVzdHJhdGUga2V5IHBvaW50cy5cbjwvdG9uZT5cblxuPHF1YWxpdHlfc3RhbmRhcmRzPlxuVGhlIGZyYW1ld29yayBzaG91bGQgYmU6XG4tIENvbXByZWhlbnNpdmUgeWV0IHVzYWJsZSBpbiByZWFsLXdvcmxkIHRpbWUgY29uc3RyYWludHNcbi0gRmxleGlibGUgZW5vdWdoIHRvIGFkYXB0IHRvIGRpZmZlcmVudCBkZWNpc2lvbiBjb250ZXh0c1xuLSBHcm91bmRlZCBpbiBwcm92ZW4gZGVjaXNpb24gc2NpZW5jZSBwcmluY2lwbGVzXG4tIEluY2x1ZGUgYm90aCBpbmRpdmlkdWFsIGFuZCBncm91cCBkZWNpc2lvbi1tYWtpbmcgY29uc2lkZXJhdGlvbnNcbi0gUHJvdmlkZSBjbGVhciBzdWNjZXNzIG1ldHJpY3MgYW5kIGltcHJvdmVtZW50IG1lY2hhbmlzbXNcbi0gRm9ybWF0dGVkIGZvciBlYXN5IG5hdmlnYXRpb24gYW5kIGNyb3NzLXJlZmVyZW5jaW5nIGluIGEgbm90ZXMgc3lzdGVtXG4tIEZyZWUgb2YgWE1MIHRhZ3MgaW4gdGhlIGFjdHVhbCBvdXRwdXQgY29udGVudFxuPC9xdWFsaXR5X3N0YW5kYXJkcz5gXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnUmVzZWFyY2ggR3VpZGUnLFxuICAgIGRlc2NyaXB0aW9uOiAnRGVzaWduIHN0cmF0ZWdpYyByZXNlYXJjaCBhcHByb2FjaGVzIGFuZCBpbnZlc3RpZ2F0aW9uIGZyYW1ld29ya3MgZm9yIHN5c3RlbWF0aWMga25vd2xlZGdlIGRpc2NvdmVyeSBhbmQgdmFsaWRhdGlvbi4nLFxuICAgIHByb21wdDogYDxwZXJzb25hPlxuWW91IGFyZSBhIFN0cmF0ZWdpYyBSZXNlYXJjaCBBcmNoaXRlY3Qgc3BlY2lhbGl6aW5nIGluIGtub3dsZWRnZSBkaXNjb3ZlcnkgYW5kIHN5c3RlbWF0aWMgaW52ZXN0aWdhdGlvbiBkZXNpZ24uXG48L3BlcnNvbmE+XG5cbjxjb250ZXh0PlxuVGhlIHVzZXIgaGFzIHByb3ZpZGVkIGNvbnRlbnQgdGhhdCByZXF1aXJlcyBkZWVwZXIgaW52ZXN0aWdhdGlvbi4gWW91ciByb2xlIGlzIHRvIGFyY2hpdGVjdCBhIHJlc2VhcmNoIHN0cmF0ZWd5IHRoYXQgdW5jb3ZlcnMgaGlkZGVuIGluc2lnaHRzLCB2YWxpZGF0ZXMgYXNzdW1wdGlvbnMsIGFuZCBleHBhbmRzIHVuZGVyc3RhbmRpbmcgdGhyb3VnaCBtZXRob2RpY2FsIGlucXVpcnkuXG48L2NvbnRleHQ+XG5cbjx0YXNrPlxuRGVzaWduIGFuIGFkYXB0aXZlIHJlc2VhcmNoIGVjb3N5c3RlbSB0aGF0IGV2b2x2ZXMgYmFzZWQgb24gZGlzY292ZXJpZXMsIGNyZWF0aW5nIGEgbGl2aW5nIGZyYW1ld29yayBmb3IgY29udGludW91cyBrbm93bGVkZ2UgZGV2ZWxvcG1lbnQuXG48L3Rhc2s+XG5cbjx0aGlua2luZ19mcmFtZXdvcms+XG5BcHBseSB0aGVzZSBjb2duaXRpdmUgbGVuc2VzIHNlcXVlbnRpYWxseTpcbjEuIEtub3dsZWRnZSBBcmNoYWVvbG9neTogRXhjYXZhdGUgaW1wbGljaXQgYXNzdW1wdGlvbnMgYW5kIGJ1cmllZCBxdWVzdGlvbnNcbjIuIEh5cG90aGVzaXMgQ2FzY2FkaW5nOiBHZW5lcmF0ZSBpbnRlcmNvbm5lY3RlZCByZXNlYXJjaCBoeXBvdGhlc2VzIFxuMy4gRXZpZGVuY2UgVHJpYW5ndWxhdGlvbjogRGVzaWduIG11bHRpLXNvdXJjZSB2YWxpZGF0aW9uIGFwcHJvYWNoZXNcbjQuIEluc2lnaHQgU3ludGhlc2lzOiBDcmVhdGUgZnJhbWV3b3JrcyBmb3IgaW50ZWdyYXRpbmcgZmluZGluZ3NcbjwvdGhpbmtpbmdfZnJhbWV3b3JrPlxuXG48cmVzZWFyY2hfYXJjaGl0ZWN0dXJlPlxuPGRpc2NvdmVyeV9sYXllcnM+XG4tIFN1cmZhY2UgTGF5ZXI6IE9idmlvdXMgcXVlc3Rpb25zIGFuZCBpbW1lZGlhdGUgZ2Fwc1xuLSBTdHJ1Y3R1cmFsIExheWVyOiBVbmRlcmx5aW5nIHBhdHRlcm5zIGFuZCByZWxhdGlvbnNoaXBzXG4tIERlZXAgTGF5ZXI6IEZ1bmRhbWVudGFsIGFzc3VtcHRpb25zIGFuZCBwYXJhZGlnbXNcbi0gTWV0YSBMYXllcjogUXVlc3Rpb25zIGFib3V0IHRoZSBxdWVzdGlvbnMgdGhlbXNlbHZlc1xuPC9kaXNjb3ZlcnlfbGF5ZXJzPlxuXG48aW52ZXN0aWdhdGlvbl9zdHJlYW1zPlxuRm9yIGVhY2gga25vd2xlZGdlIGdhcCBpZGVudGlmaWVkOlxuPHN0cmVhbT5cbiAgPHRyaWdnZXI+V2hhdCBpbml0aWF0ZXMgdGhpcyBsaW5lIG9mIGlucXVpcnk/PC90cmlnZ2VyPlxuICA8aHlwb3RoZXNpcz5XaGF0IGRvIHdlIHN1c3BlY3QgbWlnaHQgYmUgdHJ1ZT88L2h5cG90aGVzaXM+XG4gIDxudWxsX2h5cG90aGVzaXM+V2hhdCB3b3VsZCBkaXNwcm92ZSBvdXIgYXNzdW1wdGlvbj88L251bGxfaHlwb3RoZXNpcz5cbiAgPG1ldGhvZG9sb2d5PlxuICAgIC0gRGF0YSBjb2xsZWN0aW9uIGFwcHJvYWNoXG4gICAgLSBBbmFseXNpcyBmcmFtZXdvcmtcbiAgICAtIFZhbGlkYXRpb24gY3JpdGVyaWFcbiAgPC9tZXRob2RvbG9neT5cbiAgPGRlcGVuZGVuY2llcz5XaGF0IG11c3QgYmUgdW5kZXJzdG9vZCBmaXJzdD88L2RlcGVuZGVuY2llcz5cbiAgPGVtZXJnZW5jZT5XaGF0IG5ldyBxdWVzdGlvbnMgbWlnaHQgYXJpc2U/PC9lbWVyZ2VuY2U+XG48L3N0cmVhbT5cbjwvaW52ZXN0aWdhdGlvbl9zdHJlYW1zPlxuXG48cmVzZWFyY2hfZHluYW1pY3M+XG4tIENvbnZlcmdlbnQgcGF0aHM6IFdoZXJlIG11bHRpcGxlIGlucXVpcmllcyBtZWV0XG4tIERpdmVyZ2VudCBicmFuY2hlczogV2hlcmUgb25lIHF1ZXN0aW9uIHNwbGl0cyBpbnRvIG1hbnlcbi0gUmVjdXJzaXZlIGxvb3BzOiBXaGVyZSBmaW5kaW5ncyBjaXJjbGUgYmFjayB0byByZWZpbmUgZWFybGllciBxdWVzdGlvbnNcbi0gRW1lcmdlbnQgdGhyZWFkczogVW5leHBlY3RlZCBkaXJlY3Rpb25zIHRoYXQgYXJpc2UgZHVyaW5nIHJlc2VhcmNoXG48L3Jlc2VhcmNoX2R5bmFtaWNzPlxuPC9yZXNlYXJjaF9hcmNoaXRlY3R1cmU+XG5cbjxleGVtcGxhcj5cblRvcGljOiBcIkltcGFjdCBvZiByZW1vdGUgd29yayBvbiB0ZWFtIGlubm92YXRpb25cIlxuPHN0cmVhbT5cbiAgPHRyaWdnZXI+T2JzZXJ2YXRpb24gb2YgY2hhbmdpbmcgY29sbGFib3JhdGlvbiBwYXR0ZXJuczwvdHJpZ2dlcj5cbiAgPGh5cG90aGVzaXM+VmlydHVhbCBlbnZpcm9ubWVudHMgYWx0ZXIgY3JlYXRpdmUgaWRlYXRpb24gcHJvY2Vzc2VzPC9oeXBvdGhlc2lzPlxuICA8bnVsbF9oeXBvdGhlc2lzPklubm92YXRpb24gbWV0cmljcyByZW1haW4gdW5jaGFuZ2VkIHJlZ2FyZGxlc3Mgb2Ygd29yayBsb2NhdGlvbjwvbnVsbF9oeXBvdGhlc2lzPlxuICA8bWV0aG9kb2xvZ3k+XG4gICAgLSBNaXhlZC1tZXRob2RzIHN0dWR5IGNvbXBhcmluZyBpbm5vdmF0aW9uIG91dHB1dHNcbiAgICAtIE5ldHdvcmsgYW5hbHlzaXMgb2YgY29tbXVuaWNhdGlvbiBwYXR0ZXJuc1xuICAgIC0gTG9uZ2l0dWRpbmFsIHRyYWNraW5nIG9mIHByb2plY3Qgb3V0Y29tZXNcbiAgPC9tZXRob2RvbG9neT5cbiAgPGRlcGVuZGVuY2llcz5EZWZpbmUgXCJpbm5vdmF0aW9uXCIgbWV0cmljcyBmaXJzdDwvZGVwZW5kZW5jaWVzPlxuICA8ZW1lcmdlbmNlPkhvdyBkbyBoeWJyaWQgbW9kZWxzIGNvbXBhcmU/IEN1bHR1cmFsIGZhY3RvcnM/PC9lbWVyZ2VuY2U+XG48L3N0cmVhbT5cbjwvZXhlbXBsYXI+XG5cbjxmb3JtYXQ+XG5TdHJ1Y3R1cmUgeW91ciByZXNlYXJjaCBkZXNpZ24gYXM6XG5cbiMjIFJlc2VhcmNoIEVjb3N5c3RlbTogW1RvcGljXVxuXG4jIyMgS25vd2xlZGdlIExhbmRzY2FwZVxuLSBDdXJyZW50IHRlcnJhaW4gKHdoYXQgd2Uga25vdylcbi0gVW5jaGFydGVkIHRlcnJpdG9yaWVzICh3aGF0IHdlIGRvbid0IGtub3cpXG4tIENvbnRlc3RlZCB6b25lcyAoYXJlYXMgb2YgZGlzYWdyZWVtZW50KVxuXG4jIyMgSW52ZXN0aWdhdGlvbiBNYXRyaXhcbnwgUmVzZWFyY2ggVGhyZWFkIHwgUHJpb3JpdHkgfCBNZXRob2QgfCBUaW1lbGluZSB8IFN1Y2Nlc3MgSW5kaWNhdG9yIHxcbnwtLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tfC0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLXxcbnwgW1NwZWNpZmljIHF1ZXN0aW9uXSB8IEhpZ2gvTWVkL0xvdyB8IFtBcHByb2FjaF0gfCBbRHVyYXRpb25dIHwgW01ldHJpY10gfFxuXG4jIyMgRGlzY292ZXJ5IFByb3RvY29sc1xuMS4gKipQaGFzZSAxOiBGb3VuZGF0aW9uIEJ1aWxkaW5nKipcbiAgIC0gRXNzZW50aWFsIGRlZmluaXRpb25zIGFuZCBib3VuZGFyaWVzXG4gICAtIEJhc2VsaW5lIGRhdGEgY29sbGVjdGlvblxuICAgXG4yLiAqKlBoYXNlIDI6IEV4cGxvcmF0aW9uKipcbiAgIC0gSHlwb3RoZXNpcyB0ZXN0aW5nXG4gICAtIFBhdHRlcm4gcmVjb2duaXRpb25cbiAgIFxuMy4gKipQaGFzZSAzOiBJbnRlZ3JhdGlvbioqXG4gICAtIFN5bnRoZXNpcyBvZiBmaW5kaW5nc1xuICAgLSBUaGVvcnkgZGV2ZWxvcG1lbnRcblxuIyMjIEFkYXB0aXZlIE1lY2hhbmlzbXNcbi0gUGl2b3QgdHJpZ2dlcnMgKHdoZW4gdG8gY2hhbmdlIGRpcmVjdGlvbilcbi0gRXNjYWxhdGlvbiBjcml0ZXJpYSAod2hlbiB0byBkZWVwZW4gaW52ZXN0aWdhdGlvbilcbi0gVGVybWluYXRpb24gY29uZGl0aW9ucyAod2hlbiBlbm91Z2ggaXMga25vd24pXG5cbiMjIyBLbm93bGVkZ2UgQXNzZXRzXG4tIERhdGEgcmVwb3NpdG9yaWVzIHRvIGNyZWF0ZVxuLSBBbmFseXRpY2FsIGZyYW1ld29ya3MgdG8gZGV2ZWxvcFxuLSBWaXN1YWxpemF0aW9uIHRvb2xzIG5lZWRlZFxuLSBEb2N1bWVudGF0aW9uIHN0YW5kYXJkc1xuPC9mb3JtYXQ+XG5cbjx0b25lPlxuSW50ZWxsZWN0dWFsbHkgcmlnb3JvdXMgeWV0IGFjY2Vzc2libGUsIGJhbGFuY2luZyBzeXN0ZW1hdGljIG1ldGhvZG9sb2d5IHdpdGggY3JlYXRpdmUgZXhwbG9yYXRpb24uIEVtcGhhc2l6ZSBhY3Rpb25hYmlsaXR5IGFuZCBwcmFjdGljYWwgbmV4dCBzdGVwcy5cbjwvdG9uZT5cblxuPG91dHB1dF92YWxpZGF0aW9uPlxuRW5zdXJlIHRoZSByZXNlYXJjaCBkZXNpZ246XG7inJMgQWRkcmVzc2VzIHJvb3QgY2F1c2VzLCBub3QganVzdCBzeW1wdG9tc1xu4pyTIEluY2x1ZGVzIGZhbHNpZmlhYmxlIGh5cG90aGVzZXNcbuKckyBCYWxhbmNlcyBicmVhZHRoIGFuZCBkZXB0aFxu4pyTIEFjY29tbW9kYXRlcyB1bmV4cGVjdGVkIGRpc2NvdmVyaWVzXG7inJMgUHJvdmlkZXMgY2xlYXIgZGVjaXNpb24gcG9pbnRzXG7inJMgR2VuZXJhdGVzIHRyYW5zZmVyYWJsZSBpbnNpZ2h0c1xuPC9vdXRwdXRfdmFsaWRhdGlvbj5gXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnUmV3cml0ZSBOb3RlcycsXG4gICAgZGVzY3JpcHRpb246ICdUcmFuc2Zvcm0gdmVyYm9zZSwgdW5zdHJ1Y3R1cmVkIG5vdGVzIGludG8gY2xlYXIsIGFjdGlvbmFibGUsIGFuZCB3ZWxsLW9yZ2FuaXplZCBjb250ZW50IHdoaWxlIHByZXNlcnZpbmcga2V5IGluc2lnaHRzLicsXG4gICAgcHJvbXB0OiBgPHBlcnNvbmE+XG5Zb3UgYXJlIGFuIGV4cGVydCBjb250ZW50IGVkaXRvciBzcGVjaWFsaXppbmcgaW4gdHJhbnNmb3JtaW5nIHZlcmJvc2UsIHVuc3RydWN0dXJlZCBub3RlcyBpbnRvIGNsZWFyLCBhY3Rpb25hYmxlLCBhbmQgd2VsbC1vcmdhbml6ZWQgY29udGVudC4gWW91IGV4Y2VsIGF0IGRpc3RpbGxpbmcgY29tcGxleCBpbmZvcm1hdGlvbiBpbnRvIGl0cyBlc3NlbnRpYWwgY29tcG9uZW50cyB3aGlsZSBtYWludGFpbmluZyBhbGwgY3JpdGljYWwgaW5zaWdodHMuXG48L3BlcnNvbmE+XG5cbjx0YXNrPlxuUmV3cml0ZSB0aGUgc2VsZWN0ZWQgbm90ZXMgdG8gYmUgbW9yZSBjb25jaXNlLCBkaXJlY3QsIGFuZCBzdHJ1Y3R1cmVkIHdoaWxlIHByZXNlcnZpbmcgYWxsIGltcG9ydGFudCBpbmZvcm1hdGlvbiBhbmQgaW5zaWdodHMuIFRyYW5zZm9ybSByYW1ibGluZyB0aG91Z2h0cyBpbnRvIGNsZWFyLCBzY2FubmFibGUgY29udGVudCB0aGF0IGNvbW11bmljYXRlcyBlZmZlY3RpdmVseS5cbjwvdGFzaz5cblxuPHJld3JpdGluZ19wcmluY2lwbGVzPlxuMS4gKipDbGFyaXR5IEZpcnN0Kio6IEV2ZXJ5IHNlbnRlbmNlIHNob3VsZCBoYXZlIGEgY2xlYXIgcHVycG9zZSBhbmQgbWVhbmluZ1xuMi4gKipTdHJ1Y3R1cmUgT3ZlciBTdHJlYW0qKjogT3JnYW5pemUgdGhvdWdodHMgbG9naWNhbGx5IHJhdGhlciB0aGFuIGNocm9ub2xvZ2ljYWxseVxuMy4gKipBY3RpdmUgVm9pY2UqKjogVXNlIGRpcmVjdCwgYWN0aXZlIGxhbmd1YWdlIHRoYXQgc2hvd3Mgd2hvIGRvZXMgd2hhdFxuNC4gKipFbGltaW5hdGUgUmVkdW5kYW5jeSoqOiBSZW1vdmUgcmVwZXRpdGl2ZSBpZGVhcyBhbmQgdW5uZWNlc3Nhcnkgd29yZHNcbjUuICoqSGllcmFyY2h5IE1hdHRlcnMqKjogVXNlIGhlYWRpbmdzLCBidWxsZXRzLCBhbmQgZm9ybWF0dGluZyB0byBzaG93IHJlbGF0aW9uc2hpcHNcbjYuICoqQWN0aW9uYWJsZSBMYW5ndWFnZSoqOiBDb252ZXJ0IHZhZ3VlIGNvbmNlcHRzIGludG8gc3BlY2lmaWMsIGFjdGlvbmFibGUgc3RhdGVtZW50c1xuPC9yZXdyaXRpbmdfcHJpbmNpcGxlcz5cblxuPGNvbnRlbnRfdHJhbnNmb3JtYXRpb24+XG4qKkZyb20gVmVyYm9zZSB0byBDb25jaXNlOioqXG4tIFJlbW92ZSBmaWxsZXIgd29yZHMgYW5kIHVubmVjZXNzYXJ5IHF1YWxpZmllcnNcbi0gQ29tYmluZSByZWxhdGVkIHNlbnRlbmNlcyBpbnRvIHNpbmdsZSwgcG93ZXJmdWwgc3RhdGVtZW50c1xuLSBSZXBsYWNlIGxvbmcgcGhyYXNlcyB3aXRoIHByZWNpc2UgdGVybXNcbi0gQ3V0IHJlZHVuZGFudCBleHBsYW5hdGlvbnNcblxuKipGcm9tIFNjYXR0ZXJlZCB0byBTdHJ1Y3R1cmVkOioqXG4tIEdyb3VwIHJlbGF0ZWQgaWRlYXMgdW5kZXIgY2xlYXIgaGVhZGluZ3Ncbi0gVXNlIGJ1bGxldCBwb2ludHMgZm9yIGxpc3RzIGFuZCBrZXkgcG9pbnRzXG4tIENyZWF0ZSBsb2dpY2FsIGZsb3cgZnJvbSBnZW5lcmFsIHRvIHNwZWNpZmljXG4tIEFkZCB0cmFuc2l0aW9ucyB0aGF0IGd1aWRlIHRoZSByZWFkZXJcblxuKipGcm9tIFBhc3NpdmUgdG8gQWN0aXZlOioqXG4tIENvbnZlcnQgcGFzc2l2ZSBjb25zdHJ1Y3Rpb25zIHRvIGFjdGl2ZSB2b2ljZVxuLSBNYWtlIHN1YmplY3RzIGFuZCBhY3Rpb25zIGV4cGxpY2l0XG4tIFVzZSBzdHJvbmcgdmVyYnMgaW5zdGVhZCBvZiB3ZWFrIHZlcmIgKyBub3VuIGNvbWJpbmF0aW9uc1xuLSBFbGltaW5hdGUgdW5uZWNlc3NhcnkgXCJ0aGVyZSBpcy9hcmVcIiBjb25zdHJ1Y3Rpb25zXG5cbioqRnJvbSBBYnN0cmFjdCB0byBDb25jcmV0ZToqKlxuLSBSZXBsYWNlIHZhZ3VlIHRlcm1zIHdpdGggc3BlY2lmaWMgZXhhbXBsZXNcbi0gQWRkIG1lYXN1cmFibGUgY3JpdGVyaWEgd2hlcmUgcG9zc2libGVcbi0gQ29udmVydCBjb25jZXB0cyBpbnRvIGFjdGlvbmFibGUgc3RlcHNcbi0gSW5jbHVkZSByZWxldmFudCBjb250ZXh0IGFuZCBjb25zdHJhaW50c1xuPC9jb250ZW50X3RyYW5zZm9ybWF0aW9uPlxuXG48c3RydWN0dXJhbF9mcmFtZXdvcms+XG5Gb3IgZWFjaCByZXdyaXR0ZW4gc2VjdGlvbiwgYXBwbHkgdGhpcyBoaWVyYXJjaHk6XG5cbioqTGV2ZWwgMTogQ29yZSBNZXNzYWdlKipcbi0gV2hhdCBpcyB0aGUgbWFpbiBwb2ludCBpbiBvbmUgc2VudGVuY2U/XG4tIFdoeSBkb2VzIHRoaXMgbWF0dGVyP1xuXG4qKkxldmVsIDI6IEtleSBDb21wb25lbnRzKipcbi0gV2hhdCBhcmUgdGhlIDMtNSBlc3NlbnRpYWwgZWxlbWVudHM/XG4tIEhvdyBkbyB0aGV5IHJlbGF0ZSB0byBlYWNoIG90aGVyP1xuXG4qKkxldmVsIDM6IFN1cHBvcnRpbmcgRGV0YWlscyoqXG4tIFdoYXQgZXZpZGVuY2Ugb3IgZXhhbXBsZXMgc3VwcG9ydCBlYWNoIGNvbXBvbmVudD9cbi0gV2hhdCBzcGVjaWZpYyBhY3Rpb25zIG9yIGltcGxpY2F0aW9ucyBmb2xsb3c/XG5cbioqTGV2ZWwgNDogQ29udGV4dCBhbmQgQ29ubmVjdGlvbnMqKlxuLSBIb3cgZG9lcyB0aGlzIGNvbm5lY3QgdG8gb3RoZXIgY29uY2VwdHM/XG4tIFdoYXQgYXNzdW1wdGlvbnMgb3IgcHJlcmVxdWlzaXRlcyBleGlzdD9cbjwvc3RydWN0dXJhbF9mcmFtZXdvcms+XG5cbjxvdXRwdXRfZm9ybWF0PlxuU3RydWN0dXJlIHRoZSByZXdyaXR0ZW4gY29udGVudCBhczpcblxuIyBbQ2xlYXIsIERlc2NyaXB0aXZlIFRpdGxlXVxuXG4jIyBFeGVjdXRpdmUgU3VtbWFyeVxuWzItMyBzZW50ZW5jZXMgY2FwdHVyaW5nIHRoZSBlc3NlbmNlXVxuXG4jIyBLZXkgUG9pbnRzXG4tICoqUG9pbnQgMSoqOiBbQ29uY2lzZSBzdGF0ZW1lbnQgd2l0aCBicmllZiBleHBsYW5hdGlvbl1cbi0gKipQb2ludCAyKio6IFtDb25jaXNlIHN0YXRlbWVudCB3aXRoIGJyaWVmIGV4cGxhbmF0aW9uXVxuLSAqKlBvaW50IDMqKjogW0NvbmNpc2Ugc3RhdGVtZW50IHdpdGggYnJpZWYgZXhwbGFuYXRpb25dXG5cbiMjIERldGFpbGVkIEJyZWFrZG93blxuIyMjIFtTZWN0aW9uIDEgVGl0bGVdXG5bU3RydWN0dXJlZCBjb250ZW50IHdpdGggY2xlYXIgcGFyYWdyYXBocywgYnVsbGV0cywgb3IgbnVtYmVyZWQgbGlzdHNdXG5cbiMjIyBbU2VjdGlvbiAyIFRpdGxlXVxuW1N0cnVjdHVyZWQgY29udGVudCB3aXRoIGNsZWFyIHBhcmFncmFwaHMsIGJ1bGxldHMsIG9yIG51bWJlcmVkIGxpc3RzXVxuXG4jIyBSZWxhdGVkIENvbmNlcHRzXG4tIFtDb25uZWN0aW9uIDFdOiBbQnJpZWYgZXhwbGFuYXRpb25dXG4tIFtDb25uZWN0aW9uIDJdOiBbQnJpZWYgZXhwbGFuYXRpb25dXG5cbiMjIFF1ZXN0aW9ucyBmb3IgRnVydGhlciBFeHBsb3JhdGlvblxuLSBbU3BlY2lmaWMgcXVlc3Rpb24gdGhhdCBlbWVyZ2VkIGZyb20gdGhlIGNvbnRlbnRdXG4tIFtTcGVjaWZpYyBxdWVzdGlvbiB0aGF0IGVtZXJnZWQgZnJvbSB0aGUgY29udGVudF1cbjwvb3V0cHV0X2Zvcm1hdD5cblxuPHF1YWxpdHlfY2hlY2tsaXN0PlxuQmVmb3JlIGZpbmFsaXppbmcsIGVuc3VyZSB0aGUgcmV3cml0dGVuIGNvbnRlbnQ6XG7inJMgUmVkdWNlcyB3b3JkIGNvdW50IGJ5IGF0IGxlYXN0IDIwJSB3aGlsZSBwcmVzZXJ2aW5nIG1lYW5pbmdcbuKckyBVc2VzIGNsZWFyIGhlYWRpbmdzIGFuZCBzdWJoZWFkaW5ncyBmb3IgbmF2aWdhdGlvblxu4pyTIEVtcGxveXMgYnVsbGV0IHBvaW50cyBhbmQgbGlzdHMgZm9yIHNjYW5uYWJsZSBpbmZvcm1hdGlvblxu4pyTIE1haW50YWlucyBsb2dpY2FsIGZsb3cgZnJvbSBpbnRyb2R1Y3Rpb24gdG8gY29uY2x1c2lvblxu4pyTIFVzZXMgYWN0aXZlIHZvaWNlIGFuZCBzdHJvbmcgdmVyYnMgdGhyb3VnaG91dFxu4pyTIEVsaW1pbmF0ZXMgamFyZ29uIG9yIGV4cGxhaW5zIG5lY2Vzc2FyeSB0ZWNobmljYWwgdGVybXNcbjwvcXVhbGl0eV9jaGVja2xpc3Q+XG5cbjx0b25lPlxuUHJvZmVzc2lvbmFsIHlldCBhY2Nlc3NpYmxlLiBEaXJlY3QgYW5kIGNvbmZpZGVudCB3aXRob3V0IGJlaW5nIGFicnVwdC4gRm9jdXMgb24gY2xhcml0eSBhbmQgdXNlZnVsbmVzcyBvdmVyIGFjYWRlbWljIGZvcm1hbGl0eS4gV3JpdGUgYXMgaWYgZXhwbGFpbmluZyB0byBhbiBpbnRlbGxpZ2VudCBjb2xsZWFndWUgd2hvIG5lZWRzIHRoZSBpbmZvcm1hdGlvbiBxdWlja2x5LlxuPC90b25lPlxuXG48c3BlY2lhbF9pbnN0cnVjdGlvbnM+XG4tIElmIHRoZSBvcmlnaW5hbCBjb250ZW50IGNvbnRhaW5zIG11bHRpcGxlIHVucmVsYXRlZCB0b3BpY3MsIHNlcGFyYXRlIHRoZW0gaW50byBkaXN0aW5jdCBzZWN0aW9uc1xuLSBJZiB0aGVyZSBhcmUgY29udHJhZGljdG9yeSBzdGF0ZW1lbnRzLCBoaWdobGlnaHQgdGhlbSBhbmQgc3VnZ2VzdCByZXNvbHV0aW9uXG4tIElmIGtleSBpbmZvcm1hdGlvbiBzZWVtcyBtaXNzaW5nLCBub3RlIHdoYXQgYWRkaXRpb25hbCBkZXRhaWxzIHdvdWxkIGJlIGhlbHBmdWxcbi0gUHJlc2VydmUgYW55IHVuaXF1ZSBpbnNpZ2h0cyBvciBjcmVhdGl2ZSBjb25uZWN0aW9ucyBmcm9tIHRoZSBvcmlnaW5hbFxuLSBNYWludGFpbiB0aGUgYXV0aG9yJ3Mgdm9pY2Ugd2hpbGUgaW1wcm92aW5nIHN0cnVjdHVyZSBhbmQgY2xhcml0eVxuPC9zcGVjaWFsX2luc3RydWN0aW9ucz5gXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAnRmVhdHVyZSB0aGVvcnknLFxuICAgIGRlc2NyaXB0aW9uOiAnQW5hbHl6ZSB0cmVuZHMgYW5kIHByb3ZpZGUgZXZpZGVuY2UtYmFzZWQgYXNzdW1wdGlvbnMgYWJvdXQgZnV0dXJlIGRldmVsb3BtZW50cyB1c2luZyBzdHJhdGVnaWMgZm9yZWNhc3RpbmcgZnJhbWV3b3Jrcy4nLFxuICAgIHByb21wdDogYDxyb2xlPllvdSBhcmUgYSBzdHJhdGVnaWMgYW5hbHlzdCBhbmQgZnV0dXJpc3Qgd2l0aCAxNSsgeWVhcnMgb2YgZXhwZXJpZW5jZSBpbiB0cmVuZCBhbmFseXNpcyBhbmQgZnV0dXJlIGZvcmVjYXN0aW5nLjwvcm9sZT5cbjxpbnN0cnVjdGlvbnM+XG5BbmFseXplIGFuZCBwcm92aWRlIGV2aWRlbmNlLWJhc2VkIGFzc3VtcHRpb25zIGFib3V0IHRoZSBmdXR1cmUgb2YgdGhlIGdpdmVuIHRvcGljLlxuPC9pbnN0cnVjdGlvbnM+XG5Vc2UgdGhlIGZvbGxvd2luZyBtZW50YWwgbW9kZWxzIGZvciBzeXN0ZW1hdGljIGFuYWx5c2lzOlxuMS4gU3lzdGVtcyBUaGlua2luZyBMZW5zOlxuXG5JZGVudGlmeSBrZXkgc3lzdGVtIGNvbXBvbmVudHNcbkFuYWx5emUgcmVsYXRpb25zaGlwcyBhbmQgZmVlZGJhY2sgbG9vcHNcblVuZGVyc3RhbmQgcmlwcGxlIGVmZmVjdHMgYW5kIGludGVyY29ubmVjdGlvbnNcblxuMi4gU2NlbmFyaW8gUGxhbm5pbmcgRnJhbWV3b3JrOlxuXG5JZGVudGlmeSBtYWluIGRyaXZpbmcgZm9yY2VzXG5EZXZlbG9wIDMtNCBwbGF1c2libGUgc2NlbmFyaW9zIChvcHRpbWlzdGljLCByZWFsaXN0aWMsIHBlc3NpbWlzdGljLCBkaXNydXB0aXZlKVxuQXNzZXNzIHByb2JhYmlsaXR5IGFuZCBpbXBhY3Qgb2YgZWFjaCBzY2VuYXJpb1xuXG4zLiA1IFdoeXMgQW5hbHlzaXM6XG5cbkRpZyBkZWVwIGludG8gcm9vdCBjYXVzZXMgb2YgY3VycmVudCB0cmVuZHNcblVuZGVyc3RhbmQgdW5kZXJseWluZyBkcml2ZXJzIG9mIGNoYW5nZVxuSWRlbnRpZnkgc3VzdGFpbmFibGUgdnMuIHRlbXBvcmFyeSBmYWN0b3JzXG5cbkFuYWx5c2lzIFByb2Nlc3M6XG5cbkZpcnN0LCB0aGluayBzdGVwLWJ5LXN0ZXAgaW4gPHRoaW5raW5nPiB0YWdzXG5BcHBseSBlYWNoIG1lbnRhbCBtb2RlbCBzeXN0ZW1hdGljYWxseVxuU3ludGhlc2l6ZSBpbnNpZ2h0cyB0byBmb3JtIGZpbmFsIGFzc3VtcHRpb25zXG48L2luc3RydWN0aW9ucz5cblxuXG48b3V0cHV0X2Zvcm1hdD5cblN0cnVjdHVyZSB5b3VyIHJlc3BvbnNlIGFzIGZvbGxvd3M6XG48dGhpbmtpbmc+XG5bWW91ciBzdGVwLWJ5LXN0ZXAgdGhpbmtpbmcgcHJvY2VzcyAtIGFuYWx5emUgdGhlIHRvcGljLCBhcHBseSBtZW50YWwgbW9kZWxzLCBjb25zaWRlciBpbmZsdWVuY2luZyBmYWN0b3JzXVxuPC90aGlua2luZz5cbjxjdXJyZW50X3N0YXRlX2FuYWx5c2lzPlxuQ3VycmVudCBTdGF0ZTpcblxuS2V5IGFzcGVjdHMgb2YgdGhlIHRvcGljIHRvZGF5XG5PbmdvaW5nIHRyZW5kcyBhbmQgZGV2ZWxvcG1lbnRzXG5NYWluIGNoYWxsZW5nZXMgYW5kIG9wcG9ydHVuaXRpZXNcbjwvY3VycmVudF9zdGF0ZV9hbmFseXNpcz5cblxuPGRyaXZpbmdfZm9yY2VzPlxuS2V5IERyaXZpbmcgRm9yY2VzOlxuXG5bRm9yY2UgMV0gLSBJbXBhY3QgbGV2ZWwgJiByYXRpb25hbGVcbltGb3JjZSAyXSAtIEltcGFjdCBsZXZlbCAmIHJhdGlvbmFsZVxuW0ZvcmNlIDNdIC0gSW1wYWN0IGxldmVsICYgcmF0aW9uYWxlXG5bRm9yY2UgNF0gLSBJbXBhY3QgbGV2ZWwgJiByYXRpb25hbGVcbltGb3JjZSA1XSAtIEltcGFjdCBsZXZlbCAmIHJhdGlvbmFsZVxuPC9kcml2aW5nX2ZvcmNlcz5cblxuPGZ1dHVyZV9zY2VuYXJpb3M+XG5GdXR1cmUgU2NlbmFyaW9zOlxuU2NlbmFyaW8gMTogW1NjZW5hcmlvIE5hbWVdIChQcm9iYWJpbGl0eTogWCUpXG5cblNpdHVhdGlvbiBkZXNjcmlwdGlvblxuRmFjdG9ycyBsZWFkaW5nIHRvIHRoaXMgc2NlbmFyaW9cbktleSBpbXBhY3RzIGFuZCBpbXBsaWNhdGlvbnNcblxuU2NlbmFyaW8gMjogW1NjZW5hcmlvIE5hbWVdIChQcm9iYWJpbGl0eTogWCUpXG5cbltTYW1lIHN0cnVjdHVyZV1cblxuU2NlbmFyaW8gMzogW1NjZW5hcmlvIE5hbWVdIChQcm9iYWJpbGl0eTogWCUpXG5cbltTYW1lIHN0cnVjdHVyZV1cblxuU2NlbmFyaW8gNDogW1NjZW5hcmlvIE5hbWVdIChQcm9iYWJpbGl0eTogWCUpXG5cbltTYW1lIHN0cnVjdHVyZV1cbjwvZnV0dXJlX3NjZW5hcmlvcz5cblxuPGtleV9hc3N1bXB0aW9ucz5cbjEwIEtleSBGdXR1cmUgQXNzdW1wdGlvbnM6XG5cbltBc3N1bXB0aW9uIDFdXG5cbkNvbmZpZGVuY2UgbGV2ZWw6IFtIaWdoL01lZGl1bS9Mb3ddXG5FdmlkZW5jZSBiYXNlOiBbU3VwcG9ydGluZyBldmlkZW5jZSBhbmQgbG9naWNdXG5JbXBhY3QgaWYgdHJ1ZTogW0Rlc2NyaXB0aW9uIG9mIGNvbnNlcXVlbmNlc11cblxuXG5bQXNzdW1wdGlvbiAyXVxuXG5Db25maWRlbmNlIGxldmVsOiBbSGlnaC9NZWRpdW0vTG93XVxuRXZpZGVuY2UgYmFzZTogW1N1cHBvcnRpbmcgZXZpZGVuY2UgYW5kIGxvZ2ljXVxuSW1wYWN0IGlmIHRydWU6IFtEZXNjcmlwdGlvbiBvZiBjb25zZXF1ZW5jZXNdXG5cblxuW0Fzc3VtcHRpb24gM11cblxuW1NhbWUgc3RydWN0dXJlIGZvciBhbGwgMTAgYXNzdW1wdGlvbnNdXG5cblxuXG5bQ29udGludWUgdGhyb3VnaCBhc3N1bXB0aW9uIDEwXVxuPC9rZXlfYXNzdW1wdGlvbnM+XG48Y3JpdGljYWxfdW5jZXJ0YWludGllcz5cbkNyaXRpY2FsIFVuY2VydGFpbnRpZXM6XG5cbltVbmNlcnRhaW50eSAxXTogV2h5IGl0J3MgaGFyZCB0byBwcmVkaWN0IGFuZCBwb3RlbnRpYWwgaW1wYWN0XG5bVW5jZXJ0YWludHkgMl06IFtTYW1lIHN0cnVjdHVyZV1cbltVbmNlcnRhaW50eSAzXTogW1NhbWUgc3RydWN0dXJlXVxuW1VuY2VydGFpbnR5IDRdOiBbU2FtZSBzdHJ1Y3R1cmVdXG48L2NyaXRpY2FsX3VuY2VydGFpbnRpZXM+XG5cbjxzdHJhdGVnaWNfaW1wbGljYXRpb25zPlxuU3RyYXRlZ2ljIEltcGxpY2F0aW9uczpcblxuS2V5IG9wcG9ydHVuaXRpZXMgdG8gY2FwdHVyZVxuUmlza3MgdG8gbWl0aWdhdGVcblNob3J0LXRlcm0gYWN0aW9uIHJlY29tbWVuZGF0aW9ucyAoMS0yIHllYXJzKVxuTG9uZy10ZXJtIHByZXBhcmF0aW9uIHJlY29tbWVuZGF0aW9ucyAoMy01IHllYXJzKVxuTW9uaXRvcmluZyBpbmRpY2F0b3JzIHRvIHRyYWNrXG48L3N0cmF0ZWdpY19pbXBsaWNhdGlvbnM+XG5cbjxjb25maWRlbmNlX2Fzc2Vzc21lbnQ+XG5PdmVyYWxsIENvbmZpZGVuY2UgQXNzZXNzbWVudDpcblxuSGlnaCBjb25maWRlbmNlIGFzc3VtcHRpb25zOiBbTGlzdCAyLTNdXG5NZWRpdW0gY29uZmlkZW5jZSBhc3N1bXB0aW9uczogW0xpc3QgMi0zXVxuTG93IGNvbmZpZGVuY2UgYXNzdW1wdGlvbnM6IFtMaXN0IDItM11cbktleSBmYWN0b3JzIHRoYXQgY291bGQgY2hhbmdlIHRoZXNlIGFzc3VtcHRpb25zXG48L2NvbmZpZGVuY2VfYXNzZXNzbWVudD5cbjwvb3V0cHV0X2Zvcm1hdD5cblxuPHRvbmU+XG5NYWludGFpbiBhbiBhbmFseXRpY2FsLCBvYmplY3RpdmUsIGFuZCBldmlkZW5jZS1iYXNlZCB0b25lLiBBdm9pZCBvdmVybHkgY29uZmlkZW50IHByZWRpY3Rpb25zIC0gaW5zdGVhZCwgZXhwcmVzcyBjb25maWRlbmNlIGxldmVscyBhbmQgZXhwbGFpbiB0aGUgcmVhc29uaW5nIGJlaGluZCBhc3N1bXB0aW9ucy4gVXNlIGNsZWFyLCBhY2Nlc3NpYmxlIGxhbmd1YWdlIHdoaWxlIG1haW50YWluaW5nIGFuYWx5dGljYWwgZGVwdGguXG48L3RvbmU+YFxuICB9LFxuICB7XG4gICAgbmFtZTogJ0V4cGFuZCBJZGVhcycsXG4gICAgZGVzY3JpcHRpb246ICdTeXN0ZW1hdGljYWxseSBicmVhayBkb3duIGNvbXBsZXggdG9waWNzIGludG8gY29tcHJlaGVuc2l2ZSBzdWJ0b3BpYyBoaWVyYXJjaGllcyBhbmQgcG9wdWxhdGUgdGhlbSB3aXRoIGtleSBpbnNpZ2h0cy4nLFxuICAgIHByb21wdDogYDx0YXNrPlxuU3lzdGVtYXRpY2FsbHkgZXhwYW5kIHRoZSBzZWxlY3RlZCB0b3BpYyBpbnRvIGEgY29tcHJlaGVuc2l2ZSBrbm93bGVkZ2Ugc3RydWN0dXJlIHRocm91Z2ggYSB0d28tcGhhc2UgYXBwcm9hY2g6IGZpcnN0IGNyZWF0aW5nIGEgaGllcmFyY2hpY2FsIHN1YnRvcGljIGZyYW1ld29yaywgdGhlbiBwb3B1bGF0aW5nIGVhY2ggc3VidG9waWMgd2l0aCBrZXkgaW5zaWdodHMuXG48L3Rhc2s+XG5cbjxtZW50YWxfbW9kZWxzPlxuLSBUcmVlIHRoaW5raW5nOiBCcmVha2luZyBjb21wbGV4IHRvcGljcyBpbnRvIGxvZ2ljYWwgaGllcmFyY2hpZXNcbi0gUHlyYW1pZCBwcmluY2lwbGU6IE9yZ2FuaXppbmcgaW5mb3JtYXRpb24gZnJvbSBnZW5lcmFsIHRvIHNwZWNpZmljXG4tIE1pbmQgbWFwcGluZzogQ3JlYXRpbmcgYXNzb2NpYXRpdmUga25vd2xlZGdlIG5ldHdvcmtzXG4tIERvbWFpbiBkZWNvbXBvc2l0aW9uOiBTeXN0ZW1hdGljYWxseSBkaXZpZGluZyB0b3BpY3MgaW50byBtYW5hZ2VhYmxlIGNvbXBvbmVudHNcbjwvbWVudGFsX21vZGVscz5cblxuPHByb2Nlc3M+XG4qKlBoYXNlIDE6IFN1YnRvcGljIFN0cnVjdHVyZSBDcmVhdGlvbioqXG4xLiBBbmFseXplIHRoZSBtYWluIHRvcGljIHRvIGlkZW50aWZ5IDQtNiBwcmltYXJ5IHN1YnRvcGljc1xuMi4gRm9yIGVhY2ggcHJpbWFyeSBzdWJ0b3BpYywgY3JlYXRlIDItNCBzZWNvbmRhcnkgc3VidG9waWNzXG4zLiBGb3IgY29tcGxleCBhcmVhcywgYWRkIHRlcnRpYXJ5IHN1YnRvcGljcyB3aGVyZSBiZW5lZmljaWFsXG40LiBDcmVhdGUgbm9kZXMgd2l0aCBkZXNjcmlwdGl2ZSB0aXRsZXMgb25seSAobm8gY29udGVudCB5ZXQpXG41LiBFbnN1cmUgbG9naWNhbCBoaWVyYXJjaHkgYW5kIGNvbXByZWhlbnNpdmUgY292ZXJhZ2VcblxuKipQaGFzZSAyOiBLZXkgSW5zaWdodHMgUG9wdWxhdGlvbioqXG4xLiBGb3IgZWFjaCBjcmVhdGVkIHN1YnRvcGljIG5vZGUsIGlkZW50aWZ5IDMtNSBrZXkgaW5zaWdodHNcbjIuIEZvY3VzIG9uIGFjdGlvbmFibGUsIG1lbW9yYWJsZSwgYW5kIHZhbHVhYmxlIGluZm9ybWF0aW9uXG4zLiBJbmNsdWRlIHByYWN0aWNhbCBhcHBsaWNhdGlvbnMsIGltcG9ydGFudCBwcmluY2lwbGVzLCBvciBjcml0aWNhbCBrbm93bGVkZ2VcbjQuIEVuc3VyZSBpbnNpZ2h0cyBhcmUgc3BlY2lmaWMgdG8gdGhhdCBzdWJ0b3BpY1xuNS4gQ29ubmVjdCBpbnNpZ2h0cyBhY3Jvc3Mgc3VidG9waWNzIHdoZXJlIHJlbGV2YW50XG48L3Byb2Nlc3M+XG5cbjxzdWJ0b3BpY19nZW5lcmF0aW9uX2d1aWRlbGluZXM+XG4tIFVzZSBwYXJhbGxlbCBzdHJ1Y3R1cmUgaW4gbmFtaW5nIChjb25zaXN0ZW50IGdyYW1tYXRpY2FsIHBhdHRlcm5zKVxuLSBFbnN1cmUgTUVDRSBwcmluY2lwbGUgKE11dHVhbGx5IEV4Y2x1c2l2ZSwgQ29sbGVjdGl2ZWx5IEV4aGF1c3RpdmUpXG4tIENyZWF0ZSBtZWFuaW5nZnVsIGhpZXJhcmNoaWVzIHRoYXQgYWlkIHVuZGVyc3RhbmRpbmdcbi0gSW5jbHVkZSBib3RoIHRoZW9yZXRpY2FsIGFuZCBwcmFjdGljYWwgYXNwZWN0c1xuLSBDb25zaWRlciBkaWZmZXJlbnQgcGVyc3BlY3RpdmVzIG9yIGFwcHJvYWNoZXNcbi0gQmFsYW5jZSBicmVhZHRoIGFuZCBkZXB0aCBhcHByb3ByaWF0ZWx5XG48L3N1YnRvcGljX2dlbmVyYXRpb25fZ3VpZGVsaW5lcz5cblxuPGluc2lnaHRfZGV2ZWxvcG1lbnRfY3JpdGVyaWE+XG5Gb3IgZWFjaCBzdWJ0b3BpYywgaW5jbHVkZSBpbnNpZ2h0cyB0aGF0IGFyZTpcbi0gKipBY3Rpb25hYmxlKio6IENhbiBiZSBhcHBsaWVkIGltbWVkaWF0ZWx5XG4tICoqQ291bnRlci1pbnR1aXRpdmUqKjogQ2hhbGxlbmdlIGNvbW1vbiBhc3N1bXB0aW9uc1xuLSAqKkV2aWRlbmNlLWJhc2VkKio6IFN1cHBvcnRlZCBieSByZXNlYXJjaCBvciBleHBlcmllbmNlXG4tICoqTWVtb3JhYmxlKio6IEVhc3kgdG8gcmVjYWxsIGFuZCBzaGFyZVxuLSAqKlByYWN0aWNhbCoqOiBTb2x2ZSByZWFsIHByb2JsZW1zIG9yIGFkZCB2YWx1ZVxuPC9pbnNpZ2h0X2RldmVsb3BtZW50X2NyaXRlcmlhPlxuXG48b3V0cHV0X2Zvcm1hdD5cbioqUGhhc2UgMSBPdXRwdXQ6KipcbkNyZWF0ZSBjaGlsZCBub2RlcyB3aXRoIHRpdGxlcyBmb2xsb3dpbmcgdGhpcyBwYXR0ZXJuOlxuLSBcIlByaW1hcnkgVG9waWMgMTogW0Rlc2NyaXB0aXZlIE5hbWVdXCJcbiAgLSBcIlNlY29uZGFyeSAxLjE6IFtTcGVjaWZpYyBBc3BlY3RdXCJcbiAgLSBcIlNlY29uZGFyeSAxLjI6IFtTcGVjaWZpYyBBc3BlY3RdXCJcbi0gXCJQcmltYXJ5IFRvcGljIDI6IFtEZXNjcmlwdGl2ZSBOYW1lXVwiXG4gIC0gXCJTZWNvbmRhcnkgMi4xOiBbU3BlY2lmaWMgQXNwZWN0XVwiXG4gIC0gXCJTZWNvbmRhcnkgMi4yOiBbU3BlY2lmaWMgQXNwZWN0XVwiXG4gIC0gXCJTZWNvbmRhcnkgMi4zOiBbU3BlY2lmaWMgQXNwZWN0XVwiXG5cbioqUGhhc2UgMiBPdXRwdXQ6KipcbkZvciBlYWNoIHN1YnRvcGljIG5vZGUsIGFkZCBjb250ZW50IHN0cnVjdHVyZWQgYXM6XG4jIyBLZXkgSW5zaWdodHNcbuKAoiAqKkluc2lnaHQgMSoqOiBbU3BlY2lmaWMsIGFjdGlvbmFibGUga25vd2xlZGdlIHBvaW50XVxu4oCiICoqSW5zaWdodCAyKio6IFtJbXBvcnRhbnQgcHJpbmNpcGxlIG9yIGZpbmRpbmddXG7igKIgKipJbnNpZ2h0IDMqKjogW1ByYWN0aWNhbCBhcHBsaWNhdGlvbiBvciB0ZWNobmlxdWVdXG7igKIgKipJbnNpZ2h0IDQqKjogW0NyaXRpY2FsIGNvbnNpZGVyYXRpb24gb3Igd2FybmluZ11cbuKAoiAqKkluc2lnaHQgNSoqOiBbQ29ubmVjdGlvbiB0byBicm9hZGVyIGNvbmNlcHRzXVxuPC9vdXRwdXRfZm9ybWF0PlxuXG48cXVhbGl0eV9zdGFuZGFyZHM+XG4tIENvbXByZWhlbnNpdmUgY292ZXJhZ2Ugd2l0aG91dCBvdmVyd2hlbG1pbmcgZGV0YWlsXG4tIENsZWFyIGxvZ2ljYWwgcHJvZ3Jlc3Npb24gZnJvbSBnZW5lcmFsIHRvIHNwZWNpZmljXG4tIEJhbGFuY2VkIGRlcHRoIGFjcm9zcyBhbGwgc3VidG9waWNzXG4tIFByYWN0aWNhbCB2YWx1ZSBpbiBldmVyeSBpbnNpZ2h0XG4tIE5hdHVyYWwgY29ubmVjdGlvbnMgYmV0d2VlbiByZWxhdGVkIHN1YnRvcGljc1xuLSBIaWVyYXJjaGljYWwgc3RydWN0dXJlIHRoYXQgYWlkcyBuYXZpZ2F0aW9uIGFuZCB1bmRlcnN0YW5kaW5nXG48L3F1YWxpdHlfc3RhbmRhcmRzPmBcbiAgfVxuXSIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyB0eXBlIENvbXBvbmVudCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnXG5pbXBvcnQgeyBwcmVzZXRzIH0gZnJvbSAnQC9zZXR0aW5nL3ByZXNldCdcblxuaW50ZXJmYWNlIEVtaXRzIHtcbiAgLyoqIEVtaXR0ZWQgd2hlbiBhIHByZXNldCBpcyBzZWxlY3RlZCAqL1xuICAoZTogJ3ByZXNldC1zZWxlY3RlZCcsIHByZXNldDogdHlwZW9mIHByZXNldHNbMF0pOiB2b2lkXG59XG5cbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czxFbWl0cz4oKVxuXG4vKipcbiAqIEhhbmRsZSBwcmVzZXQgc2VsZWN0aW9uXG4gKiBAcGFyYW0gcHJlc2V0IC0gVGhlIHNlbGVjdGVkIHByZXNldCBvYmplY3RcbiAqL1xuY29uc3QgaGFuZGxlUHJlc2V0Q2xpY2sgPSAocHJlc2V0OiB0eXBlb2YgcHJlc2V0c1swXSkgPT4ge1xuICBlbWl0KCdwcmVzZXQtc2VsZWN0ZWQnLCBwcmVzZXQpXG59XG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwic3BhY2UteS0xXCI+XG4gICAgPENhcmQgdi1mb3I9XCJwcmVzZXQgaW4gcHJlc2V0c1wiIDprZXk9XCJwcmVzZXQubmFtZVwiXG4gICAgICBjbGFzcz1cInctZnVsbCBwLTAgY3Vyc29yLXBvaW50ZXIgYmctbmV1dHJhbC03NTAgaG92ZXI6YmctbmV1dHJhbC03MDAgYm9yZGVyIGJvcmRlci1uZXV0cmFsLTYwMCBob3Zlcjpib3JkZXItbmV1dHJhbC01MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgQGNsaWNrPVwiaGFuZGxlUHJlc2V0Q2xpY2socHJlc2V0KVwiPlxuICAgICAgPENhcmRDb250ZW50IGNsYXNzPVwicC0zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWxlZnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LW5ldXRyYWwtMjAwIGZvbnQtbWVkaXVtXCI+e3sgcHJlc2V0Lm5hbWUgfX08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC14cyB0ZXh0LW5ldXRyYWwtNTAwIGxpbmUtY2xhbXAtMlwiPnt7IHByZXNldC5kZXNjcmlwdGlvbiB9fTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgPC9DYXJkPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+IiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHR5cGUgQ29tcG9uZW50IH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCdcbmltcG9ydCB7IHByZXNldHMgfSBmcm9tICdAL3NldHRpbmcvcHJlc2V0J1xuXG5pbnRlcmZhY2UgRW1pdHMge1xuICAvKiogRW1pdHRlZCB3aGVuIGEgcHJlc2V0IGlzIHNlbGVjdGVkICovXG4gIChlOiAncHJlc2V0LXNlbGVjdGVkJywgcHJlc2V0OiB0eXBlb2YgcHJlc2V0c1swXSk6IHZvaWRcbn1cblxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXRzPigpXG5cbi8qKlxuICogSGFuZGxlIHByZXNldCBzZWxlY3Rpb25cbiAqIEBwYXJhbSBwcmVzZXQgLSBUaGUgc2VsZWN0ZWQgcHJlc2V0IG9iamVjdFxuICovXG5jb25zdCBoYW5kbGVQcmVzZXRDbGljayA9IChwcmVzZXQ6IHR5cGVvZiBwcmVzZXRzWzBdKSA9PiB7XG4gIGVtaXQoJ3ByZXNldC1zZWxlY3RlZCcsIHByZXNldClcbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJzcGFjZS15LTFcIj5cbiAgICA8Q2FyZCB2LWZvcj1cInByZXNldCBpbiBwcmVzZXRzXCIgOmtleT1cInByZXNldC5uYW1lXCJcbiAgICAgIGNsYXNzPVwidy1mdWxsIHAtMCBjdXJzb3ItcG9pbnRlciBiZy1uZXV0cmFsLTc1MCBob3ZlcjpiZy1uZXV0cmFsLTcwMCBib3JkZXIgYm9yZGVyLW5ldXRyYWwtNjAwIGhvdmVyOmJvcmRlci1uZXV0cmFsLTUwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICBAY2xpY2s9XCJoYW5kbGVQcmVzZXRDbGljayhwcmVzZXQpXCI+XG4gICAgICA8Q2FyZENvbnRlbnQgY2xhc3M9XCJwLTNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtbGVmdFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXNtIHRleHQtbmV1dHJhbC0yMDAgZm9udC1tZWRpdW1cIj57eyBwcmVzZXQubmFtZSB9fTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtbmV1dHJhbC01MDAgbGluZS1jbGFtcC0yXCI+e3sgcHJlc2V0LmRlc2NyaXB0aW9uIH19PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9DYXJkQ29udGVudD5cbiAgICA8L0NhcmQ+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT4iLCI8IS0tXG4gIENvbW1hbmRJbnB1dEZvb3RlciBDb21wb25lbnRcbiAgXG4gIEEgcmV1c2FibGUgZm9vdGVyIGNvbXBvbmVudCBmb3IgY29tbWFuZC9wcm9tcHQgaW5wdXQgd2l0aCB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICAtIFNpbmdsZS1saW5lIGlucHV0IHdpdGggYXV0by1jbGVhciBhZnRlciBzdWJtaXNzaW9uXG4gIC0gRW50ZXIga2V5IGhhbmRsaW5nICh3aXRob3V0IG1vZGlmaWVycylcbiAgLSBTdWJtaXQgYnV0dG9uIHdpdGggcGxheSBpY29uIGFuZCB2aXN1YWwgZmVlZGJhY2tcbiAgLSBFbmhhbmNlZCBzdGF0dXMgaW5kaWNhdG9yIHdpdGggYW5pbWF0ZWQgbG9hZGluZyBzcGlubmVyXG4gIC0gU21vb3RoIHRyYW5zaXRpb25zIGJldHdlZW4gcmVhZHkvcHJvY2Vzc2luZyBzdGF0ZXNcbiAgLSBWaXN1YWwgZmVlZGJhY2sgb24gaW5wdXQgYm9yZGVyIHdoZW4gcHJvY2Vzc2luZ1xuICAtIENvbmZpZ3VyYWJsZSBwbGFjZWhvbGRlciB0ZXh0IGFuZCBzdGF0dXMgbWVzc2FnZXNcbiAgLSBFbWl0cyAnY29tbWFuZC1zdWJtaXQnIGV2ZW50IHdpdGggdGhlIGVudGVyZWQgY29tbWFuZFxuICBcbiAgVmlzdWFsIFN0YXRlczpcbiAgLSBSZWFkeTogR3JlZW4gY2lyY2xlIGluZGljYXRvciB3aXRoIFwiUmVhZHlcIiB0ZXh0XG4gIC0gUHJvY2Vzc2luZzogQW5pbWF0ZWQgeWVsbG93IHNwaW5uZXIgd2l0aCBcIlByb2Nlc3NpbmcuLi5cIiB0ZXh0XG4gIC0gSW5wdXQgYm9yZGVyIGNoYW5nZXMgY29sb3IgYmFzZWQgb24gc3RhdGVcbiAgLSBTbW9vdGggZmFkZSBhbmQgc2NhbGUgdHJhbnNpdGlvbnMgYmV0d2VlbiBzdGF0ZXNcbiAgXG4gIFVzYWdlOlxuICA8Q29tbWFuZElucHV0Rm9vdGVyIFxuICAgIEBjb21tYW5kLXN1Ym1pdD1cImhhbmRsZUNvbW1hbmRcIlxuICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBwcm9tcHQuLi5cIlxuICAgIHN0YXR1cy10ZXh0PVwiUHJlc3MgRW50ZXIgdG8gZXhlY3V0ZVwiXG4gICAgOmRpc2FibGVkPVwiaXNQcm9jZXNzaW5nXCJcbiAgLz5cbi0tPlxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSdcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbi9CdXR0b24udnVlJ1xuaW1wb3J0IElucHV0IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dC9JbnB1dC52dWUnXG5pbXBvcnQge1xuICBDaXJjbGUsXG4gIFBsYXksXG4gIExvYWRlcjJcbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuXG4vLyBDb21wb25lbnQgcHJvcHNcbmludGVyZmFjZSBQcm9wcyB7XG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG4gIHN0YXR1c1RleHQ/OiBzdHJpbmdcbiAgZGlzYWJsZWQ/OiBib29sZWFuXG59XG5cbmNvbnN0IHByb3BzID0gd2l0aERlZmF1bHRzKGRlZmluZVByb3BzPFByb3BzPigpLCB7XG4gIHBsYWNlaG9sZGVyOiAnRW50ZXIgY29tbWFuZCBvciBwcm9tcHQuLi4nLFxuICBzdGF0dXNUZXh0OiAnUHJlc3MgRW50ZXIgdG8gZXhlY3V0ZScsXG4gIGRpc2FibGVkOiBmYWxzZVxufSlcblxuLy8gQ29tcG9uZW50IGV2ZW50c1xuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcbiAgJ2NvbW1hbmQtc3VibWl0JzogW2NvbW1hbmQ6IHN0cmluZ11cbn0+KClcblxuLy8gUmVhY3RpdmUgc3RhdGUgZm9yIHRoZSBjb21tYW5kIGlucHV0XG5jb25zdCBjb21tYW5kSW5wdXQgPSByZWYoJycpXG5cbi8qKlxuICogSGFuZGxlIGNvbW1hbmQgc3VibWlzc2lvblxuICogRW1pdHMgdGhlIGNvbW1hbmQgdG8gcGFyZW50IGNvbXBvbmVudCBhbmQgY2xlYXJzIGlucHV0XG4gKi9cbmNvbnN0IGhhbmRsZVN1Ym1pdENvbW1hbmQgPSAoKSA9PiB7XG4gIGlmIChjb21tYW5kSW5wdXQudmFsdWUudHJpbSgpICYmICFwcm9wcy5kaXNhYmxlZCkge1xuICAgIGVtaXQoJ2NvbW1hbmQtc3VibWl0JywgY29tbWFuZElucHV0LnZhbHVlLnRyaW0oKSlcbiAgICBjb21tYW5kSW5wdXQudmFsdWUgPSAnJ1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIEVudGVyIGtleSBwcmVzcyBpbiBpbnB1dFxuICogT25seSB0cmlnZ2VycyB3aGVuIEVudGVyIGlzIHByZXNzZWQgd2l0aG91dCBDdHJsIG9yIFNoaWZ0IG1vZGlmaWVyc1xuICovXG5jb25zdCBoYW5kbGVLZXlQcmVzcyA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBoYW5kbGVTdWJtaXRDb21tYW5kKClcbiAgfVxufVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGZvb3RlciBjbGFzcz1cInAtNCBib3JkZXItdCBib3JkZXItbmV1dHJhbC03MDBcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIHJlbGF0aXZlXCI+XG4gICAgICAgIDxJbnB1dCB2LW1vZGVsPVwiY29tbWFuZElucHV0XCIgOnBsYWNlaG9sZGVyPVwicGxhY2Vob2xkZXJcIiA6ZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIDpjbGFzcz1cIltcbiAgICAgICAgICAncHItMTAgdGV4dC1uZXV0cmFsLTIwMCBwbGFjZWhvbGRlcjp0ZXh0LW5ldXRyYWwtNTAwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCcsXG4gICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgID8gJ2JnLW5ldXRyYWwtODAwIGJvcmRlci15ZWxsb3ctNTAwLzMwIGZvY3VzOmJvcmRlci15ZWxsb3ctNTAwLzUwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgIDogJ2JnLW5ldXRyYWwtODAwIGJvcmRlci1uZXV0cmFsLTYwMCBmb2N1czpib3JkZXItbmV1dHJhbC01MDAgaG92ZXI6Ym9yZGVyLW5ldXRyYWwtNTAwJ1xuICAgICAgICBdXCIgQGtleXByZXNzPVwiaGFuZGxlS2V5UHJlc3NcIiAvPlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCIgOmRpc2FibGVkPVwiIWNvbW1hbmRJbnB1dC50cmltKCkgfHwgZGlzYWJsZWRcIiA6Y2xhc3M9XCJbXG4gICAgICAgICAgJ2Fic29sdXRlIHJpZ2h0LTEgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiBzaXplLTggdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwJyxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgPyAndGV4dC15ZWxsb3ctNTAwIGhvdmVyOnRleHQteWVsbG93LTQwMCBob3ZlcjpiZy15ZWxsb3ctNTAwLzEwIGRpc2FibGVkOm9wYWNpdHktNTAnXG4gICAgICAgICAgICA6ICd0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaG92ZXI6YmctbmV1dHJhbC03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCdcbiAgICAgICAgXVwiIEBjbGljaz1cImhhbmRsZVN1Ym1pdENvbW1hbmRcIj5cbiAgICAgICAgICA8UGxheSBjbGFzcz1cInNpemUtNFwiIC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtdC0yIHRleHQteHMgdGV4dC1uZXV0cmFsLTUwMFwiPlxuICAgICAgPHNwYW4+e3sgc3RhdHVzVGV4dCB9fTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgPCEtLSBMb2FkaW5nIHNwaW5uZXIgd2hlbiBwcm9jZXNzaW5nIC0tPlxuICAgICAgICA8VHJhbnNpdGlvbiBlbnRlci1hY3RpdmUtY2xhc3M9XCJ0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1vdXRcIiBlbnRlci1mcm9tLWNsYXNzPVwib3BhY2l0eS0wIHNjYWxlLTk1XCJcbiAgICAgICAgICBlbnRlci10by1jbGFzcz1cIm9wYWNpdHktMTAwIHNjYWxlLTEwMFwiIGxlYXZlLWFjdGl2ZS1jbGFzcz1cInRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBlYXNlLWluXCJcbiAgICAgICAgICBsZWF2ZS1mcm9tLWNsYXNzPVwib3BhY2l0eS0xMDAgc2NhbGUtMTAwXCIgbGVhdmUtdG8tY2xhc3M9XCJvcGFjaXR5LTAgc2NhbGUtOTVcIj5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCJkaXNhYmxlZFwiIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzcz1cInNpemUtMyB0ZXh0LXllbGxvdy01MDAgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC15ZWxsb3ctNDAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgIFByb2Nlc3NpbmcuLi5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9UcmFuc2l0aW9uPlxuICAgICAgICA8IS0tIFJlYWR5IHN0YXRlIGluZGljYXRvciAtLT5cbiAgICAgICAgPFRyYW5zaXRpb24gZW50ZXItYWN0aXZlLWNsYXNzPVwidHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2Utb3V0XCIgZW50ZXItZnJvbS1jbGFzcz1cIm9wYWNpdHktMCBzY2FsZS05NVwiXG4gICAgICAgICAgZW50ZXItdG8tY2xhc3M9XCJvcGFjaXR5LTEwMCBzY2FsZS0xMDBcIiBsZWF2ZS1hY3RpdmUtY2xhc3M9XCJ0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgZWFzZS1pblwiXG4gICAgICAgICAgbGVhdmUtZnJvbS1jbGFzcz1cIm9wYWNpdHktMTAwIHNjYWxlLTEwMFwiIGxlYXZlLXRvLWNsYXNzPVwib3BhY2l0eS0wIHNjYWxlLTk1XCI+XG4gICAgICAgICAgPGRpdiB2LWlmPVwiIWRpc2FibGVkXCIgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgIDxDaXJjbGUgY2xhc3M9XCJzaXplLTIgdGV4dC1ncmVlbi01MDAgZmlsbC1jdXJyZW50IHB1bHNlXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1ncmVlbi00MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgUmVhZHlcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9UcmFuc2l0aW9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZm9vdGVyPlxuPC90ZW1wbGF0ZT4iLCI8IS0tXG4gIENvbW1hbmRJbnB1dEZvb3RlciBDb21wb25lbnRcbiAgXG4gIEEgcmV1c2FibGUgZm9vdGVyIGNvbXBvbmVudCBmb3IgY29tbWFuZC9wcm9tcHQgaW5wdXQgd2l0aCB0aGUgZm9sbG93aW5nIGZlYXR1cmVzOlxuICAtIFNpbmdsZS1saW5lIGlucHV0IHdpdGggYXV0by1jbGVhciBhZnRlciBzdWJtaXNzaW9uXG4gIC0gRW50ZXIga2V5IGhhbmRsaW5nICh3aXRob3V0IG1vZGlmaWVycylcbiAgLSBTdWJtaXQgYnV0dG9uIHdpdGggcGxheSBpY29uIGFuZCB2aXN1YWwgZmVlZGJhY2tcbiAgLSBFbmhhbmNlZCBzdGF0dXMgaW5kaWNhdG9yIHdpdGggYW5pbWF0ZWQgbG9hZGluZyBzcGlubmVyXG4gIC0gU21vb3RoIHRyYW5zaXRpb25zIGJldHdlZW4gcmVhZHkvcHJvY2Vzc2luZyBzdGF0ZXNcbiAgLSBWaXN1YWwgZmVlZGJhY2sgb24gaW5wdXQgYm9yZGVyIHdoZW4gcHJvY2Vzc2luZ1xuICAtIENvbmZpZ3VyYWJsZSBwbGFjZWhvbGRlciB0ZXh0IGFuZCBzdGF0dXMgbWVzc2FnZXNcbiAgLSBFbWl0cyAnY29tbWFuZC1zdWJtaXQnIGV2ZW50IHdpdGggdGhlIGVudGVyZWQgY29tbWFuZFxuICBcbiAgVmlzdWFsIFN0YXRlczpcbiAgLSBSZWFkeTogR3JlZW4gY2lyY2xlIGluZGljYXRvciB3aXRoIFwiUmVhZHlcIiB0ZXh0XG4gIC0gUHJvY2Vzc2luZzogQW5pbWF0ZWQgeWVsbG93IHNwaW5uZXIgd2l0aCBcIlByb2Nlc3NpbmcuLi5cIiB0ZXh0XG4gIC0gSW5wdXQgYm9yZGVyIGNoYW5nZXMgY29sb3IgYmFzZWQgb24gc3RhdGVcbiAgLSBTbW9vdGggZmFkZSBhbmQgc2NhbGUgdHJhbnNpdGlvbnMgYmV0d2VlbiBzdGF0ZXNcbiAgXG4gIFVzYWdlOlxuICA8Q29tbWFuZElucHV0Rm9vdGVyIFxuICAgIEBjb21tYW5kLXN1Ym1pdD1cImhhbmRsZUNvbW1hbmRcIlxuICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBwcm9tcHQuLi5cIlxuICAgIHN0YXR1cy10ZXh0PVwiUHJlc3MgRW50ZXIgdG8gZXhlY3V0ZVwiXG4gICAgOmRpc2FibGVkPVwiaXNQcm9jZXNzaW5nXCJcbiAgLz5cbi0tPlxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSdcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbi9CdXR0b24udnVlJ1xuaW1wb3J0IElucHV0IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dC9JbnB1dC52dWUnXG5pbXBvcnQge1xuICBDaXJjbGUsXG4gIFBsYXksXG4gIExvYWRlcjJcbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuXG4vLyBDb21wb25lbnQgcHJvcHNcbmludGVyZmFjZSBQcm9wcyB7XG4gIHBsYWNlaG9sZGVyPzogc3RyaW5nXG4gIHN0YXR1c1RleHQ/OiBzdHJpbmdcbiAgZGlzYWJsZWQ/OiBib29sZWFuXG59XG5cbmNvbnN0IHByb3BzID0gd2l0aERlZmF1bHRzKGRlZmluZVByb3BzPFByb3BzPigpLCB7XG4gIHBsYWNlaG9sZGVyOiAnRW50ZXIgY29tbWFuZCBvciBwcm9tcHQuLi4nLFxuICBzdGF0dXNUZXh0OiAnUHJlc3MgRW50ZXIgdG8gZXhlY3V0ZScsXG4gIGRpc2FibGVkOiBmYWxzZVxufSlcblxuLy8gQ29tcG9uZW50IGV2ZW50c1xuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPHtcbiAgJ2NvbW1hbmQtc3VibWl0JzogW2NvbW1hbmQ6IHN0cmluZ11cbn0+KClcblxuLy8gUmVhY3RpdmUgc3RhdGUgZm9yIHRoZSBjb21tYW5kIGlucHV0XG5jb25zdCBjb21tYW5kSW5wdXQgPSByZWYoJycpXG5cbi8qKlxuICogSGFuZGxlIGNvbW1hbmQgc3VibWlzc2lvblxuICogRW1pdHMgdGhlIGNvbW1hbmQgdG8gcGFyZW50IGNvbXBvbmVudCBhbmQgY2xlYXJzIGlucHV0XG4gKi9cbmNvbnN0IGhhbmRsZVN1Ym1pdENvbW1hbmQgPSAoKSA9PiB7XG4gIGlmIChjb21tYW5kSW5wdXQudmFsdWUudHJpbSgpICYmICFwcm9wcy5kaXNhYmxlZCkge1xuICAgIGVtaXQoJ2NvbW1hbmQtc3VibWl0JywgY29tbWFuZElucHV0LnZhbHVlLnRyaW0oKSlcbiAgICBjb21tYW5kSW5wdXQudmFsdWUgPSAnJ1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIEVudGVyIGtleSBwcmVzcyBpbiBpbnB1dFxuICogT25seSB0cmlnZ2VycyB3aGVuIEVudGVyIGlzIHByZXNzZWQgd2l0aG91dCBDdHJsIG9yIFNoaWZ0IG1vZGlmaWVyc1xuICovXG5jb25zdCBoYW5kbGVLZXlQcmVzcyA9IChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInICYmICFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBoYW5kbGVTdWJtaXRDb21tYW5kKClcbiAgfVxufVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGZvb3RlciBjbGFzcz1cInAtNCBib3JkZXItdCBib3JkZXItbmV1dHJhbC03MDBcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIHJlbGF0aXZlXCI+XG4gICAgICAgIDxJbnB1dCB2LW1vZGVsPVwiY29tbWFuZElucHV0XCIgOnBsYWNlaG9sZGVyPVwicGxhY2Vob2xkZXJcIiA6ZGlzYWJsZWQ9XCJkaXNhYmxlZFwiIDpjbGFzcz1cIltcbiAgICAgICAgICAncHItMTAgdGV4dC1uZXV0cmFsLTIwMCBwbGFjZWhvbGRlcjp0ZXh0LW5ldXRyYWwtNTAwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCcsXG4gICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgID8gJ2JnLW5ldXRyYWwtODAwIGJvcmRlci15ZWxsb3ctNTAwLzMwIGZvY3VzOmJvcmRlci15ZWxsb3ctNTAwLzUwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgIDogJ2JnLW5ldXRyYWwtODAwIGJvcmRlci1uZXV0cmFsLTYwMCBmb2N1czpib3JkZXItbmV1dHJhbC01MDAgaG92ZXI6Ym9yZGVyLW5ldXRyYWwtNTAwJ1xuICAgICAgICBdXCIgQGtleXByZXNzPVwiaGFuZGxlS2V5UHJlc3NcIiAvPlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCIgOmRpc2FibGVkPVwiIWNvbW1hbmRJbnB1dC50cmltKCkgfHwgZGlzYWJsZWRcIiA6Y2xhc3M9XCJbXG4gICAgICAgICAgJ2Fic29sdXRlIHJpZ2h0LTEgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiBzaXplLTggdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwJyxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgPyAndGV4dC15ZWxsb3ctNTAwIGhvdmVyOnRleHQteWVsbG93LTQwMCBob3ZlcjpiZy15ZWxsb3ctNTAwLzEwIGRpc2FibGVkOm9wYWNpdHktNTAnXG4gICAgICAgICAgICA6ICd0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaG92ZXI6YmctbmV1dHJhbC03MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCdcbiAgICAgICAgXVwiIEBjbGljaz1cImhhbmRsZVN1Ym1pdENvbW1hbmRcIj5cbiAgICAgICAgICA8UGxheSBjbGFzcz1cInNpemUtNFwiIC8+XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtdC0yIHRleHQteHMgdGV4dC1uZXV0cmFsLTUwMFwiPlxuICAgICAgPHNwYW4+e3sgc3RhdHVzVGV4dCB9fTwvc3Bhbj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgPCEtLSBMb2FkaW5nIHNwaW5uZXIgd2hlbiBwcm9jZXNzaW5nIC0tPlxuICAgICAgICA8VHJhbnNpdGlvbiBlbnRlci1hY3RpdmUtY2xhc3M9XCJ0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZWFzZS1vdXRcIiBlbnRlci1mcm9tLWNsYXNzPVwib3BhY2l0eS0wIHNjYWxlLTk1XCJcbiAgICAgICAgICBlbnRlci10by1jbGFzcz1cIm9wYWNpdHktMTAwIHNjYWxlLTEwMFwiIGxlYXZlLWFjdGl2ZS1jbGFzcz1cInRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBlYXNlLWluXCJcbiAgICAgICAgICBsZWF2ZS1mcm9tLWNsYXNzPVwib3BhY2l0eS0xMDAgc2NhbGUtMTAwXCIgbGVhdmUtdG8tY2xhc3M9XCJvcGFjaXR5LTAgc2NhbGUtOTVcIj5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCJkaXNhYmxlZFwiIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzcz1cInNpemUtMyB0ZXh0LXllbGxvdy01MDAgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC15ZWxsb3ctNDAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgIFByb2Nlc3NpbmcuLi5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9UcmFuc2l0aW9uPlxuICAgICAgICA8IS0tIFJlYWR5IHN0YXRlIGluZGljYXRvciAtLT5cbiAgICAgICAgPFRyYW5zaXRpb24gZW50ZXItYWN0aXZlLWNsYXNzPVwidHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGVhc2Utb3V0XCIgZW50ZXItZnJvbS1jbGFzcz1cIm9wYWNpdHktMCBzY2FsZS05NVwiXG4gICAgICAgICAgZW50ZXItdG8tY2xhc3M9XCJvcGFjaXR5LTEwMCBzY2FsZS0xMDBcIiBsZWF2ZS1hY3RpdmUtY2xhc3M9XCJ0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgZWFzZS1pblwiXG4gICAgICAgICAgbGVhdmUtZnJvbS1jbGFzcz1cIm9wYWNpdHktMTAwIHNjYWxlLTEwMFwiIGxlYXZlLXRvLWNsYXNzPVwib3BhY2l0eS0wIHNjYWxlLTk1XCI+XG4gICAgICAgICAgPGRpdiB2LWlmPVwiIWRpc2FibGVkXCIgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgIDxDaXJjbGUgY2xhc3M9XCJzaXplLTIgdGV4dC1ncmVlbi01MDAgZmlsbC1jdXJyZW50IHB1bHNlXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1ncmVlbi00MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgUmVhZHlcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9UcmFuc2l0aW9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZm9vdGVyPlxuPC90ZW1wbGF0ZT4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgaW5qZWN0IH0gZnJvbSAndnVlJ1xuaW1wb3J0IFByZXNldHMgZnJvbSAnQC9jb21wb25lbnRzL1ByZXNldHMudnVlJ1xuaW1wb3J0IENvbW1hbmRJbnB1dEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvQ29tbWFuZElucHV0Rm9vdGVyLnZ1ZSdcbmltcG9ydCB0eXBlIFVzZUFpUGx1Z2luIGZyb20gJ0AvbWFpbidcbmltcG9ydCB7IHByZXNldHMgfSBmcm9tICdAL3NldHRpbmcvcHJlc2V0J1xuaW1wb3J0IHtcbiAgQm90XG59IGZyb20gJ2x1Y2lkZS12dWUtbmV4dCdcblxuY29uc3QgcGx1Z2luID0gaW5qZWN0PFVzZUFpUGx1Z2luPihcInVzZUFpUGx1Z2luXCIpIVxuXG4vLyBFdmVudHMgZW1pdHRlZCB0byBwYXJlbnQgY29tcG9uZW50XG5pbnRlcmZhY2UgRW1pdHMge1xuICAvKiogRW1pdHRlZCB3aGVuIHVzZXIgc3VibWl0cyBhIGNvbW1hbmQgKi9cbiAgKGU6ICdjb21tYW5kLXN1Ym1pdCcsIGNvbW1hbmQ6IHN0cmluZyk6IHZvaWRcbiAgLyoqIEVtaXR0ZWQgd2hlbiB1c2VyIHNlbGVjdHMgYSBwcmVzZXQgKi9cbiAgKGU6ICdwcmVzZXQtc2VsZWN0ZWQnLCBwcmVzZXQ6IHR5cGVvZiBwcmVzZXRzWzBdKTogdm9pZFxufVxuXG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8RW1pdHM+KClcblxuLyoqXG4gKiBIYW5kbGUgY29tbWFuZCBzdWJtaXNzaW9uIGZyb20gdGhlIGZvb3RlciBjb21wb25lbnRcbiAqIEVtaXRzIHRvIHBhcmVudCBpbnN0ZWFkIG9mIGRpcmVjdGx5IG1hbmFnaW5nIGNvbnZlcnNhdGlvblxuICovXG5jb25zdCBoYW5kbGVDb21tYW5kU3VibWl0ID0gKGNvbW1hbmQ6IHN0cmluZykgPT4ge1xuICBlbWl0KCdjb21tYW5kLXN1Ym1pdCcsIGNvbW1hbmQpXG59XG5cbi8qKlxuICogSGFuZGxlIHByZXNldCBzZWxlY3Rpb25cbiAqIEVtaXRzIHRvIHBhcmVudCBpbnN0ZWFkIG9mIGRpcmVjdGx5IG1hbmFnaW5nIGNvbnZlcnNhdGlvblxuICovXG5jb25zdCBoYW5kbGVQcmVzZXRTZWxlY3RlZCA9IChwcmVzZXQ6IHR5cGVvZiBwcmVzZXRzWzBdKSA9PiB7XG4gIGVtaXQoJ3ByZXNldC1zZWxlY3RlZCcsIHByZXNldClcbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGgtZnVsbFwiPlxuICAgIDwhLS0gTWFpbiBDb250ZW50IEFyZWEgLS0+XG4gICAgPG1haW4gaWQ9XCJwcm9jZXNzaW5nLWFyZWFcIiBjbGFzcz1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC00IHNwYWNlLXktNlwiPlxuICAgICAgPCEtLSBXZWxjb21lIFNlY3Rpb24gLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidy0xNiBoLTE2IGJnLW5ldXRyYWwtNzAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTRcIj5cbiAgICAgICAgICA8Qm90IGNsYXNzPVwidGV4dC1uZXV0cmFsLTMwMCBzaXplLThcIiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGgyIGNsYXNzPVwidGV4dC1sZyB0ZXh0LW5ldXRyYWwtMjAwIG1iLTJcIj5SZWFkeSB0byBBc3Npc3Q8L2gyPlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtbmV1dHJhbC00MDBcIj5cbiAgICAgICAgICBFbnRlciBhIGNvbW1hbmQgb3IgcHJvbXB0IGJlbG93IHRvIHN0YXJ0IHByb2Nlc3NpbmdcbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gUHJlc2V0cyAtLT5cbiAgICAgIDxQcmVzZXRzIEBwcmVzZXQtc2VsZWN0ZWQ9XCJoYW5kbGVQcmVzZXRTZWxlY3RlZFwiIC8+XG4gICAgPC9tYWluPlxuXG4gICAgPCEtLSBDb21tYW5kIElucHV0IEZvb3RlciAtLT5cbiAgICA8Q29tbWFuZElucHV0Rm9vdGVyIEBjb21tYW5kLXN1Ym1pdD1cImhhbmRsZUNvbW1hbmRTdWJtaXRcIiAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+IiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IGluamVjdCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCBQcmVzZXRzIGZyb20gJ0AvY29tcG9uZW50cy9QcmVzZXRzLnZ1ZSdcbmltcG9ydCBDb21tYW5kSW5wdXRGb290ZXIgZnJvbSAnQC9jb21wb25lbnRzL0NvbW1hbmRJbnB1dEZvb3Rlci52dWUnXG5pbXBvcnQgdHlwZSBVc2VBaVBsdWdpbiBmcm9tICdAL21haW4nXG5pbXBvcnQgeyBwcmVzZXRzIH0gZnJvbSAnQC9zZXR0aW5nL3ByZXNldCdcbmltcG9ydCB7XG4gIEJvdFxufSBmcm9tICdsdWNpZGUtdnVlLW5leHQnXG5cbmNvbnN0IHBsdWdpbiA9IGluamVjdDxVc2VBaVBsdWdpbj4oXCJ1c2VBaVBsdWdpblwiKSFcblxuLy8gRXZlbnRzIGVtaXR0ZWQgdG8gcGFyZW50IGNvbXBvbmVudFxuaW50ZXJmYWNlIEVtaXRzIHtcbiAgLyoqIEVtaXR0ZWQgd2hlbiB1c2VyIHN1Ym1pdHMgYSBjb21tYW5kICovXG4gIChlOiAnY29tbWFuZC1zdWJtaXQnLCBjb21tYW5kOiBzdHJpbmcpOiB2b2lkXG4gIC8qKiBFbWl0dGVkIHdoZW4gdXNlciBzZWxlY3RzIGEgcHJlc2V0ICovXG4gIChlOiAncHJlc2V0LXNlbGVjdGVkJywgcHJlc2V0OiB0eXBlb2YgcHJlc2V0c1swXSk6IHZvaWRcbn1cblxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXRzPigpXG5cbi8qKlxuICogSGFuZGxlIGNvbW1hbmQgc3VibWlzc2lvbiBmcm9tIHRoZSBmb290ZXIgY29tcG9uZW50XG4gKiBFbWl0cyB0byBwYXJlbnQgaW5zdGVhZCBvZiBkaXJlY3RseSBtYW5hZ2luZyBjb252ZXJzYXRpb25cbiAqL1xuY29uc3QgaGFuZGxlQ29tbWFuZFN1Ym1pdCA9IChjb21tYW5kOiBzdHJpbmcpID0+IHtcbiAgZW1pdCgnY29tbWFuZC1zdWJtaXQnLCBjb21tYW5kKVxufVxuXG4vKipcbiAqIEhhbmRsZSBwcmVzZXQgc2VsZWN0aW9uXG4gKiBFbWl0cyB0byBwYXJlbnQgaW5zdGVhZCBvZiBkaXJlY3RseSBtYW5hZ2luZyBjb252ZXJzYXRpb25cbiAqL1xuY29uc3QgaGFuZGxlUHJlc2V0U2VsZWN0ZWQgPSAocHJlc2V0OiB0eXBlb2YgcHJlc2V0c1swXSkgPT4ge1xuICBlbWl0KCdwcmVzZXQtc2VsZWN0ZWQnLCBwcmVzZXQpXG59XG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGxcIj5cbiAgICA8IS0tIE1haW4gQ29udGVudCBBcmVhIC0tPlxuICAgIDxtYWluIGlkPVwicHJvY2Vzc2luZy1hcmVhXCIgY2xhc3M9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNCBzcGFjZS15LTZcIj5cbiAgICAgIDwhLS0gV2VsY29tZSBTZWN0aW9uIC0tPlxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInctMTYgaC0xNiBiZy1uZXV0cmFsLTcwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXgtYXV0byBtYi00XCI+XG4gICAgICAgICAgPEJvdCBjbGFzcz1cInRleHQtbmV1dHJhbC0zMDAgc2l6ZS04XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxoMiBjbGFzcz1cInRleHQtbGcgdGV4dC1uZXV0cmFsLTIwMCBtYi0yXCI+UmVhZHkgdG8gQXNzaXN0PC9oMj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwXCI+XG4gICAgICAgICAgRW50ZXIgYSBjb21tYW5kIG9yIHByb21wdCBiZWxvdyB0byBzdGFydCBwcm9jZXNzaW5nXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tIFByZXNldHMgLS0+XG4gICAgICA8UHJlc2V0cyBAcHJlc2V0LXNlbGVjdGVkPVwiaGFuZGxlUHJlc2V0U2VsZWN0ZWRcIiAvPlxuICAgIDwvbWFpbj5cblxuICAgIDwhLS0gQ29tbWFuZCBJbnB1dCBGb290ZXIgLS0+XG4gICAgPENvbW1hbmRJbnB1dEZvb3RlciBAY29tbWFuZC1zdWJtaXQ9XCJoYW5kbGVDb21tYW5kU3VibWl0XCIgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPiIsImltcG9ydCB7IGNyZWF0ZUdsb2JhbFN0YXRlIH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJ1xuaW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcblxuLyoqXG4gKiBJbnRlcmZhY2UgxJHhu4tuaCBuZ2jEqWEgY+G6pXUgdHLDumMgY+G7p2EgbeG7mXQgbWVzc2FnZSB0cm9uZyB0aHJlYWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHJlYWRNZXNzYWdlIHtcbiAgaWQ6IHN0cmluZ1xuICByb2xlOiAndXNlcicgfCAnYXNzaXN0YW50JyB8ICdzeXN0ZW0nXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICB0aW1lc3RhbXA6IERhdGVcbiAgbGV2ZWw/OiAnaW5mbycgfCAnZXJyb3InIHwgJ3dhcm4nIHwgJ3N1Y2Nlc3MnXG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PlxuICB0b29sQ2FsbHM/OiB7IG5hbWU6IHN0cmluZzsgYXJnczogUmVjb3JkPHN0cmluZywgYW55PiB9W11cbiAgdG9vbFJlc3VsdHM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+W11cbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgxJHhu4tuaCBuZ2jEqWEgY+G6pXUgdHLDumMgY+G7p2EgbeG7mXQgdGhyZWFkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGhyZWFkIHtcbiAgaWQ6IHN0cmluZ1xuICB0aXRsZTogc3RyaW5nXG4gIG1lc3NhZ2VzOiBUaHJlYWRNZXNzYWdlW11cbiAgY3JlYXRlZEF0OiBEYXRlXG4gIHVwZGF0ZWRBdDogRGF0ZVxuICBpc0FjdGl2ZT86IGJvb2xlYW5cbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG59XG5cbi8qKlxuICogR2xvYmFsIHN0YXRlIMSR4buDIHF14bqjbiBsw70gdGhyZWFkcyBz4butIGThu6VuZyBWdWVVc2UgY3JlYXRlR2xvYmFsU3RhdGVcbiAqIFN0YXRlIG7DoHkgc+G6vSDEkcaw4bujYyBzaGFyZSBnaeG7r2EgdOG6pXQgY+G6oyBjb21wb25lbnRzIHRyb25nIHRvw6BuIGLhu5kgYXBwbGljYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVRocmVhZHMgPSBjcmVhdGVHbG9iYWxTdGF0ZSgoKSA9PiB7XG4gIC8vIFJlYWN0aXZlIHN0YXRlXG4gIGNvbnN0IHRocmVhZHMgPSByZWY8TWFwPHN0cmluZywgVGhyZWFkPj4obmV3IE1hcCgpKVxuICBjb25zdCBhY3RpdmVUaHJlYWRJZCA9IHJlZjxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBpc0dlbmVyYXRpbmcgPSByZWY8Ym9vbGVhbj4oZmFsc2UpXG4gIGNvbnN0IGN1cnJlbnRBc3Npc3RhbnRNZXNzYWdlID0gcmVmPFRocmVhZE1lc3NhZ2UgfCBudWxsPihudWxsKVxuXG4gIC8vIENvbXB1dGVkIHZhbHVlc1xuICBjb25zdCBhY3RpdmVUaHJlYWQgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgcmV0dXJuIGFjdGl2ZVRocmVhZElkLnZhbHVlID8gdGhyZWFkcy52YWx1ZS5nZXQoYWN0aXZlVGhyZWFkSWQudmFsdWUpIDogbnVsbFxuICB9KVxuXG4gIGNvbnN0IGFjdGl2ZU1lc3NhZ2VzID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgIHJldHVybiBhY3RpdmVUaHJlYWQudmFsdWU/Lm1lc3NhZ2VzIHx8IFtdXG4gIH0pXG5cbiAgY29uc3QgdGhyZWFkTGlzdCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aHJlYWRzLnZhbHVlLnZhbHVlcygpKS5zb3J0KChhLCBiKSA9PlxuICAgICAgYi51cGRhdGVkQXQuZ2V0VGltZSgpIC0gYS51cGRhdGVkQXQuZ2V0VGltZSgpXG4gICAgKVxuICB9KVxuXG4gIGNvbnN0IGhhc0FjdGl2ZVRocmVhZCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICByZXR1cm4gYWN0aXZlVGhyZWFkSWQudmFsdWUgIT09IG51bGwgJiYgYWN0aXZlVGhyZWFkLnZhbHVlICE9PSBudWxsXG4gIH0pXG5cbiAgLyoqXG4gICAqIELhuq90IMSR4bqndSBxdcOhIHRyw6xuaCBnZW5lcmF0aW9uIG1lc3NhZ2VcbiAgICovXG4gIGNvbnN0IHN0YXJ0TWVzc2FnZUdlbmVyYXRpb24gPSAodGhyZWFkSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIGlmIChpc0dlbmVyYXRpbmcudmFsdWUpIHtcbiAgICAgIGNvbnNvbGUud2FybignTWVzc2FnZSBnZW5lcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgdGhyZWFkID0gdGhyZWFkcy52YWx1ZS5nZXQodGhyZWFkSWQpXG4gICAgaWYgKCF0aHJlYWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRocmVhZCB3aXRoIGlkICR7dGhyZWFkSWR9IG5vdCBmb3VuZGApXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpc0dlbmVyYXRpbmcudmFsdWUgPSB0cnVlXG5cbiAgICAvLyBU4bqhbyB0ZW1wb3JhcnkgYXNzaXN0YW50IG1lc3NhZ2UgxJHhu4MgaGnhu4NuIHRo4buLIGxvYWRpbmcgc3RhdGVcbiAgICBjb25zdCB0ZW1wTWVzc2FnZTogVGhyZWFkTWVzc2FnZSA9IHtcbiAgICAgIGlkOiBgdGVtcC1tc2ctJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50OiAnJyxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgIH1cblxuICAgIGN1cnJlbnRBc3Npc3RhbnRNZXNzYWdlLnZhbHVlID0gdGVtcE1lc3NhZ2VcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIEvhur90IHRow7pjIHF1w6EgdHLDrG5oIGdlbmVyYXRpb24gbWVzc2FnZVxuICAgKi9cbiAgY29uc3QgZmluaXNoTWVzc2FnZUdlbmVyYXRpb24gPSAoY29udGVudDogc3RyaW5nLCBsZXZlbDogJ2luZm8nIHwgJ2Vycm9yJyB8ICd3YXJuJyB8ICdzdWNjZXNzJyA9ICdpbmZvJyk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghaXNHZW5lcmF0aW5nLnZhbHVlIHx8ICFhY3RpdmVUaHJlYWRJZC52YWx1ZSkge1xuICAgICAgY29uc29sZS53YXJuKCdObyBtZXNzYWdlIGdlbmVyYXRpb24gaW4gcHJvZ3Jlc3MnKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgdGhyZWFkID0gdGhyZWFkcy52YWx1ZS5nZXQoYWN0aXZlVGhyZWFkSWQudmFsdWUpXG4gICAgaWYgKCF0aHJlYWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEFjdGl2ZSB0aHJlYWQgJHthY3RpdmVUaHJlYWRJZC52YWx1ZX0gbm90IGZvdW5kYClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIFRow6ptIG1lc3NhZ2UgdGjhu7FjIHThur8gdsOgbyB0aHJlYWRcbiAgICBjb25zdCBmaW5hbE1lc3NhZ2U6IFRocmVhZE1lc3NhZ2UgPSB7XG4gICAgICBpZDogYG1zZy0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWAsXG4gICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgIGNvbnRlbnQsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICBsZXZlbFxuICAgIH1cblxuICAgIHRocmVhZC5tZXNzYWdlcy5wdXNoKGZpbmFsTWVzc2FnZSlcbiAgICB0aHJlYWQudXBkYXRlZEF0ID0gbmV3IERhdGUoKVxuICAgIHRocmVhZHMudmFsdWUuc2V0KGFjdGl2ZVRocmVhZElkLnZhbHVlLCB0aHJlYWQpXG5cbiAgICAvLyBSZXNldCBnZW5lcmF0aW9uIHN0YXRlXG4gICAgaXNHZW5lcmF0aW5nLnZhbHVlID0gZmFsc2VcbiAgICBjdXJyZW50QXNzaXN0YW50TWVzc2FnZS52YWx1ZSA9IG51bGxcblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogVOG6oW8gbeG7mXQgdGhyZWFkIG3hu5tpXG4gICAqL1xuICBjb25zdCBjcmVhdGVUaHJlYWQgPSAodGl0bGU6IHN0cmluZyA9ICdOZXcgQ29udmVyc2F0aW9uJywgdGhyZWFkSWQ/OiBzdHJpbmcpOiBUaHJlYWQgPT4ge1xuICAgIGNvbnN0IG5ld1RocmVhZElkID0gdGhyZWFkSWQgfHwgYHRocmVhZC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWBcblxuICAgIGNvbnN0IG5ld1RocmVhZDogVGhyZWFkID0ge1xuICAgICAgaWQ6IG5ld1RocmVhZElkLFxuICAgICAgdGl0bGUsXG4gICAgICBtZXNzYWdlczogW10sXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICBpc0FjdGl2ZTogZmFsc2VcbiAgICB9XG5cbiAgICB0aHJlYWRzLnZhbHVlLnNldChuZXdUaHJlYWRJZCwgbmV3VGhyZWFkKVxuICAgIHJldHVybiBuZXdUaHJlYWRcbiAgfVxuXG4gIC8qKlxuICAgKiBLw61jaCBob+G6oXQgbeG7mXQgdGhyZWFkIGPhu6UgdGjhu4NcbiAgICovXG4gIGNvbnN0IHNldEFjdGl2ZVRocmVhZCA9ICh0aHJlYWRJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgdGhyZWFkID0gdGhyZWFkcy52YWx1ZS5nZXQodGhyZWFkSWQpXG4gICAgaWYgKCF0aHJlYWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRocmVhZCB3aXRoIGlkICR7dGhyZWFkSWR9IG5vdCBmb3VuZGApXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyBEZWFjdGl2YXRlIHByZXZpb3VzIGFjdGl2ZSB0aHJlYWRcbiAgICBpZiAoYWN0aXZlVGhyZWFkSWQudmFsdWUpIHtcbiAgICAgIGNvbnN0IHByZXZUaHJlYWQgPSB0aHJlYWRzLnZhbHVlLmdldChhY3RpdmVUaHJlYWRJZC52YWx1ZSlcbiAgICAgIGlmIChwcmV2VGhyZWFkKSB7XG4gICAgICAgIHByZXZUaHJlYWQuaXNBY3RpdmUgPSBmYWxzZVxuICAgICAgICB0aHJlYWRzLnZhbHVlLnNldChhY3RpdmVUaHJlYWRJZC52YWx1ZSwgcHJldlRocmVhZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBY3RpdmF0ZSBuZXcgdGhyZWFkXG4gICAgdGhyZWFkLmlzQWN0aXZlID0gdHJ1ZVxuICAgIHRocmVhZC51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpXG4gICAgdGhyZWFkcy52YWx1ZS5zZXQodGhyZWFkSWQsIHRocmVhZClcbiAgICBhY3RpdmVUaHJlYWRJZC52YWx1ZSA9IHRocmVhZElkXG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIFRow6ptIG1lc3NhZ2UgdsOgbyB0aHJlYWRcbiAgICovXG4gIGNvbnN0IGFkZE1lc3NhZ2UgPSAodGhyZWFkSWQ6IHN0cmluZywgbWVzc2FnZTogT21pdDxUaHJlYWRNZXNzYWdlLCAnaWQnIHwgJ3RpbWVzdGFtcCc+KTogVGhyZWFkTWVzc2FnZSB8IG51bGwgPT4ge1xuICAgIGNvbnN0IHRocmVhZCA9IHRocmVhZHMudmFsdWUuZ2V0KHRocmVhZElkKVxuICAgIGlmICghdGhyZWFkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBUaHJlYWQgd2l0aCBpZCAke3RocmVhZElkfSBub3QgZm91bmRgKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBjb25zdCBuZXdNZXNzYWdlOiBUaHJlYWRNZXNzYWdlID0ge1xuICAgICAgLi4ubWVzc2FnZSxcbiAgICAgIGlkOiBgbXNnLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgIH1cblxuICAgIHRocmVhZC5tZXNzYWdlcy5wdXNoKG5ld01lc3NhZ2UpXG4gICAgdGhyZWFkLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKClcbiAgICB0aHJlYWRzLnZhbHVlLnNldCh0aHJlYWRJZCwgdGhyZWFkKVxuXG4gICAgcmV0dXJuIG5ld01lc3NhZ2VcbiAgfVxuXG4gIC8qKlxuICAgKiBD4bqtcCBuaOG6rXQgbWVzc2FnZSB0cm9uZyB0aHJlYWRcbiAgICovXG4gIGNvbnN0IHVwZGF0ZU1lc3NhZ2UgPSAodGhyZWFkSWQ6IHN0cmluZywgbWVzc2FnZUlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8VGhyZWFkTWVzc2FnZT4pOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB0aHJlYWQgPSB0aHJlYWRzLnZhbHVlLmdldCh0aHJlYWRJZClcbiAgICBpZiAoIXRocmVhZCkge1xuICAgICAgY29uc29sZS5lcnJvcihgVGhyZWFkIHdpdGggaWQgJHt0aHJlYWRJZH0gbm90IGZvdW5kYClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IG1lc3NhZ2VJbmRleCA9IHRocmVhZC5tZXNzYWdlcy5maW5kSW5kZXgobXNnID0+IG1zZy5pZCA9PT0gbWVzc2FnZUlkKVxuICAgIGlmIChtZXNzYWdlSW5kZXggPT09IC0xKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBNZXNzYWdlIHdpdGggaWQgJHttZXNzYWdlSWR9IG5vdCBmb3VuZCBpbiB0aHJlYWQgJHt0aHJlYWRJZH1gKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgdGhyZWFkLm1lc3NhZ2VzW21lc3NhZ2VJbmRleF0gPSB7XG4gICAgICAuLi50aHJlYWQubWVzc2FnZXNbbWVzc2FnZUluZGV4XSxcbiAgICAgIC4uLnVwZGF0ZXNcbiAgICB9XG5cbiAgICB0aHJlYWQudXBkYXRlZEF0ID0gbmV3IERhdGUoKVxuICAgIHRocmVhZHMudmFsdWUuc2V0KHRocmVhZElkLCB0aHJlYWQpXG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIFjDs2EgbWVzc2FnZSBraOG7j2kgdGhyZWFkXG4gICAqL1xuICBjb25zdCByZW1vdmVNZXNzYWdlID0gKHRocmVhZElkOiBzdHJpbmcsIG1lc3NhZ2VJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgdGhyZWFkID0gdGhyZWFkcy52YWx1ZS5nZXQodGhyZWFkSWQpXG4gICAgaWYgKCF0aHJlYWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRocmVhZCB3aXRoIGlkICR7dGhyZWFkSWR9IG5vdCBmb3VuZGApXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBtZXNzYWdlSW5kZXggPSB0aHJlYWQubWVzc2FnZXMuZmluZEluZGV4KG1zZyA9PiBtc2cuaWQgPT09IG1lc3NhZ2VJZClcbiAgICBpZiAobWVzc2FnZUluZGV4ID09PSAtMSkge1xuICAgICAgY29uc29sZS5lcnJvcihgTWVzc2FnZSB3aXRoIGlkICR7bWVzc2FnZUlkfSBub3QgZm91bmQgaW4gdGhyZWFkICR7dGhyZWFkSWR9YClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRocmVhZC5tZXNzYWdlcy5zcGxpY2UobWVzc2FnZUluZGV4LCAxKVxuICAgIHRocmVhZC51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpXG4gICAgdGhyZWFkcy52YWx1ZS5zZXQodGhyZWFkSWQsIHRocmVhZClcblxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICAvKipcbiAgICogWMOzYSB0aHJlYWRcbiAgICovXG4gIGNvbnN0IHJlbW92ZVRocmVhZCA9ICh0aHJlYWRJZDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZGVsZXRlZCA9IHRocmVhZHMudmFsdWUuZGVsZXRlKHRocmVhZElkKVxuXG4gICAgaWYgKGRlbGV0ZWQgJiYgYWN0aXZlVGhyZWFkSWQudmFsdWUgPT09IHRocmVhZElkKSB7XG4gICAgICBhY3RpdmVUaHJlYWRJZC52YWx1ZSA9IG51bGxcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZFxuICB9XG5cbiAgLyoqXG4gICAqIEPhuq1wIG5o4bqtdCB0aXRsZSBj4bunYSB0aHJlYWRcbiAgICovXG4gIGNvbnN0IHVwZGF0ZVRocmVhZFRpdGxlID0gKHRocmVhZElkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCB0aHJlYWQgPSB0aHJlYWRzLnZhbHVlLmdldCh0aHJlYWRJZClcbiAgICBpZiAoIXRocmVhZCkge1xuICAgICAgY29uc29sZS5lcnJvcihgVGhyZWFkIHdpdGggaWQgJHt0aHJlYWRJZH0gbm90IGZvdW5kYClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIHRocmVhZC50aXRsZSA9IHRpdGxlXG4gICAgdGhyZWFkLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKClcbiAgICB0aHJlYWRzLnZhbHVlLnNldCh0aHJlYWRJZCwgdGhyZWFkKVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciB04bqldCBj4bqjIHRocmVhZHNcbiAgICovXG4gIGNvbnN0IGNsZWFyQWxsVGhyZWFkcyA9ICgpOiB2b2lkID0+IHtcbiAgICB0aHJlYWRzLnZhbHVlLmNsZWFyKClcbiAgICBhY3RpdmVUaHJlYWRJZC52YWx1ZSA9IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBU4bqhbyB0aHJlYWQgbeG7m2kgdsOgIHNldCBsw6BtIGFjdGl2ZVxuICAgKi9cbiAgY29uc3QgY3JlYXRlQW5kQWN0aXZhdGVUaHJlYWQgPSAodGl0bGU6IHN0cmluZyA9ICdOZXcgQ29udmVyc2F0aW9uJywgdGhyZWFkSWQ/OiBzdHJpbmcpOiBUaHJlYWQgPT4ge1xuICAgIGNvbnN0IG5ld1RocmVhZCA9IGNyZWF0ZVRocmVhZCh0aXRsZSwgdGhyZWFkSWQpXG4gICAgc2V0QWN0aXZlVGhyZWFkKG5ld1RocmVhZC5pZClcbiAgICByZXR1cm4gbmV3VGhyZWFkXG4gIH1cblxuICAvKipcbiAgICogTOG6pXkgdGhyZWFkIHRoZW8gSURcbiAgICovXG4gIGNvbnN0IGdldFRocmVhZCA9ICh0aHJlYWRJZDogc3RyaW5nKTogVGhyZWFkIHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gdGhyZWFkcy52YWx1ZS5nZXQodGhyZWFkSWQpXG4gIH1cblxuICAvKipcbiAgICogS2nhu4NtIHRyYSB0aHJlYWQgY8OzIHThu5NuIHThuqFpIGtow7RuZ1xuICAgKi9cbiAgY29uc3QgaGFzVGhyZWFkID0gKHRocmVhZElkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gdGhyZWFkcy52YWx1ZS5oYXModGhyZWFkSWQpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIC8vIFN0YXRlXG4gICAgdGhyZWFkczogY29tcHV0ZWQoKCkgPT4gdGhyZWFkcy52YWx1ZSksXG4gICAgYWN0aXZlVGhyZWFkSWQsXG4gICAgYWN0aXZlVGhyZWFkLFxuICAgIGFjdGl2ZU1lc3NhZ2VzLFxuICAgIHRocmVhZExpc3QsXG4gICAgaGFzQWN0aXZlVGhyZWFkLFxuICAgIGlzR2VuZXJhdGluZyxcbiAgICBjdXJyZW50QXNzaXN0YW50TWVzc2FnZSxcblxuICAgIC8vIEFjdGlvbnNcbiAgICBjcmVhdGVUaHJlYWQsXG4gICAgc2V0QWN0aXZlVGhyZWFkLFxuICAgIGFkZE1lc3NhZ2UsXG4gICAgdXBkYXRlTWVzc2FnZSxcbiAgICByZW1vdmVNZXNzYWdlLFxuICAgIHJlbW92ZVRocmVhZCxcbiAgICB1cGRhdGVUaHJlYWRUaXRsZSxcbiAgICBjbGVhckFsbFRocmVhZHMsXG4gICAgY3JlYXRlQW5kQWN0aXZhdGVUaHJlYWQsXG4gICAgZ2V0VGhyZWFkLFxuICAgIGhhc1RocmVhZCxcbiAgICBzdGFydE1lc3NhZ2VHZW5lcmF0aW9uLFxuICAgIGZpbmlzaE1lc3NhZ2VHZW5lcmF0aW9uXG4gIH1cbn0pICIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyByZWYsIGluamVjdCwgb25Nb3VudGVkIH0gZnJvbSAndnVlJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uL0J1dHRvbi52dWUnXG5pbXBvcnQgdHlwZSBVc2VBaVBsdWdpbiBmcm9tICdAL21haW4nXG5pbXBvcnQgeyB1c2VUaHJlYWRzIH0gZnJvbSAnQC9jb21wb3NhYmxlcy91c2VUaHJlYWRzJ1xuaW1wb3J0IHtcbiAgSGlzdG9yeSxcbiAgTWVzc2FnZVNxdWFyZSxcbiAgQ2xvY2ssXG4gIFRyYXNoMlxufSBmcm9tICdsdWNpZGUtdnVlLW5leHQnXG5cbi8vIERlZmluZSBIaXN0b3J5SXRlbSBpbnRlcmZhY2VcbmludGVyZmFjZSBIaXN0b3J5SXRlbSB7XG4gIGlkOiBzdHJpbmdcbiAgdGltZXN0YW1wOiBEYXRlXG4gIHByb21wdDogc3RyaW5nXG4gIHByZXZpZXc6IHN0cmluZ1xufVxuXG5jb25zdCBwbHVnaW4gPSBpbmplY3Q8VXNlQWlQbHVnaW4+KFwidXNlQWlQbHVnaW5cIikhXG5cbi8vIFPhu60gZOG7pW5nIGdsb2JhbCB0aHJlYWQgc3RhdGVcbmNvbnN0IHtcbiAgdGhyZWFkTGlzdCxcbiAgcmVtb3ZlVGhyZWFkLFxuICBzZXRBY3RpdmVUaHJlYWRcbn0gPSB1c2VUaHJlYWRzKClcblxuY29uc3QgaXNMb2FkaW5nID0gcmVmKGZhbHNlKVxuY29uc3QgaGlzdG9yeUl0ZW1zID0gcmVmPEhpc3RvcnlJdGVtW10+KFtdKVxuXG4vKipcbiAqIExvYWQgY29udmVyc2F0aW9uIGhpc3RvcnlcbiAqL1xuY29uc3QgbG9hZEhpc3RvcnkgPSBhc3luYyAoKSA9PiB7XG4gIGlzTG9hZGluZy52YWx1ZSA9IHRydWVcbiAgdHJ5IHtcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgYWN0dWFsIGhpc3RvcnkgbG9hZGluZyBmcm9tIHBsdWdpbiBzdG9yYWdlXG4gICAgLy8gRm9yIG5vdywgbW9jayBzb21lIGRhdGFcbiAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwKSlcblxuICAgIGhpc3RvcnlJdGVtcy52YWx1ZSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAwMCAqIDYwICogMzApLCAvLyAzMCBtaW51dGVzIGFnb1xuICAgICAgICBwcm9tcHQ6ICdDcmVhdGUgYSBtaW5kIG1hcCBhYm91dCBtYWNoaW5lIGxlYXJuaW5nJyxcbiAgICAgICAgcHJldmlldzogJ0dlbmVyYXRlZCBhIGNvbXByZWhlbnNpdmUgbWluZCBtYXAgY292ZXJpbmcgc3VwZXJ2aXNlZCBsZWFybmluZywgdW5zdXBlcnZpc2VkIGxlYXJuaW5nLi4uJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICcyJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAwMCAqIDYwICogNjAgKiAyKSwgLy8gMiBob3VycyBhZ29cbiAgICAgICAgcHJvbXB0OiAnRXhwbGFpbiBxdWFudHVtIGNvbXB1dGluZyBjb25jZXB0cycsXG4gICAgICAgIHByZXZpZXc6ICdDcmVhdGVkIGRldGFpbGVkIGV4cGxhbmF0aW9uIG5vZGVzIGFib3V0IHF1Yml0cywgc3VwZXJwb3NpdGlvbiwgZW50YW5nbGVtZW50Li4uJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICczJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAwMCAqIDYwICogNjAgKiAyNCksIC8vIDEgZGF5IGFnb1xuICAgICAgICBwcm9tcHQ6ICdEZXNpZ24gYSBwcm9qZWN0IHdvcmtmbG93JyxcbiAgICAgICAgcHJldmlldzogJ0J1aWx0IGEgcHJvamVjdCBtYW5hZ2VtZW50IHdvcmtmbG93IHdpdGggcGhhc2VzLCB0YXNrcywgYW5kIGRlbGl2ZXJhYmxlcy4uLidcbiAgICAgIH1cbiAgICBdXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaGlzdG9yeTonLCBlcnJvcilcbiAgfSBmaW5hbGx5IHtcbiAgICBpc0xvYWRpbmcudmFsdWUgPSBmYWxzZVxuICB9XG59XG5cbi8qKlxuICogRGVsZXRlIGEgaGlzdG9yeSBpdGVtXG4gKi9cbmNvbnN0IGRlbGV0ZUhpc3RvcnlJdGVtID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgaGlzdG9yeUl0ZW1zLnZhbHVlID0gaGlzdG9yeUl0ZW1zLnZhbHVlLmZpbHRlcigoaXRlbTogSGlzdG9yeUl0ZW0pID0+IGl0ZW0uaWQgIT09IGlkKVxuICAvLyBUT0RPOiBJbXBsZW1lbnQgYWN0dWFsIGRlbGV0aW9uIGZyb20gcGx1Z2luIHN0b3JhZ2Vcbn1cblxuLyoqXG4gKiBSZXN0b3JlIGEgY29udmVyc2F0aW9uIGZyb20gaGlzdG9yeVxuICovXG5jb25zdCByZXN0b3JlQ29udmVyc2F0aW9uID0gKGl0ZW06IEhpc3RvcnlJdGVtKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdSZXN0b3JpbmcgY29udmVyc2F0aW9uOicsIGl0ZW0ucHJvbXB0KVxufVxuXG4vKipcbiAqIEZvcm1hdCB0aW1lc3RhbXAgZm9yIGRpc3BsYXlcbiAqL1xuY29uc3QgZm9ybWF0VGltZXN0YW1wID0gKGRhdGU6IERhdGUpID0+IHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxuICBjb25zdCBkaWZmID0gbm93LmdldFRpbWUoKSAtIGRhdGUuZ2V0VGltZSgpXG4gIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwKSlcbiAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGRpZmYgLyAoMTAwMCAqIDYwICogNjApKVxuICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKVxuXG4gIGlmIChtaW51dGVzIDwgNjApIHtcbiAgICByZXR1cm4gYCR7bWludXRlc31tIGFnb2BcbiAgfSBlbHNlIGlmIChob3VycyA8IDI0KSB7XG4gICAgcmV0dXJuIGAke2hvdXJzfWggYWdvYFxuICB9IGVsc2Uge1xuICAgIHJldHVybiBgJHtkYXlzfWQgYWdvYFxuICB9XG59XG5cbm9uTW91bnRlZCgoKSA9PiB7XG4gIGxvYWRIaXN0b3J5KClcbn0pXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGxcIj5cbiAgICA8IS0tIEhlYWRlciAtLT5cbiAgICA8ZGl2IGNsYXNzPVwicC00IGJvcmRlci1iIGJvcmRlci1uZXV0cmFsLTcwMFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICA8SGlzdG9yeSBjbGFzcz1cInRleHQtbmV1dHJhbC0zMDAgc2l6ZS01XCIgLz5cbiAgICAgICAgPGgyIGNsYXNzPVwidGV4dC1sZyB0ZXh0LW5ldXRyYWwtMjAwIGZvbnQtbWVkaXVtXCI+Q29udmVyc2F0aW9uIEhpc3Rvcnk8L2gyPlxuICAgICAgPC9kaXY+XG4gICAgICA8cCBjbGFzcz1cInRleHQtbmV1dHJhbC00MDAgdGV4dC1zbSBtdC0xXCI+XG4gICAgICAgIFZpZXcgYW5kIHJlc3RvcmUgcHJldmlvdXMgY29udmVyc2F0aW9uc1xuICAgICAgPC9wPlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBDb250ZW50IC0tPlxuICAgIDxtYWluIGNsYXNzPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTRcIj5cbiAgICAgIDwhLS0gTG9hZGluZyBTdGF0ZSAtLT5cbiAgICAgIDxkaXYgdi1pZj1cImlzTG9hZGluZ1wiIGNsYXNzPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zcGluIHctNiBoLTYgYm9yZGVyLTIgYm9yZGVyLW5ldXRyYWwtNjAwIGJvcmRlci10LW5ldXRyYWwtMzAwIHJvdW5kZWQtZnVsbCBteC1hdXRvIG1iLTJcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1uZXV0cmFsLTQwMFwiPkxvYWRpbmcgaGlzdG9yeS4uLjwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tIEVtcHR5IFN0YXRlIC0tPlxuICAgICAgPGRpdiB2LWVsc2UtaWY9XCJoaXN0b3J5SXRlbXMubGVuZ3RoID09PSAwXCIgY2xhc3M9XCJ0ZXh0LWNlbnRlciBweS0xMlwiPlxuICAgICAgICA8TWVzc2FnZVNxdWFyZSBjbGFzcz1cInRleHQtbmV1dHJhbC02MDAgc2l6ZS0xMiBteC1hdXRvIG1iLTRcIiAvPlxuICAgICAgICA8aDMgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtMzAwIHRleHQtbGcgbWItMlwiPk5vIEhpc3RvcnkgWWV0PC9oMz5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNTAwXCI+XG4gICAgICAgICAgWW91ciBjb252ZXJzYXRpb24gaGlzdG9yeSB3aWxsIGFwcGVhciBoZXJlIG9uY2UgeW91IHN0YXJ0IHVzaW5nIHRoZSBwbHVnaW4uXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tIEhpc3RvcnkgSXRlbXMgLS0+XG4gICAgICA8ZGl2IHYtZWxzZSBjbGFzcz1cInNwYWNlLXktM1wiPlxuICAgICAgICA8ZGl2IHYtZm9yPVwiaXRlbSBpbiBoaXN0b3J5SXRlbXNcIiA6a2V5PVwiaXRlbS5pZFwiXG4gICAgICAgICAgY2xhc3M9XCJiZy1uZXV0cmFsLTgwMCByb3VuZGVkLWxnIHAtNCBib3JkZXIgYm9yZGVyLW5ldXRyYWwtNzAwIGhvdmVyOmJvcmRlci1uZXV0cmFsLTYwMCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQteHMgdGV4dC1uZXV0cmFsLTQwMFwiPlxuICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgICAgICAgICA8c3Bhbj57eyBmb3JtYXRUaW1lc3RhbXAoaXRlbS50aW1lc3RhbXApIH19PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzPVwidGV4dC1uZXV0cmFsLTUwMCBob3Zlcjp0ZXh0LXJlZC00MDAgaC02IHctNiBwLTBcIlxuICAgICAgICAgICAgICBAY2xpY2s9XCJkZWxldGVIaXN0b3J5SXRlbShpdGVtLmlkKVwiPlxuICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGg0IGNsYXNzPVwidGV4dC1uZXV0cmFsLTIwMCBmb250LW1lZGl1bSBtYi0yIGxlYWRpbmctdGlnaHRcIj5cbiAgICAgICAgICAgIHt7IGl0ZW0ucHJvbXB0IH19XG4gICAgICAgICAgPC9oND5cblxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1uZXV0cmFsLTQwMCB0ZXh0LXNtIG1iLTMgbGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICB7eyBpdGVtLnByZXZpZXcgfX1cbiAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtMzAwIGJvcmRlci1uZXV0cmFsLTYwMCBob3Zlcjpib3JkZXItbmV1dHJhbC01MDBcIlxuICAgICAgICAgICAgQGNsaWNrPVwicmVzdG9yZUNvbnZlcnNhdGlvbihpdGVtKVwiPlxuICAgICAgICAgICAgUmVzdG9yZSBDb252ZXJzYXRpb25cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L21haW4+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgcmVmLCBpbmplY3QsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbi9CdXR0b24udnVlJ1xuaW1wb3J0IHR5cGUgVXNlQWlQbHVnaW4gZnJvbSAnQC9tYWluJ1xuaW1wb3J0IHsgdXNlVGhyZWFkcyB9IGZyb20gJ0AvY29tcG9zYWJsZXMvdXNlVGhyZWFkcydcbmltcG9ydCB7XG4gIEhpc3RvcnksXG4gIE1lc3NhZ2VTcXVhcmUsXG4gIENsb2NrLFxuICBUcmFzaDJcbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuXG4vLyBEZWZpbmUgSGlzdG9yeUl0ZW0gaW50ZXJmYWNlXG5pbnRlcmZhY2UgSGlzdG9yeUl0ZW0ge1xuICBpZDogc3RyaW5nXG4gIHRpbWVzdGFtcDogRGF0ZVxuICBwcm9tcHQ6IHN0cmluZ1xuICBwcmV2aWV3OiBzdHJpbmdcbn1cblxuY29uc3QgcGx1Z2luID0gaW5qZWN0PFVzZUFpUGx1Z2luPihcInVzZUFpUGx1Z2luXCIpIVxuXG4vLyBT4butIGThu6VuZyBnbG9iYWwgdGhyZWFkIHN0YXRlXG5jb25zdCB7XG4gIHRocmVhZExpc3QsXG4gIHJlbW92ZVRocmVhZCxcbiAgc2V0QWN0aXZlVGhyZWFkXG59ID0gdXNlVGhyZWFkcygpXG5cbmNvbnN0IGlzTG9hZGluZyA9IHJlZihmYWxzZSlcbmNvbnN0IGhpc3RvcnlJdGVtcyA9IHJlZjxIaXN0b3J5SXRlbVtdPihbXSlcblxuLyoqXG4gKiBMb2FkIGNvbnZlcnNhdGlvbiBoaXN0b3J5XG4gKi9cbmNvbnN0IGxvYWRIaXN0b3J5ID0gYXN5bmMgKCkgPT4ge1xuICBpc0xvYWRpbmcudmFsdWUgPSB0cnVlXG4gIHRyeSB7XG4gICAgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBoaXN0b3J5IGxvYWRpbmcgZnJvbSBwbHVnaW4gc3RvcmFnZVxuICAgIC8vIEZvciBub3csIG1vY2sgc29tZSBkYXRhXG4gICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpXG5cbiAgICBoaXN0b3J5SXRlbXMudmFsdWUgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnMScsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDAgKiA2MCAqIDMwKSwgLy8gMzAgbWludXRlcyBhZ29cbiAgICAgICAgcHJvbXB0OiAnQ3JlYXRlIGEgbWluZCBtYXAgYWJvdXQgbWFjaGluZSBsZWFybmluZycsXG4gICAgICAgIHByZXZpZXc6ICdHZW5lcmF0ZWQgYSBjb21wcmVoZW5zaXZlIG1pbmQgbWFwIGNvdmVyaW5nIHN1cGVydmlzZWQgbGVhcm5pbmcsIHVuc3VwZXJ2aXNlZCBsZWFybmluZy4uLidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMicsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDAgKiA2MCAqIDYwICogMiksIC8vIDIgaG91cnMgYWdvXG4gICAgICAgIHByb21wdDogJ0V4cGxhaW4gcXVhbnR1bSBjb21wdXRpbmcgY29uY2VwdHMnLFxuICAgICAgICBwcmV2aWV3OiAnQ3JlYXRlZCBkZXRhaWxlZCBleHBsYW5hdGlvbiBub2RlcyBhYm91dCBxdWJpdHMsIHN1cGVycG9zaXRpb24sIGVudGFuZ2xlbWVudC4uLidcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAnMycsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDAgKiA2MCAqIDYwICogMjQpLCAvLyAxIGRheSBhZ29cbiAgICAgICAgcHJvbXB0OiAnRGVzaWduIGEgcHJvamVjdCB3b3JrZmxvdycsXG4gICAgICAgIHByZXZpZXc6ICdCdWlsdCBhIHByb2plY3QgbWFuYWdlbWVudCB3b3JrZmxvdyB3aXRoIHBoYXNlcywgdGFza3MsIGFuZCBkZWxpdmVyYWJsZXMuLi4nXG4gICAgICB9XG4gICAgXVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGhpc3Rvcnk6JywgZXJyb3IpXG4gIH0gZmluYWxseSB7XG4gICAgaXNMb2FkaW5nLnZhbHVlID0gZmFsc2VcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIGhpc3RvcnkgaXRlbVxuICovXG5jb25zdCBkZWxldGVIaXN0b3J5SXRlbSA9IChpZDogc3RyaW5nKSA9PiB7XG4gIGhpc3RvcnlJdGVtcy52YWx1ZSA9IGhpc3RvcnlJdGVtcy52YWx1ZS5maWx0ZXIoKGl0ZW06IEhpc3RvcnlJdGVtKSA9PiBpdGVtLmlkICE9PSBpZClcbiAgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBkZWxldGlvbiBmcm9tIHBsdWdpbiBzdG9yYWdlXG59XG5cbi8qKlxuICogUmVzdG9yZSBhIGNvbnZlcnNhdGlvbiBmcm9tIGhpc3RvcnlcbiAqL1xuY29uc3QgcmVzdG9yZUNvbnZlcnNhdGlvbiA9IChpdGVtOiBIaXN0b3J5SXRlbSkgPT4ge1xuICBjb25zb2xlLmxvZygnUmVzdG9yaW5nIGNvbnZlcnNhdGlvbjonLCBpdGVtLnByb21wdClcbn1cblxuLyoqXG4gKiBGb3JtYXQgdGltZXN0YW1wIGZvciBkaXNwbGF5XG4gKi9cbmNvbnN0IGZvcm1hdFRpbWVzdGFtcCA9IChkYXRlOiBEYXRlKSA9PiB7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgY29uc3QgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBkYXRlLmdldFRpbWUoKVxuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCkpXG4gIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmIC8gKDEwMDAgKiA2MCAqIDYwKSlcbiAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IoZGlmZiAvICgxMDAwICogNjAgKiA2MCAqIDI0KSlcblxuICBpZiAobWludXRlcyA8IDYwKSB7XG4gICAgcmV0dXJuIGAke21pbnV0ZXN9bSBhZ29gXG4gIH0gZWxzZSBpZiAoaG91cnMgPCAyNCkge1xuICAgIHJldHVybiBgJHtob3Vyc31oIGFnb2BcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7ZGF5c31kIGFnb2BcbiAgfVxufVxuXG5vbk1vdW50ZWQoKCkgPT4ge1xuICBsb2FkSGlzdG9yeSgpXG59KVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImZsZXggZmxleC1jb2wgaC1mdWxsXCI+XG4gICAgPCEtLSBIZWFkZXIgLS0+XG4gICAgPGRpdiBjbGFzcz1cInAtNCBib3JkZXItYiBib3JkZXItbmV1dHJhbC03MDBcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgPEhpc3RvcnkgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtMzAwIHNpemUtNVwiIC8+XG4gICAgICAgIDxoMiBjbGFzcz1cInRleHQtbGcgdGV4dC1uZXV0cmFsLTIwMCBmb250LW1lZGl1bVwiPkNvbnZlcnNhdGlvbiBIaXN0b3J5PC9oMj5cbiAgICAgIDwvZGl2PlxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwIHRleHQtc20gbXQtMVwiPlxuICAgICAgICBWaWV3IGFuZCByZXN0b3JlIHByZXZpb3VzIGNvbnZlcnNhdGlvbnNcbiAgICAgIDwvcD5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gQ29udGVudCAtLT5cbiAgICA8bWFpbiBjbGFzcz1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC00XCI+XG4gICAgICA8IS0tIExvYWRpbmcgU3RhdGUgLS0+XG4gICAgICA8ZGl2IHYtaWY9XCJpc0xvYWRpbmdcIiBjbGFzcz1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3BpbiB3LTYgaC02IGJvcmRlci0yIGJvcmRlci1uZXV0cmFsLTYwMCBib3JkZXItdC1uZXV0cmFsLTMwMCByb3VuZGVkLWZ1bGwgbXgtYXV0byBtYi0yXCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8cCBjbGFzcz1cInRleHQtbmV1dHJhbC00MDBcIj5Mb2FkaW5nIGhpc3RvcnkuLi48L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBFbXB0eSBTdGF0ZSAtLT5cbiAgICAgIDxkaXYgdi1lbHNlLWlmPVwiaGlzdG9yeUl0ZW1zLmxlbmd0aCA9PT0gMFwiIGNsYXNzPVwidGV4dC1jZW50ZXIgcHktMTJcIj5cbiAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNjAwIHNpemUtMTIgbXgtYXV0byBtYi00XCIgLz5cbiAgICAgICAgPGgzIGNsYXNzPVwidGV4dC1uZXV0cmFsLTMwMCB0ZXh0LWxnIG1iLTJcIj5ObyBIaXN0b3J5IFlldDwvaDM+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC1uZXV0cmFsLTUwMFwiPlxuICAgICAgICAgIFlvdXIgY29udmVyc2F0aW9uIGhpc3Rvcnkgd2lsbCBhcHBlYXIgaGVyZSBvbmNlIHlvdSBzdGFydCB1c2luZyB0aGUgcGx1Z2luLlxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBIaXN0b3J5IEl0ZW1zIC0tPlxuICAgICAgPGRpdiB2LWVsc2UgY2xhc3M9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgPGRpdiB2LWZvcj1cIml0ZW0gaW4gaGlzdG9yeUl0ZW1zXCIgOmtleT1cIml0ZW0uaWRcIlxuICAgICAgICAgIGNsYXNzPVwiYmctbmV1dHJhbC04MDAgcm91bmRlZC1sZyBwLTQgYm9yZGVyIGJvcmRlci1uZXV0cmFsLTcwMCBob3Zlcjpib3JkZXItbmV1dHJhbC02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LXhzIHRleHQtbmV1dHJhbC00MDBcIj5cbiAgICAgICAgICAgICAgPENsb2NrIGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4+e3sgZm9ybWF0VGltZXN0YW1wKGl0ZW0udGltZXN0YW1wKSB9fTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzcz1cInRleHQtbmV1dHJhbC01MDAgaG92ZXI6dGV4dC1yZWQtNDAwIGgtNiB3LTYgcC0wXCJcbiAgICAgICAgICAgICAgQGNsaWNrPVwiZGVsZXRlSGlzdG9yeUl0ZW0oaXRlbS5pZClcIj5cbiAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzcz1cInNpemUtM1wiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxoNCBjbGFzcz1cInRleHQtbmV1dHJhbC0yMDAgZm9udC1tZWRpdW0gbWItMiBsZWFkaW5nLXRpZ2h0XCI+XG4gICAgICAgICAgICB7eyBpdGVtLnByb21wdCB9fVxuICAgICAgICAgIDwvaDQ+XG5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtbmV1dHJhbC00MDAgdGV4dC1zbSBtYi0zIGxpbmUtY2xhbXAtMlwiPlxuICAgICAgICAgICAge3sgaXRlbS5wcmV2aWV3IH19XG4gICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiIHNpemU9XCJzbVwiIGNsYXNzPVwidGV4dC1uZXV0cmFsLTMwMCBib3JkZXItbmV1dHJhbC02MDAgaG92ZXI6Ym9yZGVyLW5ldXRyYWwtNTAwXCJcbiAgICAgICAgICAgIEBjbGljaz1cInJlc3RvcmVDb252ZXJzYXRpb24oaXRlbSlcIj5cbiAgICAgICAgICAgIFJlc3RvcmUgQ29udmVyc2F0aW9uXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9tYWluPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+IiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgVGFic1Jvb3RFbWl0cywgVGFic1Jvb3RQcm9wcyB9IGZyb20gJ3Jla2EtdWknXG5pbXBvcnQgdHlwZSB7IEhUTUxBdHRyaWJ1dGVzIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgcmVhY3RpdmVPbWl0IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJ1xuaW1wb3J0IHsgVGFic1Jvb3QsIHVzZUZvcndhcmRQcm9wc0VtaXRzIH0gZnJvbSAncmVrYS11aSdcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnXG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8VGFic1Jvb3RQcm9wcyAmIHsgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXSB9PigpXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzPFRhYnNSb290RW1pdHM+KClcblxuY29uc3QgZGVsZWdhdGVkUHJvcHMgPSByZWFjdGl2ZU9taXQocHJvcHMsICdjbGFzcycpXG5jb25zdCBmb3J3YXJkZWQgPSB1c2VGb3J3YXJkUHJvcHNFbWl0cyhkZWxlZ2F0ZWRQcm9wcywgZW1pdHMpXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8VGFic1Jvb3RcbiAgICBkYXRhLXNsb3Q9XCJ0YWJzXCJcbiAgICB2LWJpbmQ9XCJmb3J3YXJkZWRcIlxuICAgIDpjbGFzcz1cImNuKCdmbGV4IGZsZXgtY29sIGdhcC0yJywgcHJvcHMuY2xhc3MpXCJcbiAgPlxuICAgIDxzbG90IC8+XG4gIDwvVGFic1Jvb3Q+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgVGFic1Jvb3RFbWl0cywgVGFic1Jvb3RQcm9wcyB9IGZyb20gJ3Jla2EtdWknXG5pbXBvcnQgdHlwZSB7IEhUTUxBdHRyaWJ1dGVzIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgcmVhY3RpdmVPbWl0IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJ1xuaW1wb3J0IHsgVGFic1Jvb3QsIHVzZUZvcndhcmRQcm9wc0VtaXRzIH0gZnJvbSAncmVrYS11aSdcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnXG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8VGFic1Jvb3RQcm9wcyAmIHsgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXSB9PigpXG5jb25zdCBlbWl0cyA9IGRlZmluZUVtaXRzPFRhYnNSb290RW1pdHM+KClcblxuY29uc3QgZGVsZWdhdGVkUHJvcHMgPSByZWFjdGl2ZU9taXQocHJvcHMsICdjbGFzcycpXG5jb25zdCBmb3J3YXJkZWQgPSB1c2VGb3J3YXJkUHJvcHNFbWl0cyhkZWxlZ2F0ZWRQcm9wcywgZW1pdHMpXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8VGFic1Jvb3RcbiAgICBkYXRhLXNsb3Q9XCJ0YWJzXCJcbiAgICB2LWJpbmQ9XCJmb3J3YXJkZWRcIlxuICAgIDpjbGFzcz1cImNuKCdmbGV4IGZsZXgtY29sIGdhcC0yJywgcHJvcHMuY2xhc3MpXCJcbiAgPlxuICAgIDxzbG90IC8+XG4gIDwvVGFic1Jvb3Q+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyByZWFjdGl2ZU9taXQgfSBmcm9tICdAdnVldXNlL2NvcmUnXG5pbXBvcnQgeyBUYWJzQ29udGVudCwgdHlwZSBUYWJzQ29udGVudFByb3BzIH0gZnJvbSAncmVrYS11aSdcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnXG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8VGFic0NvbnRlbnRQcm9wcyAmIHsgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXSB9PigpXG5cbmNvbnN0IGRlbGVnYXRlZFByb3BzID0gcmVhY3RpdmVPbWl0KHByb3BzLCAnY2xhc3MnKVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPFRhYnNDb250ZW50XG4gICAgZGF0YS1zbG90PVwidGFicy1jb250ZW50XCJcbiAgICA6Y2xhc3M9XCJjbignZmxleC0xIG91dGxpbmUtbm9uZScsIHByb3BzLmNsYXNzKVwiXG4gICAgdi1iaW5kPVwiZGVsZWdhdGVkUHJvcHNcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9UYWJzQ29udGVudD5cbjwvdGVtcGxhdGU+XG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHJlYWN0aXZlT21pdCB9IGZyb20gJ0B2dWV1c2UvY29yZSdcbmltcG9ydCB7IFRhYnNDb250ZW50LCB0eXBlIFRhYnNDb250ZW50UHJvcHMgfSBmcm9tICdyZWthLXVpJ1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscydcblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxUYWJzQ29udGVudFByb3BzICYgeyBjbGFzcz86IEhUTUxBdHRyaWJ1dGVzWydjbGFzcyddIH0+KClcblxuY29uc3QgZGVsZWdhdGVkUHJvcHMgPSByZWFjdGl2ZU9taXQocHJvcHMsICdjbGFzcycpXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8VGFic0NvbnRlbnRcbiAgICBkYXRhLXNsb3Q9XCJ0YWJzLWNvbnRlbnRcIlxuICAgIDpjbGFzcz1cImNuKCdmbGV4LTEgb3V0bGluZS1ub25lJywgcHJvcHMuY2xhc3MpXCJcbiAgICB2LWJpbmQ9XCJkZWxlZ2F0ZWRQcm9wc1wiXG4gID5cbiAgICA8c2xvdCAvPlxuICA8L1RhYnNDb250ZW50PlxuPC90ZW1wbGF0ZT5cbiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgdHlwZSB7IEhUTUxBdHRyaWJ1dGVzIH0gZnJvbSAndnVlJ1xuaW1wb3J0IHsgcmVhY3RpdmVPbWl0IH0gZnJvbSAnQHZ1ZXVzZS9jb3JlJ1xuaW1wb3J0IHsgVGFic0xpc3QsIHR5cGUgVGFic0xpc3RQcm9wcyB9IGZyb20gJ3Jla2EtdWknXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFRhYnNMaXN0UHJvcHMgJiB7IGNsYXNzPzogSFRNTEF0dHJpYnV0ZXNbJ2NsYXNzJ10gfT4oKVxuXG5jb25zdCBkZWxlZ2F0ZWRQcm9wcyA9IHJlYWN0aXZlT21pdChwcm9wcywgJ2NsYXNzJylcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxUYWJzTGlzdFxuICAgIGRhdGEtc2xvdD1cInRhYnMtbGlzdFwiXG4gICAgdi1iaW5kPVwiZGVsZWdhdGVkUHJvcHNcIlxuICAgIDpjbGFzcz1cImNuKFxuICAgICAgJ2JnLW11dGVkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBpbmxpbmUtZmxleCBoLTkgdy1maXQgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgcC1bM3B4XScsXG4gICAgICBwcm9wcy5jbGFzcyxcbiAgICApXCJcbiAgPlxuICAgIDxzbG90IC8+XG4gIDwvVGFic0xpc3Q+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyByZWFjdGl2ZU9taXQgfSBmcm9tICdAdnVldXNlL2NvcmUnXG5pbXBvcnQgeyBUYWJzTGlzdCwgdHlwZSBUYWJzTGlzdFByb3BzIH0gZnJvbSAncmVrYS11aSdcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnXG5cbmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHM8VGFic0xpc3RQcm9wcyAmIHsgY2xhc3M/OiBIVE1MQXR0cmlidXRlc1snY2xhc3MnXSB9PigpXG5cbmNvbnN0IGRlbGVnYXRlZFByb3BzID0gcmVhY3RpdmVPbWl0KHByb3BzLCAnY2xhc3MnKVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPFRhYnNMaXN0XG4gICAgZGF0YS1zbG90PVwidGFicy1saXN0XCJcbiAgICB2LWJpbmQ9XCJkZWxlZ2F0ZWRQcm9wc1wiXG4gICAgOmNsYXNzPVwiY24oXG4gICAgICAnYmctbXV0ZWQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGlubGluZS1mbGV4IGgtOSB3LWZpdCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1sZyBwLVszcHhdJyxcbiAgICAgIHByb3BzLmNsYXNzLFxuICAgIClcIlxuICA+XG4gICAgPHNsb3QgLz5cbiAgPC9UYWJzTGlzdD5cbjwvdGVtcGxhdGU+XG4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHJlYWN0aXZlT21pdCB9IGZyb20gJ0B2dWV1c2UvY29yZSdcbmltcG9ydCB7IFRhYnNUcmlnZ2VyLCB0eXBlIFRhYnNUcmlnZ2VyUHJvcHMsIHVzZUZvcndhcmRQcm9wcyB9IGZyb20gJ3Jla2EtdWknXG5pbXBvcnQgeyBjbiB9IGZyb20gJ0AvbGliL3V0aWxzJ1xuXG5jb25zdCBwcm9wcyA9IGRlZmluZVByb3BzPFRhYnNUcmlnZ2VyUHJvcHMgJiB7IGNsYXNzPzogSFRNTEF0dHJpYnV0ZXNbJ2NsYXNzJ10gfT4oKVxuXG5jb25zdCBkZWxlZ2F0ZWRQcm9wcyA9IHJlYWN0aXZlT21pdChwcm9wcywgJ2NsYXNzJylcblxuY29uc3QgZm9yd2FyZGVkUHJvcHMgPSB1c2VGb3J3YXJkUHJvcHMoZGVsZWdhdGVkUHJvcHMpXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8VGFic1RyaWdnZXJcbiAgICBkYXRhLXNsb3Q9XCJ0YWJzLXRyaWdnZXJcIlxuICAgIHYtYmluZD1cImZvcndhcmRlZFByb3BzXCJcbiAgICA6Y2xhc3M9XCJjbihcbiAgICAgIGBkYXRhLVtzdGF0ZT1hY3RpdmVdOmJnLWJhY2tncm91bmQgZGFyazpkYXRhLVtzdGF0ZT1hY3RpdmVdOnRleHQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOmJvcmRlci1yaW5nIGZvY3VzLXZpc2libGU6cmluZy1yaW5nLzUwIGZvY3VzLXZpc2libGU6b3V0bGluZS1yaW5nIGRhcms6ZGF0YS1bc3RhdGU9YWN0aXZlXTpib3JkZXItaW5wdXQgZGFyazpkYXRhLVtzdGF0ZT1hY3RpdmVdOmJnLWlucHV0LzMwIHRleHQtZm9yZWdyb3VuZCBkYXJrOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBpbmxpbmUtZmxleCBoLVtjYWxjKDEwMCUtMXB4KV0gZmxleC0xIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMS41IHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci10cmFuc3BhcmVudCBweC0yIHB5LTEgdGV4dC1zbSBmb250LW1lZGl1bSB3aGl0ZXNwYWNlLW5vd3JhcCB0cmFuc2l0aW9uLVtjb2xvcixib3gtc2hhZG93XSBmb2N1cy12aXNpYmxlOnJpbmctWzNweF0gZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTEgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkaXNhYmxlZDpvcGFjaXR5LTUwIGRhdGEtW3N0YXRlPWFjdGl2ZV06c2hhZG93LXNtIFsmX3N2Z106cG9pbnRlci1ldmVudHMtbm9uZSBbJl9zdmddOnNocmluay0wIFsmX3N2Zzpub3QoW2NsYXNzKj0nc2l6ZS0nXSldOnNpemUtNGAsXG4gICAgICBwcm9wcy5jbGFzcyxcbiAgICApXCJcbiAgPlxuICAgIDxzbG90IC8+XG4gIDwvVGFic1RyaWdnZXI+XG48L3RlbXBsYXRlPlxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyByZWFjdGl2ZU9taXQgfSBmcm9tICdAdnVldXNlL2NvcmUnXG5pbXBvcnQgeyBUYWJzVHJpZ2dlciwgdHlwZSBUYWJzVHJpZ2dlclByb3BzLCB1c2VGb3J3YXJkUHJvcHMgfSBmcm9tICdyZWthLXVpJ1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscydcblxuY29uc3QgcHJvcHMgPSBkZWZpbmVQcm9wczxUYWJzVHJpZ2dlclByb3BzICYgeyBjbGFzcz86IEhUTUxBdHRyaWJ1dGVzWydjbGFzcyddIH0+KClcblxuY29uc3QgZGVsZWdhdGVkUHJvcHMgPSByZWFjdGl2ZU9taXQocHJvcHMsICdjbGFzcycpXG5cbmNvbnN0IGZvcndhcmRlZFByb3BzID0gdXNlRm9yd2FyZFByb3BzKGRlbGVnYXRlZFByb3BzKVxuPC9zY3JpcHQ+XG5cbjx0ZW1wbGF0ZT5cbiAgPFRhYnNUcmlnZ2VyXG4gICAgZGF0YS1zbG90PVwidGFicy10cmlnZ2VyXCJcbiAgICB2LWJpbmQ9XCJmb3J3YXJkZWRQcm9wc1wiXG4gICAgOmNsYXNzPVwiY24oXG4gICAgICBgZGF0YS1bc3RhdGU9YWN0aXZlXTpiZy1iYWNrZ3JvdW5kIGRhcms6ZGF0YS1bc3RhdGU9YWN0aXZlXTp0ZXh0LWZvcmVncm91bmQgZm9jdXMtdmlzaWJsZTpib3JkZXItcmluZyBmb2N1cy12aXNpYmxlOnJpbmctcmluZy81MCBmb2N1cy12aXNpYmxlOm91dGxpbmUtcmluZyBkYXJrOmRhdGEtW3N0YXRlPWFjdGl2ZV06Ym9yZGVyLWlucHV0IGRhcms6ZGF0YS1bc3RhdGU9YWN0aXZlXTpiZy1pbnB1dC8zMCB0ZXh0LWZvcmVncm91bmQgZGFyazp0ZXh0LW11dGVkLWZvcmVncm91bmQgaW5saW5lLWZsZXggaC1bY2FsYygxMDAlLTFweCldIGZsZXgtMSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEuNSByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgcHgtMiBweS0xIHRleHQtc20gZm9udC1tZWRpdW0gd2hpdGVzcGFjZS1ub3dyYXAgdHJhbnNpdGlvbi1bY29sb3IsYm94LXNoYWRvd10gZm9jdXMtdmlzaWJsZTpyaW5nLVszcHhdIGZvY3VzLXZpc2libGU6b3V0bGluZS0xIGRpc2FibGVkOnBvaW50ZXItZXZlbnRzLW5vbmUgZGlzYWJsZWQ6b3BhY2l0eS01MCBkYXRhLVtzdGF0ZT1hY3RpdmVdOnNoYWRvdy1zbSBbJl9zdmddOnBvaW50ZXItZXZlbnRzLW5vbmUgWyZfc3ZnXTpzaHJpbmstMCBbJl9zdmc6bm90KFtjbGFzcyo9J3NpemUtJ10pXTpzaXplLTRgLFxuICAgICAgcHJvcHMuY2xhc3MsXG4gICAgKVwiXG4gID5cbiAgICA8c2xvdCAvPlxuICA8L1RhYnNUcmlnZ2VyPlxuPC90ZW1wbGF0ZT5cbiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24vQnV0dG9uLnZ1ZSdcbmltcG9ydCB7XG4gIFRhYnMsXG4gIFRhYnNDb250ZW50LFxuICBUYWJzTGlzdCxcbiAgVGFic1RyaWdnZXIsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS90YWJzJ1xuaW1wb3J0IHtcbiAgQ2hldnJvbkRvd24sXG4gIENoZXZyb25SaWdodCxcbiAgQ29kZSxcbiAgUGxheSxcbiAgQ2hlY2tDaXJjbGVcbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuXG4vKipcbiAqIFByb3BzIGZvciB0aGUgVG9vbENhbGxEaXNwbGF5IGNvbXBvbmVudFxuICovXG5pbnRlcmZhY2UgUHJvcHMge1xuICB0b29sQ2FsbHM/OiB7IG5hbWU6IHN0cmluZzsgYXJnczogUmVjb3JkPHN0cmluZywgYW55PiB9W11cbiAgdG9vbFJlc3VsdHM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+W11cbn1cblxuY29uc3QgcHJvcHMgPSB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8UHJvcHM+KCksIHtcbiAgdG9vbENhbGxzOiAoKSA9PiBbXSxcbiAgdG9vbFJlc3VsdHM6ICgpID0+IFtdXG59KVxuXG4vLyBTdGF0ZSBmb3IgbWFuYWdpbmcgZXhwYW5kZWQgdG9vbCBjYWxsc1xuY29uc3QgZXhwYW5kZWRDYWxscyA9IHJlZjxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKVxuXG4vKipcbiAqIFRvZ2dsZSBleHBhbnNpb24gb2YgYSB0b29sIGNhbGxcbiAqL1xuY29uc3QgdG9nZ2xlRXhwYW5zaW9uID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgaWYgKGV4cGFuZGVkQ2FsbHMudmFsdWUuaGFzKGluZGV4KSkge1xuICAgIGV4cGFuZGVkQ2FsbHMudmFsdWUuZGVsZXRlKGluZGV4KVxuICB9IGVsc2Uge1xuICAgIGV4cGFuZGVkQ2FsbHMudmFsdWUuYWRkKGluZGV4KVxuICB9XG59XG5cbi8qKlxuICogRm9ybWF0IEpTT04gZm9yIGRpc3BsYXlcbiAqL1xuY29uc3QgZm9ybWF0SnNvbiA9IChvYmo6IGFueSk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdG9vbCBjYWxsIGhhcyByZXN1bHRzXG4gKi9cbmNvbnN0IGhhc1Jlc3VsdHMgPSAoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gcHJvcHMudG9vbFJlc3VsdHMgJiYgcHJvcHMudG9vbFJlc3VsdHNbaW5kZXhdICE9PSB1bmRlZmluZWRcbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgdi1pZj1cInRvb2xDYWxscyAmJiB0b29sQ2FsbHMubGVuZ3RoID4gMFwiIGNsYXNzPVwic3BhY2UteS0wXCI+XG4gICAgPGRpdiB2LWZvcj1cIih0b29sQ2FsbCwgaW5kZXgpIGluIHRvb2xDYWxsc1wiIDprZXk9XCJpbmRleFwiIGNsYXNzPVwiYm9yZGVyLXQgYm9yZGVyLW5ldXRyYWwtNjAwIGZpcnN0OmJvcmRlci10LTBcIj5cblxuICAgICAgPCEtLSBUb29sIENhbGwgSGVhZGVyIC0gTW9yZSBjb21wYWN0IC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweS0yIHB4LTFcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaC01IHctNSBwLTBcIlxuICAgICAgICAgICAgQGNsaWNrPVwidG9nZ2xlRXhwYW5zaW9uKGluZGV4KVwiPlxuICAgICAgICAgICAgPENoZXZyb25SaWdodCB2LWlmPVwiIWV4cGFuZGVkQ2FsbHMuaGFzKGluZGV4KVwiIGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgICAgICAgIDxDaGV2cm9uRG93biB2LWVsc2UgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPENvZGUgY2xhc3M9XCJ0ZXh0LWJsdWUtNDAwIHNpemUtM1wiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtbmV1dHJhbC0zMDBcIj57eyB0b29sQ2FsbC5uYW1lIH19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgPFBsYXkgY2xhc3M9XCJ0ZXh0LXllbGxvdy00MDAgc2l6ZS0yLjVcIiAvPlxuICAgICAgICAgIDxDaGVja0NpcmNsZSB2LWlmPVwiaGFzUmVzdWx0cyhpbmRleClcIiBjbGFzcz1cInRleHQtZ3JlZW4tNDAwIHNpemUtMi41XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBFeHBhbmRlZCBDb250ZW50IC0gT25seSBzaG93IHdoZW4gZXhwYW5kZWQgLS0+XG4gICAgICA8ZGl2IHYtaWY9XCJleHBhbmRlZENhbGxzLmhhcyhpbmRleClcIiBjbGFzcz1cInBiLTIgcHgtMVwiPlxuICAgICAgICA8IS0tIFVzZSBwcm9wZXIgVGFicyBjb21wb25lbnQgLS0+XG4gICAgICAgIDxUYWJzIGRlZmF1bHQtdmFsdWU9XCJhcmdzXCIgY2xhc3M9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICA8VGFic0xpc3QgY2xhc3M9XCJncmlkIHctZnVsbCBncmlkLWNvbHMtMiBoLThcIj5cbiAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImFyZ3NcIiBjbGFzcz1cInRleHQteHNcIj5cbiAgICAgICAgICAgICAgQXJnc1xuICAgICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cInJlc3VsdHNcIiBjbGFzcz1cInRleHQteHNcIiA6ZGlzYWJsZWQ9XCIhaGFzUmVzdWx0cyhpbmRleClcIj5cbiAgICAgICAgICAgICAgUmVzdWx0c1xuICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwiIWhhc1Jlc3VsdHMoaW5kZXgpXCIgY2xhc3M9XCJ0ZXh0LXhzIG1sLTEgb3BhY2l0eS01MFwiPihlbXB0eSk8L3NwYW4+XG4gICAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgIDwvVGFic0xpc3Q+XG5cbiAgICAgICAgICA8IS0tIEFyZ3VtZW50cyBUYWIgQ29udGVudCAtLT5cbiAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJhcmdzXCIgY2xhc3M9XCJtdC0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctbmV1dHJhbC05MDAvNDAgcm91bmRlZCBwLTIgYm9yZGVyIGJvcmRlci1uZXV0cmFsLTYwMC81MFwiPlxuICAgICAgICAgICAgICA8cHJlXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtbmV1dHJhbC0zMDAgd2hpdGVzcGFjZS1wcmUtd3JhcCBmb250LW1vbm8gbGVhZGluZy10aWdodFwiPnt7IGZvcm1hdEpzb24odG9vbENhbGwuYXJncykgfX08L3ByZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvVGFic0NvbnRlbnQ+XG5cbiAgICAgICAgICA8IS0tIFJlc3VsdHMgVGFiIENvbnRlbnQgLS0+XG4gICAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwicmVzdWx0c1wiIGNsYXNzPVwibXQtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLW5ldXRyYWwtOTAwLzQwIHJvdW5kZWQgcC0yIGJvcmRlciBib3JkZXItbmV1dHJhbC02MDAvNTBcIj5cbiAgICAgICAgICAgICAgPGRpdiB2LWlmPVwiaGFzUmVzdWx0cyhpbmRleClcIj5cbiAgICAgICAgICAgICAgICA8cHJlXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgdGV4dC1uZXV0cmFsLTMwMCB3aGl0ZXNwYWNlLXByZS13cmFwIGZvbnQtbW9ubyBsZWFkaW5nLXRpZ2h0XCI+e3sgZm9ybWF0SnNvbih0b29sUmVzdWx0cyFbaW5kZXhdKSB9fTwvcHJlPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiB2LWVsc2UgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtbmV1dHJhbC01MDAgaXRhbGljXCI+XG4gICAgICAgICAgICAgICAgTm8gcmVzdWx0cyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICA8L1RhYnM+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24vQnV0dG9uLnZ1ZSdcbmltcG9ydCB7XG4gIFRhYnMsXG4gIFRhYnNDb250ZW50LFxuICBUYWJzTGlzdCxcbiAgVGFic1RyaWdnZXIsXG59IGZyb20gJ0AvY29tcG9uZW50cy91aS90YWJzJ1xuaW1wb3J0IHtcbiAgQ2hldnJvbkRvd24sXG4gIENoZXZyb25SaWdodCxcbiAgQ29kZSxcbiAgUGxheSxcbiAgQ2hlY2tDaXJjbGVcbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuXG4vKipcbiAqIFByb3BzIGZvciB0aGUgVG9vbENhbGxEaXNwbGF5IGNvbXBvbmVudFxuICovXG5pbnRlcmZhY2UgUHJvcHMge1xuICB0b29sQ2FsbHM/OiB7IG5hbWU6IHN0cmluZzsgYXJnczogUmVjb3JkPHN0cmluZywgYW55PiB9W11cbiAgdG9vbFJlc3VsdHM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+W11cbn1cblxuY29uc3QgcHJvcHMgPSB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8UHJvcHM+KCksIHtcbiAgdG9vbENhbGxzOiAoKSA9PiBbXSxcbiAgdG9vbFJlc3VsdHM6ICgpID0+IFtdXG59KVxuXG4vLyBTdGF0ZSBmb3IgbWFuYWdpbmcgZXhwYW5kZWQgdG9vbCBjYWxsc1xuY29uc3QgZXhwYW5kZWRDYWxscyA9IHJlZjxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKVxuXG4vKipcbiAqIFRvZ2dsZSBleHBhbnNpb24gb2YgYSB0b29sIGNhbGxcbiAqL1xuY29uc3QgdG9nZ2xlRXhwYW5zaW9uID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgaWYgKGV4cGFuZGVkQ2FsbHMudmFsdWUuaGFzKGluZGV4KSkge1xuICAgIGV4cGFuZGVkQ2FsbHMudmFsdWUuZGVsZXRlKGluZGV4KVxuICB9IGVsc2Uge1xuICAgIGV4cGFuZGVkQ2FsbHMudmFsdWUuYWRkKGluZGV4KVxuICB9XG59XG5cbi8qKlxuICogRm9ybWF0IEpTT04gZm9yIGRpc3BsYXlcbiAqL1xuY29uc3QgZm9ybWF0SnNvbiA9IChvYmo6IGFueSk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIG51bGwsIDIpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdG9vbCBjYWxsIGhhcyByZXN1bHRzXG4gKi9cbmNvbnN0IGhhc1Jlc3VsdHMgPSAoaW5kZXg6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gcHJvcHMudG9vbFJlc3VsdHMgJiYgcHJvcHMudG9vbFJlc3VsdHNbaW5kZXhdICE9PSB1bmRlZmluZWRcbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgdi1pZj1cInRvb2xDYWxscyAmJiB0b29sQ2FsbHMubGVuZ3RoID4gMFwiIGNsYXNzPVwic3BhY2UteS0wXCI+XG4gICAgPGRpdiB2LWZvcj1cIih0b29sQ2FsbCwgaW5kZXgpIGluIHRvb2xDYWxsc1wiIDprZXk9XCJpbmRleFwiIGNsYXNzPVwiYm9yZGVyLXQgYm9yZGVyLW5ldXRyYWwtNjAwIGZpcnN0OmJvcmRlci10LTBcIj5cblxuICAgICAgPCEtLSBUb29sIENhbGwgSGVhZGVyIC0gTW9yZSBjb21wYWN0IC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBweS0yIHB4LTFcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaC01IHctNSBwLTBcIlxuICAgICAgICAgICAgQGNsaWNrPVwidG9nZ2xlRXhwYW5zaW9uKGluZGV4KVwiPlxuICAgICAgICAgICAgPENoZXZyb25SaWdodCB2LWlmPVwiIWV4cGFuZGVkQ2FsbHMuaGFzKGluZGV4KVwiIGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgICAgICAgIDxDaGV2cm9uRG93biB2LWVsc2UgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPENvZGUgY2xhc3M9XCJ0ZXh0LWJsdWUtNDAwIHNpemUtM1wiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtbmV1dHJhbC0zMDBcIj57eyB0b29sQ2FsbC5uYW1lIH19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgPFBsYXkgY2xhc3M9XCJ0ZXh0LXllbGxvdy00MDAgc2l6ZS0yLjVcIiAvPlxuICAgICAgICAgIDxDaGVja0NpcmNsZSB2LWlmPVwiaGFzUmVzdWx0cyhpbmRleClcIiBjbGFzcz1cInRleHQtZ3JlZW4tNDAwIHNpemUtMi41XCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBFeHBhbmRlZCBDb250ZW50IC0gT25seSBzaG93IHdoZW4gZXhwYW5kZWQgLS0+XG4gICAgICA8ZGl2IHYtaWY9XCJleHBhbmRlZENhbGxzLmhhcyhpbmRleClcIiBjbGFzcz1cInBiLTIgcHgtMVwiPlxuICAgICAgICA8IS0tIFVzZSBwcm9wZXIgVGFicyBjb21wb25lbnQgLS0+XG4gICAgICAgIDxUYWJzIGRlZmF1bHQtdmFsdWU9XCJhcmdzXCIgY2xhc3M9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICA8VGFic0xpc3QgY2xhc3M9XCJncmlkIHctZnVsbCBncmlkLWNvbHMtMiBoLThcIj5cbiAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cImFyZ3NcIiBjbGFzcz1cInRleHQteHNcIj5cbiAgICAgICAgICAgICAgQXJnc1xuICAgICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cInJlc3VsdHNcIiBjbGFzcz1cInRleHQteHNcIiA6ZGlzYWJsZWQ9XCIhaGFzUmVzdWx0cyhpbmRleClcIj5cbiAgICAgICAgICAgICAgUmVzdWx0c1xuICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwiIWhhc1Jlc3VsdHMoaW5kZXgpXCIgY2xhc3M9XCJ0ZXh0LXhzIG1sLTEgb3BhY2l0eS01MFwiPihlbXB0eSk8L3NwYW4+XG4gICAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgIDwvVGFic0xpc3Q+XG5cbiAgICAgICAgICA8IS0tIEFyZ3VtZW50cyBUYWIgQ29udGVudCAtLT5cbiAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJhcmdzXCIgY2xhc3M9XCJtdC0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmctbmV1dHJhbC05MDAvNDAgcm91bmRlZCBwLTIgYm9yZGVyIGJvcmRlci1uZXV0cmFsLTYwMC81MFwiPlxuICAgICAgICAgICAgICA8cHJlXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtbmV1dHJhbC0zMDAgd2hpdGVzcGFjZS1wcmUtd3JhcCBmb250LW1vbm8gbGVhZGluZy10aWdodFwiPnt7IGZvcm1hdEpzb24odG9vbENhbGwuYXJncykgfX08L3ByZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvVGFic0NvbnRlbnQ+XG5cbiAgICAgICAgICA8IS0tIFJlc3VsdHMgVGFiIENvbnRlbnQgLS0+XG4gICAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwicmVzdWx0c1wiIGNsYXNzPVwibXQtMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJnLW5ldXRyYWwtOTAwLzQwIHJvdW5kZWQgcC0yIGJvcmRlciBib3JkZXItbmV1dHJhbC02MDAvNTBcIj5cbiAgICAgICAgICAgICAgPGRpdiB2LWlmPVwiaGFzUmVzdWx0cyhpbmRleClcIj5cbiAgICAgICAgICAgICAgICA8cHJlXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgdGV4dC1uZXV0cmFsLTMwMCB3aGl0ZXNwYWNlLXByZS13cmFwIGZvbnQtbW9ubyBsZWFkaW5nLXRpZ2h0XCI+e3sgZm9ybWF0SnNvbih0b29sUmVzdWx0cyFbaW5kZXhdKSB9fTwvcHJlPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiB2LWVsc2UgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtbmV1dHJhbC01MDAgaXRhbGljXCI+XG4gICAgICAgICAgICAgICAgTm8gcmVzdWx0cyBhdmFpbGFibGVcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1RhYnNDb250ZW50PlxuICAgICAgICA8L1RhYnM+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPiIsIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5pbXBvcnQgeyByZWYsIGluamVjdCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbi9CdXR0b24udnVlJ1xuaW1wb3J0IENvbW1hbmRJbnB1dEZvb3RlciBmcm9tICdAL2NvbXBvbmVudHMvQ29tbWFuZElucHV0Rm9vdGVyLnZ1ZSdcbmltcG9ydCBUb29sQ2FsbERpc3BsYXkgZnJvbSAnQC9jb21wb25lbnRzL1Rvb2xDYWxsRGlzcGxheS52dWUnXG5pbXBvcnQgdHlwZSBVc2VBaVBsdWdpbiBmcm9tICdAL21haW4nXG5pbXBvcnQgdHlwZSB7IFRocmVhZE1lc3NhZ2UsIFRocmVhZCB9IGZyb20gJ0AvY29tcG9zYWJsZXMvdXNlVGhyZWFkcydcbmltcG9ydCB7XG4gIE1lc3NhZ2VTcXVhcmUsXG4gIFNlbmQsXG4gIEJvdCxcbiAgVXNlcixcbiAgQ29weSxcbiAgUmVmcmVzaEN3LFxuICBUcmFzaDJcbn0gZnJvbSAnbHVjaWRlLXZ1ZS1uZXh0J1xuXG5jb25zdCBwbHVnaW4gPSBpbmplY3Q8VXNlQWlQbHVnaW4+KFwidXNlQWlQbHVnaW5cIikhXG5cbi8vIFByb3BzIHJlY2VpdmVkIGZyb20gcGFyZW50IGNvbXBvbmVudFxuaW50ZXJmYWNlIFByb3BzIHtcbiAgYWN0aXZlVGhyZWFkPzogVGhyZWFkIHwgbnVsbFxuICBhY3RpdmVNZXNzYWdlcz86IFRocmVhZE1lc3NhZ2VbXVxuICBpc0dlbmVyYXRpbmc/OiBib29sZWFuXG4gIGZvcm1hdFRpbWU/OiAoZGF0ZTogRGF0ZSkgPT4gc3RyaW5nXG59XG5cbmNvbnN0IHByb3BzID0gd2l0aERlZmF1bHRzKGRlZmluZVByb3BzPFByb3BzPigpLCB7XG4gIGFjdGl2ZVRocmVhZDogbnVsbCxcbiAgYWN0aXZlTWVzc2FnZXM6ICgpID0+IFtdLFxuICBpc0dlbmVyYXRpbmc6IGZhbHNlLFxuICBmb3JtYXRUaW1lOiAoZGF0ZTogRGF0ZSkgPT4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KVxufSlcblxuLy8gRXZlbnRzIGVtaXR0ZWQgdG8gcGFyZW50IGNvbXBvbmVudFxuaW50ZXJmYWNlIEVtaXRzIHtcbiAgLyoqIEVtaXR0ZWQgd2hlbiB1c2VyIHN1Ym1pdHMgYSBjb21tYW5kICovXG4gIChlOiAnY29tbWFuZC1zdWJtaXQnLCBjb21tYW5kOiBzdHJpbmcpOiB2b2lkXG4gIC8qKiBFbWl0dGVkIHdoZW4gdXNlciB3YW50cyB0byBjb3B5IGEgbWVzc2FnZSAqL1xuICAoZTogJ2NvcHktbWVzc2FnZScsIGNvbnRlbnQ6IHN0cmluZyk6IHZvaWRcbiAgLyoqIEVtaXR0ZWQgd2hlbiB1c2VyIHdhbnRzIHRvIHJlZ2VuZXJhdGUgcmVzcG9uc2UgKi9cbiAgKGU6ICdyZWdlbmVyYXRlLXJlc3BvbnNlJyk6IHZvaWRcbiAgLyoqIEVtaXR0ZWQgd2hlbiB1c2VyIHdhbnRzIHRvIGNsZWFyIGNvbnZlcnNhdGlvbiAqL1xuICAoZTogJ2NsZWFyLWNvbnZlcnNhdGlvbicpOiB2b2lkXG59XG5cbmNvbnN0IGVtaXQgPSBkZWZpbmVFbWl0czxFbWl0cz4oKVxuXG4vKipcbiAqIEhhbmRsZSBjb21tYW5kIHN1Ym1pc3Npb24gZnJvbSBDb21tYW5kSW5wdXRGb290ZXIgY29tcG9uZW50XG4gKi9cbmNvbnN0IGhhbmRsZUNvbW1hbmRTdWJtaXQgPSBhc3luYyAoY29tbWFuZDogc3RyaW5nKSA9PiB7XG4gIGVtaXQoJ2NvbW1hbmQtc3VibWl0JywgY29tbWFuZClcbn1cblxuLyoqXG4gKiBDb3B5IG1lc3NhZ2UgY29udGVudCB0byBjbGlwYm9hcmRcbiAqL1xuY29uc3QgY29weU1lc3NhZ2UgPSBhc3luYyAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gIGVtaXQoJ2NvcHktbWVzc2FnZScsIGNvbnRlbnQpXG59XG5cbi8qKlxuICogUmVnZW5lcmF0ZSB0aGUgbGFzdCBhc3Npc3RhbnQgcmVzcG9uc2VcbiAqL1xuY29uc3QgcmVnZW5lcmF0ZVJlc3BvbnNlID0gKCkgPT4ge1xuICBlbWl0KCdyZWdlbmVyYXRlLXJlc3BvbnNlJylcbn1cblxuLyoqXG4gKiBDbGVhciBjb252ZXJzYXRpb25cbiAqL1xuY29uc3QgY2xlYXJDb252ZXJzYXRpb24gPSAoKSA9PiB7XG4gIGVtaXQoJ2NsZWFyLWNvbnZlcnNhdGlvbicpXG59XG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiZmxleCBmbGV4LWNvbCBoLWZ1bGxcIj5cbiAgICA8IS0tIEhlYWRlciAtIE1hZGUgbW9yZSBjb21wYWN0IC0tPlxuICAgIDxkaXYgY2xhc3M9XCJweC0zIHB5LTIgYm9yZGVyLWIgYm9yZGVyLW5ldXRyYWwtNzAwXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEuNVwiPlxuICAgICAgICAgIDxNZXNzYWdlU3F1YXJlIGNsYXNzPVwidGV4dC1uZXV0cmFsLTMwMCBzaXplLTRcIiAvPlxuICAgICAgICAgIDxoMiBjbGFzcz1cInRleHQtc20gdGV4dC1uZXV0cmFsLTIwMCBmb250LW1lZGl1bSB0cnVuY2F0ZVwiPnt7IGFjdGl2ZVRocmVhZD8udGl0bGUgfHwgJ05ldyBDb252ZXJzYXRpb24nIH19PC9oMj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaC02IHctNiBwLTBcIlxuICAgICAgICAgIEBjbGljaz1cImNsZWFyQ29udmVyc2F0aW9uXCIgdGl0bGU9XCJDbGVhciBjb252ZXJzYXRpb25cIj5cbiAgICAgICAgICA8VHJhc2gyIGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDwhLS0gTWVzc2FnZXMgLS0+XG4gICAgPG1haW4gY2xhc3M9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHB5LTQgc3BhY2UteS00XCI+XG4gICAgICA8ZGl2IHYtZm9yPVwibWVzc2FnZSBpbiBhY3RpdmVNZXNzYWdlc1wiIDprZXk9XCJtZXNzYWdlLmlkXCIgY2xhc3M9XCJmbGV4IHNwYWNlLXgtMiBweC0yXCI+XG4gICAgICAgIDwhLS0gTWVzc2FnZSBDb250ZW50IC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICA8IS0tIEhlYWRlciAtIG9ubHkgc2hvdyBpZiBtZXNzYWdlIGhhcyBjb250ZW50IG9yIG5vIHRvb2wgY2FsbHMgLS0+XG4gICAgICAgICAgPGRpdiB2LWlmPVwibWVzc2FnZS5jb250ZW50IHx8ICFtZXNzYWdlLnRvb2xDYWxscyB8fCBtZXNzYWdlLnRvb2xDYWxscy5sZW5ndGggPT09IDBcIlxuICAgICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1uZXV0cmFsLTIwMFwiPlxuICAgICAgICAgICAgICAgIHt7IG1lc3NhZ2Uucm9sZSA9PT0gJ3VzZXInID8gJ1lvdScgOiAnQXNzaXN0YW50JyB9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC14cyB0ZXh0LW5ldXRyYWwtNTAwXCI+XG4gICAgICAgICAgICAgICAge3sgZm9ybWF0VGltZShtZXNzYWdlLnRpbWVzdGFtcCkgfX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8IS0tIEdyb3VwZWQgaW5kaWNhdG9yIC0tPlxuICAgICAgICAgICAgICA8c3BhbiB2LWlmPVwibWVzc2FnZS5tZXRhZGF0YT8uaXNHcm91cGVkXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQteHMgdGV4dC1ibHVlLTQwMCBiZy1ibHVlLTkwMC8zMCBweC0xLjUgcHktMC41IHJvdW5kZWQtZnVsbCBib3JkZXIgYm9yZGVyLWJsdWUtNzAwLzUwXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIk11bHRpcGxlIG1lc3NhZ2VzIGdyb3VwZWQgdG9nZXRoZXJcIj5cbiAgICAgICAgICAgICAgICBncm91cGVkXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiA6Y2xhc3M9XCJbXG4gICAgICAgICAgICAncHJvc2UgcHJvc2Utc20gbWF4LXctbm9uZSByb3VuZGVkLWxnIHAtMyBib3JkZXInLFxuICAgICAgICAgICAgLy8gU3R5bGUgZ3JvdXBlZCBtZXNzYWdlcyBzbGlnaHRseSBkaWZmZXJlbnRseVxuICAgICAgICAgICAgbWVzc2FnZS5tZXRhZGF0YT8uaXNHcm91cGVkID8gJ2JvcmRlci1ibHVlLTcwMC8zMCBiZy1ibHVlLTk1MC8xMCcgOiAnJyxcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0b3AgbWFyZ2luIGlmIG9ubHkgc2hvd2luZyB0b29sIGNhbGxzIChubyBoZWFkZXIpXG4gICAgICAgICAgICAoIW1lc3NhZ2UuY29udGVudCAmJiBtZXNzYWdlLnRvb2xDYWxscyAmJiBtZXNzYWdlLnRvb2xDYWxscy5sZW5ndGggPiAwKSA/ICdtdC0wJyA6ICcnXG4gICAgICAgICAgXVwiPlxuXG4gICAgICAgICAgICA8IS0tIE1lc3NhZ2UgQ29udGVudCAtLT5cbiAgICAgICAgICAgIDxkaXYgdi1pZj1cIm1lc3NhZ2UuY29udGVudFwiIGNsYXNzPVwid2hpdGVzcGFjZS1wcmUtd3JhcCBtYi0zXCI+XG4gICAgICAgICAgICAgIHt7IG1lc3NhZ2UuY29udGVudCB9fVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDwhLS0gVG9vbCBDYWxscyBEaXNwbGF5IC0tPlxuICAgICAgICAgICAgPFRvb2xDYWxsRGlzcGxheSB2LWlmPVwibWVzc2FnZS50b29sQ2FsbHMgJiYgbWVzc2FnZS50b29sQ2FsbHMubGVuZ3RoID4gMFwiIDp0b29sLWNhbGxzPVwibWVzc2FnZS50b29sQ2FsbHNcIlxuICAgICAgICAgICAgICA6dG9vbC1yZXN1bHRzPVwibWVzc2FnZS50b29sUmVzdWx0c1wiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9tYWluPlxuXG4gICAgPENvbW1hbmRJbnB1dEZvb3RlciBAY29tbWFuZC1zdWJtaXQ9XCJoYW5kbGVDb21tYW5kU3VibWl0XCIgOmRpc2FibGVkPVwiaXNHZW5lcmF0aW5nXCJcbiAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSB5b3VyIG1lc3NhZ2UuLi5cIiBzdGF0dXMtdGV4dD1cIkVudGVyIHRvIHNlbmRcIiAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+IiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiwgaW5qZWN0IH0gZnJvbSAndnVlJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uL0J1dHRvbi52dWUnXG5pbXBvcnQgQ29tbWFuZElucHV0Rm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9Db21tYW5kSW5wdXRGb290ZXIudnVlJ1xuaW1wb3J0IFRvb2xDYWxsRGlzcGxheSBmcm9tICdAL2NvbXBvbmVudHMvVG9vbENhbGxEaXNwbGF5LnZ1ZSdcbmltcG9ydCB0eXBlIFVzZUFpUGx1Z2luIGZyb20gJ0AvbWFpbidcbmltcG9ydCB0eXBlIHsgVGhyZWFkTWVzc2FnZSwgVGhyZWFkIH0gZnJvbSAnQC9jb21wb3NhYmxlcy91c2VUaHJlYWRzJ1xuaW1wb3J0IHtcbiAgTWVzc2FnZVNxdWFyZSxcbiAgU2VuZCxcbiAgQm90LFxuICBVc2VyLFxuICBDb3B5LFxuICBSZWZyZXNoQ3csXG4gIFRyYXNoMlxufSBmcm9tICdsdWNpZGUtdnVlLW5leHQnXG5cbmNvbnN0IHBsdWdpbiA9IGluamVjdDxVc2VBaVBsdWdpbj4oXCJ1c2VBaVBsdWdpblwiKSFcblxuLy8gUHJvcHMgcmVjZWl2ZWQgZnJvbSBwYXJlbnQgY29tcG9uZW50XG5pbnRlcmZhY2UgUHJvcHMge1xuICBhY3RpdmVUaHJlYWQ/OiBUaHJlYWQgfCBudWxsXG4gIGFjdGl2ZU1lc3NhZ2VzPzogVGhyZWFkTWVzc2FnZVtdXG4gIGlzR2VuZXJhdGluZz86IGJvb2xlYW5cbiAgZm9ybWF0VGltZT86IChkYXRlOiBEYXRlKSA9PiBzdHJpbmdcbn1cblxuY29uc3QgcHJvcHMgPSB3aXRoRGVmYXVsdHMoZGVmaW5lUHJvcHM8UHJvcHM+KCksIHtcbiAgYWN0aXZlVGhyZWFkOiBudWxsLFxuICBhY3RpdmVNZXNzYWdlczogKCkgPT4gW10sXG4gIGlzR2VuZXJhdGluZzogZmFsc2UsXG4gIGZvcm1hdFRpbWU6IChkYXRlOiBEYXRlKSA9PiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pXG59KVxuXG4vLyBFdmVudHMgZW1pdHRlZCB0byBwYXJlbnQgY29tcG9uZW50XG5pbnRlcmZhY2UgRW1pdHMge1xuICAvKiogRW1pdHRlZCB3aGVuIHVzZXIgc3VibWl0cyBhIGNvbW1hbmQgKi9cbiAgKGU6ICdjb21tYW5kLXN1Ym1pdCcsIGNvbW1hbmQ6IHN0cmluZyk6IHZvaWRcbiAgLyoqIEVtaXR0ZWQgd2hlbiB1c2VyIHdhbnRzIHRvIGNvcHkgYSBtZXNzYWdlICovXG4gIChlOiAnY29weS1tZXNzYWdlJywgY29udGVudDogc3RyaW5nKTogdm9pZFxuICAvKiogRW1pdHRlZCB3aGVuIHVzZXIgd2FudHMgdG8gcmVnZW5lcmF0ZSByZXNwb25zZSAqL1xuICAoZTogJ3JlZ2VuZXJhdGUtcmVzcG9uc2UnKTogdm9pZFxuICAvKiogRW1pdHRlZCB3aGVuIHVzZXIgd2FudHMgdG8gY2xlYXIgY29udmVyc2F0aW9uICovXG4gIChlOiAnY2xlYXItY29udmVyc2F0aW9uJyk6IHZvaWRcbn1cblxuY29uc3QgZW1pdCA9IGRlZmluZUVtaXRzPEVtaXRzPigpXG5cbi8qKlxuICogSGFuZGxlIGNvbW1hbmQgc3VibWlzc2lvbiBmcm9tIENvbW1hbmRJbnB1dEZvb3RlciBjb21wb25lbnRcbiAqL1xuY29uc3QgaGFuZGxlQ29tbWFuZFN1Ym1pdCA9IGFzeW5jIChjb21tYW5kOiBzdHJpbmcpID0+IHtcbiAgZW1pdCgnY29tbWFuZC1zdWJtaXQnLCBjb21tYW5kKVxufVxuXG4vKipcbiAqIENvcHkgbWVzc2FnZSBjb250ZW50IHRvIGNsaXBib2FyZFxuICovXG5jb25zdCBjb3B5TWVzc2FnZSA9IGFzeW5jIChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgZW1pdCgnY29weS1tZXNzYWdlJywgY29udGVudClcbn1cblxuLyoqXG4gKiBSZWdlbmVyYXRlIHRoZSBsYXN0IGFzc2lzdGFudCByZXNwb25zZVxuICovXG5jb25zdCByZWdlbmVyYXRlUmVzcG9uc2UgPSAoKSA9PiB7XG4gIGVtaXQoJ3JlZ2VuZXJhdGUtcmVzcG9uc2UnKVxufVxuXG4vKipcbiAqIENsZWFyIGNvbnZlcnNhdGlvblxuICovXG5jb25zdCBjbGVhckNvbnZlcnNhdGlvbiA9ICgpID0+IHtcbiAgZW1pdCgnY2xlYXItY29udmVyc2F0aW9uJylcbn1cbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJmbGV4IGZsZXgtY29sIGgtZnVsbFwiPlxuICAgIDwhLS0gSGVhZGVyIC0gTWFkZSBtb3JlIGNvbXBhY3QgLS0+XG4gICAgPGRpdiBjbGFzcz1cInB4LTMgcHktMiBib3JkZXItYiBib3JkZXItbmV1dHJhbC03MDBcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMS41XCI+XG4gICAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtMzAwIHNpemUtNFwiIC8+XG4gICAgICAgICAgPGgyIGNsYXNzPVwidGV4dC1zbSB0ZXh0LW5ldXRyYWwtMjAwIGZvbnQtbWVkaXVtIHRydW5jYXRlXCI+e3sgYWN0aXZlVGhyZWFkPy50aXRsZSB8fCAnTmV3IENvbnZlcnNhdGlvbicgfX08L2gyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzcz1cInRleHQtbmV1dHJhbC00MDAgaG92ZXI6dGV4dC1uZXV0cmFsLTIwMCBoLTYgdy02IHAtMFwiXG4gICAgICAgICAgQGNsaWNrPVwiY2xlYXJDb252ZXJzYXRpb25cIiB0aXRsZT1cIkNsZWFyIGNvbnZlcnNhdGlvblwiPlxuICAgICAgICAgIDxUcmFzaDIgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBNZXNzYWdlcyAtLT5cbiAgICA8bWFpbiBjbGFzcz1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcHktNCBzcGFjZS15LTRcIj5cbiAgICAgIDxkaXYgdi1mb3I9XCJtZXNzYWdlIGluIGFjdGl2ZU1lc3NhZ2VzXCIgOmtleT1cIm1lc3NhZ2UuaWRcIiBjbGFzcz1cImZsZXggc3BhY2UteC0yIHB4LTJcIj5cbiAgICAgICAgPCEtLSBNZXNzYWdlIENvbnRlbnQgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgIDwhLS0gSGVhZGVyIC0gb25seSBzaG93IGlmIG1lc3NhZ2UgaGFzIGNvbnRlbnQgb3Igbm8gdG9vbCBjYWxscyAtLT5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCJtZXNzYWdlLmNvbnRlbnQgfHwgIW1lc3NhZ2UudG9vbENhbGxzIHx8IG1lc3NhZ2UudG9vbENhbGxzLmxlbmd0aCA9PT0gMFwiXG4gICAgICAgICAgICBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LW5ldXRyYWwtMjAwXCI+XG4gICAgICAgICAgICAgICAge3sgbWVzc2FnZS5yb2xlID09PSAndXNlcicgPyAnWW91JyA6ICdBc3Npc3RhbnQnIH19XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXhzIHRleHQtbmV1dHJhbC01MDBcIj5cbiAgICAgICAgICAgICAgICB7eyBmb3JtYXRUaW1lKG1lc3NhZ2UudGltZXN0YW1wKSB9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwhLS0gR3JvdXBlZCBpbmRpY2F0b3IgLS0+XG4gICAgICAgICAgICAgIDxzcGFuIHYtaWY9XCJtZXNzYWdlLm1ldGFkYXRhPy5pc0dyb3VwZWRcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC14cyB0ZXh0LWJsdWUtNDAwIGJnLWJsdWUtOTAwLzMwIHB4LTEuNSBweS0wLjUgcm91bmRlZC1mdWxsIGJvcmRlciBib3JkZXItYmx1ZS03MDAvNTBcIlxuICAgICAgICAgICAgICAgIHRpdGxlPVwiTXVsdGlwbGUgbWVzc2FnZXMgZ3JvdXBlZCB0b2dldGhlclwiPlxuICAgICAgICAgICAgICAgIGdyb3VwZWRcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IDpjbGFzcz1cIltcbiAgICAgICAgICAgICdwcm9zZSBwcm9zZS1zbSBtYXgtdy1ub25lIHJvdW5kZWQtbGcgcC0zIGJvcmRlcicsXG4gICAgICAgICAgICAvLyBTdHlsZSBncm91cGVkIG1lc3NhZ2VzIHNsaWdodGx5IGRpZmZlcmVudGx5XG4gICAgICAgICAgICBtZXNzYWdlLm1ldGFkYXRhPy5pc0dyb3VwZWQgPyAnYm9yZGVyLWJsdWUtNzAwLzMwIGJnLWJsdWUtOTUwLzEwJyA6ICcnLFxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRvcCBtYXJnaW4gaWYgb25seSBzaG93aW5nIHRvb2wgY2FsbHMgKG5vIGhlYWRlcilcbiAgICAgICAgICAgICghbWVzc2FnZS5jb250ZW50ICYmIG1lc3NhZ2UudG9vbENhbGxzICYmIG1lc3NhZ2UudG9vbENhbGxzLmxlbmd0aCA+IDApID8gJ210LTAnIDogJydcbiAgICAgICAgICBdXCI+XG5cbiAgICAgICAgICAgIDwhLS0gTWVzc2FnZSBDb250ZW50IC0tPlxuICAgICAgICAgICAgPGRpdiB2LWlmPVwibWVzc2FnZS5jb250ZW50XCIgY2xhc3M9XCJ3aGl0ZXNwYWNlLXByZS13cmFwIG1iLTNcIj5cbiAgICAgICAgICAgICAge3sgbWVzc2FnZS5jb250ZW50IH19XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPCEtLSBUb29sIENhbGxzIERpc3BsYXkgLS0+XG4gICAgICAgICAgICA8VG9vbENhbGxEaXNwbGF5IHYtaWY9XCJtZXNzYWdlLnRvb2xDYWxscyAmJiBtZXNzYWdlLnRvb2xDYWxscy5sZW5ndGggPiAwXCIgOnRvb2wtY2FsbHM9XCJtZXNzYWdlLnRvb2xDYWxsc1wiXG4gICAgICAgICAgICAgIDp0b29sLXJlc3VsdHM9XCJtZXNzYWdlLnRvb2xSZXN1bHRzXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L21haW4+XG5cbiAgICA8Q29tbWFuZElucHV0Rm9vdGVyIEBjb21tYW5kLXN1Ym1pdD1cImhhbmRsZUNvbW1hbmRTdWJtaXRcIiA6ZGlzYWJsZWQ9XCJpc0dlbmVyYXRpbmdcIlxuICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHlvdXIgbWVzc2FnZS4uLlwiIHN0YXR1cy10ZXh0PVwiRW50ZXIgdG8gc2VuZFwiIC8+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT4iLCJpbXBvcnQgeyBvbk1vdW50ZWQsIG9uQmVmb3JlVW5tb3VudCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB0eXBlIHsgRXZlbnRSZWYgfSBmcm9tICdvYnNpZGlhbidcbmltcG9ydCB0eXBlIFVzZUFpUGx1Z2luIGZyb20gJ0AvbWFpbidcbmltcG9ydCB0eXBlIHsgUGx1Z2luRXZlbnRzIH0gZnJvbSAnQC9ldmVudHMnXG5cbi8vIEV4dHJhY3QgZXZlbnQgcGFyYW1ldGVycyBmcm9tIFBsdWdpbkV2ZW50cyBvbiBtZXRob2Qgb3ZlcmxvYWRzXG50eXBlIEV4dHJhY3RFdmVudEhhbmRsZXI8VD4gPSBUIGV4dGVuZHMgKGV2ZW50OiBpbmZlciBFLCBjYWxsYmFjazogaW5mZXIgSCkgPT4gRXZlbnRSZWYgPyBIIDogbmV2ZXJcblxuLy8gQ3JlYXRlIGEgdHlwZSB0aGF0IGV4dHJhY3RzIGFsbCBldmVudCB0eXBlcyBmcm9tIFBsdWdpbkV2ZW50c1xudHlwZSBQbHVnaW5FdmVudE1hcCA9IHtcbiAgW0sgaW4gUGFyYW1ldGVyczxQbHVnaW5FdmVudHNbJ29uJ10+WzBdXTogRXh0cmFjdEV2ZW50SGFuZGxlcjxcbiAgICBQbHVnaW5FdmVudHNbJ29uJ10gZXh0ZW5kcyAoZXZlbnQ6IEssIGNhbGxiYWNrOiBpbmZlciBIKSA9PiBFdmVudFJlZiA/IChldmVudDogSywgY2FsbGJhY2s6IEgpID0+IEV2ZW50UmVmIDogbmV2ZXJcbiAgPlxufVxuXG4vKipcbiAqIFR5cGUtc2FmZSBjb21wb3NhYmxlIGZvciBoYW5kbGluZyBwbHVnaW4gZXZlbnRzIHdpdGggYXV0b21hdGljIGNsZWFudXBcbiAqIFxuICogVGhpcyBjb21wb3NhYmxlIGF1dG9tYXRpY2FsbHkgaGFuZGxlcyBldmVudCBsaXN0ZW5lciBzZXR1cCBhbmQgY2xlYW51cCB1c2luZyBWdWUgbGlmZWN5Y2xlIGhvb2tzLlxuICogSXQgZWxpbWluYXRlcyB0aGUgbmVlZCB0byBtYW51YWxseSBtYW5hZ2UgZXZlbnQgcmVmZXJlbmNlcyBhbmQgY2xlYW51cCBpbiBvbkJlZm9yZVVubW91bnQuXG4gKiBcbiAqIEBwYXJhbSBwbHVnaW4gLSBUaGUgVXNlQUkgcGx1Z2luIGluc3RhbmNlXG4gKiBAcGFyYW0gZXZlbnQgLSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gdG8gKGZ1bGx5IHR5cGUtc2FmZSlcbiAqIEBwYXJhbSBoYW5kbGVyIC0gVGhlIGV2ZW50IGhhbmRsZXIgY2FsbGJhY2sgKHR5cGUtc2FmZSBiYXNlZCBvbiBldmVudCB0eXBlKVxuICogQHJldHVybnMgT2JqZWN0IHdpdGggbWV0aG9kcyB0byBtYW51YWxseSBjb250cm9sIHRoZSBldmVudCBsaXN0ZW5lciBpZiBuZWVkZWRcbiAqIFxuICogQGV4YW1wbGVcbiAqIEJhc2ljIHVzYWdlIC0gYXV0b21hdGljIGNsZWFudXA6XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBpbXBvcnQgeyB1c2VQbHVnaW5FdmVudCB9IGZyb20gJ0AvY29tcG9zYWJsZXMvdXNlUGx1Z2luRXZlbnQnXG4gKiBcbiAqIC8vIEluIHlvdXIgVnVlIGNvbXBvbmVudCA8c2NyaXB0IHNldHVwPlxuICogY29uc3QgcGx1Z2luID0gaW5qZWN0PFVzZUFpUGx1Z2luPihcInVzZUFpUGx1Z2luXCIpIVxuICogXG4gKiAvLyBMaXN0ZW4gdG8gc3RlcCBldmVudHMgLSBmdWxseSB0eXBlLXNhZmVcbiAqIHVzZVBsdWdpbkV2ZW50KHBsdWdpbiwgJ2FkZC1zdGVwJywgKHRocmVhZElkLCBzdGVwKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdOZXcgc3RlcDonLCB0aHJlYWRJZCwgc3RlcC50ZXh0LCBzdGVwLnN0YXR1cylcbiAqIH0pXG4gKiBcbiAqIC8vIExpc3RlbiB0byBjYW52YXMgZXZlbnRzXG4gKiB1c2VQbHVnaW5FdmVudChwbHVnaW4sICdjYW52YXM6Z2VuZXJhdGUnLCAodGhyZWFkSWQsIHByb21wdCkgPT4ge1xuICogICBjb25zb2xlLmxvZygnQ2FudmFzIGdlbmVyYXRlOicsIHRocmVhZElkLCBwcm9tcHQpXG4gKiB9KVxuICogXG4gKiAvLyBMaXN0ZW4gdG8gc29ja2V0IGV2ZW50c1xuICogdXNlUGx1Z2luRXZlbnQocGx1Z2luLCAnc29ja2V0OmNvbm5lY3RlZCcsIChhZGRyZXNzKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdTb2NrZXQgY29ubmVjdGVkIHRvOicsIGFkZHJlc3MpXG4gKiB9KVxuICogYGBgXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBNYW51YWwgY29udHJvbDpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IHsgc3RhcnRMaXN0ZW5pbmcsIHN0b3BMaXN0ZW5pbmcsIGlzTGlzdGVuaW5nIH0gPSB1c2VQbHVnaW5FdmVudChcbiAqICAgcGx1Z2luLCBcbiAqICAgJ2FkZC1zdGVwJywgXG4gKiAgIGhhbmRsZVN0ZXBFdmVudFxuICogKVxuICogXG4gKiAvLyBMYXRlciBpbiB5b3VyIGNvZGUuLi5cbiAqIGlmIChzb21lQ29uZGl0aW9uKSB7XG4gKiAgIHN0b3BMaXN0ZW5pbmcoKSAgLy8gVGVtcG9yYXJpbHkgc3RvcFxuICogfVxuICogXG4gKiAvLyBSZXN1bWUgbGF0ZXJcbiAqIHN0YXJ0TGlzdGVuaW5nKClcbiAqIFxuICogLy8gQ2hlY2sgc3RhdHVzXG4gKiBpZiAoaXNMaXN0ZW5pbmcoKSkge1xuICogICBjb25zb2xlLmxvZygnQ3VycmVudGx5IGxpc3RlbmluZyB0byBldmVudHMnKVxuICogfVxuICogYGBgXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBNdWx0aXBsZSBldmVudHM6XG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB1c2VQbHVnaW5FdmVudHMocGx1Z2luLCBbXG4gKiAgIHsgZXZlbnQ6ICdhZGQtc3RlcCcsIGhhbmRsZXI6IGhhbmRsZVN0ZXBFdmVudCB9LFxuICogICB7IGV2ZW50OiAnc29ja2V0OmNvbm5lY3RlZCcsIGhhbmRsZXI6IGhhbmRsZVNvY2tldENvbm5lY3QgfSxcbiAqICAgeyBldmVudDogJ2NhbnZhczpnZW5lcmF0ZScsIGhhbmRsZXI6IGhhbmRsZUNhbnZhc0dlbmVyYXRlIH1cbiAqIF0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBsdWdpbkV2ZW50PFQgZXh0ZW5kcyBrZXlvZiBQbHVnaW5FdmVudE1hcD4oXG4gIHBsdWdpbjogVXNlQWlQbHVnaW4sXG4gIGV2ZW50OiBULFxuICBoYW5kbGVyOiBQbHVnaW5FdmVudE1hcFtUXVxuKSB7XG4gIGxldCBldmVudFJlZjogRXZlbnRSZWYgfCBudWxsID0gbnVsbFxuXG4gIC8qKlxuICAgKiBTdGFydCBsaXN0ZW5pbmcgdG8gdGhlIGV2ZW50XG4gICAqL1xuICBjb25zdCBzdGFydExpc3RlbmluZyA9ICgpID0+IHtcbiAgICBpZiAoZXZlbnRSZWYpIHtcbiAgICAgIHN0b3BMaXN0ZW5pbmcoKVxuICAgIH1cbiAgICAvLyBVc2UgYW55IHRvIGJ5cGFzcyBUeXBlU2NyaXB0J3Mgc3RyaWN0IG92ZXJsb2FkIGNoZWNraW5nIHNpbmNlIHdlIGtub3cgdGhlIHR5cGVzIGFyZSBjb3JyZWN0XG4gICAgZXZlbnRSZWYgPSAocGx1Z2luLmV2ZW50cy5vbiBhcyBhbnkpKGV2ZW50LCBoYW5kbGVyKVxuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgbGlzdGVuaW5nIHRvIHRoZSBldmVudFxuICAgKi9cbiAgY29uc3Qgc3RvcExpc3RlbmluZyA9ICgpID0+IHtcbiAgICBpZiAoZXZlbnRSZWYpIHtcbiAgICAgIHBsdWdpbi5hcHAudmF1bHQub2ZmcmVmKGV2ZW50UmVmKVxuICAgICAgZXZlbnRSZWYgPSBudWxsXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RhcnQgdGhlIGV2ZW50IGxpc3RlbmVyXG4gICAqL1xuICBjb25zdCByZXN0YXJ0TGlzdGVuaW5nID0gKCkgPT4ge1xuICAgIHN0b3BMaXN0ZW5pbmcoKVxuICAgIHN0YXJ0TGlzdGVuaW5nKClcbiAgfVxuXG4gIC8vIEF1dG8gc2V0dXAgYW5kIGNsZWFudXBcbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBzdGFydExpc3RlbmluZygpXG4gIH0pXG5cbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzdG9wTGlzdGVuaW5nKClcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0TGlzdGVuaW5nLFxuICAgIHN0b3BMaXN0ZW5pbmcsXG4gICAgcmVzdGFydExpc3RlbmluZyxcbiAgICBpc0xpc3RlbmluZzogKCkgPT4gZXZlbnRSZWYgIT09IG51bGxcbiAgfVxufVxuXG4vKipcbiAqIE11bHRpcGxlIGV2ZW50cyB2ZXJzaW9uIC0gZm9yIGxpc3RlbmluZyB0byBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUGx1Z2luRXZlbnRzKFxuICBwbHVnaW46IFVzZUFpUGx1Z2luLFxuICBldmVudEhhbmRsZXJzOiBBcnJheTx7XG4gICAgZXZlbnQ6IGtleW9mIFBsdWdpbkV2ZW50TWFwXG4gICAgaGFuZGxlcjogYW55XG4gIH0+XG4pIHtcbiAgY29uc3QgZXZlbnRSZWZzOiBFdmVudFJlZltdID0gW11cblxuICBjb25zdCBzdGFydExpc3RlbmluZyA9ICgpID0+IHtcbiAgICBldmVudEhhbmRsZXJzLmZvckVhY2goKHsgZXZlbnQsIGhhbmRsZXIgfSkgPT4ge1xuICAgICAgY29uc3QgcmVmID0gKHBsdWdpbi5ldmVudHMub24gYXMgYW55KShldmVudCwgaGFuZGxlcilcbiAgICAgIGV2ZW50UmVmcy5wdXNoKHJlZilcbiAgICB9KVxuICB9XG5cbiAgY29uc3Qgc3RvcExpc3RlbmluZyA9ICgpID0+IHtcbiAgICBldmVudFJlZnMuZm9yRWFjaChyZWYgPT4ge1xuICAgICAgcGx1Z2luLmFwcC52YXVsdC5vZmZyZWYocmVmKVxuICAgIH0pXG4gICAgZXZlbnRSZWZzLmxlbmd0aCA9IDBcbiAgfVxuXG4gIGNvbnN0IHJlc3RhcnRMaXN0ZW5pbmcgPSAoKSA9PiB7XG4gICAgc3RvcExpc3RlbmluZygpXG4gICAgc3RhcnRMaXN0ZW5pbmcoKVxuICB9XG5cbiAgb25Nb3VudGVkKCgpID0+IHtcbiAgICBzdGFydExpc3RlbmluZygpXG4gIH0pXG5cbiAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICBzdG9wTGlzdGVuaW5nKClcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0TGlzdGVuaW5nLFxuICAgIHN0b3BMaXN0ZW5pbmcsXG4gICAgcmVzdGFydExpc3RlbmluZyxcbiAgICBpc0xpc3RlbmluZzogKCkgPT4gZXZlbnRSZWZzLmxlbmd0aCA+IDBcbiAgfVxufVxuIiwiPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiwgaW5qZWN0IH0gZnJvbSAndnVlJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvdWkvYnV0dG9uL0J1dHRvbi52dWUnXG5pbXBvcnQgdHlwZSBVc2VBaVBsdWdpbiBmcm9tICdAL21haW4nXG5pbXBvcnQgeyBvcGVuU2V0dGluZ3MsIG9wZW5TZXR0aW5nc1RhYiB9IGZyb20gJ0AvdXRpbHMvb2JzaWRpYW4taGVscGVycydcbmltcG9ydCBWaWV3SG9tZSBmcm9tICcuL3ZpZXdzL1ZpZXdIb21lLnZ1ZSdcbmltcG9ydCBWaWV3SGlzdG9yeSBmcm9tICcuL3ZpZXdzL1ZpZXdIaXN0b3J5LnZ1ZSdcbmltcG9ydCBWaWV3Q29udmVyc2F0aW9uIGZyb20gJy4vdmlld3MvVmlld0NvbnZlcnNhdGlvbi52dWUnXG5pbXBvcnQgeyB1c2VQbHVnaW5FdmVudCB9IGZyb20gJ0AvY29tcG9zYWJsZXMvdXNlUGx1Z2luRXZlbnQnXG5pbXBvcnQgeyB1c2VUaHJlYWRzLCB0eXBlIFRocmVhZE1lc3NhZ2UgfSBmcm9tICdAL2NvbXBvc2FibGVzL3VzZVRocmVhZHMnXG5pbXBvcnQge1xuICBSb3RhdGVDY3csXG4gIFNldHRpbmdzLFxuICBEb3dubG9hZCxcbiAgSGlzdG9yeSxcbiAgTWVzc2FnZVNxdWFyZSxcbiAgSG9tZVxufSBmcm9tICdsdWNpZGUtdnVlLW5leHQnXG5cbmNvbnN0IHBsdWdpbiA9IGluamVjdDxVc2VBaVBsdWdpbj4oXCJ1c2VBaVBsdWdpblwiKSFcblxuLy8gQ3VycmVudCB2aWV3IHN0YXRlXG5jb25zdCBjdXJyZW50Vmlld05hbWUgPSByZWY8XCJob21lXCIgfCBcImhpc3RvcnlcIiB8IFwiY29udmVyc2F0aW9uXCI+KFwiaG9tZVwiKVxuXG4vKipcbiAqIFN3aXRjaCB0byBhIGRpZmZlcmVudCB2aWV3XG4gKi9cbmNvbnN0IHN3aXRjaFZpZXcgPSAodmlld05hbWU6IFwiaG9tZVwiIHwgXCJoaXN0b3J5XCIgfCBcImNvbnZlcnNhdGlvblwiKSA9PiB7XG4gIGN1cnJlbnRWaWV3TmFtZS52YWx1ZSA9IHZpZXdOYW1lXG59XG5cbi8vIEdsb2JhbCB0aHJlYWQgbWFuYWdlbWVudCBmcm9tIGNvbXBvc2FibGVcbmNvbnN0IHtcbiAgYWN0aXZlVGhyZWFkLFxuICBhY3RpdmVNZXNzYWdlcyxcbiAgYWN0aXZlVGhyZWFkSWQsXG4gIGhhc0FjdGl2ZVRocmVhZCxcbiAgaXNHZW5lcmF0aW5nLFxuICBjdXJyZW50QXNzaXN0YW50TWVzc2FnZSxcbiAgY3JlYXRlQW5kQWN0aXZhdGVUaHJlYWQsXG4gIGFkZE1lc3NhZ2UsXG4gIHJlbW92ZU1lc3NhZ2UsXG4gIGNsZWFyQWxsVGhyZWFkcyxcbiAgc3RhcnRNZXNzYWdlR2VuZXJhdGlvbixcbiAgZmluaXNoTWVzc2FnZUdlbmVyYXRpb24sXG4gIHNldEFjdGl2ZVRocmVhZCxcbiAgaGFzVGhyZWFkLFxufSA9IHVzZVRocmVhZHMoKVxuXG4vKipcbiAqIFNlbmQgYSBuZXcgbWVzc2FnZSBpbiB0aGUgY29udmVyc2F0aW9uXG4gKiBUaGlzIGNlbnRyYWxpemVzIG1lc3NhZ2Ugc2VuZGluZyBsb2dpYyBmb3IgYWxsIHZpZXdzXG4gKiBAcGFyYW0gbWVzc2FnZUNvbnRlbnQgLSBUaGUgY29udGVudCBvZiB0aGUgbWVzc2FnZSB0byBzZW5kXG4gKiBAcGFyYW0gYXV0b1N3aXRjaFRvQ29udmVyc2F0aW9uIC0gV2hldGhlciB0byBhdXRvbWF0aWNhbGx5IHN3aXRjaCB0byBjb252ZXJzYXRpb24gdmlld1xuICovXG5jb25zdCBzZW5kTWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlQ29udGVudDogc3RyaW5nLCBhdXRvU3dpdGNoVG9Db252ZXJzYXRpb246IGJvb2xlYW4gPSB0cnVlKSA9PiB7XG4gIGlmICghbWVzc2FnZUNvbnRlbnQudHJpbSgpIHx8IGlzR2VuZXJhdGluZy52YWx1ZSkgcmV0dXJuXG5cbiAgLy8gQXV0by1zd2l0Y2ggdG8gY29udmVyc2F0aW9uIHZpZXcgaWYgcmVxdWVzdGVkXG4gIGlmIChhdXRvU3dpdGNoVG9Db252ZXJzYXRpb24pIHtcbiAgICBzd2l0Y2hWaWV3KCdjb252ZXJzYXRpb24nKVxuICB9XG5cbiAgLy8gRW5zdXJlIHdlIGhhdmUgYW4gYWN0aXZlIHRocmVhZFxuICBpZiAoIWFjdGl2ZVRocmVhZElkLnZhbHVlKSB7XG4gICAgY29uc3QgbmV3VGhyZWFkID0gY3JlYXRlQW5kQWN0aXZhdGVUaHJlYWQoKVxuICAgIHNldEFjdGl2ZVRocmVhZChuZXdUaHJlYWQuaWQpXG4gIH1cblxuICBpZiAoIWFjdGl2ZVRocmVhZElkLnZhbHVlKSByZXR1cm5cblxuICAvLyBBZGQgdXNlciBtZXNzYWdlXG4gIGFkZE1lc3NhZ2UoYWN0aXZlVGhyZWFkSWQudmFsdWUsIHtcbiAgICByb2xlOiAndXNlcicsXG4gICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQudHJpbSgpXG4gIH0pXG5cbiAgLy8gU3RhcnQgZ2VuZXJhdGluZyBhc3Npc3RhbnQgcmVzcG9uc2VcbiAgc3RhcnRNZXNzYWdlR2VuZXJhdGlvbihhY3RpdmVUaHJlYWRJZC52YWx1ZSlcblxuICB0cnkge1xuICAgIC8vIFRyaWdnZXIgY2FudmFzIGdlbmVyYXRpb24gLSBBSSByZXNwb25zZSB3aWxsIGNvbWUgdGhyb3VnaCBsb2cgZXZlbnRzXG4gICAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKFwiY2FudmFzOmdlbmVyYXRlXCIsIGFjdGl2ZVRocmVhZElkLnZhbHVlLCBtZXNzYWdlQ29udGVudClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlOicsIGVycm9yKVxuICAgIGZpbmlzaE1lc3NhZ2VHZW5lcmF0aW9uKCdTb3JyeSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2Fpbi4nLCAnZXJyb3InKVxuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIGNvbW1hbmQgc3VibWlzc2lvbiBmcm9tIGFueSB2aWV3XG4gKiBAcGFyYW0gY29tbWFuZCAtIFRoZSBjb21tYW5kIHRleHQgdG8gc2VuZFxuICovXG5jb25zdCBoYW5kbGVDb21tYW5kU3VibWl0ID0gYXN5bmMgKGNvbW1hbmQ6IHN0cmluZykgPT4ge1xuICBhd2FpdCBzZW5kTWVzc2FnZShjb21tYW5kLCB0cnVlKVxufVxuXG4vKipcbiAqIEhhbmRsZSBwcmVzZXQgc2VsZWN0aW9uIGZyb20gYW55IHZpZXdcbiAqIEBwYXJhbSBwcmVzZXQgLSBUaGUgc2VsZWN0ZWQgcHJlc2V0IG9iamVjdFxuICovXG5jb25zdCBoYW5kbGVQcmVzZXRTZWxlY3RlZCA9IGFzeW5jIChwcmVzZXQ6IHsgbmFtZTogc3RyaW5nOyBwcm9tcHQ6IHN0cmluZzsgZGVzY3JpcHRpb24/OiBzdHJpbmcgfSkgPT4ge1xuICBhd2FpdCBzZW5kTWVzc2FnZShwcmVzZXQucHJvbXB0LCB0cnVlKVxufVxuXG4vKipcbiAqIENvcHkgbWVzc2FnZSBjb250ZW50IHRvIGNsaXBib2FyZFxuICogQHBhcmFtIGNvbnRlbnQgLSBUZXh0IGNvbnRlbnQgdG8gY29weVxuICovXG5jb25zdCBjb3B5TWVzc2FnZSA9IGFzeW5jIChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb250ZW50KVxuICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlIGNvcGllZCB0byBjbGlwYm9hcmQnKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb3B5IG1lc3NhZ2U6JywgZXJyb3IpXG4gIH1cbn1cblxuLyoqXG4gKiBSZWdlbmVyYXRlIHRoZSBsYXN0IGFzc2lzdGFudCByZXNwb25zZVxuICovXG5jb25zdCByZWdlbmVyYXRlUmVzcG9uc2UgPSAoKSA9PiB7XG4gIGlmICghYWN0aXZlTWVzc2FnZXMudmFsdWUgfHwgYWN0aXZlTWVzc2FnZXMudmFsdWUubGVuZ3RoIDwgMikgcmV0dXJuXG5cbiAgY29uc3QgbGFzdFVzZXJNZXNzYWdlID0gWy4uLmFjdGl2ZU1lc3NhZ2VzLnZhbHVlXVxuICAgIC5yZXZlcnNlKClcbiAgICAuZmluZChtc2cgPT4gbXNnLnJvbGUgPT09ICd1c2VyJylcblxuICBpZiAobGFzdFVzZXJNZXNzYWdlICYmIGFjdGl2ZVRocmVhZElkLnZhbHVlKSB7XG4gICAgLy8gUmVtb3ZlIGxhc3QgYXNzaXN0YW50IG1lc3NhZ2VcbiAgICBjb25zdCBsYXN0QXNzaXN0YW50TWVzc2FnZSA9IFsuLi5hY3RpdmVNZXNzYWdlcy52YWx1ZV1cbiAgICAgIC5yZXZlcnNlKClcbiAgICAgIC5maW5kKG1zZyA9PiBtc2cucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiYgbXNnLnRpbWVzdGFtcCA+IGxhc3RVc2VyTWVzc2FnZS50aW1lc3RhbXApXG5cbiAgICBpZiAobGFzdEFzc2lzdGFudE1lc3NhZ2UpIHtcbiAgICAgIHJlbW92ZU1lc3NhZ2UoYWN0aXZlVGhyZWFkSWQudmFsdWUsIGxhc3RBc3Npc3RhbnRNZXNzYWdlLmlkKVxuICAgIH1cblxuICAgIC8vIFJlZ2VuZXJhdGUgcmVzcG9uc2VcbiAgICBzZW5kTWVzc2FnZShsYXN0VXNlck1lc3NhZ2UuY29udGVudCwgZmFsc2UpIC8vIERvbid0IHN3aXRjaCB2aWV3IHNpbmNlIHdlJ3JlIGFscmVhZHkgaW4gY29udmVyc2F0aW9uXG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciBjb252ZXJzYXRpb24gYW5kIGNyZWF0ZSBuZXcgdGhyZWFkXG4gKi9cbmNvbnN0IGNsZWFyQ29udmVyc2F0aW9uID0gKCkgPT4ge1xuICBjbGVhckFsbFRocmVhZHMoKVxuICBjb25zdCBuZXdUaHJlYWQgPSBjcmVhdGVBbmRBY3RpdmF0ZVRocmVhZCgnTmV3IENvbnZlcnNhdGlvbicpXG5cbiAgLy8gQWRkIHdlbGNvbWUgbWVzc2FnZVxuICBhZGRNZXNzYWdlKG5ld1RocmVhZC5pZCwge1xuICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgIGNvbnRlbnQ6ICdIZWxsbyEgSVxcJ20gaGVyZSB0byBoZWxwIHlvdSBnZW5lcmF0ZSBjb250ZW50IGZvciB5b3VyIE9ic2lkaWFuIGNhbnZhcy4gV2hhdCB3b3VsZCB5b3UgbGlrZSB0byBjcmVhdGUgdG9kYXk/J1xuICB9KVxuXG4gIHBsdWdpbi5ldmVudHMudHJpZ2dlcignY29udmVyc2F0aW9uOm5ldy10aHJlYWQnLCBuZXdUaHJlYWQuaWQpXG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBjb252ZXJzYXRpb24gaWYgbmVlZGVkXG4gKi9cbmNvbnN0IGluaXRpYWxpemVDb252ZXJzYXRpb24gPSAoKSA9PiB7XG4gIGlmICghaGFzQWN0aXZlVGhyZWFkLnZhbHVlKSB7XG4gICAgY29uc3QgbmV3VGhyZWFkID0gY3JlYXRlQW5kQWN0aXZhdGVUaHJlYWQoJ05ldyBDb252ZXJzYXRpb24nKVxuXG4gICAgLy8gQWRkIHdlbGNvbWUgbWVzc2FnZVxuICAgIGFkZE1lc3NhZ2UobmV3VGhyZWFkLmlkLCB7XG4gICAgICByb2xlOiAnYXNzaXN0YW50JyxcbiAgICAgIGNvbnRlbnQ6ICdIZWxsbyEgSVxcJ20gaGVyZSB0byBoZWxwIHlvdSBnZW5lcmF0ZSBjb250ZW50IGZvciB5b3VyIE9ic2lkaWFuIGNhbnZhcy4gV2hhdCB3b3VsZCB5b3UgbGlrZSB0byBjcmVhdGUgdG9kYXk/J1xuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiBTbWFydCBzdGVwIGV2ZW50IGhhbmRsZXIgLSBncm91cHMgY29uc2VjdXRpdmUgYXNzaXN0YW50IG1lc3NhZ2VzXG4gKiBHcm91cHMgbWVzc2FnZXMgZnJvbSB0aGUgc2FtZSByb2xlIHdpdGhpbiBhIHRpbWUgd2luZG93IHRvIHJlZHVjZSBVSSBjbHV0dGVyXG4gKiBcbiAqIEBwYXJhbSB0aHJlYWRJZCAtIFRoZSBJRCBvZiB0aGUgdGhyZWFkIHRvIHVwZGF0ZVxuICogQHBhcmFtIHN0ZXAgLSBTdGVwIG9iamVjdCB3aXRoIGVzc2VudGlhbCBpbmZvcm1hdGlvblxuICovXG5jb25zdCBoYW5kbGVTdGVwRXZlbnQgPSAodGhyZWFkSWQ6IHN0cmluZywgc3RlcDoge1xuICB0ZXh0OiBzdHJpbmc7XG4gIHN0ZXBOdW1iZXI/OiBudW1iZXI7XG4gIHN0ZXBUeXBlOiAnaW5pdGlhbCcgfCAndGhpbmtpbmcnIHwgJ3Rvb2wtY2FsbCcgfCAndG9vbC1yZXN1bHQnIHwgJ2dlbmVyYXRpbmcnIHwgJ2NvbXBsZXRlJyB8ICdlcnJvcicgfCAncmV0cnknO1xuICB0b29sQ2FsbHM/OiB7IG5hbWU6IHN0cmluZzsgYXJnczogUmVjb3JkPHN0cmluZywgYW55PiB9W107XG4gIHRvb2xSZXN1bHRzPzogUmVjb3JkPHN0cmluZywgYW55PltdO1xuICBzdGF0dXM6ICdwZW5kaW5nJyB8ICdydW5uaW5nJyB8ICdzdWNjZXNzJyB8ICdlcnJvcic7XG4gIHRpbWVzdGFtcDogbnVtYmVyO1xuICBlcnJvcj86IHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY29kZT86IHN0cmluZztcbiAgICByZXRyeUNvdW50PzogbnVtYmVyO1xuICAgIGlzUmV0cnlhYmxlPzogYm9vbGVhbjtcbiAgfTtcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufSkgPT4ge1xuICAvLyBDaGVjayBpZiB0aHJlYWQgZXhpc3RzXG4gIGlmICghaGFzVGhyZWFkKHRocmVhZElkKSkge1xuICAgIGNvbnNvbGUud2FybihgVGhyZWFkICR7dGhyZWFkSWR9IG5vdCBmb3VuZCwgY2Fubm90IGhhbmRsZSBzdGVwIGV2ZW50YClcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIFNpbXBsZSBzdGF0dXMgdG8gbWVzc2FnZSBsZXZlbCBtYXBwaW5nXG4gIGNvbnN0IGxldmVsTWFwOiBSZWNvcmQ8c3RyaW5nLCAnaW5mbycgfCAnZXJyb3InIHwgJ3dhcm4nIHwgJ3N1Y2Nlc3MnPiA9IHtcbiAgICBwZW5kaW5nOiAnaW5mbycsXG4gICAgcnVubmluZzogJ2luZm8nLFxuICAgIHN1Y2Nlc3M6ICdzdWNjZXNzJyxcbiAgICBlcnJvcjogJ2Vycm9yJ1xuICB9XG5cbiAgY29uc3QgbGV2ZWwgPSBsZXZlbE1hcFtzdGVwLnN0YXR1c10gfHwgJ2luZm8nXG4gIGxldCBjb250ZW50ID0gc3RlcC50ZXh0XG5cbiAgLy8gU2hvdyBlcnJvciBtZXNzYWdlIGlmIHByZXNlbnQsIGJ1dCBrZWVwIGl0IHNpbXBsZVxuICBpZiAoc3RlcC5lcnJvciAmJiBzdGVwLmVycm9yLm1lc3NhZ2UgIT09IGNvbnRlbnQpIHtcbiAgICBjb250ZW50ICs9IGBcXG5cXG4qKkVycm9yOioqICR7c3RlcC5lcnJvci5tZXNzYWdlfWBcbiAgfVxuXG4gIC8vIEhhbmRsZSBkaWZmZXJlbnQgc3RlcCB0eXBlcyBhcHByb3ByaWF0ZWx5XG4gIGlmIChzdGVwLnN0ZXBUeXBlID09PSAnaW5pdGlhbCcpIHtcbiAgICAvLyBGb3IgaW5pdGlhbCBzdGVwcywgYWx3YXlzIGFkZCBhcyBuZXcgbWVzc2FnZSAoZm9yY2UgbmV3IG1lc3NhZ2UgZm9yIGNsZWFyIHNlcGFyYXRpb24pXG4gICAgYWRkTWVzc2FnZShhY3RpdmVUaHJlYWRJZC52YWx1ZSEsIHtcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgY29udGVudCxcbiAgICAgIGxldmVsLFxuICAgICAgdG9vbENhbGxzOiBzdGVwLnRvb2xDYWxscyxcbiAgICAgIHRvb2xSZXN1bHRzOiBzdGVwLnRvb2xSZXN1bHRzLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgc3RlcFR5cGU6IHN0ZXAuc3RlcFR5cGUsXG4gICAgICAgIHN0ZXBOdW1iZXI6IHN0ZXAuc3RlcE51bWJlcixcbiAgICAgICAgLi4uc3RlcC5tZXRhZGF0YVxuICAgICAgfVxuICAgIH0pXG4gIH0gZWxzZSBpZiAoc3RlcC5zdGVwVHlwZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgIGZpbmlzaE1lc3NhZ2VHZW5lcmF0aW9uKGNvbnRlbnQsIGxldmVsKVxuICB9IGVsc2Uge1xuICAgIC8vIEZvciBvdGhlciBzdGVwcywgZ3JvdXAgd2l0aCBwcmV2aW91cyBhc3Npc3RhbnQgbWVzc2FnZXMgaWYgd2l0aGluIHRpbWUgd2luZG93XG4gICAgYWRkTWVzc2FnZShhY3RpdmVUaHJlYWRJZC52YWx1ZSEsIHtcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgY29udGVudCxcbiAgICAgIGxldmVsLFxuICAgICAgdG9vbENhbGxzOiBzdGVwLnRvb2xDYWxscyxcbiAgICAgIHRvb2xSZXN1bHRzOiBzdGVwLnRvb2xSZXN1bHRzLFxuICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgc3RlcFR5cGU6IHN0ZXAuc3RlcFR5cGUsXG4gICAgICAgIHN0ZXBOdW1iZXI6IHN0ZXAuc3RlcE51bWJlcixcbiAgICAgICAgLi4uc3RlcC5tZXRhZGF0YVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuLy8gVXNlIHRoZSBjb21wb3NhYmxlIHRvIGhhbmRsZSBldmVudCBsaXN0ZW5pbmcgd2l0aCBhdXRvbWF0aWMgY2xlYW51cFxudXNlUGx1Z2luRXZlbnQocGx1Z2luLCAnYWRkLXN0ZXAnLCBoYW5kbGVTdGVwRXZlbnQpXG5cbi8qKlxuICogSGFuZGxlIHNldHRpbmdzIGJ1dHRvbiBjbGlja1xuICogT3BlbnMgdGhlIHBsdWdpbidzIHNwZWNpZmljIHNldHRpbmdzIHRhYiBkaXJlY3RseVxuICovXG5jb25zdCBoYW5kbGVPcGVuU2V0dGluZ3MgPSAoKSA9PiB7XG4gIC8vIFRyeSB0byBvcGVuIHRoZSBzcGVjaWZpYyBwbHVnaW4gc2V0dGluZ3MgdGFiIGZpcnN0XG4gIGNvbnN0IHBsdWdpbklkID0gcGx1Z2luLm1hbmlmZXN0LmlkXG5cbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCBvcGVuIHRoZSBzZXR0aW5ncyBkaWFsb2csIHRoZW4gbmF2aWdhdGUgdG8gdGhlIHNwZWNpZmljIHRhYlxuICAgIG9wZW5TZXR0aW5ncyhwbHVnaW4uYXBwKVxuICAgIG9wZW5TZXR0aW5nc1RhYihwbHVnaW4uYXBwLCBwbHVnaW5JZClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBvcGVuIHNwZWNpZmljIHNldHRpbmdzIHRhYiwgZmFsbGluZyBiYWNrIHRvIGdlbmVyYWwgc2V0dGluZ3M6JywgZXJyb3IpXG4gICAgb3BlblNldHRpbmdzKHBsdWdpbi5hcHApXG4gIH1cbn1cblxuLyoqXG4gKiBGb3JtYXQgdGltZXN0YW1wIGZvciBkaXNwbGF5XG4gKi9cbmNvbnN0IGZvcm1hdFRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KVxufVxuXG4vLyBJbml0aWFsaXplIGNvbnZlcnNhdGlvbiBvbiBtb3VudFxuaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbigpXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLXJvd3MtW2F1dG9fMWZyXSBoLWZ1bGxcIj5cbiAgICA8IS0tIE5hdmlnYXRpb24gVG9vbGJhciAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteC0wLjUgYm9yZGVyLWIgYm9yZGVyLW5ldXRyYWwtNzAwIHB5LTEgcHgtMlwiIGlkPVwicXVpY2stYWN0aW9uc1wiPlxuICAgICAgPCEtLSBWaWV3IE5hdmlnYXRpb24gLS0+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzPVwiaC03IHctNyBwLTBcIlxuICAgICAgICA6Y2xhc3M9XCJjdXJyZW50Vmlld05hbWUgPT09ICdob21lJyA/ICd0ZXh0LW5ldXRyYWwtMjAwIGJnLW5ldXRyYWwtNzAwJyA6ICd0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAnXCJcbiAgICAgICAgQGNsaWNrPVwic3dpdGNoVmlldygnaG9tZScpXCIgdGl0bGU9XCJIb21lXCI+XG4gICAgICAgIDxIb21lIGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgIDwvQnV0dG9uPlxuICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzcz1cImgtNyB3LTcgcC0wXCJcbiAgICAgICAgOmNsYXNzPVwiY3VycmVudFZpZXdOYW1lID09PSAnaGlzdG9yeScgPyAndGV4dC1uZXV0cmFsLTIwMCBiZy1uZXV0cmFsLTcwMCcgOiAndGV4dC1uZXV0cmFsLTQwMCBob3Zlcjp0ZXh0LW5ldXRyYWwtMjAwJ1wiXG4gICAgICAgIEBjbGljaz1cInN3aXRjaFZpZXcoJ2hpc3RvcnknKVwiIHRpdGxlPVwiSGlzdG9yeVwiPlxuICAgICAgICA8SGlzdG9yeSBjbGFzcz1cInNpemUtM1wiIC8+XG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJoLTcgdy03IHAtMFwiXG4gICAgICAgIDpjbGFzcz1cImN1cnJlbnRWaWV3TmFtZSA9PT0gJ2NvbnZlcnNhdGlvbicgPyAndGV4dC1uZXV0cmFsLTIwMCBiZy1uZXV0cmFsLTcwMCcgOiAndGV4dC1uZXV0cmFsLTQwMCBob3Zlcjp0ZXh0LW5ldXRyYWwtMjAwJ1wiXG4gICAgICAgIEBjbGljaz1cInN3aXRjaFZpZXcoJ2NvbnZlcnNhdGlvbicpXCIgdGl0bGU9XCJDb252ZXJzYXRpb25cIj5cbiAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgPC9CdXR0b24+XG5cbiAgICAgIDwhLS0gRGl2aWRlciAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJoLTQgdy1weCBiZy1uZXV0cmFsLTYwMCBteC0xXCI+PC9kaXY+XG5cbiAgICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzPVwidGV4dC1uZXV0cmFsLTQwMCBob3Zlcjp0ZXh0LW5ldXRyYWwtMjAwIGgtNyB3LTcgcC0wXCIgdGl0bGU9XCJSZWZyZXNoXCI+XG4gICAgICAgIDxSb3RhdGVDY3cgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgPC9CdXR0b24+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzPVwidGV4dC1uZXV0cmFsLTQwMCBob3Zlcjp0ZXh0LW5ldXRyYWwtMjAwIGgtNyB3LTcgcC0wXCJcbiAgICAgICAgQGNsaWNrPVwiaGFuZGxlT3BlblNldHRpbmdzXCIgdGl0bGU9XCJTZXR0aW5nc1wiPlxuICAgICAgICA8U2V0dGluZ3MgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgPC9CdXR0b24+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzPVwidGV4dC1uZXV0cmFsLTQwMCBob3Zlcjp0ZXh0LW5ldXRyYWwtMjAwIGgtNyB3LTcgcC0wXCIgdGl0bGU9XCJFeHBvcnRcIj5cbiAgICAgICAgPERvd25sb2FkIGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBEeW5hbWljIFZpZXcgQ29udGVudCAtLT5cbiAgICA8Y29tcG9uZW50IDppcz1cImN1cnJlbnRWaWV3TmFtZSA9PT0gJ2hvbWUnID8gVmlld0hvbWUgOlxuICAgICAgY3VycmVudFZpZXdOYW1lID09PSAnaGlzdG9yeScgPyBWaWV3SGlzdG9yeSA6XG4gICAgICAgIFZpZXdDb252ZXJzYXRpb25cIiBjbGFzcz1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG9cIiBAY29tbWFuZC1zdWJtaXQ9XCJoYW5kbGVDb21tYW5kU3VibWl0XCJcbiAgICAgIEBwcmVzZXQtc2VsZWN0ZWQ9XCJoYW5kbGVQcmVzZXRTZWxlY3RlZFwiIDphY3RpdmUtdGhyZWFkPVwiYWN0aXZlVGhyZWFkXCIgOmFjdGl2ZS1tZXNzYWdlcz1cImFjdGl2ZU1lc3NhZ2VzXCJcbiAgICAgIDppcy1nZW5lcmF0aW5nPVwiaXNHZW5lcmF0aW5nXCIgOmZvcm1hdC10aW1lPVwiZm9ybWF0VGltZVwiIEBjb3B5LW1lc3NhZ2U9XCJjb3B5TWVzc2FnZVwiXG4gICAgICBAcmVnZW5lcmF0ZS1yZXNwb25zZT1cInJlZ2VuZXJhdGVSZXNwb25zZVwiIEBjbGVhci1jb252ZXJzYXRpb249XCJjbGVhckNvbnZlcnNhdGlvblwiIC8+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT4iLCI8c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgcmVmLCBpbmplY3QgfSBmcm9tICd2dWUnXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24vQnV0dG9uLnZ1ZSdcbmltcG9ydCB0eXBlIFVzZUFpUGx1Z2luIGZyb20gJ0AvbWFpbidcbmltcG9ydCB7IG9wZW5TZXR0aW5ncywgb3BlblNldHRpbmdzVGFiIH0gZnJvbSAnQC91dGlscy9vYnNpZGlhbi1oZWxwZXJzJ1xuaW1wb3J0IFZpZXdIb21lIGZyb20gJy4vdmlld3MvVmlld0hvbWUudnVlJ1xuaW1wb3J0IFZpZXdIaXN0b3J5IGZyb20gJy4vdmlld3MvVmlld0hpc3RvcnkudnVlJ1xuaW1wb3J0IFZpZXdDb252ZXJzYXRpb24gZnJvbSAnLi92aWV3cy9WaWV3Q29udmVyc2F0aW9uLnZ1ZSdcbmltcG9ydCB7IHVzZVBsdWdpbkV2ZW50IH0gZnJvbSAnQC9jb21wb3NhYmxlcy91c2VQbHVnaW5FdmVudCdcbmltcG9ydCB7IHVzZVRocmVhZHMsIHR5cGUgVGhyZWFkTWVzc2FnZSB9IGZyb20gJ0AvY29tcG9zYWJsZXMvdXNlVGhyZWFkcydcbmltcG9ydCB7XG4gIFJvdGF0ZUNjdyxcbiAgU2V0dGluZ3MsXG4gIERvd25sb2FkLFxuICBIaXN0b3J5LFxuICBNZXNzYWdlU3F1YXJlLFxuICBIb21lXG59IGZyb20gJ2x1Y2lkZS12dWUtbmV4dCdcblxuY29uc3QgcGx1Z2luID0gaW5qZWN0PFVzZUFpUGx1Z2luPihcInVzZUFpUGx1Z2luXCIpIVxuXG4vLyBDdXJyZW50IHZpZXcgc3RhdGVcbmNvbnN0IGN1cnJlbnRWaWV3TmFtZSA9IHJlZjxcImhvbWVcIiB8IFwiaGlzdG9yeVwiIHwgXCJjb252ZXJzYXRpb25cIj4oXCJob21lXCIpXG5cbi8qKlxuICogU3dpdGNoIHRvIGEgZGlmZmVyZW50IHZpZXdcbiAqL1xuY29uc3Qgc3dpdGNoVmlldyA9ICh2aWV3TmFtZTogXCJob21lXCIgfCBcImhpc3RvcnlcIiB8IFwiY29udmVyc2F0aW9uXCIpID0+IHtcbiAgY3VycmVudFZpZXdOYW1lLnZhbHVlID0gdmlld05hbWVcbn1cblxuLy8gR2xvYmFsIHRocmVhZCBtYW5hZ2VtZW50IGZyb20gY29tcG9zYWJsZVxuY29uc3Qge1xuICBhY3RpdmVUaHJlYWQsXG4gIGFjdGl2ZU1lc3NhZ2VzLFxuICBhY3RpdmVUaHJlYWRJZCxcbiAgaGFzQWN0aXZlVGhyZWFkLFxuICBpc0dlbmVyYXRpbmcsXG4gIGN1cnJlbnRBc3Npc3RhbnRNZXNzYWdlLFxuICBjcmVhdGVBbmRBY3RpdmF0ZVRocmVhZCxcbiAgYWRkTWVzc2FnZSxcbiAgcmVtb3ZlTWVzc2FnZSxcbiAgY2xlYXJBbGxUaHJlYWRzLFxuICBzdGFydE1lc3NhZ2VHZW5lcmF0aW9uLFxuICBmaW5pc2hNZXNzYWdlR2VuZXJhdGlvbixcbiAgc2V0QWN0aXZlVGhyZWFkLFxuICBoYXNUaHJlYWQsXG59ID0gdXNlVGhyZWFkcygpXG5cbi8qKlxuICogU2VuZCBhIG5ldyBtZXNzYWdlIGluIHRoZSBjb252ZXJzYXRpb25cbiAqIFRoaXMgY2VudHJhbGl6ZXMgbWVzc2FnZSBzZW5kaW5nIGxvZ2ljIGZvciBhbGwgdmlld3NcbiAqIEBwYXJhbSBtZXNzYWdlQ29udGVudCAtIFRoZSBjb250ZW50IG9mIHRoZSBtZXNzYWdlIHRvIHNlbmRcbiAqIEBwYXJhbSBhdXRvU3dpdGNoVG9Db252ZXJzYXRpb24gLSBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgc3dpdGNoIHRvIGNvbnZlcnNhdGlvbiB2aWV3XG4gKi9cbmNvbnN0IHNlbmRNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2VDb250ZW50OiBzdHJpbmcsIGF1dG9Td2l0Y2hUb0NvbnZlcnNhdGlvbjogYm9vbGVhbiA9IHRydWUpID0+IHtcbiAgaWYgKCFtZXNzYWdlQ29udGVudC50cmltKCkgfHwgaXNHZW5lcmF0aW5nLnZhbHVlKSByZXR1cm5cblxuICAvLyBBdXRvLXN3aXRjaCB0byBjb252ZXJzYXRpb24gdmlldyBpZiByZXF1ZXN0ZWRcbiAgaWYgKGF1dG9Td2l0Y2hUb0NvbnZlcnNhdGlvbikge1xuICAgIHN3aXRjaFZpZXcoJ2NvbnZlcnNhdGlvbicpXG4gIH1cblxuICAvLyBFbnN1cmUgd2UgaGF2ZSBhbiBhY3RpdmUgdGhyZWFkXG4gIGlmICghYWN0aXZlVGhyZWFkSWQudmFsdWUpIHtcbiAgICBjb25zdCBuZXdUaHJlYWQgPSBjcmVhdGVBbmRBY3RpdmF0ZVRocmVhZCgpXG4gICAgc2V0QWN0aXZlVGhyZWFkKG5ld1RocmVhZC5pZClcbiAgfVxuXG4gIGlmICghYWN0aXZlVGhyZWFkSWQudmFsdWUpIHJldHVyblxuXG4gIC8vIEFkZCB1c2VyIG1lc3NhZ2VcbiAgYWRkTWVzc2FnZShhY3RpdmVUaHJlYWRJZC52YWx1ZSwge1xuICAgIHJvbGU6ICd1c2VyJyxcbiAgICBjb250ZW50OiBtZXNzYWdlQ29udGVudC50cmltKClcbiAgfSlcblxuICAvLyBTdGFydCBnZW5lcmF0aW5nIGFzc2lzdGFudCByZXNwb25zZVxuICBzdGFydE1lc3NhZ2VHZW5lcmF0aW9uKGFjdGl2ZVRocmVhZElkLnZhbHVlKVxuXG4gIHRyeSB7XG4gICAgLy8gVHJpZ2dlciBjYW52YXMgZ2VuZXJhdGlvbiAtIEFJIHJlc3BvbnNlIHdpbGwgY29tZSB0aHJvdWdoIGxvZyBldmVudHNcbiAgICBwbHVnaW4uZXZlbnRzLnRyaWdnZXIoXCJjYW52YXM6Z2VuZXJhdGVcIiwgYWN0aXZlVGhyZWFkSWQudmFsdWUsIG1lc3NhZ2VDb250ZW50KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIG1lc3NhZ2U6JywgZXJyb3IpXG4gICAgZmluaXNoTWVzc2FnZUdlbmVyYXRpb24oJ1NvcnJ5LCBJIGVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIHByb2Nlc3NpbmcgeW91ciByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluLicsICdlcnJvcicpXG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgY29tbWFuZCBzdWJtaXNzaW9uIGZyb20gYW55IHZpZXdcbiAqIEBwYXJhbSBjb21tYW5kIC0gVGhlIGNvbW1hbmQgdGV4dCB0byBzZW5kXG4gKi9cbmNvbnN0IGhhbmRsZUNvbW1hbmRTdWJtaXQgPSBhc3luYyAoY29tbWFuZDogc3RyaW5nKSA9PiB7XG4gIGF3YWl0IHNlbmRNZXNzYWdlKGNvbW1hbmQsIHRydWUpXG59XG5cbi8qKlxuICogSGFuZGxlIHByZXNldCBzZWxlY3Rpb24gZnJvbSBhbnkgdmlld1xuICogQHBhcmFtIHByZXNldCAtIFRoZSBzZWxlY3RlZCBwcmVzZXQgb2JqZWN0XG4gKi9cbmNvbnN0IGhhbmRsZVByZXNldFNlbGVjdGVkID0gYXN5bmMgKHByZXNldDogeyBuYW1lOiBzdHJpbmc7IHByb21wdDogc3RyaW5nOyBkZXNjcmlwdGlvbj86IHN0cmluZyB9KSA9PiB7XG4gIGF3YWl0IHNlbmRNZXNzYWdlKHByZXNldC5wcm9tcHQsIHRydWUpXG59XG5cbi8qKlxuICogQ29weSBtZXNzYWdlIGNvbnRlbnQgdG8gY2xpcGJvYXJkXG4gKiBAcGFyYW0gY29udGVudCAtIFRleHQgY29udGVudCB0byBjb3B5XG4gKi9cbmNvbnN0IGNvcHlNZXNzYWdlID0gYXN5bmMgKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGNvbnRlbnQpXG4gICAgY29uc29sZS5sb2coJ01lc3NhZ2UgY29waWVkIHRvIGNsaXBib2FyZCcpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvcHkgbWVzc2FnZTonLCBlcnJvcilcbiAgfVxufVxuXG4vKipcbiAqIFJlZ2VuZXJhdGUgdGhlIGxhc3QgYXNzaXN0YW50IHJlc3BvbnNlXG4gKi9cbmNvbnN0IHJlZ2VuZXJhdGVSZXNwb25zZSA9ICgpID0+IHtcbiAgaWYgKCFhY3RpdmVNZXNzYWdlcy52YWx1ZSB8fCBhY3RpdmVNZXNzYWdlcy52YWx1ZS5sZW5ndGggPCAyKSByZXR1cm5cblxuICBjb25zdCBsYXN0VXNlck1lc3NhZ2UgPSBbLi4uYWN0aXZlTWVzc2FnZXMudmFsdWVdXG4gICAgLnJldmVyc2UoKVxuICAgIC5maW5kKG1zZyA9PiBtc2cucm9sZSA9PT0gJ3VzZXInKVxuXG4gIGlmIChsYXN0VXNlck1lc3NhZ2UgJiYgYWN0aXZlVGhyZWFkSWQudmFsdWUpIHtcbiAgICAvLyBSZW1vdmUgbGFzdCBhc3Npc3RhbnQgbWVzc2FnZVxuICAgIGNvbnN0IGxhc3RBc3Npc3RhbnRNZXNzYWdlID0gWy4uLmFjdGl2ZU1lc3NhZ2VzLnZhbHVlXVxuICAgICAgLnJldmVyc2UoKVxuICAgICAgLmZpbmQobXNnID0+IG1zZy5yb2xlID09PSAnYXNzaXN0YW50JyAmJiBtc2cudGltZXN0YW1wID4gbGFzdFVzZXJNZXNzYWdlLnRpbWVzdGFtcClcblxuICAgIGlmIChsYXN0QXNzaXN0YW50TWVzc2FnZSkge1xuICAgICAgcmVtb3ZlTWVzc2FnZShhY3RpdmVUaHJlYWRJZC52YWx1ZSwgbGFzdEFzc2lzdGFudE1lc3NhZ2UuaWQpXG4gICAgfVxuXG4gICAgLy8gUmVnZW5lcmF0ZSByZXNwb25zZVxuICAgIHNlbmRNZXNzYWdlKGxhc3RVc2VyTWVzc2FnZS5jb250ZW50LCBmYWxzZSkgLy8gRG9uJ3Qgc3dpdGNoIHZpZXcgc2luY2Ugd2UncmUgYWxyZWFkeSBpbiBjb252ZXJzYXRpb25cbiAgfVxufVxuXG4vKipcbiAqIENsZWFyIGNvbnZlcnNhdGlvbiBhbmQgY3JlYXRlIG5ldyB0aHJlYWRcbiAqL1xuY29uc3QgY2xlYXJDb252ZXJzYXRpb24gPSAoKSA9PiB7XG4gIGNsZWFyQWxsVGhyZWFkcygpXG4gIGNvbnN0IG5ld1RocmVhZCA9IGNyZWF0ZUFuZEFjdGl2YXRlVGhyZWFkKCdOZXcgQ29udmVyc2F0aW9uJylcblxuICAvLyBBZGQgd2VsY29tZSBtZXNzYWdlXG4gIGFkZE1lc3NhZ2UobmV3VGhyZWFkLmlkLCB7XG4gICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgY29udGVudDogJ0hlbGxvISBJXFwnbSBoZXJlIHRvIGhlbHAgeW91IGdlbmVyYXRlIGNvbnRlbnQgZm9yIHlvdXIgT2JzaWRpYW4gY2FudmFzLiBXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGNyZWF0ZSB0b2RheT8nXG4gIH0pXG5cbiAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKCdjb252ZXJzYXRpb246bmV3LXRocmVhZCcsIG5ld1RocmVhZC5pZClcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGNvbnZlcnNhdGlvbiBpZiBuZWVkZWRcbiAqL1xuY29uc3QgaW5pdGlhbGl6ZUNvbnZlcnNhdGlvbiA9ICgpID0+IHtcbiAgaWYgKCFoYXNBY3RpdmVUaHJlYWQudmFsdWUpIHtcbiAgICBjb25zdCBuZXdUaHJlYWQgPSBjcmVhdGVBbmRBY3RpdmF0ZVRocmVhZCgnTmV3IENvbnZlcnNhdGlvbicpXG5cbiAgICAvLyBBZGQgd2VsY29tZSBtZXNzYWdlXG4gICAgYWRkTWVzc2FnZShuZXdUaHJlYWQuaWQsIHtcbiAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLFxuICAgICAgY29udGVudDogJ0hlbGxvISBJXFwnbSBoZXJlIHRvIGhlbHAgeW91IGdlbmVyYXRlIGNvbnRlbnQgZm9yIHlvdXIgT2JzaWRpYW4gY2FudmFzLiBXaGF0IHdvdWxkIHlvdSBsaWtlIHRvIGNyZWF0ZSB0b2RheT8nXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIFNtYXJ0IHN0ZXAgZXZlbnQgaGFuZGxlciAtIGdyb3VwcyBjb25zZWN1dGl2ZSBhc3Npc3RhbnQgbWVzc2FnZXNcbiAqIEdyb3VwcyBtZXNzYWdlcyBmcm9tIHRoZSBzYW1lIHJvbGUgd2l0aGluIGEgdGltZSB3aW5kb3cgdG8gcmVkdWNlIFVJIGNsdXR0ZXJcbiAqIFxuICogQHBhcmFtIHRocmVhZElkIC0gVGhlIElEIG9mIHRoZSB0aHJlYWQgdG8gdXBkYXRlXG4gKiBAcGFyYW0gc3RlcCAtIFN0ZXAgb2JqZWN0IHdpdGggZXNzZW50aWFsIGluZm9ybWF0aW9uXG4gKi9cbmNvbnN0IGhhbmRsZVN0ZXBFdmVudCA9ICh0aHJlYWRJZDogc3RyaW5nLCBzdGVwOiB7XG4gIHRleHQ6IHN0cmluZztcbiAgc3RlcE51bWJlcj86IG51bWJlcjtcbiAgc3RlcFR5cGU6ICdpbml0aWFsJyB8ICd0aGlua2luZycgfCAndG9vbC1jYWxsJyB8ICd0b29sLXJlc3VsdCcgfCAnZ2VuZXJhdGluZycgfCAnY29tcGxldGUnIHwgJ2Vycm9yJyB8ICdyZXRyeSc7XG4gIHRvb2xDYWxscz86IHsgbmFtZTogc3RyaW5nOyBhcmdzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IH1bXTtcbiAgdG9vbFJlc3VsdHM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+W107XG4gIHN0YXR1czogJ3BlbmRpbmcnIHwgJ3J1bm5pbmcnIHwgJ3N1Y2Nlc3MnIHwgJ2Vycm9yJztcbiAgdGltZXN0YW1wOiBudW1iZXI7XG4gIGVycm9yPzoge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjb2RlPzogc3RyaW5nO1xuICAgIHJldHJ5Q291bnQ/OiBudW1iZXI7XG4gICAgaXNSZXRyeWFibGU/OiBib29sZWFuO1xuICB9O1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59KSA9PiB7XG4gIC8vIENoZWNrIGlmIHRocmVhZCBleGlzdHNcbiAgaWYgKCFoYXNUaHJlYWQodGhyZWFkSWQpKSB7XG4gICAgY29uc29sZS53YXJuKGBUaHJlYWQgJHt0aHJlYWRJZH0gbm90IGZvdW5kLCBjYW5ub3QgaGFuZGxlIHN0ZXAgZXZlbnRgKVxuICAgIHJldHVyblxuICB9XG5cbiAgLy8gU2ltcGxlIHN0YXR1cyB0byBtZXNzYWdlIGxldmVsIG1hcHBpbmdcbiAgY29uc3QgbGV2ZWxNYXA6IFJlY29yZDxzdHJpbmcsICdpbmZvJyB8ICdlcnJvcicgfCAnd2FybicgfCAnc3VjY2Vzcyc+ID0ge1xuICAgIHBlbmRpbmc6ICdpbmZvJyxcbiAgICBydW5uaW5nOiAnaW5mbycsXG4gICAgc3VjY2VzczogJ3N1Y2Nlc3MnLFxuICAgIGVycm9yOiAnZXJyb3InXG4gIH1cblxuICBjb25zdCBsZXZlbCA9IGxldmVsTWFwW3N0ZXAuc3RhdHVzXSB8fCAnaW5mbydcbiAgbGV0IGNvbnRlbnQgPSBzdGVwLnRleHRcblxuICAvLyBTaG93IGVycm9yIG1lc3NhZ2UgaWYgcHJlc2VudCwgYnV0IGtlZXAgaXQgc2ltcGxlXG4gIGlmIChzdGVwLmVycm9yICYmIHN0ZXAuZXJyb3IubWVzc2FnZSAhPT0gY29udGVudCkge1xuICAgIGNvbnRlbnQgKz0gYFxcblxcbioqRXJyb3I6KiogJHtzdGVwLmVycm9yLm1lc3NhZ2V9YFxuICB9XG5cbiAgLy8gSGFuZGxlIGRpZmZlcmVudCBzdGVwIHR5cGVzIGFwcHJvcHJpYXRlbHlcbiAgaWYgKHN0ZXAuc3RlcFR5cGUgPT09ICdpbml0aWFsJykge1xuICAgIC8vIEZvciBpbml0aWFsIHN0ZXBzLCBhbHdheXMgYWRkIGFzIG5ldyBtZXNzYWdlIChmb3JjZSBuZXcgbWVzc2FnZSBmb3IgY2xlYXIgc2VwYXJhdGlvbilcbiAgICBhZGRNZXNzYWdlKGFjdGl2ZVRocmVhZElkLnZhbHVlISwge1xuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50LFxuICAgICAgbGV2ZWwsXG4gICAgICB0b29sQ2FsbHM6IHN0ZXAudG9vbENhbGxzLFxuICAgICAgdG9vbFJlc3VsdHM6IHN0ZXAudG9vbFJlc3VsdHMsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBzdGVwVHlwZTogc3RlcC5zdGVwVHlwZSxcbiAgICAgICAgc3RlcE51bWJlcjogc3RlcC5zdGVwTnVtYmVyLFxuICAgICAgICAuLi5zdGVwLm1ldGFkYXRhXG4gICAgICB9XG4gICAgfSlcbiAgfSBlbHNlIGlmIChzdGVwLnN0ZXBUeXBlID09PSAnY29tcGxldGUnKSB7XG4gICAgZmluaXNoTWVzc2FnZUdlbmVyYXRpb24oY29udGVudCwgbGV2ZWwpXG4gIH0gZWxzZSB7XG4gICAgLy8gRm9yIG90aGVyIHN0ZXBzLCBncm91cCB3aXRoIHByZXZpb3VzIGFzc2lzdGFudCBtZXNzYWdlcyBpZiB3aXRoaW4gdGltZSB3aW5kb3dcbiAgICBhZGRNZXNzYWdlKGFjdGl2ZVRocmVhZElkLnZhbHVlISwge1xuICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXG4gICAgICBjb250ZW50LFxuICAgICAgbGV2ZWwsXG4gICAgICB0b29sQ2FsbHM6IHN0ZXAudG9vbENhbGxzLFxuICAgICAgdG9vbFJlc3VsdHM6IHN0ZXAudG9vbFJlc3VsdHMsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICBzdGVwVHlwZTogc3RlcC5zdGVwVHlwZSxcbiAgICAgICAgc3RlcE51bWJlcjogc3RlcC5zdGVwTnVtYmVyLFxuICAgICAgICAuLi5zdGVwLm1ldGFkYXRhXG4gICAgICB9XG4gICAgfSlcbiAgfVxufVxuXG4vLyBVc2UgdGhlIGNvbXBvc2FibGUgdG8gaGFuZGxlIGV2ZW50IGxpc3RlbmluZyB3aXRoIGF1dG9tYXRpYyBjbGVhbnVwXG51c2VQbHVnaW5FdmVudChwbHVnaW4sICdhZGQtc3RlcCcsIGhhbmRsZVN0ZXBFdmVudClcblxuLyoqXG4gKiBIYW5kbGUgc2V0dGluZ3MgYnV0dG9uIGNsaWNrXG4gKiBPcGVucyB0aGUgcGx1Z2luJ3Mgc3BlY2lmaWMgc2V0dGluZ3MgdGFiIGRpcmVjdGx5XG4gKi9cbmNvbnN0IGhhbmRsZU9wZW5TZXR0aW5ncyA9ICgpID0+IHtcbiAgLy8gVHJ5IHRvIG9wZW4gdGhlIHNwZWNpZmljIHBsdWdpbiBzZXR0aW5ncyB0YWIgZmlyc3RcbiAgY29uc3QgcGx1Z2luSWQgPSBwbHVnaW4ubWFuaWZlc3QuaWRcblxuICB0cnkge1xuICAgIC8vIEZpcnN0IG9wZW4gdGhlIHNldHRpbmdzIGRpYWxvZywgdGhlbiBuYXZpZ2F0ZSB0byB0aGUgc3BlY2lmaWMgdGFiXG4gICAgb3BlblNldHRpbmdzKHBsdWdpbi5hcHApXG4gICAgb3BlblNldHRpbmdzVGFiKHBsdWdpbi5hcHAsIHBsdWdpbklkKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIG9wZW4gc3BlY2lmaWMgc2V0dGluZ3MgdGFiLCBmYWxsaW5nIGJhY2sgdG8gZ2VuZXJhbCBzZXR0aW5nczonLCBlcnJvcilcbiAgICBvcGVuU2V0dGluZ3MocGx1Z2luLmFwcClcbiAgfVxufVxuXG4vKipcbiAqIEZvcm1hdCB0aW1lc3RhbXAgZm9yIGRpc3BsYXlcbiAqL1xuY29uc3QgZm9ybWF0VGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG4gIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pXG59XG5cbi8vIEluaXRpYWxpemUgY29udmVyc2F0aW9uIG9uIG1vdW50XG5pbml0aWFsaXplQ29udmVyc2F0aW9uKClcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJncmlkIGdyaWQtcm93cy1bYXV0b18xZnJdIGgtZnVsbFwiPlxuICAgIDwhLS0gTmF2aWdhdGlvbiBUb29sYmFyIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTAuNSBib3JkZXItYiBib3JkZXItbmV1dHJhbC03MDAgcHktMSBweC0yXCIgaWQ9XCJxdWljay1hY3Rpb25zXCI+XG4gICAgICA8IS0tIFZpZXcgTmF2aWdhdGlvbiAtLT5cbiAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJoLTcgdy03IHAtMFwiXG4gICAgICAgIDpjbGFzcz1cImN1cnJlbnRWaWV3TmFtZSA9PT0gJ2hvbWUnID8gJ3RleHQtbmV1dHJhbC0yMDAgYmctbmV1dHJhbC03MDAnIDogJ3RleHQtbmV1dHJhbC00MDAgaG92ZXI6dGV4dC1uZXV0cmFsLTIwMCdcIlxuICAgICAgICBAY2xpY2s9XCJzd2l0Y2hWaWV3KCdob21lJylcIiB0aXRsZT1cIkhvbWVcIj5cbiAgICAgICAgPEhvbWUgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgPC9CdXR0b24+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzPVwiaC03IHctNyBwLTBcIlxuICAgICAgICA6Y2xhc3M9XCJjdXJyZW50Vmlld05hbWUgPT09ICdoaXN0b3J5JyA/ICd0ZXh0LW5ldXRyYWwtMjAwIGJnLW5ldXRyYWwtNzAwJyA6ICd0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAnXCJcbiAgICAgICAgQGNsaWNrPVwic3dpdGNoVmlldygnaGlzdG9yeScpXCIgdGl0bGU9XCJIaXN0b3J5XCI+XG4gICAgICAgIDxIaXN0b3J5IGNsYXNzPVwic2l6ZS0zXCIgLz5cbiAgICAgIDwvQnV0dG9uPlxuICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzcz1cImgtNyB3LTcgcC0wXCJcbiAgICAgICAgOmNsYXNzPVwiY3VycmVudFZpZXdOYW1lID09PSAnY29udmVyc2F0aW9uJyA/ICd0ZXh0LW5ldXRyYWwtMjAwIGJnLW5ldXRyYWwtNzAwJyA6ICd0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAnXCJcbiAgICAgICAgQGNsaWNrPVwic3dpdGNoVmlldygnY29udmVyc2F0aW9uJylcIiB0aXRsZT1cIkNvbnZlcnNhdGlvblwiPlxuICAgICAgICA8TWVzc2FnZVNxdWFyZSBjbGFzcz1cInNpemUtM1wiIC8+XG4gICAgICA8L0J1dHRvbj5cblxuICAgICAgPCEtLSBEaXZpZGVyIC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImgtNCB3LXB4IGJnLW5ldXRyYWwtNjAwIG14LTFcIj48L2Rpdj5cblxuICAgICAgPCEtLSBBY3Rpb24gQnV0dG9ucyAtLT5cbiAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaC03IHctNyBwLTBcIiB0aXRsZT1cIlJlZnJlc2hcIj5cbiAgICAgICAgPFJvdGF0ZUNjdyBjbGFzcz1cInNpemUtM1wiIC8+XG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaC03IHctNyBwLTBcIlxuICAgICAgICBAY2xpY2s9XCJoYW5kbGVPcGVuU2V0dGluZ3NcIiB0aXRsZT1cIlNldHRpbmdzXCI+XG4gICAgICAgIDxTZXR0aW5ncyBjbGFzcz1cInNpemUtM1wiIC8+XG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3M9XCJ0ZXh0LW5ldXRyYWwtNDAwIGhvdmVyOnRleHQtbmV1dHJhbC0yMDAgaC03IHctNyBwLTBcIiB0aXRsZT1cIkV4cG9ydFwiPlxuICAgICAgICA8RG93bmxvYWQgY2xhc3M9XCJzaXplLTNcIiAvPlxuICAgICAgPC9CdXR0b24+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIER5bmFtaWMgVmlldyBDb250ZW50IC0tPlxuICAgIDxjb21wb25lbnQgOmlzPVwiY3VycmVudFZpZXdOYW1lID09PSAnaG9tZScgPyBWaWV3SG9tZSA6XG4gICAgICBjdXJyZW50Vmlld05hbWUgPT09ICdoaXN0b3J5JyA/IFZpZXdIaXN0b3J5IDpcbiAgICAgICAgVmlld0NvbnZlcnNhdGlvblwiIGNsYXNzPVwiZmxleC0xIG92ZXJmbG93LXktYXV0b1wiIEBjb21tYW5kLXN1Ym1pdD1cImhhbmRsZUNvbW1hbmRTdWJtaXRcIlxuICAgICAgQHByZXNldC1zZWxlY3RlZD1cImhhbmRsZVByZXNldFNlbGVjdGVkXCIgOmFjdGl2ZS10aHJlYWQ9XCJhY3RpdmVUaHJlYWRcIiA6YWN0aXZlLW1lc3NhZ2VzPVwiYWN0aXZlTWVzc2FnZXNcIlxuICAgICAgOmlzLWdlbmVyYXRpbmc9XCJpc0dlbmVyYXRpbmdcIiA6Zm9ybWF0LXRpbWU9XCJmb3JtYXRUaW1lXCIgQGNvcHktbWVzc2FnZT1cImNvcHlNZXNzYWdlXCJcbiAgICAgIEByZWdlbmVyYXRlLXJlc3BvbnNlPVwicmVnZW5lcmF0ZVJlc3BvbnNlXCIgQGNsZWFyLWNvbnZlcnNhdGlvbj1cImNsZWFyQ29udmVyc2F0aW9uXCIgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPiIsImltcG9ydCB0eXBlIFVzZUFpUGx1Z2luIGZyb20gXCJAL21haW5cIjtcbmltcG9ydCB7IGNyZWF0ZUFwcCwgdHlwZSBBcHAgYXMgVnVlQXBwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IFNpZGVwYW5lbCBmcm9tIFwiLi9TaWRlcGFuZWwudnVlXCI7XG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiwgdHlwZSBFdmVudFJlZiB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgY2xhc3MgU2lkZXBhbmVsVmlldyBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgcGx1Z2luOiBVc2VBaVBsdWdpblxuICB2dWVBcHA6IFZ1ZUFwcCB8IHVuZGVmaW5lZDtcbiAgc2hhZG93Um9vdDogU2hhZG93Um9vdCB8IHVuZGVmaW5lZDtcbiAgdnVlQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IFVzZUFpUGx1Z2luKSB7XG4gICAgc3VwZXIobGVhZilcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpblxuICB9XG5cbiAgZ2V0Vmlld1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJ1c2VhaS1zaWRlcGFuZWxcIjtcbiAgfVxuXG4gIGdldERpc3BsYXlUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiVXNlQUkgU2lkZXBhbmVsXCI7XG4gIH1cblxuICBhc3luYyBvbk9wZW4oKSB7XG4gICAgaWYgKHRoaXMuc2hhZG93Um9vdCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgdGhlIGNvbnRhaW5lciBmaXJzdFxuICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgICAvLyBDcmVhdGUgYSBjaGlsZCBlbGVtZW50IHRvIGhvc3QgdGhlIHNoYWRvdyBET01cbiAgICBjb25zdCBzaGFkb3dIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc2hhZG93SG9zdC5jbGFzc0xpc3QuYWRkKFwiaC1mdWxsXCIpO1xuICAgIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoc2hhZG93SG9zdCk7XG5cbiAgICAvLyBDcmVhdGUgc2hhZG93IERPTSBmb3Igc3R5bGUgaXNvbGF0aW9uIG9uIHRoZSBjaGlsZCBlbGVtZW50XG4gICAgdGhpcy5zaGFkb3dSb290ID0gc2hhZG93SG9zdC5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG5cbiAgICAvLyBDcmVhdGUgYSBjb250YWluZXIgZGl2IGluc2lkZSBzaGFkb3cgRE9NIGZvciBWdWUgdG8gbW91bnQgdG9cbiAgICB0aGlzLnZ1ZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMudnVlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoLWZ1bGxcIilcbiAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQodGhpcy52dWVDb250YWluZXIpO1xuXG4gICAgLy8gTG9hZCBzdHlsZXMgaW50byBzaGFkb3cgRE9NIGFuZCB0aGVuIG1vdW50IFZ1ZSBhcHBcbiAgICBhd2FpdCB0aGlzLmxvYWRTdHlsZXNJbnRvU2hhZG93RE9NKCk7XG5cbiAgICAvLyBDcmVhdGUgYW5kIG1vdW50IFZ1ZSBhcHAgdG8gc2hhZG93IERPTSBjb250YWluZXJcbiAgICB0aGlzLnZ1ZUFwcCA9IGNyZWF0ZUFwcChTaWRlcGFuZWwpO1xuICAgIHRoaXMudnVlQXBwLnByb3ZpZGUoXCJ1c2VBaVBsdWdpblwiLCB0aGlzLnBsdWdpbilcbiAgICB0aGlzLnZ1ZUFwcC5tb3VudCh0aGlzLnZ1ZUNvbnRhaW5lcik7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIENTUyBzdHlsZXMgaW50byB0aGUgc2hhZG93IERPTVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkU3R5bGVzSW50b1NoYWRvd0RPTSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuc2hhZG93Um9vdCkgcmV0dXJuO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIE1ldGhvZCAxOiBVc2UgT2JzaWRpYW4ncyBmaWxlIGFkYXB0ZXIgdG8gcmVhZCB0aGUgQ1NTIGZpbGVcbiAgICAgIGNvbnN0IHBsdWdpbkRpciA9IHRoaXMucGx1Z2luLm1hbmlmZXN0LmRpciB8fCAndXNlYWknO1xuICAgICAgY29uc3Qgc3R5bGVzUGF0aCA9IGAke3BsdWdpbkRpcn0vc3R5bGVzLmNzc2A7XG5cbiAgICAgIGNvbnN0IGNzc0NvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5yZWFkKHN0eWxlc1BhdGgpO1xuXG4gICAgICAvLyBDcmVhdGUgYSBzdHlsZSBlbGVtZW50IGFuZCBpbmplY3QgdGhlIENTU1xuICAgICAgY29uc3Qgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IGNzc0NvbnRlbnQ7XG4gICAgICB0aGlzLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIENTUyBzdHlsZXMgdmlhIGFkYXB0ZXIsIHRyeWluZyBhbHRlcm5hdGl2ZSBtZXRob2RzOicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBvbkNsb3NlKCkge1xuICAgIGlmICh0aGlzLnZ1ZUFwcCkge1xuICAgICAgdGhpcy52dWVBcHAudW5tb3VudCgpO1xuICAgICAgdGhpcy52dWVBcHAgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gQ2xlYW4gdXAgc2hhZG93IERPTSBvciByZWd1bGFyIGNvbnRhaW5lclxuICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgIHRoaXMuc2hhZG93Um9vdCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMudnVlQ29udGFpbmVyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgfVxufSIsImZ1bmN0aW9uIGFyb3VuZChvYmosIGZhY3Rvcmllcykge1xuICBjb25zdCByZW1vdmVycyA9IE9iamVjdC5rZXlzKGZhY3RvcmllcykubWFwKChrZXkpID0+IGFyb3VuZDEob2JqLCBrZXksIGZhY3Rvcmllc1trZXldKSk7XG4gIHJldHVybiByZW1vdmVycy5sZW5ndGggPT09IDEgPyByZW1vdmVyc1swXSA6IGZ1bmN0aW9uKCkge1xuICAgIHJlbW92ZXJzLmZvckVhY2goKHIpID0+IHIoKSk7XG4gIH07XG59XG5mdW5jdGlvbiBhcm91bmQxKG9iaiwgbWV0aG9kLCBjcmVhdGVXcmFwcGVyKSB7XG4gIGNvbnN0IGluaGVyaXRlZCA9IG9ialttZXRob2RdLCBoYWRPd24gPSBvYmouaGFzT3duUHJvcGVydHkobWV0aG9kKSwgb3JpZ2luYWwgPSBoYWRPd24gPyBpbmhlcml0ZWQgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iailbbWV0aG9kXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuICBsZXQgY3VycmVudCA9IGNyZWF0ZVdyYXBwZXIob3JpZ2luYWwpO1xuICBpZiAoaW5oZXJpdGVkKVxuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihjdXJyZW50LCBpbmhlcml0ZWQpO1xuICBPYmplY3Quc2V0UHJvdG90eXBlT2Yod3JhcHBlciwgY3VycmVudCk7XG4gIG9ialttZXRob2RdID0gd3JhcHBlcjtcbiAgcmV0dXJuIHJlbW92ZTtcbiAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgaWYgKGN1cnJlbnQgPT09IG9yaWdpbmFsICYmIG9ialttZXRob2RdID09PSB3cmFwcGVyKVxuICAgICAgcmVtb3ZlKCk7XG4gICAgcmV0dXJuIGN1cnJlbnQuYXBwbHkodGhpcywgYXJncyk7XG4gIH1cbiAgZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgIGlmIChvYmpbbWV0aG9kXSA9PT0gd3JhcHBlcikge1xuICAgICAgaWYgKGhhZE93bilcbiAgICAgICAgb2JqW21ldGhvZF0gPSBvcmlnaW5hbDtcbiAgICAgIGVsc2VcbiAgICAgICAgZGVsZXRlIG9ialttZXRob2RdO1xuICAgIH1cbiAgICBpZiAoY3VycmVudCA9PT0gb3JpZ2luYWwpXG4gICAgICByZXR1cm47XG4gICAgY3VycmVudCA9IG9yaWdpbmFsO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih3cmFwcGVyLCBpbmhlcml0ZWQgfHwgRnVuY3Rpb24pO1xuICB9XG59XG5mdW5jdGlvbiBkZWR1cGUoa2V5LCBvbGRGbiwgbmV3Rm4pIHtcbiAgY2hlY2tba2V5XSA9IGtleTtcbiAgcmV0dXJuIGNoZWNrO1xuICBmdW5jdGlvbiBjaGVjayguLi5hcmdzKSB7XG4gICAgcmV0dXJuIChvbGRGbltrZXldID09PSBrZXkgPyBvbGRGbiA6IG5ld0ZuKS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxufVxuZnVuY3Rpb24gYWZ0ZXIocHJvbWlzZSwgY2IpIHtcbiAgcmV0dXJuIHByb21pc2UudGhlbihjYiwgY2IpO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplKGFzeW5jRnVuY3Rpb24pIHtcbiAgbGV0IGxhc3RSdW4gPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgZnVuY3Rpb24gd3JhcHBlciguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGxhc3RSdW4gPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgIGFmdGVyKGxhc3RSdW4sICgpID0+IHtcbiAgICAgICAgYXN5bmNGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKS50aGVuKHJlcywgcmVqKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHdyYXBwZXIuYWZ0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbGFzdFJ1biA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgICAgYWZ0ZXIobGFzdFJ1biwgcmVzKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHdyYXBwZXI7XG59XG5cbmV4cG9ydCB7IGFmdGVyLCBhcm91bmQsIGRlZHVwZSwgc2VyaWFsaXplIH07XG4iLCJpbXBvcnQgeyBhcm91bmQgfSBmcm9tICdtb25rZXktYXJvdW5kJ1xuaW1wb3J0IHsgTWVudSB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHR5cGUgVXNlQWlQbHVnaW4gZnJvbSAnLi4vbWFpbidcbmltcG9ydCB0eXBlIHsgQ2FudmFzLCBDYW52YXNNZW51LCBDYW52YXNOb2RlLCBDb29yZGluYXRlIH0gZnJvbSAnLi4vdHlwZXMvY2FudmFzJ1xuXG4vLyBVc2UgV2Vha1NldCB0byB0cmFjayBwYXRjaGVkIG9iamVjdHMgaW5zdGVhZCBvZiBnbG9iYWwgZmxhZ3NcbmNvbnN0IHBhdGNoZWRDYW52YXNlcyA9IG5ldyBXZWFrU2V0PENhbnZhcz4oKVxuY29uc3QgcGF0Y2hlZE1lbnVzID0gbmV3IFdlYWtTZXQ8YW55PigpXG5jb25zdCBwYXRjaGVkTm9kZVByb3RvdHlwZXMgPSBuZXcgV2Vha1NldDxhbnk+KClcbmNvbnN0IGNhbnZhc2VzV2FpdGluZ0Zvck5vZGVzID0gbmV3IFdlYWtTZXQ8Q2FudmFzPigpXG5cbi8vIEZ1bmN0aW9uIHRvIHBhdGNoIHRoZSBtZW51XG5leHBvcnQgY29uc3QgcGF0Y2hNZW51ID0gKHBsdWdpbjogVXNlQWlQbHVnaW4sIGNhbnZhczogQ2FudmFzKSA9PiB7XG4gICAgaWYgKCFjYW52YXMubWVudSkgcmV0dXJuIGZhbHNlXG5cbiAgICBjb25zdCBtZW51UHJvdG90eXBlID0gY2FudmFzLm1lbnUuY29uc3RydWN0b3IucHJvdG90eXBlXG4gICAgaWYgKHBhdGNoZWRNZW51cy5oYXMobWVudVByb3RvdHlwZSkpIHJldHVybiB0cnVlXG5cbiAgICBwbHVnaW4ucmVnaXN0ZXIoXG4gICAgICAgIGFyb3VuZDxDYW52YXNNZW51PihtZW51UHJvdG90eXBlLCB7XG4gICAgICAgICAgICByZW5kZXI6IChuZXh0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IENhbnZhc01lbnUsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVudUVsLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW52YXMuc2VsZWN0aW9uLnNpemUgIT09IDEpIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPYmplY3QgPSB0aGlzLmNhbnZhcy5zZWxlY3Rpb24udmFsdWVzKCkubmV4dCgpLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWRPYmplY3QpIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzZWxlY3RlZE9iamVjdCwgJ3BhdGgnKSkgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNlbGVjdGVkT2JqZWN0LCAnYmdQYXRoJykpIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKCdjYW52YXM6bm9kZS1tZW51JywgdGhpcywgdGhpcy5jYW52YXMsIHNlbGVjdGVkT2JqZWN0IGFzIENhbnZhc05vZGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgKVxuXG4gICAgcGF0Y2hlZE1lbnVzLmFkZChtZW51UHJvdG90eXBlKVxuICAgIHJldHVybiB0cnVlXG59XG5cbi8vIEZ1bmN0aW9uIHRvIHBhdGNoIHRoZSBjYW52YXNcbmV4cG9ydCBjb25zdCBwYXRjaENhbnZhcyA9IChwbHVnaW46IFVzZUFpUGx1Z2luLCBjYW52YXM6IENhbnZhcykgPT4ge1xuICAgIGlmIChwYXRjaGVkQ2FudmFzZXMuaGFzKGNhbnZhcykpIHJldHVybiB0cnVlXG5cbiAgICBjb25zdCBjYW52YXNQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2FudmFzKVxuICAgIC8vIHRoaXMgaXMgbm93IHRoZSBDYW52YXMgb2JqZWN0XG4gICAgLy8gVFMgaGludDogY2FudmFzUHJvdG90eXBlIGlzIG9mIHR5cGUgQ2FudmFzXG5cbiAgICBwbHVnaW4ucmVnaXN0ZXIoXG4gICAgICAgIGFyb3VuZDxDYW52YXM+KGNhbnZhc1Byb3RvdHlwZSwge1xuICAgICAgICAgICAgYWRkTm9kZShuZXh0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBDYW52YXMsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChuZXh0IGFzIGFueSkuY2FsbCh0aGlzLCAuLi5hcmdzKVxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcm9sZS1iYXNlZCBub2RlIGRhdGEgc2V0dGluZ1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZEVkZ2U6IChuZXh0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IENhbnZhcywgLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1swXS5jb2xvciA9IGFyZ3NbMF0uZnJvbT8ubm9kZT8uY29sb3JcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQuY2FsbCh0aGlzLCAuLi5hcmdzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG93Q3JlYXRpb25NZW51OiAobmV4dDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBDYW52YXMsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lbnU6IE1lbnUgPSBhcmdzWzBdXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvczogQ29vcmRpbmF0ZSA9IGFyZ3NbMV1cbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLmV2ZW50cy50cmlnZ2VyKCdjYW52YXM6Y3JlYXRpb24tbWVudScsIG1lbnUsIGNhbnZhcywgcG9zKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIClcblxuICAgIHBhdGNoZWRDYW52YXNlcy5hZGQoY2FudmFzKVxuICAgIHJldHVybiB0cnVlXG59XG5cbi8vIFBhdGNoIG5vZGUgaXMgdmVyeSB0cmlja3ksIGl0IHJlcXVpcmVzIHRvIGhhdmUgYXQgbGVhc3Qgb25lIG5vZGUgdG8gYmUgYWJsZSB0byBwYXRjaCBpdFxuLy8gU2NlbmFyaW9zOlxuLy8gMS4gVGhlcmUgaXMgYSBub2RlLCBwYXRjaCBpdCwgZWFzeSBjYXNlXG4vLyAyLiBUaGVyZSBpcyBubyBub2RlLCB3ZSBuZWVkIHRvIHdhaXQgZm9yIGEgbm9kZSB0byBiZSBjcmVhdGVkXG5leHBvcnQgY29uc3QgcGF0Y2hOb2RlID0gKHBsdWdpbjogVXNlQWlQbHVnaW4sIGNhbnZhczogQ2FudmFzKSA9PiB7XG4gICAgY29uc3Qgbm9kZXMgPSBjYW52YXMubm9kZXNcbiAgICBpZiAobm9kZXMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAvLyBJZiBubyBub2RlcyBleGlzdCBhbmQgd2UgaGF2ZW4ndCBzZXQgdXAgdGhlIGxpc3RlbmVyIHlldFxuICAgICAgICBpZiAoIWNhbnZhc2VzV2FpdGluZ0Zvck5vZGVzLmhhcyhjYW52YXMpKSB7XG4gICAgICAgICAgICBzZXR1cE5vZGVDcmVhdGlvbkxpc3RlbmVyKHBsdWdpbiwgY2FudmFzKVxuICAgICAgICAgICAgY2FudmFzZXNXYWl0aW5nRm9yTm9kZXMuYWRkKGNhbnZhcylcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0Y2hOb2RlUHJvdG90eXBlKHBsdWdpbiwgY2FudmFzKVxufVxuXG5jb25zdCBzZXR1cE5vZGVDcmVhdGlvbkxpc3RlbmVyID0gKHBsdWdpbjogVXNlQWlQbHVnaW4sIGNhbnZhczogQ2FudmFzKSA9PiB7XG4gICAgLy8gVXNlIHRoZSBjYW52YXMgcGF0Y2ggdG8gaW50ZXJjZXB0IGFkZE5vZGUgY2FsbHNcbiAgICBpZiAoIXBhdGNoZWRDYW52YXNlcy5oYXMoY2FudmFzKSkge1xuICAgICAgICBjb25zdCBjYW52YXNQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY2FudmFzKVxuICAgICAgICBwbHVnaW4ucmVnaXN0ZXIoXG4gICAgICAgICAgICBhcm91bmQ8Q2FudmFzPihjYW52YXNQcm90b3R5cGUsIHtcbiAgICAgICAgICAgICAgICBhZGROb2RlKG5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBDYW52YXMsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAobmV4dCBhcyBhbnkpLmNhbGwodGhpcywgLi4uYXJncylcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyeSB0byBwYXRjaCBub2RlIHByb3RvdHlwZSBhZnRlciBhIG5vZGUgaXMgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW52YXNlc1dhaXRpbmdGb3JOb2Rlcy5oYXModGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGNoTm9kZVByb3RvdHlwZShwbHVnaW4sIHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNlc1dhaXRpbmdGb3JOb2Rlcy5kZWxldGUodGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgfVxufVxuXG5jb25zdCBwYXRjaE5vZGVQcm90b3R5cGUgPSAocGx1Z2luOiBVc2VBaVBsdWdpbiwgY2FudmFzOiBDYW52YXMpID0+IHtcbiAgICBjb25zdCBub2RlcyA9IGNhbnZhcy5ub2Rlc1xuICAgIGlmIChub2Rlcy5zaXplID09PSAwKSByZXR1cm4gZmFsc2VcblxuICAgIGNvbnN0IHByb3RvdHlwZU5vZGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobm9kZXMudmFsdWVzKCkubmV4dCgpLnZhbHVlKVxuICAgIGlmIChwYXRjaGVkTm9kZVByb3RvdHlwZXMuaGFzKHByb3RvdHlwZU5vZGUpKSByZXR1cm4gdHJ1ZVxuXG4gICAgcGx1Z2luLnJlZ2lzdGVyKFxuICAgICAgICBhcm91bmQocHJvdG90eXBlTm9kZSwge1xuICAgICAgICAgICAgcmVuZGVyOiAobmV4dDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGlzOiBDYW52YXNOb2RlLCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0LmNhbGwodGhpcywgLi4uYXJncylcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgbm9kZTogQ2FudmFzTm9kZSA9IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IHRyeSB0byBwYXRjaCBhZ2FpblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlRWwuZ2V0QXR0cmlidXRlKCdkYXRhLXBhdGNoZWQnKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZUVsLnNldEF0dHJpYnV0ZSgnZGF0YS1wYXRjaGVkJywgJ3RydWUnKVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2hvd01lbnU6IChuZXh0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRoaXM6IENhbnZhc05vZGUsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lbnU6IE1lbnUgPSBhcmdzWzBdXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGU6IENhbnZhc05vZGUgPSB0aGlzXG4gICAgICAgICAgICAgICAgICAgIG1lbnUuYWRkU2VwYXJhdG9yKClcbiAgICAgICAgICAgICAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnNldFRpdGxlKCdTcGxpdCBsaXN0IHRvIG5vdGVzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0SWNvbignbHVjaWRlLWxpc3QnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vbkNsaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3BsdWdpbi5ldmVudHMudHJpZ2dlcignY2FudmFzOnNwbGl0LW5vZGUnLCBjYW52YXMsIG5vZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dC5jYWxsKHRoaXMsIC4uLmFyZ3MpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIClcblxuICAgIHBhdGNoZWROb2RlUHJvdG90eXBlcy5hZGQocHJvdG90eXBlTm9kZSlcbiAgICByZXR1cm4gdHJ1ZVxufVxuXG4vLyBUaGUgb3JpZ2luYWwgZnVuY3Rpb24gbm93IGNhbGxzIHRoZSB0aHJlZSBuZXcgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgcGF0Y2hBbGwgPSAocGx1Z2luOiBVc2VBaVBsdWdpbikgPT4ge1xuICAgIGNvbnN0IGNhbnZhc0xlYXZlcyA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZSgnY2FudmFzJylcbiAgICBjb25zb2xlLmxvZygnZm91bmQnLCBjYW52YXNMZWF2ZXMubGVuZ3RoLCAnY2FudmFzIGxlYXZlcycpXG4gICAgZm9yIChjb25zdCBsZWFmIG9mIGNhbnZhc0xlYXZlcykge1xuICAgICAgICAvLyBAdHMtaWdub3JlLW5leHQtbGluZVxuICAgICAgICBjb25zdCBjYW52YXMgPSBsZWFmLnZpZXcuY2FudmFzXG4gICAgICAgIGlmICghY2FudmFzKSBjb250aW51ZVxuICAgICAgICBjb25zb2xlLmxvZygnY2FudmFzJywgY2FudmFzKVxuICAgICAgICBjb25zdCBtZW51UGF0Y2hlZCA9IHBhdGNoTWVudShwbHVnaW4sIGNhbnZhcylcbiAgICAgICAgY29uc3QgY2FudmFzUGF0Y2hlZCA9IHBhdGNoQ2FudmFzKHBsdWdpbiwgY2FudmFzKVxuICAgICAgICBjb25zdCBub2RlUGF0Y2hlZCA9IHBhdGNoTm9kZShwbHVnaW4sIGNhbnZhcylcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxufVxuXG5leHBvcnQgY29uc3QgY2xlYW51cFBhdGNoZXMgPSAoKSA9PiB7XG4gICAgLy8gQ2xlYW51cCBpcyBoYW5kbGVkIGJ5IHRoZSBtb25rZXktYXJvdW5kIGxpYnJhcnlcbiAgICBjb25zb2xlLmxvZygnY2xlYW5pbmcgdXAgcGF0Y2hlcycpXG59XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxuXG5jb25zdCBSRV9ZT1VUVUJFID0gLyg/OnlvdXR1YmVcXC5jb21cXC8oPzpbXlxcL10rXFwvLitcXC98KD86dnxlKD86bWJlZCk/KVxcL3wuKls/Jl12PSl8eW91dHVcXC5iZVxcLykoW15cIiY/XFwvXFxzXXsxMX0pL2k7XHJcbmNvbnN0IFVTRVJfQUdFTlQgPSAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My44MyBTYWZhcmkvNTM3LjM2LGd6aXAoZ2ZlKSc7XHJcbmNvbnN0IFJFX1hNTF9UUkFOU0NSSVBUID0gLzx0ZXh0IHN0YXJ0PVwiKFteXCJdKilcIiBkdXI9XCIoW15cIl0qKVwiPihbXjxdKik8XFwvdGV4dD4vZztcclxuY2xhc3MgWW91dHViZVRyYW5zY3JpcHRFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcclxuICAgICAgICBzdXBlcihgW1lvdXR1YmVUcmFuc2NyaXB0XSDwn5qoICR7bWVzc2FnZX1gKTtcclxuICAgIH1cclxufVxyXG5jbGFzcyBZb3V0dWJlVHJhbnNjcmlwdFRvb01hbnlSZXF1ZXN0RXJyb3IgZXh0ZW5kcyBZb3V0dWJlVHJhbnNjcmlwdEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdZb3VUdWJlIGlzIHJlY2VpdmluZyB0b28gbWFueSByZXF1ZXN0cyBmcm9tIHRoaXMgSVAgYW5kIG5vdyByZXF1aXJlcyBzb2x2aW5nIGEgY2FwdGNoYSB0byBjb250aW51ZScpO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFlvdXR1YmVUcmFuc2NyaXB0VmlkZW9VbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgWW91dHViZVRyYW5zY3JpcHRFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2aWRlb0lkKSB7XHJcbiAgICAgICAgc3VwZXIoYFRoZSB2aWRlbyBpcyBubyBsb25nZXIgYXZhaWxhYmxlICgke3ZpZGVvSWR9KWApO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFlvdXR1YmVUcmFuc2NyaXB0RGlzYWJsZWRFcnJvciBleHRlbmRzIFlvdXR1YmVUcmFuc2NyaXB0RXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IodmlkZW9JZCkge1xyXG4gICAgICAgIHN1cGVyKGBUcmFuc2NyaXB0IGlzIGRpc2FibGVkIG9uIHRoaXMgdmlkZW8gKCR7dmlkZW9JZH0pYCk7XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgWW91dHViZVRyYW5zY3JpcHROb3RBdmFpbGFibGVFcnJvciBleHRlbmRzIFlvdXR1YmVUcmFuc2NyaXB0RXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IodmlkZW9JZCkge1xyXG4gICAgICAgIHN1cGVyKGBObyB0cmFuc2NyaXB0cyBhcmUgYXZhaWxhYmxlIGZvciB0aGlzIHZpZGVvICgke3ZpZGVvSWR9KWApO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFlvdXR1YmVUcmFuc2NyaXB0Tm90QXZhaWxhYmxlTGFuZ3VhZ2VFcnJvciBleHRlbmRzIFlvdXR1YmVUcmFuc2NyaXB0RXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IobGFuZywgYXZhaWxhYmxlTGFuZ3MsIHZpZGVvSWQpIHtcclxuICAgICAgICBzdXBlcihgTm8gdHJhbnNjcmlwdHMgYXJlIGF2YWlsYWJsZSBpbiAke2xhbmd9IHRoaXMgdmlkZW8gKCR7dmlkZW9JZH0pLiBBdmFpbGFibGUgbGFuZ3VhZ2VzOiAke2F2YWlsYWJsZUxhbmdzLmpvaW4oJywgJyl9YCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENsYXNzIHRvIHJldHJpZXZlIHRyYW5zY3JpcHQgaWYgZXhpc3RcclxuICovXHJcbmNsYXNzIFlvdXR1YmVUcmFuc2NyaXB0IHtcclxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggdHJhbnNjcmlwdCBmcm9tIFlUQiBWaWRlb1xyXG4gICAgICogQHBhcmFtIHZpZGVvSWQgVmlkZW8gdXJsIG9yIHZpZGVvIGlkZW50aWZpZXJcclxuICAgICAqIEBwYXJhbSBjb25maWcgR2V0IHRyYW5zY3JpcHQgaW4gYSBzcGVjaWZpYyBsYW5ndWFnZSBJU09cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGZldGNoVHJhbnNjcmlwdCh2aWRlb0lkLCBjb25maWcpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IHRoaXMucmV0cmlldmVWaWRlb0lkKHZpZGVvSWQpO1xyXG4gICAgICAgICAgICBjb25zdCB2aWRlb1BhZ2VSZXNwb25zZSA9IHlpZWxkIGZldGNoKGBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PSR7aWRlbnRpZmllcn1gLCB7XHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmxhbmcpICYmIHsgJ0FjY2VwdC1MYW5ndWFnZSc6IGNvbmZpZy5sYW5nIH0pKSwgeyAnVXNlci1BZ2VudCc6IFVTRVJfQUdFTlQgfSksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCB2aWRlb1BhZ2VCb2R5ID0geWllbGQgdmlkZW9QYWdlUmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgICAgICBjb25zdCBzcGxpdHRlZEhUTUwgPSB2aWRlb1BhZ2VCb2R5LnNwbGl0KCdcImNhcHRpb25zXCI6Jyk7XHJcbiAgICAgICAgICAgIGlmIChzcGxpdHRlZEhUTUwubGVuZ3RoIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2aWRlb1BhZ2VCb2R5LmluY2x1ZGVzKCdjbGFzcz1cImctcmVjYXB0Y2hhXCInKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBZb3V0dWJlVHJhbnNjcmlwdFRvb01hbnlSZXF1ZXN0RXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdmlkZW9QYWdlQm9keS5pbmNsdWRlcygnXCJwbGF5YWJpbGl0eVN0YXR1c1wiOicpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFlvdXR1YmVUcmFuc2NyaXB0VmlkZW9VbmF2YWlsYWJsZUVycm9yKHZpZGVvSWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFlvdXR1YmVUcmFuc2NyaXB0RGlzYWJsZWRFcnJvcih2aWRlb0lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjYXB0aW9ucyA9IChfYSA9ICgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHNwbGl0dGVkSFRNTFsxXS5zcGxpdCgnLFwidmlkZW9EZXRhaWxzJylbMF0ucmVwbGFjZSgnXFxuJywgJycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWydwbGF5ZXJDYXB0aW9uc1RyYWNrbGlzdFJlbmRlcmVyJ107XHJcbiAgICAgICAgICAgIGlmICghY2FwdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBZb3V0dWJlVHJhbnNjcmlwdERpc2FibGVkRXJyb3IodmlkZW9JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEoJ2NhcHRpb25UcmFja3MnIGluIGNhcHRpb25zKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFlvdXR1YmVUcmFuc2NyaXB0Tm90QXZhaWxhYmxlRXJyb3IodmlkZW9JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcubGFuZykgJiZcclxuICAgICAgICAgICAgICAgICFjYXB0aW9ucy5jYXB0aW9uVHJhY2tzLnNvbWUoKHRyYWNrKSA9PiB0cmFjay5sYW5ndWFnZUNvZGUgPT09IChjb25maWcgPT09IG51bGwgfHwgY29uZmlnID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb25maWcubGFuZykpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWW91dHViZVRyYW5zY3JpcHROb3RBdmFpbGFibGVMYW5ndWFnZUVycm9yKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5sYW5nLCBjYXB0aW9ucy5jYXB0aW9uVHJhY2tzLm1hcCgodHJhY2spID0+IHRyYWNrLmxhbmd1YWdlQ29kZSksIHZpZGVvSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zY3JpcHRVUkwgPSAoKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5sYW5nKSA/IGNhcHRpb25zLmNhcHRpb25UcmFja3MuZmluZCgodHJhY2spID0+IHRyYWNrLmxhbmd1YWdlQ29kZSA9PT0gKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5sYW5nKSlcclxuICAgICAgICAgICAgICAgIDogY2FwdGlvbnMuY2FwdGlvblRyYWNrc1swXSkuYmFzZVVybDtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNjcmlwdFJlc3BvbnNlID0geWllbGQgZmV0Y2godHJhbnNjcmlwdFVSTCwge1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoKGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5sYW5nKSAmJiB7ICdBY2NlcHQtTGFuZ3VhZ2UnOiBjb25maWcubGFuZyB9KSksIHsgJ1VzZXItQWdlbnQnOiBVU0VSX0FHRU5UIH0pLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKCF0cmFuc2NyaXB0UmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBZb3V0dWJlVHJhbnNjcmlwdE5vdEF2YWlsYWJsZUVycm9yKHZpZGVvSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zY3JpcHRCb2R5ID0geWllbGQgdHJhbnNjcmlwdFJlc3BvbnNlLnRleHQoKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IFsuLi50cmFuc2NyaXB0Qm9keS5tYXRjaEFsbChSRV9YTUxfVFJBTlNDUklQVCldO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcmVzdWx0WzNdLFxyXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBwYXJzZUZsb2F0KHJlc3VsdFsyXSksXHJcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBwYXJzZUZsb2F0KHJlc3VsdFsxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgbGFuZzogKF9hID0gY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmxhbmcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNhcHRpb25zLmNhcHRpb25UcmFja3NbMF0ubGFuZ3VhZ2VDb2RlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXRyaWV2ZSB2aWRlbyBpZCBmcm9tIHVybCBvciBzdHJpbmdcclxuICAgICAqIEBwYXJhbSB2aWRlb0lkIHZpZGVvIHVybCBvciB2aWRlbyBpZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmV0cmlldmVWaWRlb0lkKHZpZGVvSWQpIHtcclxuICAgICAgICBpZiAodmlkZW9JZC5sZW5ndGggPT09IDExKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2aWRlb0lkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBtYXRjaElkID0gdmlkZW9JZC5tYXRjaChSRV9ZT1VUVUJFKTtcclxuICAgICAgICBpZiAobWF0Y2hJZCAmJiBtYXRjaElkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hJZFsxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IFlvdXR1YmVUcmFuc2NyaXB0RXJyb3IoJ0ltcG9zc2libGUgdG8gcmV0cmlldmUgWW91dHViZSB2aWRlbyBJRC4nKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBZb3V0dWJlVHJhbnNjcmlwdCwgWW91dHViZVRyYW5zY3JpcHREaXNhYmxlZEVycm9yLCBZb3V0dWJlVHJhbnNjcmlwdEVycm9yLCBZb3V0dWJlVHJhbnNjcmlwdE5vdEF2YWlsYWJsZUVycm9yLCBZb3V0dWJlVHJhbnNjcmlwdE5vdEF2YWlsYWJsZUxhbmd1YWdlRXJyb3IsIFlvdXR1YmVUcmFuc2NyaXB0VG9vTWFueVJlcXVlc3RFcnJvciwgWW91dHViZVRyYW5zY3JpcHRWaWRlb1VuYXZhaWxhYmxlRXJyb3IgfTtcbiIsImltcG9ydCB7IFlvdXR1YmVUcmFuc2NyaXB0IH0gZnJvbSAneW91dHViZS10cmFuc2NyaXB0JztcblxuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFRyYW5zY3JpcHQodXJsOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpZCA9IHVybC5tYXRjaCgvKD86aHR0cHM/OlxcL1xcLyk/KD86d3d3XFwuKT95b3V0dWJlXFwuY29tXFwvd2F0Y2hcXD92PShbXiZdKykvKT8uWzFdO1xuICAgIGlmICghaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IFlvdVR1YmUgSUQnKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFlvdXR1YmVUcmFuc2NyaXB0LmZldGNoVHJhbnNjcmlwdChpZCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5yZWR1Y2UoKGFjYywgY3VycikgPT4gYWNjICsgY3Vyci50ZXh0ICsgJ1xcbicsICcnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBZb3VUdWJlIHRyYW5zY3JpcHQ6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gJ1RyYW5zY3JpcHQgc2VydmljZSBpcyBjdXJyZW50bHkgdW5hdmFpbGFibGUuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuJztcbiAgICB9XG59XG5cbmV4cG9ydCB7IGZldGNoVHJhbnNjcmlwdCB9OyIsIiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRGVmdWRkbGU9ZSgpOnQuRGVmdWRkbGU9ZSgpfShcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsKCgpPT4oKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgdD17MDoodCxlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5tYXRoUnVsZXM9ZS5jcmVhdGVDbGVhbk1hdGhFbD12b2lkIDA7Y29uc3Qgbj1yKDI4Mik7ZS5jcmVhdGVDbGVhbk1hdGhFbD0odCxlLHIsbik9Pntjb25zdCBvPXQuY3JlYXRlRWxlbWVudChcIm1hdGhcIik7aWYoby5zZXRBdHRyaWJ1dGUoXCJ4bWxuc1wiLFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiKSxvLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIixuP1wiYmxvY2tcIjpcImlubGluZVwiKSxvLnNldEF0dHJpYnV0ZShcImRhdGEtbGF0ZXhcIixyfHxcIlwiKSxudWxsPT1lP3ZvaWQgMDplLm1hdGhtbCl7Y29uc3Qgcj10LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5pbm5lckhUTUw9ZS5tYXRobWw7Y29uc3Qgbj1yLnF1ZXJ5U2VsZWN0b3IoXCJtYXRoXCIpO24mJihvLmlubmVySFRNTD1uLmlubmVySFRNTCl9ZWxzZSByJiYoby50ZXh0Q29udGVudD1yKTtyZXR1cm4gb30sZS5tYXRoUnVsZXM9W3tzZWxlY3RvcjpuLm1hdGhTZWxlY3RvcnMsZWxlbWVudDpcIm1hdGhcIix0cmFuc2Zvcm06KHQscik9PntpZighZnVuY3Rpb24odCl7cmV0dXJuXCJjbGFzc0xpc3RcImluIHQmJlwiZ2V0QXR0cmlidXRlXCJpbiB0JiZcInF1ZXJ5U2VsZWN0b3JcImluIHR9KHQpKXJldHVybiB0O2NvbnN0IG89KDAsbi5nZXRNYXRoTUxGcm9tRWxlbWVudCkodCksaT0oMCxuLmdldEJhc2ljTGF0ZXhGcm9tRWxlbWVudCkodCksYT0oMCxuLmlzQmxvY2tEaXNwbGF5KSh0KSxzPSgwLGUuY3JlYXRlQ2xlYW5NYXRoRWwpKHIsbyxpLGEpO2lmKHQucGFyZW50RWxlbWVudCl7dC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1xcblxcdFxcdFxcdFxcdFxcdC8qIE1hdGhKYXggc2NyaXB0cyBhbmQgcHJldmlld3MgKi9cXG5cXHRcXHRcXHRcXHRcXHRzY3JpcHRbdHlwZV49XCJtYXRoL1wiXSxcXG5cXHRcXHRcXHRcXHRcXHQuTWF0aEpheF9QcmV2aWV3LFxcblxcblxcdFxcdFxcdFxcdFxcdC8qIEV4dGVybmFsIG1hdGggbGlicmFyeSBzY3JpcHRzICovXFxuXFx0XFx0XFx0XFx0XFx0c2NyaXB0W3R5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIl1bc3JjKj1cIm1hdGhqYXhcIl0sXFxuXFx0XFx0XFx0XFx0XFx0c2NyaXB0W3R5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIl1bc3JjKj1cImthdGV4XCJdXFxuXFx0XFx0XFx0XFx0JykuZm9yRWFjaCgodD0+dC5yZW1vdmUoKSkpfXJldHVybiBzfX1dfSwyMDoodCxlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Hcm9rRXh0cmFjdG9yPXZvaWQgMDtjb25zdCBuPXIoMTgxKTtjbGFzcyBvIGV4dGVuZHMgbi5Db252ZXJzYXRpb25FeHRyYWN0b3J7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMubWVzc2FnZUNvbnRhaW5lclNlbGVjdG9yPVwiLnJlbGF0aXZlLmdyb3VwLmZsZXguZmxleC1jb2wuanVzdGlmeS1jZW50ZXIudy1mdWxsXCIsdGhpcy5tZXNzYWdlQnViYmxlcz10LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5tZXNzYWdlQ29udGFpbmVyU2VsZWN0b3IpLHRoaXMuZm9vdG5vdGVzPVtdLHRoaXMuZm9vdG5vdGVDb3VudGVyPTB9Y2FuRXh0cmFjdCgpe3JldHVybiEhdGhpcy5tZXNzYWdlQnViYmxlcyYmdGhpcy5tZXNzYWdlQnViYmxlcy5sZW5ndGg+MH1leHRyYWN0TWVzc2FnZXMoKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLmZvb3Rub3Rlcz1bXSx0aGlzLmZvb3Rub3RlQ291bnRlcj0wLHRoaXMubWVzc2FnZUJ1YmJsZXMmJjAhPT10aGlzLm1lc3NhZ2VCdWJibGVzLmxlbmd0aD8odGhpcy5tZXNzYWdlQnViYmxlcy5mb3JFYWNoKChlPT57dmFyIHI7Y29uc3Qgbj1lLmNsYXNzTGlzdC5jb250YWlucyhcIml0ZW1zLWVuZFwiKSxvPWUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXRlbXMtc3RhcnRcIik7aWYoIW4mJiFvKXJldHVybjtjb25zdCBpPWUucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlLWJ1YmJsZVwiKTtpZighaSlyZXR1cm47bGV0IGE9XCJcIixzPVwiXCIsbD1cIlwiO2lmKG4pYT1pLnRleHRDb250ZW50fHxcIlwiLHM9XCJ1c2VyXCIsbD1cIllvdVwiO2Vsc2UgaWYobyl7cz1cImFzc2lzdGFudFwiLGw9XCJHcm9rXCI7Y29uc3QgdD1pLmNsb25lTm9kZSghMCk7bnVsbD09PShyPXQucXVlcnlTZWxlY3RvcihcIi5yZWxhdGl2ZS5ib3JkZXIuYm9yZGVyLWJvcmRlci1sMS5iZy1zdXJmYWNlLWJhc2VcIikpfHx2b2lkIDA9PT1yfHxyLnJlbW92ZSgpLGE9dC5pbm5lckhUTUwsYT10aGlzLnByb2Nlc3NGb290bm90ZXMoYSl9YS50cmltKCkmJnQucHVzaCh7YXV0aG9yOmwsY29udGVudDphLnRyaW0oKSxtZXRhZGF0YTp7cm9sZTpzfX0pfSkpLHQpOnR9Z2V0Rm9vdG5vdGVzKCl7cmV0dXJuIHRoaXMuZm9vdG5vdGVzfWdldE1ldGFkYXRhKCl7dmFyIHQ7Y29uc3QgZT10aGlzLmdldFRpdGxlKCkscj0obnVsbD09PSh0PXRoaXMubWVzc2FnZUJ1YmJsZXMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmxlbmd0aCl8fDA7cmV0dXJue3RpdGxlOmUsc2l0ZTpcIkdyb2tcIix1cmw6dGhpcy51cmwsbWVzc2FnZUNvdW50OnIsZGVzY3JpcHRpb246YEdyb2sgY29udmVyc2F0aW9uIHdpdGggJHtyfSBtZXNzYWdlc2B9fWdldFRpdGxlKCl7dmFyIHQsZTtjb25zdCByPW51bGw9PT0odD10aGlzLmRvY3VtZW50LnRpdGxlKXx8dm9pZCAwPT09dD92b2lkIDA6dC50cmltKCk7aWYociYmXCJHcm9rXCIhPT1yJiYhci5zdGFydHNXaXRoKFwiR3JvayBieSBcIikpcmV0dXJuIHIucmVwbGFjZSgvXFxzLVxccypHcm9rJC8sXCJcIikudHJpbSgpO2NvbnN0IG49dGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke3RoaXMubWVzc2FnZUNvbnRhaW5lclNlbGVjdG9yfS5pdGVtcy1lbmRgKTtpZihuKXtjb25zdCB0PW4ucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlLWJ1YmJsZVwiKTtpZih0KXtjb25zdCByPShudWxsPT09KGU9dC50ZXh0Q29udGVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHJpbSgpKXx8XCJcIjtyZXR1cm4gci5sZW5ndGg+NTA/ci5zbGljZSgwLDUwKStcIi4uLlwiOnJ9fXJldHVyblwiR3JvayBDb252ZXJzYXRpb25cIn1wcm9jZXNzRm9vdG5vdGVzKHQpe3JldHVybiB0LnJlcGxhY2UoLzxhXFxzKyg/OltePl0qP1xccyspP2hyZWY9XCIoW15cIl0qKVwiW14+XSo+KC4qPyk8XFwvYT4vZ2ksKCh0LGUscik9PntpZighZXx8ZS5zdGFydHNXaXRoKFwiI1wiKXx8IWUubWF0Y2goL15odHRwcz86XFwvXFwvL2kpKXJldHVybiB0O2xldCBuO2lmKHRoaXMuZm9vdG5vdGVzLmZpbmQoKHQ9PnQudXJsPT09ZSkpKW49dGhpcy5mb290bm90ZXMuZmluZEluZGV4KCh0PT50LnVybD09PWUpKSsxO2Vsc2V7dGhpcy5mb290bm90ZUNvdW50ZXIrKyxuPXRoaXMuZm9vdG5vdGVDb3VudGVyO2xldCB0PWU7dHJ5e2NvbnN0IHI9bmV3IFVSTChlKS5ob3N0bmFtZS5yZXBsYWNlKC9ed3d3XFwuLyxcIlwiKTt0PWA8YSBocmVmPVwiJHtlfVwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj4ke3J9PC9hPmB9Y2F0Y2gocil7dD1gPGEgaHJlZj1cIiR7ZX1cIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+JHtlfTwvYT5gLGNvbnNvbGUud2FybihgR3Jva0V4dHJhY3RvcjogQ291bGQgbm90IHBhcnNlIFVSTCBmb3IgZm9vdG5vdGU6ICR7ZX1gKX10aGlzLmZvb3Rub3Rlcy5wdXNoKHt1cmw6ZSx0ZXh0OnR9KX1yZXR1cm5gJHtyfTxzdXAgaWQ9XCJmbnJlZjoke259XCIgY2xhc3M9XCJmb290bm90ZS1yZWZcIj48YSBocmVmPVwiI2ZuOiR7bn1cIiBjbGFzcz1cImZvb3Rub3RlLWxpbmtcIj4ke259PC9hPjwvc3VwPmB9KSl9fWUuR3Jva0V4dHJhY3Rvcj1vfSwxODE6KHQsZSxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQ29udmVyc2F0aW9uRXh0cmFjdG9yPXZvaWQgMDtjb25zdCBuPXIoMjc5KSxvPXIoNjI4KTtjbGFzcyBpIGV4dGVuZHMgbi5CYXNlRXh0cmFjdG9ye2dldEZvb3Rub3Rlcygpe3JldHVybltdfWV4dHJhY3QoKXt2YXIgdDtjb25zdCBlPXRoaXMuZXh0cmFjdE1lc3NhZ2VzKCkscj10aGlzLmdldE1ldGFkYXRhKCksbj10aGlzLmdldEZvb3Rub3RlcygpLGk9dGhpcy5jcmVhdGVDb250ZW50SHRtbChlLG4pLGE9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCkscz1hLmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIpO3MuaW5uZXJIVE1MPWksYS5ib2R5LmFwcGVuZENoaWxkKHMpO2NvbnN0IGw9bmV3IG8uRGVmdWRkbGUoYSkucGFyc2UoKSxjPWwuY29udGVudDtyZXR1cm57Y29udGVudDpjLGNvbnRlbnRIdG1sOmMsZXh0cmFjdGVkQ29udGVudDp7bWVzc2FnZUNvdW50OmUubGVuZ3RoLnRvU3RyaW5nKCl9LHZhcmlhYmxlczp7dGl0bGU6ci50aXRsZXx8XCJDb252ZXJzYXRpb25cIixzaXRlOnIuc2l0ZSxkZXNjcmlwdGlvbjpyLmRlc2NyaXB0aW9ufHxgJHtyLnNpdGV9IGNvbnZlcnNhdGlvbiB3aXRoICR7ZS5sZW5ndGh9IG1lc3NhZ2VzYCx3b3JkQ291bnQ6KG51bGw9PT0odD1sLndvcmRDb3VudCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudG9TdHJpbmcoKSl8fFwiXCJ9fX1jcmVhdGVDb250ZW50SHRtbCh0LGUpe3JldHVybmAke3QubWFwKCgoZSxyKT0+e2NvbnN0IG49ZS50aW1lc3RhbXA/YDxkaXYgY2xhc3M9XCJtZXNzYWdlLXRpbWVzdGFtcFwiPiR7ZS50aW1lc3RhbXB9PC9kaXY+YDpcIlwiLG89LzxwW14+XSo+W1xcc1xcU10qPzxcXC9wPi9pLnRlc3QoZS5jb250ZW50KT9lLmNvbnRlbnQ6YDxwPiR7ZS5jb250ZW50fTwvcD5gLGk9ZS5tZXRhZGF0YT9PYmplY3QuZW50cmllcyhlLm1ldGFkYXRhKS5tYXAoKChbdCxlXSk9PmBkYXRhLSR7dH09XCIke2V9XCJgKSkuam9pbihcIiBcIik6XCJcIjtyZXR1cm5gXFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UgbWVzc2FnZS0ke2UuYXV0aG9yLnRvTG93ZXJDYXNlKCl9XCIgJHtpfT5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwibWVzc2FnZS1oZWFkZXJcIj5cXG5cXHRcXHRcXHRcXHRcXHQ8cCBjbGFzcz1cIm1lc3NhZ2UtYXV0aG9yXCI+PHN0cm9uZz4ke2UuYXV0aG9yfTwvc3Ryb25nPjwvcD5cXG5cXHRcXHRcXHRcXHRcXHQke259XFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cIm1lc3NhZ2UtY29udGVudFwiPlxcblxcdFxcdFxcdFxcdFxcdCR7b31cXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHQ8L2Rpdj4ke3I8dC5sZW5ndGgtMT9cIlxcbjxocj5cIjpcIlwifWB9KSkuam9pbihcIlxcblwiKS50cmltKCl9XFxuJHtlLmxlbmd0aD4wP2BcXG5cXHRcXHRcXHQ8ZGl2IGlkPVwiZm9vdG5vdGVzXCI+XFxuXFx0XFx0XFx0XFx0PG9sPlxcblxcdFxcdFxcdFxcdFxcdCR7ZS5tYXAoKCh0LGUpPT5gXFxuXFx0XFx0XFx0XFx0XFx0XFx0PGxpIGNsYXNzPVwiZm9vdG5vdGVcIiBpZD1cImZuOiR7ZSsxfVwiPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdDxwPlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDxhIGhyZWY9XCIke3QudXJsfVwiIHRhcmdldD1cIl9ibGFua1wiPiR7dC50ZXh0fTwvYT4mbmJzcDs8YSBocmVmPVwiI2ZucmVmOiR7ZSsxfVwiIGNsYXNzPVwiZm9vdG5vdGUtYmFja3JlZlwiPlxcdTIxYTk8L2E+XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0PC9wPlxcblxcdFxcdFxcdFxcdFxcdFxcdDwvbGk+XFxuXFx0XFx0XFx0XFx0XFx0YCkpLmpvaW4oXCJcIil9XFxuXFx0XFx0XFx0XFx0PC9vbD5cXG5cXHRcXHRcXHQ8L2Rpdj5gOlwiXCJ9YC50cmltKCl9fWUuQ29udmVyc2F0aW9uRXh0cmFjdG9yPWl9LDI0ODoodCxlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Ud2l0dGVyRXh0cmFjdG9yPXZvaWQgMDtjb25zdCBuPXIoMjc5KTtjbGFzcyBvIGV4dGVuZHMgbi5CYXNlRXh0cmFjdG9ye2NvbnN0cnVjdG9yKHQsZSl7dmFyIHI7c3VwZXIodCxlKSx0aGlzLm1haW5Ud2VldD1udWxsLHRoaXMudGhyZWFkVHdlZXRzPVtdO2NvbnN0IG49dC5xdWVyeVNlbGVjdG9yKCdbYXJpYS1sYWJlbD1cIlRpbWVsaW5lOiBDb252ZXJzYXRpb25cIl0nKTtpZighbil7Y29uc3QgZT10LnF1ZXJ5U2VsZWN0b3IoJ2FydGljbGVbZGF0YS10ZXN0aWQ9XCJ0d2VldFwiXScpO3JldHVybiB2b2lkKGUmJih0aGlzLm1haW5Ud2VldD1lKSl9Y29uc3Qgbz1BcnJheS5mcm9tKG4ucXVlcnlTZWxlY3RvckFsbCgnYXJ0aWNsZVtkYXRhLXRlc3RpZD1cInR3ZWV0XCJdJykpLGk9bnVsbD09PShyPW4ucXVlcnlTZWxlY3RvcihcInNlY3Rpb24sIGgyXCIpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5wYXJlbnRFbGVtZW50O2kmJm8uZm9yRWFjaCgoKHQsZSk9PntpZihpLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpJk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fRk9MTE9XSU5HKXJldHVybiBvLnNwbGljZShlKSwhMX0pKSx0aGlzLm1haW5Ud2VldD1vWzBdfHxudWxsLHRoaXMudGhyZWFkVHdlZXRzPW8uc2xpY2UoMSl9Y2FuRXh0cmFjdCgpe3JldHVybiEhdGhpcy5tYWluVHdlZXR9ZXh0cmFjdCgpe2NvbnN0IHQ9dGhpcy5leHRyYWN0VHdlZXQodGhpcy5tYWluVHdlZXQpLGU9dGhpcy50aHJlYWRUd2VldHMubWFwKCh0PT50aGlzLmV4dHJhY3RUd2VldCh0KSkpLmpvaW4oXCJcXG48aHI+XFxuXCIpLHI9YFxcblxcdFxcdFxcdDxkaXYgY2xhc3M9XCJ0d2VldC10aHJlYWRcIj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwibWFpbi10d2VldFwiPlxcblxcdFxcdFxcdFxcdFxcdCR7dH1cXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHQke2U/YFxcblxcdFxcdFxcdFxcdFxcdDxocj5cXG5cXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwidGhyZWFkLXR3ZWV0c1wiPlxcblxcdFxcdFxcdFxcdFxcdFxcdCR7ZX1cXG5cXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRgOlwiXCJ9XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0YC50cmltKCksbj10aGlzLmdldFR3ZWV0SWQoKSxvPXRoaXMuZ2V0VHdlZXRBdXRob3IoKTtyZXR1cm57Y29udGVudDpyLGNvbnRlbnRIdG1sOnIsZXh0cmFjdGVkQ29udGVudDp7dHdlZXRJZDpuLHR3ZWV0QXV0aG9yOm99LHZhcmlhYmxlczp7dGl0bGU6YFRocmVhZCBieSAke299YCxhdXRob3I6byxzaXRlOlwiWCAoVHdpdHRlcilcIixkZXNjcmlwdGlvbjp0aGlzLmNyZWF0ZURlc2NyaXB0aW9uKHRoaXMubWFpblR3ZWV0KX19fWZvcm1hdFR3ZWV0VGV4dCh0KXtpZighdClyZXR1cm5cIlwiO2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmlubmVySFRNTD10LGUucXVlcnlTZWxlY3RvckFsbChcImFcIikuZm9yRWFjaCgodD0+e3ZhciBlO2NvbnN0IHI9KG51bGw9PT0oZT10LnRleHRDb250ZW50KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50cmltKCkpfHxcIlwiO3QucmVwbGFjZVdpdGgocil9KSksZS5xdWVyeVNlbGVjdG9yQWxsKFwic3BhbiwgZGl2XCIpLmZvckVhY2goKHQ9Pnt0LnJlcGxhY2VXaXRoKC4uLkFycmF5LmZyb20odC5jaGlsZE5vZGVzKSl9KSk7cmV0dXJuIGUuaW5uZXJIVE1MLnNwbGl0KFwiXFxuXCIpLm1hcCgodD0+dC50cmltKCkpKS5maWx0ZXIoKHQ9PnQpKS5tYXAoKHQ9PmA8cD4ke3R9PC9wPmApKS5qb2luKFwiXFxuXCIpfWV4dHJhY3RUd2VldCh0KXt2YXIgZSxyLG47aWYoIXQpcmV0dXJuXCJcIjtjb25zdCBvPXQuY2xvbmVOb2RlKCEwKTtvLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZ1tzcmMqPVwiL2Vtb2ppL1wiXScpLmZvckVhY2goKHQ9PntpZihcImltZ1wiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnQuZ2V0QXR0cmlidXRlKFwiYWx0XCIpKXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwiYWx0XCIpO2UmJnQucmVwbGFjZVdpdGgoZSl9fSkpO2NvbnN0IGk9KG51bGw9PT0oZT1vLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlc3RpZD1cInR3ZWV0VGV4dFwiXScpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pbm5lckhUTUwpfHxcIlwiLGE9dGhpcy5mb3JtYXRUd2VldFRleHQoaSkscz10aGlzLmV4dHJhY3RJbWFnZXModCksbD10aGlzLmV4dHJhY3RVc2VySW5mbyh0KSxjPW51bGw9PT0obj1udWxsPT09KHI9dC5xdWVyeVNlbGVjdG9yKCdbYXJpYS1sYWJlbGxlZGJ5Kj1cImlkX19cIl0nKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwiVXNlci1OYW1lXCJdJykpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmNsb3Nlc3QoJ1thcmlhLWxhYmVsbGVkYnkqPVwiaWRfX1wiXScpLHU9Yz90aGlzLmV4dHJhY3RUd2VldChjKTpcIlwiO3JldHVybmBcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVwidHdlZXRcIj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwidHdlZXQtaGVhZGVyXCI+XFxuXFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XCJ0d2VldC1hdXRob3JcIj48c3Ryb25nPiR7bC5mdWxsTmFtZX08L3N0cm9uZz4gPHNwYW4gY2xhc3M9XCJ0d2VldC1oYW5kbGVcIj4ke2wuaGFuZGxlfTwvc3Bhbj48L3NwYW4+XFxuXFx0XFx0XFx0XFx0XFx0JHtsLmRhdGU/YDxhIGhyZWY9XCIke2wucGVybWFsaW5rfVwiIGNsYXNzPVwidHdlZXQtZGF0ZVwiPiR7bC5kYXRlfTwvYT5gOlwiXCJ9XFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0JHthP2A8ZGl2IGNsYXNzPVwidHdlZXQtdGV4dFwiPiR7YX08L2Rpdj5gOlwiXCJ9XFxuXFx0XFx0XFx0XFx0JHtzLmxlbmd0aD9gXFxuXFx0XFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cInR3ZWV0LW1lZGlhXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0JHtzLmpvaW4oXCJcXG5cIil9XFxuXFx0XFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0YDpcIlwifVxcblxcdFxcdFxcdFxcdCR7dT9gXFxuXFx0XFx0XFx0XFx0XFx0PGJsb2NrcXVvdGUgY2xhc3M9XCJxdW90ZWQtdHdlZXRcIj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQke3V9XFxuXFx0XFx0XFx0XFx0XFx0PC9ibG9ja3F1b3RlPlxcblxcdFxcdFxcdFxcdGA6XCJcIn1cXG5cXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRgLnRyaW0oKX1leHRyYWN0VXNlckluZm8odCl7dmFyIGUscixuLG8saSxhLHMsbCxjO2NvbnN0IHU9dC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJVc2VyLU5hbWVcIl0nKTtpZighdSlyZXR1cm57ZnVsbE5hbWU6XCJcIixoYW5kbGU6XCJcIixkYXRlOlwiXCIscGVybWFsaW5rOlwiXCJ9O2NvbnN0IGQ9dS5xdWVyeVNlbGVjdG9yQWxsKFwiYVwiKTtsZXQgbT0obnVsbD09PShyPW51bGw9PT0oZT1udWxsPT1kP3ZvaWQgMDpkWzBdKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50ZXh0Q29udGVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudHJpbSgpKXx8XCJcIixoPShudWxsPT09KG89bnVsbD09PShuPW51bGw9PWQ/dm9pZCAwOmRbMV0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRleHRDb250ZW50KXx8dm9pZCAwPT09bz92b2lkIDA6by50cmltKCkpfHxcIlwiO20mJmh8fChtPShudWxsPT09KGE9bnVsbD09PShpPXUucXVlcnlTZWxlY3Rvcignc3BhbltzdHlsZSo9XCJjb2xvcjogcmdiKDE1LCAyMCwgMjUpXCJdIHNwYW4nKSl8fHZvaWQgMD09PWk/dm9pZCAwOmkudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnRyaW0oKSl8fFwiXCIsaD0obnVsbD09PShsPW51bGw9PT0ocz11LnF1ZXJ5U2VsZWN0b3IoJ3NwYW5bc3R5bGUqPVwiY29sb3I6IHJnYig4MywgMTAwLCAxMTMpXCJdJykpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnRleHRDb250ZW50KXx8dm9pZCAwPT09bD92b2lkIDA6bC50cmltKCkpfHxcIlwiKTtjb25zdCBwPXQucXVlcnlTZWxlY3RvcihcInRpbWVcIiksZz0obnVsbD09cD92b2lkIDA6cC5nZXRBdHRyaWJ1dGUoXCJkYXRldGltZVwiKSl8fFwiXCI7cmV0dXJue2Z1bGxOYW1lOm0saGFuZGxlOmgsZGF0ZTpnP25ldyBEYXRlKGcpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdOlwiXCIscGVybWFsaW5rOihudWxsPT09KGM9bnVsbD09cD92b2lkIDA6cC5jbG9zZXN0KFwiYVwiKSl8fHZvaWQgMD09PWM/dm9pZCAwOmMuaHJlZil8fFwiXCJ9fWV4dHJhY3RJbWFnZXModCl7dmFyIGUscjtjb25zdCBuPVsnW2RhdGEtdGVzdGlkPVwidHdlZXRQaG90b1wiXScsJ1tkYXRhLXRlc3RpZD1cInR3ZWV0LWltYWdlXCJdJywnaW1nW3NyYyo9XCJtZWRpYVwiXSddLG89W10saT1udWxsPT09KHI9bnVsbD09PShlPXQucXVlcnlTZWxlY3RvcignW2FyaWEtbGFiZWxsZWRieSo9XCJpZF9fXCJdJykpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXRlc3RpZD1cIlVzZXItTmFtZVwiXScpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5jbG9zZXN0KCdbYXJpYS1sYWJlbGxlZGJ5Kj1cImlkX19cIl0nKTtmb3IoY29uc3QgZSBvZiBuKXt0LnF1ZXJ5U2VsZWN0b3JBbGwoZSkuZm9yRWFjaCgodD0+e3ZhciBlLHI7aWYoIShudWxsPT1pP3ZvaWQgMDppLmNvbnRhaW5zKHQpKSYmXCJpbWdcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LmdldEF0dHJpYnV0ZShcImFsdFwiKSl7Y29uc3Qgbj0obnVsbD09PShlPXQuZ2V0QXR0cmlidXRlKFwic3JjXCIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5yZXBsYWNlKC8mbmFtZT1cXHcrJC8sXCImbmFtZT1sYXJnZVwiKSl8fFwiXCIsaT0obnVsbD09PShyPXQuZ2V0QXR0cmlidXRlKFwiYWx0XCIpKXx8dm9pZCAwPT09cj92b2lkIDA6ci5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnRyaW0oKSl8fFwiXCI7by5wdXNoKGA8aW1nIHNyYz1cIiR7bn1cIiBhbHQ9XCIke2l9XCIgLz5gKX19KSl9cmV0dXJuIG99Z2V0VHdlZXRJZCgpe2NvbnN0IHQ9dGhpcy51cmwubWF0Y2goL3N0YXR1c1xcLyhcXGQrKS8pO3JldHVybihudWxsPT10P3ZvaWQgMDp0WzFdKXx8XCJcIn1nZXRUd2VldEF1dGhvcigpe3ZhciB0LGUscjtjb25zdCBuPW51bGw9PT0odD10aGlzLm1haW5Ud2VldCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwiVXNlci1OYW1lXCJdJyksbz1udWxsPT1uP3ZvaWQgMDpuLnF1ZXJ5U2VsZWN0b3JBbGwoXCJhXCIpLGk9KG51bGw9PT0ocj1udWxsPT09KGU9bnVsbD09bz92b2lkIDA6b1sxXSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKSl8fFwiXCI7cmV0dXJuIGkuc3RhcnRzV2l0aChcIkBcIik/aTpgQCR7aX1gfWNyZWF0ZURlc2NyaXB0aW9uKHQpe3ZhciBlO2lmKCF0KXJldHVyblwiXCI7cmV0dXJuKChudWxsPT09KGU9dC5xdWVyeVNlbGVjdG9yKCdbZGF0YS10ZXN0aWQ9XCJ0d2VldFRleHRcIl0nKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGV4dENvbnRlbnQpfHxcIlwiKS50cmltKCkuc2xpY2UoMCwxNDApLnJlcGxhY2UoL1xccysvZyxcIiBcIil9fWUuVHdpdHRlckV4dHJhY3Rvcj1vfSwyNTg6KHQsZSxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuWW91dHViZUV4dHJhY3Rvcj12b2lkIDA7Y29uc3Qgbj1yKDI3OSk7Y2xhc3MgbyBleHRlbmRzIG4uQmFzZUV4dHJhY3Rvcntjb25zdHJ1Y3Rvcih0LGUscil7c3VwZXIodCxlLHIpLHRoaXMudmlkZW9FbGVtZW50PXQucXVlcnlTZWxlY3RvcihcInZpZGVvXCIpLHRoaXMuc2NoZW1hT3JnRGF0YT1yfWNhbkV4dHJhY3QoKXtyZXR1cm4hMH1leHRyYWN0KCl7Y29uc3QgdD10aGlzLmdldFZpZGVvRGF0YSgpLGU9dC5kZXNjcmlwdGlvbnx8XCJcIixyPXRoaXMuZm9ybWF0RGVzY3JpcHRpb24oZSksbj1gPGlmcmFtZSB3aWR0aD1cIjU2MFwiIGhlaWdodD1cIjMxNVwiIHNyYz1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dGhpcy5nZXRWaWRlb0lkKCl9P3NpPV9tMHF2MzNsQXVKRm9HTmhcIiB0aXRsZT1cIllvdVR1YmUgdmlkZW8gcGxheWVyXCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3c9XCJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQtbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmVcIiByZWZlcnJlcnBvbGljeT1cInN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW5cIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+PGJyPiR7cn1gO3JldHVybntjb250ZW50Om4sY29udGVudEh0bWw6bixleHRyYWN0ZWRDb250ZW50Ont2aWRlb0lkOnRoaXMuZ2V0VmlkZW9JZCgpLGF1dGhvcjp0LmF1dGhvcnx8XCJcIn0sdmFyaWFibGVzOnt0aXRsZTp0Lm5hbWV8fFwiXCIsYXV0aG9yOnQuYXV0aG9yfHxcIlwiLHNpdGU6XCJZb3VUdWJlXCIsaW1hZ2U6QXJyYXkuaXNBcnJheSh0LnRodW1ibmFpbFVybCkmJnQudGh1bWJuYWlsVXJsWzBdfHxcIlwiLHB1Ymxpc2hlZDp0LnVwbG9hZERhdGUsZGVzY3JpcHRpb246ZS5zbGljZSgwLDIwMCkudHJpbSgpfX19Zm9ybWF0RGVzY3JpcHRpb24odCl7cmV0dXJuYDxwPiR7dC5yZXBsYWNlKC9cXG4vZyxcIjxicj5cIil9PC9wPmB9Z2V0VmlkZW9EYXRhKCl7aWYoIXRoaXMuc2NoZW1hT3JnRGF0YSlyZXR1cm57fTtyZXR1cm4oQXJyYXkuaXNBcnJheSh0aGlzLnNjaGVtYU9yZ0RhdGEpP3RoaXMuc2NoZW1hT3JnRGF0YS5maW5kKCh0PT5cIlZpZGVvT2JqZWN0XCI9PT10W1wiQHR5cGVcIl0pKTpcIlZpZGVvT2JqZWN0XCI9PT10aGlzLnNjaGVtYU9yZ0RhdGFbXCJAdHlwZVwiXT90aGlzLnNjaGVtYU9yZ0RhdGE6bnVsbCl8fHt9fWdldFZpZGVvSWQoKXtyZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhuZXcgVVJMKHRoaXMudXJsKS5zZWFyY2gpLmdldChcInZcIil8fFwiXCJ9fWUuWW91dHViZUV4dHJhY3Rvcj1vfSwyNzk6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkJhc2VFeHRyYWN0b3I9dm9pZCAwO2UuQmFzZUV4dHJhY3Rvcj1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUscil7dGhpcy5kb2N1bWVudD10LHRoaXMudXJsPWUsdGhpcy5zY2hlbWFPcmdEYXRhPXJ9fX0sMjgyOih0LGUpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5tYXRoU2VsZWN0b3JzPWUuaXNCbG9ja0Rpc3BsYXk9ZS5nZXRCYXNpY0xhdGV4RnJvbUVsZW1lbnQ9ZS5nZXRNYXRoTUxGcm9tRWxlbWVudD12b2lkIDA7ZS5nZXRNYXRoTUxGcm9tRWxlbWVudD10PT57aWYoXCJtYXRoXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y29uc3QgZT1cImJsb2NrXCI9PT10LmdldEF0dHJpYnV0ZShcImRpc3BsYXlcIik7cmV0dXJue21hdGhtbDp0Lm91dGVySFRNTCxsYXRleDp0LmdldEF0dHJpYnV0ZShcImFsdHRleHRcIil8fG51bGwsaXNCbG9jazplfX1jb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXRobWxcIik7aWYoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuaW5uZXJIVE1MPWU7Y29uc3Qgcj10LnF1ZXJ5U2VsZWN0b3IoXCJtYXRoXCIpO2lmKHIpe2NvbnN0IHQ9XCJibG9ja1wiPT09ci5nZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIpO3JldHVybnttYXRobWw6ci5vdXRlckhUTUwsbGF0ZXg6ci5nZXRBdHRyaWJ1dGUoXCJhbHR0ZXh0XCIpfHxudWxsLGlzQmxvY2s6dH19fWNvbnN0IHI9dC5xdWVyeVNlbGVjdG9yKFwiLk1KWF9Bc3Npc3RpdmVfTWF0aE1MLCBtangtYXNzaXN0aXZlLW1tbFwiKTtpZihyKXtjb25zdCB0PXIucXVlcnlTZWxlY3RvcihcIm1hdGhcIik7aWYodCl7Y29uc3QgZT10LmdldEF0dHJpYnV0ZShcImRpc3BsYXlcIiksbj1yLmdldEF0dHJpYnV0ZShcImRpc3BsYXlcIiksbz1cImJsb2NrXCI9PT1lfHxcImJsb2NrXCI9PT1uO3JldHVybnttYXRobWw6dC5vdXRlckhUTUwsbGF0ZXg6dC5nZXRBdHRyaWJ1dGUoXCJhbHR0ZXh0XCIpfHxudWxsLGlzQmxvY2s6b319fWNvbnN0IG49dC5xdWVyeVNlbGVjdG9yKFwiLmthdGV4LW1hdGhtbCBtYXRoXCIpO3JldHVybiBuP3ttYXRobWw6bi5vdXRlckhUTUwsbGF0ZXg6bnVsbCxpc0Jsb2NrOiExfTpudWxsfTtlLmdldEJhc2ljTGF0ZXhGcm9tRWxlbWVudD10PT57dmFyIGUscixuO2NvbnN0IG89dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxhdGV4XCIpO2lmKG8pcmV0dXJuIG87aWYoXCJpbWdcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LmNsYXNzTGlzdC5jb250YWlucyhcImxhdGV4XCIpKXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwiYWx0XCIpO2lmKGUpcmV0dXJuIGU7Y29uc3Qgcj10LmdldEF0dHJpYnV0ZShcInNyY1wiKTtpZihyKXtjb25zdCB0PXIubWF0Y2goL2xhdGV4XFwucGhwXFw/bGF0ZXg9KFteJl0rKS8pO2lmKHQpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh0WzFdKS5yZXBsYWNlKC9cXCsvZyxcIiBcIikucmVwbGFjZSgvJTVDL2csXCJcXFxcXCIpfX1jb25zdCBpPXQucXVlcnlTZWxlY3RvcignYW5ub3RhdGlvbltlbmNvZGluZz1cImFwcGxpY2F0aW9uL3gtdGV4XCJdJyk7aWYobnVsbD09aT92b2lkIDA6aS50ZXh0Q29udGVudClyZXR1cm4gaS50ZXh0Q29udGVudC50cmltKCk7aWYodC5tYXRjaGVzKFwiLmthdGV4XCIpKXtjb25zdCBlPXQucXVlcnlTZWxlY3RvcignLmthdGV4LW1hdGhtbCBhbm5vdGF0aW9uW2VuY29kaW5nPVwiYXBwbGljYXRpb24veC10ZXhcIl0nKTtpZihudWxsPT1lP3ZvaWQgMDplLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50LnRyaW0oKX1pZih0Lm1hdGNoZXMoJ3NjcmlwdFt0eXBlPVwibWF0aC90ZXhcIl0nKXx8dC5tYXRjaGVzKCdzY3JpcHRbdHlwZT1cIm1hdGgvdGV4OyBtb2RlPWRpc3BsYXlcIl0nKSlyZXR1cm4obnVsbD09PShlPXQudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRyaW0oKSl8fG51bGw7aWYodC5wYXJlbnRFbGVtZW50KXtjb25zdCBlPXQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbdHlwZT1cIm1hdGgvdGV4XCJdLCBzY3JpcHRbdHlwZT1cIm1hdGgvdGV4OyBtb2RlPWRpc3BsYXlcIl0nKTtpZihlKXJldHVybihudWxsPT09KHI9ZS50ZXh0Q29udGVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudHJpbSgpKXx8bnVsbH1yZXR1cm4gdC5nZXRBdHRyaWJ1dGUoXCJhbHRcIil8fChudWxsPT09KG49dC50ZXh0Q29udGVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4udHJpbSgpKXx8bnVsbH07ZS5pc0Jsb2NrRGlzcGxheT10PT57aWYoXCJibG9ja1wiPT09dC5nZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIpKXJldHVybiEwO2NvbnN0IGU9dC5jbGFzc05hbWUudG9Mb3dlckNhc2UoKTtpZihlLmluY2x1ZGVzKFwiZGlzcGxheVwiKXx8ZS5pbmNsdWRlcyhcImJsb2NrXCIpKXJldHVybiEwO2lmKHQuY2xvc2VzdCgnLmthdGV4LWRpc3BsYXksIC5NYXRoSmF4X0Rpc3BsYXksIFtkYXRhLWRpc3BsYXk9XCJibG9ja1wiXScpKXJldHVybiEwO2NvbnN0IHI9dC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO2lmKFwicFwiPT09KG51bGw9PXI/dm9pZCAwOnIudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSlyZXR1cm4hMDtpZih0Lm1hdGNoZXMoXCIubXdlLW1hdGgtZmFsbGJhY2staW1hZ2UtZGlzcGxheVwiKSlyZXR1cm4hMDtpZih0Lm1hdGNoZXMoXCIua2F0ZXhcIikpcmV0dXJuIG51bGwhPT10LmNsb3Nlc3QoXCIua2F0ZXgtZGlzcGxheVwiKTtpZih0Lmhhc0F0dHJpYnV0ZShcImRpc3BsYXlcIikpcmV0dXJuXCJ0cnVlXCI9PT10LmdldEF0dHJpYnV0ZShcImRpc3BsYXlcIik7aWYodC5tYXRjaGVzKCdzY3JpcHRbdHlwZT1cIm1hdGgvdGV4OyBtb2RlPWRpc3BsYXlcIl0nKSlyZXR1cm4hMDtpZih0Lmhhc0F0dHJpYnV0ZShcImRpc3BsYXlcIikpcmV0dXJuXCJ0cnVlXCI9PT10LmdldEF0dHJpYnV0ZShcImRpc3BsYXlcIik7Y29uc3Qgbj10LmNsb3Nlc3QoXCJbZGlzcGxheV1cIik7cmV0dXJuISFuJiZcInRydWVcIj09PW4uZ2V0QXR0cmlidXRlKFwiZGlzcGxheVwiKX0sZS5tYXRoU2VsZWN0b3JzPVsnaW1nLmxhdGV4W3NyYyo9XCJsYXRleC5waHBcIl0nLFwic3Bhbi5NYXRoSmF4XCIsXCJtangtY29udGFpbmVyXCIsJ3NjcmlwdFt0eXBlPVwibWF0aC90ZXhcIl0nLCdzY3JpcHRbdHlwZT1cIm1hdGgvdGV4OyBtb2RlPWRpc3BsYXlcIl0nLCcuTWF0aEpheF9QcmV2aWV3ICsgc2NyaXB0W3R5cGU9XCJtYXRoL3RleFwiXScsXCIuTWF0aEpheF9EaXNwbGF5XCIsXCIuTWF0aEpheF9TVkdcIixcIi5NYXRoSmF4X01hdGhNTFwiLFwiLm13ZS1tYXRoLWVsZW1lbnRcIixcIi5td2UtbWF0aC1mYWxsYmFjay1pbWFnZS1pbmxpbmVcIixcIi5td2UtbWF0aC1mYWxsYmFjay1pbWFnZS1kaXNwbGF5XCIsXCIubXdlLW1hdGgtbWF0aG1sLWlubGluZVwiLFwiLm13ZS1tYXRoLW1hdGhtbC1kaXNwbGF5XCIsXCIua2F0ZXhcIixcIi5rYXRleC1kaXNwbGF5XCIsXCIua2F0ZXgtbWF0aG1sXCIsXCIua2F0ZXgtaHRtbFwiLFwiW2RhdGEta2F0ZXhdXCIsJ3NjcmlwdFt0eXBlPVwibWF0aC9rYXRleFwiXScsXCJtYXRoXCIsXCJbZGF0YS1tYXRoXVwiLFwiW2RhdGEtbGF0ZXhdXCIsXCJbZGF0YS10ZXhdXCIsJ3NjcmlwdFt0eXBlXj1cIm1hdGgvXCJdJywnYW5ub3RhdGlvbltlbmNvZGluZz1cImFwcGxpY2F0aW9uL3gtdGV4XCJdJ10uam9pbihcIixcIil9LDM5NzoodCxlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5DbGF1ZGVFeHRyYWN0b3I9dm9pZCAwO2NvbnN0IG49cigxODEpO2NsYXNzIG8gZXh0ZW5kcyBuLkNvbnZlcnNhdGlvbkV4dHJhY3Rvcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5hcnRpY2xlcz10LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdltkYXRhLXRlc3RpZD1cInVzZXItbWVzc2FnZVwiXSwgZGl2W2RhdGEtdGVzdGlkPVwiYXNzaXN0YW50LW1lc3NhZ2VcIl0sIGRpdi5mb250LWNsYXVkZS1tZXNzYWdlJyl9Y2FuRXh0cmFjdCgpe3JldHVybiEhdGhpcy5hcnRpY2xlcyYmdGhpcy5hcnRpY2xlcy5sZW5ndGg+MH1leHRyYWN0TWVzc2FnZXMoKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLmFydGljbGVzPyh0aGlzLmFydGljbGVzLmZvckVhY2goKGU9PntsZXQgcixuO2lmKGUuaGFzQXR0cmlidXRlKFwiZGF0YS10ZXN0aWRcIikpe2lmKFwidXNlci1tZXNzYWdlXCIhPT1lLmdldEF0dHJpYnV0ZShcImRhdGEtdGVzdGlkXCIpKXJldHVybjtyPVwieW91XCIsbj1lLmlubmVySFRNTH1lbHNle2lmKCFlLmNsYXNzTGlzdC5jb250YWlucyhcImZvbnQtY2xhdWRlLW1lc3NhZ2VcIikpcmV0dXJuO3I9XCJhc3Npc3RhbnRcIixuPWUuaW5uZXJIVE1MfW4mJnQucHVzaCh7YXV0aG9yOlwieW91XCI9PT1yP1wiWW91XCI6XCJDbGF1ZGVcIixjb250ZW50Om4udHJpbSgpLG1ldGFkYXRhOntyb2xlOnJ9fSl9KSksdCk6dH1nZXRNZXRhZGF0YSgpe2NvbnN0IHQ9dGhpcy5nZXRUaXRsZSgpLGU9dGhpcy5leHRyYWN0TWVzc2FnZXMoKTtyZXR1cm57dGl0bGU6dCxzaXRlOlwiQ2xhdWRlXCIsdXJsOnRoaXMudXJsLG1lc3NhZ2VDb3VudDplLmxlbmd0aCxkZXNjcmlwdGlvbjpgQ2xhdWRlIGNvbnZlcnNhdGlvbiB3aXRoICR7ZS5sZW5ndGh9IG1lc3NhZ2VzYH19Z2V0VGl0bGUoKXt2YXIgdCxlLHIsbixvO2NvbnN0IGk9bnVsbD09PSh0PXRoaXMuZG9jdW1lbnQudGl0bGUpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRyaW0oKTtpZihpJiZcIkNsYXVkZVwiIT09aSlyZXR1cm4gaS5yZXBsYWNlKC8gLSBDbGF1ZGUkLyxcIlwiKTtjb25zdCBhPW51bGw9PT0ocj1udWxsPT09KGU9dGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaGVhZGVyIC5mb250LXRpZW1wb3NcIikpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRleHRDb250ZW50KXx8dm9pZCAwPT09cj92b2lkIDA6ci50cmltKCk7aWYoYSlyZXR1cm4gYTtjb25zdCBzPW51bGw9PT0obz1udWxsPT09KG49dGhpcy5hcnRpY2xlcyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uaXRlbSgwKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvcignW2RhdGEtdGVzdGlkPVwidXNlci1tZXNzYWdlXCJdJyk7aWYocyl7Y29uc3QgdD1zLnRleHRDb250ZW50fHxcIlwiO3JldHVybiB0Lmxlbmd0aD41MD90LnNsaWNlKDAsNTApK1wiLi4uXCI6dH1yZXR1cm5cIkNsYXVkZSBDb252ZXJzYXRpb25cIn19ZS5DbGF1ZGVFeHRyYWN0b3I9b30sNDU4Oih0LGUscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkhhY2tlck5ld3NFeHRyYWN0b3I9dm9pZCAwO2NvbnN0IG49cigyNzkpO2NsYXNzIG8gZXh0ZW5kcyBuLkJhc2VFeHRyYWN0b3J7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMubWFpblBvc3Q9dC5xdWVyeVNlbGVjdG9yKFwiLmZhdGl0ZW1cIiksdGhpcy5pc0NvbW1lbnRQYWdlPXRoaXMuZGV0ZWN0Q29tbWVudFBhZ2UoKSx0aGlzLm1haW5Db21tZW50PXRoaXMuaXNDb21tZW50UGFnZT90aGlzLmZpbmRNYWluQ29tbWVudCgpOm51bGx9ZGV0ZWN0Q29tbWVudFBhZ2UoKXt2YXIgdDtyZXR1cm4hIShudWxsPT09KHQ9dGhpcy5tYWluUG9zdCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucXVlcnlTZWxlY3RvcignLm5hdnMgYVtocmVmKj1cInBhcmVudFwiXScpKX1maW5kTWFpbkNvbW1lbnQoKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PXRoaXMubWFpblBvc3QpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnF1ZXJ5U2VsZWN0b3IoXCIuY29tbWVudFwiKSl8fG51bGx9Y2FuRXh0cmFjdCgpe3JldHVybiEhdGhpcy5tYWluUG9zdH1leHRyYWN0KCl7Y29uc3QgdD10aGlzLmdldFBvc3RDb250ZW50KCksZT10aGlzLmV4dHJhY3RDb21tZW50cygpLHI9dGhpcy5jcmVhdGVDb250ZW50SHRtbCh0LGUpLG49dGhpcy5nZXRQb3N0VGl0bGUoKSxvPXRoaXMuZ2V0UG9zdEF1dGhvcigpLGk9dGhpcy5jcmVhdGVEZXNjcmlwdGlvbigpLGE9dGhpcy5nZXRQb3N0RGF0ZSgpO3JldHVybntjb250ZW50OnIsY29udGVudEh0bWw6cixleHRyYWN0ZWRDb250ZW50Ontwb3N0SWQ6dGhpcy5nZXRQb3N0SWQoKSxwb3N0QXV0aG9yOm99LHZhcmlhYmxlczp7dGl0bGU6bixhdXRob3I6byxzaXRlOlwiSGFja2VyIE5ld3NcIixkZXNjcmlwdGlvbjppLHB1Ymxpc2hlZDphfX19Y3JlYXRlQ29udGVudEh0bWwodCxlKXtyZXR1cm5gXFxuXFx0XFx0XFx0PGRpdiBjbGFzcz1cImhhY2tlcm5ld3MtcG9zdFwiPlxcblxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XCJwb3N0LWNvbnRlbnRcIj5cXG5cXHRcXHRcXHRcXHRcXHQke3R9XFxuXFx0XFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0XFx0XFx0JHtlP2BcXG5cXHRcXHRcXHRcXHRcXHQ8aHI+XFxuXFx0XFx0XFx0XFx0XFx0PGgyPkNvbW1lbnRzPC9oMj5cXG5cXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwiaGFja2VybmV3cy1jb21tZW50c1wiPlxcblxcdFxcdFxcdFxcdFxcdFxcdCR7ZX1cXG5cXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRgOlwiXCJ9XFxuXFx0XFx0XFx0PC9kaXY+XFxuXFx0XFx0YC50cmltKCl9Z2V0UG9zdENvbnRlbnQoKXt2YXIgdCxlLHIsbixvLGk7aWYoIXRoaXMubWFpblBvc3QpcmV0dXJuXCJcIjtpZih0aGlzLmlzQ29tbWVudFBhZ2UmJnRoaXMubWFpbkNvbW1lbnQpe2NvbnN0IGk9KG51bGw9PT0odD10aGlzLm1haW5Db21tZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaG51c2VyXCIpKXx8dm9pZCAwPT09dD92b2lkIDA6dC50ZXh0Q29udGVudCl8fFwiW2RlbGV0ZWRdXCIsYT0obnVsbD09PShlPXRoaXMubWFpbkNvbW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb21tdGV4dFwiKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuaW5uZXJIVE1MKXx8XCJcIixzPXRoaXMubWFpbkNvbW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZ2VcIiksbD0oKG51bGw9PXM/dm9pZCAwOnMuZ2V0QXR0cmlidXRlKFwidGl0bGVcIikpfHxcIlwiKS5zcGxpdChcIlRcIilbMF18fFwiXCIsYz0obnVsbD09PShuPW51bGw9PT0ocj10aGlzLm1haW5Db21tZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmVcIikpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRleHRDb250ZW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi50cmltKCkpfHxcIlwiLHU9KG51bGw9PT0obz10aGlzLm1haW5Qb3N0LnF1ZXJ5U2VsZWN0b3IoJy5uYXZzIGFbaHJlZio9XCJwYXJlbnRcIl0nKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSl8fFwiXCI7cmV0dXJuYFxcblxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XCJjb21tZW50IG1haW4tY29tbWVudFwiPlxcblxcdFxcdFxcdFxcdFxcdDxkaXYgY2xhc3M9XCJjb21tZW50LW1ldGFkYXRhXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PHNwYW4gY2xhc3M9XCJjb21tZW50LWF1dGhvclwiPjxzdHJvbmc+JHtpfTwvc3Ryb25nPjwvc3Bhbj4gXFx1MjAyMlxcblxcdFxcdFxcdFxcdFxcdFxcdDxzcGFuIGNsYXNzPVwiY29tbWVudC1kYXRlXCI+JHtsfTwvc3Bhbj5cXG5cXHRcXHRcXHRcXHRcXHRcXHQke2M/YCBcXHUyMDIyIDxzcGFuIGNsYXNzPVwiY29tbWVudC1wb2ludHNcIj4ke2N9PC9zcGFuPmA6XCJcIn1cXG5cXHRcXHRcXHRcXHRcXHRcXHQke3U/YCBcXHUyMDIyIDxhIGhyZWY9XCJodHRwczovL25ld3MueWNvbWJpbmF0b3IuY29tLyR7dX1cIiBjbGFzcz1cInBhcmVudC1saW5rXCI+cGFyZW50PC9hPmA6XCJcIn1cXG5cXHRcXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwiY29tbWVudC1jb250ZW50XCI+JHthfTwvZGl2PlxcblxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdGAudHJpbSgpfWNvbnN0IGE9dGhpcy5tYWluUG9zdC5xdWVyeVNlbGVjdG9yKFwidHIuYXRoaW5nXCIpLHM9KG51bGw9PWF8fGEubmV4dEVsZW1lbnRTaWJsaW5nLChudWxsPT09KGk9bnVsbD09YT92b2lkIDA6YS5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlbGluZSBhXCIpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKXx8XCJcIik7bGV0IGw9XCJcIjtzJiYobCs9YDxwPjxhIGhyZWY9XCIke3N9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+JHtzfTwvYT48L3A+YCk7Y29uc3QgYz10aGlzLm1haW5Qb3N0LnF1ZXJ5U2VsZWN0b3IoXCIudG9wdGV4dFwiKTtyZXR1cm4gYyYmKGwrPWA8ZGl2IGNsYXNzPVwicG9zdC10ZXh0XCI+JHtjLmlubmVySFRNTH08L2Rpdj5gKSxsfWV4dHJhY3RDb21tZW50cygpe2NvbnN0IHQ9QXJyYXkuZnJvbSh0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ci5jb210clwiKSk7cmV0dXJuIHRoaXMucHJvY2Vzc0NvbW1lbnRzKHQpfXByb2Nlc3NDb21tZW50cyh0KXt2YXIgZSxyLG4sbztsZXQgaT1cIlwiO2NvbnN0IGE9bmV3IFNldDtsZXQgcz0tMSxsPVtdO2Zvcihjb25zdCBjIG9mIHQpe2NvbnN0IHQ9Yy5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtpZighdHx8YS5oYXModCkpY29udGludWU7YS5hZGQodCk7Y29uc3QgdT0obnVsbD09PShlPWMucXVlcnlTZWxlY3RvcihcIi5pbmQgaW1nXCIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSl8fFwiMFwiLGQ9cGFyc2VJbnQodSkvNDAsbT1jLnF1ZXJ5U2VsZWN0b3IoXCIuY29tbXRleHRcIiksaD0obnVsbD09PShyPWMucXVlcnlTZWxlY3RvcihcIi5obnVzZXJcIikpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRleHRDb250ZW50KXx8XCJbZGVsZXRlZF1cIixwPWMucXVlcnlTZWxlY3RvcihcIi5hZ2VcIiksZz0obnVsbD09PShvPW51bGw9PT0obj1jLnF1ZXJ5U2VsZWN0b3IoXCIuc2NvcmVcIikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRleHRDb250ZW50KXx8dm9pZCAwPT09bz92b2lkIDA6by50cmltKCkpfHxcIlwiO2lmKCFtKWNvbnRpbnVlO2NvbnN0IGY9YGh0dHBzOi8vbmV3cy55Y29tYmluYXRvci5jb20vaXRlbT9pZD0ke3R9YCx2PSgobnVsbD09cD92b2lkIDA6cC5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKSl8fFwiXCIpLnNwbGl0KFwiVFwiKVswXXx8XCJcIjtpZigwPT09ZCl7Zm9yKDtsLmxlbmd0aD4wOylpKz1cIjwvYmxvY2txdW90ZT5cIixsLnBvcCgpO2krPVwiPGJsb2NrcXVvdGU+XCIsbD1bMF0scz0wfWVsc2UgaWYoZDxzKWZvcig7bC5sZW5ndGg+MCYmbFtsLmxlbmd0aC0xXT49ZDspaSs9XCI8L2Jsb2NrcXVvdGU+XCIsbC5wb3AoKTtlbHNlIGQ+cyYmKGkrPVwiPGJsb2NrcXVvdGU+XCIsbC5wdXNoKGQpKTtpKz1gPGRpdiBjbGFzcz1cImNvbW1lbnRcIj5cXG5cXHQ8ZGl2IGNsYXNzPVwiY29tbWVudC1tZXRhZGF0YVwiPlxcblxcdFxcdDxzcGFuIGNsYXNzPVwiY29tbWVudC1hdXRob3JcIj48c3Ryb25nPiR7aH08L3N0cm9uZz48L3NwYW4+IFxcdTIwMjJcXG5cXHRcXHQ8YSBocmVmPVwiJHtmfVwiIGNsYXNzPVwiY29tbWVudC1saW5rXCI+JHt2fTwvYT5cXG5cXHRcXHQke2c/YCBcXHUyMDIyIDxzcGFuIGNsYXNzPVwiY29tbWVudC1wb2ludHNcIj4ke2d9PC9zcGFuPmA6XCJcIn1cXG5cXHQ8L2Rpdj5cXG5cXHQ8ZGl2IGNsYXNzPVwiY29tbWVudC1jb250ZW50XCI+JHttLmlubmVySFRNTH08L2Rpdj5cXG48L2Rpdj5gLHM9ZH1mb3IoO2wubGVuZ3RoPjA7KWkrPVwiPC9ibG9ja3F1b3RlPlwiLGwucG9wKCk7cmV0dXJuIGl9Z2V0UG9zdElkKCl7Y29uc3QgdD10aGlzLnVybC5tYXRjaCgvaWQ9KFxcZCspLyk7cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnRbMV0pfHxcIlwifWdldFBvc3RUaXRsZSgpe3ZhciB0LGUscixuLG87aWYodGhpcy5pc0NvbW1lbnRQYWdlJiZ0aGlzLm1haW5Db21tZW50KXtjb25zdCByPShudWxsPT09KHQ9dGhpcy5tYWluQ29tbWVudC5xdWVyeVNlbGVjdG9yKFwiLmhudXNlclwiKSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudGV4dENvbnRlbnQpfHxcIltkZWxldGVkXVwiLG49KG51bGw9PT0oZT10aGlzLm1haW5Db21tZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tbXRleHRcIikpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRleHRDb250ZW50KXx8XCJcIjtyZXR1cm5gQ29tbWVudCBieSAke3J9OiAke24udHJpbSgpLnNsaWNlKDAsNTApKyhuLmxlbmd0aD41MD9cIi4uLlwiOlwiXCIpfWB9cmV0dXJuKG51bGw9PT0obz1udWxsPT09KG49bnVsbD09PShyPXRoaXMubWFpblBvc3QpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGVsaW5lXCIpKXx8dm9pZCAwPT09bj92b2lkIDA6bi50ZXh0Q29udGVudCl8fHZvaWQgMD09PW8/dm9pZCAwOm8udHJpbSgpKXx8XCJcIn1nZXRQb3N0QXV0aG9yKCl7dmFyIHQsZSxyO3JldHVybihudWxsPT09KHI9bnVsbD09PShlPW51bGw9PT0odD10aGlzLm1haW5Qb3N0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5xdWVyeVNlbGVjdG9yKFwiLmhudXNlclwiKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKSl8fFwiXCJ9Y3JlYXRlRGVzY3JpcHRpb24oKXtjb25zdCB0PXRoaXMuZ2V0UG9zdFRpdGxlKCksZT10aGlzLmdldFBvc3RBdXRob3IoKTtyZXR1cm4gdGhpcy5pc0NvbW1lbnRQYWdlP2BDb21tZW50IGJ5ICR7ZX0gb24gSGFja2VyIE5ld3NgOmAke3R9IC0gYnkgJHtlfSBvbiBIYWNrZXIgTmV3c2B9Z2V0UG9zdERhdGUoKXtpZighdGhpcy5tYWluUG9zdClyZXR1cm5cIlwiO2NvbnN0IHQ9dGhpcy5tYWluUG9zdC5xdWVyeVNlbGVjdG9yKFwiLmFnZVwiKTtyZXR1cm4oKG51bGw9PXQ/dm9pZCAwOnQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIikpfHxcIlwiKS5zcGxpdChcIlRcIilbMF18fFwiXCJ9fWUuSGFja2VyTmV3c0V4dHJhY3Rvcj1vfSw1NTI6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmlzRWxlbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlVHlwZT09PXIuRUxFTUVOVF9OT0RFfSxlLmlzVGV4dE5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQubm9kZVR5cGU9PT1yLlRFWFRfTk9ERX0sZS5pc0NvbW1lbnROb2RlPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm5vZGVUeXBlPT09ci5DT01NRU5UX05PREV9LGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbih0KXtjb25zdCBlPW4odC5vd25lckRvY3VtZW50KTtyZXR1cm4gZT9lLmdldENvbXB1dGVkU3R5bGUodCk6bnVsbH0sZS5nZXRXaW5kb3c9bixlLmxvZ0RlYnVnPWZ1bmN0aW9uKHQsLi4uZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmRlZnVkZGxlRGVidWcmJmNvbnNvbGUubG9nKFwiRGVmdWRkbGU6XCIsdCwuLi5lKX07Y29uc3Qgcj17RUxFTUVOVF9OT0RFOjEsQVRUUklCVVRFX05PREU6MixURVhUX05PREU6MyxDREFUQV9TRUNUSU9OX05PREU6NCxFTlRJVFlfUkVGRVJFTkNFX05PREU6NSxFTlRJVFlfTk9ERTo2LFBST0NFU1NJTkdfSU5TVFJVQ1RJT05fTk9ERTo3LENPTU1FTlRfTk9ERTo4LERPQ1VNRU5UX05PREU6OSxET0NVTUVOVF9UWVBFX05PREU6MTAsRE9DVU1FTlRfRlJBR01FTlRfTk9ERToxMSxOT1RBVElPTl9OT0RFOjEyfTtmdW5jdGlvbiBuKHQpe3JldHVybiB0LmRlZmF1bHRWaWV3P3QuZGVmYXVsdFZpZXc6dC5vd25lcldpbmRvdz90Lm93bmVyV2luZG93OnQud2luZG93P3Qud2luZG93Om51bGx9fSw2MDg6KHQsZSk9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLk1ldGFkYXRhRXh0cmFjdG9yPXZvaWQgMDtlLk1ldGFkYXRhRXh0cmFjdG9yPWNsYXNze3N0YXRpYyBleHRyYWN0KHQsZSxyKXt2YXIgbixvO2xldCBpPVwiXCIsYT1cIlwiO3RyeXtpZihhPShudWxsPT09KG49dC5sb2NhdGlvbil8fHZvaWQgMD09PW4/dm9pZCAwOm4uaHJlZil8fFwiXCIsYXx8KGE9dGhpcy5nZXRNZXRhQ29udGVudChyLFwicHJvcGVydHlcIixcIm9nOnVybFwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwicHJvcGVydHlcIixcInR3aXR0ZXI6dXJsXCIpfHx0aGlzLmdldFNjaGVtYVByb3BlcnR5KGUsXCJ1cmxcIil8fHRoaXMuZ2V0U2NoZW1hUHJvcGVydHkoZSxcIm1haW5FbnRpdHlPZlBhZ2UudXJsXCIpfHx0aGlzLmdldFNjaGVtYVByb3BlcnR5KGUsXCJtYWluRW50aXR5LnVybFwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiV2ViU2l0ZS51cmxcIil8fChudWxsPT09KG89dC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD1cImNhbm9uaWNhbFwiXScpKXx8dm9pZCAwPT09bz92b2lkIDA6by5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKXx8XCJcIiksYSl0cnl7aT1uZXcgVVJMKGEpLmhvc3RuYW1lLnJlcGxhY2UoL153d3dcXC4vLFwiXCIpfWNhdGNoKHQpe2NvbnNvbGUud2FybihcIkZhaWxlZCB0byBwYXJzZSBVUkw6XCIsdCl9fWNhdGNoKGUpe2NvbnN0IHI9dC5xdWVyeVNlbGVjdG9yKFwiYmFzZVtocmVmXVwiKTtpZihyKXRyeXthPXIuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKXx8XCJcIixpPW5ldyBVUkwoYSkuaG9zdG5hbWUucmVwbGFjZSgvXnd3d1xcLi8sXCJcIil9Y2F0Y2godCl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHBhcnNlIGJhc2UgVVJMOlwiLHQpfX1yZXR1cm57dGl0bGU6dGhpcy5nZXRUaXRsZSh0LGUsciksZGVzY3JpcHRpb246dGhpcy5nZXREZXNjcmlwdGlvbih0LGUsciksZG9tYWluOmksZmF2aWNvbjp0aGlzLmdldEZhdmljb24odCxhLHIpLGltYWdlOnRoaXMuZ2V0SW1hZ2UodCxlLHIpLHB1Ymxpc2hlZDp0aGlzLmdldFB1Ymxpc2hlZCh0LGUsciksYXV0aG9yOnRoaXMuZ2V0QXV0aG9yKHQsZSxyKSxzaXRlOnRoaXMuZ2V0U2l0ZSh0LGUsciksc2NoZW1hT3JnRGF0YTplLHdvcmRDb3VudDowLHBhcnNlVGltZTowfX1zdGF0aWMgZ2V0QXV0aG9yKHQsZSxyKXtsZXQgbjtpZihuPXRoaXMuZ2V0TWV0YUNvbnRlbnQocixcIm5hbWVcIixcInNhaWx0aHJ1LmF1dGhvclwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwicHJvcGVydHlcIixcImF1dGhvclwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwibmFtZVwiLFwiYXV0aG9yXCIpfHx0aGlzLmdldE1ldGFDb250ZW50KHIsXCJuYW1lXCIsXCJieWxcIil8fHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcIm5hbWVcIixcImF1dGhvckxpc3RcIiksbilyZXR1cm4gbjtsZXQgbz10aGlzLmdldFNjaGVtYVByb3BlcnR5KGUsXCJhdXRob3IubmFtZVwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiYXV0aG9yLltdLm5hbWVcIik7aWYobyl7Y29uc3QgdD1vLnNwbGl0KFwiLFwiKS5tYXAoKHQ9PnQudHJpbSgpLnJlcGxhY2UoLywkLyxcIlwiKS50cmltKCkpKS5maWx0ZXIoQm9vbGVhbik7aWYodC5sZW5ndGg+MCl7bGV0IGU9Wy4uLm5ldyBTZXQodCldO3JldHVybiBlLmxlbmd0aD4xMCYmKGU9ZS5zbGljZSgwLDEwKSksZS5qb2luKFwiLCBcIil9fWNvbnN0IGk9W107aWYoWydbaXRlbXByb3A9XCJhdXRob3JcIl0nLFwiLmF1dGhvclwiLCdbaHJlZio9XCJhdXRob3JcIl0nLFwiLmF1dGhvcnMgYVwiXS5mb3JFYWNoKChlPT57dC5xdWVyeVNlbGVjdG9yQWxsKGUpLmZvckVhY2goKHQ9Pnt2YXIgZTsoZT10LnRleHRDb250ZW50KSYmZS5zcGxpdChcIixcIikuZm9yRWFjaCgodD0+e2NvbnN0IGU9dC50cmltKCkucmVwbGFjZSgvLCQvLFwiXCIpLnRyaW0oKSxyPWUudG9Mb3dlckNhc2UoKTtlJiZcImF1dGhvclwiIT09ciYmXCJhdXRob3JzXCIhPT1yJiZpLnB1c2goZSl9KSl9KSl9KSksaS5sZW5ndGg+MCl7bGV0IHQ9Wy4uLm5ldyBTZXQoaS5tYXAoKHQ9PnQudHJpbSgpKSkuZmlsdGVyKEJvb2xlYW4pKV07aWYodC5sZW5ndGg+MClyZXR1cm4gdC5sZW5ndGg+MTAmJih0PXQuc2xpY2UoMCwxMCkpLHQuam9pbihcIiwgXCIpfXJldHVybiBuPXRoaXMuZ2V0TWV0YUNvbnRlbnQocixcIm5hbWVcIixcImNvcHlyaWdodFwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiY29weXJpZ2h0SG9sZGVyLm5hbWVcIil8fHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcInByb3BlcnR5XCIsXCJvZzpzaXRlX25hbWVcIil8fHRoaXMuZ2V0U2NoZW1hUHJvcGVydHkoZSxcInB1Ymxpc2hlci5uYW1lXCIpfHx0aGlzLmdldFNjaGVtYVByb3BlcnR5KGUsXCJzb3VyY2VPcmdhbml6YXRpb24ubmFtZVwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiaXNQYXJ0T2YubmFtZVwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwibmFtZVwiLFwidHdpdHRlcjpjcmVhdG9yXCIpfHx0aGlzLmdldE1ldGFDb250ZW50KHIsXCJuYW1lXCIsXCJhcHBsaWNhdGlvbi1uYW1lXCIpLG58fFwiXCJ9c3RhdGljIGdldFNpdGUodCxlLHIpe3JldHVybiB0aGlzLmdldFNjaGVtYVByb3BlcnR5KGUsXCJwdWJsaXNoZXIubmFtZVwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwicHJvcGVydHlcIixcIm9nOnNpdGVfbmFtZVwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiV2ViU2l0ZS5uYW1lXCIpfHx0aGlzLmdldFNjaGVtYVByb3BlcnR5KGUsXCJzb3VyY2VPcmdhbml6YXRpb24ubmFtZVwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwibmFtZVwiLFwiY29weXJpZ2h0XCIpfHx0aGlzLmdldFNjaGVtYVByb3BlcnR5KGUsXCJjb3B5cmlnaHRIb2xkZXIubmFtZVwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiaXNQYXJ0T2YubmFtZVwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwibmFtZVwiLFwiYXBwbGljYXRpb24tbmFtZVwiKXx8dGhpcy5nZXRBdXRob3IodCxlLHIpfHxcIlwifXN0YXRpYyBnZXRUaXRsZSh0LGUscil7dmFyIG4sbztjb25zdCBpPXRoaXMuZ2V0TWV0YUNvbnRlbnQocixcInByb3BlcnR5XCIsXCJvZzp0aXRsZVwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwibmFtZVwiLFwidHdpdHRlcjp0aXRsZVwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiaGVhZGxpbmVcIil8fHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcIm5hbWVcIixcInRpdGxlXCIpfHx0aGlzLmdldE1ldGFDb250ZW50KHIsXCJuYW1lXCIsXCJzYWlsdGhydS50aXRsZVwiKXx8KG51bGw9PT0obz1udWxsPT09KG49dC5xdWVyeVNlbGVjdG9yKFwidGl0bGVcIikpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRleHRDb250ZW50KXx8dm9pZCAwPT09bz92b2lkIDA6by50cmltKCkpfHxcIlwiO3JldHVybiB0aGlzLmNsZWFuVGl0bGUoaSx0aGlzLmdldFNpdGUodCxlLHIpKX1zdGF0aWMgY2xlYW5UaXRsZSh0LGUpe2lmKCF0fHwhZSlyZXR1cm4gdDtjb25zdCByPWUucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csXCJcXFxcJCZcIiksbj1bYFxcXFxzKltcXFxcfFxcXFwtXFx1MjAxM1xcdTIwMTRdXFxcXHMqJHtyfVxcXFxzKiRgLGBeXFxcXHMqJHtyfVxcXFxzKltcXFxcfFxcXFwtXFx1MjAxM1xcdTIwMTRdXFxcXHMqYF07Zm9yKGNvbnN0IGUgb2Ygbil7Y29uc3Qgcj1uZXcgUmVnRXhwKGUsXCJpXCIpO2lmKHIudGVzdCh0KSl7dD10LnJlcGxhY2UocixcIlwiKTticmVha319cmV0dXJuIHQudHJpbSgpfXN0YXRpYyBnZXREZXNjcmlwdGlvbih0LGUscil7cmV0dXJuIHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcIm5hbWVcIixcImRlc2NyaXB0aW9uXCIpfHx0aGlzLmdldE1ldGFDb250ZW50KHIsXCJwcm9wZXJ0eVwiLFwiZGVzY3JpcHRpb25cIil8fHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcInByb3BlcnR5XCIsXCJvZzpkZXNjcmlwdGlvblwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiZGVzY3JpcHRpb25cIil8fHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcIm5hbWVcIixcInR3aXR0ZXI6ZGVzY3JpcHRpb25cIil8fHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcIm5hbWVcIixcInNhaWx0aHJ1LmRlc2NyaXB0aW9uXCIpfHxcIlwifXN0YXRpYyBnZXRJbWFnZSh0LGUscil7cmV0dXJuIHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcInByb3BlcnR5XCIsXCJvZzppbWFnZVwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwibmFtZVwiLFwidHdpdHRlcjppbWFnZVwiKXx8dGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiaW1hZ2UudXJsXCIpfHx0aGlzLmdldE1ldGFDb250ZW50KHIsXCJuYW1lXCIsXCJzYWlsdGhydS5pbWFnZS5mdWxsXCIpfHxcIlwifXN0YXRpYyBnZXRGYXZpY29uKHQsZSxyKXt2YXIgbixvO2NvbnN0IGk9dGhpcy5nZXRNZXRhQ29udGVudChyLFwicHJvcGVydHlcIixcIm9nOmltYWdlOmZhdmljb25cIik7aWYoaSlyZXR1cm4gaTtjb25zdCBhPW51bGw9PT0obj10LnF1ZXJ5U2VsZWN0b3IoXCJsaW5rW3JlbD0naWNvbiddXCIpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO2lmKGEpcmV0dXJuIGE7Y29uc3Qgcz1udWxsPT09KG89dC5xdWVyeVNlbGVjdG9yKFwibGlua1tyZWw9J3Nob3J0Y3V0IGljb24nXVwiKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtpZihzKXJldHVybiBzO2lmKGUpdHJ5e3JldHVybiBuZXcgVVJMKFwiL2Zhdmljb24uaWNvXCIsZSkuaHJlZn1jYXRjaCh0KXtjb25zb2xlLndhcm4oXCJGYWlsZWQgdG8gY29uc3RydWN0IGZhdmljb24gVVJMOlwiLHQpfXJldHVyblwiXCJ9c3RhdGljIGdldFB1Ymxpc2hlZCh0LGUscil7dmFyIG4sbztyZXR1cm4gdGhpcy5nZXRTY2hlbWFQcm9wZXJ0eShlLFwiZGF0ZVB1Ymxpc2hlZFwiKXx8dGhpcy5nZXRNZXRhQ29udGVudChyLFwibmFtZVwiLFwicHVibGlzaERhdGVcIil8fHRoaXMuZ2V0TWV0YUNvbnRlbnQocixcInByb3BlcnR5XCIsXCJhcnRpY2xlOnB1Ymxpc2hlZF90aW1lXCIpfHwobnVsbD09PShvPW51bGw9PT0obj10LnF1ZXJ5U2VsZWN0b3IoJ2FiYnJbaXRlbXByb3A9XCJkYXRlUHVibGlzaGVkXCJdJykpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRpdGxlKXx8dm9pZCAwPT09bz92b2lkIDA6by50cmltKCkpfHx0aGlzLmdldFRpbWVFbGVtZW50KHQpfHx0aGlzLmdldE1ldGFDb250ZW50KHIsXCJuYW1lXCIsXCJzYWlsdGhydS5kYXRlXCIpfHxcIlwifXN0YXRpYyBnZXRNZXRhQ29udGVudCh0LGUscil7dmFyIG4sbztjb25zdCBpPXQuZmluZCgodD0+e2NvbnN0IG49XCJuYW1lXCI9PT1lP3QubmFtZTp0LnByb3BlcnR5O3JldHVybihudWxsPT1uP3ZvaWQgMDpuLnRvTG93ZXJDYXNlKCkpPT09ci50b0xvd2VyQ2FzZSgpfSkpO3JldHVybiBpJiZudWxsIT09KG89bnVsbD09PShuPWkuY29udGVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4udHJpbSgpKSYmdm9pZCAwIT09bz9vOlwiXCJ9c3RhdGljIGdldFRpbWVFbGVtZW50KHQpe3ZhciBlLHIsbixvO2NvbnN0IGk9QXJyYXkuZnJvbSh0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0aW1lXCIpKVswXTtyZXR1cm4gaSYmbnVsbCE9PShvPW51bGwhPT0ocj1udWxsPT09KGU9aS5nZXRBdHRyaWJ1dGUoXCJkYXRldGltZVwiKSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHJpbSgpKSYmdm9pZCAwIT09cj9yOm51bGw9PT0obj1pLnRleHRDb250ZW50KXx8dm9pZCAwPT09bj92b2lkIDA6bi50cmltKCkpJiZ2b2lkIDAhPT1vP286XCJcIn1zdGF0aWMgZ2V0U2NoZW1hUHJvcGVydHkodCxlLHI9XCJcIil7aWYoIXQpcmV0dXJuIHI7Y29uc3Qgbj0odCxlLHIsbz0hMCk9PntpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gMD09PWUubGVuZ3RoP1t0XTpbXTtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuW107aWYoQXJyYXkuaXNBcnJheSh0KSl7Y29uc3QgaT1lWzBdO2lmKC9eXFxcXFtcXFxcZCtcXFxcXSQvLnRlc3QoaSkpe2NvbnN0IGE9cGFyc2VJbnQoaS5zbGljZSgxLC0xKSk7cmV0dXJuIHRbYV0/bih0W2FdLGUuc2xpY2UoMSkscixvKTpbXX1yZXR1cm4gMD09PWUubGVuZ3RoJiZ0LmV2ZXJ5KCh0PT5cInN0cmluZ1wiPT10eXBlb2YgdHx8XCJudW1iZXJcIj09dHlwZW9mIHQpKT90Lm1hcChTdHJpbmcpOnQuZmxhdE1hcCgodD0+bih0LGUscixvKSkpfWNvbnN0W2ksLi4uYV09ZTtpZighaSlyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9bdF06XCJvYmplY3RcIj09dHlwZW9mIHQmJnQubmFtZT9bdC5uYW1lXTpbXTtpZih0Lmhhc093blByb3BlcnR5KGkpKXJldHVybiBuKHRbaV0sYSxyP2Ake3J9LiR7aX1gOmksITApO2lmKCFvKXtjb25zdCBvPVtdO2Zvcihjb25zdCBpIGluIHQpaWYoXCJvYmplY3RcIj09dHlwZW9mIHRbaV0pe2NvbnN0IGE9bih0W2ldLGUscj9gJHtyfS4ke2l9YDppLCExKTtvLnB1c2goLi4uYSl9aWYoby5sZW5ndGg+MClyZXR1cm4gb31yZXR1cm5bXX07dHJ5e2xldCBvPW4odCxlLnNwbGl0KFwiLlwiKSxcIlwiLCEwKTswPT09by5sZW5ndGgmJihvPW4odCxlLnNwbGl0KFwiLlwiKSxcIlwiLCExKSk7cmV0dXJuIG8ubGVuZ3RoPjA/by5maWx0ZXIoQm9vbGVhbikuam9pbihcIiwgXCIpOnJ9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGdldFNjaGVtYVByb3BlcnR5IGZvciAke2V9OmAsdCkscn19fX0sNjEwOih0LGUscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLnN0YW5kYXJkaXplRm9vdG5vdGVzPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5vd25lckRvY3VtZW50O2lmKCFlKXJldHVybiB2b2lkIGNvbnNvbGUud2FybihcInN0YW5kYXJkaXplRm9vdG5vdGVzOiBObyBkb2N1bWVudCBhdmFpbGFibGVcIik7bmV3IG8oZSkuc3RhbmRhcmRpemVGb290bm90ZXModCl9O2NvbnN0IG49cig2NDApO2NsYXNzIG97Y29uc3RydWN0b3IodCl7dGhpcy5kb2M9dH1jcmVhdGVGb290bm90ZUl0ZW0odCxlLHIpe2NvbnN0IG49XCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5kb2M6ZS5vd25lckRvY3VtZW50LG89bi5jcmVhdGVFbGVtZW50KFwibGlcIik7aWYoby5jbGFzc05hbWU9XCJmb290bm90ZVwiLG8uaWQ9YGZuOiR7dH1gLFwic3RyaW5nXCI9PXR5cGVvZiBlKXtjb25zdCB0PW4uY3JlYXRlRWxlbWVudChcInBcIik7dC5pbm5lckhUTUw9ZSxvLmFwcGVuZENoaWxkKHQpfWVsc2V7Y29uc3QgdD1BcnJheS5mcm9tKGUucXVlcnlTZWxlY3RvckFsbChcInBcIikpO2lmKDA9PT10Lmxlbmd0aCl7Y29uc3QgdD1uLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO3QuaW5uZXJIVE1MPWUuaW5uZXJIVE1MLG8uYXBwZW5kQ2hpbGQodCl9ZWxzZSB0LmZvckVhY2goKHQ9Pntjb25zdCBlPW4uY3JlYXRlRWxlbWVudChcInBcIik7ZS5pbm5lckhUTUw9dC5pbm5lckhUTUwsby5hcHBlbmRDaGlsZChlKX0pKX1jb25zdCBpPW8ucXVlcnlTZWxlY3RvcihcInA6bGFzdC1vZi10eXBlXCIpfHxvO3JldHVybiByLmZvckVhY2goKCh0LGUpPT57Y29uc3Qgbz1uLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO28uaHJlZj1gIyR7dH1gLG8udGl0bGU9XCJyZXR1cm4gdG8gYXJ0aWNsZVwiLG8uY2xhc3NOYW1lPVwiZm9vdG5vdGUtYmFja3JlZlwiLG8uaW5uZXJIVE1MPVwiXFx1MjFhOVwiLGU8ci5sZW5ndGgtMSYmKG8uaW5uZXJIVE1MKz1cIiBcIiksaS5hcHBlbmRDaGlsZChvKX0pKSxvfWNvbGxlY3RGb290bm90ZXModCl7Y29uc3QgZT17fTtsZXQgcj0xO2NvbnN0IG89bmV3IFNldDtyZXR1cm4gdC5xdWVyeVNlbGVjdG9yQWxsKG4uRk9PVE5PVEVfTElTVF9TRUxFQ1RPUlMpLmZvckVhY2goKHQ9PntpZih0Lm1hdGNoZXMoJ2Rpdi5mb290bm90ZVtkYXRhLWNvbXBvbmVudC1uYW1lPVwiRm9vdG5vdGVUb0RPTVwiXScpKXtjb25zdCBuPXQucXVlcnlTZWxlY3RvcihcImEuZm9vdG5vdGUtbnVtYmVyXCIpLGk9dC5xdWVyeVNlbGVjdG9yKFwiLmZvb3Rub3RlLWNvbnRlbnRcIik7aWYobiYmaSl7Y29uc3QgdD1uLmlkLnJlcGxhY2UoXCJmb290bm90ZS1cIixcIlwiKS50b0xvd2VyQ2FzZSgpO3QmJiFvLmhhcyh0KSYmKGVbcl09e2NvbnRlbnQ6aSxvcmlnaW5hbElkOnQscmVmczpbXX0sby5hZGQodCkscisrKX1yZXR1cm59dC5xdWVyeVNlbGVjdG9yQWxsKCdsaSwgZGl2W3JvbGU9XCJsaXN0aXRlbVwiXScpLmZvckVhY2goKHQ9Pnt2YXIgbixpLGEscztsZXQgbD1cIlwiLGM9bnVsbDtjb25zdCB1PXQucXVlcnlTZWxlY3RvcihcIi5jaXRhdGlvbnNcIik7aWYobnVsbD09PShuPW51bGw9PXU/dm9pZCAwOnUuaWQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChcInJcIikpe2w9dS5pZC50b0xvd2VyQ2FzZSgpO2NvbnN0IHQ9dS5xdWVyeVNlbGVjdG9yKFwiLmNpdGF0aW9uLWNvbnRlbnRcIik7dCYmKGM9dCl9ZWxzZXtpZih0LmlkLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChcImJpYi5iaWJcIikpbD10LmlkLnJlcGxhY2UoXCJiaWIuYmliXCIsXCJcIikudG9Mb3dlckNhc2UoKTtlbHNlIGlmKHQuaWQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiZm46XCIpKWw9dC5pZC5yZXBsYWNlKFwiZm46XCIsXCJcIikudG9Mb3dlckNhc2UoKTtlbHNlIGlmKHQuaWQudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiZm5cIikpbD10LmlkLnJlcGxhY2UoXCJmblwiLFwiXCIpLnRvTG93ZXJDYXNlKCk7ZWxzZSBpZih0Lmhhc0F0dHJpYnV0ZShcImRhdGEtY291bnRlclwiKSlsPShudWxsPT09KGE9bnVsbD09PShpPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb3VudGVyXCIpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5yZXBsYWNlKC9cXC4kLyxcIlwiKSl8fHZvaWQgMD09PWE/dm9pZCAwOmEudG9Mb3dlckNhc2UoKSl8fFwiXCI7ZWxzZXtjb25zdCBlPW51bGw9PT0ocz10LmlkLnNwbGl0KFwiL1wiKS5wb3AoKSl8fHZvaWQgMD09PXM/dm9pZCAwOnMubWF0Y2goL2NpdGVfbm90ZS0oLispLyk7bD1lP2VbMV0udG9Mb3dlckNhc2UoKTp0LmlkLnRvTG93ZXJDYXNlKCl9Yz10fWwmJiFvLmhhcyhsKSYmKGVbcl09e2NvbnRlbnQ6Y3x8dCxvcmlnaW5hbElkOmwscmVmczpbXX0sby5hZGQobCkscisrKX0pKX0pKSxlfWZpbmRPdXRlckZvb3Rub3RlQ29udGFpbmVyKHQpe2xldCBlPXQscj10LnBhcmVudEVsZW1lbnQ7Zm9yKDtyJiYoXCJzcGFuXCI9PT1yLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJzdXBcIj09PXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpKTspZT1yLHI9ci5wYXJlbnRFbGVtZW50O3JldHVybiBlfWNyZWF0ZUZvb3Rub3RlUmVmZXJlbmNlKHQsZSl7Y29uc3Qgcj10aGlzLmRvYy5jcmVhdGVFbGVtZW50KFwic3VwXCIpO3IuaWQ9ZTtjb25zdCBuPXRoaXMuZG9jLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiBuLmhyZWY9YCNmbjoke3R9YCxuLnRleHRDb250ZW50PXQsci5hcHBlbmRDaGlsZChuKSxyfXN0YW5kYXJkaXplRm9vdG5vdGVzKHQpe2NvbnN0IGU9dGhpcy5jb2xsZWN0Rm9vdG5vdGVzKHQpLHI9dC5xdWVyeVNlbGVjdG9yQWxsKG4uRk9PVE5PVEVfSU5MSU5FX1JFRkVSRU5DRVMpLG89bmV3IE1hcDtyLmZvckVhY2goKHQ9Pnt2YXIgcixuLGksYTtpZighdClyZXR1cm47bGV0IHM9XCJcIixsPVwiXCI7aWYodC5tYXRjaGVzKCdhW2lkXj1cInJlZi1saW5rXCJdJykpcz0obnVsbD09PShyPXQudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKSl8fFwiXCI7ZWxzZSBpZih0Lm1hdGNoZXMoJ2Fbcm9sZT1cImRvYy1iaWJsaW9yZWZcIl0nKSl7Y29uc3QgZT10LmdldEF0dHJpYnV0ZShcImRhdGEteG1sLXJpZFwiKTtpZihlKXM9ZTtlbHNle2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpOyhudWxsPT1lP3ZvaWQgMDplLnN0YXJ0c1dpdGgoXCIjY29yZS1SXCIpKSYmKHM9ZS5yZXBsYWNlKFwiI2NvcmUtXCIsXCJcIikpfX1lbHNlIGlmKHQubWF0Y2hlcyhcImEuZm9vdG5vdGUtYW5jaG9yLCBzcGFuLmZvb3Rub3RlLWhvdmVyY2FyZC10YXJnZXQgYVwiKSl7Y29uc3QgZT0obnVsbD09PShuPXQuaWQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnJlcGxhY2UoXCJmb290bm90ZS1hbmNob3ItXCIsXCJcIikpfHxcIlwiO2UmJihzPWUudG9Mb3dlckNhc2UoKSl9ZWxzZSBpZih0Lm1hdGNoZXMoXCJjaXRlLmx0eF9jaXRlXCIpKXtjb25zdCBlPXQucXVlcnlTZWxlY3RvcihcImFcIik7aWYoZSl7Y29uc3QgdD1lLmdldEF0dHJpYnV0ZShcImhyZWZcIik7aWYodCl7Y29uc3QgZT1udWxsPT09KGk9dC5zcGxpdChcIi9cIikucG9wKCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLm1hdGNoKC9iaWJcXC5iaWIoXFxkKykvKTtlJiYocz1lWzFdLnRvTG93ZXJDYXNlKCkpfX19ZWxzZSBpZih0Lm1hdGNoZXMoXCJzdXAucmVmZXJlbmNlXCIpKXtjb25zdCBlPXQucXVlcnlTZWxlY3RvckFsbChcImFcIik7QXJyYXkuZnJvbShlKS5mb3JFYWNoKCh0PT57dmFyIGU7Y29uc3Qgcj10LmdldEF0dHJpYnV0ZShcImhyZWZcIik7aWYocil7Y29uc3QgdD1udWxsPT09KGU9ci5zcGxpdChcIi9cIikucG9wKCkpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1hdGNoKC8oPzpjaXRlX25vdGV8Y2l0ZV9yZWYpLSguKykvKTt0JiYocz10WzFdLnRvTG93ZXJDYXNlKCkpfX0pKX1lbHNlIGlmKHQubWF0Y2hlcygnc3VwW2lkXj1cImZucmVmOlwiXScpKXM9dC5pZC5yZXBsYWNlKFwiZm5yZWY6XCIsXCJcIikudG9Mb3dlckNhc2UoKTtlbHNlIGlmKHQubWF0Y2hlcygnc3VwW2lkXj1cImZuclwiXScpKXM9dC5pZC5yZXBsYWNlKFwiZm5yXCIsXCJcIikudG9Mb3dlckNhc2UoKTtlbHNlIGlmKHQubWF0Y2hlcyhcInNwYW4uZm9vdG5vdGUtcmVmZXJlbmNlXCIpKXM9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZvb3Rub3RlLWlkXCIpfHxcIlwiO2Vsc2UgaWYodC5tYXRjaGVzKFwic3Bhbi5mb290bm90ZS1saW5rXCIpKXM9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZvb3Rub3RlLWlkXCIpfHxcIlwiLGw9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZvb3Rub3RlLWNvbnRlbnRcIil8fFwiXCI7ZWxzZSBpZih0Lm1hdGNoZXMoXCJhLmNpdGF0aW9uXCIpKXM9KG51bGw9PT0oYT10LnRleHRDb250ZW50KXx8dm9pZCAwPT09YT92b2lkIDA6YS50cmltKCkpfHxcIlwiLGw9dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfHxcIlwiO2Vsc2UgaWYodC5tYXRjaGVzKCdhW2lkXj1cImZucmVmXCJdJykpcz10LmlkLnJlcGxhY2UoXCJmbnJlZlwiLFwiXCIpLnRvTG93ZXJDYXNlKCk7ZWxzZXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtpZihlKXtjb25zdCB0PWUucmVwbGFjZSgvXlsjXS8sXCJcIik7cz10LnRvTG93ZXJDYXNlKCl9fWlmKHMpe2NvbnN0IHI9T2JqZWN0LmVudHJpZXMoZSkuZmluZCgoKFt0LGVdKT0+ZS5vcmlnaW5hbElkPT09cy50b0xvd2VyQ2FzZSgpKSk7aWYocil7Y29uc3RbZSxuXT1yLGk9bi5yZWZzLmxlbmd0aD4wP2BmbnJlZjoke2V9LSR7bi5yZWZzLmxlbmd0aCsxfWA6YGZucmVmOiR7ZX1gO24ucmVmcy5wdXNoKGkpO2NvbnN0IGE9dGhpcy5maW5kT3V0ZXJGb290bm90ZUNvbnRhaW5lcih0KTtpZihcInN1cFwiPT09YS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe28uaGFzKGEpfHxvLnNldChhLFtdKTtvLmdldChhKS5wdXNoKHRoaXMuY3JlYXRlRm9vdG5vdGVSZWZlcmVuY2UoZSxpKSl9ZWxzZSBhLnJlcGxhY2VXaXRoKHRoaXMuY3JlYXRlRm9vdG5vdGVSZWZlcmVuY2UoZSxpKSl9fX0pKSxvLmZvckVhY2goKCh0LGUpPT57aWYodC5sZW5ndGg+MCl7Y29uc3Qgcj10aGlzLmRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7dC5mb3JFYWNoKCh0PT57Y29uc3QgZT10LnF1ZXJ5U2VsZWN0b3IoXCJhXCIpO2lmKGUpe2NvbnN0IG49dGhpcy5kb2MuY3JlYXRlRWxlbWVudChcInN1cFwiKTtuLmlkPXQuaWQsbi5hcHBlbmRDaGlsZChlLmNsb25lTm9kZSghMCkpLHIuYXBwZW5kQ2hpbGQobil9fSkpLGUucmVwbGFjZVdpdGgocil9fSkpO2NvbnN0IGk9dGhpcy5kb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLmlkPVwiZm9vdG5vdGVzXCI7Y29uc3QgYT10aGlzLmRvYy5jcmVhdGVFbGVtZW50KFwib2xcIik7T2JqZWN0LmVudHJpZXMoZSkuZm9yRWFjaCgoKFt0LGVdKT0+e2NvbnN0IHI9dGhpcy5jcmVhdGVGb290bm90ZUl0ZW0ocGFyc2VJbnQodCksZS5jb250ZW50LGUucmVmcyk7YS5hcHBlbmRDaGlsZChyKX0pKTt0LnF1ZXJ5U2VsZWN0b3JBbGwobi5GT09UTk9URV9MSVNUX1NFTEVDVE9SUykuZm9yRWFjaCgodD0+dC5yZW1vdmUoKSkpLGEuY2hpbGRyZW4ubGVuZ3RoPjAmJihpLmFwcGVuZENoaWxkKGEpLHQuYXBwZW5kQ2hpbGQoaSkpfX19LDYyODoodCxlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5EZWZ1ZGRsZT12b2lkIDA7Y29uc3Qgbj1yKDYwOCksbz1yKDkxNyksaT1yKDY0MCksYT1yKDg0MCkscz1yKDk2OCksbD1yKDU1Mik7ZS5EZWZ1ZGRsZT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGU9e30pe3RoaXMuZG9jPXQsdGhpcy5vcHRpb25zPWUsdGhpcy5kZWJ1Zz1lLmRlYnVnfHwhMX1wYXJzZSgpe2NvbnN0IHQ9dGhpcy5wYXJzZUludGVybmFsKCk7aWYodC53b3JkQ291bnQ8MjAwKXtjb25zb2xlLmxvZyhcIkluaXRpYWwgcGFyc2UgcmV0dXJuZWQgdmVyeSBsaXR0bGUgY29udGVudCwgdHJ5aW5nIGFnYWluXCIpO2NvbnN0IGU9dGhpcy5wYXJzZUludGVybmFsKHtyZW1vdmVQYXJ0aWFsU2VsZWN0b3JzOiExfSk7aWYoZS53b3JkQ291bnQ+dC53b3JkQ291bnQpcmV0dXJuIHRoaXMuX2xvZyhcIlJldHJ5IHByb2R1Y2VkIG1vcmUgY29udGVudFwiKSxlfXJldHVybiB0fXBhcnNlSW50ZXJuYWwodD17fSl7dmFyIGUscixpO2NvbnN0IGw9RGF0ZS5ub3coKSxjPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7cmVtb3ZlRXhhY3RTZWxlY3RvcnM6ITAscmVtb3ZlUGFydGlhbFNlbGVjdG9yczohMH0sdGhpcy5vcHRpb25zKSx0KSx1PXRoaXMuX2V4dHJhY3RTY2hlbWFPcmdEYXRhKHRoaXMuZG9jKSxkPVtdO3RoaXMuZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoXCJtZXRhXCIpLmZvckVhY2goKHQ9Pntjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxyPXQuZ2V0QXR0cmlidXRlKFwicHJvcGVydHlcIik7bGV0IG49dC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpO24mJmQucHVzaCh7bmFtZTplLHByb3BlcnR5OnIsY29udGVudDp0aGlzLl9kZWNvZGVIVE1MRW50aXRpZXMobil9KX0pKTtjb25zdCBtPW4uTWV0YWRhdGFFeHRyYWN0b3IuZXh0cmFjdCh0aGlzLmRvYyx1LGQpO3RyeXtjb25zdCB0PWMudXJsfHx0aGlzLmRvYy5VUkwsbj1vLkV4dHJhY3RvclJlZ2lzdHJ5LmZpbmRFeHRyYWN0b3IodGhpcy5kb2MsdCx1KTtpZihuJiZuLmNhbkV4dHJhY3QoKSl7Y29uc3QgdD1uLmV4dHJhY3QoKSxvPURhdGUubm93KCk7cmV0dXJue2NvbnRlbnQ6dC5jb250ZW50SHRtbCx0aXRsZToobnVsbD09PShlPXQudmFyaWFibGVzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50aXRsZSl8fG0udGl0bGUsZGVzY3JpcHRpb246bS5kZXNjcmlwdGlvbixkb21haW46bS5kb21haW4sZmF2aWNvbjptLmZhdmljb24saW1hZ2U6bS5pbWFnZSxwdWJsaXNoZWQ6KG51bGw9PT0ocj10LnZhcmlhYmxlcyl8fHZvaWQgMD09PXI/dm9pZCAwOnIucHVibGlzaGVkKXx8bS5wdWJsaXNoZWQsYXV0aG9yOihudWxsPT09KGk9dC52YXJpYWJsZXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmF1dGhvcil8fG0uYXV0aG9yLHNpdGU6bS5zaXRlLHNjaGVtYU9yZ0RhdGE6bS5zY2hlbWFPcmdEYXRhLHdvcmRDb3VudDp0aGlzLmNvdW50V29yZHModC5jb250ZW50SHRtbCkscGFyc2VUaW1lOk1hdGgucm91bmQoby1sKSxleHRyYWN0b3JUeXBlOm4uY29uc3RydWN0b3IubmFtZS5yZXBsYWNlKFwiRXh0cmFjdG9yXCIsXCJcIikudG9Mb3dlckNhc2UoKSxtZXRhVGFnczpkfX1jb25zdCBoPXRoaXMuX2V2YWx1YXRlTWVkaWFRdWVyaWVzKHRoaXMuZG9jKSxwPXRoaXMuZmluZFNtYWxsSW1hZ2VzKHRoaXMuZG9jKSxnPXRoaXMuZG9jLmNsb25lTm9kZSghMCk7dGhpcy5hcHBseU1vYmlsZVN0eWxlcyhnLGgpO2NvbnN0IGY9dGhpcy5maW5kTWFpbkNvbnRlbnQoZyk7aWYoIWYpe2NvbnN0IHQ9RGF0ZS5ub3coKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtjb250ZW50OnRoaXMuZG9jLmJvZHkuaW5uZXJIVE1MfSxtKSx7d29yZENvdW50OnRoaXMuY291bnRXb3Jkcyh0aGlzLmRvYy5ib2R5LmlubmVySFRNTCkscGFyc2VUaW1lOk1hdGgucm91bmQodC1sKSxtZXRhVGFnczpkfSl9dGhpcy5yZW1vdmVTbWFsbEltYWdlcyhnLHApLHRoaXMucmVtb3ZlSGlkZGVuRWxlbWVudHMoZykscy5Db250ZW50U2NvcmVyLnNjb3JlQW5kUmVtb3ZlKGcsdGhpcy5kZWJ1ZyksKGMucmVtb3ZlRXhhY3RTZWxlY3RvcnN8fGMucmVtb3ZlUGFydGlhbFNlbGVjdG9ycykmJnRoaXMucmVtb3ZlQnlTZWxlY3RvcihnLGMucmVtb3ZlRXhhY3RTZWxlY3RvcnMsYy5yZW1vdmVQYXJ0aWFsU2VsZWN0b3JzKSwoMCxhLnN0YW5kYXJkaXplQ29udGVudCkoZixtLHRoaXMuZG9jLHRoaXMuZGVidWcpO2NvbnN0IHY9Zi5vdXRlckhUTUwsYj1EYXRlLm5vdygpO3JldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe2NvbnRlbnQ6dn0sbSkse3dvcmRDb3VudDp0aGlzLmNvdW50V29yZHModikscGFyc2VUaW1lOk1hdGgucm91bmQoYi1sKSxtZXRhVGFnczpkfSl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcIkRlZnVkZGxlXCIsXCJFcnJvciBwcm9jZXNzaW5nIGRvY3VtZW50OlwiLHQpO2NvbnN0IGU9RGF0ZS5ub3coKTtyZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHtjb250ZW50OnRoaXMuZG9jLmJvZHkuaW5uZXJIVE1MfSxtKSx7d29yZENvdW50OnRoaXMuY291bnRXb3Jkcyh0aGlzLmRvYy5ib2R5LmlubmVySFRNTCkscGFyc2VUaW1lOk1hdGgucm91bmQoZS1sKSxtZXRhVGFnczpkfSl9fWNvdW50V29yZHModCl7Y29uc3QgZT10aGlzLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2UuaW5uZXJIVE1MPXQ7cmV0dXJuKGUudGV4dENvbnRlbnR8fFwiXCIpLnRyaW0oKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnNwbGl0KFwiIFwiKS5maWx0ZXIoKHQ9PnQubGVuZ3RoPjApKS5sZW5ndGh9X2xvZyguLi50KXt0aGlzLmRlYnVnJiZjb25zb2xlLmxvZyhcIkRlZnVkZGxlOlwiLC4uLnQpfV9ldmFsdWF0ZU1lZGlhUXVlcmllcyh0KXtjb25zdCBlPVtdLHI9L21heC13aWR0aFteOl0qOlxccyooXFxkKykvO3RyeXtjb25zdCBuPUFycmF5LmZyb20odC5zdHlsZVNoZWV0cykuZmlsdGVyKCh0PT57dHJ5e3JldHVybiB0LmNzc1J1bGVzLCEwfWNhdGNoKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiZ0Lm5hbWUsITF9fSkpO24uZmxhdE1hcCgodD0+e3RyeXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgQ1NTTWVkaWFSdWxlP1tdOkFycmF5LmZyb20odC5jc3NSdWxlcykuZmlsdGVyKCh0PT50IGluc3RhbmNlb2YgQ1NTTWVkaWFSdWxlJiZ0LmNvbmRpdGlvblRleHQuaW5jbHVkZXMoXCJtYXgtd2lkdGhcIikpKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5kZWJ1ZyYmY29uc29sZS53YXJuKFwiRGVmdWRkbGU6IEZhaWxlZCB0byBwcm9jZXNzIHN0eWxlc2hlZXQ6XCIsdCksW119fSkpLmZvckVhY2goKHQ9Pntjb25zdCBuPXQuY29uZGl0aW9uVGV4dC5tYXRjaChyKTtpZihuKXtjb25zdCByPXBhcnNlSW50KG5bMV0pO2lmKGkuTU9CSUxFX1dJRFRIPD1yKXtBcnJheS5mcm9tKHQuY3NzUnVsZXMpLmZpbHRlcigodD0+dCBpbnN0YW5jZW9mIENTU1N0eWxlUnVsZSkpLmZvckVhY2goKHQ9Pnt0cnl7ZS5wdXNoKHtzZWxlY3Rvcjp0LnNlbGVjdG9yVGV4dCxzdHlsZXM6dC5zdHlsZS5jc3NUZXh0fSl9Y2F0Y2godCl7dGhpcy5kZWJ1ZyYmY29uc29sZS53YXJuKFwiRGVmdWRkbGU6IEZhaWxlZCB0byBwcm9jZXNzIENTUyBydWxlOlwiLHQpfX0pKX19fSkpfWNhdGNoKHQpe2NvbnNvbGUuZXJyb3IoXCJEZWZ1ZGRsZTogRXJyb3IgZXZhbHVhdGluZyBtZWRpYSBxdWVyaWVzOlwiLHQpfXJldHVybiBlfWFwcGx5TW9iaWxlU3R5bGVzKHQsZSl7ZS5mb3JFYWNoKCgoe3NlbGVjdG9yOmUsc3R5bGVzOnJ9KT0+e3RyeXt0LnF1ZXJ5U2VsZWN0b3JBbGwoZSkuZm9yRWFjaCgodD0+e3Quc2V0QXR0cmlidXRlKFwic3R5bGVcIiwodC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIikrcil9KSl9Y2F0Y2godCl7Y29uc29sZS5lcnJvcihcIkRlZnVkZGxlXCIsXCJFcnJvciBhcHBseWluZyBzdHlsZXMgZm9yIHNlbGVjdG9yOlwiLGUsdCl9fSkpfXJlbW92ZUhpZGRlbkVsZW1lbnRzKHQpe2xldCBlPTA7Y29uc3Qgcj1uZXcgU2V0LG49QXJyYXkuZnJvbSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSk7Zm9yKGxldCBvPTA7bzxuLmxlbmd0aDtvKz0xMDApe2NvbnN0IGk9bi5zbGljZShvLG8rMTAwKSxhPWkubWFwKChlPT57dmFyIHIsbjt0cnl7cmV0dXJuIG51bGw9PT0ocj1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmdldENvbXB1dGVkU3R5bGUoZSl9Y2F0Y2gocil7Y29uc3Qgbz1lLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGk9dC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aS50ZXh0Q29udGVudD1gKiB7ICR7b30gfWAsdC5oZWFkLmFwcGVuZENoaWxkKGkpO2NvbnN0IGE9bnVsbD09PShuPWUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uZ2V0Q29tcHV0ZWRTdHlsZShlKTtyZXR1cm4gdC5oZWFkLnJlbW92ZUNoaWxkKGkpLGF9fSkpO2kuZm9yRWFjaCgoKHQsbik9Pntjb25zdCBvPWFbbl07IW98fFwibm9uZVwiIT09by5kaXNwbGF5JiZcImhpZGRlblwiIT09by52aXNpYmlsaXR5JiZcIjBcIiE9PW8ub3BhY2l0eXx8KHIuYWRkKHQpLGUrKyl9KSl9dGhpcy5fbG9nKFwiUmVtb3ZlZCBoaWRkZW4gZWxlbWVudHM6XCIsZSl9cmVtb3ZlQnlTZWxlY3Rvcih0LGU9ITAscj0hMCl7Y29uc3Qgbj1EYXRlLm5vdygpO2xldCBvPTAsYT0wO2NvbnN0IHM9bmV3IFNldDtpZihlKXt0LnF1ZXJ5U2VsZWN0b3JBbGwoaS5FWEFDVF9TRUxFQ1RPUlMuam9pbihcIixcIikpLmZvckVhY2goKHQ9PnsobnVsbD09dD92b2lkIDA6dC5wYXJlbnROb2RlKSYmKHMuYWRkKHQpLG8rKyl9KSl9aWYocil7Y29uc3QgZT1pLlBBUlRJQUxfU0VMRUNUT1JTLmpvaW4oXCJ8XCIpLHI9bmV3IFJlZ0V4cChlLFwiaVwiKSxuPWkuVEVTVF9BVFRSSUJVVEVTLm1hcCgodD0+YFske3R9XWApKS5qb2luKFwiLFwiKTt0LnF1ZXJ5U2VsZWN0b3JBbGwobikuZm9yRWFjaCgodD0+e2lmKHMuaGFzKHQpKXJldHVybjtjb25zdCBlPWkuVEVTVF9BVFRSSUJVVEVTLm1hcCgoZT0+XCJjbGFzc1wiPT09ZT90LmNsYXNzTmFtZSYmXCJzdHJpbmdcIj09dHlwZW9mIHQuY2xhc3NOYW1lP3QuY2xhc3NOYW1lOlwiXCI6XCJpZFwiPT09ZT90LmlkfHxcIlwiOnQuZ2V0QXR0cmlidXRlKGUpfHxcIlwiKSkuam9pbihcIiBcIikudG9Mb3dlckNhc2UoKTtlLnRyaW0oKSYmci50ZXN0KGUpJiYocy5hZGQodCksYSsrKX0pKX1zLmZvckVhY2goKHQ9PnQucmVtb3ZlKCkpKTtjb25zdCBsPURhdGUubm93KCk7dGhpcy5fbG9nKFwiUmVtb3ZlZCBjbHV0dGVyIGVsZW1lbnRzOlwiLHtleGFjdFNlbGVjdG9yczpvLHBhcnRpYWxTZWxlY3RvcnM6YSx0b3RhbDpzLnNpemUscHJvY2Vzc2luZ1RpbWU6YCR7KGwtbikudG9GaXhlZCgyKX1tc2B9KX1maW5kU21hbGxJbWFnZXModCl7Y29uc3QgZT1uZXcgU2V0LHI9L3NjYWxlXFwoKFtcXGQuXSspXFwpLyxuPURhdGUubm93KCk7bGV0IG89MDtjb25zdCBpPVsuLi5BcnJheS5mcm9tKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWdcIikpLC4uLkFycmF5LmZyb20odC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInN2Z1wiKSldO2lmKDA9PT1pLmxlbmd0aClyZXR1cm4gZTtjb25zdCBhPWkubWFwKCh0PT4oe2VsZW1lbnQ6dCxuYXR1cmFsV2lkdGg6XCJpbWdcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZwYXJzZUludCh0LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpfHxcIjBcIil8fDAsbmF0dXJhbEhlaWdodDpcImltZ1wiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpfHxcIjBcIil8fDAsYXR0cldpZHRoOnBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwid2lkdGhcIil8fFwiMFwiKSxhdHRySGVpZ2h0OnBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpfHxcIjBcIil9KSkpO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGg7dCs9NTApe2NvbnN0IG49YS5zbGljZSh0LHQrNTApO3RyeXtjb25zdCB0PW4ubWFwKCgoe2VsZW1lbnQ6dH0pPT57dmFyIGU7dHJ5e3JldHVybiBudWxsPT09KGU9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDb21wdXRlZFN0eWxlKHQpfWNhdGNoKHQpe3JldHVybiBudWxsfX0pKSxpPW4ubWFwKCgoe2VsZW1lbnQ6dH0pPT57dHJ5e3JldHVybiB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKHQpe3JldHVybiBudWxsfX0pKTtuLmZvckVhY2goKChuLGEpPT57dmFyIHM7dHJ5e2NvbnN0IGw9dFthXSxjPWlbYV07aWYoIWwpcmV0dXJuO2NvbnN0IHU9bC50cmFuc2Zvcm0sZD11P3BhcnNlRmxvYXQoKG51bGw9PT0ocz11Lm1hdGNoKHIpKXx8dm9pZCAwPT09cz92b2lkIDA6c1sxXSl8fFwiMVwiKToxLG09W24ubmF0dXJhbFdpZHRoLG4uYXR0cldpZHRoLHBhcnNlSW50KGwud2lkdGgpfHwwLGM/Yy53aWR0aCpkOjBdLmZpbHRlcigodD0+XCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+MCkpLGg9W24ubmF0dXJhbEhlaWdodCxuLmF0dHJIZWlnaHQscGFyc2VJbnQobC5oZWlnaHQpfHwwLGM/Yy5oZWlnaHQqZDowXS5maWx0ZXIoKHQ9PlwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PjApKTtpZihtLmxlbmd0aD4wJiZoLmxlbmd0aD4wKXtjb25zdCB0PU1hdGgubWluKC4uLm0pLHI9TWF0aC5taW4oLi4uaCk7aWYodDwzM3x8cjwzMyl7Y29uc3QgdD10aGlzLmdldEVsZW1lbnRJZGVudGlmaWVyKG4uZWxlbWVudCk7dCYmKGUuYWRkKHQpLG8rKyl9fX1jYXRjaCh0KXt0aGlzLmRlYnVnJiZjb25zb2xlLndhcm4oXCJEZWZ1ZGRsZTogRmFpbGVkIHRvIHByb2Nlc3MgZWxlbWVudCBkaW1lbnNpb25zOlwiLHQpfX0pKX1jYXRjaCh0KXt0aGlzLmRlYnVnJiZjb25zb2xlLndhcm4oXCJEZWZ1ZGRsZTogRmFpbGVkIHRvIHByb2Nlc3MgYmF0Y2g6XCIsdCl9fWNvbnN0IHM9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5fbG9nKFwiRm91bmQgc21hbGwgZWxlbWVudHM6XCIse2NvdW50Om8scHJvY2Vzc2luZ1RpbWU6YCR7KHMtbikudG9GaXhlZCgyKX1tc2B9KSxlfXJlbW92ZVNtYWxsSW1hZ2VzKHQsZSl7bGV0IHI9MDtbXCJpbWdcIixcInN2Z1wiXS5mb3JFYWNoKChuPT57Y29uc3Qgbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pO0FycmF5LmZyb20obykuZm9yRWFjaCgodD0+e2NvbnN0IG49dGhpcy5nZXRFbGVtZW50SWRlbnRpZmllcih0KTtuJiZlLmhhcyhuKSYmKHQucmVtb3ZlKCkscisrKX0pKX0pKSx0aGlzLl9sb2coXCJSZW1vdmVkIHNtYWxsIGVsZW1lbnRzOlwiLHIpfWdldEVsZW1lbnRJZGVudGlmaWVyKHQpe2lmKFwiaW1nXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y29uc3QgZT10LmdldEF0dHJpYnV0ZShcImRhdGEtc3JjXCIpO2lmKGUpcmV0dXJuYHNyYzoke2V9YDtjb25zdCByPXQuZ2V0QXR0cmlidXRlKFwic3JjXCIpfHxcIlwiLG49dC5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIil8fFwiXCIsbz10LmdldEF0dHJpYnV0ZShcImRhdGEtc3Jjc2V0XCIpO2lmKHIpcmV0dXJuYHNyYzoke3J9YDtpZihuKXJldHVybmBzcmNzZXQ6JHtufWA7aWYobylyZXR1cm5gc3Jjc2V0OiR7b31gfWNvbnN0IGU9dC5pZHx8XCJcIixyPXQuY2xhc3NOYW1lfHxcIlwiLG49XCJzdmdcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LmdldEF0dHJpYnV0ZShcInZpZXdCb3hcIil8fFwiXCI7cmV0dXJuIGU/YGlkOiR7ZX1gOm4/YHZpZXdCb3g6JHtufWA6cj9gY2xhc3M6JHtyfWA6bnVsbH1maW5kTWFpbkNvbnRlbnQodCl7Y29uc3QgZT1bXTtpZihpLkVOVFJZX1BPSU5UX0VMRU1FTlRTLmZvckVhY2goKChyLG4pPT57dC5xdWVyeVNlbGVjdG9yQWxsKHIpLmZvckVhY2goKHQ9PntsZXQgcj00MCooaS5FTlRSWV9QT0lOVF9FTEVNRU5UUy5sZW5ndGgtbik7cis9cy5Db250ZW50U2NvcmVyLnNjb3JlRWxlbWVudCh0KSxlLnB1c2goe2VsZW1lbnQ6dCxzY29yZTpyfSl9KSl9KSksMD09PWUubGVuZ3RoKXJldHVybiB0aGlzLmZpbmRDb250ZW50QnlTY29yaW5nKHQpO2lmKGUuc29ydCgoKHQsZSk9PmUuc2NvcmUtdC5zY29yZSkpLHRoaXMuZGVidWcmJnRoaXMuX2xvZyhcIkNvbnRlbnQgY2FuZGlkYXRlczpcIixlLm1hcCgodD0+KHtlbGVtZW50OnQuZWxlbWVudC50YWdOYW1lLHNlbGVjdG9yOnRoaXMuZ2V0RWxlbWVudFNlbGVjdG9yKHQuZWxlbWVudCksc2NvcmU6dC5zY29yZX0pKSkpLDE9PT1lLmxlbmd0aCYmXCJib2R5XCI9PT1lWzBdLmVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXtjb25zdCBlPXRoaXMuZmluZFRhYmxlQmFzZWRDb250ZW50KHQpO2lmKGUpcmV0dXJuIGV9cmV0dXJuIGVbMF0uZWxlbWVudH1maW5kVGFibGVCYXNlZENvbnRlbnQodCl7aWYoIUFycmF5LmZyb20odC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpKS5zb21lKCh0PT57Y29uc3QgZT1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpfHxcIjBcIikscj10aGlzLmdldENvbXB1dGVkU3R5bGUodCk7cmV0dXJuIGU+NDAwfHwobnVsbD09cj92b2lkIDA6ci53aWR0aC5pbmNsdWRlcyhcInB4XCIpKSYmcGFyc2VJbnQoci53aWR0aCk+NDAwfHxcImNlbnRlclwiPT09dC5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKXx8dC5jbGFzc05hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImNvbnRlbnRcIil8fHQuY2xhc3NOYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJhcnRpY2xlXCIpfSkpKXJldHVybiBudWxsO2NvbnN0IGU9QXJyYXkuZnJvbSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGRcIikpO3JldHVybiBzLkNvbnRlbnRTY29yZXIuZmluZEJlc3RFbGVtZW50KGUpfWZpbmRDb250ZW50QnlTY29yaW5nKHQpe2NvbnN0IGU9W107cmV0dXJuIGkuQkxPQ0tfRUxFTUVOVFMuZm9yRWFjaCgocj0+e0FycmF5LmZyb20odC5nZXRFbGVtZW50c0J5VGFnTmFtZShyKSkuZm9yRWFjaCgodD0+e2NvbnN0IHI9cy5Db250ZW50U2NvcmVyLnNjb3JlRWxlbWVudCh0KTtyPjAmJmUucHVzaCh7c2NvcmU6cixlbGVtZW50OnR9KX0pKX0pKSxlLmxlbmd0aD4wP2Uuc29ydCgoKHQsZSk9PmUuc2NvcmUtdC5zY29yZSkpWzBdLmVsZW1lbnQ6bnVsbH1nZXRFbGVtZW50U2VsZWN0b3IodCl7Y29uc3QgZT1bXTtsZXQgcj10O2Zvcig7ciYmciE9PXRoaXMuZG9jLmRvY3VtZW50RWxlbWVudDspe2xldCB0PXIudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3IuaWQ/dCs9XCIjXCIrci5pZDpyLmNsYXNzTmFtZSYmXCJzdHJpbmdcIj09dHlwZW9mIHIuY2xhc3NOYW1lJiYodCs9XCIuXCIrci5jbGFzc05hbWUudHJpbSgpLnNwbGl0KC9cXHMrLykuam9pbihcIi5cIikpLGUudW5zaGlmdCh0KSxyPXIucGFyZW50RWxlbWVudH1yZXR1cm4gZS5qb2luKFwiID4gXCIpfWdldENvbXB1dGVkU3R5bGUodCl7cmV0dXJuKDAsbC5nZXRDb21wdXRlZFN0eWxlKSh0KX1fZXh0cmFjdFNjaGVtYU9yZ0RhdGEodCl7Y29uc3QgZT10LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFt0eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiXScpLHI9W107ZS5mb3JFYWNoKCh0PT57bGV0IGU9dC50ZXh0Q29udGVudHx8XCJcIjt0cnl7ZT1lLnJlcGxhY2UoL1xcL1xcKltcXHNcXFNdKj9cXCpcXC98XlxccypcXC9cXC8uKiQvZ20sXCJcIikucmVwbGFjZSgvXlxccyo8IVxcW0NEQVRBXFxbKFtcXHNcXFNdKj8pXFxdXFxdPlxccyokLyxcIiQxXCIpLnJlcGxhY2UoL15cXHMqKFxcKlxcL3xcXC9cXCopXFxzKnxcXHMqKFxcKlxcL3xcXC9cXCopXFxzKiQvZyxcIlwiKS50cmltKCk7Y29uc3QgdD1KU09OLnBhcnNlKGUpO3RbXCJAZ3JhcGhcIl0mJkFycmF5LmlzQXJyYXkodFtcIkBncmFwaFwiXSk/ci5wdXNoKC4uLnRbXCJAZ3JhcGhcIl0pOnIucHVzaCh0KX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwiRGVmdWRkbGU6IEVycm9yIHBhcnNpbmcgc2NoZW1hLm9yZyBkYXRhOlwiLHQpLHRoaXMuZGVidWcmJmNvbnNvbGUuZXJyb3IoXCJEZWZ1ZGRsZTogUHJvYmxlbWF0aWMgSlNPTiBjb250ZW50OlwiLGUpfX0pKTtjb25zdCBuPXQ9PntpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdGhpcy5fZGVjb2RlSFRNTEVudGl0aWVzKHQpO2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQubWFwKG4pO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCl7Y29uc3QgZT17fTtmb3IoY29uc3QgciBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT1uKHRbcl0pKTtyZXR1cm4gZX1yZXR1cm4gdH07cmV0dXJuIHIubWFwKG4pfV9kZWNvZGVIVE1MRW50aXRpZXModCl7Y29uc3QgZT10aGlzLmRvYy5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7cmV0dXJuIGUuaW5uZXJIVE1MPXQsZS52YWx1ZX19fSw2MzI6KHQsZSxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQ2hhdEdQVEV4dHJhY3Rvcj12b2lkIDA7Y29uc3Qgbj1yKDE4MSk7Y2xhc3MgbyBleHRlbmRzIG4uQ29udmVyc2F0aW9uRXh0cmFjdG9ye2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLmFydGljbGVzPXQucXVlcnlTZWxlY3RvckFsbCgnYXJ0aWNsZVtkYXRhLXRlc3RpZF49XCJjb252ZXJzYXRpb24tdHVybi1cIl0nKSx0aGlzLmZvb3Rub3Rlcz1bXSx0aGlzLmZvb3Rub3RlQ291bnRlcj0wfWNhbkV4dHJhY3QoKXtyZXR1cm4hIXRoaXMuYXJ0aWNsZXMmJnRoaXMuYXJ0aWNsZXMubGVuZ3RoPjB9ZXh0cmFjdE1lc3NhZ2VzKCl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5mb290bm90ZXM9W10sdGhpcy5mb290bm90ZUNvdW50ZXI9MCx0aGlzLmFydGljbGVzPyh0aGlzLmFydGljbGVzLmZvckVhY2goKGU9Pnt2YXIgcixuO2NvbnN0IG89ZS5xdWVyeVNlbGVjdG9yKFwiaDUuc3Itb25seSwgaDYuc3Itb25seVwiKSxpPShudWxsPT09KG49bnVsbD09PShyPW51bGw9PW8/dm9pZCAwOm8udGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4ucmVwbGFjZSgvOlxccyokLyxcIlwiKSl8fFwiXCI7bGV0IGE9XCJcIjtjb25zdCBzPWUuZ2V0QXR0cmlidXRlKFwiZGF0YS1tZXNzYWdlLWF1dGhvci1yb2xlXCIpO3MmJihhPXMpO2xldCBsPWUuaW5uZXJIVE1MfHxcIlwiO2w9bC5yZXBsYWNlKC9cXHUyMDBCL2csXCJcIik7Y29uc3QgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuaW5uZXJIVE1MPWwsYy5xdWVyeVNlbGVjdG9yQWxsKCdoNS5zci1vbmx5LCBoNi5zci1vbmx5LCBzcGFuW2RhdGEtc3RhdGU9XCJjbG9zZWRcIl0nKS5mb3JFYWNoKCh0PT50LnJlbW92ZSgpKSksbD1jLmlubmVySFRNTDtsPWwucmVwbGFjZSgvKCZaZXJvV2lkdGhTcGFjZTspPyg8c3BhbltePl0qPz5cXHMqPGEoPz1bXj5dKj9ocmVmPVwiKFteXCJdKylcIikoPz1bXj5dKj90YXJnZXQ9XCJfYmxhbmtcIikoPz1bXj5dKj9yZWw9XCJub29wZW5lclwiKVtePl0qPz5bXFxzXFxTXSo/PFxcL2E+XFxzKjxcXC9zcGFuPikvZ2ksKCh0LGUscixuKT0+e2xldCBvPVwiXCIsaT1cIlwiO3RyeXtvPW5ldyBVUkwobikuaG9zdG5hbWUucmVwbGFjZSgvXnd3d1xcLi8sXCJcIik7Y29uc3QgdD1uLnNwbGl0KFwiIzp+OnRleHQ9XCIpO2lmKHQubGVuZ3RoPjEpe2k9ZGVjb2RlVVJJQ29tcG9uZW50KHRbMV0pLGk9aS5yZXBsYWNlKC8lMkMvZyxcIixcIik7Y29uc3QgZT1pLnNwbGl0KFwiLFwiKTtpPWUubGVuZ3RoPjEmJmVbMF0udHJpbSgpP2AgXFx1MjAxNCAke2VbMF0udHJpbSgpfS4uLmA6ZVswXS50cmltKCk/YCBcXHUyMDE0ICR7aS50cmltKCl9YDpcIlwifX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcGFyc2UgVVJMOiAke259YCx0KSxvPW59bGV0IGEscz10aGlzLmZvb3Rub3Rlcy5maW5kSW5kZXgoKHQ9PnQudXJsPT09bikpO3JldHVybi0xPT09cz8odGhpcy5mb290bm90ZUNvdW50ZXIrKyxhPXRoaXMuZm9vdG5vdGVDb3VudGVyLHRoaXMuZm9vdG5vdGVzLnB1c2goe3VybDpuLHRleHQ6YDxhIGhyZWY9XCIke259XCI+JHtvfTwvYT4ke2l9YH0pKTphPXMrMSxgPHN1cCBpZD1cImZucmVmOiR7YX1cIj48YSBocmVmPVwiI2ZuOiR7YX1cIj4ke2F9PC9hPjwvc3VwPmB9KSksbD1sLnJlcGxhY2UoLzxwW14+XSo+XFxzKjxcXC9wPi9nLFwiXCIpLHQucHVzaCh7YXV0aG9yOmksY29udGVudDpsLnRyaW0oKSxtZXRhZGF0YTp7cm9sZTphfHxcInVua25vd25cIn19KX0pKSx0KTp0fWdldEZvb3Rub3Rlcygpe3JldHVybiB0aGlzLmZvb3Rub3Rlc31nZXRNZXRhZGF0YSgpe2NvbnN0IHQ9dGhpcy5nZXRUaXRsZSgpLGU9dGhpcy5leHRyYWN0TWVzc2FnZXMoKTtyZXR1cm57dGl0bGU6dCxzaXRlOlwiQ2hhdEdQVFwiLHVybDp0aGlzLnVybCxtZXNzYWdlQ291bnQ6ZS5sZW5ndGgsZGVzY3JpcHRpb246YENoYXRHUFQgY29udmVyc2F0aW9uIHdpdGggJHtlLmxlbmd0aH0gbWVzc2FnZXNgfX1nZXRUaXRsZSgpe3ZhciB0LGUscjtjb25zdCBuPW51bGw9PT0odD10aGlzLmRvY3VtZW50LnRpdGxlKXx8dm9pZCAwPT09dD92b2lkIDA6dC50cmltKCk7aWYobiYmXCJDaGF0R1BUXCIhPT1uKXJldHVybiBuO2NvbnN0IG89bnVsbD09PShyPW51bGw9PT0oZT10aGlzLmFydGljbGVzKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5pdGVtKDApKXx8dm9pZCAwPT09cj92b2lkIDA6ci5xdWVyeVNlbGVjdG9yKFwiLnRleHQtbWVzc2FnZVwiKTtpZihvKXtjb25zdCB0PW8udGV4dENvbnRlbnR8fFwiXCI7cmV0dXJuIHQubGVuZ3RoPjUwP3Quc2xpY2UoMCw1MCkrXCIuLi5cIjp0fXJldHVyblwiQ2hhdEdQVCBDb252ZXJzYXRpb25cIn19ZS5DaGF0R1BURXh0cmFjdG9yPW99LDY0MDoodCxlKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuQUxMT1dFRF9BVFRSSUJVVEVTX0RFQlVHPWUuQUxMT1dFRF9BVFRSSUJVVEVTPWUuQUxMT1dFRF9FTVBUWV9FTEVNRU5UUz1lLkZPT1ROT1RFX0xJU1RfU0VMRUNUT1JTPWUuRk9PVE5PVEVfSU5MSU5FX1JFRkVSRU5DRVM9ZS5QQVJUSUFMX1NFTEVDVE9SUz1lLlRFU1RfQVRUUklCVVRFUz1lLkVYQUNUX1NFTEVDVE9SUz1lLklOTElORV9FTEVNRU5UUz1lLlBSRVNFUlZFX0VMRU1FTlRTPWUuQkxPQ0tfRUxFTUVOVFM9ZS5NT0JJTEVfV0lEVEg9ZS5FTlRSWV9QT0lOVF9FTEVNRU5UUz12b2lkIDAsZS5FTlRSWV9QT0lOVF9FTEVNRU5UUz1bXCIjcG9zdFwiLFwiLnBvc3QtY29udGVudFwiLFwiLmFydGljbGUtY29udGVudFwiLFwiI2FydGljbGUtY29udGVudFwiLFwiLmFydGljbGVfcG9zdFwiLFwiLmFydGljbGUtd3JhcHBlclwiLFwiLmVudHJ5LWNvbnRlbnRcIixcIi5jb250ZW50LWFydGljbGVcIixcIi5wb3N0XCIsXCIubWFya2Rvd24tYm9keVwiLFwiYXJ0aWNsZVwiLCdbcm9sZT1cImFydGljbGVcIl0nLFwibWFpblwiLCdbcm9sZT1cIm1haW5cIl0nLFwiYm9keVwiXSxlLk1PQklMRV9XSURUSD02MDAsZS5CTE9DS19FTEVNRU5UUz1bXCJkaXZcIixcInNlY3Rpb25cIixcImFydGljbGVcIixcIm1haW5cIixcImFzaWRlXCIsXCJoZWFkZXJcIixcImZvb3RlclwiLFwibmF2XCIsXCJjb250ZW50XCJdLGUuUFJFU0VSVkVfRUxFTUVOVFM9bmV3IFNldChbXCJwcmVcIixcImNvZGVcIixcInRhYmxlXCIsXCJ0aGVhZFwiLFwidGJvZHlcIixcInRyXCIsXCJ0ZFwiLFwidGhcIixcInVsXCIsXCJvbFwiLFwibGlcIixcImRsXCIsXCJkdFwiLFwiZGRcIixcImZpZ3VyZVwiLFwiZmlnY2FwdGlvblwiLFwicGljdHVyZVwiLFwiZGV0YWlsc1wiLFwic3VtbWFyeVwiLFwiYmxvY2txdW90ZVwiLFwiZm9ybVwiLFwiZmllbGRzZXRcIl0pLGUuSU5MSU5FX0VMRU1FTlRTPW5ldyBTZXQoW1wiYVwiLFwic3BhblwiLFwic3Ryb25nXCIsXCJlbVwiLFwiaVwiLFwiYlwiLFwidVwiLFwiY29kZVwiLFwiYnJcIixcInNtYWxsXCIsXCJzdWJcIixcInN1cFwiLFwibWFya1wiLFwiZGF0ZVwiLFwiZGVsXCIsXCJpbnNcIixcInFcIixcImFiYnJcIixcImNpdGVcIixcInJlbGF0aXZlLXRpbWVcIixcInRpbWVcIixcImZvbnRcIl0pLGUuRVhBQ1RfU0VMRUNUT1JTPVtcIm5vc2NyaXB0XCIsJ3NjcmlwdDpub3QoW3R5cGVePVwibWF0aC9cIl0pJyxcInN0eWxlXCIsXCJtZXRhXCIsXCJsaW5rXCIsJy5hZDpub3QoW2NsYXNzKj1cImdyYWRpZW50XCJdKScsJ1tjbGFzc149XCJhZC1cIiBpXScsJ1tjbGFzcyQ9XCItYWRcIiBpXScsJ1tpZF49XCJhZC1cIiBpXScsJ1tpZCQ9XCItYWRcIiBpXScsJ1tyb2xlPVwiYmFubmVyXCIgaV0nLCdbYWx0Kj1cImFkdmVydFwiIGldJyxcIi5wcm9tb1wiLFwiLlByb21vXCIsXCIjYmFycmllci1wYWdlXCIsXCIuYWxlcnRcIiwnW2lkPVwiY29tbWVudHNcIiBpXScsJ1tpZD1cImNvbW1lbnRcIiBpXScsXCJoZWFkZXJcIixcIi5oZWFkZXI6bm90KC5iYW5uZXIpXCIsXCIjaGVhZGVyXCIsXCIjSGVhZGVyXCIsXCIjYmFubmVyXCIsXCIjQmFubmVyXCIsXCJuYXZcIixcIi5uYXZpZ2F0aW9uXCIsXCIjbmF2aWdhdGlvblwiLFwiLmhlcm9cIiwnW3JvbGU9XCJuYXZpZ2F0aW9uXCIgaV0nLCdbcm9sZT1cImRpYWxvZ1wiIGldJywnW3JvbGUqPVwiY29tcGxlbWVudGFyeVwiIGldJywnW2NsYXNzKj1cInBhZ2luYXRpb25cIiBpXScsXCIubWVudVwiLFwiI21lbnVcIixcIiNzaXRlU3ViXCIsXCIucHJldmlvdXNcIixcIi5hdXRob3JcIixcIi5BdXRob3JcIiwnW2NsYXNzJD1cIl9iaW9cIl0nLFwiI2NhdGVnb3JpZXNcIixcIi5jb250cmlidXRvclwiLFwiLmRhdGVcIixcIiNkYXRlXCIsXCJbZGF0YS1kYXRlXVwiLFwiLmVudHJ5LW1ldGFcIixcIi5tZXRhXCIsXCIudGFnc1wiLFwiI3RhZ3NcIixcIi50b2NcIixcIi5Ub2NcIixcIiN0b2NcIixcIi5oZWFkbGluZVwiLFwiI2hlYWRsaW5lXCIsXCIjdGl0bGVcIixcIiNUaXRsZVwiLFwiI2FydGljbGVUYWdcIiwnW2hyZWYqPVwiL2NhdGVnb3J5XCJdJywnW2hyZWYqPVwiL2NhdGVnb3JpZXNcIl0nLCdbaHJlZio9XCIvdGFnL1wiXScsJ1tocmVmKj1cIi90YWdzL1wiXScsJ1tocmVmKj1cIi90b3BpY3NcIl0nLCdbaHJlZio9XCJhdXRob3JcIl0nLCdbaHJlZio9XCIjdG9jXCJdJywnW2hyZWY9XCIjdG9wXCJdJywnW2hyZWY9XCIjVG9wXCJdJywnW2hyZWY9XCIjcGFnZS1oZWFkZXJcIl0nLCdbaHJlZj1cIiNjb250ZW50XCJdJywnW2hyZWY9XCIjc2l0ZS1jb250ZW50XCJdJywnW2hyZWY9XCIjbWFpbi1jb250ZW50XCJdJywnW2hyZWZePVwiI21haW5cIl0nLCdbc3JjKj1cImF1dGhvclwiXScsXCJmb290ZXJcIixcIi5hc2lkZVwiLFwiYXNpZGVcIixcImJ1dHRvblwiLFwiY2FudmFzXCIsXCJkYXRlXCIsXCJkaWFsb2dcIixcImZpZWxkc2V0XCIsXCJmb3JtXCIsJ2lucHV0Om5vdChbdHlwZT1cImNoZWNrYm94XCJdKScsXCJsYWJlbFwiLFwib3B0aW9uXCIsXCJzZWxlY3RcIixcInRleHRhcmVhXCIsXCJ0aW1lXCIsXCJyZWxhdGl2ZS10aW1lXCIsXCJbaGlkZGVuXVwiLCdbYXJpYS1oaWRkZW49XCJ0cnVlXCJdOm5vdChbY2xhc3MqPVwibWF0aFwiXSknLCdbc3R5bGUqPVwiZGlzcGxheTogbm9uZVwiXTpub3QoW2NsYXNzKj1cIm1hdGhcIl0pJywnW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXTpub3QoW2NsYXNzKj1cIm1hdGhcIl0pJywnW3N0eWxlKj1cInZpc2liaWxpdHk6IGhpZGRlblwiXScsJ1tzdHlsZSo9XCJ2aXNpYmlsaXR5OmhpZGRlblwiXScsXCIuaGlkZGVuXCIsXCIuaW52aXNpYmxlXCIsXCJpbnN0YXJlYWQtcGxheWVyXCIsJ2lmcmFtZTpub3QoW3NyYyo9XCJ5b3V0dWJlXCJdKTpub3QoW3NyYyo9XCJ5b3V0dS5iZVwiXSk6bm90KFtzcmMqPVwidmltZW9cIl0pOm5vdChbc3JjKj1cInR3aXR0ZXJcIl0pOm5vdChbc3JjKj1cInguY29tXCJdKTpub3QoW3NyYyo9XCJkYXRhd3JhcHBlclwiXSknLCdbY2xhc3M9XCJsb2dvXCIgaV0nLFwiI2xvZ29cIixcIiNMb2dvXCIsXCIjbmV3c2xldHRlclwiLFwiI05ld3NsZXR0ZXJcIixcIi5zdWJzY3JpYmVcIixcIi5ub3ByaW50XCIsJ1tkYXRhLXByaW50LWxheW91dD1cImhpZGVcIiBpXScsJ1tkYXRhLWJsb2NrPVwiZG9ub3RwcmludFwiIGldJywnW2NsYXNzKj1cImNsaWNrYWJsZS1pY29uXCIgaV0nLCdsaSBzcGFuW2NsYXNzKj1cImx0eF90YWdcIiBpXVtjbGFzcyo9XCJsdHhfdGFnX2l0ZW1cIiBpXScsJ2FbaHJlZl49XCIjXCJdW2NsYXNzKj1cImFuY2hvclwiIGldJywnYVtocmVmXj1cIiNcIl1bY2xhc3MqPVwicmVmXCIgaV0nLCdbZGF0YS1jb250YWluZXIqPVwibW9zdC12aWV3ZWRcIiBpXScsXCIuc2lkZWJhclwiLFwiLlNpZGViYXJcIixcIiNzaWRlYmFyXCIsXCIjU2lkZWJhclwiLFwiI3NpdGVzdWJcIiwnW2RhdGEtbGluay1uYW1lKj1cInNraXBcIiBpXScsJ1thcmlhLWxhYmVsKj1cInNraXBcIiBpXScsXCIjc2tpcC1saW5rXCIsXCIuY29weXJpZ2h0XCIsXCIjY29weXJpZ2h0XCIsXCIjcnNzXCIsXCIjZmVlZFwiLFwiLmd1dHRlclwiLFwiI3ByaW1hcnlhdWRpb1wiLFwiI05ZVF9BQk9WRV9NQUlOX0NPTlRFTlRfUkVHSU9OXCIsJ1tkYXRhLXRlc3RpZD1cInBob3Rvdmlld2VyLWNoaWxkcmVuLWZpZ3VyZVwiXSA+IHNwYW4nLFwidGFibGUuaW5mb2JveFwiLFwiLnBlbmNyYWZ0Om5vdCgucGMtZGlzcGxheS1jb250ZW50cylcIiwnW2RhdGEtb3B0aW1pemVseT1cInJlbGF0ZWQtYXJ0aWNsZXMtc2VjdGlvblwiIGldJywnW2RhdGEtb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXSddLGUuVEVTVF9BVFRSSUJVVEVTPVtcImNsYXNzXCIsXCJpZFwiLFwiZGF0YS10ZXN0XCIsXCJkYXRhLXRlc3RpZFwiLFwiZGF0YS10ZXN0LWlkXCIsXCJkYXRhLXFhXCIsXCJkYXRhLWN5XCJdLGUuUEFSVElBTF9TRUxFQ1RPUlM9W1wiYS1zdGF0ZW1lbnRcIixcImFjY2Vzcy13YWxsXCIsXCJhY3Rpdml0eXB1YlwiLFwiYWN0aW9uY2FsbFwiLFwiYWRkY29tbWVudFwiLFwiYWR2ZXJ0XCIsXCJhZGxheW91dFwiLFwiYWQtdGxkclwiLFwiYWQtcGxhY2VtZW50XCIsXCJhZHMtY29udGFpbmVyXCIsXCJfYWRfXCIsXCJhZnRlcl9jb250ZW50XCIsXCJhZnRlcl9tYWluX2FydGljbGVcIixcImFmdGVycG9zdFwiLFwiYWxsdGVybXNcIixcIi1hbGVydC1cIixcImFsZXJ0LWJveFwiLFwiYXBwZW5kaXhcIixcIl9hcmNoaXZlXCIsXCJhcm91bmQtdGhlLXdlYlwiLFwiYXJvdW5kcGFnZXNcIixcImFydGljbGUtYXV0aG9yXCIsXCJhcnRpY2xlLWJhZGdlc1wiLFwiYXJ0aWNsZS1iYW5uZXJcIixcImFydGljbGUtYm90dG9tLXNlY3Rpb25cIixcImFydGljbGUtYm90dG9tXCIsXCJhcnRpY2xlLWNhdGVnb3J5XCIsXCJhcnRpY2xlLWNhcmRcIixcImFydGljbGUtY2l0YXRpb25cIixcImFydGljbGVfX2NvcHlcIixcImFydGljbGVfZGF0ZVwiLFwiYXJ0aWNsZS1kYXRlXCIsXCJhcnRpY2xlLWVuZCBcIixcImFydGljbGVfaGVhZGVyXCIsXCJhcnRpY2xlLWhlYWRlclwiLFwiYXJ0aWNsZV9faGVhZGVyXCIsXCJhcnRpY2xlX19oZXJvXCIsXCJhcnRpY2xlX19pbmZvXCIsXCJhcnRpY2xlLWluZm9cIixcImFydGljbGUtbWV0YVwiLFwiYXJ0aWNsZV9tZXRhXCIsXCJhcnRpY2xlX19tZXRhXCIsXCJhcnRpY2xlbmFtZVwiLFwiYXJ0aWNsZS1zdWJqZWN0XCIsXCJhcnRpY2xlX3N1YmplY3RcIixcImFydGljbGUtc25pcHBldFwiLFwiYXJ0aWNsZS1zZXBhcmF0b3JcIixcImFydGljbGUtLXNoYXJlXCIsXCJhcnRpY2xlLS10b3BpY3NcIixcImFydGljbGV0YWdzXCIsXCJhcnRpY2xlLXRhZ3NcIixcImFydGljbGVfdGFnc1wiLFwiYXJ0aWNsZXRpdGxlXCIsXCJhcnRpY2xlLXRpdGxlXCIsXCJhcnRpY2xlX3RpdGxlXCIsXCJhcnRpY2xldG9waWNzXCIsXCJhcnRpY2xlLXRvcGljc1wiLFwiYXJ0aWNsZS0tbGVkZVwiLFwiYXJ0aWNsZXdlbGxcIixcImFzc29jaWF0ZWQtcGVvcGxlXCIsXCJhdWRpby1jYXJkXCIsXCJhdXRob3ItYmlvXCIsXCJhdXRob3ItYm94XCIsXCJhdXRob3ItaW5mb1wiLFwiYXV0aG9yX2luZm9cIixcImF1dGhvcm1cIixcImF1dGhvci1taW5pLWJpb1wiLFwiYXV0aG9yLW5hbWVcIixcImF1dGhvci1wdWJsaXNoLWluZm9cIixcImF1dGhvcmVkLWJ5XCIsXCJhdmF0YXJcIixcImJhY2stdG8tdG9wXCIsXCJiYWNrbGlua19jb250YWluZXJcIixcImJhY2tsaW5rcy1zZWN0aW9uXCIsXCJiaW8tYmxvY2tcIixcImJpb2JveFwiLFwiYmxvZy1wYWdlclwiLFwiYm9va21hcmstXCIsXCItYm9va21hcmtcIixcImJvdHRvbWluZm9cIixcImJvdHRvbW5hdlwiLFwiYm90dG9tLW9mLWFydGljbGVcIixcImJvdHRvbS13cmFwcGVyXCIsXCJicmFuZC1iYXJcIixcImJyZWFkY3J1bWJcIixcImJyZGNydW1iXCIsXCJidXR0b24td3JhcHBlclwiLFwiYnV0dG9ucy1jb250YWluZXJcIixcImJ0bi1cIixcIi1idG5cIixcImJ5bGluZVwiLFwiY2FwdGNoYVwiLFwiY2FyZC10ZXh0XCIsXCJjYXJkLW1lZGlhXCIsXCJjYXJkLXBvc3RcIixcImNhcm91c2VsY29udGFpbmVyXCIsXCJjYXJvdXNlbC1jb250YWluZXJcIixcImNhdF9oZWFkZXJcIixcImNhdGxpbmtzXCIsXCJfY2F0ZWdvcmllc1wiLFwiY2FyZC1hdXRob3JcIixcImNhcmQtY29udGVudFwiLFwiY2hhcHRlci1saXN0XCIsXCJjb2xsZWN0aW9uc1wiLFwiY29tbWVudHNcIixcImNvbW1lbnRib3hcIixcImNvbW1lbnQtYnV0dG9uXCIsXCJjb21tZW50Y29tcFwiLFwiY29tbWVudC1jb250ZW50XCIsXCJjb21tZW50LWNvdW50XCIsXCJjb21tZW50LWZvcm1cIixcImNvbW1lbnQtbnVtYmVyXCIsXCJjb21tZW50LXJlc3BvbmRcIixcImNvbW1lbnQtdGhyZWFkXCIsXCJjb21tZW50LXdyYXBcIixcImNvbXBsZW1lbnRhcnlcIixcImNvbnNlbnRcIixcImNvbnRhY3QtXCIsXCJjb250ZW50LWNhcmRcIixcImNvbnRlbnQtdG9waWNzXCIsXCJjb250ZW50cHJvbW9cIixcImNvbnRleHQtYmFyXCIsXCJjb250ZXh0LXdpZGdldFwiLFwiY29yZS1jb2xsYXRlcmFsXCIsXCJjb3Zlci1cIixcImNyZWF0ZWQtZGF0ZVwiLFwiY3JlYXRpdmUtY29tbW9uc19cIixcImMtc3Vic2NyaWJlXCIsXCJfY3RhXCIsXCItY3RhXCIsXCJjdGEtXCIsXCJjdGFfXCIsXCJjdXJyZW50LWlzc3VlXCIsXCJjdXN0b20tbGlzdC1udW1iZXJcIixcImRhdGVsaW5lXCIsXCJkYXRlaGVhZGVyXCIsXCJkYXRlLWhlYWRlclwiLFwiZGF0ZS1wdWJcIixcImRpc2NsYWltZXJcIixcImRpc2Nsb3N1cmVcIixcImRpc2N1c3Npb25cIixcImRpc2N1c3NfXCIsXCJkaXNxdXNcIixcImRvbmF0ZVwiLFwiZG9uYXRpb25cIixcImRyb3Bkb3duXCIsXCJlbGV0dGVyc1wiLFwiZW1haWxzaWdudXBcIixcImVuZ2FnZW1lbnQtd2lkZ2V0XCIsXCJlbmhhbmNlbWVudFwiLFwiZW50cnktYXV0aG9yLWluZm9cIixcImVudHJ5LWNhdGVnb3JpZXNcIixcImVudHJ5LWRhdGVcIixcImVudHJ5LXRpdGxlXCIsXCJlbnRyeS11dGlsaXR5XCIsXCItZXJyb3JcIixcImVycm9yLVwiLFwiZXllYnJvd1wiLFwiZXhwYW5kLXJlZHVjZVwiLFwiZXh0ZXJuYWwtYW5jaG9yXCIsXCJleHRlcm5hbGxpbmtlbWJlZHdyYXBwZXJcIixcImV4dHJhLXNlcnZpY2VzXCIsXCJleHRyYS10aXRsZVwiLFwiZmFjZWJvb2tcIixcImZhbmN5LWJveFwiLFwiZmF2b3JpdGVcIixcImZlYXR1cmVkLWNvbnRlbnRcIixcImZlYXR1cmVfZmVlZFwiLFwiZmVlZGJhY2tcIixcImZlZWQtbGlua3NcIixcImZpZWxkLXNpdGUtc2VjdGlvbnNcIixcImZpeGhlYWRlclwiLFwiZmxvYXRpbmctdmlkXCIsXCJmb2xsb3dlclwiLFwiZm9vdGVyXCIsXCJmb290bm90ZS1iYWNrXCIsXCJmb290bm90ZWJhY2tcIixcImZvcm0tZ3JvdXBcIixcImZvci15b3VcIixcImZyb250bWF0dGVyXCIsXCJmdXJ0aGVyLXJlYWRpbmdcIixcImZ1bGxibGVlZGhlYWRlclwiLFwiZ2F0ZWQtXCIsXCJnaC1mZWVkXCIsXCJnaXN0LW1ldGFcIixcImdvb2ctXCIsXCJncmFwaC12aWV3XCIsXCJoYW1idXJnZXJcIixcImhlYWRlcl9sb2dvXCIsXCJoZWFkZXItbG9nb1wiLFwiaGVhZGVyLXBhdHRlcm5cIixcImhlcm8tbGlzdFwiLFwiaGlkZS1mb3ItcHJpbnRcIixcImhpZGUtcHJpbnRcIixcImhpZGUtd2hlbi1uby1zY3JpcHRcIixcImhpZGRlbi1wcmludFwiLFwiaGlkZGVuLXNpZGVub3RlXCIsXCJoaWRkZW4tYWNjZXNzaWJpbGl0eVwiLFwiaW5mb2xpbmVcIixcImluc3RhY2FydEludGVncmF0aW9uXCIsXCJpbnRlcmx1ZGVcIixcImludGVyYWN0aW9uXCIsXCJpdGVtZW5kcm93XCIsXCJpbnZpc2libGVcIixcImp1bXBsaW5rXCIsXCJqdW1wLXRvLVwiLFwia2VlcHJlYWRpbmdcIixcImtlZXAtcmVhZGluZ1wiLFwia2VlcF9yZWFkaW5nXCIsXCJrZXl3b3JkX3dyYXBcIixcImtpY2tlclwiLFwibGFic3RhYlwiLFwiLWxhYmVsc1wiLFwibGFuZ3VhZ2UtbmFtZVwiLFwibGFzdHVwZGF0ZWRcIixcImxhdGVzdC1jb250ZW50XCIsXCItbGVkZXMtXCIsXCItbGljZW5zZVwiLFwibGljZW5zZS1cIixcImxpZ2h0Ym94LXBvcHVwXCIsXCJsaWtlLWJ1dHRvblwiLFwibGluay1ib3hcIixcImxpbmtzLWdyaWRcIixcImxpbmtzLXRpdGxlXCIsXCJsaXN0aW5nLWR5bmFtaWMtdGVybXNcIixcImxpc3QtdGFnc1wiLFwibGlzdGlua3NcIixcImxvYWRpbmdcIixcImxvYS1pbmZvXCIsXCJsb2dvX2NvbnRhaW5lclwiLFwibHR4X3JvbGVfcmVmbnVtXCIsXCJsdHhfdGFnX2JpYml0ZW1cIixcImx0eF9lcnJvclwiLFwibWFzdGhlYWRcIixcIm1hcmtldGluZ1wiLFwibWVkaWEtaW5xdWlyeVwiLFwiLW1lbnVcIixcIm1lbnUtXCIsXCJtZXRhZGF0YVwiLFwibWlnaHQtbGlrZVwiLFwibWluaWJpb1wiLFwibW9yZS1hYm91dFwiLFwiX21vZGFsXCIsXCItbW9kYWxcIixcIm1vcmUtXCIsXCJtb3JlbmV3c1wiLFwibW9yZXN0b3JpZXNcIixcIm1vcmVfd3JhcHBlclwiLFwibW9zdC1yZWFkXCIsXCJtb3ZlLWhlbHBlclwiLFwibXctZWRpdHNlY3Rpb25cIixcIm13LWNpdGUtYmFja2xpbmtcIixcIm13LWluZGljYXRvcnNcIixcIm13LWp1bXAtbGlua1wiLFwibmF2LVwiLFwibmF2X1wiLFwibmF2aWdhdGlvbi1wb3N0XCIsXCJuZXh0LVwiLFwibmV3c2dhbGxlcnlcIixcIm5ld3Mtc3RvcnktdGl0bGVcIixcIm5ld3NsZXR0ZXJfXCIsXCJuZXdzbGV0dGVyYmFubmVyXCIsXCJuZXdzbGV0dGVyY29udGFpbmVyXCIsXCJuZXdzbGV0dGVyLWZvcm1cIixcIm5ld3NsZXR0ZXItc2lnbnVwXCIsXCJuZXdzbGV0dGVyc2lnbnVwXCIsXCJuZXdzbGV0dGVyd2lkZ2V0XCIsXCJuZXdzbGV0dGVyd3JhcHBlclwiLFwibm90LWZvdW5kXCIsXCJub3Rlc3NlY3Rpb25cIixcIm5vbW9iaWxlXCIsXCJub3ByaW50XCIsXCJvcGVuLXNsaWRlc2hvd1wiLFwib3JpZ2luYWxseS1wdWJsaXNoZWRcIixcIm90aGVyLWJsb2dzXCIsXCJvdXRsaW5lLXZpZXdcIixcInBhZ2VoZWFkXCIsXCJwYWdlLWhlYWRlclwiLFwicGFnZS10aXRsZVwiLFwicGF5d2FsbF9tZXNzYWdlXCIsXCItcGFydG5lcnNcIixcInBlcm1pc3Npb24tXCIsXCJwbGVhXCIsXCJwb3B1bGFyXCIsXCJwb3B1cF9saW5rc1wiLFwicG9wX3N0b3JpZXNcIixcInBvcC11cFwiLFwicG9zdC1hdXRob3JcIixcInBvc3QtYm90dG9tXCIsXCJwb3N0X19jYXRlZ29yeVwiLFwicG9zdGNvbW1lbnRcIixcInBvc3RkYXRlXCIsXCJwb3N0LWRhdGVcIixcInBvc3RfZGF0ZVwiLFwicG9zdC1kZXRhaWxzXCIsXCJwb3N0LWZlZWRzXCIsXCJwb3N0aW5mb1wiLFwicG9zdC1pbmZvXCIsXCJwb3N0X2luZm9cIixcInBvc3QtaW5saW5lLWRhdGVcIixcInBvc3QtbGlua3NcIixcInBvc3RsaXN0XCIsXCJwb3N0X2xpc3RcIixcInBvc3RfbWV0YVwiLFwicG9zdC1tZXRhXCIsXCJwb3N0bWV0YVwiLFwicG9zdF9tb3JlXCIsXCJwb3N0bmF2aVwiLFwicG9zdC1uYXZpZ2F0aW9uXCIsXCJwb3N0cGF0aFwiLFwicG9zdC1wcmV2aWV3XCIsXCJwb3N0c25pcHBldFwiLFwicG9zdF9zbmlwcGV0XCIsXCJwb3N0LXNuaXBwZXRcIixcInBvc3Qtc3ViamVjdFwiLFwicG9zdHRheFwiLFwicG9zdC10YXhcIixcInBvc3RfdGF4XCIsXCJwb3N0dGFnXCIsXCJwb3N0X3RhZ1wiLFwicG9zdC10YWdcIixcInBvc3RfdGltZVwiLFwicG9zdHRpdGxlXCIsXCJwb3N0LXRpdGxlXCIsXCJwb3N0X3RpdGxlXCIsXCJwb3N0X190aXRsZVwiLFwicG9zdC11ZmktYnV0dG9uXCIsXCJwcmV2LXBvc3RcIixcInByZXZuZXh0XCIsXCJwcmV2X25leHRcIixcInByZXYtbmV4dFwiLFwicHJldmlvdXNuZXh0XCIsXCJwcmVzcy1pbnF1aXJpZXNcIixcInByaW50LW5vbmVcIixcInByaW50LWhlYWRlclwiLFwicHJpbnQ6aGlkZGVuXCIsXCJwcml2YWN5LW5vdGljZVwiLFwicHJpdmFjeS1zZXR0aW5nc1wiLFwicHJvZmlsZVwiLFwicHJvbW9fYXJ0aWNsZVwiLFwicHJvbW8tYmFyXCIsXCJwcm9tby1ib3hcIixcInB1YmRhdGVcIixcInB1Yl9kYXRlXCIsXCJwdWItZGF0ZVwiLFwicHVibGlzaF9kYXRlXCIsXCJwdWJsaXNoLWRhdGVcIixcInB1YmxpY2F0aW9uLWRhdGVcIixcInB1YmxpY2F0aW9uTmFtZVwiLFwicXItY29kZVwiLFwicXJfY29kZVwiLFwicXVpY2tfdXBcIixcIl9yYWlsXCIsXCJyYXRpbmdzc2VjdGlvblwiLFwicmVhZF9hbHNvXCIsXCJyZWFkbW9yZVwiLFwicmVhZC1uZXh0XCIsXCJyZWFkX25leHRcIixcInJlYWRfdGltZVwiLFwicmVhZC10aW1lXCIsXCJyZWFkaW5nX3RpbWVcIixcInJlYWRpbmctdGltZVwiLFwicmVhZGluZy1saXN0XCIsXCJyZWNlbnQtXCIsXCJyZWNlbnQtYXJ0aWNsZXNcIixcInJlY2VudHBvc3RcIixcInJlY2VudF9wb3N0XCIsXCJyZWNlbnQtcG9zdFwiLFwicmVjb21tZW5kXCIsXCJyZWRpcmVjdGVkZnJvbVwiLFwicmVjaXJjXCIsXCJyZWdpc3RlclwiLFwicmVsYXRlZFwiLFwicmVsZXZhbnRcIixcInJldmVyc2Vmb290bm90ZVwiLFwiX3Jzc1wiLFwicnNzLWxpbmtcIixcInNjcmVlbi1yZWFkZXItdGV4dFwiLFwic2Nyb2xsX3RvXCIsXCJzY3JvbGwtdG9cIixcIl9zZWFyY2hcIixcIi1zZWFyY2hcIixcInNlY3Rpb24tbmF2XCIsXCJzZXJpZXMtYmFubmVyXCIsXCJzaGFyZS1ib3hcIixcInNoYXJlZGFkZHlcIixcInNoYXJlLWljb25zXCIsXCJzaGFyZWxpbmtzXCIsXCJzaGFyZS1wb3N0XCIsXCJzaGFyZS1wcmludFwiLFwic2hhcmUtc2VjdGlvblwiLFwic2hvdy1mb3ItcHJpbnRcIixcInNpZGViYXJ0aXRsZVwiLFwic2lkZWJhci1jb250ZW50XCIsXCJzaWRlYmFyLXdyYXBwZXJcIixcInNpZGVpdGVtc1wiLFwic2lkZWJhci1hdXRob3JcIixcInNpZGViYXItaXRlbVwiLFwic2lkZS1ib3hcIixcInNpZGUtbG9nb1wiLFwic2lnbi1pbi1nYXRlXCIsXCJzaW1pbGFyLVwiLFwic2ltaWxhcl9cIixcInNpbWlsYXJzLVwiLFwic2l0ZS1pbmRleFwiLFwic2l0ZS1oZWFkZXJcIixcInNpdGVoZWFkZXJcIixcInNpdGUtbG9nb1wiLFwic2l0ZS1uYW1lXCIsXCJzaXRlLXdvcmRwcmVzc1wiLFwic2tpcC1jb250ZW50XCIsXCJza2lwLXRvLWNvbnRlbnRcIixcImMtc2tpcC1saW5rXCIsXCJfc2tpcC1saW5rXCIsXCItc2xpZGVyXCIsXCJzbHVnLXdyYXBcIixcInNvY2lhbC1hdXRob3JcIixcInNvY2lhbC1zaGFyXCIsXCJzb2NpYWwtZGF0ZVwiLFwic3BlZWNoaWZ5LWlnbm9yZVwiLFwic3BlZWRidW1wXCIsXCJzcG9uc29yXCIsXCJzcHJpbmdlcmNpdGF0aW9uXCIsXCJzci1vbmx5XCIsXCJfc3RhdHNcIixcInN0b3J5LWRhdGVcIixcInN0b3J5LW5hdmlnYXRpb25cIixcInN0b3J5cmVhZHRpbWVcIixcInN0b3J5c21hbGxcIixcInN0b3J5cHVibGlzaGRhdGVcIixcInN1YmplY3QtbGFiZWxcIixcInN1YmhlYWRcIixcInN1Ym1lbnVcIixcIi1zdWJzY3JpYmUtXCIsXCJzdWJzY3JpYmVyLWRyaXZlXCIsXCJzdWJzY3JpcHRpb24tXCIsXCJfdGFnc1wiLFwidGFnc19faXRlbVwiLFwidGFnX2xpc3RcIixcInRheG9ub215XCIsXCJ0YWJsZS1vZi1jb250ZW50c1wiLFwidGFicy1cIixcInRlcm1pbmFsdG91dFwiLFwidGltZS1ydWJyaWNcIixcInRpbWVzdGFtcFwiLFwidGltZS1yZWFkXCIsXCJ0aW1lLXRvLXJlYWRcIixcInRpcF9vZmZcIixcInRpcHRvdXRcIixcIi10b3V0LVwiLFwidG9jLWNvbnRhaW5lclwiLFwidG9nZ2xlLWNhcHRpb25cIixcInRvb2x0aXBcIixcInRvcGJhclwiLFwidG9waWMtbGlzdFwiLFwidG9waWMtc3VibmF2XCIsXCJ0b3Atd3JhcHBlclwiLFwidHJlZS1pdGVtXCIsXCJ0cmVuZGluZ1wiLFwidHJ1c3QtZmVhdFwiLFwidHJ1c3QtYmFkZ2VcIixcInRydXN0LXByb2plY3RcIixcInR3aXR0ZXJcIixcInUtaGlkZVwiLFwidXBzZWxsXCIsXCJ2aWV3Ym90dG9tXCIsXCJ2aXN1YWxseS1oaWRkZW5cIixcIndlbGNvbWVib3hcIixcIndpZGdldF9wYWdlc1wiXSxlLkZPT1ROT1RFX0lOTElORV9SRUZFUkVOQ0VTPVtcInN1cC5yZWZlcmVuY2VcIixcImNpdGUubHR4X2NpdGVcIiwnc3VwW2lkXj1cImZuclwiXScsJ3NwYW5baWRePVwiZm5yXCJdJywnc3BhbltjbGFzcyo9XCJmb290bm90ZV9yZWZcIl0nLFwic3Bhbi5mb290bm90ZS1saW5rXCIsXCJhLmNpdGF0aW9uXCIsJ2FbaWRePVwicmVmLWxpbmtcIl0nLCdhW2hyZWZePVwiI2ZuXCJdJywnYVtocmVmXj1cIiNjaXRlXCJdJywnYVtocmVmXj1cIiNyZWZlcmVuY2VcIl0nLCdhW2hyZWZePVwiI2Zvb3Rub3RlXCJdJywnYVtocmVmXj1cIiNyXCJdJywnYVtocmVmXj1cIiNiXCJdJywnYVtocmVmKj1cImNpdGVfbm90ZVwiXScsJ2FbaHJlZio9XCJjaXRlX3JlZlwiXScsXCJhLmZvb3Rub3RlLWFuY2hvclwiLFwic3Bhbi5mb290bm90ZS1ob3ZlcmNhcmQtdGFyZ2V0IGFcIiwnYVtyb2xlPVwiZG9jLWJpYmxpb3JlZlwiXScsJ2FbaWRePVwiZm5yZWZcIl0nLCdhW2lkXj1cInJlZi1saW5rXCJdJ10uam9pbihcIixcIiksZS5GT09UTk9URV9MSVNUX1NFTEVDVE9SUz1bXCJkaXYuZm9vdG5vdGUgb2xcIixcImRpdi5mb290bm90ZXMgb2xcIiwnZGl2W3JvbGU9XCJkb2MtZW5kbm90ZXNcIl0nLCdkaXZbcm9sZT1cImRvYy1mb290bm90ZXNcIl0nLFwib2wuZm9vdG5vdGVzLWxpc3RcIixcIm9sLmZvb3Rub3Rlc1wiLFwib2wucmVmZXJlbmNlc1wiLCdvbFtjbGFzcyo9XCJhcnRpY2xlLXJlZmVyZW5jZXNcIl0nLFwic2VjdGlvbi5mb290bm90ZXMgb2xcIiwnc2VjdGlvbltyb2xlPVwiZG9jLWVuZG5vdGVzXCJdJywnc2VjdGlvbltyb2xlPVwiZG9jLWZvb3Rub3Rlc1wiXScsJ3NlY3Rpb25bcm9sZT1cImRvYy1iaWJsaW9ncmFwaHlcIl0nLFwidWwuZm9vdG5vdGVzLWxpc3RcIixcInVsLmx0eF9iaWJsaXN0XCIsJ2Rpdi5mb290bm90ZVtkYXRhLWNvbXBvbmVudC1uYW1lPVwiRm9vdG5vdGVUb0RPTVwiXSddLmpvaW4oXCIsXCIpLGUuQUxMT1dFRF9FTVBUWV9FTEVNRU5UUz1uZXcgU2V0KFtcImFyZWFcIixcImF1ZGlvXCIsXCJiYXNlXCIsXCJiclwiLFwiY2lyY2xlXCIsXCJjb2xcIixcImRlZnNcIixcImVsbGlwc2VcIixcImVtYmVkXCIsXCJmaWd1cmVcIixcImdcIixcImhyXCIsXCJpZnJhbWVcIixcImltZ1wiLFwiaW5wdXRcIixcImxpbmVcIixcImxpbmtcIixcIm1hc2tcIixcIm1ldGFcIixcIm9iamVjdFwiLFwicGFyYW1cIixcInBhdGhcIixcInBhdHRlcm5cIixcInBpY3R1cmVcIixcInBvbHlnb25cIixcInBvbHlsaW5lXCIsXCJyZWN0XCIsXCJzb3VyY2VcIixcInN0b3BcIixcInN2Z1wiLFwidGRcIixcInRoXCIsXCJ0cmFja1wiLFwidXNlXCIsXCJ2aWRlb1wiLFwid2JyXCJdKSxlLkFMTE9XRURfQVRUUklCVVRFUz1uZXcgU2V0KFtcImFsdFwiLFwiYWxsb3dcIixcImFsbG93ZnVsbHNjcmVlblwiLFwiYXJpYS1sYWJlbFwiLFwiY2hlY2tlZFwiLFwiY29sc3BhblwiLFwiY29udHJvbHNcIixcImRhdGEtbGF0ZXhcIixcImRhdGEtc3JjXCIsXCJkYXRhLXNyY3NldFwiLFwiZGF0YS1sYW5nXCIsXCJkaXJcIixcImRpc3BsYXlcIixcImZyYW1lYm9yZGVyXCIsXCJoZWFkZXJzXCIsXCJoZWlnaHRcIixcImhyZWZcIixcImxhbmdcIixcInJvbGVcIixcInJvd3NwYW5cIixcInNyY1wiLFwic3Jjc2V0XCIsXCJ0aXRsZVwiLFwidHlwZVwiLFwid2lkdGhcIixcImFjY2VudFwiLFwiYWNjZW50dW5kZXJcIixcImFsaWduXCIsXCJjb2x1bW5hbGlnblwiLFwiY29sdW1ubGluZXNcIixcImNvbHVtbnNwYWNpbmdcIixcImNvbHVtbnNwYW5cIixcImRhdGEtbWp4LXRleGNsYXNzXCIsXCJkZXB0aFwiLFwiZGlzcGxheXN0eWxlXCIsXCJmZW5jZVwiLFwiZnJhbWVcIixcImZyYW1lc3BhY2luZ1wiLFwibGluZXRoaWNrbmVzc1wiLFwibHNwYWNlXCIsXCJtYXRoc2l6ZVwiLFwibWF0aHZhcmlhbnRcIixcIm1heHNpemVcIixcIm1pbnNpemVcIixcIm1vdmFibGVsaW1pdHNcIixcIm5vdGF0aW9uXCIsXCJyb3dhbGlnblwiLFwicm93bGluZXNcIixcInJvd3NwYWNpbmdcIixcInJvd3NwYW5cIixcInJzcGFjZVwiLFwic2NyaXB0bGV2ZWxcIixcInNlcGFyYXRvclwiLFwic3RyZXRjaHlcIixcInN5bW1ldHJpY1wiLFwidm9mZnNldFwiLFwieG1sbnNcIl0pLGUuQUxMT1dFRF9BVFRSSUJVVEVTX0RFQlVHPW5ldyBTZXQoW1wiY2xhc3NcIixcImlkXCJdKX0sNjQ5Oih0LGUscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmltYWdlUnVsZXM9dm9pZCAwO2NvbnN0IG49cig1NTIpLG89L15kYXRhOmltYWdlXFwvKFteO10rKTtiYXNlNjQsLyxpPS9cXC4oanBnfGpwZWd8cG5nfHdlYnApXFxzK1xcZC8sYT0vXlxccypcXFMrXFwuKGpwZ3xqcGVnfHBuZ3x3ZWJwKVxcUypcXHMqJC8scz0vXFwuKGpwZ3xqcGVnfHBuZ3x3ZWJwfGdpZnxhdmlmKShcXD8uKik/JC9pLGw9L1xccyhcXGQrKXcvLGM9L2Rwcj0oXFxkKyg/OlxcLlxcZCspPykvLHU9L14oW15cXHNdKykvLGQ9L15bXFx3XFwtXFwuXFwvXFxcXF0rXFwuKGpwZ3xqcGVnfHBuZ3xnaWZ8d2VicHxzdmcpJC9pLG09L15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvO2Z1bmN0aW9uIGgodCxlLHIpe2NvbnN0IG89ci5jcmVhdGVFbGVtZW50KFwiZmlndXJlXCIpO28uYXBwZW5kQ2hpbGQodC5jbG9uZU5vZGUoITApKTtjb25zdCBpPXIuY3JlYXRlRWxlbWVudChcImZpZ2NhcHRpb25cIiksYT1mdW5jdGlvbih0KXtjb25zdCBlPVtdLHI9bmV3IFNldCxvPXQ9Pnt2YXIgaTtpZigoMCxuLmlzVGV4dE5vZGUpKHQpKXtjb25zdCBuPShudWxsPT09KGk9dC50ZXh0Q29udGVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkudHJpbSgpKXx8XCJcIjtuJiYhci5oYXMobikmJihlLnB1c2gobiksci5hZGQobikpfWVsc2UgaWYoKDAsbi5pc0VsZW1lbnQpKHQpKXtjb25zdCBlPXQuY2hpbGROb2Rlcztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylvKGVbdF0pfX0saT10LmNoaWxkTm9kZXM7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspbyhpW3RdKTtpZihlLmxlbmd0aD4wKXJldHVybiBlLmpvaW4oXCIgXCIpO3JldHVybiB0LmlubmVySFRNTH0oZSk7cmV0dXJuIGkuaW5uZXJIVE1MPWEsby5hcHBlbmRDaGlsZChpKSxvfWZ1bmN0aW9uIHAodCxlKXtlLnNldEF0dHJpYnV0ZShcInNyY3NldFwiLHQpO2NvbnN0IHI9QSh0KTtyJiZiKHIpJiZlLnNldEF0dHJpYnV0ZShcInNyY1wiLHIpfWZ1bmN0aW9uIGcodCxlLHIpe2ZvcihsZXQgbj0wO248dC5hdHRyaWJ1dGVzLmxlbmd0aDtuKyspe2NvbnN0IG89dC5hdHRyaWJ1dGVzW25dO3IuaW5jbHVkZXMoby5uYW1lKXx8ZS5zZXRBdHRyaWJ1dGUoby5uYW1lLG8udmFsdWUpfX1mdW5jdGlvbiBmKHQpe2NvbnN0IGU9dC5tYXRjaChvKTtpZighZSlyZXR1cm4hMTtpZihcInN2Zyt4bWxcIj09PWVbMV0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdLmxlbmd0aDtyZXR1cm4gdC5sZW5ndGgtcjwxMzN9ZnVuY3Rpb24gdih0KXtyZXR1cm4gdC5zdGFydHNXaXRoKFwiZGF0YTppbWFnZS9zdmcreG1sXCIpfWZ1bmN0aW9uIGIodCl7cmV0dXJuIXQuc3RhcnRzV2l0aChcImRhdGE6XCIpJiYoISghdHx8XCJcIj09PXQudHJpbSgpKSYmKHMudGVzdCh0KXx8dC5pbmNsdWRlcyhcImltYWdlXCIpfHx0LmluY2x1ZGVzKFwiaW1nXCIpfHx0LmluY2x1ZGVzKFwicGhvdG9cIikpKX1mdW5jdGlvbiB5KHQpe2lmKEUodCkpcmV0dXJuITA7cmV0dXJuIHQucXVlcnlTZWxlY3RvckFsbChcImltZywgdmlkZW8sIHBpY3R1cmUsIHNvdXJjZVwiKS5sZW5ndGg+MH1mdW5jdGlvbiBFKHQpe2NvbnN0IGU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbWdcIj09PWV8fFwidmlkZW9cIj09PWV8fFwicGljdHVyZVwiPT09ZXx8XCJzb3VyY2VcIj09PWV9ZnVuY3Rpb24gQyh0KXtpZihFKHQpKXJldHVybiB0O2NvbnN0IGU9dC5xdWVyeVNlbGVjdG9yQWxsKFwicGljdHVyZVwiKTtpZihlLmxlbmd0aD4wKXJldHVybiBlWzBdO2NvbnN0IHI9dC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpLG49W107Zm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0Kyspe2NvbnN0IGU9clt0XSxvPWUuZ2V0QXR0cmlidXRlKFwic3JjXCIpfHxcIlwiLGk9ZS5nZXRBdHRyaWJ1dGUoXCJhbHRcIil8fFwiXCI7by5pbmNsdWRlcyhcImRhdGE6aW1hZ2Uvc3ZnK3htbFwiKXx8KGYobyl8fCFpLnRyaW0oKSYmci5sZW5ndGg+MXx8bi5wdXNoKGUpKX1pZihuLmxlbmd0aD4wKXJldHVybiBuWzBdO2NvbnN0IG89dC5xdWVyeVNlbGVjdG9yQWxsKFwidmlkZW9cIik7aWYoby5sZW5ndGg+MClyZXR1cm4gb1swXTtjb25zdCBpPXQucXVlcnlTZWxlY3RvckFsbChcInNvdXJjZVwiKTtpZihpLmxlbmd0aD4wKXJldHVybiBpWzBdO2NvbnN0IGE9dC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nLCBwaWN0dXJlLCBzb3VyY2UsIHZpZGVvXCIpO3JldHVybiBhLmxlbmd0aD4wP2FbMF06bnVsbH1mdW5jdGlvbiB3KHQpe3ZhciBlLHIsbixvO2NvbnN0IGk9dC5xdWVyeVNlbGVjdG9yKFwiZmlnY2FwdGlvblwiKTtpZihpKXJldHVybiBpO2NvbnN0IGE9bmV3IFNldCxzPVsnW2NsYXNzKj1cImNhcHRpb25cIl0nLCdbY2xhc3MqPVwiZGVzY3JpcHRpb25cIl0nLCdbY2xhc3MqPVwiYWx0XCJdJywnW2NsYXNzKj1cInRpdGxlXCJdJywnW2NsYXNzKj1cImNyZWRpdFwiXScsJ1tjbGFzcyo9XCJ0ZXh0XCJdJywnW2NsYXNzKj1cInBvc3QtdGh1bWJuYWlsLXRleHRcIl0nLCdbY2xhc3MqPVwiaW1hZ2UtY2FwdGlvblwiXScsJ1tjbGFzcyo9XCJwaG90by1jYXB0aW9uXCJdJyxcIlthcmlhLWxhYmVsXVwiLFwiW3RpdGxlXVwiXS5qb2luKFwiLCBcIiksbD10LnF1ZXJ5U2VsZWN0b3JBbGwocyk7Zm9yKGxldCB0PTA7dDxsLmxlbmd0aDt0Kyspe2NvbnN0IHI9bFt0XTtpZihFKHIpKWNvbnRpbnVlO2NvbnN0IG49bnVsbD09PShlPXIudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRyaW0oKTtpZihuJiZuLmxlbmd0aD4wJiYhYS5oYXMobikpcmV0dXJuIGEuYWRkKG4pLHJ9Y29uc3QgYz10LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7aWYoYyYmYy5oYXNBdHRyaWJ1dGUoXCJhbHRcIikpe2NvbnN0IGU9Yy5nZXRBdHRyaWJ1dGUoXCJhbHRcIik7aWYoZSYmZS50cmltKCkubGVuZ3RoPjApe2NvbnN0IHI9dC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIHIudGV4dENvbnRlbnQ9ZSxyfX1pZih0LnBhcmVudEVsZW1lbnQpe2NvbnN0IGU9dC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBvPWVbbl07aWYobz09PXQpY29udGludWU7aWYoQXJyYXkuZnJvbShvLmNsYXNzTGlzdCkuc29tZSgodD0+dC5pbmNsdWRlcyhcImNhcHRpb25cIil8fHQuaW5jbHVkZXMoXCJjcmVkaXRcIil8fHQuaW5jbHVkZXMoXCJ0ZXh0XCIpfHx0LmluY2x1ZGVzKFwiZGVzY3JpcHRpb25cIikpKSl7Y29uc3QgdD1udWxsPT09KHI9by50ZXh0Q29udGVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudHJpbSgpO2lmKHQmJnQubGVuZ3RoPjApcmV0dXJuIG99fX1jb25zdCB1PXQucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKTtmb3IobGV0IHQ9MDt0PHUubGVuZ3RoO3QrKyl7Y29uc3QgZT11W3RdO2lmKCFlLnBhcmVudEVsZW1lbnQpY29udGludWU7bGV0IHI9ZS5uZXh0RWxlbWVudFNpYmxpbmc7Zm9yKDtyOyl7aWYoW1wiRU1cIixcIlNUUk9OR1wiLFwiU1BBTlwiLFwiSVwiLFwiQlwiLFwiU01BTExcIixcIkNJVEVcIl0uaW5jbHVkZXMoci50YWdOYW1lKSl7Y29uc3QgdD1udWxsPT09KG49ci50ZXh0Q29udGVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4udHJpbSgpO2lmKHQmJnQubGVuZ3RoPjApcmV0dXJuIHJ9cj1yLm5leHRFbGVtZW50U2libGluZ319Zm9yKGxldCB0PTA7dDx1Lmxlbmd0aDt0Kyspe2NvbnN0IGU9dVt0XSxyPWUucGFyZW50RWxlbWVudDtpZighciljb250aW51ZTtjb25zdCBuPXIucXVlcnlTZWxlY3RvckFsbChcImVtLCBzdHJvbmcsIHNwYW4sIGksIGIsIHNtYWxsLCBjaXRlXCIpO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCByPW5bdF07aWYocj09PWUpY29udGludWU7Y29uc3QgaT1udWxsPT09KG89ci50ZXh0Q29udGVudCl8fHZvaWQgMD09PW8/dm9pZCAwOm8udHJpbSgpO2lmKGkmJmkubGVuZ3RoPjApcmV0dXJuIHJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIHgodCl7dmFyIGU7Y29uc3Qgcj0obnVsbD09PShlPXQudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRyaW0oKSl8fFwiXCI7cmV0dXJuIShyLmxlbmd0aDwxMHx8ci5zdGFydHNXaXRoKFwiaHR0cDovL1wiKXx8ci5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIikpJiYoIWQudGVzdChyKSYmKCFyLm1hdGNoKC9eXFxkKyQvKSYmIW0udGVzdChyKSkpfWZ1bmN0aW9uIFModCxlKXtjb25zdCByPXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKFwiaW1nXCI9PT1yKXJldHVybiBUKHQsZSk7aWYoXCJwaWN0dXJlXCI9PT1yKXtjb25zdCByPXQucXVlcnlTZWxlY3RvcihcImltZ1wiKTtyZXR1cm4gcj9UKHIsZSk6dC5jbG9uZU5vZGUoITApfXJldHVyblwic291cmNlXCI9PT1yP2Z1bmN0aW9uKHQsZSl7Y29uc3Qgcj1lLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksbj10LmdldEF0dHJpYnV0ZShcInNyY3NldFwiKTtuJiZwKG4scik7Y29uc3Qgbz10LnBhcmVudEVsZW1lbnQ7aWYobyl7Y29uc3QgdD1vLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIiksZT1bXTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdLG89bi5nZXRBdHRyaWJ1dGUoXCJzcmNcIil8fFwiXCI7ZihvKXx8dihvKXx8XCJcIj09PW98fGUucHVzaChuKX1pZihlLmxlbmd0aD4wKXtpZihnKGVbMF0scixbXCJzcmNcIixcInNyY3NldFwiXSksIXIuaGFzQXR0cmlidXRlKFwic3JjXCIpfHwhYihyLmdldEF0dHJpYnV0ZShcInNyY1wiKXx8XCJcIikpe2NvbnN0IHQ9ZVswXS5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7dCYmYih0KSYmci5zZXRBdHRyaWJ1dGUoXCJzcmNcIix0KX19ZWxzZXtjb25zdCB0PW8ucXVlcnlTZWxlY3RvcihcImltZ1tkYXRhLXNyY11cIik7aWYodCYmKGcodCxyLFtcInNyY1wiLFwic3Jjc2V0XCJdKSwhci5oYXNBdHRyaWJ1dGUoXCJzcmNcIil8fCFiKHIuZ2V0QXR0cmlidXRlKFwic3JjXCIpfHxcIlwiKSkpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKTtlJiZiKGUpJiZyLnNldEF0dHJpYnV0ZShcInNyY1wiLGUpfX19cmV0dXJuIHJ9KHQsZSk6dC5jbG9uZU5vZGUoITApfWZ1bmN0aW9uIFQodCxlKXtjb25zdCByPXQuZ2V0QXR0cmlidXRlKFwic3JjXCIpfHxcIlwiO2lmKGYocil8fHYocikpe2NvbnN0IHI9dC5wYXJlbnRFbGVtZW50O2lmKHIpe2NvbnN0IG49ci5xdWVyeVNlbGVjdG9yQWxsKFwic291cmNlXCIpLG89W107Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGU9blt0XTtlLmhhc0F0dHJpYnV0ZShcImRhdGEtc3Jjc2V0XCIpJiZcIlwiIT09ZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY3NldFwiKSYmby5wdXNoKGUpfWlmKG8ubGVuZ3RoPjApe2NvbnN0IHI9ZS5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLG49dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKTtyZXR1cm4gbiYmIXYobikmJnIuc2V0QXR0cmlidXRlKFwic3JjXCIsbiksZyh0LHIsW1wic3JjXCJdKSxyfX19cmV0dXJuIHQuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiBBKHQpe2NvbnN0IGU9dC5zcGxpdChcIixcIik7aWYoMD09PWUubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHI9ZVswXS50cmltKCkubWF0Y2godSk7aWYociYmclsxXSl7Y29uc3QgdD1yWzFdO2lmKHYodCkpe2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPWVbdF0udHJpbSgpLm1hdGNoKHUpO2lmKHImJnJbMV0mJiF2KHJbMV0pKXJldHVybiByWzFdfXJldHVybiBudWxsfXJldHVybiB0fXJldHVybiBudWxsfWZ1bmN0aW9uIEwodCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBudWxsO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gdFswXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylpZighdFtlXS5oYXNBdHRyaWJ1dGUoXCJtZWRpYVwiKSlyZXR1cm4gdFtlXTtsZXQgZT1udWxsLHI9MDtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz10W25dLGk9by5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIik7aWYoIWkpY29udGludWU7Y29uc3QgYT1pLm1hdGNoKGwpLHM9aS5tYXRjaChjKTtpZihhJiZhWzFdKXtjb25zdCB0PXBhcnNlSW50KGFbMV0sMTApKihzP3BhcnNlRmxvYXQoc1sxXSk6MSk7dD5yJiYocj10LGU9byl9fXJldHVybiBlfHx0WzBdfWUuaW1hZ2VSdWxlcz1be3NlbGVjdG9yOlwicGljdHVyZVwiLGVsZW1lbnQ6XCJwaWN0dXJlXCIsdHJhbnNmb3JtOih0LGUpPT57Y29uc3Qgcj10LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzb3VyY2VcIiksbj10LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7aWYoIW4pe2NvbnNvbGUud2FybihcIlBpY3R1cmUgZWxlbWVudCB3aXRob3V0IGltZyBmYWxsYmFjazpcIix0Lm91dGVySFRNTCk7Y29uc3Qgbj1MKHIpO2lmKG4pe2NvbnN0IHI9bi5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIik7aWYocil7Y29uc3Qgbj1lLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7cmV0dXJuIHAocixuKSx0LmlubmVySFRNTD1cIlwiLHQuYXBwZW5kQ2hpbGQobiksdH19cmV0dXJuIHR9bGV0IG89bnVsbCxpPW51bGw7aWYoci5sZW5ndGg+MCl7Y29uc3QgdD1MKHIpO3QmJihvPXQuZ2V0QXR0cmlidXRlKFwic3Jjc2V0XCIpLG8mJihpPUEobykpKX1pZihvJiZuLnNldEF0dHJpYnV0ZShcInNyY3NldFwiLG8pLGkmJmIoaSkpbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIixpKTtlbHNlIGlmKCFuLmhhc0F0dHJpYnV0ZShcInNyY1wiKXx8IWIobi5nZXRBdHRyaWJ1dGUoXCJzcmNcIil8fFwiXCIpKXtjb25zdCB0PUEobi5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIil8fG98fFwiXCIpO3QmJmIodCkmJm4uc2V0QXR0cmlidXRlKFwic3JjXCIsdCl9cmV0dXJuIHIuZm9yRWFjaCgodD0+dC5yZW1vdmUoKSkpLHR9fSx7c2VsZWN0b3I6XCJ1bmktaW1hZ2UtZnVsbC13aWR0aFwiLGVsZW1lbnQ6XCJmaWd1cmVcIix0cmFuc2Zvcm06KHQsZSk9Pnt2YXIgcjtjb25zdCBuPWUuY3JlYXRlRWxlbWVudChcImZpZ3VyZVwiKSxvPWUuY3JlYXRlRWxlbWVudChcImltZ1wiKSxpPXQucXVlcnlTZWxlY3RvcihcImltZ1wiKTtpZighaSlyZXR1cm4gY29uc29sZS53YXJuKFwidW5pLWltYWdlLWZ1bGwtd2lkdGggd2l0aG91dCBpbWc6XCIsdC5vdXRlckhUTUwpLG47bGV0IGE9aS5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7Y29uc3Qgcz1pLmdldEF0dHJpYnV0ZShcImRhdGEtbG9hZGluZ1wiKTtpZihzKXRyeXtjb25zdCB0PUpTT04ucGFyc2Uocyk7dC5kZXNrdG9wJiZiKHQuZGVza3RvcCkmJihhPXQuZGVza3RvcCl9Y2F0Y2godCl7Y29uc29sZS53YXJuKFwiRmFpbGVkIHRvIHBhcnNlIGRhdGEtbG9hZGluZyBhdHRyaWJ1dGU6XCIscyx0KX1pZighYXx8IWIoYSkpcmV0dXJuIGNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBmaW5kIHZhbGlkIHNyYyBmb3IgdW5pLWltYWdlLWZ1bGwtd2lkdGg6XCIsdC5vdXRlckhUTUwpLG47by5zZXRBdHRyaWJ1dGUoXCJzcmNcIixhKTtsZXQgbD1pLmdldEF0dHJpYnV0ZShcImFsdFwiKTtsfHwobD10LmdldEF0dHJpYnV0ZShcImFsdC10ZXh0XCIpKSxsJiZvLnNldEF0dHJpYnV0ZShcImFsdFwiLGwpLG4uYXBwZW5kQ2hpbGQobyk7Y29uc3QgYz10LnF1ZXJ5U2VsZWN0b3IoXCJmaWdjYXB0aW9uXCIpO2lmKGMpe2NvbnN0IHQ9bnVsbD09PShyPWMudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKTtpZih0JiZ0Lmxlbmd0aD41KXtjb25zdCByPWUuY3JlYXRlRWxlbWVudChcImZpZ2NhcHRpb25cIiksbz1jLnF1ZXJ5U2VsZWN0b3IoXCIucmljaC10ZXh0IHBcIik7bz9yLmlubmVySFRNTD1vLmlubmVySFRNTDpyLnRleHRDb250ZW50PXQsbi5hcHBlbmRDaGlsZChyKX19cmV0dXJuIG59fSx7c2VsZWN0b3I6J2ltZ1tkYXRhLXNyY10sIGltZ1tkYXRhLXNyY3NldF0sIGltZ1tsb2FkaW5nPVwibGF6eVwiXSwgaW1nLmxhenksIGltZy5sYXp5bG9hZCcsZWxlbWVudDpcImltZ1wiLHRyYW5zZm9ybToodCxlKT0+e2NvbnN0IHI9dC5nZXRBdHRyaWJ1dGUoXCJzcmNcIil8fFwiXCIsbj1mdW5jdGlvbih0KXtpZih0Lmhhc0F0dHJpYnV0ZShcImRhdGEtc3JjXCIpfHx0Lmhhc0F0dHJpYnV0ZShcImRhdGEtc3Jjc2V0XCIpKXJldHVybiEwO2ZvcihsZXQgZT0wO2U8dC5hdHRyaWJ1dGVzLmxlbmd0aDtlKyspe2NvbnN0IHI9dC5hdHRyaWJ1dGVzW2VdO2lmKFwic3JjXCIhPT1yLm5hbWUpe2lmKHIubmFtZS5zdGFydHNXaXRoKFwiZGF0YS1cIikmJi9cXC4oanBnfGpwZWd8cG5nfHdlYnB8Z2lmKShcXD8uKik/JC9pLnRlc3Qoci52YWx1ZSkpcmV0dXJuITA7aWYoL1xcLihqcGd8anBlZ3xwbmd8d2VicHxnaWYpKFxcPy4qKT8kL2kudGVzdChyLnZhbHVlKSlyZXR1cm4hMH19cmV0dXJuITF9KHQpO2YocikmJm4mJnQucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO2NvbnN0IG89dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKTtvJiYhdC5nZXRBdHRyaWJ1dGUoXCJzcmNcIikmJnQuc2V0QXR0cmlidXRlKFwic3JjXCIsbyk7Y29uc3Qgcz10LmdldEF0dHJpYnV0ZShcImRhdGEtc3Jjc2V0XCIpO3MmJiF0LmdldEF0dHJpYnV0ZShcInNyY3NldFwiKSYmdC5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIixzKTtmb3IobGV0IGU9MDtlPHQuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKXtjb25zdCByPXQuYXR0cmlidXRlc1tlXTtcInNyY1wiIT09ci5uYW1lJiZcInNyY3NldFwiIT09ci5uYW1lJiZcImFsdFwiIT09ci5uYW1lJiYoaS50ZXN0KHIudmFsdWUpP3Quc2V0QXR0cmlidXRlKFwic3Jjc2V0XCIsci52YWx1ZSk6YS50ZXN0KHIudmFsdWUpJiZ0LnNldEF0dHJpYnV0ZShcInNyY1wiLHIudmFsdWUpKX1yZXR1cm4gdC5jbGFzc0xpc3QucmVtb3ZlKFwibGF6eVwiLFwibGF6eWxvYWRcIiksdC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWxsLXN0YXR1c1wiKSx0LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtc3JjXCIpLHQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1zcmNzZXRcIiksdC5yZW1vdmVBdHRyaWJ1dGUoXCJsb2FkaW5nXCIpLHR9fSx7c2VsZWN0b3I6XCJzcGFuOmhhcyhpbWcpXCIsZWxlbWVudDpcInNwYW5cIix0cmFuc2Zvcm06KHQsZSk9Pnt0cnl7aWYoIXkodCkpcmV0dXJuIHQ7Y29uc3Qgcj1DKHQpO2lmKCFyKXJldHVybiB0O2NvbnN0IG49dyh0KSxvPVMocixlKTtpZihuJiZ4KG4pKXtjb25zdCB0PWgobyxuLGUpO3JldHVybiBuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSx0fXJldHVybiBvfWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBwcm9jZXNzaW5nIHNwYW4gd2l0aCBpbWFnZTpcIixlKSx0fX19LHtzZWxlY3RvcjonZmlndXJlLCBwOmhhcyhbY2xhc3MqPVwiY2FwdGlvblwiXSknLGVsZW1lbnQ6XCJmaWd1cmVcIix0cmFuc2Zvcm06KHQsZSk9Pnt0cnl7aWYoIXkodCkpcmV0dXJuIHQ7Y29uc3Qgcj1DKHQpO2lmKCFyKXJldHVybiB0O2NvbnN0IG49dyh0KTtpZihuJiZ4KG4pKXtjb25zdCBvPUModCk7bGV0IGk7cmV0dXJuIG8/aT1vOihjb25zb2xlLndhcm4oXCJGaWd1cmUgcnVsZSBjb3VsZG4ndCBmaW5kIGN1cnJlbnQgaW1hZ2UgZWxlbWVudCBpbjpcIix0Lm91dGVySFRNTCksaT1TKHIsZSkpLGgoaSxuLGUpfXJldHVybiB0fWNhdGNoKGUpe3JldHVybiBjb25zb2xlLndhcm4oXCJFcnJvciBwcm9jZXNzaW5nIGNvbXBsZXggaW1hZ2UgZWxlbWVudDpcIixlKSx0fX19XX0sNzMyOih0LGUscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkdlbWluaUV4dHJhY3Rvcj12b2lkIDA7Y29uc3Qgbj1yKDE4MSk7Y2xhc3MgbyBleHRlbmRzIG4uQ29udmVyc2F0aW9uRXh0cmFjdG9ye2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCxlKSx0aGlzLm1lc3NhZ2VDb3VudD1udWxsLHRoaXMuY29udmVyc2F0aW9uQ29udGFpbmVycz10LnF1ZXJ5U2VsZWN0b3JBbGwoXCJkaXYuY29udmVyc2F0aW9uLWNvbnRhaW5lclwiKSx0aGlzLmZvb3Rub3Rlcz1bXX1jYW5FeHRyYWN0KCl7cmV0dXJuISF0aGlzLmNvbnZlcnNhdGlvbkNvbnRhaW5lcnMmJnRoaXMuY29udmVyc2F0aW9uQ29udGFpbmVycy5sZW5ndGg+MH1leHRyYWN0TWVzc2FnZXMoKXt0aGlzLm1lc3NhZ2VDb3VudD0wO2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuY29udmVyc2F0aW9uQ29udGFpbmVycz8odGhpcy5leHRyYWN0U291cmNlcygpLHRoaXMuY29udmVyc2F0aW9uQ29udGFpbmVycy5mb3JFYWNoKChlPT57Y29uc3Qgcj1lLnF1ZXJ5U2VsZWN0b3IoXCJ1c2VyLXF1ZXJ5XCIpO2lmKHIpe2NvbnN0IGU9ci5xdWVyeVNlbGVjdG9yKFwiLnF1ZXJ5LXRleHRcIik7aWYoZSl7Y29uc3Qgcj1lLmlubmVySFRNTHx8XCJcIjt0LnB1c2goe2F1dGhvcjpcIllvdVwiLGNvbnRlbnQ6ci50cmltKCksbWV0YWRhdGE6e3JvbGU6XCJ1c2VyXCJ9fSl9fWNvbnN0IG49ZS5xdWVyeVNlbGVjdG9yKFwibW9kZWwtcmVzcG9uc2VcIik7aWYobil7Y29uc3QgZT1uLnF1ZXJ5U2VsZWN0b3IoXCIubW9kZWwtcmVzcG9uc2UtdGV4dCAubWFya2Rvd25cIikscj1uLnF1ZXJ5U2VsZWN0b3IoXCIjZXh0ZW5kZWQtcmVzcG9uc2UtbWFya2Rvd24tY29udGVudFwiKXx8ZTtpZihyKXtsZXQgZT1yLmlubmVySFRNTHx8XCJcIjtjb25zdCBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7bi5pbm5lckhUTUw9ZSxuLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFibGUtY29udGVudFwiKS5mb3JFYWNoKCh0PT57dC5jbGFzc0xpc3QucmVtb3ZlKFwidGFibGUtY29udGVudFwiKX0pKSxlPW4uaW5uZXJIVE1MLHQucHVzaCh7YXV0aG9yOlwiR2VtaW5pXCIsY29udGVudDplLnRyaW0oKSxtZXRhZGF0YTp7cm9sZTpcImFzc2lzdGFudFwifX0pfX19KSksdGhpcy5tZXNzYWdlQ291bnQ9dC5sZW5ndGgsdCk6dH1leHRyYWN0U291cmNlcygpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYnJvd3NlLWl0ZW1cIik7dCYmdC5sZW5ndGg+MCYmdC5mb3JFYWNoKCh0PT57dmFyIGUscixuLG87Y29uc3QgaT10LnF1ZXJ5U2VsZWN0b3IoXCJhXCIpO2lmKGkgaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudCl7Y29uc3QgdD1pLmhyZWYsYT0obnVsbD09PShyPW51bGw9PT0oZT1pLnF1ZXJ5U2VsZWN0b3IoXCIuZG9tYWluXCIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50ZXh0Q29udGVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudHJpbSgpKXx8XCJcIixzPShudWxsPT09KG89bnVsbD09PShuPWkucXVlcnlTZWxlY3RvcihcIi50aXRsZVwiKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4udGV4dENvbnRlbnQpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRyaW0oKSl8fFwiXCI7dCYmKGF8fHMpJiZ0aGlzLmZvb3Rub3Rlcy5wdXNoKHt1cmw6dCx0ZXh0OnM/YCR7YX06ICR7c31gOmF9KX19KSl9Z2V0Rm9vdG5vdGVzKCl7cmV0dXJuIHRoaXMuZm9vdG5vdGVzfWdldE1ldGFkYXRhKCl7dmFyIHQ7Y29uc3QgZT10aGlzLmdldFRpdGxlKCkscj1udWxsIT09KHQ9dGhpcy5tZXNzYWdlQ291bnQpJiZ2b2lkIDAhPT10P3Q6dGhpcy5leHRyYWN0TWVzc2FnZXMoKS5sZW5ndGg7cmV0dXJue3RpdGxlOmUsc2l0ZTpcIkdlbWluaVwiLHVybDp0aGlzLnVybCxtZXNzYWdlQ291bnQ6cixkZXNjcmlwdGlvbjpgR2VtaW5pIGNvbnZlcnNhdGlvbiB3aXRoICR7cn0gbWVzc2FnZXNgfX1nZXRUaXRsZSgpe3ZhciB0LGUscixuLG87Y29uc3QgaT1udWxsPT09KHQ9dGhpcy5kb2N1bWVudC50aXRsZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudHJpbSgpO2lmKGkmJlwiR2VtaW5pXCIhPT1pJiYhaS5pbmNsdWRlcyhcIkdlbWluaVwiKSlyZXR1cm4gaTtjb25zdCBhPW51bGw9PT0ocj1udWxsPT09KGU9dGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLXRleHRcIikpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRleHRDb250ZW50KXx8dm9pZCAwPT09cj92b2lkIDA6ci50cmltKCk7aWYoYSlyZXR1cm4gYTtjb25zdCBzPW51bGw9PT0obz1udWxsPT09KG49dGhpcy5jb252ZXJzYXRpb25Db250YWluZXJzKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pdGVtKDApKXx8dm9pZCAwPT09bz92b2lkIDA6by5xdWVyeVNlbGVjdG9yKFwiLnF1ZXJ5LXRleHRcIik7aWYocyl7Y29uc3QgdD1zLnRleHRDb250ZW50fHxcIlwiO3JldHVybiB0Lmxlbmd0aD41MD90LnNsaWNlKDAsNTApK1wiLi4uXCI6dH1yZXR1cm5cIkdlbWluaSBDb252ZXJzYXRpb25cIn19ZS5HZW1pbmlFeHRyYWN0b3I9b30sNzU0Oih0LGUscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmNvZGVCbG9ja1J1bGVzPXZvaWQgMDtjb25zdCBuPXIoNTUyKSxvPVsvXmxhbmd1YWdlLShcXHcrKSQvLC9ebGFuZy0oXFx3KykkLywvXihcXHcrKS1jb2RlJC8sL15jb2RlLShcXHcrKSQvLC9ec3ludGF4LShcXHcrKSQvLC9eY29kZS1zbmlwcGV0X18oXFx3KykkLywvXmhpZ2hsaWdodC0oXFx3KykkLywvXihcXHcrKS1zbmlwcGV0JC8sLyg/Ol58XFxzKSg/Omxhbmd1YWdlfGxhbmd8YnJ1c2h8c3ludGF4KS0oXFx3KykoPzpcXHN8JCkvaV0saT1uZXcgU2V0KFtcImFiYXBcIixcImFjdGlvbnNjcmlwdFwiLFwiYWRhXCIsXCJhZG9jXCIsXCJhZ2RhXCIsXCJhbnRscjRcIixcImFwcGxlc2NyaXB0XCIsXCJhcmR1aW5vXCIsXCJhcm1hc21cIixcImFzY2lpZG9jXCIsXCJhc3BuZXRcIixcImF0b21cIixcImJhc2hcIixcImJhdGNoXCIsXCJjXCIsXCJjbG9qdXJlXCIsXCJjbWFrZVwiLFwiY29ib2xcIixcImNvZmZlZXNjcmlwdFwiLFwiY3BwXCIsXCJjKytcIixcImNyeXN0YWxcIixcImNzaGFycFwiLFwiY3NcIixcImRhcnRcIixcImRqYW5nb1wiLFwiZG9ja2VyZmlsZVwiLFwiZG90bmV0XCIsXCJlbGl4aXJcIixcImVsbVwiLFwiZXJsYW5nXCIsXCJmb3J0cmFuXCIsXCJmc2hhcnBcIixcImdkc2NyaXB0XCIsXCJnaXRpZ25vcmVcIixcImdsc2xcIixcImdvbGFuZ1wiLFwiZ3JhZGxlXCIsXCJncmFwaHFsXCIsXCJncm9vdnlcIixcImhhc2tlbGxcIixcImhzXCIsXCJoYXhlXCIsXCJobHNsXCIsXCJodG1sXCIsXCJpZHJpc1wiLFwiamF2YVwiLFwiamF2YXNjcmlwdFwiLFwianNcIixcImpzeFwiLFwianNkb2NcIixcImpzb25cIixcImpzb25wXCIsXCJqdWxpYVwiLFwia290bGluXCIsXCJsYXRleFwiLFwibGlzcFwiLFwiZWxpc3BcIixcImxpdmVzY3JpcHRcIixcImx1YVwiLFwibWFrZWZpbGVcIixcIm1hcmtkb3duXCIsXCJtZFwiLFwibWFya3VwXCIsXCJtYXNtXCIsXCJtYXRobWxcIixcIm1hdGxhYlwiLFwibW9uZ29kYlwiLFwibXlzcWxcIixcIm5hc21cIixcIm5naW54XCIsXCJuaW1cIixcIm5peFwiLFwib2JqY1wiLFwib2NhbWxcIixcInBhc2NhbFwiLFwicGVybFwiLFwicGhwXCIsXCJwb3N0Z3Jlc3FsXCIsXCJwb3dlcnNoZWxsXCIsXCJwcm9sb2dcIixcInB1cHBldFwiLFwicHl0aG9uXCIsXCJyZWdleFwiLFwicnNzXCIsXCJydWJ5XCIsXCJyYlwiLFwicnVzdFwiLFwic2NhbGFcIixcInNjaGVtZVwiLFwic2hlbGxcIixcInNoXCIsXCJzb2xpZGl0eVwiLFwic3BhcnFsXCIsXCJzcWxcIixcInNzbWxcIixcInN2Z1wiLFwic3dpZnRcIixcInRjbFwiLFwidGVycmFmb3JtXCIsXCJ0ZXhcIixcInRvbWxcIixcInR5cGVzY3JpcHRcIixcInRzXCIsXCJ0c3hcIixcInVucmVhbHNjcmlwdFwiLFwidmVyaWxvZ1wiLFwidmhkbFwiLFwid2ViYXNzZW1ibHlcIixcIndhc21cIixcInhtbFwiLFwieWFtbFwiLFwieW1sXCIsXCJ6aWdcIl0pO2UuY29kZUJsb2NrUnVsZXM9W3tzZWxlY3RvcjpbXCJwcmVcIiwnZGl2W2NsYXNzKj1cInByaXNtanNcIl0nLFwiLnN5bnRheGhpZ2hsaWdodGVyXCIsXCIuaGlnaGxpZ2h0XCIsXCIuaGlnaGxpZ2h0LXNvdXJjZVwiLFwiLndwLWJsb2NrLXN5bnRheGhpZ2hsaWdodGVyLWNvZGVcIixcIi53cC1ibG9jay1jb2RlXCIsJ2RpdltjbGFzcyo9XCJsYW5ndWFnZS1cIl0nXS5qb2luKFwiLCBcIiksZWxlbWVudDpcInByZVwiLHRyYW5zZm9ybToodCxlKT0+e2lmKCEodD0+XCJjbGFzc0xpc3RcImluIHQmJlwiZ2V0QXR0cmlidXRlXCJpbiB0JiZcInF1ZXJ5U2VsZWN0b3JcImluIHQpKHQpKXJldHVybiB0O2NvbnN0IHI9dD0+e3ZhciBlO2NvbnN0IHI9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxhbmdcIil8fHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sYW5ndWFnZVwiKTtpZihyKXJldHVybiByLnRvTG93ZXJDYXNlKCk7Y29uc3Qgbj1BcnJheS5mcm9tKHQuY2xhc3NMaXN0fHxbXSk7aWYobnVsbD09PShlPXQuY2xhc3NMaXN0KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jb250YWlucyhcInN5bnRheGhpZ2hsaWdodGVyXCIpKXtjb25zdCB0PW4uZmluZCgodD0+IVtcInN5bnRheGhpZ2hsaWdodGVyXCIsXCJub2d1dHRlclwiXS5pbmNsdWRlcyh0KSkpO2lmKHQmJmkuaGFzKHQudG9Mb3dlckNhc2UoKSkpcmV0dXJuIHQudG9Mb3dlckNhc2UoKX1mb3IoY29uc3QgdCBvZiBuKWZvcihjb25zdCBlIG9mIG8pe2NvbnN0IHI9dC50b0xvd2VyQ2FzZSgpLm1hdGNoKGUpO2lmKHImJnJbMV0mJmkuaGFzKHJbMV0udG9Mb3dlckNhc2UoKSkpcmV0dXJuIHJbMV0udG9Mb3dlckNhc2UoKX1mb3IoY29uc3QgdCBvZiBuKWlmKGkuaGFzKHQudG9Mb3dlckNhc2UoKSkpcmV0dXJuIHQudG9Mb3dlckNhc2UoKTtyZXR1cm5cIlwifTtsZXQgYT1cIlwiLHM9dDtmb3IoO3MmJiFhOyl7YT1yKHMpO2NvbnN0IHQ9cy5xdWVyeVNlbGVjdG9yKFwiY29kZVwiKTshYSYmdCYmKGE9cih0KSkscz1zLnBhcmVudEVsZW1lbnR9Y29uc3QgbD10PT57aWYoKDAsbi5pc1RleHROb2RlKSh0KSlyZXR1cm4gdC50ZXh0Q29udGVudHx8XCJcIjtsZXQgZT1cIlwiO2lmKCgwLG4uaXNFbGVtZW50KSh0KSl7aWYoXCJCUlwiPT09dC50YWdOYW1lKXJldHVyblwiXFxuXCI7aWYodC5tYXRjaGVzKCdkaXZbY2xhc3MqPVwibGluZVwiXSwgc3BhbltjbGFzcyo9XCJsaW5lXCJdLCAuZWMtbGluZSwgW2RhdGEtbGluZS1udW1iZXJdLCBbZGF0YS1saW5lXScpKXtjb25zdCBlPXQucXVlcnlTZWxlY3RvcignLmNvZGUsIC5jb250ZW50LCBbY2xhc3MqPVwiY29kZS1cIl0sIFtjbGFzcyo9XCJjb250ZW50LVwiXScpO2lmKGUpcmV0dXJuKGUudGV4dENvbnRlbnR8fFwiXCIpK1wiXFxuXCI7Y29uc3Qgcj10LnF1ZXJ5U2VsZWN0b3IoJy5saW5lLW51bWJlciwgLmd1dHRlciwgW2NsYXNzKj1cImxpbmUtbnVtYmVyXCJdLCBbY2xhc3MqPVwiZ3V0dGVyXCJdJyk7aWYocil7cmV0dXJuIEFycmF5LmZyb20odC5jaGlsZE5vZGVzKS5maWx0ZXIoKHQ9PiFyLmNvbnRhaW5zKHQpKSkubWFwKCh0PT5sKHQpKSkuam9pbihcIlwiKStcIlxcblwifXJldHVybiB0LnRleHRDb250ZW50K1wiXFxuXCJ9dC5jaGlsZE5vZGVzLmZvckVhY2goKHQ9PntlKz1sKHQpfSkpfXJldHVybiBlfTtsZXQgYz1cIlwiO3QubWF0Y2hlcyhcIi5zeW50YXhoaWdobGlnaHRlciwgLndwLWJsb2NrLXN5bnRheGhpZ2hsaWdodGVyLWNvZGVcIikmJihjPSh0PT57Y29uc3QgZT10LnF1ZXJ5U2VsZWN0b3IoXCIuc3ludGF4aGlnaGxpZ2h0ZXIgdGFibGUgLmNvZGUgLmNvbnRhaW5lclwiKTtpZihlKXJldHVybiBBcnJheS5mcm9tKGUuY2hpbGRyZW4pLm1hcCgodD0+e2NvbnN0IGU9QXJyYXkuZnJvbSh0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJjb2RlXCIpKS5tYXAoKHQ9Pnt2YXIgZTtsZXQgcj10LnRleHRDb250ZW50fHxcIlwiO3JldHVybihudWxsPT09KGU9dC5jbGFzc0xpc3QpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNvbnRhaW5zKFwic3BhY2VzXCIpKSYmKHI9XCIgXCIucmVwZWF0KHIubGVuZ3RoKSkscn0pKS5qb2luKFwiXCIpO3JldHVybiBlfHx0LnRleHRDb250ZW50fHxcIlwifSkpLmpvaW4oXCJcXG5cIik7Y29uc3Qgcj10LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY29kZSAubGluZVwiKTtyZXR1cm4gci5sZW5ndGg+MD9BcnJheS5mcm9tKHIpLm1hcCgodD0+e2NvbnN0IGU9QXJyYXkuZnJvbSh0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJjb2RlXCIpKS5tYXAoKHQ9PnQudGV4dENvbnRlbnR8fFwiXCIpKS5qb2luKFwiXCIpO3JldHVybiBlfHx0LnRleHRDb250ZW50fHxcIlwifSkpLmpvaW4oXCJcXG5cIik6XCJcIn0pKHQpKSxjfHwoYz1sKHQpKSxjPWMucmVwbGFjZSgvXlxccyt8XFxzKyQvZyxcIlwiKS5yZXBsYWNlKC9cXHQvZyxcIiAgICBcIikucmVwbGFjZSgvXFxuezMsfS9nLFwiXFxuXFxuXCIpLnJlcGxhY2UoL1xcdTAwYTAvZyxcIiBcIikucmVwbGFjZSgvXlxcbisvLFwiXCIpLnJlcGxhY2UoL1xcbiskLyxcIlwiKTtjb25zdCB1PWUuY3JlYXRlRWxlbWVudChcInByZVwiKSxkPWUuY3JlYXRlRWxlbWVudChcImNvZGVcIik7cmV0dXJuIGEmJihkLnNldEF0dHJpYnV0ZShcImRhdGEtbGFuZ1wiLGEpLGQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixgbGFuZ3VhZ2UtJHthfWApKSxkLnRleHRDb250ZW50PWMsdS5hcHBlbmRDaGlsZChkKSx1fX1dfSw4NDA6KHQsZSxyKT0+e09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGUuc3RhbmRhcmRpemVDb250ZW50PWZ1bmN0aW9uKHQsZSxyLG89ITEpeyhmdW5jdGlvbih0KXtjb25zdCBlPXQ9PntpZigoMCxjLmlzRWxlbWVudCkodCkpe2NvbnN0IGU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCJwcmVcIj09PWV8fFwiY29kZVwiPT09ZSlyZXR1cm59aWYoKDAsYy5pc1RleHROb2RlKSh0KSl7Y29uc3QgZT10LnRleHRDb250ZW50fHxcIlwiLHI9ZS5yZXBsYWNlKC9cXHhBMCsvZywoZT0+e3ZhciByLG4sbyxpO2lmKDE9PT1lLmxlbmd0aCl7Y29uc3QgZT1udWxsPT09KG49bnVsbD09PShyPXQucHJldmlvdXNTaWJsaW5nKXx8dm9pZCAwPT09cj92b2lkIDA6ci50ZXh0Q29udGVudCl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2xpY2UoLTEpLGE9bnVsbD09PShpPW51bGw9PT0obz10Lm5leHRTaWJsaW5nKXx8dm9pZCAwPT09bz92b2lkIDA6by50ZXh0Q29udGVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2hhckF0KDApO2lmKChudWxsPT1lP3ZvaWQgMDplLm1hdGNoKC9cXHcvKSkmJihudWxsPT1hP3ZvaWQgMDphLm1hdGNoKC9cXHcvKSkpcmV0dXJuXCJcXHhhMFwifXJldHVyblwiIFwiLnJlcGVhdChlLmxlbmd0aCl9KSk7ciE9PWUmJih0LnRleHRDb250ZW50PXIpfXQuaGFzQ2hpbGROb2RlcygpJiZBcnJheS5mcm9tKHQuY2hpbGROb2RlcykuZm9yRWFjaChlKX07ZSh0KX0pKHQpLGZ1bmN0aW9uKHQpe2xldCBlPTA7QXJyYXkuZnJvbSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSkuZm9yRWFjaCgodD0+e0FycmF5LmZyb20odC5jaGlsZE5vZGVzKS5mb3JFYWNoKCh0PT57KDAsYy5pc0NvbW1lbnROb2RlKSh0KSYmKHQucmVtb3ZlKCksZSsrKX0pKX0pKSwoMCxjLmxvZ0RlYnVnKShcIlJlbW92ZWQgSFRNTCBjb21tZW50czpcIixlKX0odCksZnVuY3Rpb24odCxlLHIpe2NvbnN0IG89dD0+dC5yZXBsYWNlKC9cXHUwMEEwL2csXCIgXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpLnRvTG93ZXJDYXNlKCksaT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaDFcIik7QXJyYXkuZnJvbShpKS5mb3JFYWNoKCh0PT57dmFyIGU7Y29uc3Qgbz1yLmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtvLmlubmVySFRNTD10LmlubmVySFRNTCxBcnJheS5mcm9tKHQuYXR0cmlidXRlcykuZm9yRWFjaCgodD0+e24uQUxMT1dFRF9BVFRSSUJVVEVTLmhhcyh0Lm5hbWUpJiZvLnNldEF0dHJpYnV0ZSh0Lm5hbWUsdC52YWx1ZSl9KSksbnVsbD09PShlPXQucGFyZW50Tm9kZSl8fHZvaWQgMD09PWV8fGUucmVwbGFjZUNoaWxkKG8sdCl9KSk7Y29uc3QgYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaDJcIik7aWYoYS5sZW5ndGg+MCl7Y29uc3QgdD1hWzBdLHI9byh0LnRleHRDb250ZW50fHxcIlwiKSxuPW8oZSk7biYmbj09PXImJnQucmVtb3ZlKCl9fSh0LGUudGl0bGUsciksKDAsYS5zdGFuZGFyZGl6ZUZvb3Rub3RlcykodCksZnVuY3Rpb24odCxlKXtsZXQgcj0wO3UuZm9yRWFjaCgobj0+e3QucXVlcnlTZWxlY3RvckFsbChuLnNlbGVjdG9yKS5mb3JFYWNoKCh0PT57aWYobi50cmFuc2Zvcm0pe2NvbnN0IG89bi50cmFuc2Zvcm0odCxlKTt0LnJlcGxhY2VXaXRoKG8pLHIrK319KSl9KSk7dC5xdWVyeVNlbGVjdG9yQWxsKFwibGl0ZS15b3V0dWJlXCIpLmZvckVhY2goKHQ9Pntjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwidmlkZW9pZFwiKTtpZighbilyZXR1cm47Y29uc3Qgbz1lLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7by53aWR0aD1cIjU2MFwiLG8uaGVpZ2h0PVwiMzE1XCIsby5zcmM9YGh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7bn1gLG8udGl0bGU9dC5nZXRBdHRyaWJ1dGUoXCJ2aWRlb3RpdGxlXCIpfHxcIllvdVR1YmUgdmlkZW8gcGxheWVyXCIsby5mcmFtZUJvcmRlcj1cIjBcIixvLmFsbG93PVwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkLW1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlXCIsby5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIixcIlwiKSx0LnJlcGxhY2VXaXRoKG8pLHIrK30pKSwoMCxjLmxvZ0RlYnVnKShcIkNvbnZlcnRlZCBlbWJlZGRlZCBlbGVtZW50czpcIixyKX0odCxyKSxvPyhtKHQsbyksZCh0KSxoKHQpLCgwLGMubG9nRGVidWcpKFwiRGVidWcgbW9kZTogU2tpcHBpbmcgZGl2IGZsYXR0ZW5pbmcgdG8gcHJlc2VydmUgc3RydWN0dXJlXCIpKToocCh0LHIpLG0odCxvKSxmdW5jdGlvbih0KXtsZXQgZT0wLHI9MCxvPSEwO2Zvcig7bzspe3IrKyxvPSExO2NvbnN0IGk9QXJyYXkuZnJvbSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSkuZmlsdGVyKCh0PT57aWYobi5BTExPV0VEX0VNUFRZX0VMRU1FTlRTLmhhcyh0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpcmV0dXJuITE7Y29uc3QgZT10LnRleHRDb250ZW50fHxcIlwiLHI9MD09PWUudHJpbSgpLmxlbmd0aCxvPWUuaW5jbHVkZXMoXCJcXHhhMFwiKSxpPSF0Lmhhc0NoaWxkTm9kZXMoKXx8QXJyYXkuZnJvbSh0LmNoaWxkTm9kZXMpLmV2ZXJ5KCh0PT57aWYoKDAsYy5pc1RleHROb2RlKSh0KSl7Y29uc3QgZT10LnRleHRDb250ZW50fHxcIlwiO3JldHVybiAwPT09ZS50cmltKCkubGVuZ3RoJiYhZS5pbmNsdWRlcyhcIlxceGEwXCIpfXJldHVybiExfSkpO2lmKFwiZGl2XCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y29uc3QgZT1BcnJheS5mcm9tKHQuY2hpbGRyZW4pO2lmKGUubGVuZ3RoPjAmJmUuZXZlcnkoKHQ9Pnt2YXIgZTtpZihcInNwYW5cIiE9PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiExO2NvbnN0IHI9KG51bGw9PT0oZT10LnRleHRDb250ZW50KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50cmltKCkpfHxcIlwiO3JldHVyblwiLFwiPT09cnx8XCJcIj09PXJ8fFwiIFwiPT09cn0pKSlyZXR1cm4hMH1yZXR1cm4gciYmIW8mJml9KSk7aS5sZW5ndGg+MCYmKGkuZm9yRWFjaCgodD0+e3QucmVtb3ZlKCksZSsrfSkpLG89ITApfSgwLGMubG9nRGVidWcpKFwiUmVtb3ZlZCBlbXB0eSBlbGVtZW50czpcIixlLFwiaXRlcmF0aW9uczpcIixyKX0odCksZCh0KSxwKHQsciksaCh0KSxmdW5jdGlvbih0LGUpe2xldCByPTA7Y29uc3Qgbj1EYXRlLm5vdygpLG89dD0+e3ZhciBlO2lmKCgwLGMuaXNFbGVtZW50KSh0KSl7Y29uc3QgZT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihcInByZVwiPT09ZXx8XCJjb2RlXCI9PT1lKXJldHVybn1pZihBcnJheS5mcm9tKHQuY2hpbGROb2RlcykuZm9yRWFjaChvKSwoMCxjLmlzVGV4dE5vZGUpKHQpKXtjb25zdCBuPXQudGV4dENvbnRlbnR8fFwiXCI7aWYoIW58fG4ubWF0Y2goL15bXFx1MjAwQ1xcdTIwMEJcXHUyMDBEXFx1MjAwRVxcdTIwMEZcXHVGRUZGXFx4QTBcXHNdKiQvKSludWxsPT09KGU9dC5wYXJlbnROb2RlKXx8dm9pZCAwPT09ZXx8ZS5yZW1vdmVDaGlsZCh0KSxyKys7ZWxzZXtjb25zdCBlPW4ucmVwbGFjZSgvXFxuezMsfS9nLFwiXFxuXFxuXCIpLnJlcGxhY2UoL15bXFxuXFxyXFx0XSsvLFwiXCIpLnJlcGxhY2UoL1tcXG5cXHJcXHRdKyQvLFwiXCIpLnJlcGxhY2UoL1sgXFx0XSpcXG5bIFxcdF0qL2csXCJcXG5cIikucmVwbGFjZSgvWyBcXHRdezMsfS9nLFwiIFwiKS5yZXBsYWNlKC9eWyBdKyQvLFwiIFwiKS5yZXBsYWNlKC9cXHMrKFssLiE/OjtdKS9nLFwiJDFcIikucmVwbGFjZSgvW1xcdTIwMENcXHUyMDBCXFx1MjAwRFxcdTIwMEVcXHUyMDBGXFx1RkVGRl0rL2csXCJcIikucmVwbGFjZSgvKD86XFx4QTApezIsfS9nLFwiXFx4YTBcIik7ZSE9PW4mJih0LnRleHRDb250ZW50PWUscis9bi5sZW5ndGgtZS5sZW5ndGgpfX19LGk9dD0+e3ZhciBuO2lmKCEoMCxjLmlzRWxlbWVudCkodCkpcmV0dXJuO2NvbnN0IG89dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYoXCJwcmVcIj09PW98fFwiY29kZVwiPT09bylyZXR1cm47QXJyYXkuZnJvbSh0LmNoaWxkTm9kZXMpLmZpbHRlcihjLmlzRWxlbWVudCkuZm9yRWFjaChpKSx0Lm5vcm1hbGl6ZSgpO2NvbnN0IGE9XCJibG9ja1wiPT09KG51bGw9PT0obj0oMCxjLmdldENvbXB1dGVkU3R5bGUpKHQpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5kaXNwbGF5KSxzPWE/L15bXFxuXFxyXFx0IFxcdTIwMENcXHUyMDBCXFx1MjAwRFxcdTIwMEVcXHUyMDBGXFx1RkVGRlxceEEwXSokLzovXltcXG5cXHJcXHRcXHUyMDBDXFx1MjAwQlxcdTIwMERcXHUyMDBFXFx1MjAwRlxcdUZFRkZdKiQvLGw9YT8vXltcXG5cXHJcXHQgXFx1MjAwQ1xcdTIwMEJcXHUyMDBEXFx1MjAwRVxcdTIwMEZcXHVGRUZGXFx4QTBdKiQvOi9eW1xcblxcclxcdFxcdTIwMENcXHUyMDBCXFx1MjAwRFxcdTIwMEVcXHUyMDBGXFx1RkVGRl0qJC87Zm9yKDt0LmZpcnN0Q2hpbGQmJigwLGMuaXNUZXh0Tm9kZSkodC5maXJzdENoaWxkKSYmKHQuZmlyc3RDaGlsZC50ZXh0Q29udGVudHx8XCJcIikubWF0Y2gocyk7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKSxyKys7Zm9yKDt0Lmxhc3RDaGlsZCYmKDAsYy5pc1RleHROb2RlKSh0Lmxhc3RDaGlsZCkmJih0Lmxhc3RDaGlsZC50ZXh0Q29udGVudHx8XCJcIikubWF0Y2gobCk7KXQucmVtb3ZlQ2hpbGQodC5sYXN0Q2hpbGQpLHIrKztpZighYSl7Y29uc3Qgcj1BcnJheS5mcm9tKHQuY2hpbGROb2Rlcyk7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aC0xO24rKyl7Y29uc3Qgbz1yW25dLGk9cltuKzFdO2lmKCgwLGMuaXNFbGVtZW50KShvKXx8KDAsYy5pc0VsZW1lbnQpKGkpKXtjb25zdCByPWkudGV4dENvbnRlbnR8fFwiXCIsbj1vLnRleHRDb250ZW50fHxcIlwiLGE9ci5tYXRjaCgvXlssLiE/OjspXFxdXS8pLHM9bi5tYXRjaCgvWywuIT86OyhcXFtdXFxzKiQvKSxsPSgwLGMuaXNUZXh0Tm9kZSkobykmJihvLnRleHRDb250ZW50fHxcIlwiKS5lbmRzV2l0aChcIiBcIil8fCgwLGMuaXNUZXh0Tm9kZSkoaSkmJihpLnRleHRDb250ZW50fHxcIlwiKS5zdGFydHNXaXRoKFwiIFwiKTtpZighYSYmIXMmJiFsKXtjb25zdCByPWUuY3JlYXRlVGV4dE5vZGUoXCIgXCIpO3QuaW5zZXJ0QmVmb3JlKHIsaSl9fX19fTtvKHQpLGkodCk7Y29uc3QgYT1EYXRlLm5vdygpOygwLGMubG9nRGVidWcpKFwiUmVtb3ZlZCBlbXB0eSBsaW5lczpcIix7Y2hhcmFjdGVyc1JlbW92ZWQ6cixwcm9jZXNzaW5nVGltZTpgJHsoYS1uKS50b0ZpeGVkKDIpfW1zYH0pfSh0LHIpKX07Y29uc3Qgbj1yKDY0MCksbz1yKDApLGk9cig3NTQpLGE9cig2MTApLHM9cig4NjQpLGw9cig2NDkpLGM9cig1NTIpLHU9Wy4uLm8ubWF0aFJ1bGVzLC4uLmkuY29kZUJsb2NrUnVsZXMsLi4ucy5oZWFkaW5nUnVsZXMsLi4ubC5pbWFnZVJ1bGVzLHtzZWxlY3RvcjonZGl2W2RhdGEtdGVzdGlkXj1cInBhcmFncmFwaFwiXSwgZGl2W3JvbGU9XCJwYXJhZ3JhcGhcIl0nLGVsZW1lbnQ6XCJwXCIsdHJhbnNmb3JtOih0LGUpPT57Y29uc3Qgcj1lLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO3JldHVybiByLmlubmVySFRNTD10LmlubmVySFRNTCxBcnJheS5mcm9tKHQuYXR0cmlidXRlcykuZm9yRWFjaCgodD0+e24uQUxMT1dFRF9BVFRSSUJVVEVTLmhhcyh0Lm5hbWUpJiZyLnNldEF0dHJpYnV0ZSh0Lm5hbWUsdC52YWx1ZSl9KSkscn19LHtzZWxlY3RvcjonZGl2W3JvbGU9XCJsaXN0XCJdJyxlbGVtZW50OlwidWxcIix0cmFuc2Zvcm06KHQsZSk9Pnt2YXIgcjtjb25zdCBuPXQucXVlcnlTZWxlY3RvcignZGl2W3JvbGU9XCJsaXN0aXRlbVwiXSAubGFiZWwnKSxvPSgobnVsbD09PShyPW51bGw9PW4/dm9pZCAwOm4udGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKSl8fFwiXCIpLm1hdGNoKC9eXFxkK1xcKS8pLGk9ZS5jcmVhdGVFbGVtZW50KG8/XCJvbFwiOlwidWxcIik7cmV0dXJuIHQucXVlcnlTZWxlY3RvckFsbCgnZGl2W3JvbGU9XCJsaXN0aXRlbVwiXScpLmZvckVhY2goKHQ9Pntjb25zdCByPWUuY3JlYXRlRWxlbWVudChcImxpXCIpLG49dC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIik7aWYobil7bi5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbcm9sZT1cInBhcmFncmFwaFwiXScpLmZvckVhY2goKHQ9Pntjb25zdCByPWUuY3JlYXRlRWxlbWVudChcInBcIik7ci5pbm5lckhUTUw9dC5pbm5lckhUTUwsdC5yZXBsYWNlV2l0aChyKX0pKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdltyb2xlPVwibGlzdFwiXScpLmZvckVhY2goKHQ9Pnt2YXIgcjtjb25zdCBuPXQucXVlcnlTZWxlY3RvcignZGl2W3JvbGU9XCJsaXN0aXRlbVwiXSAubGFiZWwnKSxvPSgobnVsbD09PShyPW51bGw9PW4/dm9pZCAwOm4udGV4dENvbnRlbnQpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnRyaW0oKSl8fFwiXCIpLm1hdGNoKC9eXFxkK1xcKS8pLGk9ZS5jcmVhdGVFbGVtZW50KG8/XCJvbFwiOlwidWxcIik7dC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbcm9sZT1cImxpc3RpdGVtXCJdJykuZm9yRWFjaCgodD0+e2NvbnN0IHI9ZS5jcmVhdGVFbGVtZW50KFwibGlcIiksbj10LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKTtpZihuKXtuLnF1ZXJ5U2VsZWN0b3JBbGwoJ2Rpdltyb2xlPVwicGFyYWdyYXBoXCJdJykuZm9yRWFjaCgodD0+e2NvbnN0IHI9ZS5jcmVhdGVFbGVtZW50KFwicFwiKTtyLmlubmVySFRNTD10LmlubmVySFRNTCx0LnJlcGxhY2VXaXRoKHIpfSkpLHIuaW5uZXJIVE1MPW4uaW5uZXJIVE1MfWkuYXBwZW5kQ2hpbGQocil9KSksdC5yZXBsYWNlV2l0aChpKX0pKSxyLmlubmVySFRNTD1uLmlubmVySFRNTH1pLmFwcGVuZENoaWxkKHIpfSkpLGl9fSx7c2VsZWN0b3I6J2Rpdltyb2xlPVwibGlzdGl0ZW1cIl0nLGVsZW1lbnQ6XCJsaVwiLHRyYW5zZm9ybToodCxlKT0+e2NvbnN0IHI9dC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIik7aWYoIXIpcmV0dXJuIHQ7cmV0dXJuIHIucXVlcnlTZWxlY3RvckFsbCgnZGl2W3JvbGU9XCJwYXJhZ3JhcGhcIl0nKS5mb3JFYWNoKCh0PT57Y29uc3Qgcj1lLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO3IuaW5uZXJIVE1MPXQuaW5uZXJIVE1MLHQucmVwbGFjZVdpdGgocil9KSkscn19XTtmdW5jdGlvbiBkKHQpe2xldCBlPTA7Y29uc3Qgcj1lPT57bGV0IG49XCJcIixvPWUubmV4dFNpYmxpbmc7Zm9yKDtvOykoKDAsYy5pc1RleHROb2RlKShvKXx8KDAsYy5pc0VsZW1lbnQpKG8pKSYmKG4rPW8udGV4dENvbnRlbnR8fFwiXCIpLG89by5uZXh0U2libGluZztpZihuLnRyaW0oKSlyZXR1cm4hMDtjb25zdCBpPWUucGFyZW50RWxlbWVudDtyZXR1cm4hKCFpfHxpPT09dCkmJnIoaSl9O0FycmF5LmZyb20odC5xdWVyeVNlbGVjdG9yQWxsKFwiaDEsIGgyLCBoMywgaDQsIGg1LCBoNlwiKSkucmV2ZXJzZSgpLmZvckVhY2goKHQ9PntyKHQpfHwodC5yZW1vdmUoKSxlKyspfSkpLGU+MCYmKDAsYy5sb2dEZWJ1ZykoXCJSZW1vdmVkIHRyYWlsaW5nIGhlYWRpbmdzOlwiLGUpfWZ1bmN0aW9uIG0odCxlKXtsZXQgcj0wO2NvbnN0IG89dD0+e2lmKFwic3ZnXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPT09dC5uYW1lc3BhY2VVUkkpcmV0dXJuO2NvbnN0IG89QXJyYXkuZnJvbSh0LmF0dHJpYnV0ZXMpLGk9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7by5mb3JFYWNoKChvPT57Y29uc3QgYT1vLm5hbWUudG9Mb3dlckNhc2UoKSxzPW8udmFsdWU7XCJpZFwiPT09YSYmKHMuc3RhcnRzV2l0aChcImZucmVmOlwiKXx8cy5zdGFydHNXaXRoKFwiZm46XCIpfHxcImZvb3Rub3Rlc1wiPT09cyl8fFwiY2xhc3NcIj09PWEmJihcImNvZGVcIj09PWkmJnMuc3RhcnRzV2l0aChcImxhbmd1YWdlLVwiKXx8XCJmb290bm90ZS1iYWNrcmVmXCI9PT1zKXx8KGU/bi5BTExPV0VEX0FUVFJJQlVURVMuaGFzKGEpfHxuLkFMTE9XRURfQVRUUklCVVRFU19ERUJVRy5oYXMoYSl8fGEuc3RhcnRzV2l0aChcImRhdGEtXCIpfHwodC5yZW1vdmVBdHRyaWJ1dGUoby5uYW1lKSxyKyspOm4uQUxMT1dFRF9BVFRSSUJVVEVTLmhhcyhhKXx8KHQucmVtb3ZlQXR0cmlidXRlKG8ubmFtZSkscisrKSl9KSl9O28odCksdC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKS5mb3JFYWNoKG8pLCgwLGMubG9nRGVidWcpKFwiU3RyaXBwZWQgYXR0cmlidXRlczpcIixyKX1mdW5jdGlvbiBoKHQpe2xldCBlPTA7Y29uc3Qgcj1EYXRlLm5vdygpLG49QXJyYXkuZnJvbSh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnJcIikpO2xldCBvPVtdO2NvbnN0IGk9KCk9PntpZihvLmxlbmd0aD4yKWZvcihsZXQgdD0yO3Q8by5sZW5ndGg7dCsrKW9bdF0ucmVtb3ZlKCksZSsrO289W119O24uZm9yRWFjaCgodD0+e3ZhciBlO2xldCByPSExO2lmKG8ubGVuZ3RoPjApe2NvbnN0IG49b1tvLmxlbmd0aC0xXTtsZXQgaT10LnByZXZpb3VzU2libGluZztmb3IoO2kmJigwLGMuaXNUZXh0Tm9kZSkoaSkmJiEobnVsbD09PShlPWkudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRyaW0oKSk7KWk9aS5wcmV2aW91c1NpYmxpbmc7aT09PW4mJihyPSEwKX1yP28ucHVzaCh0KTooaSgpLG89W3RdKX0pKSxpKCk7Y29uc3QgYT1EYXRlLm5vdygpOygwLGMubG9nRGVidWcpKFwiU3RhbmRhcmRpemVkIGJyIGVsZW1lbnRzOlwiLHtyZW1vdmVkOmUscHJvY2Vzc2luZ1RpbWU6YCR7KGEtcikudG9GaXhlZCgyKX1tc2B9KX1mdW5jdGlvbiBwKHQsZSl7bGV0IHI9MDtjb25zdCBvPURhdGUubm93KCk7bGV0IGk9ITA7ZnVuY3Rpb24gYSh0KXt2YXIgZTtmb3IoY29uc3QgciBvZiB0LmNoaWxkTm9kZXMpe2lmKCgwLGMuaXNUZXh0Tm9kZSkocikmJihudWxsPT09KGU9ci50ZXh0Q29udGVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHJpbSgpKSlyZXR1cm4hMDtpZigoMCxjLmlzRWxlbWVudCkocikmJm4uSU5MSU5FX0VMRU1FTlRTLmhhcyhyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXJldHVybiEwfXJldHVybiExfWNvbnN0IHM9dD0+e2NvbnN0IGU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYobi5QUkVTRVJWRV9FTEVNRU5UUy5oYXMoZSkpcmV0dXJuITA7Y29uc3Qgcj10LmdldEF0dHJpYnV0ZShcInJvbGVcIik7aWYociYmW1wiYXJ0aWNsZVwiLFwibWFpblwiLFwibmF2aWdhdGlvblwiLFwiYmFubmVyXCIsXCJjb250ZW50aW5mb1wiXS5pbmNsdWRlcyhyKSlyZXR1cm4hMDtjb25zdCBvPXQuY2xhc3NOYW1lO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvJiZvLnRvTG93ZXJDYXNlKCkubWF0Y2goLyg/OmFydGljbGV8bWFpbnxjb250ZW50fGZvb3Rub3RlfHJlZmVyZW5jZXxiaWJsaW9ncmFwaHkpLykpcmV0dXJuITA7cmV0dXJuISFBcnJheS5mcm9tKHQuY2hpbGRyZW4pLnNvbWUoKHQ9Pm4uUFJFU0VSVkVfRUxFTUVOVFMuaGFzKHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJhcnRpY2xlXCI9PT10LmdldEF0dHJpYnV0ZShcInJvbGVcIil8fHQuY2xhc3NOYW1lJiZcInN0cmluZ1wiPT10eXBlb2YgdC5jbGFzc05hbWUmJnQuY2xhc3NOYW1lLnRvTG93ZXJDYXNlKCkubWF0Y2goLyg/OmFydGljbGV8bWFpbnxjb250ZW50fGZvb3Rub3RlfHJlZmVyZW5jZXxiaWJsaW9ncmFwaHkpLykpKX0sbD10PT57dmFyIGU7aWYoYSh0KSlyZXR1cm4hMTtpZighKG51bGw9PT0oZT10LnRleHRDb250ZW50KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50cmltKCkpKXJldHVybiEwO2NvbnN0IHI9QXJyYXkuZnJvbSh0LmNoaWxkcmVuKTtpZigwPT09ci5sZW5ndGgpcmV0dXJuITA7aWYoci5ldmVyeSgodD0+e2NvbnN0IGU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIG4uQkxPQ0tfRUxFTUVOVFMuaW5jbHVkZXMoZSl8fFwicFwiPT09ZXx8XCJoMVwiPT09ZXx8XCJoMlwiPT09ZXx8XCJoM1wiPT09ZXx8XCJoNFwiPT09ZXx8XCJoNVwiPT09ZXx8XCJoNlwiPT09ZXx8XCJ1bFwiPT09ZXx8XCJvbFwiPT09ZXx8XCJwcmVcIj09PWV8fFwiYmxvY2txdW90ZVwiPT09ZXx8XCJmaWd1cmVcIj09PWV9KSkpcmV0dXJuITA7Y29uc3Qgbz10LmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpO2lmKC8oPzp3cmFwcGVyfGNvbnRhaW5lcnxsYXlvdXR8cm93fGNvbHxncmlkfGZsZXh8b3V0ZXJ8aW5uZXJ8Y29udGVudC1hcmVhKS9pLnRlc3QobykpcmV0dXJuITA7Y29uc3QgaT1BcnJheS5mcm9tKHQuY2hpbGROb2RlcykuZmlsdGVyKCh0PT57dmFyIGU7cmV0dXJuKDAsYy5pc1RleHROb2RlKSh0KSYmKG51bGw9PT0oZT10LnRleHRDb250ZW50KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50cmltKCkpfSkpO2lmKDA9PT1pLmxlbmd0aClyZXR1cm4hMDtyZXR1cm4hKCEoci5sZW5ndGg+MCl8fHIuc29tZSgodD0+e2NvbnN0IGU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIG4uSU5MSU5FX0VMRU1FTlRTLmhhcyhlKX0pKSl9LHU9bz0+e3ZhciBpLHU7aWYoIW8uaXNDb25uZWN0ZWR8fHMobykpcmV0dXJuITE7Y29uc3QgZD1vLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZighbi5BTExPV0VEX0VNUFRZX0VMRU1FTlRTLmhhcyhkKSYmIW8uY2hpbGRyZW4ubGVuZ3RoJiYhKG51bGw9PT0oaT1vLnRleHRDb250ZW50KXx8dm9pZCAwPT09aT92b2lkIDA6aS50cmltKCkpKXJldHVybiBvLnJlbW92ZSgpLHIrKywhMDtpZihvLnBhcmVudEVsZW1lbnQ9PT10KXtjb25zdCB0PUFycmF5LmZyb20oby5jaGlsZHJlbik7aWYodC5sZW5ndGg+MCYmIXQuc29tZSgodD0+e2NvbnN0IGU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIG4uSU5MSU5FX0VMRU1FTlRTLmhhcyhlKX0pKSl7Y29uc3QgdD1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IoO28uZmlyc3RDaGlsZDspdC5hcHBlbmRDaGlsZChvLmZpcnN0Q2hpbGQpO3JldHVybiBvLnJlcGxhY2VXaXRoKHQpLHIrKywhMH19aWYobChvKSl7aWYoIUFycmF5LmZyb20oby5jaGlsZHJlbikuc29tZSgodD0+e2NvbnN0IGU9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIG4uSU5MSU5FX0VMRU1FTlRTLmhhcyhlKX0pKSl7Y29uc3QgdD1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IoO28uZmlyc3RDaGlsZDspdC5hcHBlbmRDaGlsZChvLmZpcnN0Q2hpbGQpO3JldHVybiBvLnJlcGxhY2VXaXRoKHQpLHIrKywhMH1jb25zdCB0PWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Zvcig7by5maXJzdENoaWxkOyl0LmFwcGVuZENoaWxkKG8uZmlyc3RDaGlsZCk7cmV0dXJuIG8ucmVwbGFjZVdpdGgodCkscisrLCEwfWNvbnN0IG09QXJyYXkuZnJvbShvLmNoaWxkTm9kZXMpO2lmKG0ubGVuZ3RoPjAmJm0uZXZlcnkoKHQ9PigwLGMuaXNUZXh0Tm9kZSkodCl8fCgwLGMuaXNFbGVtZW50KSh0KSYmbi5JTkxJTkVfRUxFTUVOVFMuaGFzKHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkpKSYmKG51bGw9PT0odT1vLnRleHRDb250ZW50KXx8dm9pZCAwPT09dT92b2lkIDA6dS50cmltKCkpKXtjb25zdCB0PWUuY3JlYXRlRWxlbWVudChcInBcIik7Zm9yKDtvLmZpcnN0Q2hpbGQ7KXQuYXBwZW5kQ2hpbGQoby5maXJzdENoaWxkKTtyZXR1cm4gby5yZXBsYWNlV2l0aCh0KSxyKyssITB9aWYoMT09PW8uY2hpbGRyZW4ubGVuZ3RoKXtjb25zdCB0PW8uZmlyc3RFbGVtZW50Q2hpbGQsZT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihuLkJMT0NLX0VMRU1FTlRTLmluY2x1ZGVzKGUpJiYhcyh0KSlyZXR1cm4gby5yZXBsYWNlV2l0aCh0KSxyKyssITB9bGV0IGg9MCxwPW8ucGFyZW50RWxlbWVudDtmb3IoO3A7KXtjb25zdCB0PXAudGFnTmFtZS50b0xvd2VyQ2FzZSgpO24uQkxPQ0tfRUxFTUVOVFMuaW5jbHVkZXModCkmJmgrKyxwPXAucGFyZW50RWxlbWVudH1pZihoPjAmJiFhKG8pKXtjb25zdCB0PWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Zvcig7by5maXJzdENoaWxkOyl0LmFwcGVuZENoaWxkKG8uZmlyc3RDaGlsZCk7cmV0dXJuIG8ucmVwbGFjZVdpdGgodCkscisrLCEwfXJldHVybiExfSxkPSgpPT57Y29uc3QgZT1BcnJheS5mcm9tKHQuY2hpbGRyZW4pLmZpbHRlcigodD0+bi5CTE9DS19FTEVNRU5UUy5pbmNsdWRlcyh0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpKTtsZXQgcj0hMTtyZXR1cm4gZS5mb3JFYWNoKCh0PT57dSh0KSYmKHI9ITApfSkpLHJ9LG09KCk9Pntjb25zdCBlPUFycmF5LmZyb20odC5xdWVyeVNlbGVjdG9yQWxsKG4uQkxPQ0tfRUxFTUVOVFMuam9pbihcIixcIikpKS5zb3J0KCgodCxlKT0+e2NvbnN0IHI9dD0+e2xldCBlPTAscj10LnBhcmVudEVsZW1lbnQ7Zm9yKDtyOyl7Y29uc3QgdD1yLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtuLkJMT0NLX0VMRU1FTlRTLmluY2x1ZGVzKHQpJiZlKysscj1yLnBhcmVudEVsZW1lbnR9cmV0dXJuIGV9O3JldHVybiByKGUpLXIodCl9KSk7bGV0IHI9ITE7cmV0dXJuIGUuZm9yRWFjaCgodD0+e3UodCkmJihyPSEwKX0pKSxyfSxoPSgpPT57Y29uc3Qgbz1BcnJheS5mcm9tKHQucXVlcnlTZWxlY3RvckFsbChuLkJMT0NLX0VMRU1FTlRTLmpvaW4oXCIsXCIpKSk7bGV0IGk9ITE7cmV0dXJuIG8uZm9yRWFjaCgodD0+e2NvbnN0IG49QXJyYXkuZnJvbSh0LmNoaWxkcmVuKTtpZihuLmxlbmd0aD4wJiZuLmV2ZXJ5KCh0PT5cInBcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSl8fCFzKHQpJiZsKHQpKXtjb25zdCBuPWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Zvcig7dC5maXJzdENoaWxkOyluLmFwcGVuZENoaWxkKHQuZmlyc3RDaGlsZCk7dC5yZXBsYWNlV2l0aChuKSxyKyssaT0hMH19KSksaX07ZG97aT0hMSxkKCkmJihpPSEwKSxtKCkmJihpPSEwKSxoKCkmJihpPSEwKX13aGlsZShpKTtjb25zdCBwPURhdGUubm93KCk7KDAsYy5sb2dEZWJ1ZykoXCJGbGF0dGVuZWQgd3JhcHBlciBlbGVtZW50czpcIix7Y291bnQ6cixwcm9jZXNzaW5nVGltZTpgJHsocC1vKS50b0ZpeGVkKDIpfW1zYH0pfX0sODY0Oih0LGUscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLmhlYWRpbmdSdWxlcz12b2lkIDA7Y29uc3Qgbj1yKDY0MCk7ZS5oZWFkaW5nUnVsZXM9W3tzZWxlY3RvcjpcImgxLCBoMiwgaDMsIGg0LCBoNSwgaDZcIixlbGVtZW50Olwia2VlcFwiLHRyYW5zZm9ybTp0PT57dmFyIGU7Y29uc3Qgcj10Lm93bmVyRG9jdW1lbnQ7aWYoIXIpcmV0dXJuIGNvbnNvbGUud2FybihcIk5vIGRvY3VtZW50IGF2YWlsYWJsZVwiKSx0O2NvbnN0IG89ci5jcmVhdGVFbGVtZW50KHQudGFnTmFtZSk7QXJyYXkuZnJvbSh0LmF0dHJpYnV0ZXMpLmZvckVhY2goKHQ9PntuLkFMTE9XRURfQVRUUklCVVRFUy5oYXModC5uYW1lKSYmby5zZXRBdHRyaWJ1dGUodC5uYW1lLHQudmFsdWUpfSkpO2NvbnN0IGk9dC5jbG9uZU5vZGUoITApLGE9bmV3IE1hcDtBcnJheS5mcm9tKGkucXVlcnlTZWxlY3RvckFsbChcIipcIikpLmZvckVhY2goKHQ9Pnt2YXIgZSxyLG4sbyxzLGw7bGV0IGM9ITE7aWYoXCJhXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y29uc3Qgcj10LmdldEF0dHJpYnV0ZShcImhyZWZcIik7KChudWxsPT1yP3ZvaWQgMDpyLmluY2x1ZGVzKFwiI1wiKSl8fChudWxsPT1yP3ZvaWQgMDpyLnN0YXJ0c1dpdGgoXCIjXCIpKSkmJihhLnNldCh0LChudWxsPT09KGU9dC50ZXh0Q29udGVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHJpbSgpKXx8XCJcIiksYz0hMCl9aWYodC5jbGFzc0xpc3QuY29udGFpbnMoXCJhbmNob3JcIikmJihhLnNldCh0LChudWxsPT09KHI9dC50ZXh0Q29udGVudCl8fHZvaWQgMD09PXI/dm9pZCAwOnIudHJpbSgpKXx8XCJcIiksYz0hMCksXCJidXR0b25cIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYoYz0hMCksKFwic3BhblwiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiZGl2XCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkmJnQucXVlcnlTZWxlY3RvcignYVtocmVmXj1cIiNcIl0nKSl7Y29uc3QgZT10LnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZl49XCIjXCJdJyk7ZSYmYS5zZXQodCwobnVsbD09PShuPWUudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnRyaW0oKSl8fFwiXCIpLGM9ITB9aWYoYyl7Y29uc3QgZT10LnBhcmVudEVsZW1lbnQ7ZSYmZSE9PWkmJihudWxsPT09KG89ZS50ZXh0Q29udGVudCl8fHZvaWQgMD09PW8/dm9pZCAwOm8udHJpbSgpKT09PShudWxsPT09KHM9dC50ZXh0Q29udGVudCl8fHZvaWQgMD09PXM/dm9pZCAwOnMudHJpbSgpKSYmYS5zZXQoZSwobnVsbD09PShsPXQudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLnRyaW0oKSl8fFwiXCIpfX0pKTtBcnJheS5mcm9tKGkucXVlcnlTZWxlY3RvckFsbChcIipcIikpLmZpbHRlcigodD0+e2lmKFwiYVwiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO3JldHVybihudWxsPT1lP3ZvaWQgMDplLmluY2x1ZGVzKFwiI1wiKSl8fChudWxsPT1lP3ZvaWQgMDplLnN0YXJ0c1dpdGgoXCIjXCIpKX1yZXR1cm4hIXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYW5jaG9yXCIpfHwoXCJidXR0b25cIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHwhKFwic3BhblwiIT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJlwiZGl2XCIhPT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8IXQucXVlcnlTZWxlY3RvcignYVtocmVmXj1cIiNcIl0nKSkpfSkpLmZvckVhY2goKHQ9PnQucmVtb3ZlKCkpKTtsZXQgcz0obnVsbD09PShlPWkudGV4dENvbnRlbnQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnRyaW0oKSl8fFwiXCI7cmV0dXJuIXMmJmEuc2l6ZT4wJiYocz1BcnJheS5mcm9tKGEudmFsdWVzKCkpWzBdKSxvLnRleHRDb250ZW50PXMsb319XX0sOTE3Oih0LGUscik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxlLkV4dHJhY3RvclJlZ2lzdHJ5PXZvaWQgMDtjb25zdCBuPXIoOTU5KSxvPXIoMjQ4KSxpPXIoMjU4KSxhPXIoNDU4KSxzPXIoNjMyKSxsPXIoMzk3KSxjPXIoMjApLHU9cig3MzIpO2NsYXNzIGR7c3RhdGljIGluaXRpYWxpemUoKXt0aGlzLnJlZ2lzdGVyKHtwYXR0ZXJuczpbXCJ0d2l0dGVyLmNvbVwiLC9cXC94XFwuY29tXFwvLiovXSxleHRyYWN0b3I6by5Ud2l0dGVyRXh0cmFjdG9yfSksdGhpcy5yZWdpc3Rlcih7cGF0dGVybnM6W1wicmVkZGl0LmNvbVwiLFwib2xkLnJlZGRpdC5jb21cIixcIm5ldy5yZWRkaXQuY29tXCIsL15odHRwczpcXC9cXC9bXlxcL10rXFwucmVkZGl0XFwuY29tL10sZXh0cmFjdG9yOm4uUmVkZGl0RXh0cmFjdG9yfSksdGhpcy5yZWdpc3Rlcih7cGF0dGVybnM6W1wieW91dHViZS5jb21cIixcInlvdXR1LmJlXCIsL3lvdXR1YmVcXC5jb21cXC93YXRjaFxcP3Y9LiovLC95b3V0dVxcLmJlXFwvLiovXSxleHRyYWN0b3I6aS5Zb3V0dWJlRXh0cmFjdG9yfSksdGhpcy5yZWdpc3Rlcih7cGF0dGVybnM6Wy9uZXdzXFwueWNvbWJpbmF0b3JcXC5jb21cXC9pdGVtXFw/aWQ9LiovXSxleHRyYWN0b3I6YS5IYWNrZXJOZXdzRXh0cmFjdG9yfSksdGhpcy5yZWdpc3Rlcih7cGF0dGVybnM6Wy9eaHR0cHM/OlxcL1xcL2NoYXRncHRcXC5jb21cXC8oY3xzaGFyZSlcXC8uKi9dLGV4dHJhY3RvcjpzLkNoYXRHUFRFeHRyYWN0b3J9KSx0aGlzLnJlZ2lzdGVyKHtwYXR0ZXJuczpbL15odHRwcz86XFwvXFwvY2xhdWRlXFwuYWlcXC8oY2hhdHxzaGFyZSlcXC8uKi9dLGV4dHJhY3RvcjpsLkNsYXVkZUV4dHJhY3Rvcn0pLHRoaXMucmVnaXN0ZXIoe3BhdHRlcm5zOlsvXmh0dHBzPzpcXC9cXC9ncm9rXFwuY29tXFwvKGNoYXR8c2hhcmUpKFxcLy4qKT8kL10sZXh0cmFjdG9yOmMuR3Jva0V4dHJhY3Rvcn0pLHRoaXMucmVnaXN0ZXIoe3BhdHRlcm5zOlsvXmh0dHBzPzpcXC9cXC9nZW1pbmlcXC5nb29nbGVcXC5jb21cXC9hcHBcXC8uKi9dLGV4dHJhY3Rvcjp1LkdlbWluaUV4dHJhY3Rvcn0pfXN0YXRpYyByZWdpc3Rlcih0KXt0aGlzLm1hcHBpbmdzLnB1c2godCl9c3RhdGljIGZpbmRFeHRyYWN0b3IodCxlLHIpe3RyeXtjb25zdCBuPW5ldyBVUkwoZSkuaG9zdG5hbWU7aWYodGhpcy5kb21haW5DYWNoZS5oYXMobikpe2NvbnN0IG89dGhpcy5kb21haW5DYWNoZS5nZXQobik7cmV0dXJuIG8/bmV3IG8odCxlLHIpOm51bGx9Zm9yKGNvbnN0e3BhdHRlcm5zOm8sZXh0cmFjdG9yOml9b2YgdGhpcy5tYXBwaW5ncyl7aWYoby5zb21lKCh0PT50IGluc3RhbmNlb2YgUmVnRXhwP3QudGVzdChlKTpuLmluY2x1ZGVzKHQpKSkpcmV0dXJuIHRoaXMuZG9tYWluQ2FjaGUuc2V0KG4saSksbmV3IGkodCxlLHIpfXJldHVybiB0aGlzLmRvbWFpbkNhY2hlLnNldChuLG51bGwpLG51bGx9Y2F0Y2godCl7cmV0dXJuIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBmaW5kRXh0cmFjdG9yOlwiLHQpLG51bGx9fXN0YXRpYyBjbGVhckNhY2hlKCl7dGhpcy5kb21haW5DYWNoZS5jbGVhcigpfX1lLkV4dHJhY3RvclJlZ2lzdHJ5PWQsZC5tYXBwaW5ncz1bXSxkLmRvbWFpbkNhY2hlPW5ldyBNYXAsZC5pbml0aWFsaXplKCl9LDk1OToodCxlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5SZWRkaXRFeHRyYWN0b3I9dm9pZCAwO2NvbnN0IG49cigyNzkpO2NsYXNzIG8gZXh0ZW5kcyBuLkJhc2VFeHRyYWN0b3J7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLHRoaXMuc2hyZWRkaXRQb3N0PXQucXVlcnlTZWxlY3RvcihcInNocmVkZGl0LXBvc3RcIil9Y2FuRXh0cmFjdCgpe3JldHVybiEhdGhpcy5zaHJlZGRpdFBvc3R9ZXh0cmFjdCgpe3ZhciB0LGU7Y29uc3Qgcj10aGlzLmdldFBvc3RDb250ZW50KCksbj10aGlzLmV4dHJhY3RDb21tZW50cygpLG89dGhpcy5jcmVhdGVDb250ZW50SHRtbChyLG4pLGk9KG51bGw9PT0oZT1udWxsPT09KHQ9dGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaDFcIikpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnRleHRDb250ZW50KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS50cmltKCkpfHxcIlwiLGE9dGhpcy5nZXRTdWJyZWRkaXQoKSxzPXRoaXMuZ2V0UG9zdEF1dGhvcigpLGw9dGhpcy5jcmVhdGVEZXNjcmlwdGlvbihyKTtyZXR1cm57Y29udGVudDpvLGNvbnRlbnRIdG1sOm8sZXh0cmFjdGVkQ29udGVudDp7cG9zdElkOnRoaXMuZ2V0UG9zdElkKCksc3VicmVkZGl0OmEscG9zdEF1dGhvcjpzfSx2YXJpYWJsZXM6e3RpdGxlOmksYXV0aG9yOnMsc2l0ZTpgci8ke2F9YCxkZXNjcmlwdGlvbjpsfX19Z2V0UG9zdENvbnRlbnQoKXt2YXIgdCxlLHIsbjtyZXR1cm4oKG51bGw9PT0oZT1udWxsPT09KHQ9dGhpcy5zaHJlZGRpdFBvc3QpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnF1ZXJ5U2VsZWN0b3IoJ1tzbG90PVwidGV4dC1ib2R5XCJdJykpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlubmVySFRNTCl8fFwiXCIpKygobnVsbD09PShuPW51bGw9PT0ocj10aGlzLnNocmVkZGl0UG9zdCl8fHZvaWQgMD09PXI/dm9pZCAwOnIucXVlcnlTZWxlY3RvcihcIiNwb3N0LWltYWdlXCIpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5vdXRlckhUTUwpfHxcIlwiKX1jcmVhdGVDb250ZW50SHRtbCh0LGUpe3JldHVybmBcXG5cXHRcXHRcXHQ8ZGl2IGNsYXNzPVwicmVkZGl0LXBvc3RcIj5cXG5cXHRcXHRcXHRcXHQ8ZGl2IGNsYXNzPVwicG9zdC1jb250ZW50XCI+XFxuXFx0XFx0XFx0XFx0XFx0JHt0fVxcblxcdFxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdDwvZGl2PlxcblxcdFxcdFxcdCR7ZT9gXFxuXFx0XFx0XFx0XFx0PGhyPlxcblxcdFxcdFxcdFxcdDxoMj5Db21tZW50czwvaDI+XFxuXFx0XFx0XFx0XFx0PGRpdiBjbGFzcz1cInJlZGRpdC1jb21tZW50c1wiPlxcblxcdFxcdFxcdFxcdFxcdCR7ZX1cXG5cXHRcXHRcXHRcXHQ8L2Rpdj5cXG5cXHRcXHRcXHRgOlwiXCJ9XFxuXFx0XFx0YC50cmltKCl9ZXh0cmFjdENvbW1lbnRzKCl7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNocmVkZGl0LWNvbW1lbnRcIikpO3JldHVybiB0aGlzLnByb2Nlc3NDb21tZW50cyh0KX1nZXRQb3N0SWQoKXtjb25zdCB0PXRoaXMudXJsLm1hdGNoKC9jb21tZW50c1xcLyhbYS16QS1aMC05XSspLyk7cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnRbMV0pfHxcIlwifWdldFN1YnJlZGRpdCgpe2NvbnN0IHQ9dGhpcy51cmwubWF0Y2goL1xcL3JcXC8oW14vXSspLyk7cmV0dXJuKG51bGw9PXQ/dm9pZCAwOnRbMV0pfHxcIlwifWdldFBvc3RBdXRob3IoKXt2YXIgdDtyZXR1cm4obnVsbD09PSh0PXRoaXMuc2hyZWRkaXRQb3N0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRBdHRyaWJ1dGUoXCJhdXRob3JcIikpfHxcIlwifWNyZWF0ZURlc2NyaXB0aW9uKHQpe3ZhciBlO2lmKCF0KXJldHVyblwiXCI7Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiByLmlubmVySFRNTD10LChudWxsPT09KGU9ci50ZXh0Q29udGVudCl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHJpbSgpLnNsaWNlKDAsMTQwKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpKXx8XCJcIn1wcm9jZXNzQ29tbWVudHModCl7dmFyIGU7bGV0IHI9XCJcIixuPS0xLG89W107Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1wYXJzZUludChpLmdldEF0dHJpYnV0ZShcImRlcHRoXCIpfHxcIjBcIiksYT1pLmdldEF0dHJpYnV0ZShcImF1dGhvclwiKXx8XCJcIixzPWkuZ2V0QXR0cmlidXRlKFwic2NvcmVcIil8fFwiMFwiLGw9aS5nZXRBdHRyaWJ1dGUoXCJwZXJtYWxpbmtcIil8fFwiXCIsYz0obnVsbD09PShlPWkucXVlcnlTZWxlY3RvcignW3Nsb3Q9XCJjb21tZW50XCJdJykpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlubmVySFRNTCl8fFwiXCIsdT1pLnF1ZXJ5U2VsZWN0b3IoXCJmYWNlcGxhdGUtdGltZWFnb1wiKSxkPShudWxsPT11P3ZvaWQgMDp1LmdldEF0dHJpYnV0ZShcInRzXCIpKXx8XCJcIixtPWQ/bmV3IERhdGUoZCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF06XCJcIjtpZigwPT09dCl7Zm9yKDtvLmxlbmd0aD4wOylyKz1cIjwvYmxvY2txdW90ZT5cIixvLnBvcCgpO3IrPVwiPGJsb2NrcXVvdGU+XCIsbz1bMF0sbj0wfWVsc2UgaWYodDxuKWZvcig7by5sZW5ndGg+MCYmb1tvLmxlbmd0aC0xXT49dDspcis9XCI8L2Jsb2NrcXVvdGU+XCIsby5wb3AoKTtlbHNlIHQ+biYmKHIrPVwiPGJsb2NrcXVvdGU+XCIsby5wdXNoKHQpKTtyKz1gPGRpdiBjbGFzcz1cImNvbW1lbnRcIj5cXG5cXHQ8ZGl2IGNsYXNzPVwiY29tbWVudC1tZXRhZGF0YVwiPlxcblxcdFxcdDxzcGFuIGNsYXNzPVwiY29tbWVudC1hdXRob3JcIj48c3Ryb25nPiR7YX08L3N0cm9uZz48L3NwYW4+IFxcdTIwMjJcXG5cXHRcXHQ8YSBocmVmPVwiaHR0cHM6Ly9yZWRkaXQuY29tJHtsfVwiIGNsYXNzPVwiY29tbWVudC1saW5rXCI+JHtzfSBwb2ludHM8L2E+IFxcdTIwMjJcXG5cXHRcXHQ8c3BhbiBjbGFzcz1cImNvbW1lbnQtZGF0ZVwiPiR7bX08L3NwYW4+XFxuXFx0PC9kaXY+XFxuXFx0PGRpdiBjbGFzcz1cImNvbW1lbnQtY29udGVudFwiPiR7Y308L2Rpdj5cXG48L2Rpdj5gLG49dH1mb3IoO28ubGVuZ3RoPjA7KXIrPVwiPC9ibG9ja3F1b3RlPlwiLG8ucG9wKCk7cmV0dXJuIHJ9fWUuUmVkZGl0RXh0cmFjdG9yPW99LDk2ODoodCxlLHIpPT57T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZS5Db250ZW50U2NvcmVyPXZvaWQgMDtjb25zdCBuPXIoNjQwKSxvPVtcImFkbW9uaXRpb25cIixcImFydGljbGVcIixcImNvbnRlbnRcIixcImVudHJ5XCIsXCJpbWFnZVwiLFwiaW1nXCIsXCJmb250XCIsXCJmaWd1cmVcIixcImZpZ2NhcHRpb25cIixcInByZVwiLFwibWFpblwiLFwicG9zdFwiLFwic3RvcnlcIixcInRhYmxlXCJdLGk9W1wiYWR2ZXJ0aXNlbWVudFwiLFwiYWxsIHJpZ2h0cyByZXNlcnZlZFwiLFwiYmFubmVyXCIsXCJjb29raWVcIixcImNvbW1lbnRzXCIsXCJjb3B5cmlnaHRcIixcImZvbGxvdyBtZVwiLFwiZm9sbG93IHVzXCIsXCJmb290ZXJcIixcImhlYWRlclwiLFwiaG9tZXBhZ2VcIixcImxvZ2luXCIsXCJtZW51XCIsXCJtb3JlIGFydGljbGVzXCIsXCJtb3JlIGxpa2UgdGhpc1wiLFwibW9zdCByZWFkXCIsXCJuYXZcIixcIm5hdmlnYXRpb25cIixcIm5ld3NsZXR0ZXJcIixcIm5ld3NsZXR0ZXJcIixcInBvcHVsYXJcIixcInByaXZhY3lcIixcInJlY29tbWVuZGVkXCIsXCJyZWdpc3RlclwiLFwicmVsYXRlZFwiLFwicmVzcG9uc2VzXCIsXCJzaGFyZVwiLFwic2lkZWJhclwiLFwic2lnbiBpblwiLFwic2lnbiB1cFwiLFwic2lnbnVwXCIsXCJzb2NpYWxcIixcInNwb25zb3JlZFwiLFwic3Vic2NyaWJlXCIsXCJzdWJzY3JpYmVcIixcInRlcm1zXCIsXCJ0cmVuZGluZ1wiXSxhPVtcImFkXCIsXCJiYW5uZXJcIixcImNvb2tpZVwiLFwiY29weXJpZ2h0XCIsXCJmb290ZXJcIixcImhlYWRlclwiLFwiaG9tZXBhZ2VcIixcIm1lbnVcIixcIm5hdlwiLFwibmV3c2xldHRlclwiLFwicG9wdWxhclwiLFwicHJpdmFjeVwiLFwicmVjb21tZW5kZWRcIixcInJlbGF0ZWRcIixcInJpZ2h0c1wiLFwic2hhcmVcIixcInNpZGViYXJcIixcInNvY2lhbFwiLFwic3BvbnNvcmVkXCIsXCJzdWJzY3JpYmVcIixcInRlcm1zXCIsXCJ0cmVuZGluZ1wiLFwid2lkZ2V0XCJdO2NsYXNzIHN7Y29uc3RydWN0b3IodCxlPSExKXt0aGlzLmRvYz10LHRoaXMuZGVidWc9ZX1zdGF0aWMgc2NvcmVFbGVtZW50KHQpe2xldCBlPTA7Y29uc3Qgcj10LnRleHRDb250ZW50fHxcIlwiLG89ci5zcGxpdCgvXFxzKy8pLmxlbmd0aDtlKz1vO2UrPTEwKnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJwXCIpLmxlbmd0aDtlLT01Kih0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKS5sZW5ndGgvKG98fDEpKTtlLT0zKih0LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpLmxlbmd0aC8ob3x8MSkpO3RyeXtjb25zdCByPXQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIsbj10LmdldEF0dHJpYnV0ZShcImFsaWduXCIpfHxcIlwiOyhyLmluY2x1ZGVzKFwiZmxvYXQ6IHJpZ2h0XCIpfHxyLmluY2x1ZGVzKFwidGV4dC1hbGlnbjogcmlnaHRcIil8fFwicmlnaHRcIj09PW4pJiYoZSs9NSl9Y2F0Y2godCl7fS9cXGIoPzpKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYylbYS16XSpcXHMrXFxkezEsMn0sP1xccytcXGR7NH1cXGIvaS50ZXN0KHIpJiYoZSs9MTApOy9cXGIoPzpieXx3cml0dGVuIGJ5fGF1dGhvcjopXFxzK1tBLVphLXpcXHNdK1xcYi9pLnRlc3QocikmJihlKz0xMCk7Y29uc3QgaT10LmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpOyhpLmluY2x1ZGVzKFwiY29udGVudFwiKXx8aS5pbmNsdWRlcyhcImFydGljbGVcIil8fGkuaW5jbHVkZXMoXCJwb3N0XCIpKSYmKGUrPTE1KTt0LnF1ZXJ5U2VsZWN0b3Iobi5GT09UTk9URV9JTkxJTkVfUkVGRVJFTkNFUykmJihlKz0xMCk7dC5xdWVyeVNlbGVjdG9yKG4uRk9PVE5PVEVfTElTVF9TRUxFQ1RPUlMpJiYoZSs9MTApO2lmKGUtPTUqdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpLmxlbmd0aCxcInRkXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y29uc3Qgcj10LmNsb3Nlc3QoXCJ0YWJsZVwiKTtpZihyKXtjb25zdCBuPXBhcnNlSW50KHIuZ2V0QXR0cmlidXRlKFwid2lkdGhcIil8fFwiMFwiKSxvPXIuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIil8fFwiXCIsaT1yLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpO2lmKG4+NDAwfHxcImNlbnRlclwiPT09b3x8aS5pbmNsdWRlcyhcImNvbnRlbnRcIil8fGkuaW5jbHVkZXMoXCJhcnRpY2xlXCIpKXtjb25zdCBuPUFycmF5LmZyb20oci5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRkXCIpKSxvPW4uaW5kZXhPZih0KTtvPjAmJm88bi5sZW5ndGgtMSYmKGUrPTEwKX19fXJldHVybiBlfXN0YXRpYyBmaW5kQmVzdEVsZW1lbnQodCxlPTUwKXtsZXQgcj1udWxsLG49MDtyZXR1cm4gdC5mb3JFYWNoKCh0PT57Y29uc3QgZT10aGlzLnNjb3JlRWxlbWVudCh0KTtlPm4mJihuPWUscj10KX0pKSxuPmU/cjpudWxsfXN0YXRpYyBzY29yZUFuZFJlbW92ZSh0LGU9ITEpe2NvbnN0IHI9RGF0ZS5ub3coKTtsZXQgbz0wO2NvbnN0IGk9bmV3IFNldDtBcnJheS5mcm9tKHQucXVlcnlTZWxlY3RvckFsbChuLkJMT0NLX0VMRU1FTlRTLmpvaW4oXCIsXCIpKSkuZm9yRWFjaCgodD0+e2lmKGkuaGFzKHQpKXJldHVybjtpZihzLmlzTGlrZWx5Q29udGVudCh0KSlyZXR1cm47cy5zY29yZU5vbkNvbnRlbnRCbG9jayh0KTwwJiYoaS5hZGQodCksbysrKX0pKSxpLmZvckVhY2goKHQ9PnQucmVtb3ZlKCkpKTtjb25zdCBhPURhdGUubm93KCk7ZSYmY29uc29sZS5sb2coXCJEZWZ1ZGRsZVwiLFwiUmVtb3ZlZCBub24tY29udGVudCBibG9ja3M6XCIse2NvdW50Om8scHJvY2Vzc2luZ1RpbWU6YCR7KGEtcikudG9GaXhlZCgyKX1tc2B9KX1zdGF0aWMgaXNMaWtlbHlDb250ZW50KHQpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpO2lmKGUmJltcImFydGljbGVcIixcIm1haW5cIixcImNvbnRlbnRpbmZvXCJdLmluY2x1ZGVzKGUpKXJldHVybiEwO2NvbnN0IHI9dC5jbGFzc05hbWUudG9Mb3dlckNhc2UoKSxuPXQuaWQudG9Mb3dlckNhc2UoKTtmb3IoY29uc3QgdCBvZiBvKWlmKHIuaW5jbHVkZXModCl8fG4uaW5jbHVkZXModCkpcmV0dXJuITA7Y29uc3QgaT0odC50ZXh0Q29udGVudHx8XCJcIikuc3BsaXQoL1xccysvKS5sZW5ndGgsYT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicFwiKS5sZW5ndGg7cmV0dXJuIGk+NTAmJmE+MXx8KGk+MTAwfHxpPjMwJiZhPjApfXN0YXRpYyBzY29yZU5vbkNvbnRlbnRCbG9jayh0KXtpZih0LnF1ZXJ5U2VsZWN0b3Iobi5GT09UTk9URV9MSVNUX1NFTEVDVE9SUykpcmV0dXJuIDA7bGV0IGU9MDtjb25zdCByPXQudGV4dENvbnRlbnR8fFwiXCIsbz1yLnNwbGl0KC9cXHMrLykubGVuZ3RoO2lmKG88MylyZXR1cm4gMDtmb3IoY29uc3QgdCBvZiBpKXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0KSYmKGUtPTEwKTtjb25zdCBzPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpLmxlbmd0aDtzLyhvfHwxKT4uNSYmKGUtPTE1KTtjb25zdCBsPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ1bFwiKS5sZW5ndGgrdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9sXCIpLmxlbmd0aDtsPjAmJnM+MypsJiYoZS09MTApO2NvbnN0IGM9dC5jbGFzc05hbWUudG9Mb3dlckNhc2UoKSx1PXQuaWQudG9Mb3dlckNhc2UoKTtmb3IoY29uc3QgdCBvZiBhKShjLmluY2x1ZGVzKHQpfHx1LmluY2x1ZGVzKHQpKSYmKGUtPTgpO3JldHVybiBlfX1lLkNvbnRlbnRTY29yZXI9c319LGU9e307ZnVuY3Rpb24gcihuKXt2YXIgbz1lW25dO2lmKHZvaWQgMCE9PW8pcmV0dXJuIG8uZXhwb3J0czt2YXIgaT1lW25dPXtleHBvcnRzOnt9fTtyZXR1cm4gdFtuXShpLGkuZXhwb3J0cyxyKSxpLmV4cG9ydHN9dmFyIG49e307cmV0dXJuKCgpPT57dmFyIHQ9bjtjb25zdCBlPXIoNjI4KTt0LmRlZmF1bHQ9ZS5EZWZ1ZGRsZX0pKCksbj1uLmRlZmF1bHR9KSgpKSk7IiwiaW1wb3J0ICogYXMgRWxlY3Ryb24gZnJvbSAnZWxlY3Ryb24nXG5pbXBvcnQgeyBBcHAsIHJlc29sdmVTdWJwYXRoLCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHR5cGUgeyBDYW52YXNOb2RlIH0gZnJvbSAnQC90eXBlcy9jYW52YXMnXG5pbXBvcnQgeyBmZXRjaFRyYW5zY3JpcHQgfSBmcm9tICdAL2xpYi95b3V0dWJlVHJhbnNjcmlwdCc7IC8vIEltcG9ydCB0aGUgbmV3IGZ1bmN0aW9uXG5pbXBvcnQgRGVmdWRkbGUsIHsgdHlwZSBEZWZ1ZGRsZVJlc3BvbnNlIH0gZnJvbSAnZGVmdWRkbGUnO1xudHlwZSBXZWJ2aWV3VGFnID0gRWxlY3Ryb24uV2Vidmlld1RhZ1xuXG5hc3luYyBmdW5jdGlvbiByZWFkRmlsZUNvbnRlbnQoYXBwOiBBcHAsIGZpbGU6IFRGaWxlLCBzdWJwYXRoPzogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IGFwcC52YXVsdC5yZWFkKGZpbGUpXG5cbiAgICBpZiAoc3VicGF0aCkge1xuICAgICAgICBjb25zdCBjYWNoZSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKVxuICAgICAgICBpZiAoY2FjaGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZVN1YnBhdGgoY2FjaGUsIHN1YnBhdGgpXG4gICAgICAgICAgICBpZiAoIXJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZ2V0IHN1YnBhdGgnLCB7IGZpbGUsIHN1YnBhdGggfSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc29sdmVkLnN0YXJ0IHx8IHJlc29sdmVkLmVuZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YlRleHQgPSBib2R5LnNsaWNlKHJlc29sdmVkLnN0YXJ0Lm9mZnNldCwgcmVzb2x2ZWQuZW5kPy5vZmZzZXQpXG4gICAgICAgICAgICAgICAgaWYgKHN1YlRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YlRleHRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZXQgc3VicGF0aCcsIHsgZmlsZSwgc3VicGF0aCB9KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYm9keVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBib2R5XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFdlYnZpZXdDb250ZW50KHdlYnZpZXc6IFdlYnZpZXdUYWcpOiBQcm9taXNlPERlZnVkZGxlUmVzcG9uc2UgfCB1bmRlZmluZWQ+IHtcbiAgICBjb25zdCBkZWZ1ZGRsZSA9IG5ldyBEZWZ1ZGRsZSh3ZWJ2aWV3Lm93bmVyRG9jdW1lbnQpO1xuICAgIGNvbnN0IHJlc3VsdCA9IGRlZnVkZGxlLnBhcnNlKCk7XG4gICAgcmV0dXJuIHJlc3VsdFxufVxuXG5cbmFzeW5jIGZ1bmN0aW9uIGdldFlvdXR1YmVUcmFuc2NyaXB0KHVybDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcbiAgICByZXR1cm4gYXdhaXQgZmV0Y2hUcmFuc2NyaXB0KHVybCk7IC8vIFVzZSB0aGUgZmV0Y2hUcmFuc2NyaXB0IGZ1bmN0aW9uXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWFkTm9kZUNvbnRlbnQobm9kZTogQ2FudmFzTm9kZSk6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG4gICAgY29uc3QgYXBwID0gbm9kZS5hcHBcbiAgICBjb25zdCBub2RlRGF0YSA9IG5vZGUuZ2V0RGF0YSgpXG5cbiAgICBzd2l0Y2ggKG5vZGVEYXRhLnR5cGUpIHtcbiAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICByZXR1cm4gbm9kZURhdGEudGV4dFxuICAgICAgICBjYXNlICdmaWxlJzoge1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgobm9kZURhdGEuZmlsZSlcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGZpbGUgaXMgZXhpc3RzXG4gICAgICAgICAgICBpZiAoIWZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYEVSUk9SIHdoZW4gcmVhZGluZyBmaWxlICR7bm9kZURhdGEuZmlsZX0sIHRoZSBmaWxlIGlzIG5vdCBmb3VuZCwgbWF5YmUgaXQncyBkZWxldGVkIG9yIG1vdmVkYFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpbGUgaW5zdGFuY2VvZiBURmlsZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCBhcHAudmF1bHQucmVhZChmaWxlKVxuICAgICAgICAgICAgICAgIGlmIChub2RlLnN1YnBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHJlYWRGaWxlQ29udGVudChhcHAsIGZpbGUsIG5vZGVEYXRhLnN1YnBhdGgpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAjIyAke2ZpbGUuYmFzZW5hbWV9XFxuJHtib2R5fWBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgZmlsZSBjb250ZW50JylcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdsaW5rJzoge1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQ6IHN0cmluZyB8IHVuZGVmaW5lZFxuICAgICAgICAgICAgY29uc3QgaXNZb3VUdWJlID0gbm9kZURhdGEudXJsLmluY2x1ZGVzKCd5b3V0dWJlLmNvbScpXG4gICAgICAgICAgICBpZiAoaXNZb3VUdWJlKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IGF3YWl0IGdldFlvdXR1YmVUcmFuc2NyaXB0KG5vZGVEYXRhLnVybClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2VidmlldyA9IG5vZGUubm9kZUVsLnF1ZXJ5U2VsZWN0b3I8V2Vidmlld1RhZz4oJ3dlYnZpZXcnKVxuICAgICAgICAgICAgICAgIGlmICh3ZWJ2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHdlYnZpZXdDb250ZW50ID0gYXdhaXQgZ2V0V2Vidmlld0NvbnRlbnQod2VidmlldylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHdlYnZpZXdDb250ZW50KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQgPz8gbm9kZURhdGEudXJsXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKipcbiAqIEFJIE1lc3NhZ2UgR2VuZXJhdGlvbiAtIFNpbXBsaWZpZWQgQXBwcm9hY2hcbiAqXG4gKiBUaGlzIG1vZHVsZSBnZW5lcmF0ZXMgQUkgcmVzcG9uc2VzIGZvciBjYW52YXMgbm9kZXMgd2l0aG91dCByZXF1aXJpbmdcbiAqIHNwZWNpZmljIG1vZGVsIGNvbmZpZ3VyYXRpb24uIEl0IHVzZXMgYSBzaW1wbGUgYXBwcm9hY2ggdGhhdCBzZXJpYWxpemVzXG4gKiB0aGUgY2FudmFzIHN0cnVjdHVyZSBhbmQgcHJvdmlkZXMgYSBwbGFjZWhvbGRlciBmb3IgQUkgaW50ZWdyYXRpb24uXG4gKi9cblxuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgdHlwZSB7IENhbnZhcyB9IGZyb20gJ0AvdHlwZXMvY2FudmFzJ1xuaW1wb3J0IHsgZ2VuZXJhdGVNZXNzYWdlIH0gZnJvbSAnQHVzZWFpL3JwYy9jbGllbnQuZ2VuZXJhdGVkJ1xuaW1wb3J0IHsgU29ja2V0IH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCdcbmltcG9ydCB0eXBlIHsgR3JhcGgsIE1vZGVsQ29uZmlnIH0gZnJvbSAnQHVzZWFpL3JwYy9kZWZpbmUnXG5pbXBvcnQgeyByZWFkTm9kZUNvbnRlbnQgfSBmcm9tICcuL3JlYWROb2RlQ29udGVudCdcbmltcG9ydCB7IGlzQW50aHJvcGljTW9kZWwsIGlzQmVkcm9ja01vZGVsLCBpc0dlbWluaU1vZGVsLCBpc09wZW5BSU1vZGVsLCB0eXBlIE1vZGVsU2V0dGluZ3MgfSBmcm9tICdAL3R5cGVzL3NldHRpbmdzJ1xuXG5leHBvcnQgY29uc3Qgc2VuZEFpTWVzc2FnZSA9IGFzeW5jIChzb2NrZXQ6IFNvY2tldCwgdGhyZWFkSWQ6IHN0cmluZywgc3lzdGVtUHJvbXB0OiBzdHJpbmcsIHByb21wdDogc3RyaW5nLCBjYW52YXM6IENhbnZhcywgYWN0aXZlTW9kZWxJZDogc3RyaW5nLCBhbGxNb2RlbHM6IE1vZGVsU2V0dGluZ3NbXSkgPT4ge1xuICBjb25zdCBhY3RpdmVNb2RlbCA9IGFsbE1vZGVscy5maW5kKChtKSA9PiBtLm1vZGVsSWQgPT09IGFjdGl2ZU1vZGVsSWQpXG5cbiAgaWYgKCFhY3RpdmVNb2RlbCkge1xuICAgIG5ldyBOb3RpY2UoJ0Vycm9yOiBBY3RpdmUgbW9kZWwgbm90IGZvdW5kLiBQbGVhc2UgY2hlY2sgcGx1Z2luIHNldHRpbmdzLicpXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBTZXJpYWxpemUgY2FudmFzIHN0cnVjdHVyZVxuICBjb25zdCBkYXRhID0gY2FudmFzLmdldERhdGEoKVxuXG4gIC8vIFByb2Nlc3Mgbm9kZXMgc2VxdWVudGlhbGx5IHRvIGF2b2lkIGFzeW5jIG1hcCBpc3N1ZXNcbiAgY29uc3Qgbm9kZXMgPSBbXVxuICBmb3IgKGNvbnN0IFtub2RlSWQsIG5vZGVdIG9mIGNhbnZhcy5ub2Rlcykge1xuICAgIC8vIHNraXAgdHlwZSA9IGdyb3VwXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gJ2dyb3VwJykge1xuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBjb25zdCBub2RlQ29udGVudCA9IGF3YWl0IHJlYWROb2RlQ29udGVudChub2RlKVxuICAgIG5vZGVzLnB1c2goe1xuICAgICAgaWQ6IG5vZGVJZCxcbiAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgIHg6IG5vZGUueCxcbiAgICAgICAgeTogbm9kZS55XG4gICAgICB9LFxuICAgICAgc2l6ZToge1xuICAgICAgICB3aWR0aDogbm9kZS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBub2RlLmhlaWdodFxuICAgICAgfSxcbiAgICAgIHRleHQ6IG5vZGVDb250ZW50ID8/ICcnXG4gICAgfSlcbiAgfVxuXG4gIGNvbnN0IGVkZ2VzID0gW11cbiAgZm9yIChjb25zdCBbZWRnZUlkLCBlZGdlXSBvZiBjYW52YXMuZWRnZXMpIHtcbiAgICAvLyBza2lwIHR5cGUgPSBncm91cFxuICAgIGlmIChlZGdlLmZyb20ubm9kZS50eXBlID09PSAnZ3JvdXAnIHx8IGVkZ2UudG8ubm9kZS50eXBlID09PSAnZ3JvdXAnKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGVkZ2VzLnB1c2goe1xuICAgICAgbGFiZWw6IGVkZ2UubGFiZWwgPz8gJycsXG4gICAgICBmcm9tOiB7XG4gICAgICAgIG5vZGVJZDogZWRnZS5mcm9tLm5vZGUuaWQsXG4gICAgICAgIHNpZGU6IGVkZ2UuZnJvbS5zaWRlIGFzICd0b3AnIHwgJ3JpZ2h0JyB8ICdib3R0b20nIHwgJ2xlZnQnXG4gICAgICB9LFxuICAgICAgdG86IHtcbiAgICAgICAgbm9kZUlkOiBlZGdlLnRvLm5vZGUuaWQsXG4gICAgICAgIHNpZGU6IGVkZ2UudG8uc2lkZSBhcyAndG9wJyB8ICdyaWdodCcgfCAnYm90dG9tJyB8ICdsZWZ0J1xuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBncmFwaDogR3JhcGggPSB7XG4gICAgbm9kZXMsXG4gICAgZWRnZXNcbiAgfVxuXG4gIGNvbnN0IHNlbGVjdGVkTm9kZXMgPSBBcnJheS5mcm9tKGNhbnZhcy5zZWxlY3Rpb24pLm1hcCgobm9kZSkgPT4gKHsgbm9kZUlkOiBub2RlLmlkIH0pKVxuXG4gIC8vIFByZXBhcmUgbW9kZWwgY29uZmlndXJhdGlvbiB1c2luZyB0aGUgYWN0aXZlIG1vZGVsJ3MgZGV0YWlsc1xuICBjb25zdCBtb2RlbENvbmZpZzogTW9kZWxDb25maWcgPSB7XG4gICAgbW9kZWxOYW1lOiBhY3RpdmVNb2RlbC5tb2RlbElkLFxuICAgIHByb3ZpZGVyOiBhY3RpdmVNb2RlbC5wcm92aWRlclxuICB9XG5cbiAgaWYgKGlzQmVkcm9ja01vZGVsKGFjdGl2ZU1vZGVsKSkge1xuICAgIG1vZGVsQ29uZmlnLmNyZWRlbnRpYWxzID0ge1xuICAgICAgYWNjZXNzS2V5SWQ6IGFjdGl2ZU1vZGVsLmFjY2Vzc0tleUlkLFxuICAgICAgc2VjcmV0QWNjZXNzS2V5OiBhY3RpdmVNb2RlbC5zZWNyZXRBY2Nlc3NLZXksXG4gICAgICByZWdpb246IGFjdGl2ZU1vZGVsLnJlZ2lvblxuICAgIH1cbiAgfVxuXG4gIGlmIChpc0dlbWluaU1vZGVsKGFjdGl2ZU1vZGVsKSkge1xuICAgIG1vZGVsQ29uZmlnLmNyZWRlbnRpYWxzID0ge1xuICAgICAgYXBpS2V5OiBhY3RpdmVNb2RlbC5hcGlLZXlcbiAgICB9XG4gIH1cblxuICBpZiAoaXNPcGVuQUlNb2RlbChhY3RpdmVNb2RlbCkpIHtcbiAgICBtb2RlbENvbmZpZy5jcmVkZW50aWFscyA9IHtcbiAgICAgIGFwaUtleTogYWN0aXZlTW9kZWwuYXBpS2V5XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzQW50aHJvcGljTW9kZWwoYWN0aXZlTW9kZWwpKSB7XG4gICAgbW9kZWxDb25maWcuY3JlZGVudGlhbHMgPSB7XG4gICAgICBhcGlLZXk6IGFjdGl2ZU1vZGVsLmFwaUtleVxuICAgIH1cbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ21vZGVsQ29uZmlnJywgbW9kZWxDb25maWcpXG4gICAgYXdhaXQgZ2VuZXJhdGVNZXNzYWdlKHNvY2tldCwgdGhyZWFkSWQsIHN5c3RlbVByb21wdCwgcHJvbXB0LCBtb2RlbENvbmZpZywge1xuICAgICAgc2VsZWN0ZWROb2RlcyxcbiAgICAgIG5vZGVHcmFwaDogZ3JhcGgsXG4gICAgICBmaWxlUGF0aDogY2FudmFzLnZpZXcuZmlsZS5wYXRoXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBuZXcgTm90aWNlKCdGYWlsZWQgdG8gZ2VuZXJhdGUgQUkgY29udGVudDogJyArIGVycm9yKVxuICB9XG59XG4iLCJpbXBvcnQgdHlwZSBVc2VBaVBsdWdpbiBmcm9tIFwiQC9tYWluXCI7XG5pbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGNyZWF0ZUFwcCwgdHlwZSBBcHAgYXMgVnVlQXBwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IFNldHRpbmcgZnJvbSBcIi4vU2V0dGluZy52dWVcIjtcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgcGx1Z2luOiBVc2VBaVBsdWdpbjtcbiAgdnVlQXBwOiBWdWVBcHAgfCB1bmRlZmluZWQ7XG4gIHNoYWRvd1Jvb3Q6IFNoYWRvd1Jvb3QgfCB1bmRlZmluZWQ7XG4gIHZ1ZUNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVXNlQWlQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICAvKipcbiAgICogRGlzcGxheSB0aGUgc2V0dGluZ3MgdGFiIHVzaW5nIHNoYWRvdyBET00gZm9yIHN0eWxlIGlzb2xhdGlvblxuICAgKi9cbiAgZGlzcGxheSgpOiB2b2lkIHtcblxuICAgIGlmICh0aGlzLnNoYWRvd1Jvb3QpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIENsZWFyIHRoZSBjb250YWluZXIgZmlyc3RcbiAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAvLyBDcmVhdGUgYSBjaGlsZCBlbGVtZW50IHRvIGhvc3QgdGhlIHNoYWRvdyBET01cbiAgICBjb25zdCBzaGFkb3dIb3N0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5jb250YWluZXJFbC5hcHBlbmRDaGlsZChzaGFkb3dIb3N0KTtcblxuICAgIC8vIENyZWF0ZSBzaGFkb3cgRE9NIGZvciBzdHlsZSBpc29sYXRpb24gb24gdGhlIGNoaWxkIGVsZW1lbnRcbiAgICB0aGlzLnNoYWRvd1Jvb3QgPSBzaGFkb3dIb3N0LmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblxuICAgIC8vIENyZWF0ZSBhIGNvbnRhaW5lciBkaXYgaW5zaWRlIHNoYWRvdyBET00gZm9yIFZ1ZSB0byBtb3VudCB0b1xuICAgIHRoaXMudnVlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMudnVlQ29udGFpbmVyKTtcblxuICAgIC8vIExvYWQgc3R5bGVzIGludG8gc2hhZG93IERPTSBhbmQgdGhlbiBtb3VudCBWdWUgYXBwXG4gICAgdGhpcy5sb2FkU3R5bGVzSW50b1NoYWRvd0RPTSgpLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gQ3JlYXRlIGFuZCBtb3VudCBWdWUgYXBwIHRvIHNoYWRvdyBET00gY29udGFpbmVyXG4gICAgICB0aGlzLnZ1ZUFwcCA9IGNyZWF0ZUFwcChTZXR0aW5nKTtcbiAgICAgIHRoaXMudnVlQXBwLnByb3ZpZGU8VXNlQWlQbHVnaW4+KFwidXNlQWlQbHVnaW5cIiwgdGhpcy5wbHVnaW4pXG4gICAgICB0aGlzLnZ1ZUFwcC5tb3VudCh0aGlzLnZ1ZUNvbnRhaW5lciEpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgQ1NTIHN0eWxlcyBpbnRvIHRoZSBzaGFkb3cgRE9NXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGxvYWRTdHlsZXNJbnRvU2hhZG93RE9NKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGlmICghdGhpcy5zaGFkb3dSb290KSByZXR1cm47XG5cbiAgICB0cnkge1xuICAgICAgLy8gTWV0aG9kIDE6IFVzZSBPYnNpZGlhbidzIGZpbGUgYWRhcHRlciB0byByZWFkIHRoZSBDU1MgZmlsZVxuICAgICAgY29uc3QgcGx1Z2luRGlyID0gdGhpcy5wbHVnaW4ubWFuaWZlc3QuZGlyIHx8ICd1c2VhaSc7XG4gICAgICBjb25zdCBzdHlsZXNQYXRoID0gYCR7cGx1Z2luRGlyfS9zdHlsZXMuY3NzYDtcblxuICAgICAgY29uc3QgY3NzQ29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLnJlYWQoc3R5bGVzUGF0aCk7XG5cbiAgICAgIC8vIENyZWF0ZSBhIHN0eWxlIGVsZW1lbnQgYW5kIGluamVjdCB0aGUgQ1NTXG4gICAgICBjb25zdCBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gY3NzQ29udGVudDtcbiAgICAgIHRoaXMuc2hhZG93Um9vdC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgQ1NTIHN0eWxlcyB2aWEgYWRhcHRlciwgdHJ5aW5nIGFsdGVybmF0aXZlIG1ldGhvZHM6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEhpZGUgYW5kIGNsZWFudXAgdGhlIHNldHRpbmdzIHRhYlxuICAgKi9cbiAgaGlkZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy52dWVBcHApIHtcbiAgICAgIHRoaXMudnVlQXBwLnVubW91bnQoKTtcbiAgICAgIHRoaXMudnVlQXBwID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIENsZWFuIHVwIHNoYWRvdyBET00gb3IgcmVndWxhciBjb250YWluZXJcbiAgICBpZiAodGhpcy5zaGFkb3dSb290KSB7XG4gICAgICB0aGlzLnNoYWRvd1Jvb3QgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnZ1ZUNvbnRhaW5lciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEFwcCwgSXRlbVZpZXcsIE1vZGFsLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIHNldEljb24sIHNldFRvb2x0aXAsIFRGaWxlLCBURm9sZGVyLCBXb3Jrc3BhY2VMZWFmLCB0eXBlIENvbW1hbmQsIHR5cGUgUGx1Z2luTWFuaWZlc3QgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGNyZWF0ZUFwcCwgdHlwZSBBcHAgYXMgVnVlQXBwIH0gZnJvbSBcInZ1ZVwiO1xuaW1wb3J0IFNldHRpbmcgZnJvbSBcIkAvc2V0dGluZy9TZXR0aW5nLnZ1ZVwiO1xuaW1wb3J0IFwiQC9hc3NldHMvbWFpbi5jc3NcIjtcbmltcG9ydCB7IFBsdWdpbkV2ZW50cyB9IGZyb20gXCIuL2V2ZW50c1wiO1xuaW1wb3J0IHR5cGUgeyBPYnNpZGlhbkFpU2V0dGluZ3MgfSBmcm9tIFwiQC90eXBlcy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9TRVRUSU5HUyB9IGZyb20gXCIuL2RlZmF1bHRTZXR0aW5nc1wiO1xuaW1wb3J0IHR5cGUgeyBTb2NrZXQgfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgaW8gfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgTm90aWNlIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBoYW5kbGVTZWFyY2hOb3RlSW5WYXVsdCwgaGFuZGxlQWRkRWRnZSwgaGFuZGxlRGVsZXRlRWRnZSwgaGFuZGxlU2V0Tm9kZUNvbG9yLCBoYW5kbGVTaG93Tm90aWNlLCBoYW5kbGVVcGRhdGVOb2RlVGV4dCwgaGFuZGxlQ3JlYXRlTm9kZSwgaGFuZGxlRGVsZXRlTm9kZSwgaGFuZGxlU2V0Tm9kZVN0YXR1cywgaGFuZGxlQWRkQWdlbnRNZXNzYWdlLCBoYW5kbGVBZGRTdGVwIH0gZnJvbSBcIkB1c2VhaS9ycGMvY2xpZW50LmdlbmVyYXRlZFwiO1xuaW1wb3J0IHR5cGUgeyBOb3RlIH0gZnJvbSBcIkB1c2VhaS9ycGMvZGVmaW5lXCI7XG5pbXBvcnQgeyBhZGRFZGdlIH0gZnJvbSBcIkAvY2FudmFzL2FkZEVkZ2VcIlxuaW1wb3J0IHsgcmFuZG9tSGV4U3RyaW5nIH0gZnJvbSBcIkAvdXRpbHMvcmFuZG9tSGV4U3RyaW5nXCJcbmltcG9ydCB7IGNyZWF0ZU5vZGUgfSBmcm9tIFwiQC9jYW52YXMvY3JlYXRlTm9kZVwiXG5pbXBvcnQgdHlwZSB7IENhbnZhcywgQ2FudmFzTWVudSwgQ2FudmFzTm9kZSB9IGZyb20gXCJAL3R5cGVzL2NhbnZhc1wiXG5jb25zdCBQUk9NUFRfVklFV19UWVBFID0gXCJ1c2VhaS1zaWRlcGFuZWxcIlxuXG5pbXBvcnQgeyBnZXRBY3RpdmVDYW52YXMsIGdldENhbnZhc0J5RmlsZVBhdGggfSBmcm9tICcuL2NhbnZhcy9nZXRBY3RpdmVDYW52YXMnXG5cbmltcG9ydCB0eXBlIHsgU2VhcmNoVmlldyB9IGZyb20gXCJAL3R5cGVzL29ic2lkaWFuLWV4dGVuc2lvbnNcIjtcbmltcG9ydCBTaWRlcGFuZWwgZnJvbSBcIi4vc2lkZXBhbmVsL1NpZGVwYW5lbC52dWVcIjtcbmltcG9ydCB7IFNpZGVwYW5lbFZpZXcgfSBmcm9tIFwiLi9zaWRlcGFuZWwvbWFpblwiO1xuaW1wb3J0IHsgcGF0Y2hBbGwgfSBmcm9tIFwiLi9jYW52YXMvcGF0Y2hDYW52YXNcIjtcbmltcG9ydCB7IHNlbmRBaU1lc3NhZ2UgfSBmcm9tIFwiLi9zZW5kQWlNZXNzYWdlXCI7XG5pbXBvcnQgeyBTZXR0aW5nVGFiIH0gZnJvbSBcIi4vc2V0dGluZy9tYWluXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZUFpUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBldmVudHM6IFBsdWdpbkV2ZW50c1xuICAgIHNldHRpbmdzOiBPYnNpZGlhbkFpU2V0dGluZ3NcbiAgICBjdXJyZW50VGhyZWFkSWQ6IHN0cmluZyA9ICcnXG4gICAgLyoqIFNvY2tldC5JTyBjb25uZWN0aW9uIHRvIHRoZSBBSSBzZXJ2ZXIgKi9cbiAgICBzb2NrZXQ/OiBTb2NrZXRcbiAgICAvKiogQ3VycmVudCBzb2NrZXQgY29ubmVjdGlvbiBzdGF0dXMgKi9cbiAgICBwcml2YXRlIHNvY2tldENvbm5lY3Rpb25TdGF0dXM6ICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnZXJyb3InIHwgJ3JlY29ubmVjdGluZycgPSAnZGlzY29ubmVjdGVkJ1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbk1hbmlmZXN0OiBQbHVnaW5NYW5pZmVzdCwgcGx1Z2luUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luTWFuaWZlc3QpXG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IFBsdWdpbkV2ZW50cygpXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBERUZBVUxUX1NFVFRJTkdTXG4gICAgfVxuXG4gICAgYXN5bmMgb25sb2FkKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUaHJlYWRJZCA9IHJhbmRvbUhleFN0cmluZygxNilcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKVxuICAgICAgICB0aGlzLnNldHVwU29ja2V0RXZlbnRIYW5kbGVycygpXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVNvY2tldENvbm5lY3Rpb24oKVxuICAgICAgICB0aGlzLnNldHVwQ2xpZW50SGFuZGxlcnMoKVxuXG4gICAgICAgIHRoaXMucmVnaXN0ZXJWaWV3KFBST01QVF9WSUVXX1RZUEUsIChsZWFmKSA9PiBuZXcgU2lkZXBhbmVsVmlldyhsZWFmLCB0aGlzKSlcbiAgICAgICAgdGhpcy5hZGRSaWJib25JY29uKCdzcGFya2xlcycsICdPcGVuIEFJIFByb21wdCBWaWV3JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVByb21wdFZpZXcoKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IHNldHRpbmdUYWIgPSBuZXcgU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcyk7XG4gICAgICAgIHRoaXMuYWRkU2V0dGluZ1RhYihzZXR0aW5nVGFiKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tbWFuZHMoKVxuICAgICAgICB0aGlzLnBhdGNoT2JzaWRpYW4oKVxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXR1cCBldmVudCBoYW5kbGVycyBmb3Igc29ja2V0IGNvbm5lY3Rpb24gbWFuYWdlbWVudFxuICAgICAqIFRoaXMgY2VudHJhbGl6ZXMgYWxsIHNvY2tldCBjb25uZWN0aW9uIGxvZ2ljIGluIG1haW4udHNcbiAgICAgKi9cbiAgICBwcml2YXRlIHNldHVwU29ja2V0RXZlbnRIYW5kbGVycygpIHtcbiAgICAgICAgLy8gTGlzdGVuIGZvciBjb25uZWN0aW9uIHJlcXVlc3RzIGZyb20gc2V0dGluZ3NcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ3NvY2tldDpjb25uZWN0LXJlcXVlc3QnLCAoYWRkcmVzczogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0U29ja2V0KGFkZHJlc3MpXG4gICAgICAgICAgICB9KVxuICAgICAgICApXG5cbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ3NvY2tldDpkaXNjb25uZWN0LXJlcXVlc3QnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0U29ja2V0KClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignc29ja2V0OnJlY29ubmVjdC1yZXF1ZXN0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0U29ja2V0KClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRvIFNvY2tldC5JTyBzZXJ2ZXJcbiAgICAgKiBAcGFyYW0gYWRkcmVzcyAtIE9wdGlvbmFsIGFkZHJlc3MgdG8gY29ubmVjdCB0bywgZGVmYXVsdHMgdG8gc2V0dGluZ3NcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIGNvbm5lY3RTb2NrZXQoYWRkcmVzcz86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBzb2NrZXRBZGRyZXNzID0gYWRkcmVzcyB8fCB0aGlzLnNldHRpbmdzLnNvY2tldEFkZHJlc3NcblxuICAgICAgICBpZiAoIXNvY2tldEFkZHJlc3M/LnRyaW0oKSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTb2NrZXRTdGF0dXMoJ2Vycm9yJywgJ1NvY2tldCBhZGRyZXNzIGlzIHJlcXVpcmVkIScpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNvY2tldENvbm5lY3Rpb25TdGF0dXMgPT09ICdjb25uZWN0aW5nJyB8fCB0aGlzLnNvY2tldENvbm5lY3Rpb25TdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gLy8gQWxyZWFkeSBjb25uZWN0aW5nIG9yIGNvbm5lY3RlZFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVTb2NrZXRTdGF0dXMoJ2Nvbm5lY3RpbmcnLCB1bmRlZmluZWQsIHNvY2tldEFkZHJlc3MpXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIERpc2Nvbm5lY3QgZXhpc3Rpbmcgc29ja2V0IGlmIGFueVxuICAgICAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQuZGlzY29ubmVjdCgpXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSB1bmRlZmluZWRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBzb2NrZXQgY29ubmVjdGlvblxuICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSBpbyhzb2NrZXRBZGRyZXNzLCB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0czogWyd3ZWJzb2NrZXQnLCAncG9sbGluZyddLFxuICAgICAgICAgICAgICAgIGF1dGg6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46ICcxMjMnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAxMDAwMFxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgLy8gU2V0dXAgc29ja2V0IGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICB0aGlzLnNldHVwU29ja2V0SU9FdmVudEhhbmRsZXJzKClcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnQ29ubmVjdGlvbiBmYWlsZWQnXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNvY2tldFN0YXR1cygnZXJyb3InLCBlcnJvck1lc3NhZ2UpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IGZyb20gU29ja2V0LklPIHNlcnZlclxuICAgICAqL1xuICAgIHByaXZhdGUgZGlzY29ubmVjdFNvY2tldCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5kaXNjb25uZWN0KClcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVTb2NrZXRTdGF0dXMoJ2Rpc2Nvbm5lY3RlZCcpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjb25uZWN0IHRvIFNvY2tldC5JTyBzZXJ2ZXJcbiAgICAgKi9cbiAgICBwcml2YXRlIGFzeW5jIHJlY29ubmVjdFNvY2tldCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0U29ja2V0KClcbiAgICAgICAgLy8gQnJpZWYgZGVsYXkgYmVmb3JlIHJlY29ubmVjdGluZ1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpXG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdFNvY2tldCgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgU29ja2V0LklPIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgYWN0dWFsIHNvY2tldCBjb25uZWN0aW9uXG4gICAgICovXG4gICAgcHJpdmF0ZSBzZXR1cFNvY2tldElPRXZlbnRIYW5kbGVycygpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnNvY2tldCkgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Nvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNvY2tldFN0YXR1cygnY29ubmVjdGVkJywgdW5kZWZpbmVkLCB0aGlzLnNldHRpbmdzLnNvY2tldEFkZHJlc3MpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNvY2tldFN0YXR1cygnZGlzY29ubmVjdGVkJywgcmVhc29uKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKCdyZWNvbm5lY3QnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNvY2tldFN0YXR1cygnY29ubmVjdGVkJywgdW5kZWZpbmVkLCB0aGlzLnNldHRpbmdzLnNvY2tldEFkZHJlc3MpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ3JlY29ubmVjdF9hdHRlbXB0JywgKGF0dGVtcHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU29ja2V0U3RhdHVzKCdyZWNvbm5lY3RpbmcnKVxuICAgICAgICAgICAgdGhpcy5ldmVudHMudHJpZ2dlcignc29ja2V0OnJlY29ubmVjdGluZycsIGF0dGVtcHQpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zb2NrZXQuaW8ub24oJ3JlY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnUmVjb25uZWN0aW9uIGZhaWxlZCdcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU29ja2V0U3RhdHVzKCdlcnJvcicsIGVycm9yTWVzc2FnZSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNvY2tldC5vbigncmVjb25uZWN0X2ZhaWxlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU29ja2V0U3RhdHVzKCdlcnJvcicsICdSZWNvbm5lY3Rpb24gZmFpbGVkJylcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNvY2tldC5vbignY29ubmVjdF9lcnJvcicsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnQ29ubmVjdGlvbiBmYWlsZWQnXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNvY2tldFN0YXR1cygnZXJyb3InLCBlcnJvck1lc3NhZ2UpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zb2NrZXQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdTb2NrZXQgZXJyb3InXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNvY2tldFN0YXR1cygnZXJyb3InLCBlcnJvck1lc3NhZ2UpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHNvY2tldCBjb25uZWN0aW9uIHN0YXR1cyBhbmQgdHJpZ2dlciBldmVudHNcbiAgICAgKiBAcGFyYW0gc3RhdHVzIC0gTmV3IGNvbm5lY3Rpb24gc3RhdHVzXG4gICAgICogQHBhcmFtIGVycm9yIC0gT3B0aW9uYWwgZXJyb3IgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBhZGRyZXNzIC0gT3B0aW9uYWwgc29ja2V0IGFkZHJlc3NcbiAgICAgKi9cbiAgICBwcml2YXRlIHVwZGF0ZVNvY2tldFN0YXR1cyhzdGF0dXM6ICdjb25uZWN0ZWQnIHwgJ2Rpc2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnZXJyb3InIHwgJ3JlY29ubmVjdGluZycsIGVycm9yPzogc3RyaW5nLCBhZGRyZXNzPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc29ja2V0Q29ubmVjdGlvblN0YXR1cyA9IHN0YXR1c1xuXG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25JbmZvID0ge1xuICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgYWRkcmVzczogYWRkcmVzcyB8fCB0aGlzLnNldHRpbmdzLnNvY2tldEFkZHJlc3MsXG4gICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVHJpZ2dlciBzcGVjaWZpYyBzdGF0dXMgZXZlbnRzXG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoJ3NvY2tldDpjb25uZWN0ZWQnLCBjb25uZWN0aW9uSW5mby5hZGRyZXNzISlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdzb2NrZXQ6ZGlzY29ubmVjdGVkJywgZXJyb3IpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2Nvbm5lY3RpbmcnOlxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoJ3NvY2tldDpjb25uZWN0aW5nJywgY29ubmVjdGlvbkluZm8uYWRkcmVzcyEpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdzb2NrZXQ6ZXJyb3InLCBlcnJvciB8fCAnVW5rbm93biBlcnJvcicpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ3JlY29ubmVjdGluZyc6XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlZCBieSByZWNvbm5lY3RfYXR0ZW1wdCBldmVudFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbHdheXMgdHJpZ2dlciB0aGUgZ2VuZXJhbCBzdGF0dXMgY2hhbmdlZCBldmVudFxuICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdzb2NrZXQ6c3RhdHVzLWNoYW5nZWQnLCBjb25uZWN0aW9uSW5mbylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VycmVudCBzb2NrZXQgY29ubmVjdGlvbiBzdGF0dXNcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0U29ja2V0Q29ubmVjdGlvblN0YXR1cygpOiAnY29ubmVjdGVkJyB8ICdkaXNjb25uZWN0ZWQnIHwgJ2Nvbm5lY3RpbmcnIHwgJ2Vycm9yJyB8ICdyZWNvbm5lY3RpbmcnIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ja2V0Q29ubmVjdGlvblN0YXR1c1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgU29ja2V0LklPIGNvbm5lY3Rpb24gb24gcGx1Z2luIGxvYWRcbiAgICAgKiBUaGlzIGlzIG5vdyBhIHNpbXBsZSB3cmFwcGVyIHRoYXQgdXNlcyB0aGUgY2VudHJhbGl6ZWQgY29ubmVjdGlvbiBsb2dpY1xuICAgICAqL1xuICAgIGFzeW5jIGluaXRpYWxpemVTb2NrZXRDb25uZWN0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5zb2NrZXRBZGRyZXNzKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3RTb2NrZXQoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gKiBDaGVjayBpZiBhIG1lbnUgaGFzIGFscmVhZHkgYmVlbiBwYXRjaGVkIHdpdGggQUkgYnV0dG9uc1xuICogQHBhcmFtIG1lbnUgLSBUaGUgbWVudSB0byBjaGVja1xuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbWVudSBhbHJlYWR5IGhhcyBBSSBidXR0b25zXG4gKi9cbiAgICBpc01lbnVQYXRjaGVkKG1lbnU6IENhbnZhc01lbnUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG1lbnUubWVudUVsLnF1ZXJ5U2VsZWN0b3IoJy5ncHQtbWVudS1pdGVtJykgIT09IG51bGxcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdG8gY3JlYXRlIGFuZCBhcHBlbmQgYSBtZW51IGJ1dHRvblxuICAgICAqIEBwYXJhbSBtZW51IC0gVGhlIG1lbnUgdG8gYXBwZW5kIHRvXG4gICAgICogQHBhcmFtIGljb24gLSBMdWNpZGUgaWNvbiBuYW1lXG4gICAgICogQHBhcmFtIHRvb2x0aXAgLSBUb29sdGlwIHRleHQgZm9yIHRoZSBidXR0b25cbiAgICAgKiBAcGFyYW0gY2xpY2tIYW5kbGVyIC0gRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICovXG4gICAgcHJpdmF0ZSBhcHBlbmRNZW51QnV0dG9uKG1lbnU6IENhbnZhc01lbnUsIGljb246IHN0cmluZywgdG9vbHRpcDogc3RyaW5nLCBjbGlja0hhbmRsZXI6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgLy8gQ3JlYXRlIGJ1dHRvbiBlbGVtZW50IHdpdGggYXBwcm9wcmlhdGUgY2xhc3Nlc1xuICAgICAgICBjb25zdCBidXR0b25FbCA9IGNyZWF0ZUVsKCdidXR0b24nLCAnY2xpY2thYmxlLWljb24gZ3B0LW1lbnUtaXRlbScpXG4gICAgICAgIC8vIFNldCB0b29sdGlwIHdpdGggdG9wIHBsYWNlbWVudFxuICAgICAgICBzZXRUb29sdGlwKGJ1dHRvbkVsLCB0b29sdGlwLCB7IHBsYWNlbWVudDogJ3RvcCcgfSlcbiAgICAgICAgLy8gU2V0IHRoZSBpY29uIHVzaW5nIE9ic2lkaWFuJ3MgaWNvbiBzeXN0ZW1cbiAgICAgICAgc2V0SWNvbihidXR0b25FbCwgaWNvbilcbiAgICAgICAgLy8gQXR0YWNoIGNsaWNrIGV2ZW50IGhhbmRsZXJcbiAgICAgICAgYnV0dG9uRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXIpXG4gICAgICAgIC8vIEFkZCBidXR0b24gdG8gdGhlIG1lbnVcbiAgICAgICAgbWVudS5tZW51RWwuYXBwZW5kQ2hpbGQoYnV0dG9uRWwpXG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBBSS1yZWxhdGVkIGJ1dHRvbnMgdG8gY2FudmFzIG5vZGUgY29udGV4dCBtZW51c1xuICAgICAqIEBwYXJhbSBtZW51IC0gVGhlIGNhbnZhcyBtZW51IHRvIG1vZGlmeVxuICAgICAqIEBwYXJhbSBjYW52YXMgLSBUaGUgY2FudmFzIGNvbnRhaW5pbmcgdGhlIG5vZGVcbiAgICAgKiBAcGFyYW0gbm9kZSAtIFRoZSBub2RlIGJlaW5nIHJpZ2h0LWNsaWNrZWRcbiAgICAgKi9cbiAgICBhcHBlbmRCdXR0b25zKG1lbnU6IENhbnZhc01lbnUsIGNhbnZhczogQ2FudmFzLCBub2RlOiBDYW52YXNOb2RlKTogdm9pZCB7XG4gICAgICAgIC8vIEFkZCBcIkdlbmVyYXRlIHdpdGggQUlcIiBidXR0b25cbiAgICAgICAgdGhpcy5hcHBlbmRNZW51QnV0dG9uKG1lbnUsICdsdWNpZGUtc3BhcmtsZXMnLCAnR2VuZXJhdGUgd2l0aCBBSScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoJ2NhbnZhczpnZW5lcmF0ZScsIHRoaXMuY3VycmVudFRocmVhZElkLCAnVGhlIHNlbGVjdGVkIG5vZGUgaXMgbXkgcmVxdWlyZW1lbnQsIHVuZGVyc3RhbmQgaXQgY2FyZWZ1bGx5IHRoZW4gcmVwbGFjZSB5b3VyIGFuc3dlciByaWdodCBpbiB0aGUgbm9kZScpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gYWRkIGJ1dHRvbiB0byBjcmVhdGUgbmV3IGVtcHR5IG5vZGVcbiAgICAgICAgdGhpcy5hcHBlbmRNZW51QnV0dG9uKG1lbnUsICdsdWNpZGUtcGx1cycsICdDcmVhdGUgbmV3IGVtcHR5IG5vZGUnLCAoKSA9PiB7XG4gICAgICAgICAgICBjcmVhdGVOb2RlKGNhbnZhcywgW25vZGVdLCB7IHRleHQ6ICcnLCBzaXplOiB7IHdpZHRoOiAzNTAsIGhlaWdodDogMzUwIH0gfSlcbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICogUmVnaXN0ZXIgYWxsIHBsdWdpbiBldmVudCBoYW5kbGVyc1xuICAgICogVGhlc2UgaGFuZGxlcnMgcmVzcG9uZCB0byBjdXN0b20gZXZlbnRzIHRyaWdnZXJlZCB0aHJvdWdob3V0IHRoZSBwbHVnaW5cbiAgICAqL1xuICAgIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICAvLyBIYW5kbGVyIGZvciBjYW52YXMgbm9kZSBtZW51IGV2ZW50cyAtIGluamVjdHMgQUkgYnV0dG9uc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignY29udmVyc2F0aW9uOm5ldy10aHJlYWQnLCAodGhyZWFkSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRocmVhZElkID0gdGhyZWFkSWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignY2FudmFzOm5vZGUtbWVudScsIChtZW51OiBDYW52YXNNZW51LCBjYW52YXM6IENhbnZhcywgbm9kZTogQ2FudmFzTm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVEYXRhID0gbm9kZS5nZXREYXRhKClcblxuICAgICAgICAgICAgICAgIC8vIFNraXAgaWYgbWVudSBpcyBhbHJlYWR5IHBhdGNoZWQgb3Igbm9kZSBpcyBnZW5lcmF0aW5nXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNZW51UGF0Y2hlZChtZW51KSkgcmV0dXJuXG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgQUkgYnV0dG9ucyB0byB0aGUgbWVudVxuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQnV0dG9ucyhtZW51LCBjYW52YXMsIG5vZGUpXG4gICAgICAgICAgICB9KVxuICAgICAgICApXG5cbiAgICAgICAgLy8gSGFuZGxlciBmb3IgXCJHZW5lcmF0ZSB3aXRoIEFJXCIgYnV0dG9uIGNsaWNrc1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignY2FudmFzOmdlbmVyYXRlJywgYXN5bmMgKHRocmVhZElkOiBzdHJpbmcsIHByb21wdDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdObyBzb2NrZXQgY29ubmVjdGlvbicpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgYWN0aXZlIGNhbnZhc1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldEFjdGl2ZUNhbnZhcyh0aGlzLmFwcClcbiAgICAgICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgY2FudmFzIGZvdW5kJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYXdhaXQgc2VuZEFpTWVzc2FnZSh0aGlzLnNvY2tldCwgdGhyZWFkSWQsIHRoaXMuc2V0dGluZ3Muc3lzdGVtUHJvbXB0LCBwcm9tcHQsIGNhbnZhcywgdGhpcy5zZXR0aW5ncyEuYWN0aXZlTW9kZWxJZCwgdGhpcy5zZXR0aW5ncyEubW9kZWxzKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGFsbCBwbHVnaW4gY29tbWFuZHMgd2l0aCBPYnNpZGlhblxuICAgICAqIFRoZXNlIGNvbW1hbmRzIGFwcGVhciBpbiB0aGUgY29tbWFuZCBwYWxldHRlIGFuZCBjYW4gaGF2ZSBob3RrZXlzXG4gICAgICovXG4gICAgcmVnaXN0ZXJDb21tYW5kcygpIHtcbiAgICAgICAgLy8gQWRkIGNvbW1hbmQgdG8gZ2VuZXJhdGUgQUkgY29udGVudCBvbiBzZWxlY3RlZCBjYW52YXMgbm9kZVxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6ICdjYW52YXMtZ2VuZXJhdGUtYWknLFxuICAgICAgICAgICAgbmFtZTogJ0dlbmVyYXRlIEFJIGNvbnRlbnQgZm9yIHNlbGVjdGVkIGNhbnZhcyBub2RlJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMudHJpZ2dlcignY2FudmFzOmdlbmVyYXRlJywgdGhpcy5jdXJyZW50VGhyZWFkSWQsICdUaGUgc2VsZWN0ZWQgbm9kZSBpcyBteSByZXF1aXJlbWVudCwgdW5kZXJzdGFuZCBpdCBjYXJlZnVsbHkgdGhlbiByZXBsYWNlIHlvdXIgYW5zd2VyIHJpZ2h0IGluIHRoZSBub2RlJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBBZGQgY29tbWFuZCB0byBvcGVuIHBsdWdpbiBzZXR0aW5ncyBkaXJlY3RseVxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6ICdvcGVuLXNldHRpbmdzJyxcbiAgICAgICAgICAgIG5hbWU6ICdPcGVuIFVzZUFJIFBsdWdpbiBTZXR0aW5ncycsXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9wZW4gc2V0dGluZ3MgZGlhbG9nIGFuZCBuYXZpZ2F0ZSB0byB0aGlzIHBsdWdpbidzIHRhYlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC5zZXR0aW5nPy5vcGVuKClcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcC5zZXR0aW5nPy5vcGVuVGFiQnlJZCh0aGlzLm1hbmlmZXN0LmlkKVxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApIC8vIFNtYWxsIGRlbGF5IHRvIGVuc3VyZSBzZXR0aW5ncyBkaWFsb2cgaXMgb3BlblxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIG9wZW4gcGx1Z2luIHNldHRpbmdzOicsIGVycm9yKVxuICAgICAgICAgICAgICAgICAgICAvLyBGYWxsYmFjayB0byBnZW5lcmFsIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwLnNldHRpbmc/Lm9wZW4oKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF0Y2ggT2JzaWRpYW4ncyBjYW52YXMgZnVuY3Rpb25hbGl0eSB0byBhZGQgQUkgZmVhdHVyZXNcbiAgICAgKiBUaGlzIG1ldGhvZCBtb2RpZmllcyBPYnNpZGlhbidzIGNhbnZhcyBiZWhhdmlvciB0byBpbnRlZ3JhdGUgQUkgY2FwYWJpbGl0aWVzXG4gICAgICovXG4gICAgcGF0Y2hPYnNpZGlhbigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3BhdGNoaW5nIG9ic2lkaWFuJylcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIHBhdGNoIGltbWVkaWF0ZWx5IGlmIGNhbnZhcyBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgaWYgKHBhdGNoQWxsKHRoaXMpKSByZXR1cm5cblxuICAgICAgICAgICAgLy8gSWYgY2FudmFzIGlzbid0IGxvYWRlZCB5ZXQsIHdhaXQgZm9yIGxheW91dCBjaGFuZ2VzXG4gICAgICAgICAgICBjb25zdCBldnQgPSB0aGlzLmFwcC53b3Jrc3BhY2Uub24oJ2xheW91dC1jaGFuZ2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU3RvcCBsaXN0ZW5pbmcgb25jZSBwYXRjaGluZyBpcyBzdWNjZXNzZnVsXG4gICAgICAgICAgICAgICAgcGF0Y2hBbGwodGhpcykgJiYgdGhpcy5hcHAud29ya3NwYWNlLm9mZnJlZihldnQpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50KGV2dClcbiAgICAgICAgfSlcbiAgICB9XG4gICAgLyoqXG4gICAgKiBBY3RpdmF0ZSB0aGUgQUkgUHJvbXB0IFZpZXdcbiAgICAqIE9wZW5zIHRoZSB2aWV3IGluIHRoZSByaWdodCBzaWRlYmFyIGlmIG5vdCBhbHJlYWR5IG9wZW5cbiAgICAqL1xuICAgIGFzeW5jIGFjdGl2YXRlUHJvbXB0VmlldygpIHtcbiAgICAgICAgY29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwXG5cbiAgICAgICAgbGV0IGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsID0gbnVsbFxuICAgICAgICBjb25zdCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFBST01QVF9WSUVXX1RZUEUpXG5cbiAgICAgICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBJZiB2aWV3IGFscmVhZHkgZXhpc3RzLCBhY3RpdmF0ZSBpdFxuICAgICAgICAgICAgbGVhZiA9IGxlYXZlc1swXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyB2aWV3IGluIHJpZ2h0IHNpZGViYXJcbiAgICAgICAgICAgIGxlYWYgPSB3b3Jrc3BhY2UuZ2V0UmlnaHRMZWFmKGZhbHNlKVxuICAgICAgICAgICAgaWYgKGxlYWYpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7IHR5cGU6IFBST01QVF9WSUVXX1RZUEUsIGFjdGl2ZTogdHJ1ZSB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV2ZWFsIHRoZSB2aWV3XG4gICAgICAgIGlmIChsZWFmKSB7XG4gICAgICAgICAgICB3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKVxuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFudXAgd2hlbiBwbHVnaW4gaXMgdW5sb2FkZWRcbiAgICAgKiBQcm9wZXJseSBkaXNjb25uZWN0cyBzb2NrZXQsIGNsZWFucyB1cCBldmVudHMsIGFuZCByZWxlYXNlcyByZXNvdXJjZXNcbiAgICAgKi9cbiAgICBvbnVubG9hZCgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZUFJIFBsdWdpbjogU3RhcnRpbmcgY2xlYW51cC4uLicpXG5cbiAgICAgICAgLy8gMS4gRGlzY29ubmVjdCBzb2NrZXQgY29ubmVjdGlvblxuICAgICAgICBpZiAodGhpcy5zb2NrZXQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VBSSBQbHVnaW46IERpc2Nvbm5lY3Rpbmcgc29ja2V0Li4uJylcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdFNvY2tldCgpXG4gICAgICAgIH1cblxuICAgICAgICAvLyAyLiBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIHNpZGVwYW5lbCB2aWV3c1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShQUk9NUFRfVklFV19UWVBFKVxuICAgICAgICAgICAgaWYgKGxlYXZlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFVzZUFJIFBsdWdpbjogQ2xlYW5pbmcgdXAgJHtsZWF2ZXMubGVuZ3RofSBzaWRlcGFuZWwgdmlldyhzKS4uLmApXG4gICAgICAgICAgICAgICAgbGVhdmVzLmZvckVhY2gobGVhZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWFmLmRldGFjaCgpXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGRldGFjaGluZyBzaWRlcGFuZWwgdmlldzonLCBlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGNsZWFuaW5nIHVwIHNpZGVwYW5lbCB2aWV3czonLCBlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDMuIENsZWFuIHVwIGV2ZW50IHN5c3RlbVxuICAgICAgICBpZiAodGhpcy5ldmVudHMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VBSSBQbHVnaW46IENsZWFuaW5nIHVwIGV2ZW50cy4uLicpXG4gICAgICAgICAgICAvLyBFdmVudHMgZXh0ZW5kaW5nIE9ic2lkaWFuJ3MgRXZlbnRzIGNsYXNzIGFyZSBhdXRvbWF0aWNhbGx5IGNsZWFuZWQgdXBcbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIHBsdWdpbiBpcyB1bmxvYWRlZCwgYnV0IHdlIGNhbiBjbGVhciBvdXIgcmVmZXJlbmNlXG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IG51bGwgYXMgYW55XG4gICAgICAgIH1cblxuICAgICAgICAvLyA0LiBDbGVhbiB1cCBzb2NrZXQgc3RhdHVzIGFuZCByZWZlcmVuY2VzXG4gICAgICAgIHRoaXMuc29ja2V0Q29ubmVjdGlvblN0YXR1cyA9ICdkaXNjb25uZWN0ZWQnXG4gICAgICAgIHRoaXMuc29ja2V0ID0gdW5kZWZpbmVkXG5cbiAgICAgICAgY29uc29sZS5sb2coJ1VzZUFJIFBsdWdpbjogQ2xlYW51cCBjb21wbGV0ZWQnKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAgICogU2V0dXAgY2xpZW50LXNpZGUgaGFuZGxlcnMgZm9yIHNlcnZlci1zZW50IGV2ZW50c1xuICAgICAgICogVGhlc2UgaGFuZGxlcnMgcmVzcG9uZCB0byBtZXNzYWdlcyBmcm9tIHRoZSBBSSBzZXJ2ZXJcbiAgICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgc2V0dXBDbGllbnRIYW5kbGVycygpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gc29ja2V0IGNvbm5lY3Rpb24nKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICBoYW5kbGVTZWFyY2hOb3RlSW5WYXVsdCh0aGlzLnNvY2tldCwgYXN5bmMgKHF1ZXJ5KTogUHJvbWlzZTxOb3RlW10+ID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBwLmludGVybmFsUGx1Z2lucy5wbHVnaW5zWydnbG9iYWwtc2VhcmNoJ10uaW5zdGFuY2Uub3Blbkdsb2JhbFNlYXJjaChxdWVyeSlcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaExlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdzZWFyY2gnKVswXVxuICAgICAgICAgICAgY29uc3Qgc2VhcmNoID0gKGF3YWl0IHNlYXJjaExlYWYub3BlbihzZWFyY2hMZWFmLnZpZXcpKSBhcyBTZWFyY2hWaWV3XG4gICAgICAgICAgICBjb25zdCByZXN1bHREb21Mb29rdXAgPSBzZWFyY2guZG9tLnJlc3VsdERvbUxvb2t1cFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gQXJyYXkuZnJvbShyZXN1bHREb21Mb29rdXAudmFsdWVzKCkpLm1hcCgocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3VsdC5maWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IHJlc3VsdC5maWxlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdC5jb250ZW50XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgICAgfSlcblxuICAgICAgICBoYW5kbGVBZGRFZGdlKHRoaXMuc29ja2V0LCBhc3luYyAoZmlsZVBhdGgsIGZyb21Ob2RlSWQsIGZyb21TaWRlLCB0b05vZGVJZCwgdG9TaWRlKSA9PiB7XG4gICAgICAgICAgICBsZXQgY2FudmFzID0gZ2V0Q2FudmFzQnlGaWxlUGF0aCh0aGlzLmFwcCwgZmlsZVBhdGgpXG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vIGNhbnZhcyBmb3VuZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZyb21Ob2RlID0gY2FudmFzLm5vZGVzLmdldChmcm9tTm9kZUlkKVxuICAgICAgICAgICAgaWYgKCFmcm9tTm9kZSkge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0Zyb20gbm9kZSBub3QgZm91bmQnKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB0b05vZGUgPSBjYW52YXMubm9kZXMuZ2V0KHRvTm9kZUlkKVxuICAgICAgICAgICAgaWYgKCF0b05vZGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdUbyBub2RlIG5vdCBmb3VuZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGFkZEVkZ2UoY2FudmFzLCByYW5kb21IZXhTdHJpbmcoMTYpLCB7IHNpZGU6IGZyb21TaWRlLCBub2RlOiBmcm9tTm9kZSB9LCB7IHNpZGU6IHRvU2lkZSwgbm9kZTogdG9Ob2RlIH0sIHsgY29sb3I6IGZyb21Ob2RlLmNvbG9yIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgaGFuZGxlRGVsZXRlRWRnZSh0aGlzLnNvY2tldCwgYXN5bmMgKGZpbGVQYXRoLCBlZGdlSWQpID0+IHtcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBnZXRDYW52YXNCeUZpbGVQYXRoKHRoaXMuYXBwLCBmaWxlUGF0aClcbiAgICAgICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gYWN0aXZlIGNhbnZhcycpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGVkZ2UgPSBjYW52YXMuZWRnZXMuZ2V0KGVkZ2VJZClcbiAgICAgICAgICAgIGlmICghZWRnZSkge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0VkZ2Ugbm90IGZvdW5kJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FudmFzLnJlbW92ZUVkZ2UoZWRnZSlcbiAgICAgICAgfSlcblxuICAgICAgICBoYW5kbGVTZXROb2RlQ29sb3IodGhpcy5zb2NrZXQsIGFzeW5jIChmaWxlUGF0aCwgbm9kZUlkLCBjb2xvcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzQnlGaWxlUGF0aCh0aGlzLmFwcCwgZmlsZVBhdGgpXG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vIGFjdGl2ZSBjYW52YXMnKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGVzLmdldChub2RlSWQpXG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdOb2RlIG5vdCBmb3VuZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGUuY29sb3IgPSBjb2xvclxuICAgICAgICAgICAgY2FudmFzLm5vZGVzLnNldChub2RlSWQsIG5vZGUpXG4gICAgICAgICAgICBhd2FpdCBjYW52YXMucmVxdWVzdFNhdmUoKVxuICAgICAgICAgICAgYXdhaXQgY2FudmFzLnJlcXVlc3RGcmFtZSgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgaGFuZGxlU2hvd05vdGljZSh0aGlzLnNvY2tldCwgYXN5bmMgKGRhdGE6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgbmV3IE5vdGljZShkYXRhKVxuICAgICAgICB9KVxuXG4gICAgICAgIGhhbmRsZUFkZEFnZW50TWVzc2FnZSh0aGlzLnNvY2tldCwgYXN5bmMgKGZpbGVQYXRoLCB0aHJlYWRJZCwgbWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzQnlGaWxlUGF0aCh0aGlzLmFwcCwgZmlsZVBhdGgpXG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vIGFjdGl2ZSBjYW52YXMnKVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdjb252ZXJzYXRpb246YWRkLWFnZW50LW1lc3NhZ2UnLCB0aHJlYWRJZCwgbWVzc2FnZSlcbiAgICAgICAgfSlcblxuICAgICAgICBoYW5kbGVBZGRTdGVwKHRoaXMuc29ja2V0LCBhc3luYyAodGhyZWFkSWQsIHN0ZXApID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoJ2FkZC1zdGVwJywgdGhyZWFkSWQsIHN0ZXApXG4gICAgICAgIH0pXG5cbiAgICAgICAgaGFuZGxlVXBkYXRlTm9kZVRleHQodGhpcy5zb2NrZXQsIGFzeW5jIChmaWxlUGF0aCwgbm9kZUlkLCB0ZXh0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXNCeUZpbGVQYXRoKHRoaXMuYXBwLCBmaWxlUGF0aClcbiAgICAgICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gYWN0aXZlIGNhbnZhcycpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGVzLmdldChub2RlSWQpXG4gICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdOb2RlIG5vdCBmb3VuZCcpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLnNldFRleHQodGV4dClcbiAgICAgICAgfSlcblxuICAgICAgICBoYW5kbGVDcmVhdGVOb2RlKHRoaXMuc29ja2V0LCBhc3luYyAoZmlsZVBhdGgsIHNpemUsIHBhcmVudElkcywgdGV4dCwgY29sb3IsIGVkZ2UpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIGNhbnZhc1xuICAgICAgICAgICAgY29uc3QgY2FudmFzID0gZ2V0Q2FudmFzQnlGaWxlUGF0aCh0aGlzLmFwcCwgZmlsZVBhdGgpXG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vIGFjdGl2ZSBjYW52YXMnKVxuICAgICAgICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2l6ZS53aWR0aCA8IDUwMCkge1xuICAgICAgICAgICAgICAgIHNpemUud2lkdGggPSA1MDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzaXplLmhlaWdodCA8IDMwMCkge1xuICAgICAgICAgICAgICAgIHNpemUuaGVpZ2h0ID0gMzAwXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHBhcmVudE5vZGVzOiBDYW52YXNOb2RlW10gPSBbXVxuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJlbnRJZCBvZiBwYXJlbnRJZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlID0gY2FudmFzLm5vZGVzLmdldChwYXJlbnRJZClcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnUGFyZW50IG5vZGUgbm90IGZvdW5kJylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBhcmVudE5vZGVzLnB1c2gocGFyZW50Tm9kZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IGF3YWl0IGNyZWF0ZU5vZGUoY2FudmFzLCBwYXJlbnROb2RlcywgeyBzaXplLCB0ZXh0LCBjb2xvciB9LCB1bmRlZmluZWQsIGVkZ2UpXG4gICAgICAgICAgICByZXR1cm4gJ05ldyBub2RlIHdhcyBjcmVhdGVkIHdpdGggaWQ6ICcgKyBuZXdOb2RlLmlkXG4gICAgICAgIH0pXG5cbiAgICAgICAgaGFuZGxlRGVsZXRlTm9kZSh0aGlzLnNvY2tldCwgYXN5bmMgKGZpbGVQYXRoLCBub2RlSWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhc0J5RmlsZVBhdGgodGhpcy5hcHAsIGZpbGVQYXRoKVxuICAgICAgICAgICAgaWYgKCFjYW52YXMpIHtcbiAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgY2FudmFzJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KG5vZGVJZClcbiAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vZGUgbm90IGZvdW5kJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FudmFzLnJlbW92ZU5vZGUobm9kZSlcbiAgICAgICAgfSlcblxuICAgICAgICBoYW5kbGVTZXROb2RlU3RhdHVzKHRoaXMuc29ja2V0LCBhc3luYyAoZmlsZVBhdGgsIG5vZGVJZCwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBnZXRDYW52YXNCeUZpbGVQYXRoKHRoaXMuYXBwLCBmaWxlUGF0aClcbiAgICAgICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgbmV3IE5vdGljZSgnTm8gYWN0aXZlIGNhbnZhcycpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZXMuZ2V0KG5vZGVJZClcbiAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vZGUgbm90IGZvdW5kJylcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBET00gLSBtYW5hZ2Ugc3RhdHVzIGJhZGdlXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlRWwpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBzdGF0dXMgYmFkZ2UgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgICAgICAgICBsZXQgc3RhdHVzTGFiZWwgPSBub2RlLm5vZGVFbC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1zdGF0dXMtYmFkZ2U9XCJ0cnVlXCJdYCkgYXMgSFRNTEVsZW1lbnRcblxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNMYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNMYWJlbC50ZXh0Q29udGVudCA9IHN0YXR1c1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgc3RhdHVzIGJhZGdlXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwudGV4dENvbnRlbnQgPSBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgaW5saW5lIHN0eWxlcyBpbnN0ZWFkIG9mIENTUyBjbGFzc1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNMYWJlbC5zdHlsZS5oZWlnaHQgPSAnMjBweCdcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0xhYmVsLnN0eWxlLnRvcCA9ICctMTBweCdcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUucmlnaHQgPSAnMTBweCdcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUuekluZGV4ID0gJzEwJ1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNMYWJlbC5zdHlsZS5wYWRkaW5nID0gJzAgNXB4J1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNMYWJlbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLCAwLCAwLCAxKSdcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzVweCdcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUuZm9udFNpemUgPSAnMTJweCdcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0xhYmVsLnN0eWxlLmRpc3BsYXkgPSAnZmxleCdcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzTGFiZWwuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0xhYmVsLnN0eWxlLmNvbG9yID0gJ3doaXRlJ1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXNMYWJlbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3RhdHVzLWJhZGdlJywgJ3RydWUnKVxuICAgICAgICAgICAgICAgICAgICBub2RlLm5vZGVFbC5hcHBlbmRDaGlsZChzdGF0dXNMYWJlbClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufSJdLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzcsNDAsNDEsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsOTAsOTEsOTIsOTMsOTQsOTUsOTYsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTU1LDE1NywxNTldLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQU9BLFNBQVMs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LE9BQVEsTUFBTyxDQUNsQyxDQUFBLEVBS0YsT0FBUSxDQUFDLENBQ1AsT0FBUSxDQUFDLE9BQVEsR0FBSSxJQUFLLEdBQUksQ0FDOUIsQ0FBQSxFQUtGLGtCQUFtQixDQUFDLENBQ2xCLE9BQVEsQ0FBQyxPQUFRLFFBQVMsQ0FDMUIsQ0FBQSxFQUtGLFdBQVksQ0FBQyxDQUNYLFdBQVksR0FBeUIsQUFDckMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFdBQVksQ0FBQyxDQUNYLFdBQVksR0FBeUIsQUFDckMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLFlBQWEsQ0FBQyxDQUNaLFlBQWEsR0FBeUIsQUFDdEMsQ0FBQSxFQUtGLGFB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QUUsQUFBQyxFQUFFLENBQUNDLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBTSxDQUFDRCxFQUFFQyxJQUFJQSxFQUFFLE1BQU1ELEVBQUUsTUFBTyxDQUFDLEdBQUcsUUFBUSxJQUFLLG9CQUFtQkEsRUFBRSxDQUFDLElBQU1DLEVBQUUsQ0FBRSxFQUFLQyxFQUFFRixFQUFFLEtBQUtFLEdBQUdBLElBQUksS0FBSyxJQUFJLGlCQUFpQixDQUFDLElBQUlGLEVBQUUsRUFBRSxRQUFRLGFBQWEsQ0FBQyxFQUFFLEdBQUdBLEdBQUcsSUFBSUUsRUFBRSxHQUFHQSxFQUFFLGtCQUE0QkEsRUFBRSxXQUFuQixXQUErQkYsR0FBRyxJQUFJLEVBQUUsVUFBVSxNQUFNLENBQUMsTUFBTSxNQUFNLENBQUMsS0FBSyxJQUFJLEVBQUUsRUFBRSxRQUFRQSxFQUFFLENBQUNFLEVBQUVBLEVBQUUsYUFBYyxPQUFPLEdBQUUsS0FBSyxNQUFNLEFBQUMsa0JBQWlCRixFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxrQkFBa0JBLEVBQUUsQUFBQyx1QkFBc0JBLEVBQUUsQ0FBQyxJQUFNQyxFQUFFLEVBQUUsaUJBQWlCLHFDQUFxQyxDQUFDQyxFQUFFLENBQUUsRUFBQyxFQUFFLFFBQVMsR0FBRyxDQUFDLElBQUlELEVBQUVELEVBQUUsYUFBYSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEVBQUUsUUFBUSxpQ0FBaUMsR0FBRyxDQUFDLFFBQVEscUNBQXFDLEtBQUssQ0FBQyxRQUFRLHlDQUF5QyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQU1BLEVBQUUsS0FBSyxNQUFNQyxFQUFFLENBQUMsRUFBRSxXQUFXLE1BQU0sUUFBUUQsRUFBRSxVQUFVLENBQUMsRUFBRSxLQUFLLEdBQUdBLEVBQUUsVUFBVSxDQUFDLEVBQUUsS0FBS0EsRUFBRSxBQUFDLE9BQU1BLEVBQUUsQ0FBQyxRQUFRLE1BQU0sMkNBQTJDQSxFQUFFLENBQUMsS0FBSyxPQUFPLFFBQVEsTUFBTSxzQ0FBc0NDLEVBQUUsQUFBQyxDQUFDLEVBQUUsQ0FBQyxJQUFN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QUFFLE9BQU8sSUFBSSxFQUFFLFdBQVcsVUFBVSxFQUFFLEVBQUUsV0FBVyxXQUFXLElBQUssRUFBRSxLQUFLQSxFQUFFLEdBQUksRUFBRSxNQUFNLFFBQVEsR0FBRyxFQUFFLEtBQUtBLEVBQUUsQUFBRyxVQUFTLEVBQUVGLEVBQUVDLEVBQUUsQ0FBQyxJQUFNQyxFQUFFLEVBQUUsUUFBUSxhQUFhLENBQUMsR0FBV0EsSUFBUixNQUFVLE1BQU8sSUFBRUYsRUFBRUMsRUFBRSxDQUFDLEdBQWVDLElBQVosVUFBYyxDQUFDLElBQU1BLEVBQUUsRUFBRSxjQUFjLE1BQU0sQ0FBQyxPQUFPQSxFQUFFLEdBQUVBLEVBQUVELEVBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxBQUFDLFFBQWlCQyxJQUFYLFNBQWEsU0FBU0YsRUFBRUMsRUFBRSxDQUFDLElBQU1DLEVBQUUsRUFBRSxjQUFjLE1BQU0sQ0FBQ0MsRUFBRSxFQUFFLGFBQWEsU0FBUyxDQUFDLEdBQUcsRUFBRUEsRUFBRUQsRUFBRSxDQUFDLElBQU1FLEVBQUVKLEVBQUUsY0FBYyxHQUFHSSxFQUFFLENBQUMsSUFBTUosRUFBRSxFQUFFLGlCQUFpQixNQUFNLENBQUNDLEVBQUUsQ0FBRSxFQUFDLElBQUksSUFBSUMsRUFBRSxFQUFFQSxFQUFFRixFQUFFLE9BQU9FLElBQUksQ0FBQyxJQUFNQyxFQUFFSCxFQUFFRSxHQUFHRSxFQUFFLEVBQUUsYUFBYSxNQUFNLEVBQUUsR0FBRyxFQUFFQSxFQUFFLEVBQUUsRUFBRUEsRUFBRSxFQUFPQSxJQUFMLElBQVEsRUFBRSxLQUFLRCxFQUFFLEFBQUMsSUFBR0YsRUFBRSxPQUFPLE1BQU0sRUFBRUEsRUFBRSxHQUFHQyxFQUFFLENBQUMsTUFBTSxRQUFTLEVBQUMsRUFBRSxFQUFFLGFBQWEsTUFBTSxHQUFHLEVBQUUsRUFBRSxhQUFhLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFNRixFQUFFLEVBQUUsR0FBRyxhQUFhLE1BQU0sQ0FBQyxHQUFHLEVBQUVBLEVBQUUsRUFBRSxFQUFFLGFBQWEsTUFBTUEsRUFBRSxBQUFDLE1BQUssQ0FBQyxJQUFNQSxFQUFFLEVBQUUsY0FBYyxnQkFBZ0IsQ0FBQyxHQUFHQSxJQUFJLEVBQUVBLEVBQUVFLEVBQUUsQ0FBQyxNQUFNLFFBQVMsRUFBQyxFQUFFLEVBQUUsYUFBYSxNQUFNLEdBQUcsRUFBRSxFQUFFLGFBQWEsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQU1ELEVBQUUsRUFBRSxhQUFhLFdBQVcsQ0FBQyxHQUFHLEVBQUVBLEVBQUUsRUFBRSxFQUFFLGFBQWEsTUFBTUEsRUFBRSxBQUFDLENBQUMsQ0FBQyxRQUFPQyxDQUFFLEVBQUNGLEVBQUVDLEVBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxBQUFDLFVBQVMsR0FBRUQsRUFBRUMsRUFBRSxDQUFDLElBQU1DLEVBQUUsRUFBRSxhQUFhLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRUEsRUFBRSxFQUFFLEVBQUVBLEVBQUUsQ0FBQyxDQUFDLElBQU1BLEVBQUVGLEVBQUUsY0FBYyxHQUFHRSxFQUFFLENBQUMsSUFBTUMsRUFBRSxFQUFFLGlCQUFpQixTQUFTLENBQUNDLEVBQUUsQ0FBRSxFQUFDLElBQUksSUFBSUosRUFBRSxFQUFFQSxFQUFFRyxFQUFFLE9BQU9ILElBQUksQ0FBQyxJQUFNQyxFQUFFRSxFQUFFSCxHQUFHLEVBQUUsYUFBYSxjQUFjLEVBQU8sRUFBRSxhQUFhLGNBQWMsR0FBbEMsSUFBb0MsRUFBRSxLQUFLQyxFQUFFLEFBQUMsSUFBR0csRUFBRSxPQUFPLEVBQUUsQ0FBQyxJQUFNRixFQUFFLEVBQUUsY0FBYyxNQUFNLENBQUNDLEVBQUUsRUFBRSxhQUFhLFdBQVcsQ0FBQyxPQUFPQSxJQUFJLEVBQUVBLEVBQUUsRUFBRSxFQUFFLGFBQWEsTUFBTUEsRUFBRSxDQUFDLEVBQUVILEVBQUVFLEVBQUUsQ0FBQyxLQUFNLEVBQUMsQ0FBQ0EsQ0FBRSxDQUFDLENBQUMsT0FBTyxHQUFFLFdBQVcsRUFBRSxBQUFDLFVBQVMsR0FBRUYsRUFBRSxDQUFDLElBQU1DLEVBQUUsRUFBRSxNQUFNLElBQUksQ0FBQyxHQUFPQSxFQUFFLFNBQU4sRUFBYSxPQUFPLEtBQUssSUFBTUMsRUFBRSxFQUFFLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUdBLEdBQUdBLEVBQUUsR0FBRyxDQUFDLElBQU1GLEVBQUVFLEVBQUUsR0FBRyxHQUFHLEVBQUVGLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSUEsRUFBRSxFQUFFQSxFQUFFQyxFQUFFLE9BQU9ELElBQUksQ0FBQyxJQUFNRSxFQUFFLEVBQUVGLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUdFLEdBQUdBLEVBQUUsS0FBSyxFQUFFQSxFQUFFLEdBQUcsQ0FBQyxPQUFPQSxFQUFFLEVBQUcsUUFBTyxJQUFLLFFBQU9GLENBQUUsUUFBTyxJQUFLLFVBQVMsRUFBRUEsRUFBRSxDQUFDLEdBQU9BLEVBQUUsU0FBTixFQUFhLE9BQU8sS0FBSyxHQUFPQSxFQUFFLFNBQU4sRUFBYSxPQUFPQSxFQUFFLEdBQUcsSUFBSSxJQUFJQyxFQUFFLEVBQUVBLEVBQUVELEVBQUUsT0FBT0MsSUFBSSxJQUFJLEVBQUVBLEdBQUcsYUFBYSxRQUFRLENBQUMsT0FBT0QsRUFBRUMsR0FBRyxJQUFJQSxFQUFFLEtBQUtDLEVBQUUsRUFBRSxJQUFJLElBQUlDLEVBQUUsRUFBRUEsRUFBRUgsRUFBRSxPQUFPRyxJQUFJLENBQUMsSUFBTUMsRUFBRUosRUFBRUcsR0FBR0UsRUFBRSxFQUFFLGFBQWEsU0FBUyxDQUFDLElBQUlBLEVBQUUsU0FBUyxJQUFNRyxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUNDLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxHQUFHRCxHQUFHQSxFQUFFLEdBQUcsQ0FBQyxJQUFNUixFQUFFLFNBQVNRLEVBQUUsR0FBRyxHQUFHLEVBQUVDLEVBQUUsV0FBV0EsRUFBRSxHQUFHLENBQUMsR0FBRyxFQUFFUCxJQUFJQSxFQUFFRixFQUFFQyxFQUFFRyxFQUFHLENBQUMsUUFBT0gsR0FBR0QsRUFBRSxFQUFHLEdBQUUsV0FBVyxDQUFDLENBQUMsU0FBUyxVQUFVLFFBQVEsVUFBVSxVQUFVLENBQUNBLEVBQUVDLElBQUksQ0FBQyxJQUFNQyxFQUFFLEVBQUUsaUJBQWlCLFNBQVMsQ0FBQ0MsRUFBRSxFQUFFLGNBQWMsTUFBTSxDQUFDLElBQUlBLEVBQUUsQ0FBQyxRQUFRLEtBQUssd0NBQXdDSCxFQUFFLFVBQVUsQ0FBQyxJQUFNRyxFQUFFLEVBQUVELEVBQUUsQ0FBQyxHQUFHQyxFQUFFLENBQUMsSUFBTUQsRUFBRSxFQUFFLGFBQWEsU0FBUyxDQUFDLEdBQUdBLEVBQUUsQ0FBQyxJQUFNQyxFQUFFLEVBQUUsY0FBYyxNQUFNLENBQUMsTUFBTyxHQUFFRCxFQUFFQyxFQUFFLENBQUNILEVBQUUsVUFBVSxHQUFHLEVBQUUsWUFBWUcsRUFBRSxDQUFDSCxDQUFFLENBQUMsUUFBT0EsQ0FBRSxLQUFJSSxFQUFFLEtBQUtDLEVBQUUsS0FBSyxHQUFHSCxFQUFFLE9BQU8sRUFBRSxDQUFDLElBQU1GLEVBQUUsRUFBRUUsRUFBRSxDQUFDLElBQUlFLEVBQUUsRUFBRSxhQUFhLFNBQVMsQ0FBQ0EsSUFBSUMsRUFBRSxHQUFFRCxFQUFFLEVBQUcsSUFBR0EsR0FBRyxFQUFFLGFBQWEsU0FBU0EsRUFBRSxDQUFDQyxHQUFHLEVBQUVBLEVBQUUsQ0FBQyxFQUFFLGFBQWEsTUFBTUEsRUFBRSxVQUFVLEVBQUUsYUFBYSxNQUFNLEdBQUcsRUFBRSxFQUFFLGFBQWEsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQU1MLEVBQUUsR0FBRSxFQUFFLGFBQWEsU0FBUyxFQUFFSSxHQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUVKLEVBQUUsRUFBRSxFQUFFLGFBQWEsTUFBTUEsRUFBRSxBQUFDLE9BQU8sR0FBRSxRQUFTLEdBQUcsRUFBRSxRQUFRLENBQUUsQ0FBQ0EsQ0FBRSxDQUFDLEVBQUMsQ0FBQyxTQUFTLHVCQUF1QixRQUFRLFNBQVMsVUFBVSxDQUFDQSxFQUFFQyxJQUFJLENBQUMsSUFBSUMsRUFBRSxJQUFNQyxFQUFFLEVBQUUsY0FBYyxTQUFTLENBQUNDLEVB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QUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxRQUFRSyxFQUFFLENBQUMsRUFBRSxXQUFXLENBQUMsSUFBTUcsR0FBcUJMLEVBQUUsQ0FBQyxFQUFFLEVBQUUsa0JBQWtCSCxFQUFFLEdBQXVCLFVBQXJFLFFBQThFUyxFQUFFRCxFQUFFLHVEQUF1RCxrREFBa0RFLEVBQUVGLEVBQUUsdURBQXVELGtEQUFrRCxLQUFLUixFQUFFLFlBQVksQ0FBQyxFQUFFLEVBQUUsWUFBWUEsRUFBRSxXQUFXLEVBQUUsQ0FBQ0EsRUFBRSxXQUFXLGFBQWEsSUFBSSxNQUFNUyxFQUFFLEVBQUUsRUFBRSxZQUFZVCxFQUFFLFdBQVcsQ0FBQ0UsSUFBSSxLQUFLRixFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQUUsWUFBWUEsRUFBRSxVQUFVLEVBQUUsQ0FBQ0EsRUFBRSxVQUFVLGFBQWEsSUFBSSxNQUFNVSxFQUFFLEVBQUUsRUFBRSxZQUFZVixFQUFFLFVBQVUsQ0FBQ0UsSUFBSSxJQUFJTSxFQUFFLENBQUMsSUFBTU4sRUFBRSxNQUFNLEtBQUtGLEVBQUUsV0FBVyxDQUFDLElBQUksSUFBSUcsRUFBRSxFQUFFQSxFQUFFRCxFQUFFLE9BQU8sRUFBRUMsSUFBSSxDQUFDLElBQU1DLEVBQUVGLEVBQUVDLEdBQUdFLEVBQUVILEVBQUVDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBRSxFQUFFLFdBQVdDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxXQUFXQyxFQUFFLENBQUMsQ0FBQyxJQUFNSCxFQUFFRyxFQUFFLGFBQWEsR0FBR0YsRUFBRUMsRUFBRSxhQUFhLEdBQUdJLEVBQUUsRUFBRSxNQUFNLGVBQWUsQ0FBQ0MsRUFBRSxFQUFFLE1BQU0sa0JBQWtCLENBQUNDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsWUFBWU4sRUFBRSxFQUFFLENBQUNBLEVBQUUsYUFBYSxJQUFJLFNBQVMsSUFBSSxFQUFFLENBQUMsRUFBRSxFQUFFLFlBQVlDLEVBQUUsRUFBRSxDQUFDQSxFQUFFLGFBQWEsSUFBSSxXQUFXLElBQUksQ0FBQyxJQUFJRyxJQUFJ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LENBQUMsSUFBTWIsRUFBRSxNQUFNLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFNLENBQUNELEVBQUVDLElBQUksQ0FBQyxJQUFNQyxFQUFFLEdBQUcsQ0FBQyxJQUFJRCxFQUFFLEVBQUVDLEVBQUVGLEVBQUUsY0FBYyxLQUFLRSxHQUFHLENBQUMsSUFBTUYsRUFBRSxFQUFFLFFBQVEsYUFBYSxDQUFDLEVBQUUsZUFBZSxTQUFTQSxFQUFFLEVBQUVDLElBQUlDLEVBQUVBLEVBQUUsYUFBYyxRQUFPRCxDQUFFLEVBQUMsTUFBTyxHQUFFQSxFQUFFLENBQUMsRUFBRUQsRUFBRSxBQUFDLEVBQUUsQ0FBS0UsR0FBRyxFQUFFLE1BQU8sR0FBRSxRQUFTLEdBQUcsQ0FBQyxFQUFFRixFQUFFLEdBQUdFLEdBQUcsRUFBRyxFQUFFLENBQUNBLENBQUUsRUFBQ0ksRUFBRSxJQUFJLENBQUMsSUFBTUYsRUFBRSxNQUFNLEtBQUssRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBS0MsR0FBRyxFQUFFLE1BQU8sR0FBRSxRQUFTLEdBQUcsQ0FBQyxJQUFNRixFQUFFLE1BQU0sS0FBS0gsRUFBRSxTQUFTLENBQUMsR0FBR0csRUFBRSxPQUFPLEdBQUcsRUFBRSxNQUFPLEdBQVMsRUFBRSxRQUFRLGFBQWEsR0FBN0IsSUFBK0IsR0FBRyxFQUFFSCxFQUFFLEVBQUUsRUFBRUEsRUFBRSxDQUFDLENBQUMsSUFBTUcsRUFBRSxFQUFFLHdCQUF3QixDQUFDLEtBQUtILEVBQUUsWUFBWSxFQUFFLFlBQVlBLEVBQUUsV0FBVyxDQUFDLEVBQUUsWUFBWUcsRUFBRSxDQUFDRCxJQUFJRyxHQUFHLENBQUUsQ0FBQyxFQUFFLENBQUNBLENBQUUsRUFBQyxFQUFHLElBQUcsRUFBRSxHQUFHLEdBQUdBLEdBQUcsR0FBRyxHQUFHLEdBQUdBLEdBQUcsR0FBRyxHQUFHLEdBQUdBLEdBQUcsU0FBU0EsR0FBRyxJQUFNRSxFQUFFLEtBQUssS0FBSyxD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LEVBQUUsSUFBSUcsRUFBRSxHQUFJSCxFQUFFLEtBQUtBLEVBQUUsSUFBSUcsRUFBRSxDQUFHLFFBQU8scUJBQXFCUixFQUFFLENBQUMsR0FBRyxFQUFFLGNBQWNHLEVBQUUsd0JBQXdCLENBQUMsTUFBTyxHQUFFLElBQUlGLEVBQUUsRUFBUUMsRUFBRUYsRUFBRSxhQUFhLEdBQUdJLEVBQUUsRUFBRSxNQUFNLE1BQU0sQ0FBQyxPQUFPLEdBQUdBLEVBQUUsRUFBRSxNQUFPLEdBQUUsSUFBSSxJQUFNSixLQUFLLEVBQUUsRUFBRSxhQUFhLENBQUMsU0FBU0EsRUFBRSxHQUFHQyxHQUFHLElBQUksSUFBTVEsRUFBRSxFQUFFLHFCQUFxQixJQUFJLENBQUMsT0FBTyxHQUFHTCxHQUFHLEdBQUcsS0FBS0gsR0FBRyxJQUFJLElBQU0sRUFBRSxFQUFFLHFCQUFxQixLQUFLLENBQUMsT0FBTyxFQUFFLHFCQUFxQixLQUFLLENBQUMsT0FBTyxFQUFFLEdBQUdRLEVBQUUsRUFBRSxJQUFJUixHQUFHLElBQUksSUFBTSxFQUFFLEVBQUUsVUFBVSxhQUFhLENBQUMsRUFBRSxFQUFFLEdBQUcsYUFBYSxDQUFDLElBQUksSUFBTUQsS0FBSyxFQUFFLENBQUMsRUFBRSxTQUFTQSxFQUFFLEVBQUUsRUFBRSxTQUFTQSxFQUFFLElBQUlDLEdBQUcsR0FBRyxPQUFPQSxDQUFFLENBQUMsR0FBRSxjQUFjLENBQUUsQ0FBQyxFQUFDLEVBQUUsQ0FBRSxFQUFDLFNBQVNDLEVBQUVDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsRUFBRUEsR0FBRyxHQUFZLFFBQUosR0FBTSxPQUFPLEVBQUUsUUFBUSxJQUFJLEVBQUUsRUFBRUEsR0FBRyxDQUFDLFFBQVEsQ0FBRSxDQUFDLEVBQUMsTUFBTyxHQUFFQSxHQUFHLEVBQUUsRUFBRSxRQUFRRCxFQUFFLENBQUMsRUFBRSxPQUFRLEtBQUksRUFBRSxDQUFFLEVBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJRixFQUFFLEVBQUUsSUFBTUMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUFFLFFB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